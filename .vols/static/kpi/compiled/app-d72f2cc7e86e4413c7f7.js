!function(e){function t(t){for(var r,i,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t);p.length;)p.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],r=!0,l=1;l<o.length;l++){var s=o[l];0!==n[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=o[0]))}return e}var r={},n={1:0},a=[];function i(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=r,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/compiled/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;a.push([478,0]),o()}([,function(e,t,o){"use strict";o.d(t,"b",(function(){return g}));var r=o(0),n=o.n(r),a=o(33),i=o.n(a);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,o){return t&&c(e.prototype,t),o&&c(e,o),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=_(e);if(t){var n=_(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return f(this,o)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h={},b=h;function g(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"div",r=function(r){u(l,r);var a=m(l);function l(e){return s(this,l),a.call(this,e)}return d(l,[{key:"render",value:function(){var r=[];"string"==typeof this.props.className?r.push(this.props.className):Array.isArray(this.props.className)&&r.push(this.props.className.join(" "));var a=e?"".concat(e.blockName,"__").concat(t):t;r.push(a);var l=i()(this.props.m);""!==l&&l.split(" ").forEach((function(e){r.push("".concat(a,"--").concat(e))}));var s={className:r.join(" ")};return Object.entries(this.props).forEach((function(e){"m"!==e[0]&&"className"!==e[0]&&(s[e[0]]=e[1])})),n.a.createElement(o,s)}}]),l}(n.a.Component);return r.blockName=e?e.blockName:t,r}t.a=b;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(h,"bem","/srv/src/kpi/jsapp/js/bem.ts"),__REACT_HOT_LOADER__.register(g,"makeBem","/srv/src/kpi/jsapp/js/bem.ts"),__REACT_HOT_LOADER__.register(b,"default","/srv/src/kpi/jsapp/js/bem.ts"))},function(e,o,r){"use strict";function n(e){var t={};return new Set(e).forEach((function(e){t[e]=e})),Object.freeze(t)}r.r(o),r.d(o,"createEnum",(function(){return n})),r.d(o,"ROOT_URL",(function(){return s})),r.d(o,"ANON_USERNAME",(function(){return c})),r.d(o,"PERMISSIONS_CODENAMES",(function(){return d})),r.d(o,"ENKETO_ACTIONS",(function(){return u})),r.d(o,"HOOK_LOG_STATUSES",(function(){return p})),r.d(o,"KEY_CODES",(function(){return m})),r.d(o,"MODAL_TYPES",(function(){return f})),r.d(o,"PROJECT_SETTINGS_CONTEXTS",(function(){return _})),r.d(o,"update_states",(function(){return h})),r.d(o,"AVAILABLE_FORM_STYLES",(function(){return b})),r.d(o,"VALIDATION_STATUSES",(function(){return g})),r.d(o,"VALIDATION_STATUSES_LIST",(function(){return y})),r.d(o,"AssetTypeName",(function(){return l})),r.d(o,"ASSET_TYPES",(function(){return k})),r.d(o,"ASSET_FILE_TYPES",(function(){return w})),r.d(o,"QuestionTypeName",(function(){return v})),r.d(o,"QUESTION_TYPES",(function(){return E})),r.d(o,"MetaQuestionTypeName",(function(){return x})),r.d(o,"META_QUESTION_TYPES",(function(){return O})),r.d(o,"ADDITIONAL_SUBMISSION_PROPS",(function(){return T})),r.d(o,"NAME_MAX_LENGTH",(function(){return R})),r.d(o,"COMMON_QUERIES",(function(){return A})),r.d(o,"ACCESS_TYPES",(function(){return C})),r.d(o,"GroupTypeBeginName",(function(){return S})),r.d(o,"GROUP_TYPES_BEGIN",(function(){return P})),r.d(o,"GroupTypeEndName",(function(){return j})),r.d(o,"GROUP_TYPES_END",(function(){return D})),r.d(o,"MiscRowTypeName",(function(){return L})),r.d(o,"SCORE_ROW_TYPE",(function(){return N})),r.d(o,"RANK_LEVEL_TYPE",(function(){return M})),r.d(o,"ANY_ROW_TYPE_NAMES",(function(){return I})),r.d(o,"CHOICE_LISTS",(function(){return F})),r.d(o,"MATRIX_PAIR_PROPS",(function(){return U})),r.d(o,"DEPLOYMENT_CATEGORIES",(function(){return H})),r.d(o,"QUERY_LIMIT_DEFAULT",(function(){return B})),r.d(o,"MAX_DISPLAYED_STRING_LENGTH",(function(){return V})),r.d(o,"COLLECTION_METHODS",(function(){return z})),r.d(o,"SURVEY_DETAIL_ATTRIBUTES",(function(){return q})),r.d(o,"FUNCTION_TYPE",(function(){return Y})),r.d(o,"FUSE_OPTIONS",(function(){return G}));var a,i,l,s=(a=document.head.querySelector("meta[name=kpi-root-path]"),i="",null===a?(console.error('no kpi-root-path meta tag set. defaulting to ""'),i=""):i=a.content.replace(/\/*$/,""),"".concat(window.location.protocol,"//").concat(window.location.host).concat(i)),c="AnonymousUser",d=n(["view_asset","change_asset","discover_asset","manage_asset","add_submissions","view_submissions","partial_submissions","change_submissions","delete_submissions","validate_submissions"]),u=n(["edit","view"]),p={SUCCESS:2,PENDING:1,FAILED:0},m=Object.freeze({TAB:9,ENTER:13,ESC:27,SPACE:32,NBSP:160}),f={SHARING:"sharing",UPLOADING_XLS:"uploading-xls",NEW_FORM:"new-form",LIBRARY_NEW_ITEM:"library-new-item",LIBRARY_TEMPLATE:"library-template",LIBRARY_COLLECTION:"library-collection",LIBRARY_UPLOAD:"library-upload",ENKETO_PREVIEW:"enketo-preview",SUBMISSION:"submission",REPLACE_PROJECT:"replace-project",TABLE_SETTINGS:"table-settings",REST_SERVICES:"rest-services",FORM_LANGUAGES:"form-languages",FORM_TRANSLATIONS_TABLE:"form-translation-table",ASSET_TAGS:"asset-tags",ENCRYPT_FORM:"encrypt-form",BULK_EDIT_SUBMISSIONS:"bulk-edit-submissions",TABLE_MEDIA_PREVIEW:"table-media-preview",DATA_ATTACHMENT_COLUMNS:"data-attachment-columns"},_=Object.freeze({NEW:"newForm",EXISTING:"existingForm",REPLACE:"replaceProject",BUILDER:"formBuilderAside"}),h={UNSAVED_CHANGES:-1,UP_TO_DATE:!0,PENDING_UPDATE:!1,SAVE_FAILED:"SAVE_FAILED"},b=[{value:"",label:t("Default - single page")},{value:"theme-grid no-text-transform",label:t("Grid theme")},{value:"theme-grid",label:t("Grid theme with headings in ALL CAPS")},{value:"pages",label:t("Multiple pages")},{value:"theme-grid pages no-text-transform",label:t("Grid theme + Multiple pages")},{value:"theme-grid pages",label:t("Grid theme + Multiple pages + headings in ALL CAPS")}],g={no_status:{value:null,label:"â€”"},validation_status_not_approved:{value:"validation_status_not_approved",label:t("Not approved")},validation_status_approved:{value:"validation_status_approved",label:t("Approved")},validation_status_on_hold:{value:"validation_status_on_hold",label:t("On hold")}},y=[g.no_status,g.validation_status_not_approved,g.validation_status_approved,g.validation_status_on_hold];!function(e){e.question="question",e.block="block",e.template="template",e.survey="survey",e.collection="collection"}(l||(l={}));var v,k={question:{id:l.question,label:t("question")},block:{id:l.block,label:t("block")},template:{id:l.template,label:t("template")},survey:{id:l.survey,label:t("project")},collection:{id:l.collection,label:t("collection")}},w={map_layer:{id:"map_layer",label:t("map layer")},form_media:{id:"form_media",label:t("form media")}};!function(e){e.acknowledge="acknowledge",e.audio="audio",e.barcode="barcode",e.calculate="calculate",e.date="date",e.datetime="datetime",e.decimal="decimal",e["xml-external"]="xml-external",e.file="file",e.geopoint="geopoint",e.geoshape="geoshape",e.geotrace="geotrace",e.hidden="hidden",e.image="image",e.integer="integer",e.kobomatrix="kobomatrix",e.note="note",e.range="range",e.rank="rank",e.score="score",e.select_multiple="select_multiple",e.select_one="select_one",e.text="text",e.time="time",e.video="video"}(v||(v={}));var x,E=Object.freeze({acknowledge:{label:t("Acknowledge"),icon:"qt-acknowledge",id:v.acknowledge},audio:{label:t("Audio"),icon:"qt-audio",id:v.audio},barcode:{label:t("Barcode / QR Code"),icon:"qt-barcode",id:v.barcode},calculate:{label:t("Calculate"),icon:"qt-calculate",id:v.calculate},date:{label:t("Date"),icon:"qt-date",id:v.date},datetime:{label:t("Date & time"),icon:"qt-date-time",id:v.datetime},decimal:{label:t("Decimal"),icon:"qt-decimal",id:v.decimal},"xml-external":{label:t("External XML"),icon:"qt-external-xml",id:v["xml-external"]},file:{label:t("File"),icon:"qt-file",id:v.file},geopoint:{label:t("Point"),icon:"qt-point",id:v.geopoint},geoshape:{label:t("Area"),icon:"qt-area",id:v.geoshape},geotrace:{label:t("Line"),icon:"qt-line",id:v.geotrace},hidden:{label:t("Hidden"),icon:"qt-hidden",id:v.hidden},image:{label:t("Photo"),icon:"qt-photo",id:v.image},integer:{label:t("Number"),icon:"qt-number",id:v.integer},kobomatrix:{label:t("Question Matrix"),icon:"qt-question-matrix",id:v.kobomatrix},note:{label:t("Note"),icon:"qt-note",id:v.note},range:{label:t("Range"),icon:"qt-range",id:v.range},rank:{label:t("Ranking"),icon:"qt-ranking",id:v.rank},score:{label:t("Rating"),icon:"qt-rating",id:v.score},select_multiple:{label:t("Select Many"),icon:"qt-select-many",id:v.select_multiple},select_one:{label:t("Select One"),icon:"qt-select-one",id:v.select_one},text:{label:t("Text"),icon:"qt-text",id:v.text},time:{label:t("Time"),icon:"qt-time",id:v.time},video:{label:t("Video"),icon:"qt-video",id:v.video}});!function(e){e.start="start",e.end="end",e.today="today",e.username="username",e.simserial="simserial",e.subscriberid="subscriberid",e.deviceid="deviceid",e.phonenumber="phonenumber",e.audit="audit",e["background-audio"]="background-audio"}(x||(x={}));var S,O=n([x.start,x.end,x.today,x.username,x.simserial,x.subscriberid,x.deviceid,x.phonenumber,x.audit,x["background-audio"]]),T=n(["_id","_uuid","_submission_time","_validation_status","_notes","_status","_submitted_by","_tags","_index"]),R=255,A=Object.freeze({b:"asset_type:block",q:"asset_type:question",t:"asset_type:template",s:"asset_type:survey",c:"asset_type:collection",qb:"(asset_type:question OR asset_type:block)",qbt:"(asset_type:question OR asset_type:block OR asset_type:template)",qbtc:"(asset_type:question OR asset_type:block OR asset_type:template OR asset_type:collection)"}),C=n(["owned","shared","public","subscribed","superuser"]);!function(e){e.begin_group="begin_group",e.begin_score="begin_score",e.begin_rank="begin_rank",e.begin_kobomatrix="begin_kobomatrix",e.begin_repeat="begin_repeat"}(S||(S={}));var j,P=n([S.begin_group,S.begin_score,S.begin_rank,S.begin_kobomatrix,S.begin_repeat]);!function(e){e.end_group="end_group",e.end_score="end_score",e.end_rank="end_rank",e.end_kobomatrix="end_kobomatrix",e.end_repeat="end_repeat"}(j||(j={}));var L,D=n(["end_group","end_score","end_rank","end_kobomatrix","end_repeat"]);!function(e){e.score__row="score__row",e.rank__level="rank__level"}(L||(L={}));var N=L.score__row,M=L.rank__level,I=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},v),x),S),j),L),F=Object.freeze({SELECT:"select_from_list_name",MATRIX:"kobo--matrix_list",SCORE:"kobo--score-choices",RANK:"kobo--rank-items"}),U={inSurvey:F.MATRIX,inChoices:"list_name"},H=Object.freeze({Deployed:{id:"Deployed",label:t("Deployed")},Draft:{id:"Draft",label:t("Draft")},Archived:{id:"Archived",label:t("Archived")}}),B=5e3,V=Object.freeze({form_media:50,connect_projects:30}),z=Object.freeze({offline_url:{id:"offline_url",label:t("Online-Offline (multiple submission)"),desc:t("This allows online and offline submissions and is the best option for collecting data in the field.")},url:{id:"url",label:t("Online-Only (multiple submissions)"),desc:t("This is the best option when entering many records at once on a computer, e.g. for transcribing paper records.")},single_url:{id:"single_url",label:t("Online-Only (single submission)"),desc:t('This allows a single submission, and can be paired with the "return_url" parameter to redirect the user to a URL of your choice after the form has been submitted.')},single_once_url:{id:"single_once_url",label:t("Online-only (once per respondent)"),desc:t("This allows your web form to only be submitted once per user, using basic protection to prevent the same user (on the same browser & device) from submitting more than once.")},iframe_url:{id:"iframe_url",label:t("Embeddable web form code"),desc:t("Use this html5 code snippet to integrate your form on your own website using smaller margins.")},preview_url:{id:"preview_url",label:t("View only"),desc:t("Use this version for testing, getting feedback. Does not allow submitting data.")},android:{id:"android",label:t("Android application"),desc:t("Use this option to collect data in the field with your Android device."),url:"https://play.google.com/store/apps/details?id=org.koboc.collect.android&hl=en"}}),q=Object.freeze({value:{id:"value"},parameters:{id:"parameters"}}),Y=Object.freeze({function:{id:"function"}}),G={isCaseSensitive:!1,includeScore:!0,minMatchCharLength:1,shouldSort:!1,ignoreFieldNorm:!0,threshold:.2,ignoreLocation:!0},$={ROOT_URL:s,ANON_USERNAME:c,PERMISSIONS_CODENAMES:d,HOOK_LOG_STATUSES:p,KEY_CODES:m,MODAL_TYPES:f,PROJECT_SETTINGS_CONTEXTS:_,update_states:h,AVAILABLE_FORM_STYLES:b,VALIDATION_STATUSES:g,VALIDATION_STATUSES_LIST:y,ASSET_TYPES:k,ASSET_FILE_TYPES:w,QUESTION_TYPES:E,META_QUESTION_TYPES:O,ADDITIONAL_SUBMISSION_PROPS:T,NAME_MAX_LENGTH:R,COMMON_QUERIES:A,ACCESS_TYPES:C,GROUP_TYPES_BEGIN:P,GROUP_TYPES_END:D,SCORE_ROW_TYPE:N,RANK_LEVEL_TYPE:M,DEPLOYMENT_CATEGORIES:H,QUERY_LIMIT_DEFAULT:B,CHOICE_LISTS:F,MAX_DISPLAYED_STRING_LENGTH:V,SURVEY_DETAIL_ATTRIBUTES:q,FUNCTION_TYPE:Y},Q=$;o.default=Q;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"createEnum","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(s,"ROOT_URL","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(c,"ANON_USERNAME","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(d,"PERMISSIONS_CODENAMES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(u,"ENKETO_ACTIONS","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(p,"HOOK_LOG_STATUSES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(m,"KEY_CODES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(f,"MODAL_TYPES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(_,"PROJECT_SETTINGS_CONTEXTS","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(h,"update_states","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(b,"AVAILABLE_FORM_STYLES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(g,"VALIDATION_STATUSES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(y,"VALIDATION_STATUSES_LIST","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(l,"AssetTypeName","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(k,"ASSET_TYPES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(w,"ASSET_FILE_TYPES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(v,"QuestionTypeName","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(E,"QUESTION_TYPES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(x,"MetaQuestionTypeName","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(O,"META_QUESTION_TYPES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(T,"ADDITIONAL_SUBMISSION_PROPS","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(R,"NAME_MAX_LENGTH","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(A,"COMMON_QUERIES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(C,"ACCESS_TYPES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(S,"GroupTypeBeginName","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(P,"GROUP_TYPES_BEGIN","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(j,"GroupTypeEndName","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(D,"GROUP_TYPES_END","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(L,"MiscRowTypeName","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(N,"SCORE_ROW_TYPE","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(M,"RANK_LEVEL_TYPE","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(I,"ANY_ROW_TYPE_NAMES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(F,"CHOICE_LISTS","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(U,"MATRIX_PAIR_PROPS","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(H,"DEPLOYMENT_CATEGORIES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(B,"QUERY_LIMIT_DEFAULT","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(V,"MAX_DISPLAYED_STRING_LENGTH","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(z,"COLLECTION_METHODS","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(q,"SURVEY_DETAIL_ATTRIBUTES","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(Y,"FUNCTION_TYPE","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(G,"FUSE_OPTIONS","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register($,"constants","/srv/src/kpi/jsapp/js/constants.ts"),__REACT_HOT_LOADER__.register(Q,"default","/srv/src/kpi/jsapp/js/constants.ts"))},function(e,o,r){"use strict";r.d(o,"a",(function(){return N}));var n=r(14),a=r.n(n),i=r(8),l=r.n(i);function s(e,t){var o=e.utils;return{triggerPromise:function(){var e=this,r=arguments,n=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0,a=new t((function(t,a){if(e.willCallPromise)o.nextTick((function(){var o=e.promise;e.promise=function(r){return r.then(t,a),e.promise=o,e.promise.apply(e,arguments)},e.trigger.apply(e,r)}));else{if(n)var i=e.completed.listen((function(){var e=Array.prototype.slice.call(arguments);i(),l(),t(e.length>1?e:e[0])})),l=e.failed.listen((function(){var e=Array.prototype.slice.call(arguments);i(),l(),a(e.length>1?e:e[0])}));o.nextTick((function(){e.trigger.apply(e,r)})),n||t()}}));return a.catch((function(){})),a},promise:function(e){var t=this;if(!(this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0))throw new Error('Publisher must have "completed" and "failed" child publishers');e.then((function(e){return t.completed(e)}),(function(e){return t.failed(e)}))},listenAndPromise:function(e,t){var o=this;t=t||this,this.willCallPromise=(this.willCallPromise||0)+1;var r=this.listen((function(){if(!e)throw new Error("Expected a function returning a promise but got "+e);var r=arguments,n=e.apply(t,r);return o.promise.call(o,n)}),t);return function(){o.willCallPromise--,r.call(o)}}}}var c=function(e){return function(t){var o=s(t,e),r=o.triggerPromise,n=o.promise,a=o.listenAndPromise;t.PublisherMethods.triggerAsync=r,t.PublisherMethods.promise=n,t.PublisherMethods.listenAndPromise=a}},d=c,u=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"createFunctions","/srv/src/kpi/jsapp/js/libs/reflux-promise.js"),__REACT_HOT_LOADER__.register(c,"default","/srv/src/kpi/jsapp/js/libs/reflux-promise.js")),r(7)),p=r(4),m=r(2),f=r(24);l.a.use(d(window.Promise));var _=l.a.createActions({getConfig:{children:["completed","failed"]},getAssetPermissions:{children:["completed","failed"]},bulkSetAssetPermissions:{children:["completed","failed"]},assignAssetPermission:{children:["completed","failed"]},removeAssetPermission:{children:["completed","failed"]},setAssetPublic:{children:["completed","failed"]},copyPermissionsFrom:{children:["completed","failed"]}});_.getConfig.listen((function(){u.a.getPermissionsConfig().done(_.getConfig.completed).fail(_.getConfig.failed)})),_.getConfig.failed.listen((function(){Object(p.notify)("Failed to get permissions config!","error")})),_.getAssetPermissions.listen((function(e){u.a.getAssetPermissions(e).done(_.getAssetPermissions.completed).fail(_.getAssetPermissions.failed)})),_.bulkSetAssetPermissions.listen((function(e,t){u.a.bulkSetAssetPermissions(e,t).done((function(e){_.bulkSetAssetPermissions.completed(e)})).fail((function(){_.getAssetPermissions(e),_.bulkSetAssetPermissions.failed()}))})),_.assignAssetPermission.listen((function(e,t){u.a.assignAssetPermission(e,t).done((function(){_.getAssetPermissions(e),_.assignAssetPermission.completed(e)})).fail((function(){_.getAssetPermissions(e),_.assignAssetPermission.failed(e)}))})),_.removeAssetPermission.listen((function(e,t,o){u.a.removePermission(t).done((function(){o||_.getAssetPermissions(e),_.removeAssetPermission.completed(e,o)})).fail((function(){_.getAssetPermissions(e),_.removeAssetPermission.failed(e)}))})),_.setAssetPublic.listen((function(e,t){if(t){var o=e.permissions.filter((function(t){return t.user!==e.owner}));o.push({user:Object(p.buildUserUrl)(m.ANON_USERNAME),permission:f.a.getPermissionByCodename(m.PERMISSIONS_CODENAMES.view_asset).url}),o.push({user:Object(p.buildUserUrl)(m.ANON_USERNAME),permission:f.a.getPermissionByCodename(m.PERMISSIONS_CODENAMES.discover_asset).url}),u.a.bulkSetAssetPermissions(e.uid,o).done((function(){_.setAssetPublic.completed(e.uid,t)})).fail((function(){_.setAssetPublic.failed(e.uid,t)}))}else{var r=e.permissions.find((function(e){return e.user===Object(p.buildUserUrl)(m.ANON_USERNAME)&&e.permission===f.a.getPermissionByCodename(m.PERMISSIONS_CODENAMES.view_asset).url}));u.a.removePermission(r.url).done((function(){_.setAssetPublic.completed(e.uid,t)})).fail((function(){_.setAssetPublic.failed(e.uid,t)}))}})),_.copyPermissionsFrom.listen((function(e,t){u.a.copyPermissionsFrom(e,t).done((function(){_.getAssetPermissions(t),_.copyPermissionsFrom.completed(e,t)})).fail(_.copyPermissionsFrom.failed)}));"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(_,"permissionsActions","/srv/src/kpi/jsapp/js/actions/permissions.es6");var h=l.a.createActions({getInAppMessages:{children:["completed","failed"]},setMessageAcknowledged:{children:["completed","failed"]},setMessageReadTime:{children:["completed","failed"]}});h.getInAppMessages.listen((function(){u.a.getHelpInAppMessages().done(h.getInAppMessages.completed).fail(h.getInAppMessages.failed)})),h.getInAppMessages.failed.listen((function(){Object(p.notify)(t("Failed to get in app messages."),"error")})),h.setMessageReadTime.listen((function(e,t){u.a.patchHelpInAppMessage(e,{interactions:{readTime:t,acknowledged:!0}}).done(h.setMessageReadTime.completed).fail(h.setMessageReadTime.failed)})),h.setMessageReadTime.failed.listen((function(){Object(p.notify)(t("Failed to set message readTime."),"error")})),h.setMessageAcknowledged.listen((function(e,t){u.a.patchHelpInAppMessage(e,{interactions:{acknowledged:t}}).done(h.setMessageAcknowledged.completed).fail(h.setMessageAcknowledged.failed)})),h.setMessageAcknowledged.failed.listen((function(){Object(p.notify)(t("Failed to set message acknowledged."),"error")}));"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(h,"helpActions","/srv/src/kpi/jsapp/js/actions/help.es6");var b=l.a.createActions({searchMyCollectionAssets:{children:["started","completed","failed"]},searchMyLibraryAssets:{children:["started","completed","failed"]},searchMyCollectionMetadata:{children:["completed","failed"]},searchMyLibraryMetadata:{children:["completed","failed"]},searchPublicCollections:{children:["started","completed","failed"]},searchPublicCollectionsMetadata:{children:["completed","failed"]},subscribeToCollection:{children:["completed","failed"]},unsubscribeFromCollection:{children:["completed","failed"]},moveToCollection:{children:["completed","failed"]},getCollections:{children:["completed","failed"]}});b.searchMyCollectionAssets.listen((function(e){var t=u.a.searchMyCollectionAssets(e).done(b.searchMyCollectionAssets.completed).fail(b.searchMyCollectionAssets.failed);b.searchMyCollectionAssets.started(t.abort)})),b.searchMyLibraryAssets.listen((function(e){var t=u.a.searchMyLibraryAssets(e).done(b.searchMyLibraryAssets.completed).fail(b.searchMyLibraryAssets.failed);b.searchMyLibraryAssets.started(t.abort)})),b.searchMyCollectionMetadata.listen((function(e){u.a.searchMyCollectionMetadata(e).done(b.searchMyCollectionMetadata.completed).fail(b.searchMyCollectionMetadata.failed)})),b.searchMyLibraryMetadata.listen((function(e){u.a.searchMyLibraryMetadata(e).done(b.searchMyLibraryMetadata.completed).fail(b.searchMyLibraryMetadata.failed)})),b.searchPublicCollections.listen((function(e){var t=u.a.searchPublicCollections(e).done(b.searchPublicCollections.completed).fail(b.searchPublicCollections.failed);b.searchPublicCollections.started(t.abort)})),b.searchPublicCollectionsMetadata.listen((function(e){u.a.searchPublicCollectionsMetadata(e).done(b.searchPublicCollectionsMetadata.completed).fail(b.searchPublicCollectionsMetadata.failed)})),b.subscribeToCollection.listen((function(e){u.a.subscribeToCollection(e).done(b.subscribeToCollection.completed).fail(b.subscribeToCollection.failed)})),b.unsubscribeFromCollection.listen((function(e){u.a.unsubscribeFromCollection(e).done(b.unsubscribeFromCollection.completed).fail(b.unsubscribeFromCollection.failed)})),b.moveToCollection.listen((function(e,t){u.a.patchAsset(e,{parent:t}).done(b.moveToCollection.completed).fail(b.moveToCollection.failed)})),b.getCollections.listen((function(e){u.a.getCollections(e).done(b.getCollections.completed).fail(b.getCollections.failed)})),b.moveToCollection.completed.listen((function(e){null===e.parent?Object(p.notify)(t("Successfuly removed from collection")):Object(p.notify)(t("Successfuly moved to collection"))})),b.moveToCollection.failed.listen((function(){Object(p.notify)(t("Move to collection failed"),"error")}));var g=function(e){var o;"abort"!==e.statusText&&Object(p.notify)((null===(o=e.responseJSON)||void 0===o?void 0:o.detail)||t("Failed to get the results"),"error")};b.searchMyLibraryAssets.failed.listen(g),b.searchMyLibraryMetadata.failed.listen(g),b.searchPublicCollections.failed.listen(g),b.searchPublicCollectionsMetadata.failed.listen(g);var y=b,v=y,k=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"libraryActions","/srv/src/kpi/jsapp/js/actions/library.es6"),__REACT_HOT_LOADER__.register(g,"onAnySearchFailed","/srv/src/kpi/jsapp/js/actions/library.es6"),__REACT_HOT_LOADER__.register(y,"default","/srv/src/kpi/jsapp/js/actions/library.es6")),l.a.createActions({getSubmissions:{children:["completed","failed"]},bulkDeleteStatus:{children:["completed","failed"]},bulkPatchStatus:{children:["completed","failed"]},bulkPatchValues:{children:["completed","failed"]},bulkDelete:{children:["completed","failed"]}}));k.getSubmissions.listen((function(e){u.a.getSubmissions(e.uid,e.pageSize,e.page,e.sort,e.fields,e.filter).done((function(t){k.getSubmissions.completed(t,e)})).fail((function(t){k.getSubmissions.failed(t,e)}))})),k.bulkDeleteStatus.listen((function(e,t){u.a.bulkRemoveSubmissionsValidationStatus(e,t).done(k.bulkDeleteStatus.completed).fail(k.bulkDeleteStatus.failed)})),k.bulkDeleteStatus.failed.listen((function(){Object(p.notify)(t("Failed to update submissions."),"error")})),k.bulkPatchStatus.listen((function(e,t){u.a.bulkPatchSubmissionsValidationStatus(e,t).done(k.bulkPatchStatus.completed).fail(k.bulkPatchStatus.failed)})),k.bulkPatchStatus.failed.listen((function(){Object(p.notify)(t("Failed to update submissions."),"error")})),k.bulkPatchValues.listen((function(e,t,o){u.a.bulkPatchSubmissionsValues(e,t,o).done(k.bulkPatchValues.completed).fail(k.bulkPatchValues.failed)})),k.bulkPatchValues.completed.listen((function(e){0!==e.failures&&Object(p.notify)(t("Failed to update some submissions values."),"error")})),k.bulkPatchValues.failed.listen((function(){Object(p.notify)(t("Failed to update submissions values."),"error")})),k.bulkDelete.listen((function(e,t){u.a.bulkDeleteSubmissions(e,t).done(k.bulkDelete.completed).fail(k.bulkDelete.failed)})),k.bulkDelete.failed.listen((function(){Object(p.notify)(t("Failed to delete submissions."),"error")}));var w=k,x=w,E=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(k,"submissionsActions","/srv/src/kpi/jsapp/js/actions/submissions.es6"),__REACT_HOT_LOADER__.register(w,"default","/srv/src/kpi/jsapp/js/actions/submissions.es6")),l.a.createActions({loadMedia:{children:["completed","failed"]},uploadMedia:{children:["completed","failed"]},deleteMedia:{children:["completed","failed"]}}));E.uploadMedia.listen((function(e,t){u.a.postFormMedia(e,t).done((function(){E.uploadMedia.completed(e)})).fail(E.uploadMedia.failed)})),E.uploadMedia.completed.listen((function(e){E.loadMedia(e)})),E.uploadMedia.failed.listen((function(){a.a.error(t("Could not upload your media"))})),E.loadMedia.listen((function(e){u.a.getAssetFiles(e,"form_media").done(E.loadMedia.completed).fail(E.loadMedia.failed)})),E.loadMedia.failed.listen((function(){a.a.error(t("Something went wrong with getting your media"))})),E.deleteMedia.listen((function(e,t){u.a.deleteFormMedia(t).done((function(){E.deleteMedia.completed(e)})).fail(E.deleteMedia.failed)})),E.deleteMedia.completed.listen((function(e){a.a.success(t("Successfully deleted media")),E.loadMedia(e)})),E.deleteMedia.failed.listen((function(){a.a.error(t("Failed to delete media!"))}));var S=E,O=S,T=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("form_media","FORM_MEDIA_FILE_TYPE","/srv/src/kpi/jsapp/js/actions/mediaActions.es6"),__REACT_HOT_LOADER__.register(E,"formMediaActions","/srv/src/kpi/jsapp/js/actions/mediaActions.es6"),__REACT_HOT_LOADER__.register(S,"default","/srv/src/kpi/jsapp/js/actions/mediaActions.es6")),l.a.createActions({getExport:{children:["completed","failed"]},getExports:{children:["completed","failed"]},createExport:{children:["completed","failed"]},deleteExport:{children:["completed","failed"]},getExportSettings:{children:["completed","failed"]},getExportSetting:{children:["completed","failed"]},updateExportSetting:{children:["completed","failed"]},createExportSetting:{children:["completed","failed"]},deleteExportSetting:{children:["completed","failed"]}}));T.getExports.listen((function(e){u.a.getAssetExports(e).done(T.getExports.completed).fail(T.getExports.failed)})),T.getExport.listen((function(e,t){u.a.getAssetExport(e,t).done(T.getExport.completed).fail(T.getExport.failed)})),T.createExport.listen((function(e,t){u.a.createAssetExport(e,t).done(T.createExport.completed).fail(T.createExport.failed)})),T.createExport.failed.listen((function(){Object(p.notify)(t("Failed to create export"),"error")})),T.deleteExport.listen((function(e,t){u.a.deleteAssetExport(e,t).done(T.deleteExport.completed).fail(T.deleteExport.failed)})),T.deleteExport.failed.listen((function(){Object(p.notify)(t("Failed to delete export"),"error")})),T.getExportSettings.listen((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.a.getExportSettings(e).done((function(e){T.getExportSettings.completed(e,t)})).fail(T.getExportSettings.failed)})),T.getExportSetting.listen((function(e,t){u.a.getExportSetting(e,t).done(T.getExportSetting.completed).fail(T.getExportSetting.failed)})),T.updateExportSetting.listen((function(e,t,o){var r={name:o.name,export_settings:JSON.stringify(o.export_settings)};u.a.updateExportSetting(e,t,r).done(T.updateExportSetting.completed).fail(T.updateExportSetting.failed)})),T.updateExportSetting.failed.listen((function(){Object(p.notify)(t("Failed to update export setting"),"error")})),T.createExportSetting.listen((function(e,t){var o={name:t.name,export_settings:JSON.stringify(t.export_settings)};u.a.createExportSetting(e,o).done(T.createExportSetting.completed).fail(T.createExportSetting.failed)})),T.createExportSetting.failed.listen((function(){Object(p.notify)(t("Failed to create export setting"),"error")})),T.deleteExportSetting.listen((function(e,t){u.a.deleteExportSetting(e,t).done(T.deleteExportSetting.completed).fail(T.deleteExportSetting.failed)})),T.deleteExportSetting.failed.listen((function(){Object(p.notify)(t("Failed to delete export setting"),"error")}));var R=T,A=R,C=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(T,"exportsActions","/srv/src/kpi/jsapp/js/actions/exportsActions.es6"),__REACT_HOT_LOADER__.register(R,"default","/srv/src/kpi/jsapp/js/actions/exportsActions.es6")),l.a.createActions({attachToSource:{children:["started","completed","failed"]},detachSource:{children:["completed","failed"]},patchSource:{children:["started","completed","failed"]},getAttachedSources:{children:["completed","failed"]},getSharingEnabledAssets:{children:["completed","failed"]},toggleDataSharing:{children:["completed","failed"]},updateColumnFilters:{children:["completed","failed"]}}));C.attachToSource.listen((function(e,t){u.a.attachToSource(e,t).done(C.attachToSource.completed).fail(C.attachToSource.failed),C.attachToSource.started()})),C.attachToSource.failed.listen((function(e){var o;a.a.error((null==e||null===(o=e.responseJSON)||void 0===o?void 0:o.filename[0])||(null==e?void 0:e.responseJSON)||t("Failed to attach to source"))})),C.detachSource.listen((function(e){u.a.detachSource(e).done(C.detachSource.completed).fail(C.detachSource.failed)})),C.detachSource.failed.listen((function(e){a.a.error((null==e?void 0:e.responseJSON)||t("Failed to detach from source"))})),C.patchSource.listen((function(e,t){u.a.patchSource(e,t).done(C.patchSource.completed).fail(C.patchSource.failed),C.patchSource.started()})),C.patchSource.failed.listen((function(e){a()((null==e?void 0:e.responseJSON)||t("Failed to patch source"))})),C.getAttachedSources.listen((function(e){u.a.getAttachedSources(e).done((function(e){var t=[];e.results.forEach((function(e){var o=Object(p.getAssetUIDFromUrl)(e.source);t.push({sourceName:Object(p.truncateString)(e.source__name,m.MAX_DISPLAYED_STRING_LENGTH.connect_projects),sourceUrl:e.source,sourceUid:o,linkedFields:e.fields,filename:Object(p.truncateFile)(e.filename,m.MAX_DISPLAYED_STRING_LENGTH.connect_projects),attachmentUrl:e.url})})),C.getAttachedSources.completed(t)})).fail(C.getAttachedSources.failed)})),C.getSharingEnabledAssets.listen((function(){u.a.getSharingEnabledAssets().done(C.getSharingEnabledAssets.completed).fail(C.getSharingEnabledAssets.failed)})),C.getSharingEnabledAssets.failed.listen((function(){a.a.error(t("Failed to retrieve sharing enabled assets"))})),C.toggleDataSharing.listen((function(e,t){u.a.patchDataSharing(e,t).done(C.toggleDataSharing.completed).fail(C.toggleDataSharing.failed)})),C.toggleDataSharing.failed.listen((function(e){var o;a.a.error((null==e||null===(o=e.responseJSON)||void 0===o?void 0:o.detail)||t("Failed to toggle sharing"))})),C.updateColumnFilters.listen((function(e,t){u.a.patchDataSharing(e,t).done(C.updateColumnFilters.completed).fail(C.updateColumnFilters.failed)})),C.updateColumnFilters.failed.listen((function(e){a.a.error((null==e?void 0:e.responseJSON)||t("Failed to update column filters"))}));var j=C,P=j;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(C,"dataShareActions","/srv/src/kpi/jsapp/js/actions/dataShareActions.es6"),__REACT_HOT_LOADER__.register(j,"default","/srv/src/kpi/jsapp/js/actions/dataShareActions.es6"));function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],r=!0,n=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(e){n=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}l.a.use(d(window.Promise));var N={permissions:_,help:h,library:v,submissions:x,media:O,exports:A,dataShare:P};N.navigation=l.a.createActions(["transitionStart","transitionEnd","routeUpdate","documentTitleUpdate"]),N.auth=l.a.createActions({verifyLogin:{children:["loggedin","anonymous","failed"]},logout:{children:["completed","failed"]},changePassword:{children:["completed","failed"]},getEnvironment:{children:["completed","failed"]},getApiToken:{children:["completed","failed"]}}),N.survey=l.a.createActions({addExternalItemAtPosition:{children:["completed","failed"]}}),N.search=l.a.createActions({assets:{children:["completed","failed"]}}),N.resources=l.a.createActions({createImport:{children:["completed","failed"]},loadAsset:{children:["completed","failed"]},deployAsset:{children:["completed","failed"]},setDeploymentActive:{children:["completed","failed"]},createSnapshot:{children:["completed","failed"]},cloneAsset:{children:["completed","failed"]},deleteAsset:{children:["completed","failed"]},listTags:{children:["completed","failed"]},createResource:{asyncResult:!0},updateAsset:{asyncResult:!0},updateSubmissionValidationStatus:{children:["completed","failed"]},removeSubmissionValidationStatus:{children:["completed","failed"]},deleteSubmission:{children:["completed","failed"]},duplicateSubmission:{children:["completed","failed"]},refreshTableSubmissions:{children:["completed","failed"]},getAssetFiles:{children:["completed","failed"]}}),N.hooks=l.a.createActions({getAll:{children:["completed","failed"]},add:{children:["completed","failed"]},update:{children:["completed","failed"]},delete:{children:["completed","failed"]},getLogs:{children:["completed","failed"]},retryLog:{children:["completed","failed"]},retryLogs:{children:["completed","failed"]}}),N.misc=l.a.createActions({getUser:{children:["completed","failed"]},checkUsername:{asyncResult:!0,children:["completed","failed"]},updateProfile:{children:["completed","failed"]}}),_.assignAssetPermission.failed.listen((function(){Object(p.notify)(t("Failed to update permissions"),"error")})),_.removeAssetPermission.failed.listen((function(){Object(p.notify)(t("Failed to remove permissions"),"error")})),_.bulkSetAssetPermissions.failed.listen((function(){Object(p.notify)(t("Failed to update permissions"),"error")})),_.assignAssetPermission.completed.listen((function(e){N.resources.loadAsset({id:e})})),_.copyPermissionsFrom.completed.listen((function(e,t){N.resources.loadAsset({id:t})})),_.setAssetPublic.completed.listen((function(e){N.resources.loadAsset({id:e})})),_.removeAssetPermission.completed.listen((function(e,t){t||N.resources.loadAsset({id:e})})),N.misc.getUser.listen((function(e){u.a.getUser(e).done(N.misc.getUser.completed).fail(N.misc.getUser.failed)})),N.misc.checkUsername.listen((function(e){u.a.queryUserExistence(e).done(N.misc.checkUsername.completed).fail(N.misc.checkUsername.failed)})),N.misc.updateProfile.listen((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.a.patchProfile(e).done((function(){var e;(e=N.misc.updateProfile).completed.apply(e,arguments),t.onComplete&&t.onComplete.apply(t,arguments)})).fail((function(){var e;(e=N.misc.updateProfile).failed.apply(e,arguments),t.onFail&&t.onFail.apply(t,arguments)}))})),N.misc.updateProfile.completed.listen((function(){Object(p.notify)(t("updated profile successfully"))})),N.misc.updateProfile.failed.listen((function(e){for(var o=!1,r=0,n=Object.entries(e.responseJSON);r<n.length;r++){var a=L(n[r],2),i=a[0];a[1];"non_fields_error"!==i&&(o=!0)}o?Object(p.notify)(t("Some fields contain errors"),"error"):Object(p.notify)(t("failed to update profile"),"error")})),N.resources.createImport.listen((function(e,t,o){u.a.createImport(e).done((function(e){N.resources.createImport.completed(e),"function"==typeof t&&t(e)})).fail((function(e){N.resources.createImport.failed(e),"function"==typeof o&&o(e)}))})),N.resources.createSnapshot.listen((function(e){u.a.createAssetSnapshot(e).done(N.resources.createSnapshot.completed).fail(N.resources.createSnapshot.failed)})),N.resources.listTags.listen((function(e){u.a.listTags(e).done(N.resources.listTags.completed).fail(N.resources.listTags.failed)})),N.resources.listTags.completed.listen((function(e){e.next&&window.Raven&&Raven.captureMessage("MAX_TAGS_EXCEEDED: Too many tags")})),N.resources.updateAsset.listen((function(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.a.patchAsset(e,o).done((function(n){N.resources.updateAsset.completed(n),"function"==typeof r.onComplete&&r.onComplete(n,e,o),Object(p.notify)(t("successfully updated"))})).fail((function(e){N.resources.updateAsset.failed(e),r.onFailed&&r.onFailed(e)}))})),N.resources.deployAsset.listen((function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.a.deployAsset(e,t).done((function(e){N.resources.deployAsset.completed(e.asset),"function"==typeof o.onDone&&o.onDone(e,t)})).fail((function(e){N.resources.deployAsset.failed(e,t),"function"==typeof o.onFail&&o.onFail(e,t)}))})),N.resources.deployAsset.failed.listen((function(e,o){var r,n=null;e.responseJSON&&(e.responseJSON.xform_id_string||e.responseJSON.detail)?e.responseJSON.xform_id_string?n="\n      <p>".concat(t("your form id was not valid:"),"</p>\n      <p><pre>").concat(e.responseJSON.xform_id_string,"</pre></p>\n      <p>").concat(Object(p.replaceSupportEmail)(t("if this problem persists, contact help@kobotoolbox.org")),"</p>\n    "):e.responseJSON.detail&&(n="\n      <p>".concat(t("your form cannot be deployed because it contains errors:"),"</p>\n      <p><pre>").concat(e.responseJSON.detail,"</pre></p>\n    ")):(r=500==e.status&&e.responseJSON&&e.responseJSON.error?"<pre>".concat(e.responseJSON.error,"</pre>"):500==e.status&&e.responseText?"<pre>".concat(e.responseText,"</pre>"):t("please check your connection and try again."),n="\n      <p>".concat(Object(p.replaceSupportEmail)(t("if this problem persists, contact help@kobotoolbox.org")),"</p>\n      <p>").concat(r,"</p>\n    "));a.a.alert(t("unable to deploy"),n)})),N.resources.setDeploymentActive.listen((function(e){u.a.setDeploymentActive(e).done((function(e){N.resources.setDeploymentActive.completed(e.asset)})).fail(N.resources.setDeploymentActive.failed)})),N.resources.setDeploymentActive.completed.listen((function(e){e.deployment__active?Object(p.notify)(t("Project unarchived successfully")):Object(p.notify)(t("Project archived successfully"))})),N.resources.getAssetFiles.listen((function(e,t){u.a.getAssetFiles(e,t).done(N.resources.getAssetFiles.completed).fail(N.resources.getAssetFiles.failed)})),N.reports=l.a.createActions({setStyle:{children:["completed","failed"]},setCustom:{children:["completed","failed"]}}),N.reports.setStyle.listen((function(e,t){u.a.patchAsset(e,{report_styles:t}).done((function(e){N.reports.setStyle.completed(e),N.resources.updateAsset.completed(e)})).fail(N.reports.setStyle.failed)})),N.reports.setCustom.listen((function(e,t){u.a.patchAsset(e,{report_custom:t}).done((function(e){N.reports.setCustom.completed(e),N.resources.updateAsset.completed(e)})).fail(N.reports.setCustom.failed)})),N.table=l.a.createActions({updateSettings:{children:["completed","failed"]}}),N.table.updateSettings.listen((function(e,t){u.a.patchAsset(e,{settings:t}).done((function(e){N.table.updateSettings.completed(e),N.resources.updateAsset.completed(e)})).fail(N.table.updateSettings.failed)})),N.map=l.a.createActions({setMapStyles:{children:["started","completed","failed"]}}),N.map.setMapStyles.listen((function(e,t){u.a.patchAsset(e,{map_styles:t}).done((function(e){N.map.setMapStyles.completed(e),N.resources.updateAsset.completed(e)})).fail(N.map.setMapStyles.failed),N.map.setMapStyles.started(e,t)})),N.resources.createResource.listen((function(e){u.a.createResource(e).done((function(e){N.resources.createResource.completed(e)})).fail((function(){var e;(e=N.resources.createResource).failed.apply(e,arguments)}))})),N.resources.deleteAsset.listen((function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.a.deleteAsset(e).done((function(){N.resources.deleteAsset.completed(e),"function"==typeof o.onComplete&&o.onComplete(e)})).fail((function(o){N.resources.deleteAsset.failed(e),a.a.alert(t("Unable to delete asset!"),"<p>".concat(t("Error details:"),"</p><pre style='max-height: 200px;'>").concat(o.responseText,"</pre>"))}))})),N.resources.cloneAsset.listen((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.a.cloneAsset(e).done((function(e){N.resources.cloneAsset.completed(e),"function"==typeof t.onComplete&&t.onComplete(e)})).fail(N.resources.cloneAsset.failed)})),N.resources.cloneAsset.failed.listen((function(){Object(p.notify)(t("Could not create project!"),"error")})),N.search.assets.listen((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.a.searchAssets(e).done((function(o){N.search.assets.completed(e,o),"function"==typeof t.onComplete&&t.onComplete(e,o)})).fail((function(o){N.search.assets.failed(e,o),"function"==typeof t.onFailed&&t.onFailed(e,o)}))})),N.auth.logout.completed.listen((function(){window.setTimeout((function(){window.location.replace("","")}),1)})),N.auth.logout.listen((function(){u.a.logout().done(N.auth.logout.completed).fail((function(){console.error("logout failed for some reason. what should happen now?")}))})),N.auth.verifyLogin.listen((function(){u.a.selfProfile().done((function(e){e.username?N.auth.verifyLogin.loggedin(e):N.auth.verifyLogin.anonymous(e)})).fail(N.auth.verifyLogin.failed)})),N.auth.changePassword.listen((function(e,t){u.a.patchProfile({current_password:e,new_password:t}).done(N.auth.changePassword.completed).fail(N.auth.changePassword.failed)})),N.auth.changePassword.completed.listen((function(){Object(p.notify)(t("changed password successfully"))})),N.auth.changePassword.failed.listen((function(){Object(p.notify)(t("failed to change password"),"error")})),N.auth.getEnvironment.listen((function(){u.a.environment().done((function(e){N.auth.getEnvironment.completed(e)})).fail(N.auth.getEnvironment.failed)})),N.auth.getEnvironment.failed.listen((function(){Object(p.notify)(t("failed to load environment data"),"error")})),N.auth.getApiToken.listen((function(){u.a.apiToken().done((function(e){N.auth.getApiToken.completed(e.token)})).fail(N.auth.getApiToken.failed)})),N.auth.getApiToken.failed.listen((function(){Object(p.notify)(t("failed to load API token"),"error")})),N.resources.loadAsset.listen((function(e){u.a.getAsset(e).done(N.resources.loadAsset.completed).fail(N.resources.loadAsset.failed)})),N.resources.updateSubmissionValidationStatus.listen((function(e,t,o){u.a.updateSubmissionValidationStatus(e,t,o).done((function(e){N.resources.updateSubmissionValidationStatus.completed(e,t)})).fail((function(e){console.error(e),N.resources.updateSubmissionValidationStatus.failed(e)}))})),N.resources.removeSubmissionValidationStatus.listen((function(e,t){u.a.removeSubmissionValidationStatus(e,t).done((function(e){N.resources.removeSubmissionValidationStatus.completed(e,t)})).fail((function(e){console.error(e),N.resources.removeSubmissionValidationStatus.failed(e)}))})),N.resources.deleteSubmission.listen((function(e,o){u.a.deleteSubmission(e,o).done((function(){Object(p.notify)(t("submission deleted")),N.resources.deleteSubmission.completed(),N.resources.loadAsset({id:e})})).fail((function(){a.a.error(t("failed to delete submission")),N.resources.deleteSubmission.failed()}))})),N.resources.duplicateSubmission.listen((function(e,o,r){u.a.duplicateSubmission(e,o).done((function(o){Object(p.notify)(t("Successfully duplicated submission")),N.resources.duplicateSubmission.completed(e,o._id,r),N.resources.loadAsset({id:e})})).fail((function(e){a.a.error(t("Failed to duplicate submission")),N.resources.duplicateSubmission.failed(e)}))})),N.hooks.getAll.listen((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u.a.getHooks(e).done((function(){var e;(e=N.hooks.getAll).completed.apply(e,arguments),"function"==typeof t.onComplete&&t.onComplete.apply(t,arguments)})).fail((function(){var e;(e=N.hooks.getAll).failed.apply(e,arguments),"function"==typeof t.onFail&&t.onFail.apply(t,arguments)}))})),N.hooks.add.listen((function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.a.addExternalService(e,t).done((function(){var t;N.hooks.getAll(e),(t=N.hooks.add).completed.apply(t,arguments),"function"==typeof o.onComplete&&o.onComplete.apply(o,arguments)})).fail((function(){var e;(e=N.hooks.add).failed.apply(e,arguments),"function"==typeof o.onFail&&o.onFail.apply(o,arguments)}))})),N.hooks.add.completed.listen((function(e){Object(p.notify)(t("REST Service added successfully"))})),N.hooks.add.failed.listen((function(e){Object(p.notify)(t("Failed adding REST Service"),"error")})),N.hooks.update.listen((function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};u.a.updateExternalService(e,t,o).done((function(){var t;N.hooks.getAll(e),(t=N.hooks.update).completed.apply(t,arguments),"function"==typeof r.onComplete&&r.onComplete.apply(r,arguments)})).fail((function(){var e;(e=N.hooks.update).failed.apply(e,arguments),"function"==typeof r.onFail&&r.onFail.apply(r,arguments)}))})),N.hooks.update.completed.listen((function(){Object(p.notify)(t("REST Service updated successfully"))})),N.hooks.update.failed.listen((function(){a.a.error(t("Failed saving REST Service"))})),N.hooks.delete.listen((function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.a.deleteExternalService(e,t).done((function(){var t;N.hooks.getAll(e),(t=N.hooks.delete).completed.apply(t,arguments),"function"==typeof o.onComplete&&o.onComplete.apply(o,arguments)})).fail((function(){var e;(e=N.hooks.delete).failed.apply(e,arguments),"function"==typeof o.onFail&&o.onFail.apply(o,arguments)}))})),N.hooks.delete.completed.listen((function(e){Object(p.notify)(t("REST Service deleted permanently"))})),N.hooks.delete.failed.listen((function(e){Object(p.notify)(t("Could not delete REST Service"),"error")})),N.hooks.getLogs.listen((function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.a.getHookLogs(e,t).done((function(){var e;(e=N.hooks.getLogs).completed.apply(e,arguments),"function"==typeof o.onComplete&&o.onComplete.apply(o,arguments)})).fail((function(){var e;(e=N.hooks.getLogs).failed.apply(e,arguments),"function"==typeof o.onFail&&o.onFail.apply(o,arguments)}))})),N.hooks.retryLog.listen((function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};u.a.retryExternalServiceLog(e,t,o).done((function(){var o;N.hooks.getLogs(e,t),(o=N.hooks.retryLog).completed.apply(o,arguments),"function"==typeof r.onComplete&&r.onComplete.apply(r,arguments)})).fail((function(){var e;(e=N.hooks.retryLog).failed.apply(e,arguments),"function"==typeof r.onFail&&r.onFail.apply(r,arguments)}))})),N.hooks.retryLog.completed.listen((function(e){Object(p.notify)(t("Submission retry requested successfully"))})),N.hooks.retryLog.failed.listen((function(e){Object(p.notify)(t("Submission retry request failed"),"error")})),N.hooks.retryLogs.listen((function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u.a.retryExternalServiceLogs(e,t).done((function(){var e;(e=N.hooks.retryLogs).completed.apply(e,arguments),"function"==typeof o.onComplete&&o.onComplete.apply(o,arguments)})).fail((function(){var r;N.hooks.getLogs(e,t),(r=N.hooks.retryLogs).failed.apply(r,arguments),"function"==typeof o.onFail&&o.onFail.apply(o,arguments)}))})),N.hooks.retryLogs.completed.listen((function(e){Object(p.notify)(e.detail,"warning")})),N.hooks.retryLogs.failed.listen((function(e){Object(p.notify)(t("Retrying all submissions failed"),"error")}));"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(N,"actions","/srv/src/kpi/jsapp/js/actions.es6")},function(e,t,o){"use strict";o.r(t),o.d(t,"LANGUAGE_COOKIE_NAME",(function(){return p})),o.d(t,"assign",(function(){return m})),o.d(t,"notify",(function(){return _})),o.d(t,"formatTime",(function(){return h})),o.d(t,"formatTimeDate",(function(){return b})),o.d(t,"formatTimeDateShort",(function(){return g})),o.d(t,"formatDate",(function(){return y})),o.d(t,"getUsernameFromUrl",(function(){return v})),o.d(t,"getAssetUIDFromUrl",(function(){return k})),o.d(t,"buildUserUrl",(function(){return w})),o.d(t,"log",(function(){return E})),o.d(t,"replaceSupportEmail",(function(){return S})),o.d(t,"replaceBracketsWithLink",(function(){return O})),o.d(t,"currentLang",(function(){return T})),o.d(t,"getLangAsObject",(function(){return R})),o.d(t,"getLangString",(function(){return A})),o.d(t,"stringToColor",(function(){return C})),o.d(t,"isAValidUrl",(function(){return j})),o.d(t,"checkLatLng",(function(){return P})),o.d(t,"validFileTypes",(function(){return L})),o.d(t,"escapeHtml",(function(){return D})),o.d(t,"renderCheckbox",(function(){return N})),o.d(t,"hasLongWords",(function(){return M})),o.d(t,"hasVerticalScrollbar",(function(){return I})),o.d(t,"getScrollbarWidth",(function(){return F})),o.d(t,"toTitleCase",(function(){return U})),o.d(t,"launchPrinting",(function(){return H})),o.d(t,"truncateString",(function(){return B})),o.d(t,"truncateUrl",(function(){return V})),o.d(t,"truncateFile",(function(){return z})),o.d(t,"generateAutoname",(function(){return q})),o.d(t,"csrfSafeMethod",(function(){return Y}));var r=o(11),n=o.n(r),a=o(14),i=o.n(a),l=o(170),s=o(2);function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p="django_language",m=o(90);i.a.defaults.notifier.delay=10,i.a.defaults.notifier.position="bottom-left",i.a.defaults.notifier.closeButton=!0;var f=new l.a;function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";i.a.notify(e,t)}function h(e){return n()(e).calendar(null,{sameElse:"LL"})}function b(e){return n()(e).format("LLL")}function g(e){return n()(e).format("lll")}function y(e){return n()(e).format("ll")}function v(e){var t=e.match(/\/users\/(.*)\//);return null!==t?t[1]:null}function k(e){var t=e.match(/.*\/([^/]+)\//);return null!==t?t[1]:null}function w(e){return e.startsWith(window.location.protocol)?(console.error("buildUserUrl() called with URL instead of username (incomplete v2 migration)"),e):"".concat(s.default.ROOT_URL,"/api/v2/users/").concat(e,"/")}var x,E=((x=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return console.log.apply(console,t),t[0]}).profileSeconds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.profile(),window.setTimeout((function(){console.profileEnd()}),1e3*e)},x);window.log=E;function S(e,t){return"string"==typeof t?e.replace("help@kobotoolbox.org",t):e}function O(e,t){var o=/\[([^\]]+)\]/g;if(!t)return e.replace(o,"$1");var r='<a href="'.concat(t,'" target="_blank">$1</a>');return e.replace(o,r)}function T(){return f.get(p)||"en"}function R(e){var t=e.indexOf("("),o=e.indexOf(")"),r=e.substring(t+1,o),n=e.substring(0,t).trim();return r&&n&&n.length+r.length+3===e.length?{code:r,name:n}:void 0}function A(e){return"object"===u(e)&&e.name&&e.code?"".concat(e.name," (").concat(e.code,")"):void 0}function C(e,t){t="number"==typeof t?t:-15;return function(e,t){var o=parseInt(e,16),r=Math.round(2.55*t),n=(o>>16)+r,a=(o>>8&255)+r,i=(255&o)+r;return(16777216+65536*(n<255?n<1?0:n:255)+256*(a<255?a<1?0:a:255)+(i<255?i<1?0:i:255)).toString(16).slice(1)}(function(e){return(e>>24&255).toString(16)+(e>>16&255).toString(16)+(e>>8&255).toString(16)+(255&e).toString(16)}(function(e){for(var t=0,o=0;o<e.length;o++)t=e.charCodeAt(o)+((t<<5)-t);return t}(e)),t)}function j(e){try{return new URL(e),!0}catch(e){return!1}}function P(e){return!!(e&&e[0]&&e[1])}function L(){return[".xls",".xlsx","application/xls","application/vnd.ms-excel","application/octet-stream","application/vnd.openxmlformats","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",""].join(",")}function D(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}function N(e,t,o){var r="";return o&&(r+="alertify-toggle-important"),'<div class="alertify-toggle checkbox '.concat(r,'"><label class="checkbox__wrapper"><input type="checkbox" class="checkbox__input" id="').concat(e,'"><span class="checkbox__label">').concat(t,"</span></label></div>")}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25,o=e.split(" "),r=Math.max.apply(Math,c(o.map((function(e){return e.length}))));return r>=t}function I(e){return e.scrollHeight>e.offsetHeight}function F(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var o=e.offsetWidth-t.offsetWidth;return null!==e.parentNode&&e.parentNode.removeChild(e),o}function U(e){return e.replace(/(^|\s)\S/g,(function(e){return e.toUpperCase()}))}function H(){window.print()}function B(e,t){var o=e,r=Math.trunc(t/2);if(t<o.length){var n=o.substring(0,r),a=o.slice(o.length-r);o=n+"â€¦"+a}return o}function V(e,t){return B(e.replace("https://","").replace("http://",""),t)}function z(e,t){return B(e.replace(/\.[^/.]+$/,""),t)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return e.toLowerCase().substring(t,o).replace(/(\ |\.)/g,"_")}function Y(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"LANGUAGE_COOKIE_NAME","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(f,"cookies","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(_,"notify","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(h,"formatTime","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(b,"formatTimeDate","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(g,"formatTimeDateShort","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(y,"formatDate","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(v,"getUsernameFromUrl","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(k,"getAssetUIDFromUrl","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(w,"buildUserUrl","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(E,"log","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register("help@kobotoolbox.org","originalSupportEmail","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(S,"replaceSupportEmail","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(O,"replaceBracketsWithLink","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(T,"currentLang","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(R,"getLangAsObject","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(A,"getLangString","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(C,"stringToColor","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(j,"isAValidUrl","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(P,"checkLatLng","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(L,"validFileTypes","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(D,"escapeHtml","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(N,"renderCheckbox","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(M,"hasLongWords","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(I,"hasVerticalScrollbar","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(F,"getScrollbarWidth","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(U,"toTitleCase","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(H,"launchPrinting","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(B,"truncateString","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(V,"truncateUrl","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(z,"truncateFile","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(q,"generateAutoname","/srv/src/kpi/jsapp/js/utils.ts"),__REACT_HOT_LOADER__.register(Y,"csrfSafeMethod","/srv/src/kpi/jsapp/js/utils.ts"))},,function(e,o,r){"use strict";r.d(o,"a",(function(){return m}));var n=r(8),a=r.n(n),i=r(170),l=r(91),s=r(3),c=r(4),d=r(2),u=new i.a;function p(e,t){var o={},r=!1;return Object.keys(t).forEach((function(n){e[n]!==t[n]&&(o[n]=t[n],r=!0)})),!!r&&o}var m={};m.tags=a.a.createStore({init:function(){this.queries={},this.listenTo(s.a.resources.listTags.completed,this.listTagsCompleted)},listTagsCompleted:function(e){this.trigger(e.results)}});m.surveyState=a.a.createStore({init:function(){this.state={}},setState:function(e){var t=p(this.state,e);t&&(Object(c.assign)(this.state,e),this.trigger(t))}}),m.assetSearch=a.a.createStore({init:function(){this.queries={},this.listenTo(s.a.search.assets.completed,this.onSearchAssetsCompleted)},getRecentSearch:function(e){if(e in this.queries&&(new Date).getTime()-this.queries[e][1].getTime()<3e5)return this.queries[e][0];return!1},onSearchAssetsCompleted:function(e,t){t.query=e.q,this.queries[e.q]=[t,new Date],t.count>0&&this.trigger(t)}}),m.translations=a.a.createStore({init:function(){this.state={isTranslationTableUnsaved:!1}},setState:function(e){var t=p(this.state,e);t&&(Object(c.assign)(this.state,t),this.trigger(t))},setTranslationTableUnsaved:function(e){this.setState({isTranslationTableUnsaved:e})}}),m.pageState=a.a.createStore({init:function(){this.state={assetNavExpanded:!1,showFixedDrawer:!1}},setState:function(e){var t=p(this.state,e);t&&(Object(c.assign)(this.state,t),this.trigger(t))},toggleFixedDrawer:function(){var e={},t=!this.state.showFixedDrawer;e.showFixedDrawer=t,Object(c.assign)(this.state,e),this.trigger(e)},showModal:function(e){this.setState({modal:e})},hideModal:function(){this._onHideModal&&this._onHideModal(),this.setState({modal:!1})},switchModal:function(e){var t=this;this.hideModal(),window.setTimeout((function(){t.showModal(e)}),0)},switchToPreviousModal:function(){this.switchModal({type:this.state.modal.previousType})},hasPreviousModal:function(){return this.state.modal&&this.state.modal.previousType}}),m.snapshots=a.a.createStore({init:function(){this.listenTo(s.a.resources.createSnapshot.completed,this.snapshotCreated),this.listenTo(s.a.resources.createSnapshot.failed,this.snapshotCreationFailed)},snapshotCreated:function(e){this.trigger(Object(c.assign)({success:!0},e))},snapshotCreationFailed:function(e){this.trigger(Object(c.assign)({success:!1},e.responseJSON))}}),m.session=a.a.createStore({currentAccount:{username:d.ANON_USERNAME},isAuthStateKnown:!1,isLoggedIn:!1,init:function(){s.a.misc.updateProfile.completed.listen(this.onUpdateProfileCompleted),this.listenTo(s.a.auth.verifyLogin.loggedin,this.onLoggedIn),this.listenTo(s.a.auth.verifyLogin.anonymous,this.onNotLoggedIn),this.listenTo(s.a.auth.verifyLogin.failed,this.onVerifyLoginFailed),s.a.auth.verifyLogin()},onUpdateProfileCompleted:function(e){this.currentAccount=e,this.trigger({currentAccount:this.currentAccount})},onLoggedIn:function(e){this.isAuthStateKnown=!0,this.isLoggedIn=!0,this.currentAccount=e,this.trigger()},onNotLoggedIn:function(e){Object(c.log)("login confirmed anonymous",e.message),this.isAuthStateKnown=!0,this.trigger()},onVerifyLoginFailed:function(e){Object(c.log)("login not verified",e.status,e.statusText)}}),m.allAssets=a.a.createStore({init:function(){this.data=[],this.byUid={},this._waitingOn={},this.listenTo(s.a.search.assets.completed,this.onListAssetsCompleted),this.listenTo(s.a.search.assets.failed,this.onListAssetsFailed),this.listenTo(s.a.resources.updateAsset.completed,this.onUpdateAssetCompleted),this.listenTo(s.a.resources.deleteAsset.completed,this.onDeleteAssetCompleted),this.listenTo(s.a.resources.cloneAsset.completed,this.onCloneAssetCompleted),this.listenTo(s.a.resources.loadAsset.completed,this.onLoadAssetCompleted),this.listenTo(s.a.permissions.removeAssetPermission.completed,this.onDeletePermissionCompleted)},whenLoaded:function(e,t){"string"==typeof e&&"function"==typeof t&&(this.byUid[e]&&this.byUid[e].content?t.call(this,this.byUid[e]):(this._waitingOn[e]||(this._waitingOn[e]=[]),this._waitingOn[e].push(t),s.a.resources.loadAsset({id:e})))},getAsset:function(e){return this.byUid[e]},onUpdateAssetCompleted:function(e){var t=this;this.registerAsset(e),this.data.forEach((function(o,r){o.uid===e.uid&&(t.data[r]=e)}))},onLoadAssetCompleted:function(e){this.registerAsset(e)},onCloneAssetCompleted:function(e){this.registerAsset(e),this.byUid[e.uid]=e,this.data.unshift(e),this.trigger(this.data)},onDeleteAssetCompleted:function(e){var t=this;this.byUid[e.uid]&&(this.byUid[e.uid].deleted="true",this.trigger(this.data),window.setTimeout((function(){t.data=t.data.filter((function(t){return t.uid!==e.uid})),t.trigger(t.data)}),500))},onDeletePermissionCompleted:function(e,t){t&&this.onDeleteAssetCompleted({uid:e})},registerAsset:function(e){var t=Object(l.a)(e);e.tags=t.tags,this.byUid[e.uid]=e,e.content&&this.callCallbacks(e)},callCallbacks:function(e){if(this._waitingOn[e.uid])for(;this._waitingOn[e.uid].length>0;){this._waitingOn[e.uid].pop().call(this,e)}},onListAssetsCompleted:function(e,t){t.results.forEach(this.registerAsset),this.data=t.results,this.trigger(this.data)},onListAssetsFailed:function(e,o){var r;Object(c.notify)((null==o||null===(r=o.responseJSON)||void 0===r?void 0:r.detail)||t("failed to list assets"))}}),m.selectedAsset=a.a.createStore({init:function(){this.uid=u.get("selectedAssetUid"),this.listenTo(s.a.resources.cloneAsset.completed,this.onCloneAssetCompleted)},onCloneAssetCompleted:function(e){this.uid=e.uid,this.asset=m.allAssets.byUid[e.uid],this.asset||console.error("selectedAssetStore error"),this.trigger(this.asset)},toggleSelect:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t||this.uid!==e?(this.uid=e,this.asset=m.allAssets.byUid[e]):(this.uid=!1,this.asset={}),u.set("selectedAssetUid",this.uid),this.trigger({selectedAssetUid:this.uid}),!1!==this.uid}}),m.userExists=a.a.createStore({init:function(){this.checked={},this.listenTo(s.a.misc.checkUsername.completed,this.usernameExists),this.listenTo(s.a.misc.checkUsername.failed,this.usernameDoesntExist)},checkUsername:function(e){if(e in this.checked)return this.checked[e]},usernameExists:function(e){this.checked[e]=!0,this.trigger(this.checked,e)},usernameDoesntExist:function(e){this.checked[e]=!1,this.trigger(this.checked,e)}});"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"cookies","/srv/src/kpi/jsapp/js/stores.es6"),__REACT_HOT_LOADER__.register(p,"changes","/srv/src/kpi/jsapp/js/stores.es6"),__REACT_HOT_LOADER__.register(m,"stores","/srv/src/kpi/jsapp/js/stores.es6"),__REACT_HOT_LOADER__.register(300,"MAX_SEARCH_AGE","/srv/src/kpi/jsapp/js/stores.es6"))},function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return r}));o(14);var r,n=o(4),a=o(2);(function(){var t=function(t){return e.ajax(Object(n.assign)({},{dataType:"json",method:"GET"},t))},o={a:"assets",c:"collections",p:"permissions"};Object(n.assign)(this,{selfProfile:function(){return t({url:"".concat(a.ROOT_URL,"/me/")})},apiToken:function(){return t({url:"".concat(a.ROOT_URL,"/token/?format=json")})},getUser:function(e){return t({url:e})},queryUserExistence:function(o){var r=new e.Deferred;return t({url:"".concat(a.ROOT_URL,"/api/v2/users/").concat(o,"/")}).done((function(){r.resolve(o,!0)})).fail((function(){r.reject(o,!1)})),r.promise()},logout:function(){var o=new e.Deferred;return t({url:"".concat(a.ROOT_URL,"/api-auth/logout/")}).done(o.resolve).fail((function(){r.selfProfile().done((function(e){"user is not logged in"===e.message?o.resolve(e):o.fail(e)})).fail(o.fail)})),o.promise()},patchProfile:function(e){return t({url:"".concat(a.ROOT_URL,"/me/"),method:"PATCH",data:e})},listTemplates:function(){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/?q=").concat(a.COMMON_QUERIES.t)})},getCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.COMMON_QUERIES.c;return e.owner&&(o+=" AND owner__username__exact:".concat(e.owner)),t({url:"".concat(a.ROOT_URL,"/api/v2/assets/"),dataType:"json",data:{q:o,limit:e.pageSize||100,page:e.page||0},method:"GET"})},createAssetSnapshot:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/asset_snapshots/"),method:"POST",data:e})},createTemporaryAssetSnapshot:function(e){var o=e.source;return t({url:"".concat(a.ROOT_URL,"/api/v2/asset_snapshots/"),method:"POST",data:{source:o}})},getHooks:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/"),method:"GET"})},getHook:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(o,"/"),method:"GET"})},addExternalService:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/"),method:"POST",data:JSON.stringify(o),dataType:"json",contentType:"application/json"})},updateExternalService:function(e,o,r){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(o,"/"),method:"PATCH",data:JSON.stringify(r),dataType:"json",contentType:"application/json"})},deleteExternalService:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(o,"/"),method:"DELETE"})},getHookLogs:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(o,"/logs/"),method:"GET"})},getHookLog:function(e,o,r){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(o,"/logs/").concat(r,"/"),method:"GET"})},retryExternalServiceLogs:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(o,"/retry/"),method:"PATCH"})},retryExternalServiceLog:function(e,o,r){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/hooks/").concat(o,"/logs/").concat(r,"/retry/"),method:"PATCH"})},getReportData:function(e){var o;return e.identifiers&&(o="?names=".concat(e.identifiers.join(","))),""!=e.group_by&&(o+="&split_by=".concat(e.group_by)),t({url:"".concat(a.ROOT_URL,"/reports/").concat(e.uid,"/").concat(o)})},cloneAsset:function(e){var o=e.uid,r=e.name,n=e.version_id,i=e.new_asset_type,l=e.parent,s={clone_from:o};return r&&(s.name=r),n&&(s.clone_from_version_id=n),i&&(s.asset_type=i),l&&(s.parent=l),t({method:"POST",url:"".concat(a.ROOT_URL,"/api/v2/assets/"),data:s})},postFormMedia:function(e,o){return t({method:"POST",url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/files/"),data:o})},deleteFormMedia:function(e){return t({method:"DELETE",url:e})},attachToSource:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/paired-data/"),method:"POST",data:JSON.stringify(o),contentType:"application/json"})},detachSource:function(e){return t({url:e,method:"DELETE"})},patchSource:function(e,o){return t({url:e,method:"PATCH",data:JSON.stringify(o),contentType:"application/json"})},getAttachedSources:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/paired-data/"),method:"GET"})},getSharingEnabledAssets:function(){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/?q=data_sharing__enabled:true"),method:"GET"})},patchDataSharing:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/"),method:"PATCH",data:JSON.stringify(o),contentType:"application/json"})},getPermissionsConfig:function(){return t({url:"".concat(a.ROOT_URL,"/api/v2/permissions/"),method:"GET"})},getAssetPermissions:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/permission-assignments/"),method:"GET"})},bulkSetAssetPermissions:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/permission-assignments/bulk/"),method:"POST",data:JSON.stringify(o),dataType:"json",contentType:"application/json"})},assignAssetPermission:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/permission-assignments/"),method:"POST",data:JSON.stringify(o),dataType:"json",contentType:"application/json"})},removePermission:function(e){return t({method:"DELETE",url:e})},copyPermissionsFrom:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(o,"/permission-assignments/clone/"),method:"PATCH",data:{clone_from:e}})},deleteAsset:function(e){var o=e.uid;return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(o,"/"),method:"DELETE"})},subscribeToCollection:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/asset_subscriptions/"),data:{asset:e},method:"POST"})},unsubscribeFromCollection:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/asset_subscriptions/"),data:{asset__uid:e},method:"GET"}).then((function(e){return t({url:e.results[0].url,method:"DELETE"})}))},getImportDetails:function(t){var o=t.uid;return e.getJSON("".concat(a.ROOT_URL,"/api/v2/imports/").concat(o,"/"))},getAsset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.url?e.getJSON(t.url):e.getJSON("".concat(a.ROOT_URL,"/api/v2/assets/").concat(t.id,"/?limit=").concat(100))},getAssetExports:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/exports/"),data:{ordering:"-date_created",limit:9999}})},createAssetExport:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/exports/"),method:"POST",data:JSON.stringify(o),dataType:"json",contentType:"application/json"})},getAssetExport:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/exports/").concat(o,"/"),method:"GET"})},deleteAssetExport:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/exports/").concat(o,"/"),method:"DELETE"})},getExportSettings:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/export-settings/"),data:{limit:9999}})},getExportSetting:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/export-settings/").concat(o,"/")})},updateExportSetting:function(e,o,r){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/export-settings/").concat(o,"/"),method:"PATCH",data:r})},createExportSetting:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/export-settings/"),method:"POST",data:o})},deleteExportSetting:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/export-settings/").concat(o,"/"),method:"DELETE"})},getAssetXformView:function(e){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/xform/"),dataType:"html"})},searchAssets:function(t){return t.limit=200,e.ajax({url:"".concat(a.ROOT_URL,"/api/v2/assets/"),dataType:"json",data:t,method:"GET"})},_searchAssetsWithPredefinedQuery:function(e,o){var r={q:o,limit:e.pageSize||100,offset:e.page*e.pageSize||0};return e.searchPhrase&&(r.q+=" AND (".concat(e.searchPhrase,")")),e.filterProperty&&e.filterValue&&(r.q+=" AND ".concat(e.filterProperty,":").concat(e.filterValue)),e.ordering&&(r.ordering=e.ordering),!0===e.metadata&&(r.metadata="on"),!0===e.collectionsFirst&&(r.collections_first="true"),e.status&&(r.status=e.status),t({url:"".concat(a.ROOT_URL,"/api/v2/assets/"),dataType:"json",data:r,method:"GET"})},_searchMetadataWithPredefinedQuery:function(e,o){var r={q:o,limit:e.pageSize||100,offset:e.page*e.pageSize||0};return e.searchPhrase&&(r.q+=" AND (".concat(e.searchPhrase,")")),e.filterProperty&&e.filterValue&&(r.q+=" AND ".concat(e.filterProperty,':"').concat(e.filterValue,'"')),e.ordering&&(r.ordering=e.ordering),e.status&&(r.status=e.status),t({url:"".concat(a.ROOT_URL,"/api/v2/assets/metadata/"),dataType:"json",data:r,method:"GET"})},searchMyCollectionAssets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._searchAssetsWithPredefinedQuery(e,"".concat(a.COMMON_QUERIES.qbtc," AND parent__uid:").concat(e.uid))},searchMyLibraryAssets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.COMMON_QUERIES.qbtc;return e.searchPhrase||(t+=" AND parent:null"),this._searchAssetsWithPredefinedQuery(e,t)},searchMyCollectionMetadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._searchMetadataWithPredefinedQuery(e,"".concat(a.COMMON_QUERIES.qbtc," AND parent__uid:").concat(e.uid))},searchMyLibraryMetadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.COMMON_QUERIES.qbtc;return e.searchPhrase||(t+=" AND parent:null"),this._searchMetadataWithPredefinedQuery(e,t)},searchPublicCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.status="public-discoverable",this._searchAssetsWithPredefinedQuery(e,a.COMMON_QUERIES.c)},searchPublicCollectionsMetadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.status="public-discoverable",this._searchMetadataWithPredefinedQuery(e,a.COMMON_QUERIES.c)},assetsHash:function(){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/hash/"),method:"GET"})},createResource:function(e){return t({method:"POST",url:"".concat(a.ROOT_URL,"/api/v2/assets/"),data:e})},patchAsset:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/"),method:"PATCH",data:JSON.stringify(o),dataType:"json",contentType:"application/json"})},listTags:function(e){return t({url:"".concat(a.ROOT_URL,"/tags/"),method:"GET",data:Object(n.assign)({limit:100},e)})},loadNextPageUrl:function(e){return t({url:e,method:"GET"})},deployAsset:function(e,o){var r={active:!0},n="POST";return o&&(n="PATCH",r.version_id=e.version_id),t({method:n,url:"".concat(e.url,"deployment/"),data:r})},setDeploymentActive:function(e){var o=e.asset,r=e.active;return t({method:"PATCH",url:"".concat(o.url,"deployment/"),data:{active:r}})},createImport:function(e){var o=new FormData;return Object.keys(e).forEach((function(t){o.append(t,e[t])})),t({method:"POST",url:"".concat(a.ROOT_URL,"/api/v2/imports/"),data:o,processData:!1,contentType:!1})},getResource:function(t){var r=t.id,n=o[r[0]];return e.getJSON("".concat(a.ROOT_URL,"/").concat(n,"/").concat(r,"/"))},getSubmissions:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s="limit=".concat(o,"&start=").concat(r),c='&sort={"_id":-1}',d="";return n.length&&(c=!0===n[0].desc?'&sort={"'.concat(n[0].id,'":-1}'):'&sort={"'.concat(n[0].id,'":1}')),i.length&&(d="&fields=".concat(JSON.stringify(i))),t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/?").concat(s).concat(c).concat(d).concat(l),method:"GET"})},getSubmission:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(o,"/"),method:"GET"})},duplicateSubmission:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(o,"/duplicate/"),method:"POST"})},bulkPatchSubmissionsValues:function(e,o,r){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/bulk/"),method:"PATCH",data:{payload:JSON.stringify({submission_ids:o,data:r})}})},bulkPatchSubmissionsValidationStatus:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/validation_statuses/"),method:"PATCH",data:{payload:JSON.stringify(o)}})},bulkRemoveSubmissionsValidationStatus:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/validation_statuses/"),method:"DELETE",data:{payload:JSON.stringify(o)}})},updateSubmissionValidationStatus:function(e,o,r){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(o,"/validation_status/"),method:"PATCH",data:r})},removeSubmissionValidationStatus:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(o,"/validation_status/"),method:"DELETE"})},getSubmissionsQuery:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/?").concat(o),method:"GET"})},deleteSubmission:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(o,"/"),method:"DELETE"})},bulkDeleteSubmissions:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/bulk/"),method:"DELETE",data:{payload:JSON.stringify(o)}})},getEnketoEditLink:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(o,"/enketo/edit/?return_url=false"),method:"GET"})},getEnketoViewLink:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/data/").concat(o,"/enketo/view/"),method:"GET"})},uploadAssetFile:function(e,o){var r=new FormData;return Object.keys(o).forEach((function(e){r.append(e,o[e])})),t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/files/"),method:"POST",data:r,processData:!1,contentType:!1})},getAssetFiles:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/files/?file_type=").concat(o),method:"GET"})},deleteAssetFile:function(e,o){return t({url:"".concat(a.ROOT_URL,"/api/v2/assets/").concat(e,"/files/").concat(o,"/"),method:"DELETE"})},getHelpInAppMessages:function(){return t({url:"".concat(a.ROOT_URL,"/help/in_app_messages/"),method:"GET"})},patchHelpInAppMessage:function(e,o){return t({url:"".concat(a.ROOT_URL,"/help/in_app_messages/").concat(e,"/"),method:"PATCH",data:JSON.stringify(o),dataType:"json",contentType:"application/json"})},setLanguage:function(e){return t({url:"".concat(a.ROOT_URL,"/i18n/setlang/"),method:"POST",data:e})},environment:function(){return t({url:"".concat(a.ROOT_URL,"/environment/")})},login:function(e){return t({url:"".concat(a.ROOT_URL,"/api-auth/login/?next=/me/"),data:e,method:"POST"})}})}).call(r={});"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(100,"DEFAULT_PAGE_SIZE","/srv/src/kpi/jsapp/js/dataInterface.es6"),__REACT_HOT_LOADER__.register(r,"dataInterface","/srv/src/kpi/jsapp/js/dataInterface.es6"))}).call(this,o(29))},,,function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return n}));var r=Object.freeze({LOGIN:"/accounts/login"}),n=Object.freeze({ROOT:"/",ACCOUNT_SETTINGS:"/account-settings",CHANGE_PASSWORD:"/change-password",LIBRARY:"/library",MY_LIBRARY:"/library/my-library",PUBLIC_COLLECTIONS:"/library/public-collections",NEW_LIBRARY_ITEM:"/library/asset/new",LIBRARY_ITEM:"/library/asset/:uid",EDIT_LIBRARY_ITEM:"/library/asset/:uid/edit",NEW_LIBRARY_CHILD:"/library/asset/:uid/new",LIBRARY_ITEM_JSON:"/library/asset/:uid/json",LIBRARY_ITEM_XFORM:"/library/asset/:uid/xform",FORMS:"/forms",FORM:"/forms/:uid",FORM_JSON:"/forms/:uid/json",FORM_XFORM:"/forms/:uid/xform",FORM_EDIT:"/forms/:uid/edit",FORM_SUMMARY:"/forms/:uid/summary",FORM_LANDING:"/forms/:uid/landing",FORM_DATA:"/forms/:uid/data",FORM_REPORT:"/forms/:uid/data/report",FORM_TABLE:"/forms/:uid/data/table",FORM_DOWNLOADS:"/forms/:uid/data/downloads",FORM_GALLERY:"/forms/:uid/data/gallery",FORM_MAP:"/forms/:uid/data/map",FORM_MAP_BY:"/forms/:uid/data/map/:viewby",FORM_SETTINGS:"/forms/:uid/settings",FORM_MEDIA:"/forms/:uid/settings/media",FORM_SHARING:"/forms/:uid/settings/sharing",FORM_RECORDS:"/forms/:uid/settings/records",FORM_REST:"/forms/:uid/settings/rest",FORM_REST_HOOK:"/forms/:uid/settings/rest/:hookUid",FORM_KOBOCAT:"/forms/:uid/settings/kobocat",FORM_RESET:"/forms/:uid/reset"});"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"PATHS","/srv/src/kpi/jsapp/js/router/routerConstants.ts"),__REACT_HOT_LOADER__.register(n,"ROUTES","/srv/src/kpi/jsapp/js/router/routerConstants.ts"))},,,function(e,o,r){"use strict";r.d(o,"a",(function(){return u})),r.d(o,"e",(function(){return p})),r.d(o,"g",(function(){return f})),r.d(o,"c",(function(){return g})),r.d(o,"h",(function(){return y})),r.d(o,"d",(function(){return k})),r.d(o,"j",(function(){return T})),r.d(o,"i",(function(){return R})),r.d(o,"k",(function(){return A})),r.d(o,"l",(function(){return C})),r.d(o,"o",(function(){return P})),r.d(o,"f",(function(){return L})),r.d(o,"m",(function(){return M})),r.d(o,"n",(function(){return F}));var n=r(0),a=r.n(n),i=r(6),l=r(24),s=r(4),c=r(2);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return e.map((function(e){return e.trim().replace(/ /g,"-")}))}function p(e){return i.a.session.currentAccount&&i.a.session.currentAccount.username&&i.a.session.currentAccount.username===e?t("me"):e}function m(e){return e.settings.organization?e.settings.organization:"-"}function f(e,t){var o,r,n=null;return Array.isArray(null===(o=e.summary)||void 0===o?void 0:o.languages)&&(null===(r=e.summary)||void 0===r?void 0:r.languages.length)>=1&&e.summary.languages.forEach((function(e,o){e===t&&(n=o)})),n}function _(e){return e.summary&&e.summary.languages&&e.summary.languages.length>=1?e.summary.languages.join(", "):"-"}function h(e){return e.settings.sector?e.settings.sector.label:"-"}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.settings.country?t?e.settings.country.label:e.settings.country.value:"-"}function g(e){var o=t("untitled"),r={final:o};return e.name&&(r.original=e.name),e.summary&&e.summary.labels&&e.summary.labels.length>0&&(r.question=e.summary.labels[0]),r.original||r.question||(r.empty=o),r.original?r.final=r.original:r.question&&(r.final=r.question),r}function y(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.label&&Array.isArray(e.label)?e.label[o]:e.label&&!Array.isArray(e.label)?e.label:e.name?e.name:"$autoname"in e&&e.$autoname?e.$autoname:t("Unlabelled")}function v(e){return e===c.ASSET_TYPES.question.id||e===c.ASSET_TYPES.block.id||e===c.ASSET_TYPES.template.id||e===c.ASSET_TYPES.collection.id}function k(e){var t,o;switch(e.asset_type){case c.ASSET_TYPES.template.id:return(null===(t=e.summary)||void 0===t?void 0:t.lock_any)?"k-icon k-icon-template-locked":"k-icon k-icon-template";case c.ASSET_TYPES.question.id:return"k-icon k-icon-question";case c.ASSET_TYPES.block.id:return"k-icon k-icon-block";case c.ASSET_TYPES.survey.id:return(null===(o=e.summary)||void 0===o?void 0:o.lock_any)?"k-icon k-icon-form-locked":e.has_deployment&&!e.deployment__active?"k-icon k-icon-form-archived":e.has_deployment?"k-icon k-icon-form-deployed":"k-icon k-icon-form-draft";case c.ASSET_TYPES.collection.id:return e.access_types&&e.access_types.includes(c.ACCESS_TYPES.subscribed)?"k-icon k-icon-folder-subscribed":N(e.permissions)?"k-icon k-icon-folder-public":e.access_types&&e.access_types.includes(c.ACCESS_TYPES.shared)?"k-icon k-icon-folder-shared":"k-icon k-icon-folder";default:return"k-icon k-icon-form"}}function w(e){var t;if(e.asset_type===c.ASSET_TYPES.template.id?t=c.MODAL_TYPES.LIBRARY_TEMPLATE:e.asset_type===c.ASSET_TYPES.collection.id&&(t=c.MODAL_TYPES.LIBRARY_COLLECTION),!t)throw new Error("Unsupported asset type: ".concat(e.asset_type,"."));i.a.pageState.showModal({type:t,asset:e})}function x(e){i.a.pageState.showModal({type:c.MODAL_TYPES.SHARING,assetid:e.uid})}function E(e){i.a.pageState.showModal({type:c.MODAL_TYPES.FORM_LANGUAGES,asset:e})}function S(e){i.a.pageState.showModal({type:c.MODAL_TYPES.ASSET_TAGS,asset:e})}function O(e){i.a.pageState.showModal({type:c.MODAL_TYPES.REPLACE_PROJECT,asset:e})}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={},n=[];return e.forEach((function(e){var a=R(e);if(c.GROUP_TYPES_BEGIN.hasOwnProperty(e.type))n.push(a),t&&(r[a]=n.join("/"));else if(c.GROUP_TYPES_END.hasOwnProperty(e.type))n.pop();else if(c.QUESTION_TYPES.hasOwnProperty(e.type)||e.type===c.SCORE_ROW_TYPE||e.type===c.RANK_LEVEL_TYPE||o&&c.META_QUESTION_TYPES.hasOwnProperty(e.type)){var i="";n.length>=1&&(i=n.join("/")+"/"),r[a]="".concat(i).concat(a)}})),r}function R(e){return e.name||"$autoname"in e&&e.$autoname||e.$kuid}function A(e,t,o){var r,n;if(t.forEach((function(t,o){R(t)===e&&(n=t,r=o)})),"object"===d(n)&&n.hasOwnProperty("label"))return j(n,o);if("object"===d(n)&&"number"==typeof r){var a=t[r+1];if(C(n,a))return j(a,o)}return null}function C(e,t){if(e&&t&&Object.prototype.hasOwnProperty.call(t,"label")){var o=R(e),r=R(t);return"type"in t&&r==="".concat(o,"_label")&&t.type===c.QUESTION_TYPES.note.id||"type"in t&&r==="".concat(o,"_note")&&t.type===c.QUESTION_TYPES.note.id||"type"in t&&r==="".concat(o,"_header")&&t.type===c.QUESTION_TYPES.select_one.id}return!1}function j(e,t){return Array.isArray(e.label)?e.label[t]||null:e.label||null}function P(e){var t="";if(e===c.SCORE_ROW_TYPE)t=c.QUESTION_TYPES.score.icon;else if(e===c.RANK_LEVEL_TYPE)t=c.QUESTION_TYPES.rank.icon;else if(c.QUESTION_TYPES.hasOwnProperty(e)){var o=e;t=c.QUESTION_TYPES[o].icon}return e===c.META_QUESTION_TYPES["background-audio"]?t="k-icon-qt-audio":c.META_QUESTION_TYPES.hasOwnProperty(e)&&(t="qt-meta-default"),t?a.a.createElement("i",{className:"k-icon k-icon-".concat(t),title:e}):null}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=T(e,!1,!0),n=[],a=[],i=0;return e.forEach((function(e){if("begin_group"!==e.type&&"begin_repeat"!==e.type||a.push(y(e,t)),"end_group"!==e.type&&"end_repeat"!==e.type||a.pop(),"begin_repeat"===e.type?i++:"end_repeat"===e.type&&i--,c.QUESTION_TYPES.hasOwnProperty(e.type)||o&&c.META_QUESTION_TYPES.hasOwnProperty(e.type)){var l=R(e);n.push({type:e.type,name:l,isRequired:Boolean(e.required),label:y(e,t),path:r[l],parents:a.slice(0),hasRepatParent:i>=1})}})),n}function D(e){var o=[];return e.asset_type===c.ASSET_TYPES.collection.id?(e.name&&e.settings.organization&&e.settings.sector||o.push(t("Name, organization and sector are required to make collection public.")),0===e.children.count&&o.push(t("Empty collection is not allowed to be made public."))):o.push(t("Only collections are allowed to be made public!")),o}function N(e){var t=!1;return e.forEach((function(e){var o=l.a.getPermissionByCodename(c.PERMISSIONS_CODENAMES.discover_asset);e.user===Object(s.buildUserUrl)(c.ANON_USERNAME)&&void 0!==o&&e.permission===o.url&&(t=!0)})),t}function M(e){return e&&i.a.session.currentAccount&&e.owner__username===i.a.session.currentAccount.username}function I(e){return"".concat(c.ROOT_URL,"/api/v2/assets/").concat(e,"/")}function F(e){return String(e||"").replace(/((?:[\0-\x08\x0B\f\x0E-\x1F\uFFFD\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/g,"")}var U={buildAssetUrl:I,cleanupTags:u,editLanguages:E,editTags:S,getAssetDisplayName:g,getAssetIcon:k,getAssetOwnerDisplayName:p,getCountryDisplayString:b,getFlatQuestionsList:L,getLanguageIndex:f,getLanguagesDisplayString:_,getOrganizationDisplayString:m,getQuestionOrChoiceDisplayName:y,getRowName:R,getSectorDisplayString:h,getSurveyFlatPaths:T,getTranslatedRowLabel:A,isAssetPublic:N,isAssetPublicReady:D,isLibraryAsset:v,isRowSpecialLabelHolder:C,isSelfOwned:M,modifyDetails:w,renderQuestionTypeIcon:P,replaceForm:O,share:x,removeInvalidChars:F};o.b=U;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(u,"cleanupTags","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(p,"getAssetOwnerDisplayName","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(m,"getOrganizationDisplayString","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(f,"getLanguageIndex","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(_,"getLanguagesDisplayString","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(h,"getSectorDisplayString","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(b,"getCountryDisplayString","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(g,"getAssetDisplayName","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(y,"getQuestionOrChoiceDisplayName","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(v,"isLibraryAsset","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(k,"getAssetIcon","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(w,"modifyDetails","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(x,"share","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(E,"editLanguages","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(S,"editTags","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(O,"replaceForm","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(T,"getSurveyFlatPaths","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(R,"getRowName","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(A,"getTranslatedRowLabel","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(C,"isRowSpecialLabelHolder","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(j,"getRowLabelAtIndex","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(P,"renderQuestionTypeIcon","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(L,"getFlatQuestionsList","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(D,"isAssetPublicReady","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(N,"isAssetPublic","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(M,"isSelfOwned","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(I,"buildAssetUrl","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(F,"removeInvalidChars","/srv/src/kpi/jsapp/js/assetUtils.ts"),__REACT_HOT_LOADER__.register(U,"default","/srv/src/kpi/jsapp/js/assetUtils.ts"))},,,function(e,t,o){"use strict";o.d(t,"g",(function(){return n})),o.d(t,"i",(function(){return a})),o.d(t,"e",(function(){return i})),o.d(t,"f",(function(){return l})),o.d(t,"b",(function(){return s})),o.d(t,"c",(function(){return c})),o.d(t,"h",(function(){return d})),o.d(t,"d",(function(){return u})),o.d(t,"a",(function(){return p}));var r=o(2),n="__SubmissionActions",a="_validation_status.uid",i=["_xform_id_string","_attachments","_notes","_bamboo_dataset_id","_status","formhub/uuid","_tags","_geolocation","meta/instanceID","meta/deprecatedID","_validation_status"],l=Object(r.createEnum)(["ASCENDING","DESCENDING"]),s="data-table",c=Object.freeze({SELECTED_COLUMNS:"selected-columns",FROZEN_COLUMN:"frozen-column",SHOW_GROUP:"show-group-name",TRANSLATION:"translation-index",SHOW_HXL:"show-hxl-tags",SORT_BY:"sort-by"}),d=Object(r.createEnum)([r.QUESTION_TYPES.image.id,r.QUESTION_TYPES.audio.id,r.QUESTION_TYPES.video.id,r.QUESTION_TYPES.text.id,r.META_QUESTION_TYPES["background-audio"]]),u=140,p={};p[a]=125,p[r.META_QUESTION_TYPES.start]=110,p[r.META_QUESTION_TYPES.end]=110,p[r.ADDITIONAL_SUBMISSION_PROPS._id]=100,p[r.QUESTION_TYPES.image.id]=110,p[r.QUESTION_TYPES.audio.id]=110,p[r.QUESTION_TYPES.video.id]=110,p[r.META_QUESTION_TYPES["background-audio"]]=110,Object.freeze(p);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"SUBMISSION_ACTIONS_ID","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"),__REACT_HOT_LOADER__.register(a,"VALIDATION_STATUS_ID_PROP","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"),__REACT_HOT_LOADER__.register(i,"EXCLUDED_COLUMNS","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"),__REACT_HOT_LOADER__.register(l,"SORT_VALUES","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"),__REACT_HOT_LOADER__.register(s,"DATA_TABLE_SETTING","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"),__REACT_HOT_LOADER__.register(c,"DATA_TABLE_SETTINGS","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"),__REACT_HOT_LOADER__.register(d,"TABLE_MEDIA_TYPES","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"),__REACT_HOT_LOADER__.register(u,"DEFAULT_DATA_CELL_WIDTH","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"),__REACT_HOT_LOADER__.register(p,"CELLS_WIDTH_OVERRIDES","/srv/src/kpi/jsapp/js/components/submissions/tableConstants.es6"))},,function(e,o,r){"use strict";(function(e){var n=r(20),a=r(0),i=r.n(a),l=r(14),s=r.n(l),c=r(15),d=r(13),u=r(2),p=r(10),m=r(7),f=r(6),_=r(46),h=r(3),b=r(24),g=r(4),y=r(50);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k={};k.dmix={afterCopy:function(){Object(g.notify)(t("copied to clipboard"))},saveCloneAs:function(e){var o=this,r=e.currentTarget.dataset.versionId,n="".concat(t("Clone of")," ").concat(this.state.name),a=s.a.dialog("prompt"),i={title:"".concat(t("Clone")," ").concat(u.ASSET_TYPES.survey.label),message:t("Enter the name of the cloned ##ASSET_TYPE##. Leave empty to keep the original name.").replace("##ASSET_TYPE##",u.ASSET_TYPES.survey.label),value:n,labels:{ok:t("Ok"),cancel:t("Cancel")},onok:function(e,t){var n=o.props.params.assetid||o.props.params.uid;return h.a.resources.cloneAsset({uid:n,name:t,version_id:r},{onComplete:function(e){a.destroy(),c.f.push("/forms/".concat(e.uid))}}),!1},oncancel:function(){a.destroy()}};a.set(i).show()},cloneAsTemplate:function(e){var o=e.currentTarget.dataset.assetUid,r=e.currentTarget.dataset.assetName;k.cloneAssetAsNewType.dialog({sourceUid:o,sourceName:r,targetType:u.ASSET_TYPES.template.id,promptTitle:t("Create new template from this project"),promptMessage:t("Enter the name of the new template.")})},_deployAssetFirstTime:function(e){var o=s.a.warning(t("deploying to kobocat..."),60);h.a.resources.deployAsset(e,!1,{onDone:function(){Object(g.notify)(t("deployed form")),h.a.resources.loadAsset({id:e.uid}),c.f.push("/forms/".concat(e.uid)),o&&"function"==typeof o.dismiss&&o.dismiss()},onFail:function(){o&&"function"==typeof o.dismiss&&o.dismiss()}})},_redeployAsset:function(e){var o=s.a.dialog("confirm"),r={title:t("Overwrite existing deployment"),message:t("This form has already been deployed. Are you sure you want overwrite the existing deployment? <br/><br/><strong>This action cannot be undone.</strong>"),labels:{ok:t("Ok"),cancel:t("Cancel")},onok:function(r,n){var a=o.elements.buttons.primary.firstChild;return a.disabled=!0,a.innerText=t("Deploying..."),h.a.resources.deployAsset(e,!0,{onDone:function(){Object(g.notify)(t("redeployed form")),h.a.resources.loadAsset({id:e.uid}),o&&"function"==typeof o.destroy&&o.destroy()},onFail:function(){o&&"function"==typeof o.destroy&&o.destroy()}}),!1},oncancel:function(){o.destroy()}};o.set(r).show()},deployAsset:function(e){if(!e||e.asset_type!==u.ASSET_TYPES.survey.id){if(!this.state||this.state.asset_type!==u.ASSET_TYPES.survey.id)return void console.error("Neither the arguments nor the state supplied an asset.");e=this.state}e.has_deployment?this._redeployAsset(e):this._deployAssetFirstTime(e)},archiveAsset:function(e,t){k.clickAssets.click.asset.archive(e,t)},unarchiveAsset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;null===e?k.clickAssets.click.asset.unarchive(this.state,t):k.clickAssets.click.asset.unarchive(e,t)},deleteAsset:function(e,t,o){k.clickAssets.click.asset.delete(e,t,o)},toggleDeploymentHistory:function(){this.setState({historyExpanded:!this.state.historyExpanded})},summaryDetails:function(){return i.a.createElement("pre",null,i.a.createElement("code",null,this.state.asset_type,i.a.createElement("br",null),"[".concat(Object.keys(this.state).join(", "),"]"),i.a.createElement("br",null),JSON.stringify(this.state.summary,null,4)))},asJson:function(){return i.a.createElement("pre",null,i.a.createElement("code",null,JSON.stringify(this.state,null,4)))},dmixAssetStoreChange:function(e){var t=this._getAssetUid();e[t]&&this.setState(Object(g.assign)({},e[t]))},_getAssetUid:function(){return this.props.params?this.props.params.assetid||this.props.params.uid:this.props.formAsset?this.props.formAsset.uid:this.props.uid},componentWillUpdate:function(e){var t,o;(null===(t=this.props.params)||void 0===t?void 0:t.uid)!==(null===(o=e.params)||void 0===o?void 0:o.uid)&&h.a.resources.loadAsset({id:e.params.uid})},componentDidMount:function(){_.a.listen(this.dmixAssetStoreChange);var e=this._getAssetUid();e&&this.props.initialAssetLoadNotNeeded?this.setState(Object(g.assign)({},_.a.data[e])):e&&h.a.resources.loadAsset({id:e})},removeSharing:function(){k.clickAssets.click.asset.removeSharing(this.props.params.uid)}};var w=function(e){return new Promise((function(t,o){h.a.resources.createImport(e,(function(e){var r=setInterval((function(){m.a.getImportDetails({uid:e.uid}).done((function(e){switch(e.status){case"complete":var n=e.messages.updated||e.messages.created;n&&n.length>0&&n[0].uid?(clearInterval(r),t(n[0])):(clearInterval(r),o(e));break;case"processing":case"created":break;case"error":default:clearInterval(r),o(e)}})).fail((function(e){clearInterval(r),o(e)}))}),1e3)}))}))};k.droppable={applyFileToAsset:function(e,t){return new Promise((function(o,r){var n=new FileReader;n.onload=function(n){var a={destination:t.url,assetUid:t.uid,name:e.name,base64Encoded:n.target.result,lastModified:e.lastModified,totalFiles:1};w(a).then((function(e){o(e)}),(function(e){r(e)}))},n.readAsDataURL(e)}))},applyUrlToAsset:function(e,t){return new Promise((function(o,r){var n={destination:t.url,url:e,name:t.name,assetUid:t.uid};w(n).then((function(e){o(e)}),(function(e){r(e)}))}))},_forEachDroppedFile:function(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.context.router,n=this.props.context===u.PROJECT_SETTINGS_CONTEXTS.REPLACE&&r.isActive("forms")&&void 0!==r.params.uid,a=r.isActive("library"),i=o.totalFiles>1;if((o=Object(g.assign)({library:a},o)).base64Encoded&&f.a.pageState.showModal({type:u.MODAL_TYPES.UPLOADING_XLS,filename:i?t("## files").replace("##",o.totalFiles):o.name}),delete o.totalFiles,!a&&o.base64Encoded){var l=o.destination||this.state.url;l&&(o=Object(g.assign)({destination:l},o))}h.a.resources.createImport(o,(function(r){window.setTimeout((function(){m.a.getImportDetails({uid:r.uid}).done((function(r){if("complete"===r.status){var l=r.messages.updated||r.messages.created,d=l&&l.length>0&&l[0].uid;!a&&i?e.searchDefault():d?(n?h.a.resources.loadAsset({id:d}):a||c.f.push("/forms/".concat(d)),Object(g.notify)(t("XLS Import completed"))):(s.a.error(t('XLSForm Import failed. Check that the XLSForm and/or the URL are valid, and try again using the "Replace form" icon.')),o.assetUid&&c.f.push("/forms/".concat(o.assetUid)))}else if("processing"===r.status)s.a.warning(t("Your upload is being processed. This may take a few moments."));else if("created"===r.status)s.a.warning(t("Your upload is queued for processing. This may take a few moments."));else if("error"===r.status){var u=[];u.push(t("Import Failed!")),o.name&&u.push("<code>Name: ".concat(o.name,"</code>")),r.messages.error&&u.push("<code>".concat(r.messages.error_type,": ").concat(Object(g.escapeHtml)(r.messages.error),"</code>")),s.a.error(u.join("<br/>"))}else s.a.error(t("Import Failed!"))})).fail((function(e){s.a.error(t("Import Failed!")),Object(g.log)("import failed",e)})),f.a.pageState.hideModal()}),2500)}),(function(e){Object(g.log)("Failed to create import: ",e),s.a.error(t("Failed to create import."))}))},dropFiles:function(e,o,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.map((function(t){var o=new FileReader;o.onload=function(o){var r=Object(g.assign)({name:t.name,base64Encoded:o.target.result,lastModified:t.lastModified,totalFiles:e.length},a);n._forEachDroppedFile(r)},o.readAsDataURL(t)}));for(var i=0;i<o.length;i++){if(!o[i].type||!o[i].name){s.a.error(t("Could not recognize the dropped item(s)."));break}var l=t("Upload error: could not recognize Excel file.");l+=" (".concat(t("Uploaded file name: ")," ").concat(o[i].name,")"),s.a.error(l)}}},k.clickAssets={onActionButtonClick:function(e,t,o){this.click.asset[e].call(this,t,o)},click:{asset:{clone:function(e){var o;o="object"===v(e)?e:f.a.selectedAsset.asset||f.a.allAssets.byUid[e];var r,n=u.ASSET_TYPES[o.asset_type].label,a=d.b.getAssetDisplayName(o);a.original&&(r="".concat(t("Clone of")," ").concat(a.original));var i=s.a.dialog("prompt"),l=i.elements.buttons.primary.firstChild,p={title:"".concat(t("Clone")," ").concat(n),message:t("Enter the name of the cloned ##ASSET_TYPE##. Leave empty to keep the original name.").replace("##ASSET_TYPE##",n),value:r,labels:{ok:t("Ok"),cancel:t("Cancel")},onok:function(e,r){l.disabled=!0,l.innerText=t("Cloning...");var a=!1;if(o.parent){var s=y.a.findAssetByUrl(o.parent);a=void 0!==s&&k.permissions.userCan(u.PERMISSIONS_CODENAMES.change_asset,s)}return h.a.resources.cloneAsset({uid:o.uid,name:r,parent:a?o.parent:void 0},{onComplete:function(e){var o;l.disabled=!1,i.destroy(),o=e.asset_type===u.ASSET_TYPES.survey.id?"/forms/".concat(e.uid,"/landing"):"/library/asset/".concat(e.uid),c.f.push(o),Object(g.notify)(t("cloned ##ASSET_TYPE## created").replace("##ASSET_TYPE##",n))}}),!1},oncancel:function(){i.destroy()}};i.set(p).show()},cloneAsTemplate:function(e,o){k.cloneAssetAsNewType.dialog({sourceUid:e,sourceName:o,targetType:u.ASSET_TYPES.template.id,promptTitle:t("Create new template from this project"),promptMessage:t("Enter the name of the new template.")})},cloneAsSurvey:function(e,o){k.cloneAssetAsNewType.dialog({sourceUid:e,sourceName:o,targetType:u.ASSET_TYPES.survey.id,promptTitle:t("Create new project from this template"),promptMessage:t("Enter the name of the new project.")})},edit:function(e){this.context.router.isActive("library")?c.f.push("/library/asset/".concat(e,"/edit")):c.f.push("/forms/".concat(e,"/edit"))},delete:function(o,r,a){var i;i="object"===v(o)?o:f.a.selectedAsset.asset||f.a.allAssets.byUid[o];var l,c,d=u.ASSET_TYPES[i.asset_type].label,p=n.default.escape(r),m=s.a.dialog("confirm");i.has_deployment?(l="".concat(t("You are about to permanently delete this form.")),0!==i.deployment__submission_count&&(l+="".concat(Object(g.renderCheckbox)("dt1",t("All data gathered for this form will be deleted.")))),l+="".concat(Object(g.renderCheckbox)("dt2",t("The form associated with this project will be deleted.")),"\n            ").concat(Object(g.renderCheckbox)("dt3",t("I understand that if I delete this project I will not be able to recover it."),!0),"\n          "),c=function(t){var o=m.elements.buttons.primary.firstChild,r=e(".alertify-toggle input");o.disabled=!0,r.each((function(){e(this).prop("checked",!1)})),r.change((function(){o.disabled=!1,r.each((function(){e(this).prop("checked")||(o.disabled=!0)}))}))}):l=i.asset_type!==u.ASSET_TYPES.survey.id?t("You are about to permanently delete this item from your library."):t("You are about to permanently delete this draft.");var _={title:"".concat(t("Delete")," ").concat(d,' "').concat(p,'"'),message:l,labels:{ok:t("Delete"),cancel:t("Cancel")},onshow:c,onok:function(e,o){h.a.resources.deleteAsset({uid:i.uid,assetType:i.asset_type},{onComplete:function(){Object(g.notify)(t("##ASSET_TYPE## deleted permanently").replace("##ASSET_TYPE##",d)),"function"==typeof a&&a()}})},oncancel:function(){m.destroy(),e(".alertify-toggle input").prop("checked",!1)}};m.set(_).show()},deploy:function(e){var t=f.a.selectedAsset.asset;k.dmix.deployAsset(t)},archive:function(e,o){var r;r="object"===v(e)?e:f.a.selectedAsset.asset||f.a.allAssets.byUid[e];var n=s.a.dialog("confirm"),a={title:t("Archive Project"),message:"".concat(t("Are you sure you want to archive this project?")," <br/><br/>\n            <strong>").concat(t("Your form will not accept submissions while it is archived."),"</strong>"),labels:{ok:t("Archive"),cancel:t("Cancel")},onok:function(e,t){h.a.resources.setDeploymentActive({asset:r,active:!1}),"function"==typeof o&&o()},oncancel:function(){n.destroy()}};n.set(a).show()},unarchive:function(e,o){var r;r="object"===v(e)?e:f.a.selectedAsset.asset||f.a.allAssets.byUid[e];var n=s.a.dialog("confirm"),a={title:t("Unarchive Project"),message:"".concat(t("Are you sure you want to unarchive this project?")),labels:{ok:t("Unarchive"),cancel:t("Cancel")},onok:function(e,t){h.a.resources.setDeploymentActive({asset:r,active:!0}),"function"==typeof o&&o()},oncancel:function(){n.destroy()}};n.set(a).show()},sharing:function(e){f.a.pageState.showModal({type:u.MODAL_TYPES.SHARING,assetid:e})},refresh:function(e){f.a.pageState.showModal({type:u.MODAL_TYPES.REPLACE_PROJECT,asset:f.a.selectedAsset.asset})},translations:function(e){f.a.pageState.showModal({type:u.MODAL_TYPES.FORM_LANGUAGES,assetUid:e})},encryption:function(e){f.a.pageState.showModal({type:u.MODAL_TYPES.ENCRYPT_FORM,assetUid:e})},removeSharing:function(e){var o=(f.a.selectedAsset.asset||f.a.allAssets.byUid[e]).permissions.find((function(e){var t=e.user.split("/");return t[t.length-2]===f.a.session.currentAccount.username&&e.permission===b.a.getPermissionByCodename(u.PERMISSIONS_CODENAMES.view_asset).url})),r=s.a.dialog("confirm"),n={title:t("Remove shared form"),message:"".concat(t("Are you sure you want to remove this shared form?")),labels:{ok:t("Remove"),cancel:t("Cancel")},onok:function(t,r){h.a.permissions.removeAssetPermission(e,o.url,!0)},oncancel:function(){r.destroy()}};r.set(n).show()}}}},k.permissions={_doesPermMatch:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.permission===b.a.getPermissionByCodename(t).url&&(t!==u.PERMISSIONS_CODENAMES.partial_submissions||!!o&&e.partial_permissions.some((function(e){return e.url===b.a.getPermissionByCodename(o).url})))},isSubmissionWritable:function(e,t,o){var r=this,n=this.userCan(e,t),a=this.userCanPartially(e,t);if(n)return!0;if(!a)return!1;var i=f.a.session.currentAccount.username,l=t.permissions.find((function(t){return t.user===Object(g.buildUserUrl)(i)&&r._doesPermMatch(t,u.PERMISSIONS_CODENAMES.partial_submissions,e)})).partial_permissions.find((function(t){return t.url===b.a.getPermissionByCodename(e).url})),s=o._submitted_by,c=[];return l.filters.forEach((function(e){e._submitted_by&&(c=c.concat(e._submitted_by.$in))})),c.includes(s)},userCan:function(e,t){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.permissions)return!1;var n=f.a.session.currentAccount.username;if(t.owner__username===n)return!0;var a=t.permissions.some((function(t){return t.user===Object(g.buildUserUrl)(u.ANON_USERNAME)&&t.permission===b.a.getPermissionByCodename(e).url}));return!!a||t.permissions.some((function(t){return t.user===Object(g.buildUserUrl)(n)&&o._doesPermMatch(t,e,r)}))},userCanPartially:function(e,t){var o=f.a.session.currentAccount.username;return t.owner__username!==o&&this.userCan(u.PERMISSIONS_CODENAMES.partial_submissions,t,e)}},k.contextRouter={isFormList:function(){return this.context.router.isActive(p.b.FORMS)&&void 0===this.currentAssetID()},isLibrary:function(){return this.context.router.isActive(p.b.LIBRARY)},isMyLibrary:function(){return this.context.router.isActive(p.b.MY_LIBRARY)},isPublicCollections:function(){return this.context.router.isActive(p.b.PUBLIC_COLLECTIONS)},isLibraryList:function(){return this.context.router.isActive(p.b.LIBRARY)&&void 0===this.currentAssetID()},isLibrarySingle:function(){return this.context.router.isActive(p.b.LIBRARY)&&void 0!==this.currentAssetID()},isFormSingle:function(){return this.context.router.isActive(p.b.FORMS)&&void 0!==this.currentAssetID()},currentAssetID:function(){return this.context.router.params.assetid||this.context.router.params.uid},currentAsset:function(){return _.a.data[this.currentAssetID()]},isActiveRoute:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.context.router.isActive(e,t)},isFormBuilder:function(){if(this.context.router.isActive(p.b.NEW_LIBRARY_ITEM))return!0;var e=this.currentAssetID();return void 0!==e&&this.context.router.isActive(p.b.EDIT_LIBRARY_ITEM.replace(":uid",e))||this.context.router.isActive(p.b.NEW_LIBRARY_ITEM.replace(":uid",e))||this.context.router.isActive(p.b.FORM_EDIT.replace(":uid",e))}},k.cloneAssetAsNewType={dialog:function(e){var o=s.a.dialog("prompt"),r={title:e.promptTitle,message:e.promptMessage,value:n.default.escape(e.sourceName),labels:{ok:t("Create"),cancel:t("Cancel")},onok:function(r,n){return o.elements.buttons.primary.children[0].setAttribute("disabled",!0),o.elements.buttons.primary.children[0].innerText=t("Please waitâ€¦"),o.elements.buttons.primary.children[1].setAttribute("disabled",!0),h.a.resources.cloneAsset({uid:e.sourceUid,name:n,new_asset_type:e.targetType},{onComplete:function(e){switch(o.destroy(),e.asset_type){case u.ASSET_TYPES.survey.id:c.f.push(p.b.FORM_LANDING.replace(":uid",e.uid));break;case u.ASSET_TYPES.template.id:case u.ASSET_TYPES.block.id:case u.ASSET_TYPES.question.id:c.f.push(p.b.LIBRARY)}},onFailed:function(e){o.destroy(),s.a.error(t("Failed to create new asset!"))}}),!1},oncancel:function(e,t){o.destroy()}};o.set(r).show()}};var x=k;o.a=x;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(1e3,"IMPORT_CHECK_INTERVAL","/srv/src/kpi/jsapp/js/mixins.es6"),__REACT_HOT_LOADER__.register(k,"mixins","/srv/src/kpi/jsapp/js/mixins.es6"),__REACT_HOT_LOADER__.register(w,"applyImport","/srv/src/kpi/jsapp/js/mixins.es6"),__REACT_HOT_LOADER__.register(x,"default","/srv/src/kpi/jsapp/js/mixins.es6"))}).call(this,r(29))},function(e,t,o){"use strict";o.d(t,"g",(function(){return n})),o.d(t,"h",(function(){return a})),o.d(t,"a",(function(){return i})),o.d(t,"c",(function(){return l})),o.d(t,"e",(function(){return s})),o.d(t,"b",(function(){return c})),o.d(t,"f",(function(){return d})),o.d(t,"d",(function(){return u}));var r=o(2),n="Partial",a="Users",i={};new Set(["formView","formEdit","formManage","submissionsAdd","submissionsView","submissionsViewPartial","submissionsEdit","submissionsEditPartial","submissionsValidate","submissionsValidatePartial","submissionsDelete","submissionsDeletePartial"]).forEach((function(e){i[e]=e})),Object.freeze(i);var l={};l[i.submissionsView]=i.submissionsViewPartial,l[i.submissionsEdit]=i.submissionsEditPartial,l[i.submissionsValidate]=i.submissionsValidatePartial,l[i.submissionsDelete]=i.submissionsDeletePartial,Object.freeze(l);var s={};s[i.submissionsViewPartial]=r.PERMISSIONS_CODENAMES.view_submissions,s[i.submissionsEditPartial]=r.PERMISSIONS_CODENAMES.change_submissions,s[i.submissionsValidatePartial]=r.PERMISSIONS_CODENAMES.validate_submissions,s[i.submissionsDeletePartial]=r.PERMISSIONS_CODENAMES.delete_submissions,Object.freeze(s);var c={};c[i.formView]=r.PERMISSIONS_CODENAMES.view_asset,c[i.formEdit]=r.PERMISSIONS_CODENAMES.change_asset,c[i.formManage]=r.PERMISSIONS_CODENAMES.manage_asset,c[i.submissionsAdd]=r.PERMISSIONS_CODENAMES.add_submissions,c[i.submissionsView]=r.PERMISSIONS_CODENAMES.view_submissions,c[i.submissionsViewPartial]=r.PERMISSIONS_CODENAMES.partial_submissions,c[i.submissionsEdit]=r.PERMISSIONS_CODENAMES.change_submissions,c[i.submissionsEditPartial]=r.PERMISSIONS_CODENAMES.partial_submissions,c[i.submissionsValidate]=r.PERMISSIONS_CODENAMES.validate_submissions,c[i.submissionsValidatePartial]=r.PERMISSIONS_CODENAMES.partial_submissions,c[i.submissionsDelete]=r.PERMISSIONS_CODENAMES.delete_submissions,c[i.submissionsDeletePartial]=r.PERMISSIONS_CODENAMES.partial_submissions,Object.freeze(c);var d={};Object.keys(l).forEach((function(e){d[c[e]]=e})),Object.freeze(d);var u={};u[i.submissionsEditPartial]=[i.submissionsAdd],Object.freeze(u);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"SUFFIX_PARTIAL","/srv/src/kpi/jsapp/js/components/permissions/permConstants.es6"),__REACT_HOT_LOADER__.register(a,"SUFFIX_USERS","/srv/src/kpi/jsapp/js/components/permissions/permConstants.es6"),__REACT_HOT_LOADER__.register(i,"CHECKBOX_NAMES","/srv/src/kpi/jsapp/js/components/permissions/permConstants.es6"),__REACT_HOT_LOADER__.register(l,"PARTIAL_CHECKBOX_PAIRS","/srv/src/kpi/jsapp/js/components/permissions/permConstants.es6"),__REACT_HOT_LOADER__.register(s,"PARTIAL_PERM_PAIRS","/srv/src/kpi/jsapp/js/components/permissions/permConstants.es6"),__REACT_HOT_LOADER__.register(c,"CHECKBOX_PERM_PAIRS","/srv/src/kpi/jsapp/js/components/permissions/permConstants.es6"),__REACT_HOT_LOADER__.register(d,"PERM_CHECKBOX_PAIRS","/srv/src/kpi/jsapp/js/components/permissions/permConstants.es6"),__REACT_HOT_LOADER__.register(u,"PARTIAL_IMPLIED_CHECKBOX_PAIRS","/srv/src/kpi/jsapp/js/components/permissions/permConstants.es6"))},,function(e,t,o){"use strict";var r=o(8),n=o.n(r),a=o(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=p(e);if(t){var n=p(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return u(this,o)}}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,e);var t,o,r,n=d(i);function i(){var e;return l(this,i),(e=n.apply(this,arguments)).data={terms_of_service_url:"",privacy_policy_url:"",source_code_url:"",support_email:"",support_url:"",community_url:"",available_sectors:[],available_countries:[],all_languages:[],interface_languages:[],submission_placeholder:""},e.isReady=!1,e.nestedArrToChoiceObjs=function(){var t;return(t=e).__nestedArrToChoiceObjs__REACT_HOT_LOADER__.apply(t,arguments)},e}return t=i,(o=[{key:"__nestedArrToChoiceObjs__REACT_HOT_LOADER__",value:function(e){return{value:e[0],label:e[1]}}},{key:"init",value:function(){a.a.auth.getEnvironment.completed.listen(this.onGetEnvCompleted.bind(this)),a.a.auth.getEnvironment()}},{key:"onGetEnvCompleted",value:function(e){this.data.terms_of_service_url=e.terms_of_service_url,this.data.privacy_policy_url=e.privacy_policy_url,this.data.source_code_url=e.source_code_url,this.data.support_email=e.support_email,this.data.support_url=e.support_url,this.data.community_url=e.community_url,this.data.submission_placeholder=e.submission_placeholder,e.available_sectors&&(this.data.available_sectors=e.available_sectors.map(this.nestedArrToChoiceObjs)),e.available_countries&&(this.data.available_countries=e.available_countries.map(this.nestedArrToChoiceObjs)),e.interface_languages&&(this.data.interface_languages=e.interface_languages.map(this.nestedArrToChoiceObjs)),e.all_languages&&(this.data.all_languages=e.all_languages.map(this.nestedArrToChoiceObjs)),this.isReady=!0,this.trigger(this.data)}},{key:"getLanguages",value:function(){return this.data.all_languages}},{key:"getLanguage",value:function(e){return this.data.all_languages.find((function(t){return t.value===e}))}},{key:"getLanguageDisplayLabel",value:function(e){var t=e,o=f.getLanguage(e);return o&&(t=o.label),t}},{key:"getLanguageByName",value:function(e){return this.data.all_languages.find((function(t){return t.label.toLocaleLowerCase()===e.toLocaleLowerCase()}))}}])&&s(t.prototype,o),r&&s(t,r),i}(n.a.Store),f=new m;f.init();var _=f;t.a=_;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"EnvStore","/srv/src/kpi/jsapp/js/envStore.ts"),__REACT_HOT_LOADER__.register(f,"envStore","/srv/src/kpi/jsapp/js/envStore.ts"),__REACT_HOT_LOADER__.register(_,"default","/srv/src/kpi/jsapp/js/envStore.ts"))},function(e,t,o){"use strict";o.r(t),o.d(t,"hasRowRestriction",(function(){return i})),o.d(t,"hasAssetRestriction",(function(){return l})),o.d(t,"getLockingProfile",(function(){return s})),o.d(t,"getRowLockingProfile",(function(){return c})),o.d(t,"getAssetLockingProfile",(function(){return d})),o.d(t,"isRowLocked",(function(){return u})),o.d(t,"isAssetLocked",(function(){return p})),o.d(t,"hasAssetAnyLocking",(function(){return m})),o.d(t,"isAssetAllLocked",(function(){return f})),o.d(t,"isAssetLockable",(function(){return _})),o.d(t,"getQuestionFeatures",(function(){return h})),o.d(t,"getGroupFeatures",(function(){return b})),o.d(t,"getFormFeatures",(function(){return g}));var r=o(13),n=o(2),a=o(23);function i(e,t,o){if(f(e))return a.LOCK_ALL_RESTRICTION_NAMES.includes(o);var r=c(e,t);return!!r&&r.restrictions.includes(o)}function l(e,t){if(f(e))return a.LOCK_ALL_RESTRICTION_NAMES.includes(t);var o=d(e);return!!o&&o.restrictions.includes(t)}function s(e,t){var o=null;return e&&Array.isArray(e[a.LOCKING_PROFILES_PROP_NAME])&&e[a.LOCKING_PROFILES_PROP_NAME].forEach((function(e,r){e.name===t&&(o={index:r,name:e.name,restrictions:e.restrictions})})),o}function c(e,t){var o=e.survey.find((function(e){return Object(r.i)(e)===t}));return o&&"string"==typeof o[a.LOCKING_PROFILE_PROP_NAME]&&o[a.LOCKING_PROFILE_PROP_NAME].length>=1?s(e,o[a.LOCKING_PROFILE_PROP_NAME]):null}function d(e){return e.settings&&"string"==typeof e.settings[a.LOCKING_PROFILE_PROP_NAME]&&e.settings[a.LOCKING_PROFILE_PROP_NAME].length>=1?s(e,e.settings[a.LOCKING_PROFILE_PROP_NAME]):null}function u(e,t){return!!f(e)||Boolean(c(e,t))}function p(e){return!!f(e)||Boolean(d(e))}function m(e){if(p(e))return!0;var t=null==e?void 0:e.survey.find((function(t){return u(e,Object(r.i)(t))}));return Boolean(t)}function f(e){return Boolean((null==e?void 0:e.settings)&&!0===e.settings[a.LOCK_ALL_PROP_NAME])}function _(e){return e===n.ASSET_TYPES.survey.id}function h(e,t){return e.survey.find((function(e){return Object(r.i)(e)===t}))?y(a.QUESTION_RESTRICTIONS,c(e,t),f(e)):null}function b(e,t){return e.survey.find((function(e){return Object(r.i)(e)===t}))?y(a.GROUP_RESTRICTIONS,c(e,t),f(e)):null}function g(e){return y(a.FORM_RESTRICTIONS,d(e),f(e))}function y(e,t,o){var r={cans:[],cants:[]};return e.forEach((function(e){o||t&&t.restrictions.includes(e.name)?r.cants.push(e):r.cans.push(e)})),r}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"hasRowRestriction","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(l,"hasAssetRestriction","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(s,"getLockingProfile","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(c,"getRowLockingProfile","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(d,"getAssetLockingProfile","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(u,"isRowLocked","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(p,"isAssetLocked","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(m,"hasAssetAnyLocking","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(f,"isAssetAllLocked","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(_,"isAssetLockable","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(h,"getQuestionFeatures","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(b,"getGroupFeatures","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(g,"getFormFeatures","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"),__REACT_HOT_LOADER__.register(y,"_getFeatures","/srv/src/kpi/jsapp/js/components/locking/lockingUtils.es6"))},function(e,o,r){"use strict";r.r(o),r.d(o,"LOCKING_RESTRICTIONS",(function(){return n})),r.d(o,"QUESTION_RESTRICTIONS",(function(){return a})),r.d(o,"GROUP_RESTRICTIONS",(function(){return i})),r.d(o,"FORM_RESTRICTIONS",(function(){return l})),r.d(o,"LOCK_ALL_RESTRICTION_NAMES",(function(){return s})),r.d(o,"LOCK_ALL_PROP_NAME",(function(){return c})),r.d(o,"LOCKING_PROFILE_PROP_NAME",(function(){return d})),r.d(o,"LOCKING_PROFILES_PROP_NAME",(function(){return u})),r.d(o,"LOCKING_UI_CLASSNAMES",(function(){return p}));var n=Object.freeze({choice_add:{name:"choice_add",label:t("Add choice to question")},choice_delete:{name:"choice_delete",label:t("Remove choice from question")},choice_label_edit:{name:"choice_label_edit",label:t("Edit choice labels")},choice_order_edit:{name:"choice_order_edit",label:t("Change choice order")},choice_value_edit:{name:"choice_value_edit",label:t("Edit choice values")},question_delete:{name:"question_delete",label:t("Delete question")},question_label_edit:{name:"question_label_edit",label:t("Edit question labels")},question_settings_edit:{name:"question_settings_edit",label:t("Edit question settings")},question_skip_logic_edit:{name:"question_skip_logic_edit",label:t("Edit skip logic")},question_validation_edit:{name:"question_validation_edit",label:t("Edit validation")},group_delete:{name:"group_delete",label:t("Delete entire group")},group_label_edit:{name:"group_label_edit",label:t("Edit group labels")},group_question_add:{name:"group_question_add",label:t("Add question to group")},group_question_delete:{name:"group_question_delete",label:t("Remove question from group")},group_question_order_edit:{name:"group_question_order_edit",label:t("Change question order within group")},group_settings_edit:{name:"group_settings_edit",label:t("Edit group settings")},group_skip_logic_edit:{name:"group_skip_logic_edit",label:t("Edit skip logic")},group_split:{name:"group_split",label:t("Split group")},form_appearance:{name:"form_appearance",label:t("Change form appearance")},form_meta_edit:{name:"form_meta_edit",label:t("Change form meta questions")},form_replace:{name:"form_replace",label:t("Replace whole form")},group_add:{name:"group_add",label:t("Add group")},question_add:{name:"question_add",label:t("Add question")},question_order_edit:{name:"question_order_edit",label:t("Change question order")},language_edit:{name:"language_edit",label:t("Change languages")}}),a=[n.choice_add,n.choice_delete,n.choice_label_edit,n.choice_order_edit,n.choice_value_edit,n.question_delete,n.question_label_edit,n.question_settings_edit,n.question_skip_logic_edit,n.question_validation_edit],i=[n.group_delete,n.group_label_edit,n.group_question_add,n.group_question_delete,n.group_question_order_edit,n.group_settings_edit,n.group_skip_logic_edit,n.group_split],l=[n.form_appearance,n.form_meta_edit,n.form_replace,n.group_add,n.question_add,n.question_order_edit,n.language_edit],s=[n.choice_add.name,n.choice_delete.name,n.choice_label_edit.name,n.choice_order_edit.name,n.choice_value_edit.name,n.question_delete.name,n.question_label_edit.name,n.question_settings_edit.name,n.question_skip_logic_edit.name,n.question_validation_edit.name,n.group_delete.name,n.group_label_edit.name,n.group_question_add.name,n.group_question_delete.name,n.group_question_order_edit.name,n.group_settings_edit.name,n.group_skip_logic_edit.name,n.group_split.name,n.form_appearance.name,n.form_meta_edit.name,n.form_replace.name,n.group_add.name,n.question_add.name,n.question_order_edit.name,n.language_edit.name],c="kobo--lock_all",d="kobo--locking-profile",u="kobo--locking-profiles",p={HIDDEN:"locking__ui-hidden",DISABLED:"locking__ui-disabled"};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"LOCKING_RESTRICTIONS","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"),__REACT_HOT_LOADER__.register(a,"QUESTION_RESTRICTIONS","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"),__REACT_HOT_LOADER__.register(i,"GROUP_RESTRICTIONS","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"),__REACT_HOT_LOADER__.register(l,"FORM_RESTRICTIONS","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"),__REACT_HOT_LOADER__.register(s,"LOCK_ALL_RESTRICTION_NAMES","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"),__REACT_HOT_LOADER__.register(c,"LOCK_ALL_PROP_NAME","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"),__REACT_HOT_LOADER__.register(d,"LOCKING_PROFILE_PROP_NAME","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"),__REACT_HOT_LOADER__.register(u,"LOCKING_PROFILES_PROP_NAME","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"),__REACT_HOT_LOADER__.register(p,"LOCKING_UI_CLASSNAMES","/srv/src/kpi/jsapp/js/components/locking/lockingConstants.es6"))},function(e,o,r){"use strict";var n=r(8);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=u(e);if(t){var n=u(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return d(this,o)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var o,r,n,a=c(d);function d(){var e;return i(this,d),(e=a.apply(this,arguments)).permissions=[],e}return o=d,(r=[{key:"setPermissions",value:function(e){this.permissions=e}},{key:"getPermissionByCodename",value:function(e){return this.verifyReady(),this.permissions.find((function(t){return t.codename===e}))}},{key:"getPermission",value:function(e){return this.verifyReady(),this.permissions.find((function(t){return t.url===e}))}},{key:"verifyReady",value:function(){if(!this.isReady())throw new Error(t("Permission config is not ready or failed to initialize!"))}},{key:"isReady",value:function(){return Array.isArray(this.permissions)&&0!==this.permissions.length}}])&&l(o.prototype,r),n&&l(o,n),d}(r.n(n).a.Store),m=new p,f=m;o.a=f;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(p,"PermConfigStore","/srv/src/kpi/jsapp/js/components/permissions/permConfig.ts"),__REACT_HOT_LOADER__.register(m,"permConfig","/srv/src/kpi/jsapp/js/components/permissions/permConfig.ts"),__REACT_HOT_LOADER__.register(f,"default","/srv/src/kpi/jsapp/js/components/permissions/permConfig.ts"))},function(e,o,r){"use strict";r.d(o,"a",(function(){return x}));var n=r(0),a=r.n(n),i=r(1);r(546),r(548);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=p(e);if(t){var n=p(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return u(this,o)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(i,e);var t,o,r,n=d(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,e)}return t=i,(o=[{key:"render",value:function(){var e=[];Array.isArray(this.props.classNames)&&"string"==typeof this.props.classNames[0]&&(e=this.props.classNames);var t=this.props.size||"s";return e.push("k-icon--size-".concat(t)),e.push("k-icon"),e.push("k-icon-".concat(this.props.name)),a.a.createElement("i",{className:e.join(" ")})}}])&&s(t.prototype,o),r&&s(t,r),i}(a.a.Component),f=m,_=f;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("s","DefaultSize","/srv/src/kpi/jsapp/js/components/common/icon.tsx"),__REACT_HOT_LOADER__.register(m,"Icon","/srv/src/kpi/jsapp/js/components/common/icon.tsx"),__REACT_HOT_LOADER__.register(f,"default","/srv/src/kpi/jsapp/js/components/common/icon.tsx"));function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=w(e);if(t){var n=w(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return k(this,o)}}function k(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var o,r,n,l=v(s);function s(){return b(this,s),l.apply(this,arguments)}return o=s,(r=[{key:"render",value:function(){var e=this.props.message||t("loadingâ€¦");return a.a.createElement(i.a.Loading,null,a.a.createElement(i.a.Loading__inner,null,a.a.createElement(_,{name:"spinner",size:"xl",classNames:["k-spin"]}),e))}}])&&g(o.prototype,r),n&&g(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(x,"LoadingSpinner","/srv/src/kpi/jsapp/js/components/common/loadingSpinner.tsx")},,,function(e,o,r){"use strict";r.d(o,"d",(function(){return a})),r.d(o,"b",(function(){return i})),r.d(o,"c",(function(){return l})),r.d(o,"a",(function(){return s}));var n=r(2),a=Object.freeze({PROJECTS:{label:t("Projects"),href:"#/forms"},MY_LIBRARY:{label:t("My Library"),href:"#/library/my-library"},PUBLIC_COLLECTIONS:{label:t("Public Collections"),href:"#/library/public-collections"}}),i=Object(n.createEnum)(["MY_LIBRARY","COLLECTION_CONTENT","PUBLIC_COLLECTIONS"]),l=Object(n.createEnum)(["ascending","descending"]),s=Object.freeze({"icon-status":{label:t("Type"),id:"icon-status",orderBy:"asset_type",defaultValue:l.ascending},"date-modified":{label:t("Last Modified"),id:"date-modified",orderBy:"date_modified",defaultValue:l.descending},name:{label:t("Name"),id:"name",orderBy:"name",defaultValue:l.ascending},"items-count":{label:t("Items"),id:"items-count",orderBy:null,defaultValue:null},owner:{label:t("Owner"),id:"owner",orderBy:"owner__username",defaultValue:l.ascending},"subscribers-count":{label:t("Subscribers"),id:"subscribers-count",orderBy:"subscribers_count",defaultValue:l.ascending},languages:{label:t("Languages"),id:"languages",filterBy:"summary__languages__icontains",filterByPath:["summary","languages"],filterByMetadataName:"languages"},"primary-sector":{label:t("Primary Sector"),id:"primary-sector",filterBy:"settings__sector__value",filterByPath:["settings","sector"],filterByMetadataName:"sectors"}});"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"ROOT_BREADCRUMBS","/srv/src/kpi/jsapp/js/components/library/libraryConstants.es6"),__REACT_HOT_LOADER__.register(i,"ASSETS_TABLE_CONTEXTS","/srv/src/kpi/jsapp/js/components/library/libraryConstants.es6"),__REACT_HOT_LOADER__.register(l,"ORDER_DIRECTIONS","/srv/src/kpi/jsapp/js/components/library/libraryConstants.es6"),__REACT_HOT_LOADER__.register(s,"ASSETS_TABLE_COLUMNS","/srv/src/kpi/jsapp/js/components/library/libraryConstants.es6"))},,,function(e,t,o){"use strict";var r,n=o(0),a=o.n(n),i=o(1),l=o(92),s=o.n(l);o(558);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=f(e);if(t){var n=f(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return m(this,o)}}function m(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e["text-multiline"]="text-multiline",e.text="text",e.email="email",e.password="password",e.url="url",e.number="number"}(r||(r={}));var _=r.text,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(c,e);var t,o,n,l=p(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),l.call(this,e)}return t=c,(o=[{key:"onChange",value:function(e){this.props.readOnly||this.props.onChange(e.currentTarget.value)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e.currentTarget.value)}},{key:"onKeyPress",value:function(e){"function"==typeof this.props.onKeyPress&&this.props.onKeyPress(e.key,e)}},{key:"render",value:function(){var e=[];Array.isArray(this.props.customModifiers)&&"string"==typeof this.props.customModifiers[0]?e=this.props.customModifiers:"string"==typeof this.props.customModifiers&&e.push(this.props.customModifiers);var t=[];Array.isArray(this.props.errors)?t=this.props.errors:"string"==typeof this.props.errors&&this.props.errors.length>0&&t.push(this.props.errors),(t.length>0||!0===this.props.errors)&&e.push("error");var o=_;if(this.props.type&&-1!==Object.keys(r).indexOf(this.props.type))o=this.props.type;else if(this.props.type)throw new Error("Unknown TextBox type: ".concat(this.props.type,"!"));var n={value:this.props.value,placeholder:this.props.placeholder,onChange:this.onChange.bind(this),onBlur:this.onBlur.bind(this),onKeyPress:this.onKeyPress.bind(this),readOnly:this.props.readOnly,disabled:this.props.disabled};return a.a.createElement(i.a.TextBox,{m:e},this.props.label&&a.a.createElement(i.a.TextBox__label,null,this.props.label),"text-multiline"===this.props.type&&a.a.createElement(s.a,Object.assign({className:"text-box__input"},n)),"text-multiline"!==this.props.type&&a.a.createElement(i.a.TextBox__input,Object.assign({type:o},n)),this.props.description&&a.a.createElement(i.a.TextBox__description,null,this.props.description),t.length>0&&a.a.createElement(i.a.TextBox__error,null,t.join("\n")))}}])&&d(t.prototype,o),n&&d(t,n),c}(a.a.Component),b=h;t.a=b;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"AvailableType","/srv/src/kpi/jsapp/js/components/common/textBox.tsx"),__REACT_HOT_LOADER__.register(_,"DefaultType","/srv/src/kpi/jsapp/js/components/common/textBox.tsx"),__REACT_HOT_LOADER__.register(h,"TextBox","/srv/src/kpi/jsapp/js/components/common/textBox.tsx"),__REACT_HOT_LOADER__.register(b,"default","/srv/src/kpi/jsapp/js/components/common/textBox.tsx"))},,,function(e,t,o){"use strict";var r=o(0),n=o.n(r),a=o(9),i=o.n(a),l=o(1);o(529);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=f(e);if(t){var n=f(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return p(this,o)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,o,r,a=u(s);function s(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),"function"!=typeof e.onChange)throw new Error("onChange callback missing!");return t=a.call(this,e),i()(m(t)),t}return t=s,(o=[{key:"onChange",value:function(e){this.props.onChange(e.currentTarget.checked)}},{key:"render",value:function(){var e=[];return this.props.disabled&&e.push("disabled"),n.a.createElement(l.a.Checkbox,{m:e},n.a.createElement(l.a.Checkbox__wrapper,null,n.a.createElement(l.a.Checkbox__input,{type:"checkbox",name:this.props.name,onChange:this.onChange,checked:this.props.checked,disabled:this.props.disabled}),this.props.label&&n.a.createElement(l.a.Checkbox__label,null,this.props.label)))}}])&&c(t.prototype,o),r&&c(t,r),s}(n.a.Component),h=_;t.a=h;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"Checkbox","/srv/src/kpi/jsapp/js/components/common/checkbox.tsx"),__REACT_HOT_LOADER__.register(h,"default","/srv/src/kpi/jsapp/js/components/common/checkbox.tsx"))},,,function(e,t,o){"use strict";o.r(t),o.d(t,"getFormBuilderAssetType",(function(){return c})),o.d(t,"surveyToValidJson",(function(){return d})),o.d(t,"unnullifyTranslations",(function(){return u})),o.d(t,"nullifyTranslations",(function(){return p})),o.d(t,"koboMatrixParser",(function(){return m})),o.d(t,"readParameters",(function(){return f})),o.d(t,"writeParameters",(function(){return _}));var r=o(52),n=o.n(r),a=o(2);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function c(e,t){return e&&a.ASSET_TYPES[e]?a.ASSET_TYPES[e]:t&&a.ASSET_TYPES[t]?a.ASSET_TYPES[t]:null}function d(e){return e.toFlatJSON(),JSON.stringify(e.toFlatJSON())}function u(e,t){var o=JSON.parse(e),r=[];t.translated&&(r=t.translated);var n=t.translations_0;return n||(n=null),o.settings[0].default_language||null===n||(o.settings[0].default_language=n),null!==n&&(o.choices&&o.choices.forEach((function(e){r.forEach((function(t){void 0!==e[t]&&(e["".concat(t,"::").concat(n)]=e[t],delete e[t])}))})),o.survey&&o.survey.forEach((function(e){r.forEach((function(t){void 0!==e[t]&&(void 0===o.settings[0]||"string"!=typeof o.settings[0].style||!o.settings[0].style.includes("theme-grid")||"begin_group"!==e.type||null!==e[t]&&""!==e[t]||delete e[t],e["".concat(t,"::").concat(n)]=e[t],delete e[t])}))}))),JSON.stringify(o)}function p(e,t,o,r){var a={survey:n()(o),translations:n()(e)};if(void 0===e)return a.translations=[null],a;if(a.translations.length>1&&-1!==a.translations.indexOf(null))throw new Error('There is an unnamed translation in your form definition.\nPlease give a name to all translations in your form.\nUse "Manage Translations" option from form landing page.');if(r){var i=r._initialParams.translations_0||null;if(a.translations[0]===i);else if(a.translations.includes(i)){var l=a.translations.indexOf(i);a.translations.unshift(a.translations.pop(l)),a.survey.forEach((function(e){t.forEach((function(t){var o=e[t];o&&o.unshift(o.pop(l))}))}))}a.translations.includes(i)||(a.translations.unshift(i),a.survey.forEach((function(e){t.forEach((function(t){if(e[t]){var o=null;e.name?o=e.name:e.$autoname&&(o=e.$autoname),e[t].unshift(o)}}))})))}return null!==a.translations[0]&&(a.translations_0=a.translations[0],a.translations[0]=null),a}function m(e){var t={};if(e.content&&(t=JSON.parse(e.content)),e.source&&(t=JSON.parse(e.source)),!t.survey)return e;for(var o=!1,r=t.survey.length,n=0;n<r;n++)"kobomatrix"===t.survey[n].type&&(t.survey[n].type="begin_kobomatrix",t.survey[n].appearance="field-list",r++,t.survey.splice(n+1,0,{type:"end_kobomatrix",$kuid:"/".concat(t.survey[n].$kuid)}));for(n=0;n<r;n++)if("begin_kobomatrix"===t.survey[n].type){o=!0;var a=localStorage.getItem("koboMatrix.".concat(t.survey[n].$kuid));if(null!=a){var i,s=l((a=JSON.parse(a)).cols);try{for(s.s();!(i=s.n()).done;){var c=i.value;n++,r++,t.survey.splice(n,0,a[c])}}catch(e){s.e(e)}finally{s.f()}for(var d=0,u=Object.keys(a.choices);d<u.length;d++){var p=u[d];t.choices.push(a.choices[p])}}}return o&&(e.content&&(e.content=JSON.stringify(t)),e.source&&(e.source=JSON.stringify(t))),e}function f(e){if("string"!=typeof e)return null;var t={},o=" ";e.includes(";")?o=";":e.includes(",")&&(o=",");var r=";, ".replace(o,"");return e.replace(new RegExp(" *= *","g"),"=").split(new RegExp("[".concat(r,"]*").concat(o,"[").concat(r,"]*"),"g")).forEach((function(e){if(e.includes("=")){var o=e.slice(0,e.indexOf("=")),r=e.slice(o.length+1);t[o]=r}})),Object.keys(t).length<1?null:t}function _(e){var t=[];return Object.keys(e).forEach((function(o){if(void 0!==e[o]&&null!==e[o]){var r=e[o];"object"===i(r)&&(r=JSON.stringify(r)),t.push("".concat(o,"=").concat(r))}})),t.join(";")}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"getFormBuilderAssetType","/srv/src/kpi/jsapp/js/components/formBuilder/formBuilderUtils.es6"),__REACT_HOT_LOADER__.register(d,"surveyToValidJson","/srv/src/kpi/jsapp/js/components/formBuilder/formBuilderUtils.es6"),__REACT_HOT_LOADER__.register(u,"unnullifyTranslations","/srv/src/kpi/jsapp/js/components/formBuilder/formBuilderUtils.es6"),__REACT_HOT_LOADER__.register(p,"nullifyTranslations","/srv/src/kpi/jsapp/js/components/formBuilder/formBuilderUtils.es6"),__REACT_HOT_LOADER__.register(m,"koboMatrixParser","/srv/src/kpi/jsapp/js/components/formBuilder/formBuilderUtils.es6"),__REACT_HOT_LOADER__.register(f,"readParameters","/srv/src/kpi/jsapp/js/components/formBuilder/formBuilderUtils.es6"),__REACT_HOT_LOADER__.register(_,"writeParameters","/srv/src/kpi/jsapp/js/components/formBuilder/formBuilderUtils.es6"))},function(e,t,o){"use strict";o.d(t,"i",(function(){return a})),o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return l})),o.d(t,"h",(function(){return s})),o.d(t,"f",(function(){return p})),o.d(t,"g",(function(){return m})),o.d(t,"e",(function(){return V})),o.d(t,"d",(function(){return z})),o.d(t,"c",(function(){return Y}));var r=o(15),n=o(10);function a(){window.location.replace(i())}function i(){var e=n.a.LOGIN,t=r.f.getCurrentLocation();if(null==t?void 0:t.pathname){var o=encodeURIComponent("/#".concat(t.pathname));e+="?next=".concat(o)}return e}function l(){return r.f.getCurrentLocation().pathname}function s(){return l()===n.b.ROOT}function c(){return l()===n.b.ACCOUNT_SETTINGS}function d(){return l()===n.b.CHANGE_PASSWORD}function u(){return l()===n.b.LIBRARY}function p(){return l()===n.b.MY_LIBRARY}function m(){return l()===n.b.PUBLIC_COLLECTIONS}function f(){return l()===n.b.NEW_LIBRARY_ITEM}function _(e){return l()===n.b.LIBRARY_ITEM.replace(":uid",e)}function h(e){return l()===n.b.EDIT_LIBRARY_ITEM.replace(":uid",e)}function b(e){return l()===n.b.NEW_LIBRARY_CHILD.replace(":uid",e)}function g(e){return l()===n.b.LIBRARY_ITEM_JSON.replace(":uid",e)}function y(e){return l()===n.b.LIBRARY_ITEM_XFORM.replace(":uid",e)}function v(){return l()===n.b.FORMS}function k(e){return l()===n.b.FORM.replace(":uid",e)}function w(e){return l()===n.b.FORM_JSON.replace(":uid",e)}function x(e){return l()===n.b.FORM_XFORM.replace(":uid",e)}function E(e){return l()===n.b.FORM_EDIT.replace(":uid",e)}function S(e){return l()===n.b.FORM_SUMMARY.replace(":uid",e)}function O(e){return l()===n.b.FORM_LANDING.replace(":uid",e)}function T(e){return l()===n.b.FORM_DATA.replace(":uid",e)}function R(e){return l()===n.b.FORM_REPORT.replace(":uid",e)}function A(e){return l()===n.b.FORM_TABLE.replace(":uid",e)}function C(e){return l()===n.b.FORM_DOWNLOADS.replace(":uid",e)}function j(e){return l()===n.b.FORM_GALLERY.replace(":uid",e)}function P(e){return l()===n.b.FORM_MAP.replace(":uid",e)}function L(e,t){return l()===n.b.FORM_MAP_BY.replace(":uid",e).replace(":viewby",t)}function D(e){return l()===n.b.FORM_SETTINGS.replace(":uid",e)}function N(e){return l()===n.b.FORM_MEDIA.replace(":uid",e)}function M(e){return l()===n.b.FORM_SHARING.replace(":uid",e)}function I(e){return l()===n.b.FORM_REST.replace(":uid",e)}function F(e,t){return l()===n.b.FORM_REST_HOOK.replace(":uid",e).replace(":hookUid",t)}function U(e){return l()===n.b.FORM_KOBOCAT.replace(":uid",e)}function H(e){return l()===n.b.FORM_RESET.replace(":uid",e)}function B(){return l().startsWith(n.b.FORMS)}function V(){return l().startsWith(n.b.LIBRARY)}function z(){return l().startsWith(n.b.LIBRARY_ITEM.replace(":uid",""))}function q(){return l().startsWith(n.b.FORM.replace(":uid",""))}function Y(){return q()?l().split("/")[2]:z()?l().split("/")[3]:void 0}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"redirectToLogin","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(i,"getLoginUrl","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(l,"getCurrentPath","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(s,"isRootRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(c,"isAccountSettingsRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(d,"isChangePasswordRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(u,"isLibraryRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(p,"isMyLibraryRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(m,"isPublicCollectionsRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(f,"isNewLibraryItemRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(_,"isLibraryItemRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(h,"isEditLibraryItemRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(b,"isNewLibraryChildRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(g,"isLibraryItemJsonRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(y,"isLibraryItemXformRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(v,"isFormsRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(k,"isFormRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(w,"isFormJsonRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(x,"isFormXformRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(E,"isFormEditRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(S,"isFormSummaryRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(O,"isFormLandingRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(T,"isFormDataRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(R,"isFormReportRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(A,"isFormTableRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(C,"isFormDownloadsRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(j,"isFormGalleryRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(P,"isFormMapRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(L,"isFormMapByRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(D,"isFormSettingsRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(N,"isFormMediaRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(M,"isFormSharingRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(I,"isFormRestRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(F,"isFormRestHookRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(U,"isFormKobocatRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(H,"isFormResetRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(B,"isAnyFormsRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(V,"isAnyLibraryRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(z,"isAnyLibraryItemRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(q,"isAnyFormRoute","/srv/src/kpi/jsapp/js/router/routerUtils.ts"),__REACT_HOT_LOADER__.register(Y,"getRouteAssetUid","/srv/src/kpi/jsapp/js/router/routerUtils.ts"))},function(e,t,o){"use strict";var r=o(8),n=o.n(r),a=o(52),i=o.n(a),l=o(46),s=o(18),c=o(3),d=o(38),u=o(13),p=o(2),m=o(16);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var b=n.a.createStore({data:{overrides:{}},getTableSettings:function(){var e={},t=this.getCurrentAsset();return(null==t?void 0:t.settings)&&(null==t?void 0:t.settings[m.b])&&(e=i()(t.settings[m.b]),void 0!==this.data.overrides[m.c.SHOW_GROUP]&&(e[m.c.SHOW_GROUP]=this.data.overrides[m.c.SHOW_GROUP]),void 0!==this.data.overrides[m.c.TRANSLATION]&&(e[m.c.TRANSLATION]=this.data.overrides[m.c.TRANSLATION]),void 0!==this.data.overrides[m.c.SHOW_HXL]&&(e[m.c.SHOW_HXL]=this.data.overrides[m.c.SHOW_HXL]),void 0!==this.data.overrides[m.c.SORT_BY]&&(e[m.c.SORT_BY]=this.data.overrides[m.c.SORT_BY])),e},saveTableSettings:function(e){var t=this.getCurrentAsset(),o=i()(t.settings);o[m.b]?o[m.b]=Object.assign(o[m.b],e):o[m.b]=e,t&&s.a.permissions.userCan(p.PERMISSIONS_CODENAMES.change_asset,t)?(Object.keys(o[m.b]).forEach((function(e){null===o[m.b][e]&&delete o[m.b][e]})),c.a.table.updateSettings(t.uid,o)):this.setOverrides(o[m.b])},setOverrides:function(e){var t=i()(this.data);void 0!==e[m.c.SHOW_GROUP]&&(this.data.overrides[m.c.SHOW_GROUP]=e[m.c.SHOW_GROUP]),void 0!==e[m.c.TRANSLATION]&&(this.data.overrides[m.c.TRANSLATION]=e[m.c.TRANSLATION]),void 0!==e[m.c.SHOW_HXL]&&(this.data.overrides[m.c.SHOW_HXL]=e[m.c.SHOW_HXL]),void 0!==e[m.c.SORT_BY]&&(this.data.overrides[m.c.SORT_BY]=e[m.c.SORT_BY]),this.trigger(t,this.data)},getCurrentAsset:function(){return l.a.getAsset(Object(d.c)())},getAllColumns:function(e){var t=this.getCurrentAsset(),o=Object(u.j)(t.content.survey),r=Object.values(o),n=Object.keys(e.reduce((function(e,t){return Object.assign(e,t)}),{}));r=(r=(r=_(new Set([].concat(_(n),_(r))))).filter((function(e){return!1===m.e.includes(e)}))).filter((function(e){var r=Object.keys(o).find((function(t){return o[t]===e}));return!r||void 0===t.content.survey.find((function(e){return void 0!==r&&(r===e.name||r===e.$autoname)&&e.type===p.QUESTION_TYPES.note.id}))}));var a=[],i=!1;t.content.survey.forEach((function(e){if(e.type===p.GROUP_TYPES_BEGIN.begin_kobomatrix)i=!0;else if(e.type===p.GROUP_TYPES_END.end_kobomatrix)i=!1;else if(i){var t=o[e.name]||o[e.$autoname];a.push(t)}})),r=r.filter((function(e){return!1===a.includes(e)}));var l=[],s=Object(u.j)(t.content.survey,!0);return t.content.survey.forEach((function(e){if(e.type===p.GROUP_TYPES_BEGIN.begin_repeat){var t=s[e.name]||s[e.$autoname];l.push(t)}})),r=r.filter((function(e){return!1===l.includes(e)}))},getHideableColumns:function(e){var t=this.getAllColumns(e);return t.push(m.i),t},getSelectedColumns:function(){var e=this.getTableSettings();return Array.isArray(e[m.c.SELECTED_COLUMNS])?e[m.c.SELECTED_COLUMNS]:null},getFrozenColumn:function(){var e=null,t=this.getTableSettings();return void 0!==t[m.c.FROZEN_COLUMN]&&(e=t[m.c.FROZEN_COLUMN]),e},isFieldVisible:function(e){if(this.isFieldFrozen(e))return!0;if(e===m.g)return!0;var t=this.getSelectedColumns();return null===t||(!Array.isArray(t)||t.includes(e))},isFieldFrozen:function(e){return this.getFrozenColumn()===e},setFrozenColumn:function(e,t){var o=null;t&&(o=e);var r={};r[m.c.FROZEN_COLUMN]=o,this.saveTableSettings(r)},getFieldSortValue:function(e){var t=this.getSortBy();return null===t?null:(null==t?void 0:t.fieldId)===e?t.value:null},setSortBy:function(e,t){var o=null;null!==t&&(o={fieldId:e,value:t});var r={};r[m.c.SORT_BY]=o,this.saveTableSettings(r)},getSortBy:function(){var e=null,t=this.getTableSettings();return void 0!==t[m.c.SORT_BY]&&(e=t[m.c.SORT_BY]),e},showAllFields:function(){var e={};e[m.c.SELECTED_COLUMNS]=null,this.saveTableSettings(e)},showField:function(e,t){var o=this.getSelectedColumns(),r=null;Array.isArray(o)&&(r=_(o)).push(t),this.setFieldsVisibility(e,r)},hideField:function(e,t){var o=this.getSelectedColumns(),r=this.getHideableColumns(e),n=[];null===o&&(n=_(r)).splice(n.indexOf(t),1),Array.isArray(o)&&(n=_(o)).splice(n.indexOf(t),1),this.setFieldsVisibility(e,n)},setFieldsVisibility:function(e,t){var o=this.getHideableColumns(e),r=t;r.length===o.length&&(r=null);var n={};n[m.c.SELECTED_COLUMNS]=r;var a=this.getFrozenColumn();null===a||r.includes(a)||(n[m.c.FROZEN_COLUMN]=null);var i=this.getSortBy();null===i||"object"!==f(i)||r.includes(i.fieldId)||(n[m.c.SORT_BY]=null),this.saveTableSettings(n)},getShowGroupName:function(){var e=!0,t=this.getTableSettings();return void 0!==t[m.c.SHOW_GROUP]&&(e=t[m.c.SHOW_GROUP]),e},getTranslationIndex:function(){var e=0,t=this.getTableSettings();return void 0!==t[m.c.TRANSLATION]&&(e=t[m.c.TRANSLATION]),e},getShowHXLTags:function(){var e=!1,t=this.getTableSettings();return void 0!==t[m.c.SHOW_HXL]&&(e=t[m.c.SHOW_HXL]),e}}),g=b;t.a=g;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"tableStore","/srv/src/kpi/jsapp/js/components/submissions/tableStore.es6"),__REACT_HOT_LOADER__.register(g,"default","/srv/src/kpi/jsapp/js/components/submissions/tableStore.es6"))},function(e,t,o){var r,n,a,i,l,s=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};a=o(20),r=o(153),n=o(155),e.exports=(i=function(e){return e.replace(/^[\s\t\uFEFF\xA0]+|[\s\t\uFEFF\xA0]+$/g,"")},(l={skipLogicParser:r,validationLogicParser:n}).split_paste=function(e){var t,o,r,n,l,s,c,d,u,p,m,f,_,h,b,g;for(u=[],t=0,l=(m=e.split("\n")).length;t<l;t++)h=m[t],(b=i(h)).match(/^\s*$/)||u.push(b.split(/\t/));for(p=[],o=0,s=(f=u.slice(1)).length;o<s;o++){for(d=[],c=r=0,_=(h=f[o]).length;0<=_?r<_:r>_;c=0<=_?++r:--r)n=u[0][c],(g=h[c]).length>0&&d.push([n,g]);p.push(a.object(d))}return p},l.txtid=function(){return"AAnCAnn".replace(/[AaCn]/g,(function(e){var t,o,r;return r=function(){var e;return e=Math.floor(52*Math.random()),e+=e<=25?65:71,String.fromCharCode(e)},o=Math.random(),"a"===e?r():"A"===e?String.fromCharCode(65+(26*o|0)):"C"===e?(t=Math.floor(62*o))>52?t-52:r():"n"===e?Math.floor(10*o):void 0})).toLowerCase()},l.parseHelper={parseSkipLogic:function(e,t,o){var n,a,i,l,s,c;e.meta.set("rawValue",t);try{for(s=r(t),e.reset(),e.parseable=!0,c=s.criteria,a=0,i=c.length;a<i;a++)l={name:(n=c[a]).name,expressionCode:n.operator},"multiplechoice_selected"===n.operator?l.criterionOption=e.getSurvey().findRowByName(n.name).getList().options.get(n.response_value):l.criterion=n.response_value,e.add(l,{silent:!0,_parent:o});return void(s.operator&&e.meta.set("delimSelect",s.operator.toLowerCase()))}catch(t){return e.parseable=!1}}},l.sluggifyLabel=function(e,t){return null==t&&(t=[]),l.sluggify(e,{preventDuplicates:t,lowerCase:!1,preventDuplicateUnderscores:!0,stripSpaces:!0,lrstrip:!0,incrementorPadding:3,validXmlTag:!0})},l.isValidXmlTag=function(e){return 0===e.search(/^[a-zA-Z_:]([a-zA-Z0-9_:.])*$/)},l.sluggify=function(e,t){var o;if(null==t&&(t={}),""===e)return"";if((t=a.defaults(t,{lrstrip:!1,lstrip:!1,rstrip:!1,descriptor:"slug",lowerCase:!0,replaceNonWordCharacters:!0,nonWordCharsExceptions:!1,preventDuplicateUnderscores:!1,validXmlTag:!1,underscores:!0,characterLimit:30,preventDuplicates:!1,incrementorPadding:!1})).lrstrip&&(t.lstrip=!0,t.rstrip=!0),t.lstrip&&(e=e.replace(/^\s+/,"")),t.rstrip&&(e=e.replace(/\s+$/,"")),t.lowerCase&&(e=e.toLowerCase()),t.underscores&&(e=e.replace(/\s/g,"_").replace(/[_]+/g,"_")),t.replaceNonWordCharacters&&(o=t.nonWordCharsExceptions?RegExp("\\W^["+t.nonWordCharsExceptions+"]","g"):/\W+/g,(e=e.replace(o,"_")).match(/._$/)&&(e=e.replace(/_$/,""))),a.isNumber(t.characterLimit)&&(e=e.slice(0,t.characterLimit)),t.validXmlTag&&e[0].match(/^\d/)&&(e="_"+e),t.preventDuplicateUnderscores)for(;-1!==e.search(/__/);)e=e.replace(/__/,"_");return a.isArray(t.preventDuplicates)&&(e=function(){var o,r,n,a,i,l,c;if(l=function(){var e,o,r,n;for(n=[],e=0,o=(r=t.preventDuplicates).length;e<o;e++)(i=r[e])&&n.push(i.toLowerCase());return n}(),0===(r=e).length)throw new Error("Renaming Error: "+t.descriptor+" is empty");for(o=r,n=0;c=o.toLowerCase(),s.call(l,c)>=0;)a=""+ ++n,t.incrementorPadding&&n<Math.pow(10,t.incrementorPadding)&&(a=("000000000000"+n).slice(-1*t.incrementorPadding)),o=r+"_"+a;return o}()),e},l)},,,,,,function(e,t,o){"use strict";var r=o(8),n=o.n(r),a=o(91),i=o(3);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=m(e);if(t){var n=m(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return p(this,o)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(l,e);var t,o,r,n=u(l);function l(){var e;return s(this,l),(e=n.apply(this,arguments)).data={},e}return t=l,(o=[{key:"init",value:function(){i.a.resources.loadAsset.completed.listen(this.onLoadAssetCompleted.bind(this)),i.a.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this))}},{key:"onUpdateAssetCompleted",value:function(e){this.data[e.uid]=Object(a.b)(e),this.trigger(this.data)}},{key:"onLoadAssetCompleted",value:function(e){if(!e.uid)throw new Error("no uid found in response");this.data[e.uid]=Object(a.b)(e),this.trigger(this.data)}},{key:"getAsset",value:function(e){return this.data[e]}}])&&c(t.prototype,o),r&&c(t,r),l}(n.a.Store),_=new f;_.init();var h=_;t.a=h;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"AssetStore","/srv/src/kpi/jsapp/js/assetStore.ts"),__REACT_HOT_LOADER__.register(_,"assetStore","/srv/src/kpi/jsapp/js/assetStore.ts"),__REACT_HOT_LOADER__.register(h,"default","/srv/src/kpi/jsapp/js/assetStore.ts"))},,function(e,o,r){"use strict";r.d(o,"a",(function(){return w}));var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(2),c=r(1),d=r(33),u=r.n(d);r(552);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,o){return t&&f(e.prototype,t),o&&f(e,o),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=k(e);if(t){var n=k(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return y(this,o)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){h(r,e);var o=g(r);function r(e){var t;return m(this,r),t=o.call(this,e),l()(v(t)),t}return _(r,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escFunction)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction)}},{key:"escFunction",value:function(e){e.keyCode!==s.KEY_CODES.ESC&&"Escape"!==e.key||this.props.onClose.call(e)}},{key:"backdropClick",value:function(e){e.currentTarget===e.target&&this.props.onClose.call(e)}},{key:"renderTitle",value:function(){return this.props.title?this.props.small?a.a.createElement("div",null,a.a.createElement(c.a.Modal__title,null,this.props.title),a.a.createElement("h6",null,this.props.small)):a.a.createElement(c.a.Modal__title,null,this.props.title):null}},{key:"renderClose",value:function(){return this.props.isDuplicated?a.a.createElement("a",{className:"modal__done",type:"button",onClick:this.props.onClose},t("DONE")):a.a.createElement("a",{className:"modal__x",type:"button",onClick:this.props.onClose},a.a.createElement("i",{className:"k-icon k-icon-close"}))}},{key:"render",value:function(){return a.a.createElement(c.a.Modal__backdrop,{onClick:this.backdropClick},a.a.createElement("div",{className:u()("modal",this.props.className,this.props.open?"modal--open":null,this.props.large?"modal--large":null,this.props.icon?"modal--withicon":null)},this.props.icon&&a.a.createElement("i",{className:u()("modal_icon","modal_icon--".concat(this.props.icon))}),a.a.createElement(c.a.Modal__content,null,a.a.createElement(c.a.Modal__header,null,!this.props.customModalHeader&&this.renderTitle(),this.props.customModalHeader,this.renderClose()),this.props.children)))}}]),r}(a.a.Component),x=function(e){h(o,e);var t=g(o);function o(e){return m(this,o),t.call(this,e)}return _(o,[{key:"render",value:function(){return a.a.createElement(c.a.Modal__footer,null,this.props.children)}}]),o}(a.a.Component);w.Footer=x;var E=function(e){h(o,e);var t=g(o);function o(e){return m(this,o),t.call(this,e)}return _(o,[{key:"render",value:function(){return a.a.createElement(c.a.Modal__body,null,this.props.children)}}]),o}(a.a.Component);w.Body=E;var S=function(e){h(o,e);var t=g(o);function o(e){return m(this,o),t.call(this,e)}return _(o,[{key:"render",value:function(){return a.a.createElement(c.a.Modal__tabs,null,this.props.children)}}]),o}(a.a.Component);w.Tabs=S;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(w,"Modal","/srv/src/kpi/jsapp/js/components/common/modal.es6"),__REACT_HOT_LOADER__.register(x,"Footer","/srv/src/kpi/jsapp/js/components/common/modal.es6"),__REACT_HOT_LOADER__.register(E,"Body","/srv/src/kpi/jsapp/js/components/common/modal.es6"),__REACT_HOT_LOADER__.register(S,"Tabs","/srv/src/kpi/jsapp/js/components/common/modal.es6"))},,function(e,t,o){"use strict";var r=o(20),n=o(8),a=o.n(n),i=o(15),l=o(57),s=o(13),c=o(38),d=o(3),u=o(28),p=o(10),m=a.a.createStore({abortFetchData:void 0,previousPath:Object(c.a)(),previousSearchPhrase:l.b.getSearchPhrase(),PAGE_SIZE:100,DEFAULT_ORDER_COLUMN:u.a["date-modified"],isInitialised:!1,data:{isFetchingData:!1,currentPage:0,totalPages:null,totalUserAssets:null,totalSearchAssets:null,assets:[],metadata:{}},init:function(){this.fetchDataDebounced=r.default.debounce(this.fetchData.bind(!0),2500),this.setDefaultColumns(),i.f.listen(this.onRouteChange.bind(this)),l.b.listen(this.searchBoxStoreChanged),d.a.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),d.a.library.subscribeToCollection.completed.listen(this.fetchData.bind(this,!0)),d.a.library.unsubscribeFromCollection.completed.listen(this.fetchData.bind(this,!0)),d.a.library.searchMyLibraryAssets.started.listen(this.onSearchStarted),d.a.library.searchMyLibraryAssets.completed.listen(this.onSearchCompleted),d.a.library.searchMyLibraryAssets.failed.listen(this.onSearchFailed),d.a.library.searchMyLibraryMetadata.completed.listen(this.onSearchMetadataCompleted),d.a.resources.loadAsset.completed.listen(this.onAssetChanged),d.a.resources.updateAsset.completed.listen(this.onAssetChanged),d.a.resources.cloneAsset.completed.listen(this.onAssetCreated),d.a.resources.createResource.completed.listen(this.onAssetCreated),d.a.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted),d.a.resources.createImport.completed.listen(this.fetchDataDebounced),d.a.permissions.getConfig.completed.listen(this.startupStore)},startupStore:function(){this.isInitialised||!Object(c.e)()||this.data.isFetchingData||this.fetchData(!0)},setDefaultColumns:function(){this.data.orderColumnId=this.DEFAULT_ORDER_COLUMN.id,this.data.orderValue=this.DEFAULT_ORDER_COLUMN.defaultValue,this.data.filterColumnId=null,this.data.filterValue=null},getSearchParams:function(){var e={searchPhrase:l.b.getSearchPhrase(),pageSize:this.PAGE_SIZE,page:this.data.currentPage,collectionsFirst:!0};if(null!==this.data.filterColumnId){var t=u.a[this.data.filterColumnId];e.filterProperty=t.filterBy,e.filterValue=this.data.filterValue}return void 0!==e.filterValue&&(e.filterValue=JSON.stringify(e.filterValue)),e},fetchMetadata:function(){d.a.library.searchMyLibraryMetadata(this.getSearchParams())},fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.abortFetchData&&this.abortFetchData();var t=this.getSearchParams();t.metadata=e;var o=u.a[this.data.orderColumnId],r=this.data.orderValue===u.c.ascending?"":"-";t.ordering="".concat(r).concat(o.orderBy),d.a.library.searchMyLibraryAssets(t)},onRouteChange:function(e){this.isInitialised||!Object(c.e)()||this.data.isFetchingData?("library"!==this.previousPath.split("/")[1]||this.previousPath.startsWith(p.b.PUBLIC_COLLECTIONS))&&Object(c.e)()&&(this.setDefaultColumns(),this.fetchData(!0)):this.fetchData(!0),this.previousPath=e.pathname},searchBoxStoreChanged:function(){l.b.getContext()===l.a.MY_LIBRARY&&l.b.getSearchPhrase()!==this.previousSearchPhrase&&(this.data.currentPage=0,this.data.totalPages=null,this.data.totalSearchAssets=null,this.previousSearchPhrase=l.b.getSearchPhrase(),this.fetchData(!0))},onSearchStarted:function(e){this.abortFetchData=e,this.data.isFetchingData=!0,this.trigger(this.data)},onSearchCompleted:function(e){delete this.abortFetchData,this.data.totalPages=Math.ceil(e.count/this.PAGE_SIZE),this.data.assets=e.results,e.metadata&&(this.data.metadata=e.metadata),this.data.totalSearchAssets=e.count,null!==this.data.totalUserAssets&&""!==l.b.getSearchPhrase()||(this.data.totalUserAssets=this.data.totalSearchAssets),this.data.isFetchingData=!1,this.isInitialised=!0,this.trigger(this.data)},onSearchFailed:function(){delete this.abortFetchData,this.data.isFetchingData=!1,this.trigger(this.data)},onSearchMetadataCompleted:function(e){this.data.metadata=e,this.trigger(this.data)},onMoveToCollectionCompleted:function(e){s.b.isLibraryAsset(e.asset_type)&&(null===e.parent?this.data.totalUserAssets++:this.data.totalUserAssets--,this.fetchData(!0))},onAssetChanged:function(e){if(s.b.isLibraryAsset(e.asset_type)&&0!==this.data.assets.length){for(var t=!1,o=0;o<this.data.assets.length;o++){var r=this.data.assets[o];if(r.uid===e.uid&&(r.date_modified!==e.date_modified||r.version_id!==e.version_id)){this.data.assets[o]=e,t=!0;break}}t&&(this.trigger(this.data),this.fetchMetadata())}},onAssetCreated:function(e){s.b.isLibraryAsset(e.asset_type)&&null===e.parent&&(this.data.totalUserAssets++,this.fetchData(!0))},onDeleteAssetCompleted:function(e){var t=e.uid,o=e.assetType;s.b.isLibraryAsset(o)&&(this.findAsset(t)&&(this.data.totalUserAssets--,this.fetchData(!0)))},setCurrentPage:function(e){this.data.currentPage=e,this.fetchData()},setOrder:function(e,t){this.data.orderColumnId===e&&this.data.orderValue===t||(this.data.orderColumnId=e,this.data.orderValue=t,this.fetchData())},setFilter:function(e,t){this.data.filterColumnId===e&&this.data.filterValue===t||(this.data.filterColumnId=e,this.data.filterValue=t,this.data.currentPage=0,this.fetchData(!0))},resetOrderAndFilter:function(){this.setDefaultColumns(),this.fetchData(!0)},hasAllDefaultValues:function(){return this.data.orderColumnId===this.DEFAULT_ORDER_COLUMN.id&&this.data.orderValue===this.DEFAULT_ORDER_COLUMN.defaultValue&&null===this.data.filterColumnId&&null===this.data.filterValue},getCurrentUserTotalAssets:function(){return this.data.totalUserAssets},findAsset:function(e){return this.data.assets.find((function(t){return t.uid===e}))},findAssetByUrl:function(e){return this.data.assets.find((function(t){return t.url===e}))}}),f=m;t.a=f;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"myLibraryStore","/srv/src/kpi/jsapp/js/components/library/myLibraryStore.es6"),__REACT_HOT_LOADER__.register(f,"default","/srv/src/kpi/jsapp/js/components/library/myLibraryStore.es6"))},,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return k}));var r=o(20),n=o(8),a=o.n(n),i=o(449),l=o.n(i),s=o(6),c=o(3),d=o(7),u=o(4),p=o(91);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={searchState:"none",searchResults:!1,searchResultsList:[],searchFilterParams:{},searchResultsDisplayed:!1,searchResultsFor:!1,searchResultsSuccess:null,searchDebugQuery:!1,searchResultsCount:0,parentUid:!1,parentName:!1,allPublic:!1},_=Object(u.assign)({cleared:!1,defaultQueryState:"none",defaultQueryFor:"",defaultQueryDebug:"",defaultQueryFilterParams:{},defaultQueryResults:"",defaultQueryResultsList:[],defaultQueryCount:0},f);function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=this,n=t.debounceTime||500,i={},_=a.a.createAction({children:["completed","failed","cancel","refresh"]}),h=o.store=a.a.createStore({init:function(){this.filterParams={},this.state={searchState:"none"},this.listenTo(c.a.resources.updateAsset.completed,this.setAsset),this.listenTo(c.a.resources.deployAsset.completed,this.setAsset),this.listenTo(c.a.resources.createResource.completed,this.setAsset),this.listenTo(c.a.resources.cloneAsset.completed,this.setAsset),this.listenTo(c.a.resources.setDeploymentActive.completed,this.setAsset),this.listenTo(c.a.resources.deleteAsset.completed,this.removeAsset),this.listenTo(c.a.permissions.removeAssetPermission.completed,this.removeAsset)},setAsset:function(e){var t;(null===(t=this.state.defaultQueryFilterParams)||void 0===t?void 0:t.assetType.includes(e.asset_type))&&(this.setAssetInList(e,"defaultQueryResultsList"),this.setAssetInList(e,"searchResultsList"),this.rebuildCategorizedList(this.state.defaultQueryResultsList,"defaultQueryCategorizedResultsLists"),this.rebuildCategorizedList(this.state.searchResultsList,"searchResultsCategorizedResultsLists"))},setAssetInList:function(e,t){var o=this.state[t];if(o&&0!==o.length){for(var r={},n=!0,a=0;a<o.length;a++)if(o[a].uid===e.uid){o[a]=e,n=!1;break}n&&o.unshift(e),r[t]=o,this.update(r)}},rebuildCategorizedList:function(e,t){var o=this.state[t];if(o&&e&&0!==e.length){var r={};r[t]=b(e),this.update(r)}else if(o&&e&&0===e.length){var n=o;for(var a in n)n[a].length>0&&(n[a][0].deleted="true");this.update(n)}},removeAsset:function(e,t){var o,r;(r="object"===m(e)?e:s.a.selectedAsset.asset||s.a.allAssets.byUid[e])||(r={uid:e}),(t||(null===(o=this.state.defaultQueryFilterParams)||void 0===o?void 0:o.assetType.includes(r.assetType)))&&(this.removeAssetFromList(r.uid,"defaultQueryResultsList"),this.removeAssetFromList(r.uid,"searchResultsList"),this.rebuildCategorizedList(this.state.defaultQueryResultsList,"defaultQueryCategorizedResultsLists"),this.rebuildCategorizedList(this.state.searchResultsList,"searchResultsCategorizedResultsLists"))},removeAssetFromList:function(e,t){var o=this.state[t];if(o&&0!==o.length){var r={};o=o.filter((function(t){return t.uid!==e})),r[t]=o,this.update(r)}},update:function(e){this.quietUpdate(e),this.triggerState()},triggerState:function(){this.trigger(this.state)},quietUpdate:function(e){e.cleared||(e.cleared=!1),Object(u.assign)(this.state,e)},filterTagQueryData:function(){if(this.filterTags)return{q:this.filterTags}},removeItem:function(e){delete this.state[e]},toDataObject:function(){var e={};return this.state.searchTags&&(e.tags=this.state.searchTags),this.state.searchString&&(e.string=this.state.searchString),this.state.parentUid&&(e.parentUid="parent__uid:".concat(this.state.parentUid)),this.state.parentName&&(e.parentName=this.state.parentName),!0===this.state.allPublic&&(e.allPublic=!0),Object(u.assign)({},this.filterParams,e)},toQueryData:function(e){var t=e||this.toDataObject(),o=[],n={};return"tags"in t&&(t.tags&&t.tags.length>0&&o.push(t.tags.map((function(e){return'tag:"'.concat(e.value,'"')})).join(" AND ")),delete t.tags),"string"in t&&(t.string&&t.string.length>0&&o.push(t.string),delete t.string),"parent"in t&&(t.parent&&t.parent.length>0&&(n.parent=t.parent),delete t.parent),"allPublic"in t&&(n.all_public=t.allPublic,delete t.allPublic),"parentName"in t&&delete t.parentName,(o=o.concat(r.default.values(t))).length>1?n.q=o.map((function(e){return"(".concat(e,")")})).join(" AND "):1===o.length&&(n.q=o[0]),n}}),b=function(e){return{Deployed:e.filter((function(e){return e.has_deployment&&e.deployment__active})),Draft:e.filter((function(e){return!e.has_deployment})),Archived:e.filter((function(e){return e.has_deployment&&!e.deployment__active}))}},g=function(e){if(e.length<1)return!1;var t=e.map((function(e){return e.version_id}));return t.sort(),l.a.hash(t.join(""))};_.listen((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=h.toDataObject(),r=Object(u.assign)({},o),n=h.toQueryData(o),a=!t.cacheAsDefaultSearch;a&&i.search&&(i.search.searchAborted=!0,i.search.abort(),i.search=!1),e={params:n,dataObject:o};var l=c.a.search.assets(n,{onComplete:function(e,r){_.completed(o,r,{cacheAsDefaultSearch:t.cacheAsDefaultSearch})},onFailed:function(e,t){_.failed(t,o)}});i[a?"search":"default"]=l,a?h.update({searchState:"loading",searchFor:r}):h.update({defaultQueryState:"loading",defaultQueryFor:r})})),_.refresh.listen((function(){c.a.search.assets(e.params,{onComplete:function(t,o){_.completed(e.dataObject,o,{cacheAsDefaultSearch:!1})},onFailed:function(t,o){_.failed(o,e.dataObject)}})})),_.completed.listen((function(e,t,o){t.results=t.results.map(p.b),t.results.forEach(s.a.allAssets.registerAsset);var r,n=t.count;r=o.cacheAsDefaultSearch?{defaultQueryState:"done",defaultQueryFor:e,defaultQueryDebug:e.__builtQueryString,defaultQueryFilterParams:h.filterParams,defaultQueryResults:t,defaultQueryResultsList:t.results,defaultQueryCount:n,defaultQueryCategorizedResultsLists:b(t.results)}:{searchState:"done",searchResultsFor:e,searchDebugQuery:e.__builtQueryString,searchBaseFilterParams:h.filterParams,searchResults:t,searchResultsList:t.results,searchResultsCount:n,searchResultsDisplayed:!0,searchResultsSuccess:n>0,searchResultsCategorizedResultsLists:b(t.results)},h.update(r)})),_.failed.listen((function(){})),_.cancel.listen((function(){i.search&&i.search.abort(),h.update(Object(u.assign)({cleared:!0},f))})),this.mixin={debouncedSearch:n?r.default.debounce(_,n):_,searchValue:_,updateStore:function(e){h.update(e)},quietUpdateStore:function(e){h.quietUpdate(e)},searchStore:h,searchSemaphore:function(){var e=this;void 0===h.state.defaultQueryResultsList?this.searchDefault():(h.update({defaultQueryState:"done"}),s.a.session.isLoggedIn&&d.a.assetsHash().done((function(t){t.hash&&t.hash!==g(h.state.defaultQueryResultsList)&&e.searchDefault()})).fail((function(){e.searchDefault()})))},searchDefault:function(){h.quietUpdate(Object(u.assign)({cleared:!0,searchString:!1},f)),_({cacheAsDefaultSearch:!0})},getSearchActions:function(){return{search:_}}}}var b={getInitialState:function(){return _},componentDidMount:function(){this.extendSearchContext()},extendSearchContext:function(){var e,t=this.props.searchContext||this.state.searchContext;e=t instanceof h?t:v(t),Object(u.assign)(this,e.mixin)},searchTagsChange:function(e){this.quietUpdateStore({searchTags:e}),this.searchValue()},searchCollectionChange:function(e){this.quietUpdateStore({parentUid:e}),this.searchValue()},searchChangeEvent:function(e){var t=e.target.value.trim();this.searchStore.state.searchString!==t&&(this.quietUpdateStore({searchString:t}),this.debouncedSearch())},searchClear:function(){this.searchStore.removeItem("searchString"),this.searchStore.removeItem("searchTags"),this.getSearchActions().search.cancel()}};function g(e){return e instanceof h}var y={};function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y[e]||(y[e]=new h),t.filterParams&&(y[e].store.filterParams=t.filterParams),t.showDefault&&(y[e].store.showDefault=t.showDefault),t.filterTags&&(y[e].store.filterTags=t.filterTags),y[e]}var k={getSearchContext:v,common:b,isSearchContext:g};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"emptySearchState","/srv/src/kpi/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(_,"initialState","/srv/src/kpi/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(h,"SearchContext","/srv/src/kpi/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(b,"commonMethods","/srv/src/kpi/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(g,"isSearchContext","/srv/src/kpi/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(y,"contexts","/srv/src/kpi/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(v,"getSearchContext","/srv/src/kpi/jsapp/js/searches.es6"),__REACT_HOT_LOADER__.register(k,"searches","/srv/src/kpi/jsapp/js/searches.es6"))},function(e,t,o){"use strict";o.d(t,"a",(function(){return _}));var r=o(24),n=o(2),a=o(19),i=o(4);function l(e){var t=[],o=[];if([a.a.formView,a.a.formEdit,a.a.formManage,a.a.submissionsAdd,a.a.submissionsView,a.a.submissionsEdit,a.a.submissionsValidate,a.a.submissionsDelete].forEach((function(n){var i=a.c[n];if(e[i]){var l=a.e[i];o.push({url:r.a.getPermissionByCodename(l).url,filters:[{_submitted_by:{$in:e[i+a.h]}}]})}else e[n]&&t.push(d(e.username,a.b[n]))})),o.length>=1){var i=d(e.username,n.PERMISSIONS_CODENAMES.partial_submissions);i.partial_permissions=o,t.push(i)}return t=c(t=s(t))}function s(e){var t=new Set;return e.forEach((function(e){r.a.getPermission(e.permission).contradictory.forEach((function(e){t.add(e)}))})),e=e.filter((function(e){return!t.has(e.permission)}))}function c(e){var t=new Set;return e.forEach((function(e){r.a.getPermission(e.permission).implied.forEach((function(e){t.add(e)}))})),e=e.filter((function(e){return!t.has(e.permission)}))}function d(e,t){return{user:Object(i.buildUserUrl)(e),permission:r.a.getPermissionByCodename(t).url}}function u(e){var t={};return e.forEach((function(e){e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.view_asset).url&&(t.formView=!0),e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.change_asset).url&&(t.formEdit=!0),e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.manage_asset).url&&(t.formManage=!0),e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.partial_submissions).url&&e.partial_permissions.forEach((function(e){var o=r.a.getPermission(e.url),n=a.f[o.codename]+a.g;t[n]=!0,e.filters.forEach((function(e){e._submitted_by&&(t[n+a.h]=e._submitted_by.$in)}))})),e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.add_submissions).url&&(t.submissionsAdd=!0),e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.view_submissions).url&&(t.submissionsView=!0),e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.change_submissions).url&&(t.submissionsEdit=!0),e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.delete_submissions).url&&(t.submissionsDelete=!0),e.permission===r.a.getPermissionByCodename(n.PERMISSIONS_CODENAMES.validate_submissions).url&&(t.submissionsValidate=!0)})),t}function p(e){var t=[];return e.forEach((function(e){e.permissions.forEach((function(o){var r={user:e.user.url,permission:o.permission};o.partial_permissions&&(r.partial_permissions=o.partial_permissions),t.push(r)}))})),t}function m(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],a={};return e.forEach((function(e){(Object(i.getUsernameFromUrl)(e.user)!==n.ANON_USERNAME||o)&&(a[e.user]||(a[e.user]=[]),a[e.user].push({url:e.url,permission:e.permission,partial_permissions:e.partial_permissions?e.partial_permissions:void 0}))})),Object.keys(a).forEach((function(e){r.push({user:{url:e,name:Object(i.getUsernameFromUrl)(e),isOwner:e===t||Object(i.getUsernameFromUrl)(e)===Object(i.getUsernameFromUrl)(t)},permissions:a[e]})})),f(r)}function f(e){return e.sort((function(e,t){return e.user.isOwner?-1:t.user.isOwner?1:e.user.url<t.user.url?-1:e.user.url>t.user.url?1:0}))}var _={parseFormData:l,buildFormData:u,parseBackendData:m,parseUserWithPermsList:p,sortParseBackendOutput:f};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"parseFormData","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(s,"removeContradictoryPerms","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(c,"removeImpliedPerms","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(d,"buildBackendPerm","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(u,"buildFormData","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(p,"parseUserWithPermsList","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(m,"parseBackendData","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(f,"sortParseBackendOutput","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"),__REACT_HOT_LOADER__.register(_,"permParser","/srv/src/kpi/jsapp/js/components/permissions/permParser.es6"))},function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return c}));var r=o(8),n=o.n(r),a=o(15),i=o(38),l=o(2),s=Object(l.createEnum)(["MY_LIBRARY","PUBLIC_COLLECTIONS"]),c=n.a.createStore({previousPath:Object(i.a)(),data:{context:null,searchPhrase:""},init:function(){a.f.listen(this.onRouteChange.bind(this)),this.resetContext()},onRouteChange:function(e){this.previousPath.split("/")[1]!==e.pathname.split("/")[1]&&this.clear(),this.previousPath=e.pathname,this.resetContext()},getSearchPhrase:function(){return this.data.searchPhrase},setSearchPhrase:function(e){this.data.searchPhrase!==e&&(this.data.searchPhrase=e,this.trigger(this.data))},getContext:function(){return this.data.context},resetContext:function(){var e=null;Object(i.f)()?e=s.MY_LIBRARY:Object(i.g)()&&(e=s.PUBLIC_COLLECTIONS),this.data.context!==e&&(this.data.context=e,this.data.searchPhrase="",this.trigger(this.data))},clear:function(){this.setSearchPhrase("")}});"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("","DEFAULT_SEARCH_PHRASE","/srv/src/kpi/jsapp/js/components/header/searchBoxStore.es6"),__REACT_HOT_LOADER__.register(s,"SEARCH_CONTEXTS","/srv/src/kpi/jsapp/js/components/header/searchBoxStore.es6"),__REACT_HOT_LOADER__.register(c,"searchBoxStore","/srv/src/kpi/jsapp/js/components/header/searchBoxStore.es6"))},,function(e,t,o){var r,n,a,i,l,s,c,d,u,p,m=function(e,t){for(var o in t)f.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},f={}.hasOwnProperty;a=o(20),n=o(47),r=o(40),e.exports=((i={}).defaultSurveyDetails={start_time:{name:"start",label:"start time",description:"Records when the survey was begun",default:!0},end_time:{name:"end",label:"end time",description:"records when the survey was marked as completed",default:!0},today:{name:"today",label:"today",description:"includes today's date",default:!1},username:{name:"username",label:"username",description:"includes interviewer's username",default:!1},simserial:{name:"simserial",label:"sim serial",description:"records the serial number of the network sim card",default:!1},subscriberid:{name:"subscriberid",label:"subscriber id",description:"records the subscriber id of the sim card",default:!1},deviceid:{name:"deviceid",label:"device id",aliases:["imei"],description:"Records the internal device ID number (works on Android phones)",default:!1},phoneNumber:{name:"phonenumber",label:"phone number",description:"Records the device's phone number, when available",default:!1},audit:{name:"audit",label:"audit",description:"Records the behavior of enumerators as they navigate through a form",default:!1},bg_aud:{name:"background-audio",label:"background audio",description:"record bg audio",default:!1}},l=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype._forSurvey=function(){return{name:this.get("name"),label:this.get("label"),description:this.get("description")}},t}(n.Model),i.SurveyDetailSchema=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.model=l,t.prototype.typeList=function(){var e;return this._typeList||(this._typeList=function(){var t,o,r,n;for(n=[],t=0,o=(r=this.models).length;t<o;t++)e=r[t],n.push(e.get("name"));return n}.call(this)),this._typeList},t}(n.Collection),i.surveyDetailSchema=new i.SurveyDetailSchema(a.values(i.defaultSurveyDetails)),i.defaultsGeneral={label:{value:"New Question"}},i.defaultsForType={geotrace:{label:{value:"Record a line"},required:{value:!1,_hideUnlessChanged:!0}},geoshape:{label:{value:"Record an area"},required:{value:!1,_hideUnlessChanged:!0}},geopoint:{label:{value:"Record your current location"},required:{value:!1,_hideUnlessChanged:!0}},image:{label:{value:"Point and shoot! Use the camera to take a photo"}},video:{label:{value:"Use the camera to record a video"}},audio:{label:{value:"Use the camera's microphone to record a sound"}},file:{label:{value:"Upload a file"}},note:{label:{value:"This note can be read out loud"},required:{value:!1,_hideUnlessChanged:!0}},integer:{label:{value:"Enter a number"}},barcode:{label:{value:"Use the camera to scan a barcode"}},decimal:{label:{value:"Enter a number"}},date:{label:{value:"Enter a date"}},range:{label:{value:"Enter a number within a specified range"}},calculate:{calculation:{value:""},label:{value:"calculation"},required:{value:!1,_hideUnlessChanged:!0}},hidden:{label:{value:"hidden"},required:{value:!1,_hideUnlessChanged:!0}},datetime:{label:{value:"Enter a date and time"}},time:{label:{value:"Enter a time"}},acknowledge:{label:{value:"Acknowledge"}},"xml-external":{label:{value:"File_name"},required:{value:!1,_hideUnlessChanged:!0}}},i.paramTypes={number:"number",boolean:"boolean"},i.questionParams={range:{start:{type:i.paramTypes.number,defaultValue:0},end:{type:i.paramTypes.number,defaultValue:10},step:{type:i.paramTypes.number,defaultValue:1}},image:{"max-pixels":{type:i.paramTypes.number,defaultValue:1024}},select_one:{randomize:{type:i.paramTypes.boolean},seed:{type:i.paramTypes.number}},select_multiple:{randomize:{type:i.paramTypes.boolean},seed:{type:i.paramTypes.number}}},i.columns=["type","name","label","hint","guidance_hint","required","relevant","default","constraint"],i.lookupRowType=(u=[["note","Note",{preventRequired:!0}],["acknowledge","Acknowledge"],["text","Text"],["integer","Integer"],["decimal","Decimal"],["range","Range"],["geopoint","Geopoint (GPS)"],["geotrace","Geotrace (GPS)"],["geoshape","Geoshape (GPS)"],["image","Image",{isMedia:!0}],["barcode","Barcode / QR code"],["date","Date"],["time","Time"],["datetime","Date and Time"],["audio","Audio",{isMedia:!0}],["video","Video",{isMedia:!0}],["file","File"],["calculate","Calculate"],["hidden","Hidden"],["select_one","Select",{orOtherOption:!0,specifyChoice:!0}],["score","Score"],["score__row","Score Row"],["rank","Rank"],["kobomatrix","Advanced Matrix"],["rank__level","Rank Level"],["select_multiple","Multiple choice",{orOtherOption:!0,specifyChoice:!0}],["xml-external","External XML"]],s=function(e){var t;this.name=e[0],this.label=e[1],(t=e[2])||(t={}),a.extend(this,t)},p=function(){var e,t,o;for(o=[],e=0,t=u.length;e<t;e++)c=u[e],o.push(new s(c));return o}(),(d=function(e){var t,o,r,n;for(t=0,o=p.length;t<o;t++)(n=p[t]).name===e&&(r=n);return r}).typeSelectList=function(){return p},d),i.autoset_kuid=!0,i.columnOrder=function(e){return-1===i.columns.indexOf(e)&&i.columns.push(e),i.columns.indexOf(e)},i.newRowDetails={name:{value:""},type:{value:"text"},hint:{value:"",_hideUnlessChanged:!0},guidance_hint:{value:""},required:{value:!1,_hideUnlessChanged:!0},relevant:{value:"",_hideUnlessChanged:!0},default:{value:"",_hideUnlessChanged:!0},constraint:{value:"",_hideUnlessChanged:!0},constraint_message:{value:"",_hideUnlessChanged:!0},tags:{value:"",_hideUnlessChanged:!0},appearance:{value:"",_hideUnlessChanged:!0}},i.newGroupDetails={name:{value:function(){return"group_"+r.txtid()}},label:{value:"Group"},type:{value:"group"},_isRepeat:{value:!1},relevant:{value:"",_hideUnlessChanged:!0},appearance:{value:"",_hideUnlessChanged:!0}},i.question_types={},i.truthyValues=["yes","YES","true","true()","TRUE"],i.falsyValues=["no","NO","false","false()","FALSE"],i.boolOutputs={true:"true",false:"false"},i)},,,function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return _}));var r=o(0),n=o.n(r),a=o(9),i=o.n(a),l=o(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=f(e);if(t){var n=f(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return p(this,o)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,t);var o,r,a,s=u(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=s.call(this,e)).state={popoverVisible:!1,popoverHiding:!1,placement:"below"},t._mounted=!1,i()(m(t)),t}return o=p,(r=[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"componentWillReceiveProps",value:function(e){this.state.popoverVisible&&e.clearPopover&&this.setState({popoverVisible:!1})}},{key:"toggle",value:function(t){var o=this,r="blur"===t.type;if(r&&this.props.blurEventDisabled)return!1;if(r&&t.relatedTarget&&t.relatedTarget.dataset&&t.relatedTarget.dataset.popoverMenuStopBlur)return t.target.focus(),!1;if(this.state.popoverVisible||r?(this.setState({popoverHiding:!0}),window.setTimeout((function(){if(!o._mounted)return!1;o.setState({popoverVisible:!1,popoverHiding:!1})}),200)):this.setState({popoverVisible:!0}),"assetrow-menu"===this.props.type&&!this.state.popoverVisible){var n=e(t.target).parents(".asset-row"),a=e(t.target).parents(".popover-menu").find(".popover-menu__content");n.offset().top>a.outerHeight()+n.outerHeight()+20?this.setState({placement:"above"}):this.setState({placement:"below"})}"function"!=typeof this.props.popoverSetVisible||this.state.popoverVisible||this.props.popoverSetVisible()}},{key:"render",value:function(){var e=this.props.additionalModifiers||[];e.push(this.state.placement),this.props.type&&e.push(this.props.type);var t=[];return this.state.popoverHiding&&t.push("hiding"),this.state.popoverVisible?t.push("visible"):t.push("hidden"),n.a.createElement(l.a.PopoverMenu,{m:e},n.a.createElement(l.a.PopoverMenu__toggle,{onClick:this.toggle,onBlur:this.toggle,tabIndex:"1"},this.props.triggerLabel),n.a.createElement(l.a.PopoverMenu__content,{m:t},this.props.children))}}])&&c(o.prototype,r),a&&c(o,a),p}(n.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(_,"PopoverMenu","/srv/src/kpi/jsapp/js/popoverMenu.es6")}).call(this,o(29))},,function(e,o,r){"use strict";r.d(o,"a",(function(){return d})),r.d(o,"d",(function(){return m})),r.d(o,"c",(function(){return b})),r.d(o,"b",(function(){return v}));var n,a=r(13),i=r(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.group_root="group_root",e.group_repeat="group_repeat",e.group_regular="group_regular",e.group_matrix="group_matrix",e.group_matrix_row="group_matrix_row"}(n||(n={}));var d=Object(i.createEnum)([n.group_root,n.group_repeat,n.group_regular,n.group_matrix,n.group_matrix_row]),u=function(){function e(t,o,r){s(this,e),this.label=null,this.name=null,this.children=[],this.type=t,o&&(this.label=o),r&&(this.name=r)}var t,o,r;return t=e,(o=[{key:"addChild",value:function(e){this.children.push(e)}}])&&c(t.prototype,o),r&&c(t,r),e}(),p=function e(t,o,r,n,a){s(this,e),this.data=null,this.type=t,this.label=o,this.name=r,a&&(this.data=a),n&&(this.listName=n)};function m(e,t,o,r){var n=Object(a.j)(e,!0),l=new u(d.group_root);return function l(s,c){for(var m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,b=function(b){var g=e[b],v=Object(a.i)(g),k=y(g),w=Object(a.k)(v,e,o),x=null;if(null!==s.name&&(x=n[s.name]),!h(v,x,e))return"continue";if(g.type===i.QUESTION_TYPES.note.id||g.type===i.QUESTION_TYPES.hidden.id)return"continue";if(Object(a.l)(e[b-1],g))return"continue";var E=_(v,e,c);if(g.type===i.GROUP_TYPES_BEGIN.begin_repeat)Array.isArray(E)&&E.forEach((function(e,t){var o=new u(d.group_repeat,w,v);s.addChild(o),l(o,e,t)}));else if(g.type===i.GROUP_TYPES_BEGIN.begin_kobomatrix){var S=new u(d.group_matrix,w,v);s.addChild(S),Array.isArray(t)&&t.forEach((function(n){n[i.MATRIX_PAIR_PROPS.inChoices]===g[i.MATRIX_PAIR_PROPS.inSurvey]&&f(e,t,r,o,S,Object(a.i)(n),c)}))}else if(g.type===i.GROUP_TYPES_BEGIN.begin_group||g.type===i.GROUP_TYPES_BEGIN.begin_score||g.type===i.GROUP_TYPES_BEGIN.begin_rank){var O=new u(d.group_regular,w,v);s.addChild(O),l(O,E,m)}else if(Object.keys(i.QUESTION_TYPES).includes(g.type)||g.type===i.SCORE_ROW_TYPE||g.type===i.RANK_LEVEL_TYPE){if(Array.isArray(E)&&null!==m&&(E=E[m]),g.type===i.SCORE_ROW_TYPE||g.type===i.RANK_LEVEL_TYPE)k=y(e.find((function(e){return Object(a.i)(e)===s.name})));var T=new p(g.type,w,v,k,E);s.addChild(T)}},g=0;g<e.length;g++)b(g)}(l,r),l}function f(e,t,o,r,n,i,l){if(null!==n.name){var s=Object(a.k)(i,t,r),c=new u(d.group_matrix_row,s,i);n.addChild(c);var m=Object(a.j)(e,!0),f=m[n.name];Object.keys(m).forEach((function(t){if(m[t].startsWith("".concat(f,"/"))){var s=e.find((function(e){return Object(a.i)(e)===t}));if(void 0===s)return;var d=null,u="".concat(f,"_").concat(i,"/").concat(n.name,"_").concat(i,"_").concat(t);o[u]?d=o[u]:l[u]&&(d=l[u]);var _=new p(s.type,Object(a.k)(t,e,r),t,y(s),d);c.addChild(_)}}))}}function _(e,t,o){if(null===o||"object"!==l(o))return null;var r=Object(a.j)(t,!0)[e];if(o[r])return o[r];if(o[e])return o[e];if(r){var n=b(o,r);if(n.length>=1)return n;var i=g(o,r);if(Object.keys(i).length>=1)return i}return null}function h(e,t,o){var r=Object(a.j)(o,!0);return null===t?r[e]===e:r[e]==="".concat(t,"/").concat(e)}function b(e,t){var o=[];return function e(r,n){var a=t.split("/").slice(0,n+1).join("/");a===t?Object.prototype.hasOwnProperty.call(r,t)&&o.push(r[t]):Array.isArray(r[a])&&r[a].forEach((function(t){e(t,n+1)}))}(e,0),o}function g(e,t){var o={};return Object.keys(e).forEach((function(r){r.startsWith("".concat(t,"/"))&&(o[r]=e[r])})),o}function y(e){var t;if(e&&Object.keys(e).includes(i.CHOICE_LISTS.SELECT)&&(t=e[i.CHOICE_LISTS.SELECT]),e&&Object.keys(e).includes(i.CHOICE_LISTS.MATRIX)&&(t=e[i.CHOICE_LISTS.MATRIX]),e&&Object.keys(e).includes(i.CHOICE_LISTS.SCORE)&&(t=e[i.CHOICE_LISTS.SCORE]),e&&Object.keys(e).includes(i.CHOICE_LISTS.RANK)&&(t=e[i.CHOICE_LISTS.RANK]),"string"==typeof t)return t}function v(e,o){var r=o.replace(/ /g,"_"),n=t("Could not find ##fileName##").replace("##fileName##",o);return e._attachments.forEach((function(e){e.filename.includes(r)&&(n=e)})),n}var k={DISPLAY_GROUP_TYPES:d,getSubmissionDisplayData:m,getRepeatGroupAnswers:b};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"DisplayGroupTypeName","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(d,"DISPLAY_GROUP_TYPES","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(u,"DisplayGroup","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(p,"DisplayResponse","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(m,"getSubmissionDisplayData","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(f,"populateMatrixData","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(_,"getRowData","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(h,"isRowFromCurrentGroupLevel","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(b,"getRepeatGroupAnswers","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(g,"getRegularGroupAnswers","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(y,"getRowListName","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(v,"getMediaAttachment","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"),__REACT_HOT_LOADER__.register(k,"default","/srv/src/kpi/jsapp/js/components/submissions/submissionUtils.ts"))},function(e,o,r){(function(o){var n,a,i,l,s,c,d=function(e,t){return function(){return e.apply(t,arguments)}},u=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};i=r(20),a=r(47),n=r(153),e.exports=((c={}).SkipLogicHelperFactory=function(){function e(e,t,o,r,n){this.model_factory=e,this.view_factory=t,this.survey=o,this.current_question=r,this.serialized_criteria=n}return e.prototype.create_presenter=function(e,t){return new c.SkipLogicPresenter(e,t,this.current_question,this.survey,this.view_factory)},e.prototype.create_builder=function(){return new c.SkipLogicBuilder(this.model_factory,this.view_factory,this.survey,this.current_question,this)},e.prototype.create_context=function(){return new c.SkipLogicHelperContext(this.model_factory,this.view_factory,this,this.serialized_criteria)},e}(),c.SkipLogicPresentationFacade=function(){function e(e,t,o){this.model_factory=e,this.helper_factory=t,this.view_factory=o}return e.prototype.initialize=function(){return null!=this.context?this.context:this.context=this.helper_factory.create_context()},e.prototype.serialize=function(){return null==this.context&&(this.context=this.helper_factory.create_context()),this.context.serialize()},e.prototype.render=function(e){return null==this.context&&(this.context=this.helper_factory.create_context()),this.context.render(e)},e}(),c.SkipLogicPresenter=function(){function e(e,t,o,r,n){var a,l;this.model=e,this.view=t,this.current_question=o,this.survey=r,this.view_factory=n,this.view.presenter=this,this.survey?(l=this,a=function(e){var t,o,r;if((r=l.model._get_question())&&r._isSelectQuestion()&&r.getList().cid===e)return t=l.model.get("response_value").get("cid"),r.getList().options.get(t)?(o=i.map(r.getList().options.models,(function(e){return{text:e.get("label"),value:e.cid}})),l.view.response_value_view.options.set("options",o),l.view.response_value_view.val(t),l.view.response_value_view.$el.trigger("change"),l.model.change_response(t)):l.dispatcher.trigger("remove:presenter",l.model.cid)},this.survey.on("choice-list-update",a,this),this.survey.on("remove-option",a,this),this.survey.on("row-detail-change",function(e){return function(t,o){if(e.destination&&"label"===o)return e.render(e.destination)}}(this),this)):console.error("this.survey is not yet available")}return e.prototype.change_question=function(e){var t,o;return this.model.change_question(e),this.question=this.model._get_question(),t=this.question.get_type(),this.question.on("remove",(o=this,function(){return o.dispatcher.trigger("remove:presenter",o.model.cid)})),this.view.change_operator(this.view_factory.create_operator_picker(t)),this.view.operator_picker_view.val(this.model.get("operator").get_value()),this.view.attach_operator(),this.change_response_view(t,this.model.get("operator").get_type()),this.finish_changing()},e.prototype.change_operator=function(e){return this.model.change_operator(e),this.change_response_view(this.model._get_question().get_type(),this.model.get("operator").get_type()),this.finish_changing()},e.prototype.change_response=function(e){return this.model.change_response(e),this.finish_changing()},e.prototype.change_response_view=function(e,t){var o,r,n,a;return(a=this.view_factory.create_response_value_view(this.model._get_question(),e,t)).model=this.model.get("response_value"),this.view.change_response(a),this.view.attach_response(),n=a.model.get("value"),(o=this.model._get_question())._isSelectQuestion()&&(r=i.find(o.getList().options.models,(function(e){return e.get("name")===n})))&&r.cid&&(n=r.cid),this.view.response_value_view.val(n),a.$el.trigger("change")},e.prototype.finish_changing=function(){return this.dispatcher.trigger("changed:model",this)},e.prototype.is_valid=function(){var e;return!!this.model._get_question()&&(1===this.model.get("operator").get_type().id||""!==(e=this.model.get("response_value").get("value"))&&void 0!==e&&!1!==this.model.get("response_value").isValid())},e.prototype.render=function(e){var t,o,r,n;return this.destination=e,this.view.question_picker_view.detach(),this.view.question_picker_view=this.view_factory.create_question_picker(this.current_question),this.view.render(),this.view.question_picker_view.val(this.model.get("question_cid")),this.view.operator_picker_view.val(this.model.get("operator").get_value()),n=null!=(o=this.model.get("response_value"))?o.get("value"):void 0,(t=this.model._get_question())&&t._isSelectQuestion()&&(n=null!=(r=i.find(t.getList().options.models,(function(e){return e.get("name")===n})))?r.cid:void 0),this.view.response_value_view.val(n),this.view.attach_to(this.destination),this.dispatcher.trigger("rendered",this)},e.prototype.serialize=function(){return this.model.serialize()},e}(),c.SkipLogicBuilder=function(){function e(e,t,o,r,n){this.model_factory=e,this.view_factory=t,this.survey=o,this.current_question=r,this.helper_factory=n,this.build_empty_criterion=d(this.build_empty_criterion,this),this.build_criterion=d(this.build_criterion,this),this.build_operator_logic=d(this.build_operator_logic,this)}return e.prototype.build_criterion_builder=function(e){var t,o,r;if(""===e)return[[this.build_empty_criterion()],"and"];try{o=this._parse_skip_logic_criteria(e),0===(t=i.filter(i.map(o.criteria,(r=this,function(e){return r.criterion=e,r.build_criterion()})),(function(e){return!!e}))).length&&t.push(this.build_empty_criterion())}catch(t){return"undefined"!=typeof Raven&&null!==Raven&&Raven.captureException(new Error("could not parse skip logic. falling back to hand-coded"),{extra:{criteria:e}}),!1}return[t,o.operator]},e.prototype._parse_skip_logic_criteria=function(e){return n(e)},e.prototype.build_operator_logic=function(e){return[this.build_operator_model(e,this._operator_type().symbol[this.criterion.operator]),this.view_factory.create_operator_picker(e)]},e.prototype.build_operator_model=function(e,t){var o;return o=this._operator_type(),this.model_factory.create_operator("existence"===o.type?"existence":e.equality_operator_type,t,o.id)},e.prototype._operator_type=function(){return i.find(c.operator_types,(e=this,function(t){var o,r;return o=null!=(r=e.criterion)?r.operator:void 0,u.call(t.parser_name,o)>=0}));var e},e.prototype.build_criterion_logic=function(e,t,o){var r,n;return(r=this.model_factory.create_criterion_model()).set("operator",e),(n=this.view_factory.create_criterion_view(this.view_factory.create_question_picker(this.current_question),t,o)).model=r,this.helper_factory.create_presenter(r,n)},e.prototype.build_criterion=function(){var e,t,o,r,n,a,l,s,c,d;if(!(r=this._get_question()))return!1;if(!(u.call(this.questions(),r)>=0))throw"question is not selectable";return n=r.get_type(),e=(a=this.build_operator_logic(n))[0],t=a[1],c=this.view_factory.create_response_value_view(r,n,this._operator_type()),(o=this.build_criterion_logic(e,t,c)).model.change_question(r.cid),s=r._isSelectQuestion()?null!=(l=i.find(r.getList().options.models,(d=this,function(e){return e.get("name")===d.criterion.response_value})))?l.cid:void 0:this.criterion.response_value,o.model.change_response(s||""),c.model=o.model.get("response_value"),c.val(s),o},e.prototype._get_question=function(){return this.survey.findRowByName(this.criterion.name)},e.prototype.build_empty_criterion=function(){var e,t;return e=this.view_factory.create_operator_picker(null),t=this.view_factory.create_response_value_view(null),this.build_criterion_logic(this.model_factory.create_operator("empty"),e,t)},e.prototype.questions=function(){return this.selectable=this.current_question.selectableRows()||this.selectable,this.selectable},e}(),c.SkipLogicHelperContext=function(){function e(e,t,o,r){this.model_factory=e,this.view_factory=t,this.helper_factory=o,this.state={serialize:function(){return r}},null==r||""===r?(r="",this.use_mode_selector_helper()):this.use_criterion_builder_helper(),null==this.state&&(this.state={serialize:function(){return r}},this.use_hand_code_helper())}return e.prototype.render=function(e){this.destination=e,null!=this.destination&&(this.destination.empty(),this.state.render(this.destination))},e.prototype.serialize=function(){return this.state.serialize()},e.prototype.use_criterion_builder_helper=function(){var e;null==this.builder&&(this.builder=this.helper_factory.create_builder()),!1===(e=this.builder.build_criterion_builder(this.state.serialize()))?this.state=null:(this.state=new c.SkipLogicCriterionBuilderHelper(e[0],e[1],this.builder,this.view_factory,this),this.render(this.destination))},e.prototype.use_hand_code_helper=function(){this.state=new c.SkipLogicHandCodeHelper(this.state.serialize(),this.builder,this.view_factory,this),this.render(this.destination)},e.prototype.use_mode_selector_helper=function(){this.helper_factory.survey.off(null,null,this.state),this.state=new c.SkipLogicModeSelectorHelper(this.view_factory,this),this.render(this.destination)},e}(),c.SkipLogicCriterionBuilderHelper=function(){function e(e,t,o,r,n){var l,s;this.presenters=e,this.builder=o,this.view_factory=r,this.context=n,this.view=this.view_factory.create_criterion_builder_view(),this.view.criterion_delimiter=(t||"and").toLowerCase(),this.view.facade=this,this.dispatcher=i.clone(a.Events),this.dispatcher.on("remove:presenter",(s=this,function(e){return s.remove(e)})),this.dispatcher.on("changed:model",function(e){return function(t){return e.determine_add_new_criterion_visibility()}}(this)),this.dispatcher.on("rendered",function(e){return function(t){return e.determine_add_new_criterion_visibility()}}(this)),l=function(e){return function(){var t,o,r,n,a;for(a=e.builder.questions(),n=[],i.each(e.presenters,(function(e){var t;if(e.model._get_question()&&(t=e.model._get_question(),!(u.call(a,t)>=0)))return n.push(e.model.cid)})),t=0,o=n.length;t<o;t++)r=n[t],e.remove(r);if(0===e.presenters.length)return e.context.use_mode_selector_helper()}}(this),this.builder.survey.on("sortablestop",l,this),l(),i.each(this.presenters,function(e){return function(t){return t.dispatcher=e.dispatcher,t.serialize_all=i.bind(e.serialize,e)}}(this))}return e.prototype.determine_criterion_delimiter_visibility=function(){return this.presenters.length<2?this.$criterion_delimiter.hide():this.$criterion_delimiter.show()},e.prototype.render=function(e){return this.view.render().attach_to(e),this.$criterion_delimiter=this.view.$(".skiplogic__delimselect"),this.$add_new_criterion_button=this.view.$(".skiplogic__addcriterion"),this.determine_criterion_delimiter_visibility(),this.destination=this.view.$(".skiplogic__criterialist"),i.each(this.presenters,(t=this,function(e){return e.render(t.destination)}));var t},e.prototype.serialize=function(){var e;return e=i.map(this.presenters,(function(e){return e.serialize()})),i.filter(e,(function(e){return e})).join(" "+this.view.criterion_delimiter+" ")},e.prototype.add_empty=function(){var e;return(e=this.builder.build_empty_criterion()).dispatcher=this.dispatcher,e.serialize_all=i.bind(this.serialize,this),this.presenters.push(e),e.render(this.destination),this.determine_criterion_delimiter_visibility()},e.prototype.remove=function(e){var t;if(i.each(this.presenters,(t=this,function(o,r){if(null!=o&&o.model.cid===e)return(o=t.presenters.splice(r,1)[0]).view.$el.remove(),t.builder.survey.off(null,null,o),t.determine_add_new_criterion_visibility()})),0===this.presenters.length)return this.context.use_mode_selector_helper()},e.prototype.determine_add_new_criterion_visibility=function(){var e,t,o;if(this.all_presenters_are_valid()?(e="show()",null!=(t=this.$add_new_criterion_button)&&t.show()):(e="hide()",null!=(o=this.$add_new_criterion_button)&&o.hide()),!this.$add_new_criterion_button)return"undefined"!=typeof Raven&&null!==Raven?Raven.captureException("@$add_new_criterion_button is not defined. cannot call "+e+" [inside of determine_add_new_criterion_visibility]"):void 0},e.prototype.all_presenters_are_valid=function(){return!i.find(this.presenters,(function(e){return!e.is_valid()}))},e.prototype.switch_editing_mode=function(){return this.builder.build_hand_code_criteria(this.serialize())},e}(),c.SkipLogicHandCodeHelper=function(){function e(e,t,r,n){this.criteria=e,this.builder=t,this.view_factory=r,this.context=n,this.$parent=o("<div>"),this.textarea=this.view_factory.create_textarea(this.criteria,"skiplogic__handcode-edit"),this.button=this.view_factory.create_button('<i class="k-icon k-icon-trash"></i>',"skiplogic-handcode__cancel")}return e.prototype.render=function(e){return e.append(this.$parent),this.textarea.render().attach_to(this.$parent),this.button.render().attach_to(this.$parent),this.button.bind_event("click",(t=this,function(){return t.context.use_mode_selector_helper()}));var t},e.prototype.serialize=function(){return this.textarea.$el.val()||this.criteria},e}(),c.SkipLogicModeSelectorHelper=function(){function e(e,o){this.context=o,this.criterion_builder_button=e.create_button("<i>+</i> "+t("Add a condition"),"kobo-button kobo-button--green"),this.handcode_button=e.create_button("<i>${}</i> "+t("Manually enter your skip logic in XLSForm code"),"kobo-button kobo-button--blue")}return e.prototype.render=function(e){var t,r;return t=o("<div>"),e.append(t),this.criterion_builder_button.render().attach_to(t),this.handcode_button.render().attach_to(t),this.criterion_builder_button.bind_event("click",(r=this,function(){return r.context.view_factory.survey.trigger("change"),r.context.use_criterion_builder_helper()})),this.handcode_button.bind_event("click",function(e){return function(){return e.context.view_factory.survey.trigger("change"),e.context.use_hand_code_helper()}}(this))},e.prototype.serialize=function(){return""},e.prototype.switch_editing_mode=function(){},e}(),s={EX:(l={EXISTENCE:1,EQUALITY:2,GREATER_THAN:3,GREATER_THAN_EQ:4}).EXISTENCE,EQ:l.EQUALITY,GT:l.GREATER_THAN,GE:l.GREATER_THAN_EQ},c.question_types={default:{operators:[s.EX,s.EQ],equality_operator_type:"text",response_type:"text",name:"default"},select_one:{operators:[s.EQ,s.EX],equality_operator_type:"text",response_type:"dropdown",name:"select_one"},select_multiple:{operators:[s.EQ,s.EX],equality_operator_type:"select_multiple",response_type:"dropdown",name:"select_multiple"},integer:{operators:[s.GT,s.EX,s.EQ,s.GE],equality_operator_type:"basic",response_type:"integer",name:"integer"},barcode:{operators:[s.GT,s.EX,s.EQ,s.GE],equality_operator_type:"text",response_type:"text",name:"barcode"},decimal:{operators:[s.EX,s.EQ,s.GT,s.GE],equality_operator_type:"basic",response_type:"decimal",name:"decimal"},geopoint:{operators:[s.EX],name:"geopoint"},geotrace:{operators:[s.EX],name:"geotrace"},geoshape:{operators:[s.EX],name:"geoshape"},image:{operators:[s.EX],name:"image"},audio:{operators:[s.EX],name:"audio"},video:{operators:[s.EX],name:"video"},acknowledge:{operators:[s.EX],name:"acknowledge"},date:{operators:[s.EQ,s.GT,s.GE],equality_operator_type:"date",response_type:"text",name:"date"}},c.operator_types=[{id:1,type:"existence",label:t("Was Answered"),negated_label:t("Was not Answered"),abbreviated_label:t("Was Answered"),abbreviated_negated_label:t("Was not Answered"),parser_name:["ans_notnull","ans_null"],symbol:{ans_notnull:"!=",ans_null:"="},response_type:"empty"},{id:2,type:"equality",label:"",negated_label:t("not"),abbreviated_label:"=",abbreviated_negated_label:"!=",parser_name:["resp_equals","resp_notequals","multiplechoice_selected","multiplechoice_notselected"],symbol:{resp_equals:"=",resp_notequals:"!=",multiplechoice_selected:"=",multiplechoice_notselected:"!="}},{id:3,type:"equality",label:t("Greater Than"),negated_label:t("Less Than"),abbreviated_label:">",abbreviated_negated_label:"<",parser_name:["resp_greater","resp_less"],symbol:{resp_greater:">",resp_less:"<"}},{id:4,type:"equality",label:t("Greater Than or Equal to"),negated_label:t("Less Than or Equal to"),abbreviated_label:">=",abbreviated_negated_label:"<=",parser_name:["resp_greaterequals","resp_lessequals"],symbol:{resp_greaterequals:">=",resp_lessequals:"<="}}],c)}).call(this,r(29))},,,,function(e,t,o){var r,n,a,i,l,s,c,d=function(e,t){for(var o in t)u.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},u={}.hasOwnProperty;l=o(20),i=o(47),s=o(399),a=o(105),r=o(59),n=o(343),e.exports=(l.extend(s.validators,{invalidChars:function(e,t,o){if(!a.Validator.__validators.invalidChars(e,o))return e+" contains invalid characters"},unique:function(e,t,o,r){var n,i;return n=r.getSurvey().rows.pluck(r.key),i=l.map(n,(function(e){return e.get("value")})),a.Validator.__validators.unique(e,i)?void 0:"Question name isn't unique"}}),l.extend(i.Model.prototype,s.mixin),(c={}).BaseCollection=function(e){function t(e,o){if(e&&"_parent"in e)throw new Error("_parent chould be assigned as property to 2nd argument to XLF.BaseCollection (not first)");o&&o._parent&&(this._parent=o._parent),t.__super__.constructor.call(this,e,o)}return d(t,e),t.prototype.getSurvey=function(){var e;for(e=this._parent;e._parent;)e=e._parent;return e},t}(i.Collection),c.BaseModel=function(e){function t(e,o){o&&"_parent"in o?this._parent=o._parent:"object"==typeof e&&"_parent"in e&&(this._parent=e._parent,delete e._parent),t.__super__.constructor.call(this,e,o)}return d(t,e),t.prototype.parse=function(){},t.prototype.linkUp=function(e){},t.prototype.finalize=function(){},t.prototype.getValue=function(e){var t;if(e){if(void 0===(t=this.get(e)))throw new Error("Could not get value");t.getValue&&(t=t.getValue())}else t=this.get("value");return t},t.prototype.setDetail=function(e,t){return t.constructor===c.RowDetail?this.set(e,t):this.set(e,new c.RowDetail({key:e,value:t},{_parent:this}))},t.prototype.parentRow=function(){return this._parent._parent},t.prototype.precedingRow=function(){var e;if(0!==(e=this._parent.models.indexOf(this)))return this._parent.at(e-1)},t.prototype.nextRow=function(){var e;return e=this._parent.models.indexOf(this),this._parent.at(e+1)},t.prototype.getSurvey=function(){var e;if(null==(e=this._parent))return null;for(;e._parent||e.collection;)if(e._parent)e=e._parent;else{if(!e.collection||!e.collection._parent)break;e=e.collection._parent}return e},t}(i.Model),c.RowDetail=function(e){function t(e,o){var a,i,s,c;this.key=e.key,i=e.value,this.validation=(s=this.validation,c=this,function(){return s.apply(c,arguments)}),this._parent=o._parent,this.key in n&&l.extend(this,n[this.key]),t.__super__.constructor.call(this),null!=i&&(a={},l.isString(i)||l.isNumber(i)?a.value=i:l.isObject(i)&&"value"in i?l.extend(a,i):a.value=i,this.set(a)),this._order=r.columnOrder(this.key),this.postInitialize()}return d(t,e),t.prototype.idAttribute="name",t.prototype.validation=function(){return"name"===this.key?{value:{unique:!0,required:!0}}:"calculation"===this.key||"label"===this.key&&"group"!==this._parent.constructor.key?{value:{required:!0}}:{}},t.prototype.postInitialize=function(){},t.prototype.initialize=function(){var e,t;if(this.get("_hideUnlessChanged")&&(this.hidden=!0,this._oValue=this.get("value"),this.on("change",(function(){return this.hidden=this.get("value")===this._oValue}))),this.on("change:value",(t=this,function(e,o,r){return t._parent.trigger("detail-change",t.key,o,r),t.getSurvey().trigger("row-detail-change",t._parent,t.key,o,r)})),"name"===(e=this.key)||"label"===e||"hint"===e||"guidance_hint"===e||"required"===e||"calculation"===e||"default"===e||"appearance"===e||"constraint_message"===e||"tags"===e||this.key.match(/^.+::.+/))return this.on("change",function(e){return function(t){return e.getSurvey().trigger("change",t)}}(this))},t}(c.BaseModel),c)},,,,,,,,,function(e,t,o){var r,n,a,i,l=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};r=o(20),e.exports=(a={group:["begin group","end group","begin_group","end_group"],repeat:["begin repeat","end repeat","begin_repeat","end_repeat"],kobomatrix:["begin_kobomatrix","end_kobomatrix"],score:["begin score","end score","begin_score","end_score"],rank:["begin_rank","end_rank","begin rank","end rank"]},n=function(e){return a[e]||[e]},(i={}).groupable=function(){return r.flatten([n("group"),n("repeat"),n("score"),n("rank"),n("kobomatrix")])},i.groupsOrRepeats=function(){return r.flatten([n("group"),n("repeat")])},i.requiredSheetNameList=function(){return["survey"]},i.testGroupable=function(e){var t;return t=!1,l.call(a.group,e)>=0?t={type:"group"}:l.call(a.repeat,e)>=0?t={type:"repeat"}:l.call(a.score,e)>=0?t={type:"score"}:l.call(a.rank,e)>=0?t={type:"rank"}:l.call(a.kobomatrix,e)>=0&&(t={type:"kobomatrix"}),t&&t.type&&(t.begin=!e.match(/end/)),t},i.testGroupOrRepeat=function(e){return console.error("q.testGroupOrRepeat is renamed to q.testGroupable"),i.testGroupable(e)},i.hiddenTypes=function(){return r.flatten([["imei","deviceid"],["start"],["end"],["today"],["simserial"],["subscriberid"],["phonenumber","phone_number"],["audit"]])},n.q=n.custom=i,n)},,,,,,,,,,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return i}));var r=o(4);function n(e){return{tags:e.tag_string.split(",").filter((function(e){return 0!==e.length}))}}function a(e){var t=e.content&&e.content.settings;if(t){var o={};return Array.isArray(t)&&t.length&&(o=t[0]),{unparsed__settings:o,settings__style:o.style,settings__form_id:o.form_id,settings__title:o.title}}return{}}function i(e){return Object(r.assign)(e,a(e),n(e))}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"parseTags","/srv/src/kpi/jsapp/js/assetParserUtils.ts"),__REACT_HOT_LOADER__.register(a,"parseSettings","/srv/src/kpi/jsapp/js/assetParserUtils.ts"),__REACT_HOT_LOADER__.register(i,"parsed","/srv/src/kpi/jsapp/js/assetParserUtils.ts"))},,function(e,t,o){var r,n,a,i,l,s=function(e,t){for(var o in t)c.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty,d=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};i=o(20),a=o(47),n=o(40),r=o(65),(l={}).SkipLogicFactory=function(){function e(e){this.survey=e}return e.prototype.create_operator=function(e,t,o){var r;switch(e){case"text":r=new l.TextOperator(t);break;case"date":r=new l.DateOperator(t);break;case"basic":r=new l.SkipLogicOperator(t);break;case"existence":r=new l.ExistenceSkipLogicOperator(t);break;case"select_multiple":r=new l.SelectMultipleSkipLogicOperator(t);break;case"empty":return new l.EmptyOperator}return r.set("id",o),r},e.prototype.create_criterion_model=function(){return new l.SkipLogicCriterion(this,this.survey)},e.prototype.create_response_model=function(e){var t;switch(t=null,e){case"integer":t=new l.IntegerResponseModel;break;case"decimal":t=new l.DecimalResponseModel;break;default:t=new l.ResponseModel(e)}return t.set("type",e)},e}(),l.SkipLogicCriterion=function(e){function t(e,o){this.factory=e,this.survey=o,t.__super__.constructor.call(this)}return s(t,e),t.prototype.serialize=function(){var e;if(null!=(e=this.get("response_value"))&&null!=this.get("operator")&&null!=this.get("question_cid")&&!1!==e.isValid()&&null!=e.get("value")&&this._get_question()){this._get_question().finalize();var t=this._get_question().getValue("name");return this.get("operator").serialize(t,e.get("value"))}return""},t.prototype._get_question=function(){return this.survey.findRowByCid(this.get("question_cid"),{includeGroups:!0})},t.prototype.change_question=function(e){var t,o,r,n,a;if(t=(null!=(r=this._get_question())&&"function"==typeof r.get_type?r.get_type():void 0)||{name:null},this.set("question_cid",e),o=this._get_question().get_type(),n=this.get("operator").get_id(),d.call(o.operators,n)<0?this.change_operator(o.operators[0]):t.name!==o.name&&this.change_operator(this.get("operator").get_value()),null==this.get("operator").get_type().response_type&&this._get_question().response_type!==(null!=(a=this.get("response_value"))?a.get_type():void 0))return this.change_response(null!=(response_model=this.get("response_value"))?this._get_question()._isSelectQuestion()?response_model.get("cid"):response_model.get("value"):"")},t.prototype.change_operator=function(e){var t,o,n,a,i,l,s;if(t=!1,(e=+e)<0&&(t=!0,e*=-1),n=this._get_question().get_type(),d.call(n.operators,e)>=0)return l=(s=r.operator_types[e-1]).symbol[s.parser_name[+t]],o=this.factory.create_operator("equality"===s.type?n.equality_operator_type:s.type,l,e),this.set("operator",o),(s.response_type||n.response_type)!==(null!=(a=this.get("response_value"))?a.get("type"):void 0)?this.change_response((null!=(i=this.get("response_value"))?i.get(this._get_question()._isSelectQuestion()?"cid":"value"):void 0)||""):void 0},t.prototype.get_correct_type=function(){return this.get("operator").get_type().response_type||this._get_question().get_type().response_type},t.prototype.set_option_names=function(e){i.each(e,(function(e){if(null==e.get("name"))return e.set("name",n.sluggify(e.get("label")))}))},t.prototype.change_response=function(e){var t,o,r,n;if((n=this.get("response_value"))&&n.get("type")===this.get_correct_type()||(n=this.factory.create_response_model(this.get_correct_type()),this.set("response_value",n)),"dropdown"===this.get_correct_type()){r=n?n.get("cid"):null;var a=this._get_question().getList();return n.set("choicelist",a),o=a.options.models,this.set_option_names(o),t=i.map(o,(function(e){return e.cid})),d.call(t,e)>=0?n.set_value(e):d.call(t,r)>=0?n.set_value(r):n.set_value(o[0].cid)}return n.set_value(e)},t}(a.Model),l.Operator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.serialize=function(e,t){throw new Error("Not Implemented")},t.prototype.get_value=function(){var e;return e="",this.get("is_negated")&&(e="-"),e+this.get("id")},t.prototype.get_type=function(){return r.operator_types[this.get("id")-1]},t.prototype.get_id=function(){return this.get("id")},t}(a.Model),l.EmptyOperator=function(e){function t(){t.__super__.constructor.call(this),this.set("id",0),this.set("is_negated",!1)}return s(t,e),t.prototype.serialize=function(){return""},t}(l.Operator),l.SkipLogicOperator=function(e){function t(e){t.__super__.constructor.call(this),this.set("symbol",e),this.set("is_negated",["!=","<","<="].indexOf(e)>-1)}return s(t,e),t.prototype.serialize=function(e,t){return"${"+e+"} "+this.get("symbol")+" "+t},t}(l.Operator),l.TextOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.serialize=function(e,o){return t.__super__.serialize.call(this,e,"'"+o.replace(/'/g,"\\'")+"'")},t}(l.SkipLogicOperator),l.DateOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.serialize=function(e,o){return-1==o.indexOf("date")&&(o="date('"+o+"')"),t.__super__.serialize.call(this,e,o)},t}(l.SkipLogicOperator),l.ExistenceSkipLogicOperator=function(e){function t(e){t.__super__.constructor.call(this,e),this.set("is_negated","="===e)}return s(t,e),t.prototype.serialize=function(e){return t.__super__.serialize.call(this,e,"''")},t}(l.SkipLogicOperator),l.SelectMultipleSkipLogicOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.serialize=function(e,t){var o;return o="selected(${"+e+"}, '"+t+"')",this.get("is_negated")?"not("+o+")":o},t}(l.SkipLogicOperator),l.ResponseModel=function(e){function t(e){t.__super__.constructor.call(this),"dropdown"===e&&(this._set_value=this.set_value,this.set_value=function(e){var t;(t=this.get("choicelist").options.get(e))&&(this._set_value(t.get("name")),this.set("cid",e))})}return s(t,e),t.prototype.get_type=function(){return this.get("type")},t.prototype.set_value=function(e){return this.set("value",e,{validate:!0})},t}(a.Model),l.IntegerResponseModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.validation={value:{pattern:/^-?\d+$/,msg:"Number must be integer"}},t.prototype.set_value=function(e){return""===e&&(e=void 0),this.set("value",e,{validate:!!e})},t}(l.ResponseModel),l.DecimalResponseModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.validation={value:{pattern:"number",msg:"Number must be decimal"}},t.prototype.set_value=function(e){function t(){return"number"!=typeof e}return void 0===e||""===e?e=null:(t()&&(e=+(e=e.replace(/\s/g,""))||e),t()&&(e=+e.replace(",",".")||e),t()&&(e=e.lastIndexOf(",")>e.lastIndexOf(".")?+e.replace(/\./g,"").replace(",","."):+e.replace(",",""))),this.set("value",e,{validate:!0})},t}(l.ResponseModel),l.DateResponseModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.validation={value:{pattern:/date\(\'\d{4}-\d{2}-\d{2}\'\)/}},t.prototype.set_value=function(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)&&(e="date('"+e+"')"),this.set("value",e,{validate:!0})},t}(l.ResponseModel),e.exports=l},,,,,,,function(e,t,o){"use strict";var r=o(0),n=o.n(r),a=o(9),i=o.n(a),l=o(1);o(576);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=f(e);if(t){var n=f(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return p(this,o)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,o,r,a=u(s);function s(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),"function"!=typeof e.onChange)throw new Error("onChange callback in ToggleSwitch missing!");return t=a.call(this,e),i()(m(t)),t}return t=s,(o=[{key:"onChange",value:function(e){this.props.onChange(e.currentTarget.checked)}},{key:"render",value:function(){return n.a.createElement(l.a.ToggleSwitch,null,n.a.createElement(l.a.ToggleSwitch__wrapper,null,n.a.createElement(l.a.ToggleSwitch__input,{type:"checkbox",name:this.props.name,id:this.props.id,onChange:this.onChange,checked:this.props.checked,disabled:this.props.disabled}),n.a.createElement(l.a.ToggleSwitch__slider,{disabled:this.props.disabled}),this.props.label&&n.a.createElement(l.a.ToggleSwitch__label,{htmlFor:this.props.id},this.props.label)))}}])&&c(t.prototype,o),r&&c(t,r),s}(n.a.Component),h=_;t.a=h;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"ToggleSwitch","/srv/src/kpi/jsapp/js/components/common/toggleSwitch.es6"),__REACT_HOT_LOADER__.register(h,"default","/srv/src/kpi/jsapp/js/components/common/toggleSwitch.es6"))},,function(e,t,o){var r,n,a;r=o(306),a=o(508),n=o(65),e.exports={model:r,view:a,helper:{skipLogic:n}}},,,function(e,t,o){(function(t){var r,n,a,i,l,s,c,d,u,p,m,f=[].slice;n=o(20),r=o(342),e.exports=((a={}).Validator=r,a.normalizeEventName=function(e){var t;return t=new RegExp("[: ()]","g"),e=e.replace(t,"-")},a.reorderElemsByData=function(e,o,r){var a,i,l,s,c;for(i=[],c=!1,t(o).find(e).each((function(e){var o,a;if(0===e)c=this.parentElement;else if(this.parentElement!==c)throw new Error("All reordered items must be siblings");if(a=(o=t(this).detach()).data(r),n.isNumber(a))return i[a]=o})),l=0,s=i.length;l<s;l++)(a=i[l])&&a.appendTo(c)},a.cleanStringify=function(e){var t,o,r;for(o in t=[],e)""!==(r=e[o])&&t.push('<span class="atts"><i>'+o+'</i>="<em>'+r+'</em>"</span>');return t.join("&nbsp;")},a.debugFrame=(i=!1,l={position:"fixed",width:"95%",height:"80%",bottom:10,left:"2.5%",overflow:"auto",zIndex:100,backgroundColor:"rgba(255,255,255,0.7)"},(s=function(e){var o;return o=e.split("\n").join("<br>"),i=t("<div>",{class:"well debug-frame"}).html("<code>"+o+"</code>").css(l).appendTo("body")}).close=function(){if(i)return i.remove(),i=!1},s),a.launchQuestionLibrary=function(e){var o;return null==e&&(e={}),o=t("<div>",{class:"js-click-remove-iframe iframe-bg-shade"}),t("<div>").text('Launch question library in this element\n<section koboform-question-library=""></section>').appendTo(o),o.click((function(){return o.remove()})),o},a.enketoIframe=(p="https://enketo.org",u="/webform/preview",d=function(e){return""+p+u+"?form="+e},c=function(e){if(e.enketoPreviewUri&&(u=e.enketoPreviewUri),e.enketoServer)return p=e.enketoServer},(m=function(e,o){return null==o&&(o={}),c(o),console.log(o),t(".enketo-holder").append(t("<iframe>",{src:d(e)})),t(".enketo-holder iframe").load((function(){return t(".enketo-loading-message").remove()}))}).close=function(){return t(".iframe-bg-shade").remove(),t(".enketo-holder").remove()},m.fromCsv=function(e,o){var r,n,a,i,l;return null==o&&(o={}),n=t("<div>",{class:"enketo-holder"}).html('<div class=\'enketo-iframe-icon\'></div>\n<div class="enketo-loading-message">\n  <p>\n  <i class="k-spin k-icon k-icon-spinner"></i>\n  <br/>\n  Loading Preview\n</p>\n<p>\n  This will take a few seconds depending on the size of your form.\n</p>\n</div>'),l=t("<div>",{class:"js-click-remove-iframe iframe-bg-shade"}),n.appendTo("body"),l.appendTo("body"),l.click((function(){return l.remove(),n.remove()})),t(".enketo-holder .enketo-iframe-icon").click((function(){return l.remove(),n.remove()})),i=o.previewServer||"",r=JSON.stringify({body:e}),c(o),a=o.onError||function(){var e;return e=1<=arguments.length?f.call(arguments,0):[],"undefined"!=typeof console&&null!==console?console.error.apply(console,e):void 0},t.ajax({url:i+"/koboform/survey_preview/",method:"POST",data:r,complete:function(e,t){var r,s,c;return s=e.responseJSON,"success"===t&&s&&s.unique_string?(c=s.unique_string,m(i+"/koboform/survey_preview/"+c),null!=o.onSuccess?o.onSuccess():void 0):"success"!==t?(l.remove(),n.remove(),(r=e.responseText||e.statusText).split("\n").length>0&&(r=r.split("\n").slice(0,3).join("<br>")),a(r,{title:"Error launching preview"})):s&&s.error?(l.remove(),n.remove(),a(s.error)):(l.remove(),n.remove(),a("SurveyPreview response JSON is not recognized"))}})},m),a)}).call(this,o(29))},function(e,t,o){var r,n,a,i,l=function(e,t){for(var o in t)s.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;n=o(20),a=o(69),r=o(40),e.exports=((i={}).Option=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.initialize=function(){return this.unset("list name"),this.unset("list_name")},t.prototype.destroy=function(){var e,t,o;return t=(e=this.list()._parent).cid,o=e.collection._parent,this.collection.remove(this),o.trigger("remove-option",t,this.cid)},t.prototype.list=function(){return this.collection},t.prototype.getKeys=function(e){var t,o,r;for(t in o=[],r=this.attributes)r[t],e?this.get(t)&&o.push(t):o.push(t);return o},t.prototype.toJSON=function(){var e,t,o;for(t in e={},o=this.attributes)o[t],e[t]=this.get(t);return e},t}(a.BaseModel),i.Options=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=i.Option,t}(a.BaseCollection),i.ChoiceList=function(e){function t(e,o){var r;null==e&&(e={}),r=e.options||[],t.__super__.constructor.call(this,{name:e.name},o),this.options=new i.Options(r||[],{_parent:this})}return l(t,e),t.prototype.idAttribute="name",t.prototype.summaryObj=function(){return this.toJSON()},t.prototype.getSurvey=function(){return this.collection.getSurvey()},t.prototype.getList=function(){return this.__cascadedList?this.__cascadedList:null},t.prototype._get_previous_linked_choice_list=function(){return this.collection.find((e=this,function(t){return t.getList()===e}));var e},t.prototype._get_last_linked_choice_list=function(){var e,t;for(t=e=this;e=t._get_previous_linked_choice_list();)t=e;return t},t.prototype._get_first_linked_choice_list=function(){var e,t;for(t=e=this;e=t.getList();)t=e;return t},t.prototype._has_corresponding_row=function(){var e;return e=this.get("name"),!!this.getSurvey().rows.find((function(t){return t.get("type").get("listName")===e}))},t.prototype._create_corresponding_row_data=function(e){var t,o,r,a,i,l;for(null==e&&(e={}),r=!!e._full_path_choice_filter,o=this._get_first_linked_choice_list(),i=[],(l=[]).push((t=function(e){var t;return{label:t=e.get("name"),type:"select_one "+t,choice_filter:(r?i:n.compact([n.last(i)])).map((function(e){var t;return(t=e.get("name"))+"=${"+t+"}"})).join(" and ")}})(o)),a=o,i.push(o);a=a._get_previous_linked_choice_list();)l.push(t(a)),i.push(a);return l},t.prototype.create_corresponding_rows=function(e){var t,o,r,n,a,i,l,s;for(null==e&&(e={}),l=this._create_corresponding_row_data(),s=this.getSurvey(),t=e.at||0,a=[],o=0,r=(n=l.reverse()).length;o<r;o++)i=n[o],a.push(s.addRowAtIndex(i,t));return a},t.prototype.getOptionKeys=function(e){var t,o,r,a,i,l,s,c;for(null==e&&(e=!0),l=[],t=0,r=(s=this.options.models).length;t<r;t++)for(o=0,a=(c=s[t].getKeys(e)).length;o<a;o++)i=c[o],l.push(i);return n.uniq(l)},t.prototype.finalize=function(){var e,t,o,n,a,i,l;for(a=[],e=0,o=(l=this.options.models).length;e<o;e++)t=(i=l[e]).get("label"),(n=i.get("name"))||(n=r.sluggify(t,{preventDuplicates:a,lowerCase:!0,lrstrip:!0,characterLimit:40,incrementorPadding:!1,validXmlTag:!1}),i.set("name",n)),a.push(n)},t.prototype.clone=function(){var e;return delete(e=this.toJSON()).name,n.assign(new i.ChoiceList(e),{collection:this.collection})},t.prototype.toJSON=function(){return this.finalize(),{name:this.get("name"),options:this.options.invoke("toJSON")}},t.prototype.getNames=function(){var e;return e=this.options.map((function(e){return e.get("name")})),n.compact(e)},t}(a.BaseModel),i.ChoiceLists=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.model=i.ChoiceList,t.prototype.create=function(){var e;return this.add(e=new i.ChoiceList({name:r.txtid()})),e},t.prototype.getListNames=function(){return this.invoke("get","name")},t.prototype.summaryObj=function(e){var t,o,r,n,a;for(null==e&&(e=!1),n={},t=0,o=(a=this.models).length;t<o;t++)n[(r=a[t]).get("name")]=e?r.summaryObj().options:r.summaryObj();return n},t}(a.BaseCollection),i)},function(e,t){var o,r,n,a,i,l,s,c,d,u,p,m,f=[].slice,_={}.hasOwnProperty,h=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};e.exports=(o=function(){function e(e,t){var o,r,i,l,s,d,p;if(null==t&&(t={}),a(e))this.string=e,d=u.toArray(this.string),this.rows=c(d),this.columns=d[0],this.rowArray=2<=d.length?f.call(d,1):[];else if(n(e))this.rows=e,this.columns=(p=this,function(){var e,t,o,r,n,a;for(e=[],t=0,r=(n=p.rows).length;t<r;t++)for(o in a=n[t])_.call(a,o)&&h.call(e,o)<0&&e.push(o);return e})(),this.buildRowArray(),this.obj=e;else if(e){if(this.columns=n(e.columns)?e.columns:[],e.rowObjects){if(0===this.columns.length)for(o=0,i=(l=e.rowObjects).length;o<i;o++)for(r in s=l[o])s[r],r in columns||this.columns.push(r);this.rowArray=function(t){return function(){var o,r,n,a,i;for(i=[],r=0,n=(a=e.rowObjects).length;r<n;r++)s=a[r],i.push(function(){var e,t,r,n;for(n=[],e=0,t=(r=this.columns).length;e<t;e++)o=r[e],n.push(s[o]);return n}.call(t));return i}}(this)()}else this.rowArray=n(e.rows)?e.rows:[];null!=e.kind&&(this.kind=e.kind),this.rows=function(e){return function(){var t,o,r,n,a,i,l,c,d;for(c=[],r=0,a=(l=e.rowArray).length;r<a;r++){for(d={},o=n=0,i=(s=l[r]).length;n<i;o=++n)t=s[o],null!=e.columns[o]&&(d[e.columns[o]]=t);c.push(d)}return c}}(this)()}else this.rows=[],this.columns=[],this.rowArray=[]}return e.prototype.buildRowArray=function(){return this.rowArray=(e=this,function(){var t,o,r,n,a,i;for(a=[],o=0,r=(n=e.rows).length;o<r;o++)i=n[o],a.push(function(){var e,o,r,n;for(n=[],e=0,o=(r=this.columns).length;e<o;e++)t=r[e],n.push(i[t]||"");return n}.call(e));return a})();var e},e.prototype.addRow=function(e){var t,o,r;for(r in t=!1,e)_.call(e,r)&&(e[r],h.call(this.columns,r)<0&&(t=!0,this.columns.push(r)));return this.rows.push(e),t?this.buildRowArray():this.rowArray.push(function(){var t,r,n,a;for(a=[],t=0,r=(n=this.columns).length;t<r;t++)o=n[t],a.push(e[o]);return a}.call(this)),e},e.prototype.toObjects=function(e){return null==e&&(e={}),this.string?u.toObjects(this.string,e):this.rows?this.rows:void 0},e.prototype.toObject=function(){var e;return e={columns:this.columns,rows:this.rowArray},this.kind&&(e.kind=this.kind),e},e.prototype.toArrays=function(){var e,t,o,r,n;for(o=[this.columns],e=0,t=(r=this.rowArray).length;e<t;e++)(n=r[e]).length>0&&o.push(n);return o},e.prototype.toString=function(){var e,t;return function(){var t,o,r,n;for(n=[],t=0,o=(r=this.columns).length;t<o;t++)e=r[t],n.push(d(e));return n}.call(this).join(u.settings.delimiter)+"\n"+function(){var o,r,n,a;for(a=[],o=0,r=(n=this.rowArray).length;o<r;o++)t=n[o],a.push(function(){var o,r,n;for(n=[],o=0,r=t.length;o<r;o++)e=t[o],n.push(d(e));return n}().join(u.settings.delimiter));return a}.call(this).join("\n")},e}(),l=function(e){return e.replace(/\\\\/g,"\\")},d=function(e){var t;return void 0===e?"":RegExp("\\W|\\w|"+u.settings.delimiter).test(e)?(t=JSON.stringify(""+e),l(t)):e},(u=function(e,t){return e instanceof o?e:new o(e,t)}).fromStringArray=function(e,t){var o,r;return null==t&&(t={}),function(){var t,n,a;for(a=[],t=0,n=e.length;t<n;t++)r=e[t],a.push(function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],n.push(d(o));return n}().join(u.settings.delimiter));return a}().join("\n")},u.fromArray=function(e,t){var o,r,n,a,i,l,s,c;for(null==t&&(t={}),c=!!t.sort,r=[],n=0,i=e.length;n<i;n++)for(a in s=e[n])_.call(s,a)&&-1===r.indexOf(a)&&r.push(a);return c&&r.sort(),(l=function(){var t,n,a;for(a=[],t=0,n=e.length;t<n;t++)s=e[t],a.push(function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],n.push(d(s[o]));return n}());return a}()).unshift(function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],n.push(d(o));return n}()),u.fromStringArray(l,t)},u.toObjects=function(e){return c(u.toArray(e))},c=function(e){var t,o,r,n,a,i,l,s,c,d;for(t=e[0],s=[],r=0,a=(d=2<=e.length?f.call(e,1):[]).length;r<a;r++)if(1!==(c=d[r]).length||""!==c[0]){for(l={},o=n=0,i=t.length;n<i;o=++n)l[t[o]]=c[o];s.push(l)}return s},u.toObject=function(e,t){return s(u.toArray(e),t)},s=function(e,t){var o,r,n,a,i,l,s,c,d,u,p,m,_,h,b;for(null==t&&(t={}),o=e[0],m=2<=e.length?f.call(e,1):[],h=t.sortByKey,n=t.includeSortByKey,h||(h=o[0]),b=o.indexOf(h),u={},a=0,s=m.length;a<s;a++)if(1!==(p=m[a]).length||""!==p[0]){for(d={},_=p[b],r=i=0,c=o.length;i<c;r=++i)l=o[r],r!==b&&(d[l]=p[r]);n&&(d[h]=_),u[_]=d}return u},m=function(e){return e.replace(/(\n+)$/g,"")},u._parse_string=function(e){return JSON.parse('"'+e.replace(/\\/g,"\\\\").replace(/\\\\"/g,'\\"')+'"')},u.toArray=function(e){var t,o,r,n,a,i,l;for(u.settings.removeTrailingNewlines&&(e=m(e)),a=u.settings.delimiter,n=[],r=[],u._objPattern=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"((?:(?:[^\\\\]|\\\\\\\\|[\\\\(?=")]"|[\\\\(?!")])*?))"|([^"\\,\\r\\n]*))',"gi");t=u._objPattern.exec(e);)(i=t[1]).length&&i!==a&&(n.push(r),r=[]),l=t[2]?u._parse_string(t[2]):t[3],u.settings.parseFloat&&!isNaN(o=parseFloat(l))&&(l=o),r.push(l);return n.push(r),n},r=function(){function e(e,t){var o;this._sheetIds=[],this._sheets={},a(e)&&p(e,(o=this,function(e,t){var r,n,a,i,l,s,c;for(s=[],a=0,i=e.length;a<i;a++)r=(l=t[n=e[a]])[0],c=2<=l.length?f.call(l,1):[],s.push(o.sheet(n,u({columns:r,rows:c})));return s}))}return e.prototype.sheet=function(e,t){return null==t&&(t=!1),t?(h.call(this._sheetIds,e)<0&&this._sheetIds.push(e),this._sheets[e]=t):this._sheets[e]},e.prototype.toString=function(){var e,t,o,r,n,a,i,l,s,c,p,m,f,_,h,b,g;for(p=[],r=u.settings.delimiter,a=0,s=(m=this._sheetIds).length;a<s;a++){for(g=m[a],b=this._sheets[g],o=b.columns,h=b.rowArray,n=d(g),i=0,f=o.length;0<=f?i<f:i>f;0<=f?++i:--i)n+=r;for(p.push(n),p.push(r+function(){var e,r,n;for(n=[],e=0,r=o.length;e<r;e++)t=o[e],n.push(d(t));return n}().join(r)),l=0,c=h.length;l<c;l++)_=h[l],p.push(r+function(){var t,o,r;for(r=[],o=0,t=_.length;o<t;o++)e=_[o],r.push(d(e));return r}().join(r))}return p.join("\n")},e}(),u.sheeted=function(e,t){return e instanceof r?e:new r(e,t)},p=function(e,t){var o,r,n,a,i,l,s,c,d;for(null==t&&(t=!1),d={},i=[],n=0,a=(l=u.toArray(e)).length;n<a;n++){if(o=(s=l[n])[0],c=2<=s.length?f.call(s,1):[],o&&(r=o),!r)throw new Error("Sheet id must be defined in the first column and cannot be falsey");h.call(i,r)<0&&i.push(r),d[r]||(d[r]=[]),function(){var e,t;for(e=0,t=c.length;e<t;e++)if(c[e])return!0}()&&d[r].push(c)}return t?t.apply(this,[i,d]):[i,d]},u.sheeted.toObjects=function(e){return p(e,(function(e,t){var o,r,n,a;for(n={},o=0,r=e.length;o<r;o++)n[a=e[o]]=c(t[a]);return n}))},u.sheeted.toArray=function(e){return p(e,(function(e,t){var o,r,n,a;for(n=[],o=0,r=e.length;o<r;o++)a=e[o],n.push({id:a,sheet:c(t[a])});return n}))},a=function(e){return!!(""===e||e&&e.charCodeAt&&e.substr)},i=Array.isArray,n=i||function(e){return!(!(e&&e.concat&&e.unshift)||e.callee)},Object.keys,u.settings={delimiter:",",parseFloat:!1,removeTrailingNewlines:!0},u)},function(e,t,o){var r,n,a,i,l,s,c,d,u,p=[].slice;o(20),n=o(510),r=o(511),a=o(512),s=o(513),i=o(514),l=o(515),c=o(516),e.exports=((u={choices:n,params:a,row:s,rowDetail:i,rowSelector:l,surveyApp:c})["AcceptedFilesView.input"]=r.acceptedFilesInput,u["ParamsView.numberParam"]=a.numberParam,u["ParamsView.booleanParam"]=a.booleanParam,u["xlfListView.addOptionButton"]=n.addOptionButton,u["row.mandatorySettingSelector"]=s.mandatorySettingSelector,u["row.rowErrorView"]=s.rowErrorView,u["row.xlfRowView"]=s.xlfRowView,u["row.scoreView"]=s.scoreView,u["row.rankView"]=s.rankView,u.surveyApp=c.surveyApp,u["xlfRowSelector.line"]=l.line,u["xlfRowSelector.cell"]=l.cell,u["xlfRowSelector.namer"]=l.namer,u.xlfDetailView=i,d=function(){var e,t,o;if(e=arguments[0],t=2<=arguments.length?p.call(arguments,1):[],!(o=u[e]))throw new Error("Template not available: '"+e+"'");if("function"!=typeof o)throw new Error("Template not a function: '"+e+"'");return o.apply(null,t)},u.$$render=d,u)},,,function(e,o,r){"use strict";r.d(o,"a",(function(){return f}));var n=r(0),a=r.n(n),i=r(13),l=r(4);r(550);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=m(e);if(t){var n=m(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return p(this,o)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var o,r,n,s=u(p);function p(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),s.call(this,e)}return o=p,(r=[{key:"render",value:function(){var e=Object(i.c)(this.props.asset),o=null,r=["asset-name"],n=this.props.asset.summary;return!e.original&&e.question&&n.row_count&&(2===n.row_count?o=a.a.createElement("small",null,t("and one other question")):n.row_count>2&&(o=a.a.createElement("small",null,t("and ## other questions").replace("##",n.row_count-1)))),e.empty&&r.push("asset-name--empty"),Object(l.hasLongWords)(e.final)&&r.push("asset-name--has-long-words"),a.a.createElement("span",{className:r.join(" ")},e.final," ",o)}}])&&c(o.prototype,r),n&&c(o,n),p}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(f,"AssetName","/srv/src/kpi/jsapp/js/components/common/assetName.es6")},,,function(e,t,o){(function(t){var r,n,a,i,l,s,c,d,u,p,m,f,_,h,b,g=function(e,t){for(var o in t)y.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y={}.hasOwnProperty,v=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1},k=[].slice;m=o(20),r=o(69),n=o(106),c=o(40),a=o(59),u=o(347),d=o(116),i=o(157),l=o(158),s=o(349),f=o(107),p=o(23).LOCKING_PROFILES_PROP_NAME,e.exports=((h=function(e){function o(e,t){var r,i,s,c,u,m,f;if(null==e&&(e={}),o.__super__.constructor.call(this),e.error)throw new Error("instantiating survey with error parameter");if(this._initialParams=e,this.settings=new _(e.settings,{_parent:this}),e.settings||this.settings.enable_auto_name(),(m=this.settings.get("name")||e.name)&&this.set("name",m),this.lockingProfiles=e[p],this.newRowDetails=e.newRowDetails||a.newRowDetails,this.defaultsForType=e.defaultsForType||a.defaultsForType,this.surveyDetails=new d.SurveyDetails([],{_parent:this}).loadSchema(e.surveyDetailsSchema||a.surveyDetailSchema),this.choices=new n.ChoiceLists([],{_parent:this}),l.loadChoiceLists(e.choices||[],this.choices),e.survey)for(l.hasBeenParsed(e)||(e.survey=l.parseArr(e.survey)),r=0,i=(c=e.survey).length;r<i;r++){if(void 0!==(s=c[r]).id)throw new Error("Forbidden column `id` for row: "+JSON.stringify(s,null,2));u=s.type,v.call(a.surveyDetailSchema.typeList(),u)>=0?this.surveyDetails.importDetail(s):this.rows.add(s,{collection:this.rows,silent:!0,_parent:this.rows})}else this.surveyDetails.importDefaults();this.context={warnings:[],errors:[]},this.forEachRow((f=this,function(e){if("function"==typeof e.linkUp)return e.linkUp(f.context)})),this.linkUpChoiceLists()}return g(o,e),o.create=function(e,t){return null==e&&(e={}),new o(e,t)},o.prototype.linkUpChoiceLists=function(){var e,t,o,r,n,a;for(e=this.choices.getListNames(),o=0,r=(a=this.choices.models).length;o<r;o++){if(t=a[o],(n=m.intersection(e,t.getOptionKeys(!0))).length>1)throw new Error("cascading choices can only reference one choice list");1===n.length&&(t.__cascadedList=this.choices.get(n[0]))}},o.prototype.insert_row=function(e,t){var o,r,n,a;return e._isCloned?this.rows.add(e,{at:t}):this.rows.add(e.toJSON(),{at:t}),r=this.rows.at(t),a=this.getSurvey(),(n=e.getList())&&(a.choices.add({options:n.options.toJSON()}),r.get("type").set("list",n)),(o=r.get("name")).set("value",o.deduplicate(a))},o.prototype._ensure_row_list_is_copied=function(e){var t;if(!e.rows&&(t=e.getList()))return this.choices.add({name:t.get("name"),options:t.options.toJSON()})},o.prototype.insertSurvey=function(e,t,o){var r,n,a,i,l,s,c,d,u;for(null==t&&(t=-1),-1===t&&(t=this.rows.length),d=n=0,i=(s=e.rows.models).length;n<i;d=++n){if(c=s[d],u=this,o){if(!(r=this.findRowByCid(o,{includeGroups:!0})))throw new Error("Couldn't find group "+o+"!");u=r}a=t+d,c.rows?(c.forEachRow&&c.forEachRow(function(e){return function(t){return e._ensure_row_list_is_copied(t)}}(this),{includeGroups:!0}),this._insertRowInPlace(c,{index:a,parent:u,noDetach:!0}),this.trigger("change")):(this._ensure_row_list_is_copied(c),(l=c.get("name")).set("value",l.deduplicate(this)),u.rows.add(c.toJSON(),{at:a}))}},o.prototype.toFlatJSON=function(e,o){var r,n,a,i,l,s,c,d,u,f;if(null==e&&(e=!1),null==o&&(o=4),(c=this.toJSON()).survey=function(){var e,t,o,r;for(r=[],e=0,t=(o=c.survey).length;e<t;e++)u=o[e],m.isObject(u.type)&&(u.type=[m.keys(u.type)[0],m.values(u.type)[0]].join(" ")),r.push(u);return r}(),m.isObject(c.choices)){for(i in n=[],d=c.choices)if(y.call(d,i))for(a=0,l=(f=d[i]).length;a<l;a++)s=f[a],delete(r=t.extend({list_name:i},s)).setManually,n.push(r);c.choices=n}return c.settings=[this.settings.attributes],this.lockingProfiles&&(c[p]=this.lockingProfiles),e?JSON.stringify(c,null,o):c},o.prototype.toJSON=function(e,t){var o,r,a,i,l;for(i in null==e&&(e=!1),null==t&&(t=4),r={},o={choices:new n.ChoiceLists},r.survey=(l=this,function(){var e,t,r,n,a,i;for(n=[],e=function(e){var t;return"getList"in e&&(t=e.getList())&&o.choices.add(t),"function"==typeof e.export_relevant_values?e.export_relevant_values(n,o):console.error("No r.export_relevant_values. Does this survey have non-standard columns?",e)},l.forEachRow(e,{includeGroupEnds:!0}),t=0,r=(a=l.surveyDetails.models).length;t<r;t++)(i=a[t]).get("value")&&n.push(i.toJSON());return n})(),o)(a=o[i]).length>0&&(r[i]=a.summaryObj(!0));return e?JSON.stringify(r,null,t):r},o.prototype.getSurvey=function(){return this},o.prototype.log=function(e){var t,o,r;null==e&&(e={}),t=e.log||function(){var e;return e=1<=arguments.length?k.call(arguments,0):[],console.log.apply(console,e)},r=["-"],o=function(e){return"forEachRow"in e?(t(r.join("").replace(/-/g,"="),e.get("label").get("value")),r.push("-"),e.forEachRow(o,{flat:!0,includeGroups:!0}),r.pop()):t(r.join(""),e.get("label").get("value"))},this.forEachRow(o,{flat:!0,includeGroups:!0})},o.prototype.summarize=function(){var e,t,o;return o=0,t=!1,e=function(e){return"geopoint"===e.get("type").get("value")&&(t=!0),o++},this.forEachRow(e,{includeGroups:!1}),{rowCount:o,hasGps:t}},o.prototype._insertRowInPlace=function(e,t){var o,r,n;null==t&&(t={}),e._parent&&!t.noDetach&&e.detach({silent:!0}),o=0,t.index&&(o=t.index),n=t.previous,r=t.parent,n&&(o=(r=n.parentRow()).rows.indexOf(n)+1),r||(r=this),r.rows.add(e,{at:o}),e._parent=r.rows,t.event&&r.rows.trigger(t.event)},o.prototype.prepCols=function(e,t){var o,r,n;if(null==t&&(t={}),r=t.exclude||[],o=t.add||[],m.isString(r)||m.isString(o))throw new Error("prepCols parameters should be arrays");return(n=m.filter(m.uniq(m.flatten(e)),(function(e){return v.call(r,e)<0}))).concat.apply(n,o)},o.prototype.toSsStructure=function(){var e,t,o,r;for(r in t={},o=this.toCsvJson())e=o[r],t[r]=e.rowObjects;return t},o.prototype.toCsvJson=function(){var e,t,o;return this.finalize(),(t={}).survey=(o=this,function(){var e,t,r,n,a,i,l;for(n=["name","type","label"],a=[],e=function(e){var t,o;for(o in t=e.toJSON())y.call(t,o)&&(t[o],v.call(n,o)<0&&n.push(o));return a.push(t)},o.forEachRow(e,{includeErrors:!0,includeGroupEnds:!0}),t=0,r=(i=o.surveyDetails.models).length;t<r;t++)(l=i[t]).get("value")&&e(l);return{columns:n,rowObjects:a}})(),(e=function(e){return function(){var t,o,r,a,i,l,s,d,u,p,f,_,h;for(u=new n.ChoiceLists,e.forEachRow((function(e){var t;return(t=function(e){var o;if("getList"in e&&(o=e.getList())&&!u.get(o.get("name")))return u.add(o),t(o)})(e)})),h=[],a=[],i=0,s=(f=u.models).length;i<s;i++)for((t=f[i]).get("name")||t.set("name",c.txtid(),{silent:!0}),t.finalize(),r=(o=t.toJSON()).name,l=0,d=(_=o.options).length;l<d;l++)p=_[l],a.push(m.keys(p)),h.push(m.extend({},p,{list_name:r}));return h.length>0&&{columns:e.prepCols(a,{exclude:["setManually"],add:["list_name"]}),rowObjects:h}}}(this)())&&(t.choices=e),t.settings=this.settings.toCsvJson(),t},o.prototype.toMarkdown=function(){return s.csvJsonToMarkdown(this.toCsvJson())},o.prototype.toCSV=function(){var e,t,o,r;for(r in o=f.sheeted(),t=this.toCsvJson())e=t[r],o.sheet(r,f(e));return o.toString()},o}(u.SurveyFragment)).load=function(e,t){var o,r;if(null==t&&(t=!1),m.isString(e)&&!b(e))throw Error("Invalid CSV passed to form builder");return o=i.deserialize(e),r=l.parse(o),new h(r)},h.load.csv=function(e){return h.load(e,!0)},h.load.md=function(e){var t;return t=s.mdSurveyStructureToObject(e),new h(t)},h.loadDict=function(e,t){var o;return o=l.parse(e,t),new h(o)},b=function(e){return v.call(e,"\n")>=0&&v.call(e,",")>=0},_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return g(t,e),t.prototype.validation={},t.prototype.toCsvJson=function(){return{columns:m.keys(this.attributes),rowObjects:[this.toJSON()]}},t.prototype.enable_auto_name=function(){var e;return this.auto_name=!0,this.on("change:form_id",(e=this,function(){return e.changing_form_title?e.changing_form_title=!1:e.auto_name=!1})),this.on("change:form_title",function(e){return function(t,o){if(e.auto_name)return e.changing_form_title=!0,e.set("form_id",c.sluggifyLabel(o))}}(this))},t}(r.BaseModel),{Survey:h,Settings:_})}).call(this,o(29))},function(e,o,r){(function(o){var n,a,i,l,s=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t){for(var o in t)d.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},d={}.hasOwnProperty,u=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};i=r(20),r(47),r(93),a=r(156),n=r(65),e.exports=((l={}).SkipLogicCriterionBuilderView=function(e){function r(){return this.addCriterion=s(this.addCriterion,this),r.__super__.constructor.apply(this,arguments)}return c(r,e),r.prototype.events={"click .skiplogic__deletecriterion":"deleteCriterion","click .skiplogic__addcriterion":"addCriterion","change .skiplogic__delimselect":"markChangedDelimSelector"},r.prototype.render=function(){return i.uniqueId("skiplogic_expr"),this.$el.html("<p>\n  "+t("This question will only be displayed if the following conditions apply")+'\n</p>\n<div class="skiplogic__criterialist"></div>\n<p class="skiplogic__addnew">\n  <button class="skiplogic__addcriterion kobo-button kobo-button--green">+ '+t("Add another condition")+'</button>\n</p>\n<select class="skiplogic__delimselect">\n  <option value="and">'+t("Question should match all of these criteria")+'</option>\n  <option value="or">'+t("Question should match any of these criteria")+"</option>\n</select>"),this.$(".skiplogic__delimselect").val(this.criterion_delimiter).children("[value="+this.criterion_delimiter+"]").attr("selected","selected"),this},r.prototype.addCriterion=function(e){return this.facade.view_factory.survey.trigger("change"),this.facade.add_empty()},r.prototype.deleteCriterion=function(e){var t,r;return this.facade.view_factory.survey.trigger("change"),r=(t=o(e.target)).data("criterionId"),this.facade.remove(r),t.parent().remove()},r.prototype.markChangedDelimSelector=function(e){return this.criterion_delimiter=e.target.value},r}(a.Base),l.SkipLogicCriterion=function(e){function t(e,o,r,n){this.question_picker_view=e,this.operator_picker_view=o,this.response_value_view=r,this.presenter=n,t.__super__.constructor.call(this)}return c(t,e),t.prototype.tagName="div",t.prototype.className="skiplogic__criterion",t.prototype.render=function(){return this.question_picker_view.render(),this.alreadyRendered||this.$el.append(o('<i class="skiplogic__deletecriterion k-icon k-icon-trash" data-criterion-id="'+this.model.cid+'"></i>')),this.change_operator(this.operator_picker_view),this.change_response(this.response_value_view),this.alreadyRendered=!0,this},t.prototype.mark_question_specified=function(e){return null==e&&(e=!1),this.$el.toggleClass("skiplogic__criterion--unspecified-question",!e)},t.prototype.bind_question_picker=function(){var e,t;e=this.$question_picker.val(),this.mark_question_specified("placeholderVal"!==e),"placeholderVal"!==e&&""!==e&&this.question_picker_view.disable_placeholder_option(),this.$question_picker.on("change",(t=this,function(e){"placeholderVal"===e.val&&console.error("Changing question to placeholderVal should not happen!"),t.model.survey.trigger("change"),t.mark_question_specified("placeholderVal"!==e.val),t.presenter.change_question(e.val)}))},t.prototype.bind_operator_picker=function(){return this.$operator_picker.on("change",(e=this,function(){return e.operator_picker_view.value=e.$operator_picker.select2("val"),e.presenter.change_operator(e.operator_picker_view.value),e.model.survey.trigger("change")}));var e},t.prototype.bind_response_value=function(){return this.response_value_view.bind_event((e=this,function(){return e.presenter.change_response(e.response_value_view.val()),e.model.survey.trigger("change")}));var e},t.prototype.response_value_handler=function(){return this.presenter.change_response(this.response_value_view.val())},t.prototype.change_operator=function(e){return this.operator_picker_view=e,this.operator_picker_view.render(),this.$operator_picker=this.operator_picker_view.$el},t.prototype.change_response=function(e){return this.response_value_view.detach(),this.response_value_view=e,this.response_value_view.render(),this.$response_value=this.response_value_view.$el},t.prototype.attach_operator=function(){return this.operator_picker_view.attach_to(this.$el),this.bind_operator_picker()},t.prototype.attach_response=function(){return this.$(".skiplogic__responseval-wrapper").length>0&&this.$(".skiplogic__responseval-wrapper").remove(),this.response_value_view.attach_to(this.$el),this.bind_response_value()},t.prototype.attach_to=function(e){this.question_picker_view.attach_to(this.$el),this.$question_picker=this.question_picker_view.$el,this.bind_question_picker(),this.attach_operator(),this.attach_response(),t.__super__.attach_to.call(this,e)},t}(a.Base),l.QuestionPicker=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.tagName="select",t.prototype.className="skiplogic__rowselect",t.prototype.render=function(){return t.__super__.render.call(this),"placeholderVal"!==this.$el.val()&&this.disable_placeholder_option(),this.$el.on("change",this.disable_placeholder_option.bind(this)),this},t.prototype.disable_placeholder_option=function(){var e;"placeholderVal"===(e=this.$el.children(":first")).val()&&e.prop("disabled",!0)},t.prototype.attach_to=function(e){return e.find(".skiplogic__rowselect").remove(),t.__super__.attach_to.call(this,e)},t}(a.DropDown),l.OperatorPicker=function(e){function t(e){this.operators=e,t.__super__.constructor.call(this)}return c(t,e),t.prototype.tagName="div",t.prototype.className="skiplogic__expressionselect",t.prototype.render=function(){return this},t.prototype.attach_to=function(e){var o;return e.find(".skiplogic__expressionselect").remove(),t.__super__.attach_to.call(this,e),this.$el.select2({minimumResultsForSearch:-1,data:(o=this,function(){var e;return e=[],i.each(o.operators,(function(t){return e.push({id:t.id,text:t.label+(1!==t.id?" ("+t.symbol[t.parser_name[0]]+")":"")}),e.push({id:"-"+t.id,text:t.negated_label+(1!==t.id?" ("+t.symbol[t.parser_name[1]]+")":"")})})),e})()}),e.find(".skiplogic__expressionselect.select2-container").show(),this.value?this.val(this.value):this.value=this.$el.select2("val"),this.$el.on("select2-close",function(e){return function(){return e._set_style()}}(this))},t.prototype.val=function(e){return null!=e?(this.$el.select2("val",e),this._set_style(),this.value=e):this.$el.val()},t.prototype._set_style=function(){var e,t,o,r;o=Number(this.$el.val()),this.$el.toggleClass("skiplogic__expressionselect--no-response-value",-1===o||1===o),0!==(t=Math.abs(o))&&(r=i.find(this.operators,(function(e){return e.id===t})),e=o<0?r.abbreviated_negated_label:r.abbreviated_label,this.$el.parents(".skiplogic__criterion").find(".select2-container.skiplogic__expressionselect .select2-chosen").text(e))},t}(a.Base),l.SkipLogicEmptyResponse=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.className="skiplogic__responseval",t.prototype.attach_to=function(e){return e.find(".skiplogic__responseval").remove(),t.__super__.attach_to.call(this,e)},t}(a.EmptyView),l.SkipLogicTextResponse=function(e){function o(e){o.__super__.constructor.call(this,e,"skiplogic__responseval",t("response value"))}return c(o,e),o.prototype.attach_to=function(e){e.find(".skiplogic__responseval").remove(),o.__super__.attach_to.call(this,e)},o.prototype.bind_event=function(e){return this.$el.on("blur",e)},o}(a.TextBox),l.SkipLogicValidatingTextResponseView=function(e){function t(){return this.val=s(this.val,this),this.clear_invalid_view=s(this.clear_invalid_view,this),this.show_invalid_view=s(this.show_invalid_view,this),t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.render=function(){return t.__super__.render.call(this),this.setElement('<div class="skiplogic__responseval-wrapper">'+this.$el+"<div></div></div>"),this.$error_message=this.$("div"),this.model.bind("validated:invalid",this.show_invalid_view),this.model.bind("validated:valid",this.clear_invalid_view),this.$input=this.$el.find("input"),this},t.prototype.show_invalid_view=function(e,t){if(this.$input.val())return this.$el.addClass("textbox--invalid"),this.$error_message.html(t.value),this.$input.focus()},t.prototype.clear_invalid_view=function(e,t){return this.$el.removeClass("textbox--invalid"),this.$error_message.html("")},t.prototype.bind_event=function(e){return this.$input.on("change",e)},t.prototype.val=function(e){return null!=e?this.$input.val(e):this.$input.val()},t}(l.SkipLogicTextResponse),l.SkipLogicDropDownResponse=function(e){function t(e,o){this.responses=e,this.model=o,t.__super__.constructor.call(this,i.map(this.responses.models,(function(e){return{text:e.get("label"),value:e.cid}})))}return c(t,e),t.prototype.tagName="select",t.prototype.className="skiplogic__responseval",t.prototype.attach_to=function(e){return e.find(".skiplogic__responseval").remove(),t.__super__.attach_to.call(this,e),e.find(".skiplogic__responseval.select2-container").show()},t.prototype.bind_event=function(e){return t.__super__.bind_event.call(this,"change",e)},t.prototype.render=function(){var e,o;return t.__super__.render.call(this),o=this,e=function(){return o.val(o.model.get("cid"))},this.model.off("change:cid",e),this.model.on("change:cid",e)},t}(a.DropDown),l.SkipLogicViewFactory=function(){function e(e){this.survey=e}return e.prototype.create_question_picker=function(e){var o,r;return o=new a.DropDownModel,(r=function(){var r;(r=i.map(e.selectableRows(),(function(e){return{value:e.cid,text:e.getValue("label")}}))).unshift({value:"placeholderVal",text:t("Select question from list")}),o.set("options",r)})(),this.survey.on("sortablestop",r),new l.QuestionPicker(o)},e.prototype.create_operator_picker=function(e){var t;return t=null!=e?i.filter(n.operator_types,(function(t){var o;return o=t.id,u.call(e.operators,o)>=0})):[],new l.OperatorPicker(t)},e.prototype.create_response_value_view=function(e,t,o){switch(null==e?"empty":null!=o.response_type?o.response_type:t.response_type){case"empty":return new l.SkipLogicEmptyResponse;case"text":return new l.SkipLogicTextResponse;case"dropdown":return new l.SkipLogicDropDownResponse(e.getList().options);case"integer":case"decimal":return new l.SkipLogicTextResponse;default:return null}},e.prototype.create_criterion_view=function(e,t,o,r){return new l.SkipLogicCriterion(e,t,o,r)},e.prototype.create_criterion_builder_view=function(){return new l.SkipLogicCriterionBuilderView},e.prototype.create_textarea=function(e,t){return new a.TextArea(e,t)},e.prototype.create_button=function(e,t){return new a.Button(e,t)},e.prototype.create_textbox=function(e,t,o){return null==t&&(t=""),null==o&&(o=""),new a.TextBox(e,t,o)},e.prototype.create_label=function(e,t){return new a.Label(e,t)},e.prototype.create_empty=function(){return new a.EmptyView},e}(),l)}).call(this,r(29))},function(e,t,o){var r,n,a=function(e,t){for(var o in t)i.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=o(69),e.exports=(n=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.idAttribute="name",t.prototype.toJSON=function(){var e,t;return!!this.get("value")&&((e={}).name=this.get("name"),e.type=e.name,(t=this.get("parameters"))&&(e.parameters=t),e)},t}(r.BaseModel),{SurveyDetails:function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.model=n,t.prototype.loadSchema=function(e){var t,o,r,a;for(t=0,r=(a=e.models).length;t<r;t++)o=a[t],this.add(new n(o._forSurvey()));return this._schema=e,this.add=this.loadSchema=function(){throw new Error("New survey details must be added to the schema")},this},t.prototype.importDefaults=function(){var e,t,o,r;for(e=0,o=(r=this._schema.models).length;e<o;e++)t=r[e],this.get(t.get("name")).set("value",t.get("default"))},t.prototype.importDetail=function(e){var t;if(!(t=this.get(e.type)))throw new Error("SurveyDetail `"+key+"` not loaded from schema. [Aliases have not been implemented]");e.parameters&&t.set("parameters",e.parameters),t.set("value",!0)},t}(r.BaseCollection),SurveyDetail:n})},,,,,,,,,,,,,,function(e,t,o){"use strict";var r=o(0),n=o.n(r),a=o(9),i=o.n(a),l=o(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=f(e);if(t){var n=f(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return p(this,o)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,o,r,a=u(s);function s(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),"function"!=typeof e.onChange)throw new Error("onChange callback missing!");return t=a.call(this,e),i()(m(t)),t}return t=s,(o=[{key:"onChange",value:function(e){this.props.onChange(e.currentTarget.name,e.currentTarget.value)}},{key:"render",value:function(){var e=this;return n.a.createElement(l.a.Radio,null,this.props.title&&n.a.createElement(l.a.Radio__row,{m:"title"},this.props.title),this.props.options.map((function(t){return n.a.createElement(l.a.Radio__row,{key:t.value},n.a.createElement(l.a.Radio__input,{type:"radio",value:t.value,name:e.props.name,onChange:e.onChange,checked:e.props.selected===t.value}),n.a.createElement(l.a.Radio__label,null,t.label))})))}}])&&c(t.prototype,o),r&&c(t,r),s}(n.a.Component),h=_;t.a=h;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"Radio","/srv/src/kpi/jsapp/js/components/common/radio.tsx"),__REACT_HOT_LOADER__.register(h,"default","/srv/src/kpi/jsapp/js/components/common/radio.tsx"))},function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(5),l=r.n(i),s=r(12),c=r.n(s),d=r(9),u=r.n(d),p=r(8),m=r.n(p),f=r(14),_=r.n(f),h=r(36),b=r(77),g=r(31),y=r(34),v=r(1),k=r(25),w=r(13),x=r(92),E=r.n(x),S=r(6),O=r(15),T=r(18),R=r(7),A=r(4);r(562);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=M(e);if(t){var n=M(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return D(this,o)}}function D(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(l,e);var o,r,n,i=L(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).state={isLoading:!1,templates:[],templatesCount:0,selectedTemplateUid:null,currentAccountUsername:S.a.session.currentAccount?S.a.session.currentAccount.username:null},u()(N(t)),t}return o=l,(r=[{key:"componentDidMount",value:function(){this.fetchTemplates()}},{key:"fetchTemplates",value:function(){var e=this;this.setState({isLoading:!0}),R.a.listTemplates().then((function(t){e.setState({templates:t.results,templatesCount:t.count,isLoading:!1})}))}},{key:"onSelectedTemplateChange",value:function(e){this.setState({selectedTemplateUid:e.target.value}),"function"==typeof this.props.onSelectTemplate&&this.props.onSelectTemplate(e.target.value)}},{key:"render",value:function(){var e=this;return this.state.isLoading?a.a.createElement(k.a,null):0===this.state.templatesCount?a.a.createElement(v.a.FormView__cell,null,t("You have no templates. Go to Library and create some.")):a.a.createElement(v.a.TemplatesList,null,a.a.createElement(v.a.TemplatesList__header,{className:["templates-list__row"]},a.a.createElement(v.a.TemplatesList__column,{m:"name"},t("Template name")),a.a.createElement(v.a.TemplatesList__column,{m:"owner"},t("Owner")),a.a.createElement(v.a.TemplatesList__column,{m:"date"},t("Last modified")),a.a.createElement(v.a.TemplatesList__column,{m:"questions"},t("Questions"))),this.state.templates.map((function(t){var o="selected_template_".concat(t.uid);return a.a.createElement(v.a.TemplatesList__template,{key:t.uid,htmlFor:o,className:["templates-list__row",e.state.selectedTemplateUid===t.uid?"selected":""]},a.a.createElement(v.a.TemplatesList__column,{m:"name"},t.name),a.a.createElement(v.a.TemplatesList__column,{m:"owner"},Object(w.e)(t.owner__username)),a.a.createElement(v.a.TemplatesList__column,{m:"date"},Object(A.formatTime)(t.date_modified)),a.a.createElement(v.a.TemplatesList__column,{m:"questions"},t.summary.row_count),a.a.createElement(v.a.TemplatesList__templateRadio,{type:"radio",name:"selected_template",id:o,value:t.uid,checked:e.state.selectedTemplateUid===t.uid,onChange:e.onSelectedTemplateChange}))})))}}])&&j(o.prototype,r),n&&j(o,n),l}(a.a.Component);c()(I.prototype,m.a.ListenerMixin);var F=I,U=F,H=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(I,"TemplatesList","/srv/src/kpi/jsapp/js/components/templatesList.es6"),__REACT_HOT_LOADER__.register(F,"default","/srv/src/kpi/jsapp/js/components/templatesList.es6")),r(3)),B=r(2),V=r(10),z=r(23),q=r(22),Y=r(21);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=X(e);if(t){var n=X(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return W(this,o)}}function W(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(l,e);var o,r,n,i=K(l);function l(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(o=i.call(this,e)).STEPS={FORM_SOURCE:"form-source",CHOOSE_TEMPLATE:"choose-template",UPLOAD_FILE:"upload-file",IMPORT_URL:"import-url",PROJECT_DETAILS:"project-details"},o.unlisteners=[];var r=o.props.formAsset;return o.state={isSessionLoaded:!!S.a.session.isLoggedIn,isSubmitPending:!1,formAsset:r,name:r?r.name:"",description:r?r.settings.description:"",sector:r?r.settings.sector:null,country:r?r.settings.country:null,"share-metadata":!!r&&r.settings["share-metadata"],currentStep:null,previousStep:null,isImportFromURLPending:!1,importUrl:"",importUrlButtonEnabled:!1,importUrlButton:t("Import"),isApplyTemplatePending:!1,applyTemplateButton:t("Next"),chosenTemplateUid:null,isUploadFilePending:!1,isAwaitingArchiveCompleted:!1,isAwaitingUnarchiveCompleted:!1},u()(J(o)),o}return o=l,(r=[{key:"componentDidMount",value:function(){var e=this;this.setInitialStep(),this.listenTo(S.a.session,(function(){e.setState({isSessionLoaded:!0})})),this.unlisteners.push(H.a.resources.loadAsset.completed.listen(this.onLoadAssetCompleted.bind(this)),H.a.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),H.a.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this)),H.a.resources.cloneAsset.completed.listen(this.onCloneAssetCompleted.bind(this)),H.a.resources.cloneAsset.failed.listen(this.onCloneAssetFailed.bind(this)),H.a.resources.setDeploymentActive.failed.listen(this.onSetDeploymentActiveFailed.bind(this)),H.a.resources.setDeploymentActive.completed.listen(this.onSetDeploymentActiveCompleted.bind(this)),O.f.listen(this.onRouteChange.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"setInitialStep",value:function(){switch(this.props.context){case B.PROJECT_SETTINGS_CONTEXTS.NEW:case B.PROJECT_SETTINGS_CONTEXTS.REPLACE:return this.displayStep(this.STEPS.FORM_SOURCE);case B.PROJECT_SETTINGS_CONTEXTS.EXISTING:case B.PROJECT_SETTINGS_CONTEXTS.BUILDER:return this.displayStep(this.STEPS.PROJECT_DETAILS);default:throw new Error("Unknown context: ".concat(this.props.context,"!"))}}},{key:"getBaseTitle",value:function(){switch(this.props.context){case B.PROJECT_SETTINGS_CONTEXTS.NEW:return t("Create project");case B.PROJECT_SETTINGS_CONTEXTS.REPLACE:return t("Replace form");case B.PROJECT_SETTINGS_CONTEXTS.EXISTING:case B.PROJECT_SETTINGS_CONTEXTS.BUILDER:default:return t("Project settings")}}},{key:"getStepTitle",value:function(e){switch(e){case this.STEPS.FORM_SOURCE:return t("Choose a source");case this.STEPS.CHOOSE_TEMPLATE:return t("Choose template");case this.STEPS.UPLOAD_FILE:return t("Upload XLSForm");case this.STEPS.IMPORT_URL:return t("Import XLSForm");case this.STEPS.PROJECT_DETAILS:return t("Project details");default:return""}}},{key:"getFilenameFromURI",value:function(e){return decodeURIComponent(new URL(e).pathname.split("/").pop().split(".")[0])}},{key:"isLoading",value:function(){var e;return!this.state.isSessionLoaded||!this.state.currentStep||this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.NEW&&void 0===(null===(e=this.state.formAsset)||void 0===e?void 0:e.content)}},{key:"isReplacingFormLocked",value:function(){return this.props.context===B.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.state.formAsset.content&&Object(q.hasAssetRestriction)(this.state.formAsset.content,z.LOCKING_RESTRICTIONS.form_replace.name)}},{key:"onAnyDataChange",value:function(e,t){"function"==typeof this.props.onProjectDetailsChange&&this.props.onProjectDetailsChange({fieldName:e,fieldValue:t})}},{key:"onNameChange",value:function(e){this.setState({name:w.b.removeInvalidChars(e.target.value)}),this.onAnyDataChange("name",w.b.removeInvalidChars(e.target.value))}},{key:"onDescriptionChange",value:function(e){this.setState({description:w.b.removeInvalidChars(e.target.value)}),this.onAnyDataChange("description",w.b.removeInvalidChars(e.target.value))}},{key:"onCountryChange",value:function(e){this.setState({country:e}),this.onAnyDataChange("country",e)}},{key:"onSectorChange",value:function(e){this.setState({sector:e}),this.onAnyDataChange("sector",e)}},{key:"onShareMetadataChange",value:function(e){this.setState({"share-metadata":e}),this.onAnyDataChange("share-metadata",e)}},{key:"onImportUrlChange",value:function(e){this.setState({importUrl:e,importUrlButtonEnabled:Object(A.isAValidUrl)(e),importUrlButton:t("Import")})}},{key:"onTemplateChange",value:function(e){this.setState({chosenTemplateUid:e})}},{key:"resetApplyTemplateButton",value:function(){this.setState({isApplyTemplatePending:!1,applyTemplateButton:t("Choose")})}},{key:"resetImportUrlButton",value:function(){this.setState({isImportFromURLPending:!1,importUrlButtonEnabled:!1,importUrlButton:t("Import")})}},{key:"deleteProject",value:function(e){e.preventDefault(),this.deleteAsset(this.state.formAsset.uid,this.state.formAsset.name,this.goToProjectsList.bind(this))}},{key:"isArchived",value:function(){return this.state.formAsset.has_deployment&&!this.state.formAsset.deployment__active}},{key:"archiveProject",value:function(e){e.preventDefault(),this.archiveAsset(this.state.formAsset.uid,this.onArchiveProjectStarted.bind(this))}},{key:"onArchiveProjectStarted",value:function(){this.setState({isAwaitingArchiveCompleted:!0})}},{key:"unarchiveProject",value:function(e){e.preventDefault(),this.unarchiveAsset(this.state.formAsset.uid,this.onUnarchiveProjectStarted.bind(this))}},{key:"onUnarchiveProjectStarted",value:function(){this.setState({isAwaitingUnarchiveCompleted:!0})}},{key:"onSetDeploymentActiveFailed",value:function(){this.setState({isAwaitingArchiveCompleted:!1,isAwaitingUnarchiveCompleted:!1})}},{key:"onSetDeploymentActiveCompleted",value:function(){this.state.isAwaitingArchiveCompleted&&this.goToProjectsList(),this.state.isAwaitingUnarchiveCompleted&&this.goToFormLanding(),this.setState({isAwaitingArchiveCompleted:!1,isAwaitingUnarchiveCompleted:!1})}},{key:"onRouteChange",value:function(){this.setState({isAwaitingArchiveCompleted:!1,isAwaitingUnarchiveCompleted:!1})}},{key:"goToFormBuilder",value:function(e){S.a.pageState.hideModal(),O.f.push("/forms/".concat(e,"/edit"))}},{key:"goToFormLanding",value:function(){var e;if(S.a.pageState.hideModal(),this.state.formAsset?e=this.state.formAsset.uid:this.context.router&&this.context.router.params.assetid?e=this.context.router.params.assetid:this.context.router&&this.context.router.params.uid&&(e=this.context.router.params.uid),!e)throw new Error("Unknown uid!");O.f.push(V.b.FORM_LANDING.replace(":uid",e))}},{key:"goToProjectsList",value:function(){S.a.pageState.hideModal(),O.f.push(V.b.FORMS)}},{key:"displayStep",value:function(e){var t=this.state.currentStep,o=this.state.previousStep;if(e!==t&&(e===o?this.setState({currentStep:o,previousStep:null}):this.setState({currentStep:e,previousStep:t}),this.props.onSetModalTitle)){var r=this.getStepTitle(e),n=this.getBaseTitle();this.props.onSetModalTitle("".concat(n,": ").concat(r))}}},{key:"displayPreviousStep",value:function(){this.state.previousStep&&this.displayStep(this.state.previousStep)}},{key:"onLoadAssetCompleted",value:function(e){var t;(null===(t=this.state.formAsset)||void 0===t?void 0:t.uid)===e.uid&&this.setState({formAsset:e})}},{key:"onUpdateAssetCompleted",value:function(){this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.NEW||this.goToFormLanding()}},{key:"onUpdateAssetFailed",value:function(){this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.NEW||this.resetApplyTemplateButton()}},{key:"onCloneAssetCompleted",value:function(e){this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.NEW||this.state.currentStep!==this.STEPS.CHOOSE_TEMPLATE||(this.setState({formAsset:e,name:e.name,description:e.settings.description,sector:e.settings.sector,country:e.settings.country,"share-metadata":e.settings["share-metadata"]||!1}),this.resetApplyTemplateButton(),this.displayStep(this.STEPS.PROJECT_DETAILS))}},{key:"onCloneAssetFailed",value:function(){this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.REPLACE&&this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.NEW||this.resetApplyTemplateButton()}},{key:"getOrCreateFormAsset",value:function(){var e=this;return new Promise((function(o,r){e.state.formAsset?o(e.state.formAsset):R.a.createResource({asset_type:"empty"}).done((function(e){o(e)})).fail((function(e){r(t("Error: asset could not be created.")+" (code: ".concat(e.statusText,")"))}))}))}},{key:"createAssetAndOpenInBuilder",value:function(){var e=this;R.a.createResource({name:this.state.name,settings:JSON.stringify({description:this.state.description,sector:this.state.sector,country:this.state.country,"share-metadata":this.state["share-metadata"]}),asset_type:"survey"}).done((function(t){e.goToFormBuilder(t.uid)})).fail((function(e){_.a.error(t("Error: new project could not be created.")+" (code: ".concat(e.statusText,")"))}))}},{key:"updateAndOpenAsset",value:function(){H.a.resources.updateAsset(this.state.formAsset.uid,{name:this.state.name,settings:JSON.stringify({description:this.state.description,sector:this.state.sector,country:this.state.country,"share-metadata":this.state["share-metadata"]})})}},{key:"applyTemplate",value:function(e){e.preventDefault(),this.setState({isApplyTemplatePending:!0,applyTemplateButton:t("Please waitâ€¦")}),this.props.context===B.PROJECT_SETTINGS_CONTEXTS.REPLACE?H.a.resources.updateAsset(this.state.formAsset.uid,{clone_from:this.state.chosenTemplateUid,name:this.state.formAsset.name}):H.a.resources.cloneAsset({uid:this.state.chosenTemplateUid,new_asset_type:"survey"})}},{key:"importFromURL",value:function(e){var o=this;e.preventDefault(),Object(A.isAValidUrl)(this.state.importUrl)&&(this.setState({isImportFromURLPending:!0,importUrlButtonEnabled:!1,importUrlButton:t("Retrieving form, please wait...")}),this.getOrCreateFormAsset().then((function(e){o.setState({formAsset:e});var r=o.state.importUrl;o.applyUrlToAsset(r,e).then((function(e){R.a.getAsset({id:e.uid}).done((function(e){if(o.props.context===B.PROJECT_SETTINGS_CONTEXTS.REPLACE)o.goToFormLanding();else{var t=e.name;o.setState({formAsset:e,name:t,description:e.settings.description,sector:e.settings.sector,country:e.settings.country,"share-metadata":e.settings["share-metadata"],isImportFromURLPending:!1}),o.displayStep(o.STEPS.PROJECT_DETAILS)}})).fail((function(){o.resetImportUrlButton(),_.a.error(t("Failed to reload project after import!"))}))}),(function(e){o.resetImportUrlButton();var n=[];n.push(t("Import Failed!")),r&&n.push("<code>Name: ".concat(o.getFilenameFromURI(r),"</code>")),e.messages.error&&n.push("<code>".concat(e.messages.error_type,": ").concat(Object(A.escapeHtml)(e.messages.error),"</code>")),_.a.error(n.join("<br/>"))}))}),(function(){_.a.error(t("Could not initialize XLSForm import!"))})))}},{key:"onFileDrop",value:function(e){var o=this;e.length>=1&&(this.setState({isUploadFilePending:!0}),this.getOrCreateFormAsset().then((function(r){o.applyFileToAsset(e[0],r).then((function(e){R.a.getAsset({id:e.uid}).done((function(e){if(H.a.resources.loadAsset.completed(e),o.props.context===B.PROJECT_SETTINGS_CONTEXTS.REPLACE)o.goToFormLanding();else{var t=e.name;o.setState({formAsset:e,name:t,description:e.settings.description,sector:e.settings.sector,country:e.settings.country,"share-metadata":e.settings["share-metadata"],isUploadFilePending:!1}),o.displayStep(o.STEPS.PROJECT_DETAILS)}})).fail((function(){o.setState({isUploadFilePending:!1}),_.a.error(t("Failed to reload project after upload!"))}))}),(function(r){o.setState({isUploadFilePending:!1});var n=[];n.push(t("Import Failed!")),e[0].name&&n.push("<code>Name: ".concat(e[0].name,"</code>")),r.messages.error&&n.push("<code>".concat(r.messages.error_type,": ").concat(Object(A.escapeHtml)(r.messages.error),"</code>")),_.a.error(n.join("<br/>"))}))}),(function(){o.setState({isUploadFilePending:!1}),_.a.error(t("Could not import XLSForm!"))})))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.name.trim()?(this.setState({isSubmitPending:!0}),this.state.formAsset?this.updateAndOpenAsset():this.createAssetAndOpenInBuilder()):_.a.error(t("Please enter a title for your project!"))}},{key:"getNameInputLabel",value:function(e){var o=t("Project Name");return e.length>=B.NAME_MAX_LENGTH-99&&(o+=" (".concat(t("##count## characters left").replace("##count##",B.NAME_MAX_LENGTH-e.length),")")),o}},{key:"renderChooseTemplateButton",value:function(){return a.a.createElement("button",{onClick:this.displayStep.bind(this,this.STEPS.CHOOSE_TEMPLATE)},a.a.createElement("i",{className:"k-icon k-icon-template"}),t("Use a template"))}},{key:"renderStepFormSource",value:function(){return a.a.createElement(v.a.FormModal__form,{className:"project-settings project-settings--form-source"},this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.REPLACE&&a.a.createElement(v.a.Modal__subheader,null,t("Choose one of the options below to continue. You will be prompted to enter name and other details in further steps.")),a.a.createElement(v.a.FormModal__item,{m:"form-source-buttons"},this.props.context===B.PROJECT_SETTINGS_CONTEXTS.NEW&&a.a.createElement("button",{onClick:this.displayStep.bind(this,this.STEPS.PROJECT_DETAILS)},a.a.createElement("i",{className:"k-icon k-icon-edit"}),t("Build from scratch")),this.props.context===B.PROJECT_SETTINGS_CONTEXTS.NEW&&this.renderChooseTemplateButton(),a.a.createElement("button",{onClick:this.displayStep.bind(this,this.STEPS.UPLOAD_FILE)},a.a.createElement("i",{className:"k-icon k-icon-upload"}),t("Upload an XLSForm")),a.a.createElement("button",{onClick:this.displayStep.bind(this,this.STEPS.IMPORT_URL)},a.a.createElement("i",{className:"k-icon k-icon-link"}),t("Import an XLSForm via URL")),this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.NEW&&this.renderChooseTemplateButton()))}},{key:"renderStepChooseTemplate",value:function(){return a.a.createElement(v.a.FormModal__form,{className:"project-settings project-settings--choose-template"},a.a.createElement(U,{onSelectTemplate:this.onTemplateChange}),a.a.createElement(v.a.Modal__footer,null,this.renderBackButton(),a.a.createElement(v.a.KoboButton,{m:"blue",type:"submit",onClick:this.applyTemplate,disabled:!this.state.chosenTemplateUid||this.state.isApplyTemplatePending},this.state.applyTemplateButton)))}},{key:"renderStepUploadFile",value:function(){return a.a.createElement(v.a.FormModal__form,{className:"project-settings"},a.a.createElement(v.a.Modal__subheader,null,t("Import an XLSForm from your computer.")),!this.state.isUploadFilePending&&a.a.createElement(b.a,{onDrop:this.onFileDrop.bind(this),multiple:!1,className:"kobo-dropzone",activeClassName:"dropzone-active",rejectClassName:"dropzone-reject",accept:Object(A.validFileTypes)()},a.a.createElement("i",{className:"k-icon k-icon-xls-file"}),t(" Drag and drop the XLSForm file here or click to browse")),this.state.isUploadFilePending&&a.a.createElement("div",{className:"dropzone"},a.a.createElement(k.a,{message:t("Uploading fileâ€¦")})),a.a.createElement(v.a.Modal__footer,null,this.renderBackButton()))}},{key:"renderStepImportUrl",value:function(){return a.a.createElement(v.a.FormModal__form,{className:"project-settings project-settings--import-url"},a.a.createElement("div",{className:"intro"},t("Enter a valid XLSForm URL in the field below."),a.a.createElement("br",null),Y.a.isReady&&Y.a.data.support_url&&a.a.createElement("a",{href:Y.a.data.support_url+"xls_url.html",target:"_blank"},t("Having issues? See this help article."))),a.a.createElement(v.a.FormModal__item,null,a.a.createElement(g.a,{type:"url",label:t("URL"),placeholder:"https://",value:this.state.importUrl,onChange:this.onImportUrlChange})),a.a.createElement(v.a.Modal__footer,null,this.renderBackButton(),a.a.createElement(v.a.KoboButton,{m:"blue",type:"submit",onClick:this.importFromURL,disabled:!this.state.importUrlButtonEnabled},this.state.importUrlButton)))}},{key:"renderStepProjectDetails",value:function(){var e=Y.a.data.available_sectors,o=Y.a.data.available_countries,r=w.b.isSelfOwned(this.state.formAsset);return a.a.createElement(v.a.FormModal__form,{onSubmit:this.handleSubmit,onChange:this.onProjectDetailsFormChange,className:["project-settings","project-settings--project-details",this.props.context===B.PROJECT_SETTINGS_CONTEXTS.BUILDER?"project-settings--narrow":null].join(" ")},this.props.context===B.PROJECT_SETTINGS_CONTEXTS.EXISTING&&a.a.createElement(v.a.Modal__footer,null,a.a.createElement(v.a.KoboButton,{type:"submit",m:"blue",onClick:this.handleSubmit},t("Save Changes"))),a.a.createElement(v.a.FormModal__item,{m:"wrapper"},this.props.context!==B.PROJECT_SETTINGS_CONTEXTS.BUILDER&&a.a.createElement(v.a.FormModal__item,null,a.a.createElement("label",{htmlFor:"name"},this.getNameInputLabel(this.state.name)),a.a.createElement("input",{type:"text",maxLength:B.NAME_MAX_LENGTH,id:"name",placeholder:t("Enter title of project here"),value:this.state.name,onChange:this.onNameChange})),a.a.createElement(v.a.FormModal__item,null,a.a.createElement("label",{htmlFor:"description"},t("Description")),a.a.createElement(E.a,{onChange:this.onDescriptionChange,value:this.state.description,placeholder:t("Enter short description here")})),a.a.createElement(v.a.FormModal__item,null,a.a.createElement("label",{className:"long"},t("Please specify the country and the sector where this project will be deployed. "))),a.a.createElement(v.a.FormModal__item,{m:"sector"},a.a.createElement("label",{htmlFor:"sector"},t("Sector")),a.a.createElement(h.a,{id:"sector",value:this.state.sector,onChange:this.onSectorChange,options:e,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),a.a.createElement(v.a.FormModal__item,{m:"country"},a.a.createElement("label",{htmlFor:"country"},t("Country")),a.a.createElement(h.a,{id:"country",value:this.state.country,onChange:this.onCountryChange,options:o,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),a.a.createElement(v.a.FormModal__item,{m:"metadata-share"},a.a.createElement(y.a,{checked:this.state["share-metadata"],onChange:this.onShareMetadataChange,label:t("Help KoboToolbox improve this product by sharing the sector and country where this project will be deployed.")+" "+t("All the information is submitted anonymously, and will not include the project name or description listed above.")})),(this.props.context===B.PROJECT_SETTINGS_CONTEXTS.NEW||this.props.context===B.PROJECT_SETTINGS_CONTEXTS.REPLACE)&&a.a.createElement(v.a.Modal__footer,null,!this.state.formAsset&&this.renderBackButton(),a.a.createElement(v.a.KoboButton,{m:"blue",type:"submit",onClick:this.handleSubmit,disabled:this.state.isSubmitPending},this.state.isSubmitPending&&t("Please waitâ€¦"),!this.state.isSubmitPending&&this.props.context===B.PROJECT_SETTINGS_CONTEXTS.NEW&&t("Create project"),!this.state.isSubmitPending&&this.props.context===B.PROJECT_SETTINGS_CONTEXTS.REPLACE&&t("Save"))),this.props.context===B.PROJECT_SETTINGS_CONTEXTS.EXISTING&&a.a.createElement(v.a.FormModal__item,null,a.a.createElement(v.a.FormModal__item,{m:"inline"},this.isArchived()&&a.a.createElement(v.a.KoboButton,{m:"blue",onClick:this.unarchiveProject},t("Unarchive Project")),!this.isArchived()&&a.a.createElement(v.a.KoboButton,{m:"orange",onClick:this.archiveProject},t("Archive Project"))),a.a.createElement(v.a.FormModal__item,{m:"inline"},this.isArchived()?t("Unarchive project to resume accepting submissions."):t("Archive project to stop accepting submissions."))),r&&this.props.context===B.PROJECT_SETTINGS_CONTEXTS.EXISTING&&a.a.createElement(v.a.FormModal__item,null,a.a.createElement(v.a.KoboButton,{m:"red",onClick:this.deleteProject},t("Delete Project and Data")))))}},{key:"renderBackButton",value:function(){if(this.state.previousStep){var e=this.state.isSubmitPending||this.state.isApplyTemplatePending||this.state.isImportFromURLPending||this.state.isUploadFilePending;return a.a.createElement(v.a.KoboButton,{m:"whitegray",type:"button",onClick:this.displayPreviousStep,disabled:e},t("Back"))}return!1}},{key:"render",value:function(){if(this.isLoading())return a.a.createElement(k.a,null);if(this.isReplacingFormLocked())return a.a.createElement(v.a.Loading,null,a.a.createElement(v.a.Loading__inner,null,a.a.createElement("i",{className:"k-icon k-icon-alert"}),t("Form replacing is not available due to form's Locking Profile restrictions.")));switch(this.state.currentStep){case this.STEPS.FORM_SOURCE:return this.renderStepFormSource();case this.STEPS.CHOOSE_TEMPLATE:return this.renderStepChooseTemplate();case this.STEPS.UPLOAD_FILE:return this.renderStepUploadFile();case this.STEPS.IMPORT_URL:return this.renderStepImportUrl();case this.STEPS.PROJECT_DETAILS:return this.renderStepProjectDetails();default:throw new Error("Unknown step: ".concat(this.state.currentStep,"!"))}}}])&&$(o.prototype,r),n&&$(o,n),l}(a.a.Component);c()(Z.prototype,m.a.ListenerMixin),c()(Z.prototype,T.a.permissions),c()(Z.prototype,T.a.droppable),c()(Z.prototype,T.a.dmix),Z.contextTypes={router:l.a.object};var ee=Z;o.a=ee,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("xls_url.html","VIA_URL_SUPPORT_URL","/srv/src/kpi/jsapp/js/components/modalForms/projectSettings.es6"),__REACT_HOT_LOADER__.register(Z,"ProjectSettings","/srv/src/kpi/jsapp/js/components/modalForms/projectSettings.es6"),__REACT_HOT_LOADER__.register(ee,"default","/srv/src/kpi/jsapp/js/components/modalForms/projectSettings.es6"))},,function(e,o,r){"use strict";r.d(o,"c",(function(){return j})),r.d(o,"d",(function(){return P})),r.d(o,"a",(function(){return L})),r.d(o,"b",(function(){return D}));var n=r(0),a=r.n(n),i=r(51),l=r.n(i),s=r(12),c=r.n(s),d=r(9),u=r.n(d),p=r(8),m=r.n(p),f=r(36),_=r(34),h=r(1),b=r(3),g=r(55),y=r(6),v=r(2);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,o){return t&&x(e.prototype,t),o&&x(e,o),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=C(e);if(t){var n=C(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return R(this,o)}}function R(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){S(o,e);var t=T(o);function o(e){var r;return w(this,o),(r=t.call(this,e)).state={},u()(A(r)),r}return E(o,[{key:"componentDidMount",value:function(){this.listenTo(this.searchStore,this.searchStoreChanged)}},{key:"searchStoreChanged",value:function(e){e.cleared&&this.setValue(""),this.setState(e)}},{key:"getValue",value:function(){return l.a.findDOMNode(this.refs["formlist-search"]).value}},{key:"setValue",value:function(e){l.a.findDOMNode(this.refs["formlist-search"]).value=e}},{key:"render",value:function(){return a.a.createElement(h.a.Search,{m:[this.state.searchState]},a.a.createElement(h.a.Search__icon,{className:"k-icon k-icon-search"}),a.a.createElement(h.a.SearchInput,{type:"text",ref:"formlist-search",onChange:this.searchChangeEvent,placeholder:this.props.placeholderText}),"none"!==this.state.searchState&&a.a.createElement(h.a.Search__cancel,{className:"k-icon k-icon-close",onClick:this.searchClear}))}}]),o}(a.a.Component);j.defaultProps={searchContext:"default",placeholderText:t("Search...")},c()(j.prototype,g.a.common),c()(j.prototype,m.a.ListenerMixin);var P=function(e){S(r,e);var o=T(r);function r(e){var t;return w(this,r),(t=o.call(this,e)).state={availableTags:[],tagsLoaded:!1},u()(A(t)),t}return E(r,[{key:"componentDidMount",value:function(){this.listenTo(y.a.tags,this.tagsLoaded),this.listenTo(this.searchStore,this.searchStoreChanged),b.a.resources.listTags(this.searchStore.filterTagQueryData)}},{key:"searchStoreChanged",value:function(e){if(e.cleared)this.setState(e);else if(e.searchTags){var t=null;0!==e.searchTags.length&&(t=e.searchTags),this.setState({selectedTags:t})}}},{key:"tagsLoaded",value:function(e){this.setState({tagsLoaded:!0,availableTags:e.map((function(e){return{label:e.name,value:e.name.replace(/\s/g,"-")}})),selectedTags:null})}},{key:"onTagsChange",value:function(e){this.searchTagsChange(e)}},{key:"render",value:function(){return a.a.createElement(h.a.tagSelect,null,a.a.createElement(f.a,{name:"tags",isMulti:!0,isLoading:!this.state.tagsLoaded,loadingMessage:t("Tags are loading..."),placeholder:t("Search Tags"),noOptionsMessage:t("No results found"),options:this.state.availableTags,onChange:this.onTagsChange,className:[this.props.hidden?"hidden":null,"kobo-select"].join(" "),classNamePrefix:"kobo-select",value:this.state.selectedTags,menuPlacement:"auto"}))}}]),r}(a.a.Component);P.defaultProps={searchContext:"default",hidden:!1},c()(P.prototype,g.a.common),c()(P.prototype,m.a.ListenerMixin);var L=function(e){S(r,e);var o=T(r);function r(e){var t;return w(this,r),(t=o.call(this,e)).state={availableCollections:[],collectionsLoaded:!1},t.unlisteners=[],u()(A(t)),t}return E(r,[{key:"componentDidMount",value:function(){this.unlisteners.push(b.a.library.getCollections.completed.listen(this.onGetCollectionsCompleted)),this.queryCollections()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onGetCollectionsCompleted",value:function(e){var t=e.results.filter((function(e){return e.access_types&&(e.access_types.includes(v.ACCESS_TYPES.owned)||e.access_types.includes(v.ACCESS_TYPES.shared)||e.access_types.includes(v.ACCESS_TYPES.subscribed)||e.access_types.includes(v.ACCESS_TYPES.superuser))}));this.setState({collectionsLoaded:!0,availableCollections:t.map((function(e){return{label:e.name,value:e.uid}})),selectedCollection:!1})}},{key:"queryCollections",value:function(){b.a.library.getCollections()}},{key:"onCollectionChange",value:function(e){e?(this.searchCollectionChange(e.value),this.setState({selectedCollection:e})):(this.searchClear(),this.setState({selectedCollection:!1}))}},{key:"render",value:function(){return a.a.createElement(h.a.collectionFilter,null,a.a.createElement(f.a,{name:"collections",placeholder:t("Select Collection Name"),isClearable:!0,isLoading:!this.state.collectionsLoaded,loadingMessage:t("Collections are loading..."),options:this.state.availableCollections,onChange:this.onCollectionChange,value:this.state.selectedCollection,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))}}]),r}(a.a.Component);L.defaultProps={searchContext:"default"},c()(L.prototype,g.a.common),c()(L.prototype,m.a.ListenerMixin);var D=function(e){S(r,e);var o=T(r);function r(e){var t;return w(this,r),(t=o.call(this,e)).state={assetNavExpanded:y.a.pageState.state.assetNavExpanded},u()(A(t)),t}return E(r,[{key:"componentDidMount",value:function(){this.listenTo(this.searchStore,this.searchStoreChanged)}},{key:"searchStoreChanged",value:function(e){this.setState(e)}},{key:"onExpandedToggleChange",value:function(e){y.a.pageState.setState({assetNavExpanded:e}),this.setState({assetNavExpanded:e})}},{key:"render",value:function(){var e=[];return this.state.searchResultsDisplayed&&Array.isArray(this.state.searchResultsList)?e=this.state.searchResultsList:Array.isArray(this.state.defaultQueryResultsList)&&(e=this.state.defaultQueryResultsList),e=e.filter((function(e){return e.asset_type===v.ASSET_TYPES.question.id||e.asset_type===v.ASSET_TYPES.block.id})),a.a.createElement(h.a.LibNav__expanded,{className:{hidden:this.props.hidden}},a.a.createElement(h.a.LibNav__count,null,e.length," ",t("assets found")),a.a.createElement(h.a.LibNav__expandedToggle,null,a.a.createElement(_.a,{checked:this.state.assetNavExpanded,onChange:this.onExpandedToggleChange,label:t("expand details")})))}}]),r}(a.a.Component);D.defaultProps={searchContext:"default",hidden:!1},c()(D.prototype,g.a.common),c()(D.prototype,m.a.ListenerMixin);var N={ListSearch:j,ListTagFilter:P,ListCollectionFilter:L,ListExpandToggle:D};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(j,"ListSearch","/srv/src/kpi/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(P,"ListTagFilter","/srv/src/kpi/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(L,"ListCollectionFilter","/srv/src/kpi/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(D,"ListExpandToggle","/srv/src/kpi/jsapp/js/components/list.es6"),__REACT_HOT_LOADER__.register(N,"list","/srv/src/kpi/jsapp/js/components/list.es6"))},function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return n})),o.d(t,"c",(function(){return y}));var r,n,a=o(0),i=o.n(a),l=o(51),s=o.n(l),c=o(1),d=o(2),u=o(329);o(609);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=g(e);if(t){var n=g(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return h(this,o)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e.light="light",e.dark="dark"}(r||(r={})),function(e){e["up-left"]="up-left",e["up-center"]="up-center",e["up-right"]="up-right",e["down-left"]="down-left",e["down-center"]="down-center",e["down-right"]="down-right"}(n||(n={})),c.a.KoboDropdown=Object(c.b)(null,"kobo-dropdown"),c.a.KoboDropdown__trigger=Object(c.b)(c.a.KoboDropdown,"trigger","button"),c.a.KoboDropdown__menu=Object(c.b)(c.a.KoboDropdown,"menu","menu"),c.a.KoboDropdown__menuButton=Object(c.b)(c.a.KoboDropdown,"menu-button","button");var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(p,e);var t,o,a,l=_(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=l.call(this,e)).checkOutsideClickBound=t.checkOutsideClick.bind(b(t)),t.onAnyKeyWhileOpenBound=t.onAnyKeyWhileOpen.bind(b(t)),t.unlisteners=[],t.state={isMenuVisible:!1},t}return t=p,(o=[{key:"componentDidMount",value:function(){this.unlisteners.push(u.a.hideAnyDropdown.requested.listen(this.hideMenu.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()})),this.cancelEscKeyListener(),this.cancelOutsideClickListener()}},{key:"onTriggerClick",value:function(e){e.preventDefault(),this.toggleMenu()}},{key:"onMenuClick",value:function(){this.props.hideOnMenuClick&&this.hideMenu()}},{key:"toggleMenu",value:function(){this.state.isMenuVisible?this.hideMenu():this.showMenu()}},{key:"showMenu",value:function(){this.setState({isMenuVisible:!0}),this.props.hideOnEsc&&this.registerEscKeyListener(),this.props.hideOnMenuOutsideClick&&this.registerOutsideClickListener()}},{key:"hideMenu",value:function(){this.setState({isMenuVisible:!1}),this.cancelEscKeyListener(),this.cancelOutsideClickListener()}},{key:"registerEscKeyListener",value:function(){document.addEventListener("keydown",this.onAnyKeyWhileOpenBound)}},{key:"cancelEscKeyListener",value:function(){document.removeEventListener("keydown",this.onAnyKeyWhileOpenBound)}},{key:"onAnyKeyWhileOpen",value:function(e){"Escape"!==e.key&&"Escape"!==e.code&&e.keyCode!==d.KEY_CODES.ESC&&e.which!==d.KEY_CODES.ESC||this.hideMenu()}},{key:"registerOutsideClickListener",value:function(){window.addEventListener("click",this.checkOutsideClickBound),window.addEventListener("touch",this.checkOutsideClickBound),window.addEventListener("touchstart",this.checkOutsideClickBound),window.addEventListener("contextmenu",this.checkOutsideClickBound)}},{key:"cancelOutsideClickListener",value:function(){window.removeEventListener("click",this.checkOutsideClickBound),window.removeEventListener("touch",this.checkOutsideClickBound),window.removeEventListener("touchstart",this.checkOutsideClickBound),window.removeEventListener("contextmenu",this.checkOutsideClickBound)}},{key:"checkOutsideClick",value:function(e){for(var t=!0,o=s.a.findDOMNode(this),r=e.target,n=10;null!==r.parentNode&&0!=--n;)if((r=r.parentNode)&&"function"==typeof r.isEqualNode&&r.isEqualNode(o)){t=!1;break}t&&this.hideMenu()}},{key:"getWrapperModifiers",value:function(){var e=[];return this.props.theme?e.push(this.props.theme):e.push(r.light),this.props.placement&&void 0!==n[this.props.placement]?e.push(this.props.placement):e.push(n["down-center"]),this.state.isMenuVisible?e.push("menu-visible"):e.push("menu-hidden"),this.props.isDisabled&&e.push("disabled"),e}},{key:"render",value:function(){var e={"data-name":""};return this.props.name&&(e["data-name"]=this.props.name),i.a.createElement(c.a.KoboDropdown,Object.assign({m:this.getWrapperModifiers()},e),i.a.createElement(c.a.KoboDropdown__trigger,{onClick:this.onTriggerClick.bind(this)},this.props.triggerContent),this.state.isMenuVisible&&i.a.createElement(c.a.KoboDropdown__menu,{onClick:this.onMenuClick.bind(this)},this.props.menuContent))}}])&&m(t.prototype,o),a&&m(t,a),p}(i.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(r,"KoboDropdownThemes","/srv/src/kpi/jsapp/js/components/common/koboDropdown.tsx"),__REACT_HOT_LOADER__.register(n,"KoboDropdownPlacements","/srv/src/kpi/jsapp/js/components/common/koboDropdown.tsx"),__REACT_HOT_LOADER__.register(y,"KoboDropdown","/srv/src/kpi/jsapp/js/components/common/koboDropdown.tsx"))},function(e,o,r){"use strict";r.d(o,"c",(function(){return i})),r.d(o,"b",(function(){return l})),r.d(o,"a",(function(){return s}));var n=r(2),a=r(16);function i(e,o,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=[];o.includes("/")?(l=o.split("/"),n=e.find((function(e){return e.name===l[l.length-1]||e.$autoname===l[l.length-1]}))):n=e.find((function(e){return e.name===o||e.$autoname===o}));var s=i>-1;if(o===a.g)return t("Multi-select checkboxes column");if(o===a.i)return t("Validation");var c=o;if(o.includes("/")){var d=o.split("/");c=d[d.length-1]}if(n&&n.label&&s&&n.label[i]&&(c=n.label[i]),r&&l&&o.includes("/")){var u=l.join(" / ");if(s){var p=l.map((function(t){var o=e.find((function(e){return e.name===t||e.$autoname===t}));return o&&o.label&&o.label[i]?o.label[i]:t}));u=p.join(" / ")}return u}return c}function l(e,t){var o=e.find((function(e){return e.$autoname===t}));if(!o||!o.tags)return null;var r=[];return o.tags.forEach((function(e){e.startsWith("hxl:")&&r.push(e.replace("hxl:",""))})),0===r.length?null:r.join("")}function s(e){var t,o;return(null==e||null===(t=e.content)||void 0===t||null===(o=t.survey.find((function(e){return e.type===n.META_QUESTION_TYPES["background-audio"]})))||void 0===o?void 0:o.name)||null}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"getColumnLabel","/srv/src/kpi/jsapp/js/components/submissions/tableUtils.es6"),__REACT_HOT_LOADER__.register(l,"getColumnHXLTags","/srv/src/kpi/jsapp/js/components/submissions/tableUtils.es6"),__REACT_HOT_LOADER__.register(s,"getBackgroundAudioQuestionName","/srv/src/kpi/jsapp/js/components/submissions/tableUtils.es6"))},,,function(e,o,r){var n,a,i,l,s,c,d,u,p,m,f,_,h,b,g,y,v,k,w,x,E=function(e,t){for(var o in t)S.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},S={}.hasOwnProperty,O=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1},T=[].slice;d=r(20),c=r(47),u=r(14),p=r(69),a=r(59),s=r(40),r(116),r(78),i=r(348),n=r(106),l=r(65),m=r(37).readParameters,f=r(37).writeParameters,e.exports=((x={}).BaseRow=function(e){function t(e,o){var r;for(r in null==e&&(e={}),null==o&&(o={}),e)e[r],""===r&&delete e[r];t.__super__.constructor.call(this,e,o)}return E(t,e),t.kls="BaseRow",t.prototype.ensureKuid=function(){if(!("$kuid"in this.attributes))return this.set("$kuid",s.txtid())},t.prototype.initialize=function(){return this.ensureKuid(),this.convertAttributesToRowDetails()},t.prototype.isError=function(){return!1},t.prototype.convertAttributesToRowDetails=function(){var e,t,o,r;for(e in o=[],t=this.attributes)(r=t[e])instanceof i.RowDetail?o.push(void 0):o.push(this.set(e,new i.RowDetail({key:e,value:r},{_parent:this}),{silent:!0}));return o},t.prototype.attributesArray=function(){var e,t,o;return(e=function(){var e,r;for(t in r=[],e=this.attributes)o=e[t],r.push([t,o]);return r}.call(this)).sort((function(e,t){return e[1]._order<t[1]._order?-1:1})),e},t.prototype.isGroup=function(){return"Group"===this.constructor.kls},t.prototype.isInGroup=function(){var e,t;return"Group"===(null!=(e=this._parent)&&null!=(t=e._parent)?t.constructor.kls:void 0)},t.prototype.detach=function(e){this._parent&&(this._parent.remove(this,e),this._parent=null)},t.prototype.selectableRows=function(){var e,t,o,r,n;return o=[],e=!1,t=["datetime","time","note","calculate","group","kobomatrix","repeat","rank","score"],null===(r=this.getSurvey())?null:(r.forEachRow((n=this,function(r){var a;if(!(e=e||r===n)&&(a=r.getValue("type"),O.call(t,a)<0))return o.push(r)}),{includeGroups:!0}),o)},t.prototype.export_relevant_values=function(e,t){return e.push(this.toJSON2())},t.prototype.toJSON2=function(){var e,t,o,r,n,i,l,s,c;for(r={},e=0,o=(n=this.attributesArray()).length;e<o;e++)t=(i=n[e])[0],c=i[1],"type"!==t||"select_one"!==(l=c.get("typeId"))&&"select_multiple"!==l?(s=this.getValue(t),this.hidden||(d.isBoolean(s)?r[t]=a.boolOutputs[s?"true":"false"]:""!==s&&(r[t]=s))):(r.type=c.get("typeId"),r.select_from_list_name=c.get("listName"));return r},t.prototype.toJSON=function(){var e,t,o,r,n,i,l;for(r={},e=0,o=(n=this.attributesArray()).length;e<o;e++)t=(i=n[e])[0],i[1],l=this.getValue(t),this.hidden||(d.isBoolean(l)?r[t]=a.boolOutputs[l?"true":"false"]:r[t]=l);return r},t}(p.BaseModel),w=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.prototype.finalize=function(){},t.prototype.simpleEnsureKuid=function(){if(!("$kuid"in this.attributes))return this.set("$kuid",s.txtid())},t.prototype.getTypeId=function(){return this.get("type")},t.prototype.linkUp=function(){},t.prototype._isSelectQuestion=function(){return!1},t.prototype.get_type=function(){return l.question_types[this.getTypeId()]||l.question_types.default},t.prototype.getValue=function(e){return this.get(e)},t}(c.Model),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.prototype.initialize=function(){return this.simpleEnsureKuid(),this.set("type","rank__level")},t.prototype.export_relevant_values=function(e,t){return e.push(this.attributes)},t}(w),y=function(){function e(){}return e.prototype._extendAll=function(e){var t,o,r,n,a,i,l,c;if(n=function(t,o){return d.isFunction(t)?e[o]=function(){var o;return o=1<=arguments.length?T.call(arguments,0):[],t.apply(e,o)}:e[o]=t},d.each(this,n),n(this.forEachRow,"forEachRow"),t=e.getValue("$kuid",!1),o=this.end_json({$kuid:"/"+t}),e._afterIterator=function(e,t){var r;if(r={export_relevant_values:function(e,t){return e.push(d.extend({},o))},toJSON:function(){return d.extend({},o)}},t.includeGroupEnds)return e(r)},r=e.toJSON,e.clone=function(){var t,o,r,n,a,i,l,c,d,u,p,m,f,_,h,b,g,y;if(t=e.toJSON2(),p={_parent:e._parent,add:!1,merge:!1,remove:!1,silent:!0},(m=new x.Row(t,p))._isCloned=!0,e._rankRows){for(o=0,i=(_=e._rankRows.models).length;o<i;o++)f=_[o],m._rankRows.add(f.toJSON());for(m._rankLevels=e.getSurvey().choices.add({name:s.txtid()}),n=0,l=(h=e.getList().options.models).length;n<l;n++)r=h[n],m._rankLevels.options.add(r.toJSON());m.set("kobo--rank-items",m._rankLevels.get("name")),this.convertAttributesToRowDetails(),m.get("type").set("list",m._rankLevels)}else{for(a=0,c=(b=e._scoreRows.models).length;a<c;a++)y=b[a],m._scoreRows.add(y.toJSON());for(m._scoreChoices=e.getSurvey().choices.add({name:s.txtid()}),u=0,d=(g=e.getList().options.models).length;u<d;u++)r=g[u],m._scoreChoices.options.add(r.toJSON());m.set("kobo--score-choices",m._scoreChoices.get("name")),this.convertAttributesToRowDetails(),m.get("type").set("list",m._scoreChoices)}return m},e.toJSON=function(){return d.extend(r.call(e),{type:"begin_"+e._beginEndKey()},"function"==typeof this._additionalJson?this._additionalJson():void 0)},d.each(this.constructor.prototype,n),e.attributes.__rows){for(a=0,i=(l=e.attributes.__rows).length;a<i;a++)c=l[a],this[this._rowAttributeName].add(c);return delete e.attributes.__rows}},e.prototype.getValue=function(e){return this.get(e)},e.prototype.end_json=function(e){return null==e&&(e={}),d.extend({type:"end_"+this._beginEndKey()},e)},e.prototype.forEachRow=function(e,t){if(e(this),this[this._rowAttributeName].each((function(t){return e(t)})),"_afterIterator"in this)return this._afterIterator(e,t)},e}(),b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.prototype.model=h,t}(c.Collection),_=function(e){function o(e){this._rankRows=new b,this._rowAttributeName="_rankRows",this._extendAll(e),e.get("kobo--rank-constraint-message")||e.set("kobo--rank-constraint-message",t("Items cannot be selected more than once"))}return E(o,e),o.prototype._beginEndKey=function(){return"rank"},o.prototype.linkUp=function(e){var t,o,r;return t=null!=(o=this.get("kobo--rank-items"))?o.get("value"):void 0,this._rankLevels=t?this.getSurvey().choices.get(t):this.getSurvey().choices.create(),this._additionalJson=(r=this,function(){return{"kobo--rank-items":r.getList().get("name")}}),this.getList=function(e){return function(){return e._rankLevels}}(this)},o.prototype.export_relevant_values=function(e,t){var o;this._rankLevels&&t.choices.add(this._rankLevels),(o=d.clone(this.toJSON2())).type="begin_rank",o["kobo--rank-items"]=this.getList().get("name"),e.push(o)},o}(y),function(e){function t(){return t.__super__.constructor.apply(this,arguments)}E(t,Array)}(),v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.prototype.initialize=function(){return this.set("type","score__row"),this.simpleEnsureKuid()},t.prototype.export_relevant_values=function(e,t){return e.push(this.attributes)},t}(w),k=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.prototype.model=v,t}(c.Collection),g=function(e){function t(e){this._scoreRows=new k,this._rowAttributeName="_scoreRows",this._extendAll(e)}return E(t,e),t.prototype._beginEndKey=function(){return"score"},t.prototype.linkUp=function(e){var t,o,r;this.getList=(r=this,function(){return r._scoreChoices}),this._additionalJson=function(e){return function(){return{"kobo--score-choices":e.getList().get("name")}}}(this),(o=this.get("kobo--score-choices"))?(t=o.get("value"))?this._scoreChoices=this.getSurvey().choices.get(t):(e.warnings.push("Score choices list not found"),this._scoreChoices=this.getSurvey().choices.add({})):(e.warnings.push("Score choices list not set"),this._scoreChoices=this.getSurvey().choices.add({name:s.txtid()}))},t.prototype.export_relevant_values=function(e,t){var o,r;(r=this._scoreChoices)&&t.choices.add(r),(o=d.clone(this.toJSON2())).type="begin_score",o["kobo--score-choices"]=this.getList().get("name"),e.push(o)},t}(y),x.Row=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.kls="Row",t.prototype.initialize=function(){var e,t,o,r,n,i,l,c,u,p,m,f,h,b,y;for(i in this._parent?(n=this._parent.newRowDetails||a.newRowDetails,r=this._parent.defaultsForType||a.defaultsForType):("undefined"!=typeof console&&null!==console&&console.error("Row not linked to parent survey."),n=a.newRowDetails,r=a.defaultsForType),t=this.attributes.type&&this.attributes.type in r?r[this.attributes.type]:{},o=d.extend({},n,t))if(f=o[i],!(i in this.attributes)){for(h in l={},f)b=f[h],l[h]="function"==typeof b?b():b;this.set(i,l)}return"$kuid"in this.attributes||this.set("$kuid",s.txtid()),"score"===(e=this.getValue("type"))?new g(this):"rank"===e&&new _(this),this.convertAttributesToRowDetails(),p=(m=this.get("type")).get("value"),(u=this.get("select_from_list_name"))&&p&&(p=p+" "+u.get("value"),m.set("value",p,{silent:!0})),y=this,(c=function(e,t,o){var r,n,i,l,s,c;if(d.isObject(t)?(c=d.keys(t)[0],n=d.values(t)[0]):(c=(l=t.split(" "))[0],n=l[1],i=l[2]),m.set("typeId",c,{silent:!0}),n&&(m.set("listName",n,{silent:!0}),(r=y.getSurvey().choices.get(n))&&m.set("list",r)),"or_other"!==i&&"select_one_or_other"!==c&&"select_multiple_or_other"!==c||m.set("orOther",i,{silent:!0}),s=a.lookupRowType(c))return m.set("rowType",s,{silent:!0});throw new Error("type `"+c+"` not found")})(m,p,{}),m.on("change:value",c),m.on("change:listName",(function(e,t,o){var r,n;return r=m.get("rowType"),n=""+m.get("typeId"),r.specifyChoice&&t&&(n+=" "+t),r.orOtherOption&&m.get("orOther")&&(n+=" or_other"),m.set({value:n},{silent:!0})})),m.on("change:list",(function(e,t,o){var r;if(m.get("rowType").specifyChoice)return(r=t.get("name"))||(r=s.txtid(),t.set("name",r,{silent:!0})),this.set("value",this.get("typeId")+" "+r)}))},t.prototype.getTypeId=function(){return this.get("type").get("typeId")},t.prototype.clone=function(){var e,t,o,r,n,a;return e={},r={_parent:this._parent,add:!1,merge:!1,remove:!1,silent:!0},d.each(this.attributes,(a=this,function(t,o){return e[o]=a.getValue(o)})),"select_one"!==(n=(o=(t=new x.Row(e,r)).get("type")).get("typeId"))&&"select_multiple"!==n||(o.set("list",this.getList().clone()),o.set("listName",o.get("list").get("name"))),this.getSurvey().trigger("change"),t},t.prototype.finalize=function(){var e,t;return this.getValue("name")||(t=[],this.getSurvey().forEachRow((function(e){var o;if(o=e.getValue("name"))return t.push(o)})),e=this.getValue("label"),this.get("name").set("value",s.sluggifyLabel(e,t))),this},t.prototype.get_type=function(){return l.question_types[this.getTypeId()]||l.question_types.default},t.prototype._isSelectQuestion=function(){var e;return"select_one"===(e=this.get("type").get("typeId"))||"select_multiple"===e},t.prototype.getAcceptedFiles=function(){var e,t;return null!=(e=this.attributes["body::accept"])&&null!=(t=e.attributes)?t.value:void 0},t.prototype.setAcceptedFiles=function(e){this.setDetail("body::accept",e)},t.prototype.getParameters=function(){var e,t;return m(null!=(e=this.attributes.parameters)&&null!=(t=e.attributes)?t.value:void 0)},t.prototype.setParameters=function(e){var t;t=f(e),this.setDetail("parameters",t)},t.prototype.getList=function(){var e,t;return!(e=null!=(t=this.get("type"))?t.get("list"):void 0)&&this._isSelectQuestion()&&(e=new n.ChoiceList({name:s.txtid()}),this.setList(e)),e},t.prototype.setList=function(e){var t;if((t=this.getSurvey().choices.get(e))||(this.getSurvey().choices.add(e),t=this.getSurvey().choices.get(e)),!t)throw new Error("List not found: "+e);return this.get("type").set("list",t)},t.prototype.parse=function(){var e,t,o,r;for(e in o=[],t=this.attributes)r=t[e],o.push(r.parse());return o},t.prototype.linkUp=function(e){var t,o,r,n;for(t in r=[],o=this.attributes)n=o[t],r.push(n.linkUp(e));return r},t}(x.BaseRow),x.RowError=function(e){function t(e,o){this._error=o.error,window.xlfHideWarnings||("undefined"!=typeof console&&null!==console&&console.error("Error creating row: ["+o.error+"]",e),u.error("Error creating row: ["+o.error+"]")),t.__super__.constructor.call(this,e,o)}return E(t,e),t.prototype.isError=function(){return!0},t.prototype.getValue=function(e){return e in this.attributes?this.attributes[e].get("value"):"[error]"},t}(x.BaseRow),x)},function(e,t,o){(function(t){var r;r=o(47),this.jQuery=t,o(517),e.exports=function(){var e;if(function(t,o,r){if(!t[o])return e.push("'"+o+"': '"+r+"'")},(e=[]).length>0)throw new Error("Missing plugin(s): {"+e.join(", ")+"}");return r.View}()}).call(this,o(29))},,,,,,,,,,function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(328),c=r.n(s),d=r(13);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=b(e);if(t){var n=b(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _(this,o)}}function _(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=t("Type and confirm with ENTER"),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,o,r,n=f(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=n.call(this,e),l()(h(t)),t}return t=i,(o=[{key:"onChange",value:function(e){var t=e.join(",").split(",");t=Array.from(new Set(Object(d.a)(t))),this.props.onChange(t.join(","))}},{key:"pasteSplit",value:function(e){return e.split(",").map((function(e){return e.trim()}))}},{key:"render",value:function(){var e={placeholder:this.props.placeholder||g};this.props.label&&(e.id=String(encodeURI(this.props.label)+"_"+Date.now()).toLowerCase());var t=[];return"string"==typeof this.props.tags&&this.props.tags.length>=1&&(t=this.props.tags.split(",")),a.a.createElement("div",null,this.props.label&&a.a.createElement("label",{htmlFor:e.id},this.props.label),a.a.createElement(c.a,{value:t,onChange:this.onChange,inputProps:e,onlyUnique:!0,addOnBlur:!0,addOnPaste:!0,pasteSplit:this.pasteSplit}))}}])&&p(t.prototype,o),r&&p(t,r),i}(a.a.Component),v=y;o.a=v;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"DEFAULT_PLACEHOLDER","/srv/src/kpi/jsapp/js/components/common/koboTagsInput.es6"),__REACT_HOT_LOADER__.register(",","TAGS_SEPARATOR","/srv/src/kpi/jsapp/js/components/common/koboTagsInput.es6"),__REACT_HOT_LOADER__.register(y,"KoboTagsInput","/srv/src/kpi/jsapp/js/components/common/koboTagsInput.es6"),__REACT_HOT_LOADER__.register(v,"default","/srv/src/kpi/jsapp/js/components/common/koboTagsInput.es6"))},,,,function(e,t,o){var r,n,a,i;r=o(154),e.exports=(a=/^\${(\w+)}\s*(!=|<=|>=|=|<|>)\s*((?:date\(\'\d{4}-\d{2}-\d{2}\'\))|(?:-?(?:\d+\.\d+|\.\d+|\d+.?))|(?:\'[^']+\'))/,i=/\${(\w+)}\s*((?:=|!=)\s*(?:NULL|''))/i,n=RegExp(" and | or ","gi"),r(a,i,n,/selected\(\$\{(\w+)\},\s*\'(\w+)\'\)/))},function(e,t,o){var r=o(20);e.exports=function(e,t,o,n){function a(o){var r=o.match(t);if(null===r&&(r=o.match(e)),!r)return function(e){var t=e.match(n);if(!t)throw new Error('criterion not recognized: "'+e+'"');return{name:t[1],operator:-1==e.indexOf("not(")?"multiplechoice_selected":"multiplechoice_notselected",response_value:t[2]}}(o);r[2]=r[2].replace(/\s+/,"").replace(/null/i,"NULL");var a={name:r[1],operator:{"=":"resp_equals","!=":"resp_notequals",">":"resp_greater","<":"resp_less",">=":"resp_greaterequals","<=":"resp_lessequals","!=''":"ans_notnull","=''":"ans_null"}[r[2]]};if(r[3]){var i=r[3].replace(/^'([^']*)'$/,"$1");i=i.replace(/date\('(\d{4}-\d{2}-\d{2})'\)/,"$1"),a.response_value=i}return a}return function(e){var t=e.split(o),n=t.length,i=e.match(o);if(i&&r.uniq(i).length>1)throw new Error("multiple criteria join operators are not supported at the moment");return 1===n?{criteria:[a(e)]}:{criteria:r.map(t,(function(e){return a(e)})),operator:i[0].replace(/ /g,"").toUpperCase()}}}},function(e,t,o){var r,n,a,i;r=o(154),e.exports=(a=/(\.)\s*(!=|<=|>=|=|<|>)\s*((?:date\(\'\d{4}-\d{2}-\d{2}\'\))|(?:-?(?:\d+\.\d+|\.\d+|\d+.?))|(?:\'[^']+\'))/,i=/(\.)\s*((?:=|!=)\s*(?:NULL|''))/i,n=RegExp(" and | or ","gi"),r(a,i,n,/selected\((\.)\s*,\s*\'(\w+)\'\)/))},function(e,t,o){var r,n,a,i=function(e,t){for(var o in t)l.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=o(20),r=o(47),e.exports=((a={}).Base=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.attach_to=function(e){return e instanceof a.Base&&(e=e.$el),e.append(this.el)},t.prototype.bind_event=function(e,t){return this.$el.off(e,t),this.$el.on(e,t)},t.prototype.detach=function(){return this.$el.remove()},t.prototype.val=function(e){return e?(this.$el.val(e),null==this.$el.val()?this.$el.prop("selectedIndex",0):void 0):this.$el.val()},t}(r.View),a.Label=function(e){function t(e,o,r){this.text=e,this.className=o,this.input=r,t.__super__.constructor.call(this)}return i(t,e),t.prototype.tagName="label",t.prototype.val=function(){},t.prototype.bind_event=function(){},t.prototype.render=function(){return this.text&&this.$el.text(this.text),this.className&&this.$el.addClass(this.className),this.input&&this.$el.attr("for",this.input.cid),this},t}(a.Base),a.EmptyView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.attach_to=function(){},t.prototype.bind_event=function(){},t.prototype.render=function(){return this},t.prototype.val=function(){return null},t}(a.Base),a.TextArea=function(e){function t(e,o){this.text=e,this.className=o,t.__super__.constructor.call(this)}return i(t,e),t.prototype.tagName="textarea",t.prototype.render=function(){return this.$el.val(this.text),this.$el.addClass(this.className),this.$el.on("paste",(function(e){return e.stopPropagation()})),this},t}(a.Base),a.TextBox=function(e){function t(e,o,r){this.text=e,this.className=o,this.placeholder=r,t.__super__.constructor.call(this)}return i(t,e),t.prototype.tagName="input",t.prototype.render=function(){return this.$el.attr("type","text"),this.$el.val(this.text),this.$el.addClass(this.className),this.$el.attr("placeholder",this.placeholder),this.$el.on("paste",(function(e){return e.stopPropagation()})),this},t}(a.Base),a.Button=function(e){function t(e,o){this.text=e,this.className=o,t.__super__.constructor.call(this)}return i(t,e),t.prototype.tagName="button",t.prototype.render=function(){return this.$el.html(this.text),this.$el.addClass(this.className),this},t}(a.Base),a.DropDownModel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t}(r.Model),a.DropDown=function(e){function t(e){var o,r;this.render=(o=this.render,r=this,function(){return o.apply(r,arguments)}),this.options=e,t.__super__.constructor.call(this,e),this.options instanceof a.DropDownModel||(this.options=new a.DropDownModel,this.options.set("options",e)),this.options.on("change:options",this.render.bind(this))}return i(t,e),t.prototype.tagName="select",t.prototype.render=function(){var e;return e="",n.each(this.options.get("options"),(function(t){return e+='<option value="'+t.value+'">'+t.text+"</option>"})),this.$el.html(e),this},t.prototype.attach_to=function(e){return t.__super__.attach_to.call(this,e),this.$el.select2({minimumResultsForSearch:-1})},t}(a.Base),a)},function(e,t,o){var r,n,a,i,l,s,c,d,u,p=[].slice;n=o(20),a=o(107),r=o(78),e.exports=(l=function(e,t){var o;return null==t&&(t={}),o=i(e,t),!t.error&&t.validate&&s(o,t),o},c=function(e){var t,o,r;return t=a.sheeted(e),(o={}).survey=(r=t.sheet("survey"))?r.toObjects():[],o.choices=(r=t.sheet("choices"))?r.toObjects():[],(r=t.sheet("settings"))&&(o.settings=r.toObjects()[0]),o},d=function(e){var t,o,r,a,i,l,s,c,d,u,m,f,_,h;for(h in e)if(_=e[h],n.isArray(_)&&_.length>0&&n.isArray(_[0])){for(u=[],o=_[0],i=0,s=(r=2<=_.length?p.call(_,1):[]).length;i<s;i++)if(f=r[i],n.isArray(f)){for(d={},a=l=0,c=o.length;l<c;a=++l)t=o[a],a<f.length&&void 0!==(m=f[a])&&null!==m&&(d[t]=f[a]);u.push(d)}else u.push(f);e[h]=u}return e},i=function(e,t){return null==t&&(t={}),n.isString(e)?c(e):n.isObject(e)?d(e):void 0},u=r.q.requiredSheetNameList(),l.validateParse=s=function(e,t){var o,r,n,a,i;for(null==t&&(t={}),i=!1,o=0,r=u.length;o<r;o++)e[n=u[o]]&&(t.surveyType=n,i=!0);return e.settings&&(t.settings=!0),e.choices&&(t.choices=!0),i||(a=u.join(", "),t.error="Missing a survey sheet ["+a+"]"),!t.error},l.deserialize=i,l)},function(e,t,o){var r,n,a,i,l,s,c,d,u,p,m,f=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};a=o(20),i=o(52),r=o(78),n=o(59),l=o(37),e.exports=(u={},s=function(){function e(e,t){this.type=e,this.atts=null!=t?t:{},this.contents=[]}return e.prototype.push=function(e){this.contents.push(e)},e.prototype.export=function(){var t,o,r,n,i;for(t=[],r=0,n=(i=this.contents).length;r<n;r++)(o=i[r])instanceof e&&(o=o.export()),t.push(o);return a.extend({},this.atts,{type:this.type,__rows:t})},e}(),d=function(e){var t,o,n;for(t=0,o=e.length;t<o;t++){if((n=e[t]).__rows)return!0;if(r.q.testGroupable(n.type))return!1}return!0},u.hasBeenParsed=d,c=function(e,t){var o,r;for(o in e)r=e[o],a.isArray(r)&&"tags"!==o&&(delete e[o],a.map(t,(function(t,n){var a;return a=r[n],e[t?o+"::"+t:o]=a})));return e},m=function(e,t,o){var n,a,i,l,d,u,p,m,f,_;for(null==e&&(e="survey"),null==o&&(o=!1),u={open:{},close:{}},d=function(e,t){var o;null==(o=u[e])[t]&&(o[t]=0),u[e][t]++},p=[new s(e)],l=function(e,t){var o;return null==e&&(e="group"),d("open",e),o=new s(e,t),n().push(o),p.push(o)},i=function(e,t){if(d("close",t),p.pop().type!==e.type)throw new Error("mismatched group/repeat tags")},n=function(){var e;if(0===(e=p.length))throw new Error("unmatched group/repeat");return p[e-1]},f=0,_=t.length;f<_;f++)m=t[f],a=r.q.testGroupable(m.type),o&&o.length>0&&(m=c(m,o)),a?a.begin?l(a.type,m):i(a,m.type):n().push(m);if(1!==p.length)throw new Error(JSON.stringify({message:"unclosed groupable set",counts:u}));return n().export().__rows},p=function(e){var t,o,r,a,l,s,c;for(t=0,o=(r=i(e)).length;t<o;t++)a=(c=r[t]).required,f.call(n.truthyValues,a)>=0?c.required=!0:(l=c.required,(f.call(n.falsyValues,l)>=0||void 0===(s=c.required)||""===s)&&(c.required=!1));return r},u.parseArr=m,u.parse=function(e,t){var o;return e.translations,o=l.nullifyTranslations(e.translations,e.translated,e.survey,t),e.survey=o.survey,e.translations=o.translations,e.translations_0=o.translations_0,e.survey&&(e.survey=p(e.survey)),e.survey&&(e.survey=m("survey",e.survey,e.translations)),e.choices&&(e.choices=m("choices",e.choices,e.translations)),e.settings&&a.isArray(e.settings)&&1===e.settings.length&&(e.settings=e.settings[0]),e},u.loadChoiceLists=function(e,t){var o,r,n,a,i,l,s,c,d,u;for(u={},o=[],a=0,s=e.length;a<s;a++)u[l=(r=e[a])["list name"]||r.list_name]||(u[l]=[],o.push(l)),u[l].push(r);for(d=[],i=0,c=o.length;i<c;i++)n=o[i],d.push(t.add({name:n,options:u[n]}));return d},u)},,,,,,,,,function(e,o,r){"use strict";(function(e){r.d(o,"b",(function(){return A}));var n=r(0),a=r.n(n),i=r(5),l=r.n(i),s=r(12),c=r.n(s),d=r(9),u=r.n(d),p=r(8),m=r.n(p),f=r(1),_=r(6),h=r(46),b=r(15),g=r(18),y=r(2),v=r(10),k=r(4);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=R(e);if(t){var n=R(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return O(this,o)}}function O(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,o){return[{label:t("Table"),icon:"k-icon k-icon-table",path:v.b.FORM_TABLE.replace(":uid",e)},{label:t("Reports"),icon:"k-icon k-icon-report",path:v.b.FORM_REPORT.replace(":uid",e)},{label:t("Gallery"),icon:"k-icon k-icon-photo-gallery",path:v.b.FORM_GALLERY.replace(":uid",e),isDisabled:o},{label:t("Downloads"),icon:"k-icon k-icon-download",path:v.b.FORM_DOWNLOADS.replace(":uid",e)},{label:t("Map"),icon:"k-icon k-icon-map-view",path:v.b.FORM_MAP.replace(":uid",e)}]}var C=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(s,o);var r,n,i,l=S(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={},u()(T(t)),t}return r=s,(n=[{key:"componentDidMount",value:function(){this.listenTo(h.a,this.assetLoad)}},{key:"assetLoad",value:function(e){var t=this.currentAssetID(),o=e[t];this.setState(Object(k.assign)({asset:o,assetid:t}))}},{key:"triggerRefresh",value:function(t){if(e(t.target).hasClass("active")){b.f.push("/forms/".concat(this.state.assetid,"/reset"));var o=t.target.getAttribute("data-path");window.setTimeout((function(){b.f.push(o)}),50),t.preventDefault()}}},{key:"isDataTabEnabled",value:function(){return null!=this.state.asset.deployment__identifier&&this.state.asset.has_deployment&&this.state.asset.deployment__submission_count>0&&(this.userCan("view_submissions",this.state.asset)||this.userCanPartially("view_submissions",this.state.asset))}},{key:"renderTopTabs",value:function(){if(void 0===this.state.asset)return!1;var e="form-view__tab";this.isDataTabEnabled()||(e+=" form-view__tab--disabled");var o="form-view__tab";_.a.session.isLoggedIn||(o+=" form-view__tab--disabled");var r="form-view__tab";return _.a.session.isLoggedIn&&this.userCan("change_asset",this.state.asset)||(r+=" form-view__tab--disabled"),a.a.createElement(f.a.FormView__toptabs,null,a.a.createElement(b.c,{to:v.b.FORM_SUMMARY.replace(":uid",this.state.assetid),className:o,activeClassName:"active"},t("Summary")),a.a.createElement(b.c,{to:v.b.FORM_LANDING.replace(":uid",this.state.assetid),className:"form-view__tab",activeClassName:"active"},t("Form")),a.a.createElement(b.c,{to:v.b.FORM_DATA.replace(":uid",this.state.assetid),className:e,activeClassName:"active"},t("Data")),a.a.createElement(b.c,{to:v.b.FORM_SETTINGS.replace(":uid",this.state.assetid),className:r,activeClassName:"active"},t("Settings")),_.a.session.isLoggedIn&&a.a.createElement(b.c,{to:v.b.FORMS,className:"form-view__link form-view__link--close"},a.a.createElement("i",{className:"k-icon k-icon-close"})))}},{key:"renderFormSideTabs",value:function(){var e=this,o=[];if(this.state.asset&&this.state.asset.has_deployment&&this.isActiveRoute(v.b.FORM_DATA.replace(":uid",this.state.assetid))){var r=g.a.permissions.userCanPartially(y.PERMISSIONS_CODENAMES.view_submissions,this.state.asset);o=A(this.state.assetid,r)}return this.state.asset&&this.isActiveRoute(v.b.FORM_SETTINGS.replace(":uid",this.state.assetid))&&((o=[]).push({label:t("General"),icon:"k-icon k-icon-settings",path:v.b.FORM_SETTINGS.replace(":uid",this.state.assetid)}),g.a.permissions.userCan(y.PERMISSIONS_CODENAMES.change_asset,this.state.asset)&&o.push({label:t("Media"),icon:"k-icon k-icon-photo-gallery",path:v.b.FORM_MEDIA.replace(":uid",this.state.assetid)}),o.push({label:t("Sharing"),icon:"k-icon k-icon-user-share",path:v.b.FORM_SHARING.replace(":uid",this.state.assetid)}),o.push({label:t("Connect Projects"),icon:"k-icon k-icon-attach",path:v.b.FORM_RECORDS.replace(":uid",this.state.assetid)}),(this.state.asset.deployment__active||this.state.asset.deployed_versions.count>0)&&g.a.permissions.userCan(y.PERMISSIONS_CODENAMES.view_submissions,this.state.asset)&&g.a.permissions.userCan(y.PERMISSIONS_CODENAMES.change_asset,this.state.asset)&&o.push({label:t("REST Services"),icon:"k-icon k-icon-data-sync",path:v.b.FORM_REST.replace(":uid",this.state.assetid)})),o.length>0&&a.a.createElement(f.a.FormView__sidetabs,null,o.map((function(t,o){var r="form-view__tab";return t.isDisabled&&(r+=" form-view__tab--disabled"),a.a.createElement(b.c,{to:t.path,key:o,activeClassName:"active",onlyActiveOnIndex:!0,className:r,"data-path":t.path,onClick:e.triggerRefresh},a.a.createElement("i",{className:"k-icon ".concat(t.icon)}),t.label)})))}},{key:"render",value:function(){return!!this.props.show&&("top"===this.props.type?this.renderTopTabs():"side"===this.props.type?this.renderFormSideTabs():void 0)}}])&&x(r.prototype,n),i&&x(r,i),s}(m.a.Component);c()(C.prototype,m.a.ListenerMixin),c()(C.prototype,g.a.contextRouter),c()(C.prototype,g.a.permissions),C.contextTypes={router:l.a.object};var j=C;o.a=j;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(A,"getFormDataTabs","/srv/src/kpi/jsapp/js/components/formViewTabs.es6"),__REACT_HOT_LOADER__.register(C,"FormViewTabs","/srv/src/kpi/jsapp/js/components/formViewTabs.es6"),__REACT_HOT_LOADER__.register(j,"default","/srv/src/kpi/jsapp/js/components/formViewTabs.es6"))}).call(this,r(29))},,function(e,o,r){"use strict";var n=r(2),a=r(7),i=r(4),l={enketoUrls:new Map,winTab:null,_getUrlId:function(e,t,o){return"".concat(e,"-").concat(t,"-").concat(o)},_hasEnketoUrl:function(e){return this.enketoUrls.has(e)},_openEnketoUrl:function(e){this.winTab.location.href=this.enketoUrls.get(e)},_saveEnketoUrl:function(e,t){this.enketoUrls.set(e,t),setTimeout(this._removeEnketoUrl.bind(this,e),3e4)},_removeEnketoUrl:function(e){this.enketoUrls.delete(e)},openSubmission:function(e,o,r){var l=this;this.winTab=window.open("","_blank");var s=a.a.getEnketoEditLink;r===n.ENKETO_ACTIONS.view&&(s=a.a.getEnketoViewLink);var c=this._getUrlId(e,o,r);return new Promise((function(r,n){l._hasEnketoUrl(c)?(l._openEnketoUrl(c),r()):s(e,o).done((function(e){if(e.url)l._saveEnketoUrl(c,e.url),l._openEnketoUrl(c),r();else{var o=t("There was an error loading Enketo.");e.detail&&(o+="<br><code>".concat(e.detail,"</code>")),Object(i.notify)(o,"error"),n()}})).fail((function(){Object(i.notify)(t("There was an error getting Enketo link"),"error"),n()}))})).catch((function(){l.winTab.close()}))}},s=l;o.a=s;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(l,"enketoHandler","/srv/src/kpi/jsapp/js/enketoHandler.es6"),__REACT_HOT_LOADER__.register(s,"default","/srv/src/kpi/jsapp/js/enketoHandler.es6"))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){var r,n,a,i,l,s,c;s=o(20),i=o(114),l=o(40),n=o(138),a=o(93),r=o(59),e.exports=(c={},s.extend(c,i,n),c._keys=s.keys(c),c.rowDetailsSkipLogic=a,c.utils=l,c.configs=r,c)},,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return v}));var r=o(0),n=o.n(r),a=o(12),i=o.n(a),l=o(8),s=o.n(l),c=o(9),d=o.n(c),u=o(20),p=o(3);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=y(e);if(t){var n=y(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return b(this,o)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=!1,k=Object.freeze({action_color:"#2095f3",background_color:"#575b70"}),w=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,t);var o,r,n,a=h(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=a.call(this,e),d()(g(t)),t.currentSettings=Object.assign({},k),t.updateHorizontalPaddingDebounced=u.default.debounce(t.updateHorizontalPadding,500),t}return o=i,(r=[{key:"componentDidMount",value:function(){window.IntercomAppId?(this.listenTo(p.a.navigation.routeUpdate,this.onRouteUpdate),this.listenTo(p.a.auth.verifyLogin.loggedin,this.onLogIn),this.listenTo(p.a.auth.logout.completed,this.onLogOut)):console.info("Intercom not enabled")}},{key:"componentWillUnmount",value:function(){v&&window.removeEventListener("resize",this.updateHorizontalPaddingDebounced)}},{key:"onRouteUpdate",value:function(){window.Intercom("update")}},{key:"onLogIn",value:function(e){this.isEmailValid(e.email)?(console.info("Intercom enabled and startingâ€¦"),this.injectIntercomScripts(),this.bootIntercom(e),v&&(this.currentSettings.custom_launcher_selector="#custom_intercom_launcher",this.currentSettings.hide_default_launcher=!0,this.currentSettings.alignment="left",window.Intercom("update",this.currentSettings),window.addEventListener("resize",this.updateHorizontalPaddingDebounced),this.updateHorizontalPadding())):window.Intercom("shutdown")}},{key:"bootIntercom",value:function(e){var t=e.extra_details.name,o=[e.first_name,e.last_name].filter((function(e){return e})).join(" ");this.currentSettings.app_id=window.IntercomAppId,this.currentSettings.user_id=[e.username,window.location.host].join("@"),this.currentSettings.username=e.username,this.currentSettings.email=e.email,this.currentSettings.name=t||o||e.username,this.currentSettings.created_at=Math.floor(new Date(e.date_joined).getTime()/1e3),window.Intercom("boot",this.currentSettings)}},{key:"onLogOut",value:function(){window.Intercom("shutdown")}},{key:"updateHorizontalPadding",value:function(){var t=e(k.custom_launcher_selector);if(window.Intercom&&t.length){var o=t[0].getBoundingClientRect().left+t.width()+e(window).scrollLeft()-1;this.currentSettings.horizontal_padding=o,window.Intercom("update",this.currentSettings)}}},{key:"injectIntercomScripts",value:function(){var e=window,t=e.Intercom;if("function"==typeof t)t("reattach_activator"),t("update",this.settings);else{var o=document,r=function e(){e.c(arguments)};function n(){var e=o.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/".concat(window.IntercomAppId);var t=o.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}r.q=[],r.c=function(e){r.q.push(e)},e.Intercom=r,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}},{key:"isEmailValid",value:function(e){return!v||e.endsWith("example.com")}},{key:"render",value:function(){return null}}])&&f(o.prototype,r),n&&f(o,n),i}(n.a.Component);i()(w.prototype,s.a.ListenerMixin);var x=w;t.b=x;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(v,"USE_CUSTOM_INTERCOM_LAUNCHER","/srv/src/kpi/jsapp/js/components/intercomHandler.es6"),__REACT_HOT_LOADER__.register(k,"DEFAULT_SETTINGS","/srv/src/kpi/jsapp/js/components/intercomHandler.es6"),__REACT_HOT_LOADER__.register(w,"IntercomHandler","/srv/src/kpi/jsapp/js/components/intercomHandler.es6"),__REACT_HOT_LOADER__.register(x,"default","/srv/src/kpi/jsapp/js/components/intercomHandler.es6"))}).call(this,o(29))},,function(e,t,o){"use strict";var r=o(8),n=o.n(r).a.createActions({hideAnyDropdown:{children:["requested"]}});n.hideAnyDropdown.listen(n.hideAnyDropdown.requested);var a=n;t.a=a;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"koboDropdownActions","/srv/src/kpi/jsapp/js/components/common/koboDropdownActions.ts"),__REACT_HOT_LOADER__.register(a,"default","/srv/src/kpi/jsapp/js/components/common/koboDropdownActions.ts"))},function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(470),c=r.n(s),d=r(1);r(653);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=b(e);if(t){var n=b(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _(this,o)}}function _(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var o,r,n,i=f(s);function s(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o=i.call(this,e),l()(h(o)),o.feedbackTranslations={"Use a few words, avoid common phrases":t("Use a few words, avoid common phrases"),"No need for symbols, digits, or uppercase letters":t("No need for symbols, digits, or uppercase letters"),"Add another word or two. Uncommon words are better.":t("Add another word or two. Uncommon words are better."),"Straight rows of keys are easy to guess":t("Straight rows of keys are easy to guess"),"Short keyboard patterns are easy to guess":t("Short keyboard patterns are easy to guess"),"Use a longer keyboard pattern with more turns":t("Use a longer keyboard pattern with more turns"),'Repeats like "aaa" are easy to guess':t('Repeats like "aaa" are easy to guess'),'Repeats like "abcabcabc" are only slightly harder to guess than "abc"':t('Repeats like "abcabcabc" are only slightly harder to guess than "abc"'),"Avoid repeated words and characters":t("Avoid repeated words and characters"),"Sequences like abc or 6543 are easy to guess":t("Sequences like abc or 6543 are easy to guess"),"Avoid sequences":t("Avoid sequences"),"Recent years are easy to guess":t("Recent years are easy to guess"),"Avoid recent years":t("Avoid recent years"),"Avoid years that are associated with you":t("Avoid years that are associated with you"),"Dates are often easy to guess":t("Dates are often easy to guess"),"Avoid dates and years that are associated with you":t("Avoid dates and years that are associated with you"),"This is a top-10 common password":t("This is a top-10 common password"),"This is a top-100 common password":t("This is a top-100 common password"),"This is a very common password":t("This is a very common password"),"This is similar to a commonly used password":t("This is similar to a commonly used password"),"A word by itself is easy to guess":t("A word by itself is easy to guess"),"Names and surnames by themselves are easy to guess":t("Names and surnames by themselves are easy to guess"),"Common names and surnames are easy to guess":t("Common names and surnames are easy to guess"),"Capitalization doesn't help very much":t("Capitalization doesn't help very much"),"All-uppercase is almost as easy to guess as all-lowercase":t("All-uppercase is almost as easy to guess as all-lowercase"),"Reversed words aren't much harder to guess":t("Reversed words aren't much harder to guess"),"Predictable substitutions like '@' instead of 'a' don't help very much":t("Predictable substitutions like '@' instead of 'a' don't help very much")},o}return o=s,(r=[{key:"render",value:function(){var e=this,o=c()(this.props.password),r="score-".concat(o.score);return a.a.createElement(d.a.PasswordStrength,null,a.a.createElement(d.a.PasswordStrength__title,null,t("Password strength")),a.a.createElement(d.a.PasswordStrength__bar,{m:r},a.a.createElement(d.a.PasswordStrength__indicator,null)),(o.feedback.warning||o.feedback.suggestions.length>0)&&a.a.createElement(d.a.PasswordStrength__messages,null,o.feedback.warning&&a.a.createElement(d.a.PasswordStrength__message,{m:"warning"},this.feedbackTranslations[o.feedback.warning]),o.feedback.suggestions.length>0&&o.feedback.suggestions.map((function(t,o){return a.a.createElement(d.a.PasswordStrength__message,{key:o},e.feedbackTranslations[t])}))))}}])&&p(o.prototype,r),n&&p(o,n),s}(a.a.Component),y=g;o.a=y;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"PasswordStrength","/srv/src/kpi/jsapp/js/components/passwordStrength.es6"),__REACT_HOT_LOADER__.register(y,"default","/srv/src/kpi/jsapp/js/components/passwordStrength.es6"))},,function(e,o,r){"use strict";r.d(o,"a",(function(){return w}));var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(1),c=r(27),d=r(36),u=r(2);r(603);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function _(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function h(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=k(e);if(t){var n=k(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return y(this,o)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=Object.freeze({value:"",label:t("Show All")}),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,o,r,n=g(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=n.call(this,e),l()(v(t)),t}return t=i,(o=[{key:"render",value:function(){var e=m(u.VALIDATION_STATUSES_LIST);this.props.isForHeaderFilter&&e.unshift(w);var t=["kobo-select","kobo-select--validation"];return this.props.isForHeaderFilter&&t.push("kobo-select--for-nonwhite-background"),a.a.createElement(d.a,{components:{Option:function(e){var t=[e.value];return e.isSelected&&t.push("selected"),a.a.createElement(s.a.KoboSelect__optionWrapper,null,a.a.createElement(s.a.KoboSelect__optionBadge,{m:t},a.a.createElement(c.l.Option,e)))},SingleValue:function(e){var t,o=e.children,r=_(e,["children"]).getValue();r&&r[0]&&(t=r[0].value);var n=[t];return a.a.createElement(s.a.KoboSelect__optionBadge,{m:n},o)},DropdownIndicator:function(e){return a.a.createElement(c.l.DropdownIndicator,e,a.a.createElement("i",{className:"k-icon k-icon-caret-down"}))}},isDisabled:this.props.isDisabled,isClearable:!1,isSearchable:!1,value:this.props.currentValue,options:e,onChange:this.props.onChange,className:t.join(" "),classNamePrefix:"kobo-select",menuPlacement:"auto"})}}])&&h(t.prototype,o),r&&h(t,r),i}(a.a.Component),E=x;o.b=E;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(w,"SHOW_ALL_OPTION","/srv/src/kpi/jsapp/js/components/submissions/validationStatusDropdown.es6"),__REACT_HOT_LOADER__.register(x,"ValidationStatusDropdown","/srv/src/kpi/jsapp/js/components/submissions/validationStatusDropdown.es6"),__REACT_HOT_LOADER__.register(E,"default","/srv/src/kpi/jsapp/js/components/submissions/validationStatusDropdown.es6"))},,,,,,,,,,function(e,t,o){"use strict";var r,n;e.exports=(r={create:function(e){return new n(e)},__validators:{invalidChars:function(e,t){return!new RegExp("["+t+"]").test(e)},unique:function(e,t){return 0===_.filter(t,(function(t){return t===e})).length}}},(n=function(e){this.options=e}).prototype.validate=function(e){for(var t=this.options.validations.length,o=this.options.validations,n=0;n<t;n++){var a=o[n];if(a.args||(a.args=[]),a.args.unshift(e),!r.__validators[a.name].apply(this,a.args))return a.failureMessage}return!0},r)},function(e,t,o){var r,n,a,i,l,s,c;i=o(65),n=o(93),s=o(115),a=o(40),l=o(344),r=o(345),c=o(346),e.exports={relevant:{getValue:function(){var e;return"undefined"===(e=this.serialize())&&("undefined"!=typeof Raven&&null!==Raven&&Raven.captureException("Serialized value is returning a string, undefined"),e=""),e},postInitialize:function(){var e,t,o,r;return o=this.getSurvey(),t=new n.SkipLogicFactory(o),r=new s.SkipLogicViewFactory(o),e=new i.SkipLogicHelperFactory(t,r,o,this._parent,this.get("value")),this.facade=new i.SkipLogicPresentationFacade(t,e,r)},serialize:function(){return this.facade.serialize()},parse:function(){},linkUp:function(e){return this.facade.initialize()}},constraint:{getValue:function(){var e;return"undefined"===(e=this.serialize())&&("undefined"!=typeof Raven&&null!==Raven&&Raven.captureException("Serialized value is returning a string, undefined"),e=""),e},postInitialize:function(){var e,t,o,n;return o=this.getSurvey(),t=new r.ValidationLogicModelFactory(o),n=new c.ValidationLogicViewFactory(o),e=new l.ValidationLogicHelperFactory(t,n,o,this._parent,this.get("value")),this.facade=new i.SkipLogicPresentationFacade(t,e,n)},serialize:function(){return this.facade.serialize()},parse:function(){},linkUp:function(e){return this.facade.initialize()}},label:{postInitialize:function(){}},name:{deduplicate:function(e){var t,o;return t=[],e.forEachRow((o=this,function(e){var r;if(e.get("name")!==o)return r=e.getValue("name"),t.push(r)}),{includeGroups:!0}),a.sluggifyLabel(this.get("value"),t)}}}},function(e,o,r){(function(o){var n,a,i,l=function(e,t){for(var o in t)s.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;a=r(155),n=r(65),e.exports=((i={}).ValidationLogicHelperFactory=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.create_presenter=function(e,t){return new i.ValidationLogicPresenter(e,t,this.current_question,this.survey,this.view_factory)},t.prototype.create_builder=function(){return new i.ValidationLogicBuilder(this.model_factory,this.view_factory,this.survey,this.current_question,this)},t.prototype.create_context=function(){return new i.ValidationLogicHelperContext(this.model_factory,this.view_factory,this,this.serialized_criteria)},t}(n.SkipLogicHelperFactory),i.ValidationLogicPresenter=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.change_question=function(){},t}(n.SkipLogicPresenter),i.ValidationLogicBuilder=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype._parse_skip_logic_criteria=function(e){return a(e)},t.prototype._get_question=function(){return this.current_question},t.prototype.build_empty_criterion=function(){var e,t,o;return e=this.view_factory.create_operator_picker(this.current_question.get_type()),o=this.view_factory.create_response_value_view(this.current_question,this.current_question.get_type(),this._operator_type()),(t=this.build_criterion_logic(this.model_factory.create_operator("empty"),e,o)).model.change_question(this.current_question.cid),t},t.prototype.questions=function(){return[this.current_question]},t.prototype._operator_type=function(){var e,o;return null==(e=t.__super__._operator_type.call(this))&&(o=this.current_question.get_type().operators[0],e=n.operator_types[1===o?this.current_question.get_type().operators[1]:o]),e},t}(n.SkipLogicBuilder),i.ValidationLogicHelperContext=function(e){function t(e,o,r,n){this.model_factory=e,this.view_factory=o,this.helper_factory=r,this.state={serialize:function(){return n}},this.questionTypeHasNoValidationOperators()?this.use_hand_code_helper():t.__super__.constructor.call(this,e,o,r,n)}return l(t,e),t.prototype.use_mode_selector_helper=function(){return this.state=new i.ValidationLogicModeSelectorHelper(this.view_factory,this),this.render(this.destination)},t.prototype.use_hand_code_helper=function(){this.state=new i.ValidationLogicHandCodeHelper(this.state.serialize(),this.builder,this.view_factory,this),this.questionTypeHasNoValidationOperators()&&(this.state.button=this.view_factory.create_empty()),this.render(this.destination)},t.prototype.questionTypeHasNoValidationOperators=function(){var e,t,o;return(o=this.helper_factory.current_question.get("type").get("typeId"))?((e=null!=(t=n.question_types[o])?t.operators:void 0)||(e=n.question_types.default.operators),e.length===e[0]):console.error("no type id found for question",this.helper_factory.current_question)},t}(n.SkipLogicHelperContext),i.ValidationLogicModeSelectorHelper=function(e){function o(e,r){this.context=r,o.__super__.constructor.call(this,e,r),this.handcode_button=e.create_button("<i>${}</i> "+t("Manually enter your validation logic in XLSForm code"),"kobo-button kobo-button--blue")}return l(o,e),o}(n.SkipLogicModeSelectorHelper),i.ValidationLogicHandCodeHelper=function(e){function r(e,n,a,i){r.__super__.constructor.call(this,e,n,a,i),this.$handCode=o('<div class="card__settings__fields__field">\n  <label for="'+this.context.helper_factory.current_question.cid+'-handcode">'+t("Validation Code:")+'</label>\n  <span class="settings__input">\n    <input type="text" name="constraint" id="'+this.context.helper_factory.current_question.cid+'-handcode" class="text" value="">\n  </span>\n</div>'),this.textarea=this.$handCode.find("#"+this.context.helper_factory.current_question.cid+"-handcode"),this.textarea.val(this.criteria)}return l(r,e),r.prototype.render=function(e){var t;return e.replaceWith(this.$handCode),this.button.render().attach_to(this.$handCode),this.button.bind_event("click",(t=this,function(){return t.$handCode.replaceWith(e),t.context.use_mode_selector_helper()})),this.$handCode.on("change",function(e){return function(){return e.context.view_factory.survey.trigger("change")}}(this))},r.prototype.serialize=function(){return this.textarea.val()},r}(n.SkipLogicHandCodeHelper),i)}).call(this,r(29))},function(e,t,o){var r,n,a=function(e,t){for(var o in t)i.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},i={}.hasOwnProperty,l=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};o(47),r=o(93),e.exports=((n={}).ValidationLogicModelFactory=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.create_operator=function(e,t,o){var a;switch(a=null,e){case"text":a=new n.ValidationLogicTextOperator(t);break;case"date":a=new n.ValidationLogicDateOperator(t);break;case"basic":a=new n.ValidationLogicBasicOperator(t);break;case"existence":a=new n.ValidationLogicExistenceOperator(t);break;case"select_multiple":a=new n.ValidationLogicSelectMultipleOperator(t);break;case"empty":return new r.EmptyOperator}return a.set("id",o),a},t.prototype.create_criterion_model=function(){return new n.ValidationLogicCriterion(this,this.survey)},t}(r.SkipLogicFactory),n.ValidationLogicBasicOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.serialize=function(e,t){return". "+this.get("symbol")+" "+t},t}(r.SkipLogicOperator),n.ValidationLogicTextOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.serialize=function(e,o){return t.__super__.serialize.call(this,""," '"+o.replace(/'/g,"\\'")+"'")},t}(n.ValidationLogicBasicOperator),n.ValidationLogicDateOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.serialize=function(e,o){return-1===o.indexOf("date")&&(o="date('"+o+"')"),t.__super__.serialize.call(this,""," "+o)},t}(n.ValidationLogicBasicOperator),n.ValidationLogicExistenceOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.serialize=function(){return t.__super__.serialize.call(this,"","''")},t}(n.ValidationLogicBasicOperator),n.ValidationLogicSelectMultipleOperator=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.serialize=function(e,t){var o;return o="selected(., '"+t+"')",this.get("is_negated")?"not("+o+")":o},t}(r.SelectMultipleSkipLogicOperator),n.ValidationLogicCriterion=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.change_question=function(e){var t,o,r,n;if(t=this._get_question()?this._get_question().get_type():{name:null},this.set("question_cid",e),o=this._get_question().get_type(),null==this.get("operator").get_id()||(r=this.get("operator").get_id(),l.call(o.operators,r)>=0)?t.name!==o.name&&this.change_operator(this.get("operator").get_value()):this.change_operator(1!==o.operators[0]?o.operators[0]:o.operators[1]),null===this.get("operator").get_type().response_type&&this._get_question().response_type!==(null!=(n=this.get("response_value"))?n.get_type():void 0))return this.change_response(this.get("response_value").get("value"))},t}(r.SkipLogicCriterion),n)},function(e,t,o){var r,n,a,i,l,s=function(e,t){for(var o in t)c.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty,d=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};i=o(20),n=o(115),a=o(156),r=o(65),e.exports=((l={}).ValidationLogicViewFactory=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.create_criterion_builder_view=function(){return new l.ValidationLogicCriterionBuilder},t.prototype.create_question_picker=function(){return new l.ValidationLogicQuestionPicker},t.prototype.create_operator_picker=function(e){var t;return t=i.filter(r.operator_types,(function(t){var o;return 1!==t.id&&(o=t.id,d.call(e.operators,o)>=0)})),new n.OperatorPicker(t)},t}(n.SkipLogicViewFactory),l.ValidationLogicCriterionBuilder=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,e),t.prototype.render=function(){return t.__super__.render.call(this),this.$el.html(this.$el.html().replace("only be displayed","be valid only")),this},t}(n.SkipLogicCriterionBuilderView),l.ValidationLogicQuestionPicker=function(e){function t(){t.__super__.constructor.call(this,"This question's response has to be")}return s(t,e),t.prototype.attach_to=function(e){return e.find(".skiplogic__rowselect").remove(),t.__super__.attach_to.call(this,e)},t}(a.Label),l)},function(e,t,o){var r,n,a,i,l,s,c,d,u,p,m,f,_,h,b,g,y=function(e,t){for(var o in t)v.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},v={}.hasOwnProperty,k=[].slice,w=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};c=o(20),s=o(47),r=o(69),a=o(138),o(78),l=o(40),n=o(59),o(116),i=o(65),e.exports=(o(4).t,g={},p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype._isSelectQuestion=function(){return!1},t}(s.Model),m=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.model=p,t}(s.Collection),u=function(){function e(e){var t,o,r,n,a,i,l,s;if(this._kobomatrix_columns=new m,this._rowAttributeName="_kobomatrix_columns",n=function(t,o){return c.isFunction(t)?e[o]=function(){var o;return o=1<=arguments.length?k.call(arguments,0):[],t.apply(e,o)}:e[o]=t},c.each(this,n),n(this.forEachRow,"forEachRow"),t=e.getValue("$kuid",!1),o={type:"end_"+this._beginEndKey(),$kuid:"/"+t},e._afterIterator=function(e,t){var r;if(r={export_relevant_values:function(e,t){return e.push(c.extend({},o))},toJSON:function(){return c.extend({},o)}},t.includeGroupEnds)return e(r)},r=e.toJSON,e.clone=function(){return console.error("clone kobomatrix rows")},e.toJSON=function(){return c.extend(r.call(e),{type:"begin_"+e._beginEndKey()},"function"==typeof this._additionalJson?this._additionalJson():void 0)},c.each(this.constructor.prototype,n),e.attributes.__rows){for(a=0,i=(l=e.attributes.__rows).length;a<i;a++)s=l[a],this[this._rowAttributeName].add(s);delete e.attributes.__rows}}return e.prototype._kobomatrix_cols=function(){return this.rows},e.prototype._isSelectQuestion=function(){return!1},e.prototype.get_type=function(){return i.question_types.default},e.prototype._beginEndKey=function(){return"kobomatrix"},e.prototype.linkUp=function(e){var t,o,r,n;return this.getList=(n=this,function(){return n.items}),t={},(o=null!=(r=this.get("kobo--matrix_list"))?r.get("value"):void 0)?t[o]=this.getSurvey().choices.get(o):(o=this.set("kobo--matrix_list","matrix_"+l.txtid()),t[o]=this.getSurvey().choices.create()),this.rows.each(function(e){return function(o){var r,n;if(r=null!=(n=o.get("select_from_list_name"))?n.get("value"):void 0)return t[r]=e.getSurvey().choices.get(r)}}(this)),this.items=t,this.items},e}(),b=function(e,t){return e["__"+t]=e[t],e[t]=function(){var o;return o=1<=arguments.length?k.call(arguments,0):[],e._meta[t].apply(e._meta,o)}},h=function(e,t){"_beforeIterator"in this&&this._beforeIterator(e,t),"includeErrors"in t||(t.includeErrors=!1),this.rows.each((function(o,r,n){if("function"==typeof o.forEachRow){if(t.includeGroups&&e(o),!t.flat)return o.forEachRow(e,t)}else{if(!o.isError())return e(o);if(t.includeErrors)return e(o)}})),"_afterIterator"in this&&this._afterIterator(e,t)},g.SurveyFragment=function(e){function t(e,o){this.rows=new f([],{_parent:this}),this._meta=new s.Model,b(this,"set"),b(this,"get"),b(this,"on"),b(this,"off"),b(this,"trigger"),t.__super__.constructor.call(this,e,o)}return y(t,e),t.prototype._validate=function(){var e;return this.clearErrors(),e=!0,this.settings.get("form_id")||(this.addError("form id must not be empty"),e=!1),this.settings.get("form_title")||(this.addError("form title must not be empty"),e=!1),e},t.prototype.clearErrors=function(){return this.errors=[]},t.prototype.addError=function(e){return this.errors.push(e)},t.prototype.linkUp=function(e){return this.invoke("linkUp",e)},t.prototype.forEachRow=function(e,t){return null==t&&(t={}),h.apply(this,[e,t])},t.prototype.getRowDescriptors=function(){var e;return e=[],this.forEachRow((function(t){var o;return o={label:t.getValue("label"),name:t.getValue("name")},e.push(o)})),e},t.prototype.findRowByCid=function(e,t){var o,r;return null==t&&(t={}),r=!1,o=function(t){return t.cid===e&&(r=t),!r},this.forEachRow(o,t),r},t.prototype.findRowByName=function(e,t){var o;return o=!1,this.forEachRow((function(t){return(t.getValue("name")||l.sluggifyLabel(t.getValue("label")))===e&&(o=t),!o}),t),o},t.prototype.addRowAtIndex=function(e,t){return this.addRow(e,{at:t})},t.prototype.addRow=function(e,t){var o,r,n;return null==t&&(t={}),(o=t.after)?(delete t.after,t._parent=o._parent,n=1+t._parent.models.indexOf(o),t.at=n):(r=t.before)?(delete t.before,t._parent=r._parent,n=t._parent.models.indexOf(r),t.at=n):t._parent=this.rows,t._parent.add(e,t)},t.prototype.detach=function(){this._parent.remove(this)},t.prototype.remove=function(e){return e.detach()},t.prototype._addGroup=function(e){var t,o,r,a,i,l,s,c,d,u,p,m,f;e._parent=this.rows,"type"in e||(e.type="group"),"__rows"in e||(e.__rows=[]),e.__rows=[].concat.apply([],e.__rows),m=[],this.forEachRow((function(e){return m.push(e.cid)}),{includeGroups:!0,includeErrors:!0}),c=!1;for(a=0,l=(d=e.__rows).length;a<l;a++)p=d[a],f=m.indexOf(p.cid),(!1===c||f<c)&&(c=f,o=p);for(t={previous:o.precedingRow(),parent:o.parentRow()},i=0,s=(u=e.__rows).length;i<s;i++)(p=u[i]).detach({silent:!0});return null==e.label&&(e.label=n.newGroupDetails.label.value),r=new g.Group(e),this.getSurvey()._insertRowInPlace(r,t),(t.parent||this.getSurvey().rows).trigger("add",r)},t.prototype._allRows=function(){var e;return e=[],this.forEachRow((function(t){if("Row"===t.constructor.kls)return e.push(t)}),{}),e},t.prototype.finalize=function(){return this.forEachRow((function(e){return e.finalize()}),{includeGroups:!0}),this},t}(r.BaseCollection),g.Group=function(e){function t(e,o){var r,n,a,i;for(null==e&&(e={}),r=e.__rows||[],void 0===e.label&&(e.label=""),this._parent=e._parent,delete e.__rows,this.rows=new f([],{_parent:this}),t.__super__.constructor.call(this,e,o),r&&this.rows.add(r),n=0,a=r.length;n<a;n++)(i=r[n])._parent=i.collection=this.rows}return y(t,e),t.kls="Group",t.key="group",t.prototype._isSelectQuestion=function(){return!1},t.prototype.get_type=function(){return i.question_types.default},t.prototype.initialize=function(){var e,t,o,r;for(t in e=n.newGroupDetails)o=e[t],this.has(t)||("function"==typeof o.value?this.set(t,o.value(this)):this.set(t,o));if(this.ensureKuid(),r="repeat"===this.get("type"),this.set("_isRepeat",r),this.convertAttributesToRowDetails(),"kobomatrix"===this.getValue("type"))return new u(this)},t.prototype.addRowAtIndex=function(e,t){return e._parent=this.rows,this.rows.add(e,{at:t})},t.prototype._isRepeat=function(){var e;return!!(null!=(e=this.get("_isRepeat"))?e.get("value"):void 0)},t.prototype.autoname=function(){var e,t,o;if(void 0===(e=this.getValue("name"))||""===e)return o={lowerCase:!1,stripSpaces:!0,lrstrip:!0,incrementorPadding:3,validXmlTag:!0},t=l.sluggify(this.getValue("label"),o),this.setDetail("name",t)},t.prototype.finalize=function(){return this.autoname()},t.prototype.detach=function(e){return this._parent.remove(this,e)},t.prototype.splitApart=function(){var e,t,o,r,n,a;for(a=this._parent.models.indexOf(this),this.detach(),o=e=0,t=(r=this.rows.models).length;e<t;o=++e)(n=r[o])._parent=this._parent,this._parent._parent.addRowAtIndex(n,a+o)},t.prototype._beforeIterator=function(e,t){if(t.includeGroupEnds)return e(this.groupStart())},t.prototype._afterIterator=function(e,t){if(t.includeGroupEnds)return e(this.groupEnd())},t.prototype.forEachRow=function(e,t){return null==t&&(t={}),h.apply(this,[e,t])},t.prototype._groupOrRepeatKey=function(){return this._isRepeat()?"repeat":"group"},t.prototype.groupStart=function(){var e;return e=this,{export_relevant_values:function(e,t){return e.push(this.toJSON())},toJSON:function(){var t,o,r,n;for(t in o={},r=e.attributes)n=r[t],"_isRepeat"!==t&&(o[t]=n.getValue());return o.type="begin_"+e._groupOrRepeatKey(),o}}},t.prototype.groupEnd=function(){var e,t;return t=this.getValue("$kuid"),e={type:"end_"+this._groupOrRepeatKey(),$kuid:"/"+t},{export_relevant_values:function(t,o){return t.push(c.extend({},e))},toJSON:function(){return c.extend({},e)}}},t}(a.BaseRow),d=["begin_group","end_group","begin_repeat","end_repeat"],_=function(e){var t,o;if(t=function(){var e,t,o,r;for(e in o=[],t=n.defaultSurveyDetails)r=t[e],o.push(r.name);return o}(),o=null!=e?e.type:void 0,w.call(d,o)>=0)throw new Error("Invalid type at this stage: "+o);if(w.call(t,o)>=0)throw new Error(o+" is not properly handled as a SurveyDetail");return"score"===o?a.Row:"group"===o||"repeat"===o||"kobomatrix"===o?g.Group:a.Row},f=function(e){function t(){var e,o;e=1<=arguments.length?k.call(arguments,0):[],t.__super__.constructor.apply(this,e),this.on("add",(o=this,function(e,t,r){return o._parent.getSurvey().trigger("rows-add",e,t,r)})),this.on("remove",function(e){return function(t,o,r){return e._parent.getSurvey().trigger("rows-remove",t,o,r)}}(this))}return y(t,e),t.prototype.model=function(e,t){var o,r;o=_(e);try{return new o(e,c.extend({},t,{_parent:t.collection}))}catch(o){return r=o,new a.RowError(e,c.extend({},t,{error:r,_parent:t.collection}))}},t.prototype.comparator=function(e){return e.ordinal},t}(r.BaseCollection),g)},function(e,t,o){var r;r=o(69),e.exports={RowDetail:r.RowDetail}},function(e,t,o){var r,n;r=o(107),e.exports=((n={}).mdSurveyStructureToObject=function(e){var t,o,r,n,a,i,l,s,c,d,u,p,m,f;for(r=function(e){return String(e).replace(/^\s+|\s+$/g,"")},f=!1,a=!1,m={},t=function(){var e,t,o,r,n,i,l,s,c,d,u;for(t=a[0],u=[],o=0,n=(s=a.slice(1)).length;o<n;o++){for(d={},l=r=0,i=(c=s[o]).length;r<i;l=++r)e=c[l],t[l]&&(d[t[l]]=e);u.push(d)}return m[f]=u,a=[]},l=0,c=(p=e.split("\n")).length;l<c;l++){for(o=[],i=s=0,d=(u=r(p[l]).split("|")).length;s<d;i=++s)n=u[i],i>0&&o.push(r(n));o[0]?(a&&t(),f=o[0],a=[]):a&&a.push(o.slice(1,o.length-1))}return t(),m},n.csvJsonToMarkdown=function(e){var t,o,n,a,i,l,s,c,d,u,p,m,f,_,h,b,g,y,v,k,w,x,E,S;for(S in o=[],a=function(e,t){o[t]||(o[t]=0),e>o[t]&&(o[t]=e)},n=function(e,t){var o;return e||(e=""),(o=t-e.length)>0&&(e+=new Array(o+1).join(" ")),e},t=function(e,t){var r,a,i,l,s,c;for(null==t&&(t=0),r=a=0,s=t;0<=s?a<s:a>s;r=0<=s?++a:--a)e.unshift("");for(e.length=o.length,r=i=0,l=e.length;i<l;r=++i)c=e[r],e[r]=n(c,o[r]);b+="| "+e.join(" | ")+" |\n"},E=r.sheeted(),b="\n",e){for(l=e[S],a(S.length,0),i=E.sheet(S,r(l)),s=c=0,p=(g=l.columns).length;c<p;s=++c)a(g[s].length,s+1);for(d=0,m=(y=i.rowArray).length;d<m;d++)for(s=u=0,f=(w=y[d]).length;u<f;s=++u)a(w[s].length,s+1)}for(S in v=E._sheets)for(x=v[S],t([S]),t(x.columns,1),h=0,_=(k=x.rowArray).length;h<_;h++)t(w=k[h],1);return b},n)},function(e,t,o){var r,n,a,i,l,s,c=function(e,t){for(var o in t)d.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},d={}.hasOwnProperty,u=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};n=o(20),r=o(47),a=o(2),e.exports=(o(4).t,l=function(e,t){s.push({label:e.label,iconClassName:"k-icon k-icon-"+e.icon,iconClassNameLocked:"k-icon k-icon-"+e.icon+"-lock",grouping:t,id:e.id})},s=[],l(a.QUESTION_TYPES.select_one,"r1"),l(a.QUESTION_TYPES.select_multiple,"r1"),l(a.QUESTION_TYPES.text,"r1"),l(a.QUESTION_TYPES.integer,"r1"),l(a.QUESTION_TYPES.decimal,"r2"),l(a.QUESTION_TYPES.date,"r2"),l(a.QUESTION_TYPES.time,"r2"),l(a.QUESTION_TYPES.datetime,"r2"),l(a.QUESTION_TYPES.geopoint,"r3"),l(a.QUESTION_TYPES.image,"r3"),l(a.QUESTION_TYPES.audio,"r3"),l(a.QUESTION_TYPES.video,"r3"),l(a.QUESTION_TYPES.geotrace,"r4"),l(a.QUESTION_TYPES.note,"r4"),l(a.QUESTION_TYPES.barcode,"r4"),l(a.QUESTION_TYPES.acknowledge,"r4"),l(a.QUESTION_TYPES.geoshape,"r5"),l(a.QUESTION_TYPES.score,"r5"),l(a.QUESTION_TYPES.kobomatrix,"r5"),l(a.QUESTION_TYPES.rank,"r5"),l(a.QUESTION_TYPES.calculate,"r6"),l(a.QUESTION_TYPES.hidden,"r6"),l(a.QUESTION_TYPES.file,"r6"),l(a.QUESTION_TYPES.range,"r6"),l(a.QUESTION_TYPES["xml-external"],"r7"),i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.defaults={iconClassname:"k-icon"},t}(r.Model),new(function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.prototype.model=i,t.prototype.grouped=function(){var e,t;return this._groups||(this._groups=[],e=[],this.each((t=this,function(o){var r,n;return r=o.get("grouping"),u.call(e,r)<0&&e.push(r),n=e.indexOf(r),t._groups[n]||(t._groups[n]=[]),t._groups[n].push(o)}))),n.zip.apply(null,this._groups)},t}(r.Collection))(s))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,o,r){"use strict";(function(e){r.d(o,"a",(function(){return C})),r.d(o,"b",(function(){return j}));var n=r(20),a=r(0),i=r.n(a),l=r(9),s=r.n(l),c=r(1),d=r(3),u=r(6),p=r(327),m=r(2),f=r(21);r(544);function _(e,t,o){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(o):n.value}})(e,t,o||e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,o){return t&&y(e.prototype,t),o&&y(e,o),e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=O(e);if(t){var n=O(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return E(this,o)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(t){k(r,t);var o=x(r);function r(e){var t;return g(this,r),t=o.call(this,e),s()(S(t)),t.state={isOpen:!1,isOutsideCloseEnabled:!0},t.cancelOutsideCloseWatch=Function.prototype,t.cancelHelpBubbleEventCloseWatch=Function.prototype,t}return v(r,[{key:"open",value:function(){this.setState({isOpen:!0});var e=new CustomEvent("help-bubble-opened",{detail:this.bubbleName});document.dispatchEvent(e),this.cancelOutsideCloseWatch(),this.state.isOutsideCloseEnabled&&this.watchOutsideClose(),this.cancelHelpBubbleEventCloseWatch(),this.watchHelpBubbleEventClose()}},{key:"close",value:function(){this.setState({isOpen:!1}),this.cancelOutsideCloseWatch()}},{key:"toggle",value:function(){this.state.isOpen?this.close():this.open()}},{key:"watchHelpBubbleEventClose",value:function(){var e=this,t=function(t){t.detail!==e.bubbleName&&e.close()};document.addEventListener("help-bubble-opened",t),this.cancelHelpBubbleEventCloseWatch=function(){document.removeEventListener("help-bubble-opened",t)}}},{key:"watchOutsideClose",value:function(){var t=this,o=function(o){var r=e(o.target);0===r.parents(".help-bubble__back").length&&0===r.parents(".help-bubble__popup").length&&0===r.parents(".help-bubble__popup-content").length&&0===r.parents(".help-bubble__row").length&&0===r.parents(".help-bubble__row-wrapper").length&&t.close()},r=function(e){e.keyCode!==m.KEY_CODES.ESC&&"Escape"!==e.key||t.close()};this.cancelOutsideCloseWatch=function(){document.removeEventListener("click",o),document.removeEventListener("keydown",r)},document.addEventListener("click",o),document.addEventListener("keydown",r)}},{key:"getStorageName",value:function(e){var t=u.a.session.currentAccount&&u.a.session.currentAccount.username;return"kobo.".concat(t,".").concat(e)}}]),r}(i.a.Component),R=function(e){k(o,e);var t=x(o);function o(e){var r;return g(this,o),r=t.call(this,e),s()(S(r)),r}return v(o,[{key:"render",value:function(){var e="k-icon k-icon-".concat(this.props.icon),t="number"==typeof this.props.counter&&0!==this.props.counter,o={};return this.props.htmlId&&(o.id=this.props.htmlId),i.a.createElement(c.a.HelpBubble__trigger,h({onClick:this.props.onClick,"data-tip":this.props.tooltipLabel},o),i.a.createElement("i",{className:e}),t&&i.a.createElement(c.a.HelpBubble__triggerCounter,null,this.props.counter))}}]),o}(i.a.Component),A=function(e){k(o,e);var t=x(o);function o(e){var r;return g(this,o),r=t.call(this,e),s()(S(r)),r}return v(o,[{key:"render",value:function(){var e={};return this.props.messageUid&&(e["data-message-uid"]=this.props.messageUid),i.a.createElement(c.a.HelpBubble__close,h({onClick:this.props.onClick},e),i.a.createElement("i",{className:"k-icon k-icon-close"}))}}]),o}(i.a.Component),C=function(e){k(r,e);var o=x(r);function r(e){var t;return g(this,r),t=o.call(this,e),s()(S(t)),t.state.isOutsideCloseEnabled=!1,t.state.intercomUnreadCount=0,t.bubbleName="intercom-help-bubble",t}return v(r,[{key:"componentDidMount",value:function(){window.Intercom&&(Intercom("onUnreadCountChange",this.onIntercomUnreadCountChange.bind(this)),Intercom("onHide",this.onIntercomHide.bind(this)))}},{key:"onIntercomUnreadCountChange",value:function(e){this.setState({intercomUnreadCount:e})}},{key:"onIntercomHide",value:function(){_(O(r.prototype),"close",this).call(this)}},{key:"close",value:function(){window.Intercom&&window.Intercom("hide")}},{key:"render",value:function(){if(!p.a||!window.Intercom)return null;var e=["intercom"];return this.state.isOpen&&e.push("open"),i.a.createElement(c.a.HelpBubble,{m:e},i.a.createElement(R,{icon:"intercom",tooltipLabel:t("Intercom"),onClick:this.toggle.bind(this),htmlId:"custom_intercom_launcher",counter:this.state.intercomUnreadCount}))}}]),r}(T),j=function(e){k(r,e);var o=x(r);function r(e){var t;return g(this,r),t=o.call(this,e),s()(S(t)),t.state.selectedMessageUid=null,t.state.hasUnacknowledgedMessages=!1,t.state.messages=[],t.bubbleName="support-help-bubble",t.actionsUnlisteners=[],t.refreshMessagesThrottled=n.default.throttle(d.a.help.getInAppMessages,6e4),t}return v(r,[{key:"componentWillUnmount",value:function(){this.actionsUnlisteners.forEach((function(e){e()}))}},{key:"componentDidMount",value:function(){this.actionsUnlisteners.push(d.a.help.getInAppMessages.completed.listen(this.onHelpGetInAppMessagesCompleted.bind(this)),d.a.help.getInAppMessages.failed.listen(this.onHelpGetInAppMessagesFailed.bind(this)),d.a.help.setMessageReadTime.completed.listen(this.onHelpPatchMessage.bind(this)),d.a.help.setMessageAcknowledged.completed.listen(this.onHelpPatchMessage.bind(this))),d.a.help.getInAppMessages()}},{key:"onHelpGetInAppMessagesCompleted",value:function(e){this.setState({messages:e.results}),this.checkForUnacknowledgedMessages(e.results)}},{key:"onHelpGetInAppMessagesFailed",value:function(e){this.setState({messages:[]}),this.checkForUnacknowledgedMessages([])}},{key:"onHelpPatchMessage",value:function(e){for(var t=this.state.messages,o=0;o<t.length;o++)t[o].uid===e.uid&&(t[o]=e);this.setState({messages:t}),this.checkForUnacknowledgedMessages(t)}},{key:"close",value:function(){_(O(r.prototype),"close",this).call(this),this.clearSelectedMessage()}},{key:"open",value:function(){_(O(r.prototype),"open",this).call(this);var e=this.state.messages.filter((function(e){return!0!==e.interactions.acknowledged}));1===e.length&&this.selectMessage(e[0].uid),this.refreshMessagesThrottled()}},{key:"onSelectMessage",value:function(e){this.selectMessage(e.currentTarget.dataset.messageUid)}},{key:"onSelectUnacknowledgedListMessage",value:function(e){this.onSelectMessage(e),this.open()}},{key:"selectMessage",value:function(e){this.setState({selectedMessageUid:e}),this.isMessageRead(e)||this.markMessageRead(e)}},{key:"clearSelectedMessage",value:function(){this.setState({selectedMessageUid:null})}},{key:"findMessage",value:function(e){return n.default.find(this.state.messages,{uid:e})}},{key:"isMessageRead",value:function(e){return!!this.findMessage(e).interactions.readTime}},{key:"markMessageRead",value:function(e){var t=new Date;d.a.help.setMessageReadTime(e,t.toISOString())}},{key:"markMessageAcknowledged",value:function(e){var t=e.currentTarget.dataset.messageUid;d.a.help.setMessageAcknowledged(t,!0)}},{key:"checkForUnacknowledgedMessages",value:function(e){var t=e.filter((function(e){return!0!==e.interactions.acknowledged}));this.setState({hasUnacknowledgedMessages:t.length>=1,isOutsideCloseEnabled:0===t.length})}},{key:"getUnreadMessagesCount",value:function(){var e=0;return this.state.messages.forEach((function(t){t.interactions.readTime||e++})),e}},{key:"renderSnippetRow",value:function(e,t){var o=["message","message-clickable"];return e.interactions.readTime||o.push("message-unread"),i.a.createElement(c.a.HelpBubble__row,{m:o,key:e.uid,"data-message-uid":e.uid,onClick:t},i.a.createElement("header",null,e.title),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.html.snippet}}))}},{key:"renderDefaultPopup",value:function(){var e=this,o=[];return this.state.messages.length>0&&o.push("has-more-content"),i.a.createElement(c.a.HelpBubble__popup,{m:o},i.a.createElement(A,{onClick:this.close.bind(this)}),i.a.createElement(c.a.HelpBubble__popupContent,null,i.a.createElement(c.a.HelpBubble__row,{m:"header"},t("Help Resources")),f.a.isReady&&f.a.data.support_url&&i.a.createElement(c.a.HelpBubble__rowAnchor,{m:"link",target:"_blank",href:f.a.data.support_url,onClick:this.close.bind(this)},i.a.createElement("i",{className:"k-icon k-icon-help-articles"}),i.a.createElement("header",null,t("KoBoToolbox Help Center")),i.a.createElement("p",null,t("A vast collection of user support articles and tutorials related to KoBo"))),f.a.isReady&&f.a.data.community_url&&i.a.createElement(c.a.HelpBubble__rowAnchor,{m:"link",target:"_blank",href:f.a.data.community_url,onClick:this.close.bind(this)},i.a.createElement("i",{className:"k-icon k-icon-forum"}),i.a.createElement("header",null,t("KoBoToolbox Community Forum")),i.a.createElement("p",null,t("Post your questions to get answers from experienced KoBo users around the world"))),this.state.messages.length>0&&i.a.createElement(c.a.HelpBubble__row,{m:"header"},t("Notifications")),this.state.messages.map((function(t){return t.interactions.readTime||["message","message-clickable"].push("message-unread"),e.renderSnippetRow(t,e.onSelectMessage.bind(e))}))))}},{key:"renderUnacknowledgedListPopup",value:function(){var e=this;return i.a.createElement(c.a.HelpBubble__popup,null,i.a.createElement(c.a.HelpBubble__popupContent,null,this.state.messages.map((function(t){if(!t.interactions.acknowledged)return i.a.createElement(c.a.HelpBubble__rowWrapper,{key:t.uid},i.a.createElement(A,{messageUid:t.uid,onClick:e.markMessageAcknowledged.bind(e)}),e.renderSnippetRow(t,e.onSelectUnacknowledgedListMessage.bind(e)))}))))}},{key:"renderMessagePopup",value:function(){var e=this.findMessage(this.state.selectedMessageUid);return i.a.createElement(c.a.HelpBubble__popup,null,i.a.createElement(A,{onClick:this.close.bind(this)}),i.a.createElement(c.a.HelpBubble__back,{onClick:this.clearSelectedMessage.bind(this)},i.a.createElement("i",{className:"k-icon k-icon-prev"})),i.a.createElement(c.a.HelpBubble__popupContent,null,i.a.createElement(c.a.HelpBubble__row,{m:"message-title"},i.a.createElement("header",null,e.title)),i.a.createElement(c.a.HelpBubble__row,{m:"message",dangerouslySetInnerHTML:{__html:e.html.body}})))}},{key:"render",value:function(){var e,o=["support"];return this.state.isOpen?(o.push("open"),this.state.selectedMessageUid?(e=this.renderMessagePopup,o.push("single-message")):(e=this.renderDefaultPopup,o.push("list-with-header"))):this.state.hasUnacknowledgedMessages&&(e=this.renderUnacknowledgedListPopup,o.push("list")),i.a.createElement(c.a.HelpBubble,{m:o},i.a.createElement(R,{icon:"help",tooltipLabel:t("Help"),onClick:this.toggle.bind(this),counter:this.getUnreadMessagesCount()}),e&&e())}}]),r}(T);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("help-bubble-opened","BUBBLE_OPENED_EVT_NAME","/srv/src/kpi/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(T,"HelpBubble","/srv/src/kpi/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(R,"HelpBubbleTrigger","/srv/src/kpi/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(A,"HelpBubbleClose","/srv/src/kpi/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(C,"IntercomHelpBubble","/srv/src/kpi/jsapp/js/components/helpBubbles.es6"),__REACT_HOT_LOADER__.register(j,"SupportHelpBubble","/srv/src/kpi/jsapp/js/components/helpBubbles.es6"))}).call(this,r(29))},function(e,o,r){"use strict";(function(e){var n=r(0),a=r.n(n),i=r(51),l=r.n(i),s=r(52),c=r.n(s),d=r(36),u=r(20),p=r(45),m=r.n(p),f=r(454),_=r(455),h=r(456),b=r(15),g=r(14),y=r.n(g),v=r(131),k=r(457),w=r(4),x=r(2),E=r(10),S=r(25),O=r(48),T=r(1),R=r(6),A=r(3),C=r(102),j=r.n(C),P=r(7),L=r(13),D=r(458),N=r(22),M=r(23),I=r(37),F=r(21);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}var H=Object(T.b)(null,"error-message"),B=Object(T.b)(null,"error-message__header","strong"),V=t("You have unsaved changes. Leave form without saving?"),z=Object(w.assign)({componentDidMount:function(){var e=this;if(this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave),this.loadAsideSettings(),this.state.isNewAsset)this.launchAppForSurveyContent();else{var t=this.props.params.assetid||this.props.params.uid;R.a.allAssets.whenLoaded(t,(function(t){var o=c()(t);e.setState({asset:o}),window.setTimeout((function(){e.launchAppForSurveyContent(o.content,{name:o.name,settings__style:o.settings__style,asset_uid:o.uid,asset_type:o.asset_type,asset:o})}),0)}))}document.querySelector(".page-wrapper__content").addEventListener("scroll",this.handleScroll),this.listenTo(R.a.surveyState,this.surveyStateChanged)},componentWillUnmount:function(){this.app&&this.app.survey&&(document.querySelector(".page-wrapper__content").removeEventListener("scroll",this.handleScroll),this.app.survey.off("change")),this.unpreventClosingTab()},routerWillLeave:function(){if(this.state.preventNavigatingOut)return V},loadAsideSettings:function(){var e=sessionStorage.getItem("kpi.editable-form.aside");e&&this.setState(JSON.parse(e))},saveAsideSettings:function(e){sessionStorage.setItem("kpi.editable-form.aside",JSON.stringify(e))},onMetadataEditorChange:function(){this.onSurveyChange()},onProjectDetailsChange:function(e){var t=e.fieldName,o=e.fieldValue,r=this.state.settingsNew||{};r[t]=o,this.setState({settingsNew:r}),this.onSurveyChange()},surveyStateChanged:function(e){this.setState(e)},onStyleChange:function(e){var t=null;null!==e&&(t=e.value),this.setState({settings__style:t}),this.onSurveyChange()},getStyleSelectVal:function(e){return u.default.find(x.AVAILABLE_FORM_STYLES,(function(t){return t.value===e}))},onSurveyChange:u.default.debounce((function(){!this.state.asset_updated!==x.update_states.UNSAVED_CHANGES&&this.preventClosingTab(),this.setState({asset_updated:x.update_states.UNSAVED_CHANGES})}),200),preventClosingTab:function(){this.setState({preventNavigatingOut:!0}),e(window).on("beforeunload.noclosetab",(function(){return V}))},unpreventClosingTab:function(){this.setState({preventNavigatingOut:!1}),e(window).off("beforeunload.noclosetab")},nameChange:function(e){this.setState({name:L.b.removeInvalidChars(e.target.value)}),this.onSurveyChange()},groupQuestions:function(){this.app.groupSelectedRows()},showAll:function(e){e.preventDefault(),e.currentTarget.blur(),this.app.expandMultioptions()},hasMetadataAndDetails:function(){return this.app&&(this.state.asset.asset_type===x.ASSET_TYPES.survey.id||this.state.asset.asset_type===x.ASSET_TYPES.template.id||this.state.desiredAssetType===x.ASSET_TYPES.template.id)},needsSave:function(){return this.state.asset_updated===x.update_states.UNSAVED_CHANGES},previewForm:function(e){var o=this;e&&e.preventDefault&&e.preventDefault(),void 0!==this.state.settings__style&&this.app.survey.settings.set("style",this.state.settings__style),this.state.name&&this.app.survey.settings.set("title",this.state.name);var r=Object(I.surveyToValidJson)(this.app.survey);this.state.asset&&(r=Object(I.unnullifyTranslations)(r,this.state.asset.content));var n={source:r};n=Object(I.koboMatrixParser)(n),this.state.asset&&this.state.asset.url&&(n.asset=this.state.asset.url),P.a.createAssetSnapshot(n).done((function(e){o.setState({enketopreviewOverlay:e.enketopreviewlink})})).fail((function(e){var r;r=e&&e.responseJSON&&e.responseJSON.error?e.responseJSON.error:t("Unknown Enketo preview error"),o.setState({enketopreviewError:r})}))},saveForm:function(e){var o=this;e&&e.preventDefault&&e.preventDefault(),void 0!==this.state.settings__style&&this.app.survey.settings.set("style",this.state.settings__style);var r=Object(I.surveyToValidJson)(this.app.survey);if(this.state.asset){var n=Object(I.koboMatrixParser)({source:r}).source;r=Object(I.unnullifyTranslations)(n,this.state.asset.content)}var a={content:r};if(this.state.name&&(a.name=this.state.name),this.state.settingsNew){var i={};this.state.asset&&(i=this.state.asset.settings),this.state.settingsNew.description&&(i.description=this.state.settingsNew.description),this.state.settingsNew.sector&&(i.sector=this.state.settingsNew.sector),this.state.settingsNew.country&&(i.country=this.state.settingsNew.country),this.state.settingsNew["share-metadata"]&&(i["share-metadata"]=this.state.settingsNew["share-metadata"]),a.settings=JSON.stringify(i)}if(this.state.isNewAsset)this.unpreventClosingTab(),this.state.desiredAssetType?a.asset_type=this.state.desiredAssetType:a.asset_type="block",this.state.parentAsset&&(a.parent=L.b.buildAssetUrl(this.state.parentAsset)),A.a.resources.createResource.triggerAsync(a).then((function(){b.f.push(o.state.backRoute)}));else{var l=this.props.params.assetid||this.props.params.uid;A.a.resources.updateAsset.triggerAsync(l,a).then((function(){o.unpreventClosingTab(),o.setState({asset_updated:x.update_states.UP_TO_DATE,surveySaveFail:!1})})).catch((function(e){var r="".concat(t("Your changes could not be saved, likely because of a lost internet connection."),"&nbsp;").concat(t("Keep this window open and try saving again while using a better connection."));"error"!==e.statusText&&(r=e.statusText),y.a.defaults.theme.ok="ajs-cancel";var n=y.a.dialog("alert"),a={title:t("Error saving form"),message:r,label:t("Dismiss")};n.set(a).show(),o.setState({surveySaveFail:!0,asset_updated:x.update_states.SAVE_FAILED})}))}this.setState({asset_updated:x.update_states.PENDING_UPDATE})},handleScroll:function(t){var o=t.target.scrollTop;if(!this.state.formHeaderFixed&&o>40){var r=e(".asset-view__row--header").height();this.setState({formHeaderFixed:!0,formHeaderFixedHeight:r})}else this.state.formHeaderFixed&&o<=32&&this.setState({formHeaderFixed:!1})},buttonStates:function(){var e,o=this,r={};return this.app?(r.previewDisabled=!0,this.app&&this.app.survey&&(r.previewDisabled=this.app.survey.rows.length<1),r.groupable=!!this.state.groupButtonIsActive,r.showAllOpen=!!this.state.multioptionsExpanded,r.showAllAvailable=(e=!1,o.app.survey.forEachRow((function(t){t._isSelectQuestion()&&(e=!0)})),e),r.name=this.state.name,r.hasSettings=this.state.backRoute===E.b.FORMS,r.styleValue=this.state.settings__style):r.allButtonsDisabled=!0,this.state.isNewAsset?r.saveButtonText=t("create"):this.state.surveySaveFail?r.saveButtonText="".concat(t("save")," (").concat(t("retry"),") "):r.saveButtonText=t("save"),r},toggleAsideLibrarySearch:function(e){e.target.blur();var t={asideLayoutSettingsVisible:!1,asideLibrarySearchVisible:!this.state.asideLibrarySearchVisible};this.setState(t),this.saveAsideSettings(t)},toggleAsideLayoutSettings:function(e){e.target.blur();var t={asideLayoutSettingsVisible:!this.state.asideLayoutSettingsVisible,asideLibrarySearchVisible:!1};this.setState(t),this.saveAsideSettings(t)},hidePreview:function(){this.setState({enketopreviewOverlay:!1})},hideCascade:function(){this.setState({showCascadePopup:!1})},launchAppForSurveyContent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name&&(t.savedName=t.name);var o=Object.freeze(c()(e)),r=e&&e.settings&&0===Object.keys(e.settings).length&&0===e.survey.length,n=null;try{e?(n=j.a.model.Survey.loadDict(e),r&&n.surveyDetails.importDefaults()):n=j.a.model.Survey.create()}catch(e){t.surveyLoadError=e.message,t.surveyAppRendered=!1}if(!t.surveyLoadError){t.surveyAppRendered=!0;var a=new f.a({survey:n,rawSurvey:o,assetType:Object(I.getFormBuilderAssetType)(this.state.asset.asset_type,this.state.desiredAssetType)});this.app=new j.a.view.SurveyApp({survey:n,stateStore:R.a.surveyState,ngScope:a}),this.app.$el.appendTo(l.a.findDOMNode(this.refs["form-wrap"])),this.app.render(),n.rows.on("change",this.onSurveyChange),n.rows.on("sort",this.onSurveyChange),n.on("change",this.onSurveyChange)}this.setState(t)},clearPreviewError:function(){this.setState({enketopreviewError:!1})},safeNavigateToRoute:function(e){if(this.needsSave()){var o=y.a.dialog("confirm"),r={title:V,message:"",labels:{ok:t("Yes, leave form"),cancel:t("Cancel")},onok:function(){b.f.push(e)},oncancel:o.destroy};o.set(r).show()}else b.f.push(e)},safeNavigateToList:function(){this.state.backRoute?this.safeNavigateToRoute(this.state.backRoute):this.props.location.pathname.startsWith(E.b.LIBRARY)?this.safeNavigateToRoute(E.b.LIBRARY):this.safeNavigateToRoute(E.b.FORMS)},safeNavigateToAsset:function(){var e=this.state.backRoute;this.state.backRoute===E.b.FORMS?e=E.b.FORM.replace(":uid",this.state.asset_uid):this.state.backRoute===E.b.LIBRARY&&(e=E.b.LIBRARY_ITEM.replace(":uid",this.state.asset_uid)),this.safeNavigateToRoute(e)},isAddingQuestionsRestricted:function(){return this.state.asset&&Object(N.isAssetLockable)(this.state.asset.asset_type)&&Object(N.hasAssetRestriction)(this.state.asset.content,M.LOCKING_RESTRICTIONS.question_add.name)},isAddingGroupsRestricted:function(){return this.state.asset&&Object(N.isAssetLockable)(this.state.asset.asset_type)&&Object(N.hasAssetRestriction)(this.state.asset.content,M.LOCKING_RESTRICTIONS.group_add.name)},isChangingAppearanceRestricted:function(){return this.state.asset&&Object(N.isAssetLockable)(this.state.asset.asset_type)&&Object(N.hasAssetRestriction)(this.state.asset.content,M.LOCKING_RESTRICTIONS.form_appearance.name)},isChangingMetaQuestionsRestricted:function(){return this.state.asset&&Object(N.isAssetLockable)(this.state.asset.asset_type)&&Object(N.hasAssetRestriction)(this.state.asset.content,M.LOCKING_RESTRICTIONS.form_meta_edit.name)},hasBackgroundAudio:function(){var e,t;return null===(e=this.app)||void 0===e||null===(t=e.survey)||void 0===t?void 0:t.surveyDetails.filter((function(e){return e.attributes.name===x.META_QUESTION_TYPES["background-audio"]}))[0].attributes.value},renderFormBuilderHeader:function(){var e=this.buttonStates(),o=e.previewDisabled,r=e.groupable,n=e.showAllOpen,i=e.showAllAvailable,l=e.saveButtonText;return a.a.createElement(T.a.FormBuilderHeader,null,a.a.createElement(T.a.FormBuilderHeader__row,{m:"primary"},a.a.createElement(T.a.FormBuilderHeader__cell,{m:"logo","data-tip":t("Return to list"),className:"left-tooltip",tabIndex:"0",onClick:this.safeNavigateToList},a.a.createElement("i",{className:"k-icon k-icon-kobo"})),a.a.createElement(T.a.FormBuilderHeader__cell,{m:"name"},a.a.createElement(T.a.FormModal__item,null,this.renderAssetLabel(),a.a.createElement("input",{type:"text",maxLength:x.NAME_MAX_LENGTH,onChange:this.nameChange,value:this.state.name,title:this.state.name,id:"nameField"}))),a.a.createElement(T.a.FormBuilderHeader__cell,{m:"buttonsTopRight"},a.a.createElement(T.a.FormBuilderHeader__button,{m:["save",{savepending:this.state.asset_updated===x.update_states.PENDING_UPDATE,savefailed:this.state.asset_updated===x.update_states.SAVE_FAILED,saveneeded:this.needsSave()}],onClick:this.saveForm,disabled:!this.state.surveyAppRendered||!!this.state.surveyLoadError},a.a.createElement("i",null),l),a.a.createElement(T.a.FormBuilderHeader__close,{m:[{"close-warning":this.needsSave()}],onClick:this.safeNavigateToAsset},a.a.createElement("i",{className:"k-icon k-icon-close"})))),a.a.createElement(T.a.FormBuilderHeader__row,{m:"secondary"},a.a.createElement(T.a.FormBuilderHeader__cell,{m:"toolsButtons"},a.a.createElement(T.a.FormBuilderHeader__button,{m:["preview",{previewdisabled:o}],onClick:this.previewForm,disabled:o,"data-tip":t("Preview form")},a.a.createElement("i",{className:"k-icon k-icon-view"})),i&&a.a.createElement(T.a.FormBuilderHeader__button,{m:["show-all",{open:n}],onClick:this.showAll,"data-tip":t("Expand / collapse questions")},a.a.createElement("i",{className:"k-icon k-icon-view-all"})),a.a.createElement(T.a.FormBuilderHeader__button,{m:["group",{groupable:r}],onClick:this.groupQuestions,disabled:!r,className:this.isAddingGroupsRestricted()?M.LOCKING_UI_CLASSNAMES.DISABLED:"","data-tip":r?t("Create group with selected questions"):t("Grouping disabled. Please select at least one question.")},a.a.createElement("i",{className:"k-icon k-icon-group"})),void 0!==this.toggleCascade&&a.a.createElement(T.a.FormBuilderHeader__button,{m:["cascading"],onClick:this.toggleCascade,"data-tip":t("Insert cascading select"),className:this.isAddingQuestionsRestricted()?M.LOCKING_UI_CLASSNAMES.DISABLED:""},a.a.createElement("i",{className:"k-icon k-icon-cascading"}))),a.a.createElement(T.a.FormBuilderHeader__cell,{m:"verticalRule"}),a.a.createElement(T.a.FormBuilderHeader__cell,{m:"spacer"}),a.a.createElement(T.a.FormBuilderHeader__cell,{m:"verticalRule"}),a.a.createElement(T.a.FormBuilderHeader__cell,null,a.a.createElement(T.a.FormBuilderHeader__button,{m:["panel-toggle",this.state.asideLibrarySearchVisible?"active":null],onClick:this.toggleAsideLibrarySearch,className:this.isAddingQuestionsRestricted()?M.LOCKING_UI_CLASSNAMES.DISABLED:""},a.a.createElement("i",{className:["k-icon",this.state.asideLibrarySearchVisible?"k-icon-close":"k-icon-library"].join(" ")}),a.a.createElement("span",{className:"panel-toggle-name"},t("Add from Library")))),a.a.createElement(T.a.FormBuilderHeader__cell,{m:"verticalRule"}),a.a.createElement(T.a.FormBuilderHeader__cell,null,a.a.createElement(T.a.FormBuilderHeader__button,{m:["panel-toggle",this.state.asideLayoutSettingsVisible?"active":null],onClick:this.toggleAsideLayoutSettings},a.a.createElement("i",{className:["k-icon",this.state.asideLayoutSettingsVisible?"k-icon-close":"k-icon-settings"].join(" ")}),a.a.createElement("span",{className:"panel-toggle-name"},this.hasMetadataAndDetails()&&t("Layout & Settings"),!this.hasMetadataAndDetails()&&t("Layout"))))))},renderBackgroundAudioWarning:function(){return a.a.createElement(T.a.FormBuilderMessageBox,{m:"warning"},a.a.createElement("span",{"data-tip":t("background recording")},a.a.createElement("i",{className:"k-icon k-icon-form-overview"})),a.a.createElement("p",null,t("This form will automatically record audio in the background. Consider adding an acknowledgement note to inform respondents or data collectors that they will be recorded while completing this survey. This feature is available in "),a.a.createElement("a",{title:"Install KoBoCollect",target:"_blank",href:"https://play.google.com/store/apps/details?id=org.koboc.collect.android"},t("Collect version 1.30 and above")),"."),F.a.isReady&&F.a.data.support_url&&a.a.createElement(T.a.TextBox__labelLink,{href:F.a.data.support_url+"recording-interviews.html",target:"_blank","data-tip":t("help")},a.a.createElement("i",{className:"k-icon k-icon-help"})))},renderAside:function(){var e=this.buttonStates(),o=e.styleValue,r=e.hasSettings,n=this.state.asideLayoutSettingsVisible||this.state.asideLibrarySearchVisible;return a.a.createElement(T.a.FormBuilderAside,{m:n?"visible":null},this.state.asideLayoutSettingsVisible&&a.a.createElement(T.a.FormBuilderAside__content,null,a.a.createElement(T.a.FormBuilderAside__row,null,a.a.createElement(T.a.FormBuilderAside__header,null,t("Form style"),F.a.isReady&&F.a.data.support_url&&a.a.createElement("a",{href:F.a.data.support_url+"alternative_enketo.html",target:"_blank","data-tip":t("Read more about form styles")},a.a.createElement("i",{className:"k-icon k-icon-help"}))),a.a.createElement("label",{className:"kobo-select-label",htmlFor:"webform-style"},r?t("Select the form style that you would like to use. This will only affect web forms."):t("Select the form style. This will only affect the Enketo preview, and it will not be saved with the question or block.")),a.a.createElement(d.a,{className:"kobo-select",classNamePrefix:"kobo-select",id:"webform-style",name:"webform-style",ref:"webformStyle",value:this.getStyleSelectVal(o),onChange:this.onStyleChange,placeholder:x.AVAILABLE_FORM_STYLES[0].label,options:x.AVAILABLE_FORM_STYLES,menuPlacement:"bottom",isDisabled:this.isChangingAppearanceRestricted(),isSearchable:!1})),this.hasMetadataAndDetails()&&a.a.createElement(T.a.FormBuilderAside__row,null,a.a.createElement(T.a.FormBuilderAside__header,null,t("Metadata")),a.a.createElement(k.a,U({survey:this.app.survey,onChange:this.onMetadataEditorChange,isDisabled:this.isChangingMetaQuestionsRestricted()},this.state))),this.hasMetadataAndDetails()&&a.a.createElement(T.a.FormBuilderAside__row,null,a.a.createElement(T.a.FormBuilderAside__header,null,t("Details")),a.a.createElement(v.a,{context:x.PROJECT_SETTINGS_CONTEXTS.BUILDER,onProjectDetailsChange:this.onProjectDetailsChange,formAsset:this.state.asset}))),this.state.asideLibrarySearchVisible&&a.a.createElement(T.a.FormBuilderAside__content,{className:this.isAddingQuestionsRestricted()?M.LOCKING_UI_CLASSNAMES.DISABLED:""},a.a.createElement(T.a.FormBuilderAside__row,null,a.a.createElement(T.a.FormBuilderAside__header,null,t("Search Library"))),a.a.createElement(T.a.FormBuilderAside__row,null,a.a.createElement(h.a,null))))},renderNotLoadedMessage:function(){return this.state.surveyLoadError?a.a.createElement(H,null,a.a.createElement(B,null,t("Error loading survey:")),a.a.createElement("p",null,this.state.surveyLoadError)):a.a.createElement(S.a,null)},renderAssetLabel:function(){var e,o=null===(e=Object(I.getFormBuilderAssetType)(this.state.asset.asset_type,this.state.desiredAssetType))||void 0===e?void 0:e.label;if(this.state.asset&&Object(N.hasAssetAnyLocking)(this.state.asset.content)){var r=t("Partially locked ##type##").replace("##type##",o);return Object(N.isAssetAllLocked)(this.state.asset.content)&&(r=t("Fully locked ##type##").replace("##type##",o)),a.a.createElement("span",{className:"locked-asset-type-label"},a.a.createElement("i",{className:"k-icon k-icon-lock"}),r,F.a.isReady&&F.a.data.support_url&&a.a.createElement("a",{href:F.a.data.support_url+"library_locking.html",target:"_blank","data-tip":t("Read more about Locking")},a.a.createElement("i",{className:"k-icon k-icon-help"})))}return o},render:function(){var e=this.state.name||t("Untitled");return this.state.isNewAsset||this.state.asset?a.a.createElement(m.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(T.a.uiPanel,{m:["transparent","fixed"]},a.a.createElement(T.a.uiPanel__body,null,this.renderAside(),a.a.createElement(T.a.FormBuilder,null,this.renderFormBuilderHeader(),a.a.createElement(T.a.FormBuilder__contents,null,this.state.asset&&a.a.createElement(D.a,{asset:this.state.asset}),this.hasBackgroundAudio()&&this.renderBackgroundAudioWarning(),a.a.createElement("div",{ref:"form-wrap",className:"form-wrap"},!this.state.surveyAppRendered&&this.renderNotLoadedMessage()))),this.state.enketopreviewOverlay&&a.a.createElement(O.a,{open:!0,large:!0,onClose:this.hidePreview,title:t("Form Preview")},a.a.createElement(O.a.Body,null,a.a.createElement("div",{className:"enketo-holder"},a.a.createElement("iframe",{src:this.state.enketopreviewOverlay})))),!this.state.enketopreviewOverlay&&this.state.enketopreviewError&&a.a.createElement(O.a,{open:!0,error:!0,onClose:this.clearPreviewError,title:t("Error generating preview")},a.a.createElement(O.a.Body,null,this.state.enketopreviewError)),this.state.showCascadePopup&&a.a.createElement(O.a,{open:!0,onClose:this.hideCascade,title:t("Import Cascading Select Questions")},a.a.createElement(O.a.Body,null,this.renderCascadePopup()))))):a.a.createElement(m.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(S.a,null))}},_.a);o.a=z;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(H,"ErrorMessage","/srv/src/kpi/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register(B,"ErrorMessage__strong","/srv/src/kpi/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register("alternative_enketo.html","WEBFORM_STYLES_SUPPORT_URL","/srv/src/kpi/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register(V,"UNSAVED_CHANGES_WARNING","/srv/src/kpi/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register("kpi.editable-form.aside","ASIDE_CACHE_NAME","/srv/src/kpi/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register("library_locking.html","LOCKING_SUPPORT_URL","/srv/src/kpi/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register("recording-interviews.html","RECORDING_SUPPORT_URL","/srv/src/kpi/jsapp/js/editorMixins/editableForm.es6"),__REACT_HOT_LOADER__.register(z,"default","/srv/src/kpi/jsapp/js/editorMixins/editableForm.es6"))}).call(this,r(29))},,function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(33),c=r.n(s),d=r(18),u=r(1),p=r(134),m=r(2),f=r(16);r(611);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=k(e);if(t){var n=k(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return y(this,o)}}function y(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(s,e);var o,r,n,i=g(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(v(t)),t}return o=s,(r=[{key:"renderTrigger",value:function(){var e=["k-icon"];return this.props.sortValue&&this.props.sortValue===f.f.ASCENDING&&e.push("k-icon-sort-down"),this.props.sortValue&&this.props.sortValue===f.f.DESCENDING&&e.push("k-icon-sort-up"),a.a.createElement("div",{className:"table-column-sort-dropdown-trigger"},this.props.additionalTriggerContent,this.props.sortValue&&a.a.createElement("i",{className:e.join(" ")}),a.a.createElement("i",{className:"k-icon k-icon-caret-up"}),a.a.createElement("i",{className:"k-icon k-icon-caret-down"}))}},{key:"clearSort",value:function(){this.props.onSortChange(this.props.fieldId,null)}},{key:"changeSort",value:function(e,t){var o,r;(null==t||null===(o=t.target)||void 0===o||null===(r=o.classList)||void 0===r?void 0:r.contains("table-column-sort-dropdown-clear"))||this.props.onSortChange(this.props.fieldId,e)}},{key:"hideField",value:function(){this.props.onHide(this.props.fieldId)}},{key:"changeFieldFrozen",value:function(e){this.props.onFrozenChange(this.props.fieldId,e)}},{key:"renderSortButton",value:function(e){return a.a.createElement(u.a.KoboDropdown__menuButton,{className:c()("table-column-sort-dropdown-option",{"table-column-sort-dropdown-option--active":this.props.sortValue===e}),onClick:this.changeSort.bind(this,e)},e===f.f.ASCENDING&&[a.a.createElement("i",{key:"0",className:"k-icon k-icon-sort-down"}),a.a.createElement("span",{key:"1"},t("Decending"))],e===f.f.DESCENDING&&[a.a.createElement("i",{key:"0",className:"k-icon k-icon-sort-up"}),a.a.createElement("span",{key:"1"},t("Ascending"))],this.props.sortValue===e&&a.a.createElement("i",{onClick:this.clearSort,className:c()("k-icon","k-icon-close","table-column-sort-dropdown-clear")}))}},{key:"render",value:function(){return a.a.createElement(p.c,{theme:p.b.dark,hideOnEsc:!0,hideOnMenuClick:!0,hideOnMenuOutsideClick:!0,name:"table-column-sort",triggerContent:this.renderTrigger(),menuContent:a.a.createElement(a.a.Fragment,null,this.renderSortButton(f.f.ASCENDING),this.renderSortButton(f.f.DESCENDING),d.a.permissions.userCan(m.PERMISSIONS_CODENAMES.change_asset,this.props.asset)&&a.a.createElement(u.a.KoboDropdown__menuButton,{onClick:this.hideField},a.a.createElement("i",{className:"k-icon k-icon-hide"}),a.a.createElement("span",null,t("Hide field"))),d.a.permissions.userCan(m.PERMISSIONS_CODENAMES.change_asset,this.props.asset)&&a.a.createElement(u.a.KoboDropdown__menuButton,{onClick:this.changeFieldFrozen.bind(this,!this.props.isFieldFrozen)},this.props.isFieldFrozen&&[a.a.createElement("i",{key:"0",className:"k-icon k-icon-unfreeze"}),a.a.createElement("span",{key:"1"},t("Unfreeze field"))],!this.props.isFieldFrozen&&[a.a.createElement("i",{key:"0",className:"k-icon k-icon-freeze"}),a.a.createElement("span",{key:"1"},t("Freeze field"))]))})}}])&&h(o.prototype,r),n&&h(o,n),s}(a.a.Component),x=w;o.a=x;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("table-column-sort-dropdown-clear","CLEAR_BUTTON_CLASS_NAME","/srv/src/kpi/jsapp/js/components/submissions/tableColumnSortDropdown.es6"),__REACT_HOT_LOADER__.register(w,"TableColumnSortDropdown","/srv/src/kpi/jsapp/js/components/submissions/tableColumnSortDropdown.es6"),__REACT_HOT_LOADER__.register(x,"default","/srv/src/kpi/jsapp/js/components/submissions/tableColumnSortDropdown.es6"))},function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return m}));var r=o(0),n=o.n(r),a=o(7),i=o(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=p(e);if(t){var n=p(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return u(this,o)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,t);var o,r,l,u=d(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=u.call(this,e)).state={xformLoaded:!1},t}return o=p,(r=[{key:"componentDidMount",value:function(){var t=this,o=this.props.params.assetid||this.props.params.uid;a.a.getAssetXformView(o).done((function(o){t.setState({xformLoaded:!0,xformHtml:{__html:e("<div>").html(o).find(".pygment").html()}})}))}},{key:"render",value:function(){return this.state.xformLoaded?n.a.createElement(i.a.uiPanel,null,n.a.createElement(i.a.uiPanel__body,null,n.a.createElement(i.a.FormView,null,n.a.createElement("div",{className:"pygment",dangerouslySetInnerHTML:this.state.xformHtml})))):n.a.createElement(i.a.uiPanel,null,n.a.createElement(i.a.uiPanel__body,null,n.a.createElement(i.a.Loading,null,n.a.createElement(i.a.Loading__inner,null,n.a.createElement("p",null,"XForm is loading")))))}}])&&s(o.prototype,r),l&&s(o,l),p}(n.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(m,"FormXform","/srv/src/kpi/jsapp/js/components/formXform.es6")}).call(this,o(29))},,,,function(e,t,o){var r={"./af":172,"./af.js":172,"./ar":173,"./ar-dz":174,"./ar-dz.js":174,"./ar-kw":175,"./ar-kw.js":175,"./ar-ly":176,"./ar-ly.js":176,"./ar-ma":177,"./ar-ma.js":177,"./ar-sa":178,"./ar-sa.js":178,"./ar-tn":179,"./ar-tn.js":179,"./ar.js":173,"./az":180,"./az.js":180,"./be":181,"./be.js":181,"./bg":182,"./bg.js":182,"./bm":183,"./bm.js":183,"./bn":184,"./bn.js":184,"./bo":185,"./bo.js":185,"./br":186,"./br.js":186,"./bs":187,"./bs.js":187,"./ca":188,"./ca.js":188,"./cs":189,"./cs.js":189,"./cv":190,"./cv.js":190,"./cy":191,"./cy.js":191,"./da":192,"./da.js":192,"./de":193,"./de-at":194,"./de-at.js":194,"./de-ch":195,"./de-ch.js":195,"./de.js":193,"./dv":196,"./dv.js":196,"./el":197,"./el.js":197,"./en-au":198,"./en-au.js":198,"./en-ca":199,"./en-ca.js":199,"./en-gb":200,"./en-gb.js":200,"./en-ie":201,"./en-ie.js":201,"./en-il":202,"./en-il.js":202,"./en-in":203,"./en-in.js":203,"./en-nz":204,"./en-nz.js":204,"./en-sg":205,"./en-sg.js":205,"./eo":206,"./eo.js":206,"./es":207,"./es-do":208,"./es-do.js":208,"./es-us":209,"./es-us.js":209,"./es.js":207,"./et":210,"./et.js":210,"./eu":211,"./eu.js":211,"./fa":212,"./fa.js":212,"./fi":213,"./fi.js":213,"./fil":214,"./fil.js":214,"./fo":215,"./fo.js":215,"./fr":216,"./fr-ca":217,"./fr-ca.js":217,"./fr-ch":218,"./fr-ch.js":218,"./fr.js":216,"./fy":219,"./fy.js":219,"./ga":220,"./ga.js":220,"./gd":221,"./gd.js":221,"./gl":222,"./gl.js":222,"./gom-deva":223,"./gom-deva.js":223,"./gom-latn":224,"./gom-latn.js":224,"./gu":225,"./gu.js":225,"./he":226,"./he.js":226,"./hi":227,"./hi.js":227,"./hr":228,"./hr.js":228,"./hu":229,"./hu.js":229,"./hy-am":230,"./hy-am.js":230,"./id":231,"./id.js":231,"./is":232,"./is.js":232,"./it":233,"./it-ch":234,"./it-ch.js":234,"./it.js":233,"./ja":235,"./ja.js":235,"./jv":236,"./jv.js":236,"./ka":237,"./ka.js":237,"./kk":238,"./kk.js":238,"./km":239,"./km.js":239,"./kn":240,"./kn.js":240,"./ko":241,"./ko.js":241,"./ku":242,"./ku.js":242,"./ky":243,"./ky.js":243,"./lb":244,"./lb.js":244,"./lo":245,"./lo.js":245,"./lt":246,"./lt.js":246,"./lv":247,"./lv.js":247,"./me":248,"./me.js":248,"./mi":249,"./mi.js":249,"./mk":250,"./mk.js":250,"./ml":251,"./ml.js":251,"./mn":252,"./mn.js":252,"./mr":253,"./mr.js":253,"./ms":254,"./ms-my":255,"./ms-my.js":255,"./ms.js":254,"./mt":256,"./mt.js":256,"./my":257,"./my.js":257,"./nb":258,"./nb.js":258,"./ne":259,"./ne.js":259,"./nl":260,"./nl-be":261,"./nl-be.js":261,"./nl.js":260,"./nn":262,"./nn.js":262,"./oc-lnc":263,"./oc-lnc.js":263,"./pa-in":264,"./pa-in.js":264,"./pl":265,"./pl.js":265,"./pt":266,"./pt-br":267,"./pt-br.js":267,"./pt.js":266,"./ro":268,"./ro.js":268,"./ru":269,"./ru.js":269,"./sd":270,"./sd.js":270,"./se":271,"./se.js":271,"./si":272,"./si.js":272,"./sk":273,"./sk.js":273,"./sl":274,"./sl.js":274,"./sq":275,"./sq.js":275,"./sr":276,"./sr-cyrl":277,"./sr-cyrl.js":277,"./sr.js":276,"./ss":278,"./ss.js":278,"./sv":279,"./sv.js":279,"./sw":280,"./sw.js":280,"./ta":281,"./ta.js":281,"./te":282,"./te.js":282,"./tet":283,"./tet.js":283,"./tg":284,"./tg.js":284,"./th":285,"./th.js":285,"./tk":286,"./tk.js":286,"./tl-ph":287,"./tl-ph.js":287,"./tlh":288,"./tlh.js":288,"./tr":289,"./tr.js":289,"./tzl":290,"./tzl.js":290,"./tzm":291,"./tzm-latn":292,"./tzm-latn.js":292,"./tzm.js":291,"./ug-cn":293,"./ug-cn.js":293,"./uk":294,"./uk.js":294,"./ur":295,"./ur.js":295,"./uz":296,"./uz-latn":297,"./uz-latn.js":297,"./uz.js":296,"./vi":298,"./vi.js":298,"./x-pseudo":299,"./x-pseudo.js":299,"./yo":300,"./yo.js":300,"./zh-cn":301,"./zh-cn.js":301,"./zh-hk":302,"./zh-hk.js":302,"./zh-mo":303,"./zh-mo.js":303,"./zh-tw":304,"./zh-tw.js":304};function n(e){var t=a(e);return o(t)}function a(e){if(!o.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=a,e.exports=n,n.id=393},,,,,,,function(e,t,o){(function(t){var r,n,a,i,l,s,c={}.hasOwnProperty;l=o(20),o(47),r=o(139),i=o(108),a=o(350),n=o(59),e.exports=((s={}).RowSelector=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return function(e,t){for(var o in t)c.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(o,e),o.prototype.events={"click .js-close-row-selector":"shrink"},o.prototype.initialize=function(e){this.options=e,this.ngScope=e.ngScope,this.reversible=e.reversible,this.button=this.$el.find(".btn").eq(0),this.line=this.$el.find(".line"),"click-add-row"===e.action&&this.expand()},o.prototype.expand=function(){var e;this.$el.parents(".survey-editor__null-top-row--hidden").removeClass("survey-editor__null-top-row--hidden"),this.show_namer(),(e=this.$el.find(".row__questiontypes__form")).on("submit",l.bind(this.show_picker,this)),e.find("button").on("click",(function(t){return t.preventDefault(),e.submit()})),this.$("input").eq(0).focus()},o.prototype.show_namer=function(){var e,o;(e=this.options.surveyView.$el).find(".line.expanded").removeClass("expanded").empty(),e.find(".btn--hidden").removeClass("btn--hidden"),this.button.addClass("btn--hidden"),this.line.addClass("expanded"),this.line.parents(".survey-editor__null-top-row").addClass("expanded"),this.line.css("height","inherit"),this.line.html(i.$$render("xlfRowSelector.namer")),this.scrollFormBuilder("+=50"),this.options.surveyView.features.multipleQuestions?t(window).on("keydown.cancel_add_question",(o=this,function(e){if(27===e.which)return o.shrink()})):(t(window).on("keydown.cancel_add_question",function(e){return function(t){if(27===t.which)return t.preventDefault(),e.$("input").eq(0).focus()}}(this)),t("body").on("mousedown.cancel_add_question",function(e){return function(o){if(0===t(o.target).closest(".line.expanded").length)return o.preventDefault(),e.$("input").eq(0).focus()}}(this)))},o.prototype.show_picker=function(e){var o,r,n,s,c,d,u,p,m,f,_,h,b;for(e.preventDefault(),this.question_name=this.line.find("input").val(),this.line.empty(),this.line.html(i.$$render("xlfRowSelector.line","")),this.line.find(".row__questiontypes__new-question-name").val(this.question_name),o=this.line.find(".row__questiontypes__list"),c=0,u=(h=a.grouped()).length;c<u;c++)for(_=h[c],m=t("<div>",{class:"questiontypelist__row"}).appendTo(o),s=d=0,p=_.length;d<p;s=++d)(f=_[s])&&m.append(i.$$render("xlfRowSelector.cell",f.attributes));this.scrollFormBuilder("+=220"),this.$(".questiontypelist__item").click(l.bind(this.onSelectNewQuestionType,this)),r=0,b=0,(n=t("div.questiontypelist__row")).eq(r).children().eq(0).toggleClass("questiontypelist__item-force-hover"),t(window).on("keydown",(function(e){if(n.eq(r).children().eq(b).toggleClass("questiontypelist__item-force-hover"),40===e.which&&(b>=n.eq(r).children().length-1?b=0:b++),39===e.which&&(r>=n.length-1||n.eq(r+1).children().length<n.eq(r).children().length&&b>n.length?r=0:r++),38===e.which&&(0===b?b=n.eq(r).children().length-1:b--),37===e.which&&(0===r?r=n.eq(n.length-1).children().length<n.eq(r).children().length&&b>n.length?n.length-2:n.length-1:n.eq(r-1).children().length<n.eq(r).children().length&&b>n.eq(r-1).length?r=n.length-1:r--),n.eq(r).children().eq(b).toggleClass("questiontypelist__item-force-hover"),13===e.which)return n.eq(r).children().eq(b).trigger("click")}))},o.prototype.shrink=function(){var e;t(window).off("keydown.cancel_add_question"),t("body").off("mousedown.cancel_add_question"),this.line.find("div").eq(0).fadeOut(250,(e=this,function(){return e.line.empty()})),this.line.parents(".survey-editor__null-top-row").removeClass("expanded"),this.line.parents(".survey-editor").find(".survey__row").length&&this.line.parents(".survey-editor__null-top-row").addClass("survey-editor__null-top-row--hidden"),this.line.removeClass("expanded"),this.line.animate({height:"0"}),this.reversible&&this.button.removeClass("btn--hidden")},o.prototype.hide=function(){this.button.removeClass("btn--hidden"),this.line.empty().removeClass("expanded").css({height:0}),this.line.parents(".survey-editor__null-top-row").removeClass("expanded").addClass("survey-editor__null-top-row--hidden")},o.prototype.onSelectNewQuestionType=function(e){var o,r,a,i,l,s,c,d;this.question_name=this.line.find("input").val(),(o=t("select.skiplogic__rowselect")).data("select2")&&o.select2("destroy"),c=t(e.target).closest(".questiontypelist__item").data("menuItem"),a=this.question_name?this.question_name.replace(/\t/g," "):c in n.defaultsForType?n.defaultsForType[c].label.value:n.defaultsGeneral.label.value,s={type:c},"calculate"===c?s.calculation=a:s.label=a,r={},(l=null!=(i=this.options.spawnedFromView)?i.model:void 0)?(r.after=l,d=l.getSurvey()):(d=this.options.survey,r.at=0),d.addRow(s,r).linkUp({warnings:[],errors:[]}),this.hide()},o.prototype.scrollFormBuilder=function(e){var t,o;(o=this.$el.parents(".survey__row")).length&&(t=this.$el.parents(".form-builder__contents"),o.height()+o.position().top+50>t.height()+t.prop("scrollTop")&&t.animate({scrollTop:e}))},o}(r),s)}).call(this,o(29))},,function(e,t,o){var r=o(35),n=o(613);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,o,r){"use strict";(function(e){var n=r(0),a=r.n(n),i=r(5),l=r.n(i),s=r(12),c=r.n(s),d=r(9),u=r.n(d),p=r(15),m=r(62),f=r(6),_=r(46),h=r(8),b=r.n(h),g=r(1),y=r(3),v=r(18),k=r(7),w=r(4),x=r(38),E=r(13),S=r(2),O=r(10),T=r(55),R=r(133),A=r(450),C=r(451),j=r(50),P=r(21);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=U(e);if(t){var n=U(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return I(this,o)}}function I(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(s,o);var r,n,i,l=M(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state=Object(w.assign)({asset:!1,currentLang:Object(w.currentLang)(),isLanguageSelectorVisible:!1,formFiltersContext:T.a.getSearchContext("forms",{filterParams:{assetType:S.COMMON_QUERIES.s},filterTags:S.COMMON_QUERIES.s})},f.a.pageState.state),t.stores=[f.a.session,f.a.pageState],t.unlisteners=[],u()(F(t)),t}return r=s,(n=[{key:"componentDidMount",value:function(){this.unlisteners.push(_.a.listen(this.onAssetLoad),j.a.listen(this.forceRender))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"componentWillUpdate",value:function(e){this.props.assetid!==e.assetid&&this.setState({asset:!1})}},{key:"componentDidUpdate",value:function(e){e.assetid!==this.props.assetid&&null!==this.props.assetid&&y.a.resources.loadAsset({id:this.props.assetid})}},{key:"forceRender",value:function(){this.setState(this.state)}},{key:"isSearchBoxDisabled",value:function(){return!!this.isMyLibrary()&&null===j.a.getCurrentUserTotalAssets()}},{key:"onAssetLoad",value:function(e){var t=e[this.props.assetid];this.setState(Object(w.assign)({asset:t}))}},{key:"logout",value:function(){y.a.auth.logout()}},{key:"toggleLanguageSelector",value:function(){this.setState({isLanguageSelectorVisible:!this.state.isLanguageSelectorVisible})}},{key:"accountSettings",value:function(){y.a.auth.verifyLogin.triggerAsync().then((function(){p.f.push(O.b.ACCOUNT_SETTINGS)}))}},{key:"languageChange",value:function(o){o.preventDefault();var r=e(o.target).data("key");r&&k.a.setLanguage({language:r}).always((function(){"reload"in window.location?window.location.reload():window.alert(t("Please refresh the page"))}))}},{key:"renderLangItem",value:function(e){return a.a.createElement(g.a.AccountBox__menuLI,{key:e.value},a.a.createElement(g.a.AccountBox__menuLink,{onClick:this.languageChange,"data-key":e.value},e.label))}},{key:"renderLoginButton",value:function(){return a.a.createElement(g.a.LoginBox,null,a.a.createElement("a",{href:Object(x.b)(),className:"kobo-button kobo-button--blue"},t("Log In")))}},{key:"renderAccountNavMenu",value:function(){var e=!1;P.a.isReady&&"string"==typeof P.a.data.terms_of_service_url&&L(P.a.data.terms_of_service_url.length)>=1&&(e=!0),P.a.isReady&&"string"==typeof P.a.data.privacy_policy_url&&L(P.a.data.privacy_policy_url.length)>=1&&(e=!0);var o=[];if(P.a.isReady&&P.a.data.interface_languages&&(o=P.a.data.interface_languages),f.a.session.isLoggedIn){var r=f.a.session.currentAccount.username,n=f.a.session.currentAccount.email,i={background:"#".concat(Object(w.stringToColor)(r))},l=a.a.createElement(g.a.AccountBox__initials,{style:i},r.charAt(0));return a.a.createElement(g.a.AccountBox,null,a.a.createElement(m.a,{type:"account-menu",triggerLabel:l,buttonType:"text"},a.a.createElement(g.a.AccountBox__menu,null,a.a.createElement(g.a.AccountBox__menuLI,{key:"1"},a.a.createElement(g.a.AccountBox__menuItem,{m:"avatar"},l),a.a.createElement(g.a.AccountBox__menuItem,{m:"mini-profile"},a.a.createElement("span",{className:"account-username"},r),a.a.createElement("span",{className:"account-email"},n)),a.a.createElement(g.a.AccountBox__menuItem,{m:"settings"},a.a.createElement(g.a.KoboButton,{onClick:this.accountSettings,m:["blue","fullwidth"]},t("Account Settings")))),e&&a.a.createElement(g.a.AccountBox__menuLI,{key:"2",className:"environment-links"},P.a.data.terms_of_service_url&&a.a.createElement("a",{href:P.a.data.terms_of_service_url,target:"_blank"},t("Terms of Service")),P.a.data.privacy_policy_url&&a.a.createElement("a",{href:P.a.data.privacy_policy_url,target:"_blank"},t("Privacy Policy"))),a.a.createElement(g.a.AccountBox__menuLI,{m:"lang",key:"3"},a.a.createElement(g.a.AccountBox__menuLink,{onClick:this.toggleLanguageSelector,"data-popover-menu-stop-blur":!0,tabIndex:"0"},a.a.createElement("i",{className:"k-icon k-icon-language"}),t("Language")),this.state.isLanguageSelectorVisible&&a.a.createElement("ul",null,o.map(this.renderLangItem))),a.a.createElement(g.a.AccountBox__menuLI,{m:"logout",key:"4"},a.a.createElement(g.a.AccountBox__menuLink,{onClick:this.logout},a.a.createElement("i",{className:"k-icon k-icon-logout"}),t("Logout"))))))}return null}},{key:"renderGitRevInfo",value:function(){if(f.a.session.currentAccount&&f.a.session.currentAccount.git_rev){var e=f.a.session.currentAccount.git_rev;return a.a.createElement(g.a.GitRev,null,a.a.createElement(g.a.GitRev__item,null,"branch: ",e.branch),a.a.createElement(g.a.GitRev__item,null,"commit: ",e.short))}return!1}},{key:"toggleFixedDrawer",value:function(){f.a.pageState.toggleFixedDrawer()}},{key:"render",value:function(){var e=f.a.session.isLoggedIn,o=!1;this.state.asset&&(o=this.userCan("change_asset",this.state.asset));var r="";this.state.asset&&(r=Object(E.d)(this.state.asset));var n=t("Search My Library");return this.isPublicCollections()&&(n=t("Search Public Collections")),a.a.createElement(g.a.MainHeader,{className:"mdl-layout__header"},a.a.createElement("div",{className:"mdl-layout__header-row"},f.a.session.isLoggedIn&&a.a.createElement(g.a.Button,{m:"icon",onClick:this.toggleFixedDrawer},a.a.createElement("i",{className:"k-icon k-icon-menu"})),a.a.createElement("span",{className:"mdl-layout-title"},a.a.createElement("a",{href:"/"},a.a.createElement(g.a.Header__logo,null))),e&&this.isFormList()&&a.a.createElement("div",{className:"mdl-layout__header-searchers"},a.a.createElement(R.c,{searchContext:this.state.formFiltersContext,placeholderText:t("Search Projects")})),e&&(this.isMyLibrary()||this.isPublicCollections())&&a.a.createElement("div",{className:"mdl-layout__header-searchers"},a.a.createElement(C.a,{placeholder:n,disabled:this.isSearchBoxDisabled()})),!this.isLibrary()&&this.state.asset&&this.isFormSingle()&&a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a.MainHeader__icon,{className:r}),a.a.createElement(A.a,{asset:this.state.asset,isEditable:o}),this.isFormSingle()&&this.state.asset.has_deployment&&a.a.createElement(g.a.MainHeader__counter,null,this.state.asset.deployment__submission_count," ",t("submissions"))),this.renderAccountNavMenu(),!e&&this.renderLoginButton()),this.renderGitRevInfo())}}])&&D(r.prototype,n),i&&D(r,i),s}(b.a.Component);c()(H.prototype,b.a.ListenerMixin),c()(H.prototype,v.a.contextRouter),c()(H.prototype,v.a.permissions),H.contextTypes={router:l.a.object};var B=H;o.a=B;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(H,"MainHeader","/srv/src/kpi/jsapp/js/components/header.es6"),__REACT_HOT_LOADER__.register(B,"default","/srv/src/kpi/jsapp/js/components/header.es6"))}).call(this,r(29))},,function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(8),l=r.n(i),s=r(12),c=r.n(s),d=r(9),u=r.n(d),p=r(14),m=r.n(p),f=r(1),_=r(46),h=r(3),b=r(13),g=r(2);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=S(e);if(t){var n=S(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return x(this,o)}}function x(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(l,e);var o,r,n,i=w(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=i.call(this,e)).typingTimer=null,t.state={name:t.props.asset.name,isPending:!1},u()(E(t)),t}return o=l,(r=[{key:"componentDidMount",value:function(){this.listenTo(_.a,this.onAssetLoad)}},{key:"onAssetLoad",value:function(){this.setState({name:this.props.asset.name,isPending:!1})}},{key:"updateAssetTitle",value:function(){return this.state.name.trim()||this.props.asset.asset_type!==g.ASSET_TYPES.survey.id?(this.setState({isPending:!0}),h.a.resources.updateAsset(this.props.asset.uid,{name:this.state.name}),!0):(m.a.error(t("Please enter a title for your ##type##").replace("##type##",g.ASSET_TYPES[this.props.asset.asset_type].label)),!1)}},{key:"assetTitleChange",value:function(e){this.setState({name:Object(b.n)(e.target.value)}),clearTimeout(this.typingTimer),this.typingTimer=setTimeout(this.updateAssetTitle.bind(this),1500)}},{key:"assetTitleKeyDown",value:function(e){e.keyCode===g.KEY_CODES.ENTER&&(clearTimeout(this.typingTimer),this.updateAssetTitle()&&e.currentTarget.blur())}},{key:"render",value:function(){var e=[];"string"==typeof this.state.name&&this.state.name.length>125&&e.push("long");var o="",r=Object(b.c)(this.props.asset);switch(this.props.asset.asset_type){case g.ASSET_TYPES.question.id:case g.ASSET_TYPES.block.id:case g.ASSET_TYPES.template.id:o=r.question?r.question:t("untitled ##type##").replace("##type##",g.ASSET_TYPES[this.props.asset.asset_type].label);break;case g.ASSET_TYPES.collection.id:o=t("untitled collection");break;case g.ASSET_TYPES.survey.id:o=t("project title")}return a.a.createElement(f.a.MainHeader__title,{m:e},a.a.createElement("input",{type:"text",name:"title",maxLength:g.NAME_MAX_LENGTH,placeholder:o,value:this.state.name,onChange:this.assetTitleChange.bind(this),onKeyDown:this.assetTitleKeyDown.bind(this),disabled:!this.props.isEditable||this.state.isPending}))}}])&&v(o.prototype,r),n&&v(o,n),l}(a.a.Component);c()(O.prototype,l.a.ListenerMixin);var T=O;o.a=T;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"HeaderTitleEditor","/srv/src/kpi/jsapp/js/components/header/headerTitleEditor.es6"),__REACT_HOT_LOADER__.register(T,"default","/srv/src/kpi/jsapp/js/components/header/headerTitleEditor.es6"))},function(e,o,r){"use strict";r.d(o,"a",(function(){return x}));var n=r(20),a=r(0),i=r.n(a),l=r(8),s=r.n(l),c=r(12),d=r.n(c),u=r(9),p=r.n(u),m=r(1),f=r(57),_=r(2);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=w(e);if(t){var n=w(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return v(this,o)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var o,r,a,l=y(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={inputVal:f.b.getSearchPhrase()},t.setSearchPhraseDebounced=n.default.debounce(t.setSearchPhrase,500),p()(k(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.listenTo(f.b,this.searchBoxStoreChanged)}},{key:"searchBoxStoreChanged",value:function(e){this.setState({inputVal:e.searchPhrase})}},{key:"onInputChange",value:function(e){var t=e.target.value;this.setState({inputVal:t}),this.setSearchPhraseDebounced(t)}},{key:"onInputKeyUp",value:function(e){e.keyCode===_.KEY_CODES.ENTER&&this.setSearchPhrase(e.target.value.trim())}},{key:"setSearchPhrase",value:function(e){f.b.setSearchPhrase(e.trim())}},{key:"clear",value:function(){f.b.clear()}},{key:"render",value:function(){return i.a.createElement(m.a.Search,null,i.a.createElement(m.a.Search__icon,{className:"k-icon k-icon-search"}),i.a.createElement(m.a.SearchInput,{type:"text",value:this.state.inputVal,onChange:this.onInputChange,onKeyUp:this.onInputKeyUp,placeholder:this.props.placeholder||t("Searchâ€¦"),disabled:this.props.disabled}),""!==this.state.inputVal&&i.a.createElement(m.a.Search__cancel,{className:"k-icon k-icon-close",onClick:this.clear}))}}])&&b(o.prototype,r),a&&b(o,a),s}(i.a.Component);d()(x.prototype,s.a.ListenerMixin);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(x,"SearchBox","/srv/src/kpi/jsapp/js/components/header/searchBox.es6")},,function(e,o,r){"use strict";(function(e){r.d(o,"a",(function(){return L}));var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(149),c=r(14),d=r.n(c),u=r(1),p=r(25),m=r(7),f=r(3),_=r(6),h=r(36),b=r(34),g=r(130),y=r(31),v=r(2),k=r(21);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw a}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function S(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=C(e);if(t){var n=C(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return R(this,o)}}function R(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j={json:{value:"json",label:t("JSON")},xml:{value:"xml",label:t("XML")}},P={no_auth:{value:"no_auth",label:t("No Authorization")},basic_auth:{value:"basic_auth",label:t("Basic Authorization")}},L=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(w,o);var r,n,i,c=T(w);function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=c.call(this,e)).state={isLoadingHook:!0,isSubmitPending:!1,assetUid:e.assetUid,hookUid:e.hookUid,name:"",nameError:null,endpoint:"",endpointError:null,type:j.json.value,typeOptions:[j.json,j.xml],isActive:!0,emailNotification:!0,authLevel:null,authOptions:[P.no_auth,P.basic_auth],authUsername:"",authPassword:"",subsetFields:[],customHeaders:[t.getEmptyHeaderRow()],payloadTemplate:"",payloadTemplateErrors:[]},l()(A(t)),t}return r=w,(n=[{key:"componentDidMount",value:function(){var e=this;this.state.hookUid?m.a.getHook(this.state.assetUid,this.state.hookUid).done((function(t){var o={isLoadingHook:!1,name:t.name,endpoint:t.endpoint,isActive:t.active,emailNotification:t.email_notification,subsetFields:t.subset_fields||[],type:t.export_type,authLevel:P[t.auth_level]||null,customHeaders:e.headersObjToArr(t.settings.custom_headers),payloadTemplate:t.payload_template};0===o.customHeaders.length&&o.customHeaders.push(e.getEmptyHeaderRow()),t.settings.username&&(o.authUsername=t.settings.username),t.settings.password&&(o.authPassword=t.settings.password),e.setState(o)})).fail((function(){e.setState({isSubmitPending:!1}),d.a.error(t("Could not load REST Service"))})):this.setState({isLoadingHook:!1})}},{key:"getEmptyHeaderRow",value:function(){return{name:"",value:""}}},{key:"headersObjToArr",value:function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push({name:o,value:e[o]});return t}},{key:"headersArrToObj",value:function(e){var t,o={},r=x(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.name&&(o[n.name]=n.value)}}catch(e){r.e(e)}finally{r.f()}return o}},{key:"handleNameChange",value:function(e){this.setState({name:e,nameError:null})}},{key:"handleEndpointChange",value:function(e){this.setState({endpoint:e,endpointError:null})}},{key:"handleAuthTypeChange",value:function(e){this.setState({authLevel:e})}},{key:"handleAuthUsernameChange",value:function(e){this.setState({authUsername:e})}},{key:"handleAuthPasswordChange",value:function(e){this.setState({authPassword:e})}},{key:"handleActiveChange",value:function(e){this.setState({isActive:e})}},{key:"handleEmailNotificationChange",value:function(e){this.setState({emailNotification:e})}},{key:"handleTypeRadioChange",value:function(e,t){this.setState(function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({},e,t))}},{key:"handleCustomHeaderChange",value:function(e){var t=e.target.name,o=e.target.value,r=e.target.dataset.index,n=this.state.customHeaders;"headerName"===t&&(n[r].name=o),"headerValue"===t&&(n[r].value=o),this.setState({customHeaders:n})}},{key:"handleCustomWrapperChange",value:function(e){this.setState({payloadTemplate:e,payloadTemplateErrors:[]})}},{key:"getDataForBackend",value:function(){var e=P.no_auth.value;null!==this.state.authLevel&&(e=this.state.authLevel.value);var t={name:this.state.name,endpoint:this.state.endpoint,active:this.state.isActive,subset_fields:this.state.subsetFields,email_notification:this.state.emailNotification,export_type:this.state.type,auth_level:e,settings:{custom_headers:this.headersArrToObj(this.state.customHeaders)},payload_template:this.state.payloadTemplate};return this.state.authUsername&&(t.settings.username=this.state.authUsername),this.state.authPassword&&(t.settings.password=this.state.authPassword),t}},{key:"validateForm",value:function(){var e=!0;return""===this.state.name.trim()&&(this.setState({nameError:t("Name required")}),e=!1),""===this.state.endpoint.trim()&&(this.setState({endpointError:t("URL required")}),e=!1),e}},{key:"onSubmit",value:function(e){var o=this;if(e.preventDefault(),this.validateForm()){var r={onComplete:function(){_.a.pageState.hideModal(),f.a.resources.loadAsset({id:o.state.assetUid})},onFail:function(e){var t=[];e.responseJSON&&e.responseJSON.payload_template&&0!==e.responseJSON.payload_template.length&&(t=e.responseJSON.payload_template),o.setState({payloadTemplateErrors:t,isSubmitPending:!1})}};return this.setState({isSubmitPending:!0}),this.state.hookUid?f.a.hooks.update(this.state.assetUid,this.state.hookUid,this.getDataForBackend(),r):f.a.hooks.add(this.state.assetUid,this.getDataForBackend(),r),!1}d.a.error(t("Please enter both name and url of your service."))}},{key:"onCustomHeaderInputKeyPress",value:function(t){t.keyCode===v.KEY_CODES.ENTER&&"headerName"===t.currentTarget.name&&(t.preventDefault(),e(t.currentTarget).parent().find('input[name="headerValue"]').focus()),t.keyCode===v.KEY_CODES.ENTER&&"headerValue"===t.currentTarget.name&&(t.preventDefault(),this.addNewCustomHeaderRow())}},{key:"addNewCustomHeaderRow",value:function(t){t&&t.preventDefault();var o=this.state.customHeaders;o.push(this.getEmptyHeaderRow()),this.setState({customHeaders:o}),setTimeout((function(){e('input[name="headerName"]').last().focus()}),0)}},{key:"removeCustomHeaderRow",value:function(e){e.preventDefault();var t=this.state.customHeaders,o=e.currentTarget.dataset.index;t.splice(o,1),0===t.length&&t.push(this.getEmptyHeaderRow()),this.setState({customHeaders:t})}},{key:"renderCustomHeaders",value:function(){var e=this;return a.a.createElement(u.a.FormModal__item,{m:"http-headers"},a.a.createElement("label",null,t("Custom HTTP Headers")),this.state.customHeaders.map((function(o,r){return a.a.createElement(u.a.FormModal__item,{m:"http-header-row",key:r},a.a.createElement("input",{type:"text",placeholder:t("Name"),id:"headerName-".concat(r),name:"headerName",value:e.state.customHeaders[r].name,"data-index":r,onChange:e.handleCustomHeaderChange,onKeyPress:e.onCustomHeaderInputKeyPress}),a.a.createElement("input",{type:"text",placeholder:t("Value"),id:"headerValue-".concat(r),name:"headerValue",value:e.state.customHeaders[r].value,"data-index":r,onChange:e.handleCustomHeaderChange,onKeyPress:e.onCustomHeaderInputKeyPress}),a.a.createElement(u.a.Button,{m:"icon",className:"http-header-row-remove","data-index":r,onClick:e.removeCustomHeaderRow},a.a.createElement("i",{className:"k-icon k-icon-trash"})))})),a.a.createElement(u.a.KoboButton,{m:"small",onClick:this.addNewCustomHeaderRow},a.a.createElement("i",{className:"k-icon k-icon-plus"}),t("Add header")))}},{key:"onSubsetFieldsChange",value:function(e){this.setState({subsetFields:e.split(",")})}},{key:"renderFieldsSelector",value:function(){return a.a.createElement(u.a.FormModal__item,null,a.a.createElement(s.a,{tags:this.state.subsetFields.join(","),onChange:this.onSubsetFieldsChange,placeholder:t("Add field(s)"),label:t("Select fields subset")}))}},{key:"render",value:function(){var e=Boolean(this.state.hookUid);if(this.state.isLoadingHook)return a.a.createElement(p.a,null);var o="%SUBMISSION%";return k.a.isReady&&k.a.data.submission_placeholder&&(o=k.a.data.submission_placeholder),a.a.createElement(u.a.FormModal__form,{onSubmit:this.onSubmit.bind(this)},a.a.createElement(u.a.FormModal__item,{m:"wrapper"},a.a.createElement(u.a.FormModal__item,null,a.a.createElement(y.a,{label:t("Name"),type:"text",placeholder:t("Service Name"),value:this.state.name,errors:this.state.nameError,onChange:this.handleNameChange.bind(this)})),a.a.createElement(u.a.FormModal__item,null,a.a.createElement(y.a,{label:t("Endpoint URL"),type:"text",placeholder:t("https://"),value:this.state.endpoint,errors:this.state.endpointError,onChange:this.handleEndpointChange.bind(this)})),a.a.createElement(u.a.FormModal__item,null,a.a.createElement(b.a,{name:"isActive",onChange:this.handleActiveChange.bind(this),checked:this.state.isActive,label:t("Enabled")})),a.a.createElement(u.a.FormModal__item,null,a.a.createElement(b.a,{name:"emailNotification",onChange:this.handleEmailNotificationChange.bind(this),checked:this.state.emailNotification,label:t("Receive emails notifications")})),a.a.createElement(u.a.FormModal__item,null,a.a.createElement(g.a,{name:"type",options:this.state.typeOptions,onChange:this.handleTypeRadioChange.bind(this),selected:this.state.type,title:t("Type")})),a.a.createElement(u.a.FormModal__item,null,a.a.createElement("label",{htmlFor:"rest-service-form--security"},t("Security")),a.a.createElement(h.a,{value:this.state.authLevel,options:this.state.authOptions,onChange:this.handleAuthTypeChange.bind(this),className:"kobo-select",classNamePrefix:"kobo-select",id:"rest-service-form--security",name:"authLevel",menuPlacement:"auto",isSearchable:!1})),this.state.authLevel&&this.state.authLevel.value===P.basic_auth.value&&a.a.createElement(u.a.FormModal__item,null,a.a.createElement(y.a,{label:t("Username"),type:"text",value:this.state.authUsername,onChange:this.handleAuthUsernameChange.bind(this)}),a.a.createElement(y.a,{label:t("Password"),type:"text",value:this.state.authPassword,onChange:this.handleAuthPasswordChange.bind(this)})),this.renderFieldsSelector(),this.renderCustomHeaders(),this.state.type===j.json.value&&a.a.createElement(u.a.FormModal__item,{m:"rest-custom-wrapper"},a.a.createElement(y.a,{label:t("Add custom wrapper around JSON submission (%SUBMISSION% will be replaced by JSON)").replace("%SUBMISSION%",o),type:"text-multiline",placeholder:t("Add Custom Wrapper"),value:this.state.payloadTemplate,errors:this.state.payloadTemplateErrors,onChange:this.handleCustomWrapperChange.bind(this)}))),a.a.createElement(u.a.Modal__footer,null,a.a.createElement(u.a.KoboButton,{m:"blue",onClick:this.onSubmit,disabled:this.state.isSubmitPending},e?t("Save"):t("Create"))))}}])&&S(r.prototype,n),i&&S(r,i),w}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(j,"EXPORT_TYPES","/srv/src/kpi/jsapp/js/components/RESTServices/RESTServicesForm.es6"),__REACT_HOT_LOADER__.register(P,"AUTH_OPTIONS","/srv/src/kpi/jsapp/js/components/RESTServices/RESTServicesForm.es6"),__REACT_HOT_LOADER__.register(L,"RESTServicesForm","/srv/src/kpi/jsapp/js/components/RESTServices/RESTServicesForm.es6"))}).call(this,r(29))},function(e,o,r){"use strict";var n=r(3),a=r(4),i=r(37);function l(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var o=t.survey,r=t.rawSurvey,n=t.assetType;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.survey=o,this.rawSurvey=r,this.assetType=n}var o,r,s;return o=e,(r=[{key:"add_row_to_question_library",value:function(e,o){if("Row"===e.constructor.kls){var r,l=e.toJSON2(),s=this.survey.toFlatJSON(),c=JSON.parse(Object(i.unnullifyTranslations)(JSON.stringify(s),o)),d=c.settings,u=c.survey;if("select_one"===l.type||"select_multiple"===l.type){var p=c.choices.filter((function(e){return e.list_name===l.select_from_list_name}));for(var m in u)u[m].$kuid==e.toJSON2().$kuid&&(r=JSON.stringify({survey:[u[m]],choices:p,settings:d}))}else for(var f in u)u[f].$kuid==e.toJSON2().$kuid&&(r=JSON.stringify({survey:[u[f]],choices:p,settings:d}));n.a.resources.createResource.triggerAsync({asset_type:"question",content:r}).then((function(){Object(a.notify)(t("question has been added to the library"))}))}else console.error("cannot add group to question library")}},{key:"handleItem",value:function(e){var t=e.position,o=e.itemUid,r=e.groupId;if(!o)throw new Error("itemUid not provided!");n.a.survey.addExternalItemAtPosition({position:t,uid:o,survey:this.survey,groupId:r})}}])&&l(o.prototype,r),s&&l(o,s),e}(),c=s;o.a=c;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"SurveyScope","/srv/src/kpi/jsapp/js/models/surveyScope.es6"),__REACT_HOT_LOADER__.register(c,"default","/srv/src/kpi/jsapp/js/models/surveyScope.es6"))},function(e,o,r){"use strict";r.d(o,"a",(function(){return m}));var n=r(0),a=r.n(n),i=r(51),l=r.n(i),s=r(1),c=r(102),d=r.n(c),u=r(20),p=r(21);s.a.CascadePopup=Object(s.b)(null,"cascade-popup"),s.a.CascadePopup__message=Object(s.b)(s.a.CascadePopup,"message"),s.a.CascadePopup__buttonWrapper=Object(s.b)(s.a.CascadePopup,"buttonWrapper"),s.a.CascadePopup__button=Object(s.b)(s.a.CascadePopup,"button","button");var m={toggleCascade:function(){var e=u.default.last(this.app.selectedRows()),t=e?this.app.survey.rows.indexOf(e):-1;this.setState({showCascadePopup:!this.state.showCascadePopup,cascadeTextareaValue:"",cascadeLastSelectedRowIndex:t})},cancelCascade:function(){this.setState({cascadeError:!1,cascadeReady:!1,cascadeReadySurvey:!1,addCascadePopup:!1,cascadeTextareaValue:"",cascadeStr:"",showCascadePopup:!1})},cascadePopopChange:function(e){var o={cascadeTextareaValue:l.a.findDOMNode(this.refs.cascade).value};try{var r=d.a.model.utils.split_paste(o.cascadeTextareaValue),n=new d.a.model.Survey({survey:[],choices:r});if(0===n.choices.length)throw new Error(t("Paste your formatted table from excel in the box below."));n.choices.at(0).create_corresponding_rows();var a=n.rows.length;if(0===a)throw new Error(t("Paste your formatted table from excel in the box below."));o.cascadeReady=!0,o.cascadeReadySurvey=n,o.cascadeMessage={msgType:"ready",addCascadeMessage:t("add cascade with # questions").replace("#",a)}}catch(e){o.cascadeReady=!1,o.cascadeMessage={msgType:"warning",message:e.message}}this.setState(o)},renderCascadePopup:function(){var e=this;return a.a.createElement(s.a.CascadePopup,null,this.state.cascadeMessage?a.a.createElement(s.a.CascadePopup__message,{m:this.state.cascadeMessage.msgType},this.state.cascadeMessage.message):a.a.createElement(s.a.CascadePopup__message,{m:"instructions"},t("Paste your formatted table from excel in the box below.")),this.state.cascadeReady?a.a.createElement(s.a.CascadePopup__message,{m:"ready"},t("OK")):null,a.a.createElement("textarea",{ref:"cascade",onChange:this.cascadePopopChange,value:this.state.cascadeTextareaValue}),p.a.isReady&&p.a.data.support_url&&a.a.createElement("div",{className:"cascade-help right-tooltip"},a.a.createElement("a",{href:p.a.data.support_url+"cascading_select.html",target:"_blank","data-tip":t("Learn more about importing cascading lists from Excel")},a.a.createElement("i",{className:"k-icon k-icon-help"}))),a.a.createElement(s.a.CascadePopup__buttonWrapper,null,a.a.createElement(s.a.CascadePopup__button,{disabled:!this.state.cascadeReady,onClick:function(){e.app.survey.insertSurvey(e.state.cascadeReadySurvey,e.state.cascadeLastSelectedRowIndex),e.cancelCascade()}},t("DONE"))))}};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("cascading_select.html","CHOICE_LIST_SUPPORT_URL","/srv/src/kpi/jsapp/js/editorMixins/cascadeMixin.es6"),__REACT_HOT_LOADER__.register(m,"cascadeMixin","/srv/src/kpi/jsapp/js/editorMixins/cascadeMixin.es6"))},function(e,o,r){"use strict";(function(e){var n=r(0),a=r.n(n),i=r(51),l=r.n(i),s=r(12),c=r.n(s),d=r(9),u=r.n(d),p=r(8),m=r.n(p),f=r(6),_=r(1),h=r(55),b=r(111),g=r(2),y=r(133);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,o){return t&&w(e.prototype,t),o&&w(e,o),e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=A(e);if(t){var n=A(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return T(this,o)}}function T(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(o){E(n,o);var r=O(n);function n(e){var t;return k(this,n),(t=r.call(this,e)).state={},u()(R(t)),t}return x(n,[{key:"componentDidMount",value:function(){this.searchClear(),this.listenTo(this.searchStore,this.searchStoreChanged)}},{key:"searchStoreChanged",value:function(e){this.setState(e)}},{key:"activateSortable",value:function(){if(this.refs.liblist){var t=e(l.a.findDOMNode(this.refs.liblist));t.hasClass("ui-sortable")&&t.sortable("destroy"),t.sortable({helper:"clone",cursor:"move",distance:5,items:"> li",connectWith:[".survey-editor__list",".group__rows"],opacity:.9,scroll:!1,deactivate:function(){t.sortable("cancel")}})}}},{key:"render",value:function(){var e,o,r,n=this,i=this.state.searchResultsDisplayed;return i?(r=this.state.searchState,e=this.state.searchResultsList,o=this.state.searchResultsCount):(r=this.state.defaultQueryState,e=this.state.defaultQueryResultsList,o=this.state.defaultQueryCount),"done"!==r?a.a.createElement(_.a.LibList,{m:"empty"},a.a.createElement(_.a.LibList__item,{m:"message"},t("loading"))):0===o?a.a.createElement(_.a.LibList,{m:"empty"},a.a.createElement(_.a.LibList__item,{m:"message"},t("no search results found"))):(window.setTimeout((function(){n.activateSortable()}),1),e=e.filter((function(e){return void 0!==e.summary.row_count&&e.asset_type!==g.ASSET_TYPES.survey.id&&e.asset_type!==g.ASSET_TYPES.collection.id})),a.a.createElement(_.a.LibList,{m:["done",i?"search":"default"],ref:"liblist"},e.map((function(e){var o=[e.asset_type],r=e.summary;return a.a.createElement(_.a.LibList__item,{m:o,key:e.uid,"data-uid":e.uid},a.a.createElement(_.a.LibList__dragbox,null),a.a.createElement(_.a.LibList__label,{m:"name"},a.a.createElement(b.a,{asset:e})),"block"===e.asset_type&&a.a.createElement(_.a.LibList__qtype,null,t("block of ___ questions").replace("___",r.row_count)),f.a.pageState.state.assetNavExpanded&&"block"===e.asset_type&&a.a.createElement("ol",null,r.labels.map((function(e,t){return a.a.createElement("li",{key:t},e)}))),f.a.pageState.state.assetNavExpanded&&a.a.createElement(_.a.LibList__tags,null,(e.tags||[]).map((function(e,t){return a.a.createElement(_.a.LibList__tag,{key:t},e)}))))}))))}}]),n}(a.a.Component);c()(C.prototype,h.a.common),c()(C.prototype,m.a.ListenerMixin);var j=function(e){E(r,e);var o=O(r);function r(e){var t;return k(this,r),(t=o.call(this,e)).state={searchResults:{},imports:[],searchContext:h.a.getSearchContext("library",{filterParams:{assetType:g.COMMON_QUERIES.qbt}}),selectedTags:[]},t.store=f.a.tags,u()(R(t)),t}return x(r,[{key:"componentDidMount",value:function(){this.listenTo(f.a.pageState,this.handlePageStateStore),this.state.searchContext.mixin.searchDefault()}},{key:"filterSearchResults",value:function(e){if(this.searchFieldValue()===e.query)return e.results}},{key:"handlePageStateStore",value:function(e){this.setState(e)}},{key:"getImportsByStatus",value:function(e){return this.imports.filter((function(t){return t.status===e}))}},{key:"searchFieldValue",value:function(){return this.refs.navigatorSearchBox.getValue()}},{key:"toggleTagSelected",value:function(e){var t=this.state.selectedTags,o=t.indexOf(e);-1===o?t.push(e):t.splice(t.indexOf(o),1),this.setState({selectedTags:t})}},{key:"render",value:function(){return a.a.createElement(_.a.LibNav,null,a.a.createElement(_.a.LibNav__header,null,a.a.createElement(_.a.LibNav__search,null,a.a.createElement(y.c,{ref:"navigatorSearchBox",placeholder:t("search library"),searchContext:this.state.searchContext})),a.a.createElement(y.d,{searchContext:this.state.searchContext}),a.a.createElement(y.a,{searchContext:this.state.searchContext}),a.a.createElement(y.b,{searchContext:this.state.searchContext})),a.a.createElement(_.a.LibNav__content,null,a.a.createElement(C,{searchContext:this.state.searchContext})),a.a.createElement(_.a.LibNav__footer,null))}}]),r}(m.a.Component);c()(j.prototype,m.a.connectFilter(f.a.assetSearch,"searchResults",j.prototype.filterSearchResults));var P=j;o.a=P;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(C,"AssetNavigatorListView","/srv/src/kpi/jsapp/js/editorMixins/assetNavigator.es6"),__REACT_HOT_LOADER__.register(j,"AssetNavigator","/srv/src/kpi/jsapp/js/editorMixins/assetNavigator.es6"),__REACT_HOT_LOADER__.register(P,"default","/srv/src/kpi/jsapp/js/editorMixins/assetNavigator.es6"))}).call(this,r(29))},function(e,o,r){"use strict";r.d(o,"a",(function(){return S}));var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(34),c=r(31),d=r(100),u=r(36),p=r(4),m=r(2),f=r(1),_=r(21);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=w(e);if(t){var n=w(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return v(this,o)}}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=[{value:"quality=low",label:"Low"},{value:"quality=normal",label:"Normal"},{value:"quality=voice-only",label:"Voice only"}],E=x[2],S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(v,e);var o,r,n,i=y(v);function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=i.call(this,e)).state={metaProperties:[]},l()(k(t)),t}return o=v,(r=[{key:"componentDidMount",value:function(){this.rebuildState()}},{key:"rebuildState",value:function(){var e=this,t={metaProperties:[]};Object.keys(m.META_QUESTION_TYPES).forEach((function(o){var r=e.getSurveyDetail(o);r&&t.metaProperties.push(Object(p.assign)({},r.attributes))})),this.setState(t)}},{key:"getMetaProperty",value:function(e){return this.state.metaProperties.find((function(t){return t.name===e}))}},{key:"getSurveyDetail",value:function(e){return this.props.survey.surveyDetails.filter((function(t){return t.attributes.name===e}))[0]}},{key:"onCheckboxChange",value:function(e,t){this.getSurveyDetail(e).set(m.SURVEY_DETAIL_ATTRIBUTES.value.id,t),t&&e===m.META_QUESTION_TYPES["background-audio"]&&this.getSurveyDetail(e).set(m.SURVEY_DETAIL_ATTRIBUTES.parameters.id,E.value),this.rebuildState(),h(this.props.onChange)===m.FUNCTION_TYPE.function.id&&this.props.onChange()}},{key:"onAuditParametersChange",value:function(e){this.getSurveyDetail(m.META_QUESTION_TYPES.audit).set(m.SURVEY_DETAIL_ATTRIBUTES.parameters.id,e),this.rebuildState(),h(this.props.onChange)===m.FUNCTION_TYPE.function.id&&this.props.onChange()}},{key:"isAuditEnabled",value:function(){return!0===this.getMetaProperty(m.META_QUESTION_TYPES.audit).value}},{key:"onBackgroundAudioParametersChange",value:function(e){this.getSurveyDetail(m.META_QUESTION_TYPES["background-audio"]).set(m.SURVEY_DETAIL_ATTRIBUTES.parameters.id,e.value),this.rebuildState(),h(this.props.onChange)===m.FUNCTION_TYPE.function.id&&this.props.onChange()}},{key:"isBackgroundAudioEnabled",value:function(){return!0===this.getMetaProperty(m.META_QUESTION_TYPES["background-audio"]).value}},{key:"getBackgroundAudioParameters",value:function(){var e=this.getMetaProperty(m.META_QUESTION_TYPES["background-audio"]),t=E;return e.parameters&&(t=x.find((function(t){return t.value===e.parameters}))),t}},{key:"getAuditParameters",value:function(){return this.getMetaProperty(m.META_QUESTION_TYPES.audit).parameters}},{key:"renderAuditInputLabel",value:function(){return a.a.createElement(a.a.Fragment,null,t("Audit settings"),_.a.isReady&&_.a.data.support_url&&a.a.createElement(f.a.TextBox__labelLink,{href:_.a.data.support_url+"audit_logging.html",target:"_blank"},a.a.createElement("i",{className:"k-icon k-icon-help"})))}},{key:"renderBackgroundAudioLabel",value:function(){return a.a.createElement(a.a.Fragment,null,t("Background audio"),_.a.isReady&&_.a.data.support_url&&a.a.createElement(f.a.TextBox__labelLink,{href:_.a.data.support_url+"recording-interviews.html",target:"_blank"},a.a.createElement("i",{className:"k-icon k-icon-help"})))}},{key:"render",value:function(){var e=this;if(0===this.state.metaProperties.length)return null;var o=[m.META_QUESTION_TYPES.start,m.META_QUESTION_TYPES.end,m.META_QUESTION_TYPES.today,m.META_QUESTION_TYPES.deviceid,m.META_QUESTION_TYPES.audit],r=[m.META_QUESTION_TYPES.username,m.META_QUESTION_TYPES.simserial,m.META_QUESTION_TYPES.subscriberid,m.META_QUESTION_TYPES.phonenumber],n=this.getMetaProperty(m.META_QUESTION_TYPES["background-audio"]);return a.a.createElement(f.a.FormBuilderMeta,null,a.a.createElement(f.a.FormBuilderMeta__columns,null,a.a.createElement(f.a.FormBuilderMeta__column,null,o.map((function(t){var o=e.getMetaProperty(t);return a.a.createElement(s.a,{key:"meta-".concat(o.name),label:o.label,checked:o.value,disabled:e.props.isDisabled,onChange:e.onCheckboxChange.bind(e,o.name)})}))),a.a.createElement(f.a.FormBuilderMeta__column,null,r.map((function(t){var o=e.getMetaProperty(t);return a.a.createElement(s.a,{key:"meta-".concat(o.name),label:o.label,checked:o.value,disabled:e.props.isDisabled,onChange:e.onCheckboxChange.bind(e,o.name)})})))),a.a.createElement(f.a.FormBuilderMeta__row,{m:"background-audio"},a.a.createElement(f.a.FormBuilderAside__header,null,this.renderBackgroundAudioLabel()),a.a.createElement(f.a.FormModal__item,null,a.a.createElement("label",{className:"long"},t("This functionality is available in "),a.a.createElement("a",{title:"Install KoBoCollect",target:"_blank",href:"https://play.google.com/store/apps/details?id=org.koboc.collect.android"},t("Collect version 1.30 and above"))),a.a.createElement(d.a,{checked:n.value,onChange:this.onCheckboxChange.bind(this,n.name),label:n.value?t("This survey will be recorded"):t("Enable audio recording in the background")}))),this.isAuditEnabled()&&a.a.createElement(f.a.FormBuilderMeta__row,null,a.a.createElement(c.a,{label:this.renderAuditInputLabel(),value:this.getAuditParameters(),disabled:this.props.isDisabled,onChange:this.onAuditParametersChange})),this.isBackgroundAudioEnabled()&&a.a.createElement(f.a.FormBuilderMeta__row,null,a.a.createElement(f.a.FormModal__item,null,a.a.createElement("label",null,t("Audio quality")),a.a.createElement(u.a,{className:"kobo-select",classNamePrefix:"kobo-select",value:this.getBackgroundAudioParameters(),defaultValue:E,options:x,onChange:this.onBackgroundAudioParametersChange}))))}}])&&b(o.prototype,r),n&&b(o,n),v}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("audit_logging.html","AUDIT_SUPPORT_URL","/srv/src/kpi/jsapp/js/components/metadataEditor.es6"),__REACT_HOT_LOADER__.register("recording-interviews.html","RECORDING_SUPPORT_URL","/srv/src/kpi/jsapp/js/components/metadataEditor.es6"),__REACT_HOT_LOADER__.register(x,"AUDIO_QUALITY_OPTIONS","/srv/src/kpi/jsapp/js/components/metadataEditor.es6"),__REACT_HOT_LOADER__.register(E,"ODK_DEFAULT_AUDIO_QUALITY","/srv/src/kpi/jsapp/js/components/metadataEditor.es6"),__REACT_HOT_LOADER__.register(S,"MetadataEditor","/srv/src/kpi/jsapp/js/components/metadataEditor.es6"))},function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(1),c=r(2),d=r(22);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=b(e);if(t){var n=b(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _(this,o)}}function _(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var o,r,n,i=f(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={isOpen:!1},l()(h(t)),t}return o=u,(r=[{key:"toggleMoreInfo",value:function(e){e.preventDefault(),this.setState({isOpen:!this.state.isOpen})}},{key:"getMessageText",value:function(){var e=Object(d.isAssetAllLocked)(this.props.asset.content);return this.props.asset.asset_type===c.ASSET_TYPES.template.id?e?t("This is a fully locked template. Go to question settings to see specific restrictions."):t("This is a partially locked template. Go to question settings to see specific restrictions. Expand this notification to see form level restrictions."):e?t("This form was created using a fully locked template. This means no edits were permitted by the template creator."):t("This form was created using a partially locked template. Go to question settings to see specific restrictions. Expand this notification to see form level restrictions.")}},{key:"renderSeeMore",value:function(){var e=Object(d.getFormFeatures)(this.props.asset.content);return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a.FormBuilderMessageBox__toggle,{onClick:this.toggleMoreInfo},t("see more"),this.state.isOpen&&a.a.createElement("i",{className:"k-icon k-icon-up"}),!this.state.isOpen&&a.a.createElement("i",{className:"k-icon k-icon-down"})),this.state.isOpen&&a.a.createElement(s.a.FormBuilderMessageBox__details,null,a.a.createElement("div",{className:"locked-features"},e.cants.length>=1&&a.a.createElement("ul",{className:"locked-features__list locked-features__list--cants"},a.a.createElement("label",null,t("Locked functionalities")),e.cants.map((function(e){return a.a.createElement("li",{key:e.name},a.a.createElement("i",{className:"k-icon k-icon-close"}),e.label)}))),e.cans.length>=1&&a.a.createElement("ul",{className:"locked-features__list locked-features__list--cans"},a.a.createElement("label",null,t("Unlocked functionalities")),e.cans.map((function(e){return a.a.createElement("li",{key:e.name},a.a.createElement("i",{className:"k-icon k-icon-check"}),e.label)}))))))}},{key:"render",value:function(){if(!Object(d.isAssetLocked)(this.props.asset.content))return null;var e=Object(d.isAssetAllLocked)(this.props.asset.content);return a.a.createElement(s.a.FormBuilderMessageBox,null,a.a.createElement("i",{className:"k-icon k-icon-lock"}),a.a.createElement("p",null,this.getMessageText()),!e&&this.renderSeeMore())}}])&&p(o.prototype,r),n&&p(o,n),u}(a.a.Component),y=g;o.a=y;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"FormLockedMessage","/srv/src/kpi/jsapp/js/components/locking/formLockedMessage.es6"),__REACT_HOT_LOADER__.register(y,"default","/srv/src/kpi/jsapp/js/components/locking/formLockedMessage.es6"))},,function(e,o,r){"use strict";(function(e){var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(8),c=r.n(s),d=r(12),u=r.n(d),p=r(169),m=r(34),f=r(3),_=r(1),h=r(25),b=r(6),g=r(18),y=r(331),v=r(332),k=r(461),w=r(2),x=r(4),E=r(13),S=r(64),O=r(462),T=r(463),R=r(388),A=r(477),C=r(16),j=r(135),P=r(39),L=(r(614),r(464));function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=H(e);if(t){var n=H(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return F(this,o)}}function F(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(c,o);var r,n,i,s=I(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).state={isInitialized:!1,loading:!0,submissions:[],columns:[],sids:[],isFullscreen:!1,pageSize:30,currentPage:0,error:!1,showLabels:!0,translationIndex:0,showGroupName:!0,showHXLTags:!1,resultsTotal:0,selectedRows:{},selectAll:!1,fetchState:!1,submissionPager:!1},t.unlisteners=[],t.tableScrollTop=0,l()(U(t)),t}return r=c,(n=[{key:"componentDidMount",value:function(){this.unlisteners.push(P.a.listen(this.onTableStoreChange),b.a.pageState.listen(this.onPageStateUpdated),f.a.resources.updateSubmissionValidationStatus.completed.listen(this.onSubmissionValidationStatusChange),f.a.resources.removeSubmissionValidationStatus.completed.listen(this.onSubmissionValidationStatusChange),f.a.table.updateSettings.completed.listen(this.onTableUpdateSettingsCompleted),f.a.resources.deleteSubmission.completed.listen(this.refreshSubmissions),f.a.resources.duplicateSubmission.completed.listen(this.onDuplicateSubmissionCompleted),f.a.resources.refreshTableSubmissions.completed.listen(this.refreshSubmissions),f.a.submissions.getSubmissions.completed.listen(this.onGetSubmissionsCompleted),f.a.submissions.getSubmissions.failed.listen(this.onGetSubmissionsFailed),f.a.submissions.bulkDeleteStatus.completed.listen(this.onBulkChangeCompleted),f.a.submissions.bulkPatchStatus.completed.listen(this.onBulkChangeCompleted),f.a.submissions.bulkPatchValues.completed.listen(this.onBulkChangeCompleted),f.a.submissions.bulkDelete.completed.listen(this.onBulkChangeCompleted)),b.a.allAssets.whenLoaded(this.props.asset.uid,this.whenLoaded)}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"whenLoaded",value:function(){this.setState({isInitialized:!0})}},{key:"componentDidUpdate",value:function(e){var t=e.asset.settings[C.b];t||(t={});var o=this.props.asset.settings[C.b];o||(o={}),JSON.stringify(o[C.c.SORT_BY])!==JSON.stringify(t[C.c.SORT_BY])?this.refreshSubmissions():JSON.stringify(o)!==JSON.stringify(t)&&this._prepColumns(this.state.submissions)}},{key:"fetchSubmissions",value:function(e){var t=e.state.pageSize,o=e.state.page*e.state.pageSize,r=e.state.filtered,n="",a=[];r.length&&(n="&query={",r.forEach((function(e,t){"_id"===e.id?n+='"'.concat(e.id,'":{"$in":[').concat(e.value,"]}"):e.id===C.i?e.value===w.VALIDATION_STATUSES.no_status.value?n+='"'.concat(e.id,'":null'):n+='"'.concat(e.id,'":"').concat(e.value,'"'):n+='"'.concat(e.id,'":{"$regex":"').concat(e.value,'","$options":"i"}'),t<r.length-1&&(n+=",")})),n+="}");var i=P.a.getSortBy();null!==i&&a.push({id:i.fieldId,desc:i.value===C.f.DESCENDING}),f.a.submissions.getSubmissions({uid:this.props.asset.uid,pageSize:t,page:o,sort:a,fields:[],filter:n})}},{key:"onGetSubmissionsCompleted",value:function(e,o){var r=e.results;r&&r.length>0?("next"===this.state.submissionPager&&this.submissionModalProcessing(r[0]._id,r),"prev"===this.state.submissionPager&&this.submissionModalProcessing(r[r.length-1]._id,r),this.setState({loading:!1,selectedRows:{},selectAll:!1,submissions:r,submissionPager:!1,resultsTotal:e.count}),this._prepColumns(r)):o.filter.length?this.setState({loading:!1,selectedRows:{},submissions:r,resultsTotal:0}):this.setState({error:t("This project has no submitted data. Please collect some and try again."),loading:!1})}},{key:"onGetSubmissionsFailed",value:function(e){(null==e?void 0:e.responseText)?this.setState({error:e.responseText,loading:!1}):(null==e?void 0:e.statusText)?this.setState({error:e.statusText,loading:!1}):this.setState({error:t("Error: could not load data."),loading:!1})}},{key:"getValidationStatusOption",value:function(e){return e._validation_status&&e._validation_status.uid?w.VALIDATION_STATUSES[e._validation_status.uid]:w.VALIDATION_STATUSES.no_status}},{key:"onValidationStatusChange",value:function(e,t,o){null===o.value?f.a.resources.removeSubmissionValidationStatus(this.props.asset.uid,e):f.a.resources.updateSubmissionValidationStatus(this.props.asset.uid,e,{"validation_status.uid":o.value})}},{key:"onFieldSortChange",value:function(e,t){P.a.setSortBy(e,t)}},{key:"onHideField",value:function(e){P.a.hideField(this.state.submissions,e)}},{key:"onFieldFrozenChange",value:function(e,t){P.a.setFrozenColumn(e,t)}},{key:"_getColumnWidth",value:function(e){return C.a[e]||C.d}},{key:"_getColumnSubmissionActions",value:function(e){var o=this,r=this.props.asset.deployment__active&&(this.userCan(w.PERMISSIONS_CODENAMES.change_submissions,this.props.asset)||this.userCanPartially(w.PERMISSIONS_CODENAMES.change_submissions,this.props.asset)),n=this.userCan(w.PERMISSIONS_CODENAMES.validate_submissions,this.props.asset)||this.userCan(w.PERMISSIONS_CODENAMES.delete_submissions,this.props.asset)||this.userCan(w.PERMISSIONS_CODENAMES.change_submissions,this.props.asset)||this.userCanPartially(w.PERMISSIONS_CODENAMES.validate_submissions,this.props.asset)||this.userCanPartially(w.PERMISSIONS_CODENAMES.delete_submissions,this.props.asset)||this.userCanPartially(w.PERMISSIONS_CODENAMES.change_submissions,this.props.asset);if(this.userCan(w.PERMISSIONS_CODENAMES.validate_submissions,this.props.asset)||this.userCan(w.PERMISSIONS_CODENAMES.delete_submissions,this.props.asset)||this.userCan(w.PERMISSIONS_CODENAMES.change_submissions,this.props.asset)||this.userCan(w.PERMISSIONS_CODENAMES.view_submissions,this.props.asset)||this.userCanPartially(w.PERMISSIONS_CODENAMES.validate_submissions,this.props.asset)||this.userCanPartially(w.PERMISSIONS_CODENAMES.delete_submissions,this.props.asset)||this.userCanPartially(w.PERMISSIONS_CODENAMES.change_submissions,this.props.asset)||this.userCanPartially(w.PERMISSIONS_CODENAMES.view_submissions,this.props.asset)){var i=0===this.state.resultsTotal?0:this.state.currentPage*this.state.pageSize+1,l=Math.min((this.state.currentPage+1)*this.state.pageSize,this.state.resultsTotal),s=100;this.state.resultsTotal>=1e5&&(s+=20);var c=["rt-sub-actions","is-frozen"];return P.a.getFrozenColumn()||c.push("is-last-frozen"),{Header:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"table-header-results"},i," - ",l,a.a.createElement("br",null),a.a.createElement("strong",null,o.state.resultsTotal," ",t("results"))))},accessor:"sub-actions",index:"__0",id:C.g,width:s,filterable:!0,sortable:!1,resizable:!1,headerClassName:c.join(" "),className:c.join(" "),Filter:function(){return n?a.a.createElement(T.a,{visibleRowsCount:e,selectedRowsCount:Object.keys(o.state.selectedRows).length,totalRowsCount:o.state.resultsTotal,onSelectAllPages:o.bulkSelectAll,onSelectCurrentPage:o.bulkSelectAllRows.bind(o,!0),onClearSelection:o.bulkClearSelection}):null},Cell:function(e){return a.a.createElement("div",{className:"table-submission-actions"},n&&a.a.createElement(m.a,{checked:!!o.state.selectedRows[e.original._id],onChange:o.bulkUpdateChange.bind(o,e.original._id),disabled:!(o.isSubmissionWritable("change_submissions",o.props.asset,e.original)||o.isSubmissionWritable("delete_submissions",o.props.asset,e.original)||o.isSubmissionWritable("validate_submissions",o.props.asset,e.original))}),a.a.createElement("button",{onClick:o.launchSubmissionModal.bind(o,e),"data-sid":e.original._id,className:"table-link","data-tip":t("Open")},a.a.createElement("i",{className:"k-icon k-icon-view"})),r&&o.isSubmissionWritable("change_submissions",o.props.asset,e.original)&&a.a.createElement("button",{onClick:o.launchEditSubmission.bind(o),"data-sid":e.original._id,className:"table-link","data-tip":t("Edit")},a.a.createElement("i",{className:"k-icon k-icon-edit"})))}}}}},{key:"_getColumnValidation",value:function(){var e=this,o=["rt-status"];return null!==P.a.getFieldSortValue(C.i)&&o.push("is-sorted"),{Header:function(){return a.a.createElement("div",{className:"column-header-wrapper"},a.a.createElement(R.a,{asset:e.props.asset,fieldId:C.i,sortValue:P.a.getFieldSortValue(C.i),onSortChange:e.onFieldSortChange,onHide:e.onHideField,isFieldFrozen:P.a.isFieldFrozen(C.i),onFrozenChange:e.onFieldFrozenChange,additionalTriggerContent:a.a.createElement("span",{className:"column-header-title"},t("Validation"))}))},sortable:!1,accessor:C.i,index:"__2",id:C.i,width:this._getColumnWidth(C.i),className:o.join(" "),headerClassName:o.join(" "),Filter:function(e){var t=e.filter,o=e.onChange,r=w.VALIDATION_STATUSES_LIST.find((function(e){return e.value===(null==t?void 0:t.value)}));return r||(r=v.a),a.a.createElement(v.b,{onChange:function(e){o(e.value)},currentValue:r,isForHeaderFilter:!0})},Cell:function(t){return a.a.createElement(v.b,{onChange:e.onValidationStatusChange.bind(e,t.original._id,t.index),currentValue:e.getValidationStatusOption(t.original),isDisabled:!e.isSubmissionWritable(w.PERMISSIONS_CODENAMES.validate_submissions,e.props.asset,t.original)})}}}},{key:"_prepColumns",value:function(e){var o=this,r=P.a.getAllColumns(e),n=this.state.showLabels,i=this.state.showGroupName,l=this.state.showHXLTags,s=this.state.translationIndex,c=Math.min(this.state.pageSize,this.state.submissions.length),d=P.a.getTableSettings();void 0!==d[C.c.TRANSLATION]&&(s=d[C.c.TRANSLATION],n=s>-1),void 0!==d[C.c.SHOW_GROUP]&&(i=d[C.c.SHOW_GROUP]),void 0!==d[C.c.SHOW_HXL]&&(l=d[C.c.SHOW_HXL]);var u=[],p=this._getColumnSubmissionActions(c);p&&u.push(p);var m=this._getColumnValidation();m&&u.push(m);var f=this.props.asset.content.survey,_=this.props.asset.content.choices;r.forEach((function(e){var t;if(e.includes("/")){var r=e.split("/");t=f.find((function(e){return e.name===r[r.length-1]||e.$autoname===r[r.length-1]}))}else t=f.find((function(t){return t.name===e||t.$autoname===e}));if(t&&t.type===w.GROUP_TYPES_BEGIN.begin_repeat)return!1;var i="y_"+e,l=Object(j.a)(o.props.asset);switch(e){case w.META_QUESTION_TYPES.username:i="z1";break;case w.META_QUESTION_TYPES.simserial:i="z2";break;case w.META_QUESTION_TYPES.subscriberid:i="z3";break;case w.META_QUESTION_TYPES.deviceid:i="z4";break;case w.META_QUESTION_TYPES.phonenumber:i="z5";break;case w.META_QUESTION_TYPES.today:i="z6";break;case"__version__":case"_version_":i="z7";break;case w.ADDITIONAL_SUBMISSION_PROPS._id:i="z8";break;case w.ADDITIONAL_SUBMISSION_PROPS._uuid:i="z9";break;case w.ADDITIONAL_SUBMISSION_PROPS._submission_time:i="z91";break;case w.ADDITIONAL_SUBMISSION_PROPS._submitted_by:i="z92";break;case l:i="_1";break;default:f.map((function(t,o){var r=e;if(e.includes("/")){var n=r.split("/");r=n[n.length-1]}t.name!==r&&t.$autoname!==r||(i=o.toString())}))}var c=[];null!==P.a.getFieldSortValue(e)&&c.push("is-sorted");var d=null;t&&t.type&&(d=Object(E.o)(t.type)),u.push({Header:function(){var t=Object(j.c)(o.props.asset.content.survey,e,o.state.showGroupName,o.state.translationIndex),r=Object(j.b)(o.props.asset.content.survey,e);return a.a.createElement("div",{className:"column-header-wrapper"},a.a.createElement(R.a,{asset:o.props.asset,fieldId:e,sortValue:P.a.getFieldSortValue(e),onSortChange:o.onFieldSortChange,onHide:o.onHideField,isFieldFrozen:P.a.isFieldFrozen(e),onFrozenChange:o.onFieldFrozenChange,additionalTriggerContent:a.a.createElement("span",{className:"column-header-title",title:t},d,t)}),o.state.showHXLTags&&r&&a.a.createElement("span",{className:"column-header-hxl-tags",title:r},r))},id:e,accessor:function(t){return t[e]},index:i,question:t,filterable:!1,sortable:!1,className:c.join(" "),headerClassName:c.join(" "),width:o._getColumnWidth(e),Cell:function(r){if(n&&t&&t.type&&r.value){if(Object.keys(C.h).includes(t.type)){var i=null;return t.type!==w.QUESTION_TYPES.text.id&&(i=Object(S.b)(r.original,r.value)),a.a.createElement(L.a,{questionType:t.type,mediaAttachment:i,mediaName:r.value,submissionIndex:r.index+1,submissionTotal:o.state.submissions.length})}if(t.type===w.QUESTION_TYPES.select_one.id){var l=_.find((function(e){return e.list_name===t.select_from_list_name&&(e.name===r.value||e.$autoname===r.value)}));return(null==l?void 0:l.label)&&l.label[s]?a.a.createElement("span",{className:"trimmed-text"},l.label[s]):a.a.createElement("span",{className:"trimmed-text"},r.value)}if(t.type===w.QUESTION_TYPES.select_multiple.id&&r.value){var c=r.value.split(" "),d=[];return c.forEach((function(e){var o=_.find((function(o){return o.list_name===t.select_from_list_name&&(o.name===e||o.$autoname===e)}));o&&o.label&&o.label[s]&&d.push(o.label[s])})),a.a.createElement("span",{className:"trimmed-text"},d.join(", "))}if(t.type===w.META_QUESTION_TYPES.start||t.type===w.META_QUESTION_TYPES.end||t.type===w.ADDITIONAL_SUBMISSION_PROPS._submission_time)return a.a.createElement("span",{className:"trimmed-text"},Object(x.formatTimeDateShort)(r.value))}if("object"===D(r.value)||void 0===r.value){var u=Object(S.c)(r.original,e);return u?a.a.createElement("span",{className:"trimmed-text"},u.join(", ")):""}return a.a.createElement("span",{className:"trimmed-text"},r.value)}})})),u.sort((function(e,t){return e.index.localeCompare(t.index,"en",{numeric:!0})}));var h=P.a.getFrozenColumn(),b=[w.QUESTION_TYPES.text.id,w.QUESTION_TYPES.integer.id,w.QUESTION_TYPES.decimal.id,w.QUESTION_TYPES.select_multiple.id,w.QUESTION_TYPES.date.id,w.QUESTION_TYPES.time.id,w.QUESTION_TYPES.datetime.id,w.META_QUESTION_TYPES.start,w.META_QUESTION_TYPES.end,w.META_QUESTION_TYPES.username,w.META_QUESTION_TYPES.simserial,w.META_QUESTION_TYPES.subscriberid,w.META_QUESTION_TYPES.deviceid,w.META_QUESTION_TYPES.phonenumber,w.META_QUESTION_TYPES.today,w.META_QUESTION_TYPES["background-audio"]],g=["__version__",w.ADDITIONAL_SUBMISSION_PROPS._id,w.ADDITIONAL_SUBMISSION_PROPS._uuid,w.ADDITIONAL_SUBMISSION_PROPS._submission_time,w.ADDITIONAL_SUBMISSION_PROPS._submitted_by];u.forEach((function(e){e.question&&e.question.type===w.QUESTION_TYPES.select_one.id&&(e.filterable=!0,e.Filter=function(o){var r=o.filter,n=o.onChange;return a.a.createElement("select",{onChange:function(e){return n(e.target.value)},style:{width:"100%"},value:r?r.value:""},a.a.createElement("option",{value:""},t("Show All")),_.filter((function(t){return t.list_name===e.question.select_from_list_name})).map((function(e,t){var o=Object(E.h)(e,s);return a.a.createElement("option",{value:e.name,key:t},o)})))}),(e.question&&b.includes(e.question.type)||g.includes(e.id))&&(e.filterable=!0,e.Filter=function(e){var o=e.filter,r=e.onChange;return a.a.createElement(k.DebounceInput,{value:o?o.value:void 0,debounceTimeout:750,onChange:function(e){return r(e.target.value)},className:"table-filter-input",placeholder:t("Search")})}),h===e.id&&(e.className=e.className?"is-frozen is-last-frozen ".concat(e.className):"is-frozen is-last-frozen",e.headerClassName="is-frozen is-last-frozen")}));var y=P.a.getSelectedColumns();y&&(h&&!y.includes(h)&&y.unshift(h),u=u.filter((function(e){return e.id===C.g||!1!==y.includes(e.id)}))),this.setState({columns:u,translationIndex:s,showLabels:n,showGroupName:i,showHXLTags:l})}},{key:"toggleFullscreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"onSubmissionValidationStatusChange",value:function(e,t){if(t){var o=this.state.submissions.findIndex((function(e){return e._id===parseInt(t)}));if(void 0!==o&&this.state.submissions[o]){var r=this.state.submissions;r[o]._validation_status=e||{},this.setState({submissions:r}),this._prepColumns(r)}}}},{key:"refreshSubmissions",value:function(){this.fetchSubmissions(this.state.fetchInstance)}},{key:"onDuplicateSubmissionCompleted",value:function(e,t,o){this.fetchSubmissions(this.state.fetchInstance),this.submissionModalProcessing(t,this.state.submissions,!0,o)}},{key:"onTableStoreChange",value:function(e,t){b.a.pageState.hideModal(),JSON.stringify(e.overrides[C.c.SORT_BY])!==JSON.stringify(t.overrides[C.c.SORT_BY])?this.refreshSubmissions():JSON.stringify(e.overrides[C.b])!==JSON.stringify(t.overrides[C.b])&&this._prepColumns(this.state.submissions)}},{key:"onTableUpdateSettingsCompleted",value:function(){b.a.pageState.hideModal()}},{key:"fetchData",value:function(e,t){this.setState({loading:!0,pageSize:t.state.pageSize,currentPage:t.state.page,fetchState:e,fetchInstance:t}),this.fetchSubmissions(t)}},{key:"launchSubmissionModal",value:function(e){if(e&&e.original){var t=e.original._id,o=Object(j.a)(this.props.asset);if(o&&Object.keys(e.original).includes(o)){var r,n=null===(r=Object(S.b)(e.original,e.original[o]))||void 0===r?void 0:r.download_medium_url;this.submissionModalProcessing(t,this.state.submissions,!1,null,n)}else this.submissionModalProcessing(t,this.state.submissions)}}},{key:"submissionModalProcessing",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=[];t.forEach((function(e){a.push(e._id)})),b.a.pageState.showModal({type:w.MODAL_TYPES.SUBMISSION,sid:e,asset:this.props.asset,ids:a,isDuplicated:o,duplicatedSubmission:r,backgroundAudioUrl:n,tableInfo:{currentPage:this.state.currentPage,pageSize:this.state.pageSize,resultsTotal:this.state.resultsTotal}})}},{key:"showTableColumnsOptionsModal",value:function(){b.a.pageState.showModal({type:w.MODAL_TYPES.TABLE_SETTINGS,asset:this.props.asset})}},{key:"launchEditSubmission",value:function(e){p.a.openSubmission(this.props.asset.uid,e.currentTarget.dataset.sid,w.ENKETO_ACTIONS.edit)}},{key:"onPageStateUpdated",value:function(e){if(e.modal&&e.modal.type===w.MODAL_TYPES.SUBMISSION&&!e.modal.sid){var t=0,o=this.state.fetchInstance;"next"===e.modal.page&&(t=this.state.currentPage+1),"prev"===e.modal.page&&(t=this.state.currentPage-1),o.setState({page:t}),this.setState({fetchInstance:o,submissionPager:e.modal.page},(function(){this.fetchData(this.state.fetchState,this.state.fetchInstance)}))}}},{key:"bulkUpdateChange",value:function(e,t){var o=this.state.selectedRows;t?o[e]=!0:delete o[e],this.setState({selectedRows:o,selectAll:!1})}},{key:"bulkSelectAllRows",value:function(e){var t=this.state.selectedRows;this.state.submissions.forEach((function(o){e?t[o._id]=!0:delete t[o._id]})),Object.keys(t).length===this.state.resultsTotal?this.setState({selectedRows:t,selectAll:!0}):this.setState({selectedRows:t,selectAll:!1})}},{key:"onBulkChangeCompleted",value:function(){this.fetchData(this.state.fetchState,this.state.fetchInstance)}},{key:"bulkSelectAll",value:function(){var e=this.state.selectedRows;this.state.submissions.forEach((function(t){e[t._id]=!0})),this.setState({selectedRows:e,selectAll:!0})}},{key:"bulkClearSelection",value:function(){this.setState({selectAll:!1,selectedRows:{}})}},{key:"renderBulkSelectUI",value:function(){return!!this.state.submissions.length&&a.a.createElement(_.a.TableMeta,null,a.a.createElement(O.a,{asset:this.props.asset,data:this.state.submissions,pageSize:this.state.pageSize,totalRowsCount:this.state.resultsTotal,selectedRows:this.state.selectedRows,selectedAllPages:this.state.selectAll,fetchState:this.state.fetchState,onClearSelection:this.bulkClearSelection.bind(this)}))}},{key:"onTableScroll",value:function(t){if(this.tableScrollTop===t.target.scrollTop){var o=t.target.scrollLeft>0?t.target.scrollLeft:0,r=e(".ReactTable .rt-tr .is-frozen");o>=1?r.addClass("is-scrolled-horizontally"):r.removeClass("is-scrolled-horizontally"),r.css({left:o})}else this.tableScrollTop=t.target.scrollTop}},{key:"render",value:function(){var e=this;if(this.state.error)return a.a.createElement(_.a.uiPanel,null,a.a.createElement(_.a.uiPanel__body,null,a.a.createElement(_.a.Loading,null,a.a.createElement(_.a.Loading__inner,null,this.state.error))));if(!this.state.isInitialized)return a.a.createElement(h.a,null);var o=Math.floor((this.state.resultsTotal-1)/this.state.pageSize+1),r=["-highlight"];this.state.showHXLTags&&r.push("has-hxl-tags-visible");var n=["table"];return this.state.isFullscreen&&n.push("fullscreen"),a.a.createElement(_.a.FormView,{m:n},a.a.createElement(_.a.FormView__group,{m:["table-header",this.state.loading?"table-loading":"table-loaded"]},this.userCan(w.PERMISSIONS_CODENAMES.change_asset,this.props.asset)&&a.a.createElement(A.a,{asset:this.props.asset,submissions:this.state.submissions,showGroupName:this.state.showGroupName,translationIndex:this.state.translationIndex}),this.renderBulkSelectUI(),a.a.createElement(_.a.FormView__item,{m:"table-buttons"},a.a.createElement(_.a.Button,{m:"icon",className:"report-button__expand right-tooltip",onClick:this.toggleFullscreen,"data-tip":t("Toggle fullscreen")},a.a.createElement("i",{className:"k-icon k-icon-expand"})),a.a.createElement(_.a.Button,{m:"icon",className:"report-button__expand right-tooltip",onClick:this.showTableColumnsOptionsModal,"data-tip":t("Display options")},a.a.createElement("i",{className:"k-icon k-icon-settings"})))),a.a.createElement(y.a,{data:this.state.submissions,columns:this.state.columns,defaultPageSize:30,pageSizeOptions:[10,30,50,100,200,500],minRows:0,className:r.join(" "),pages:o,manual:!0,onFetchData:this.fetchData,loading:this.state.loading,previousText:a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"k-icon k-icon-caret-left"}),t("Prev")),nextText:a.a.createElement(a.a.Fragment,null,t("Next"),a.a.createElement("i",{className:"k-icon k-icon-caret-right"})),loadingText:a.a.createElement(h.a,null),noDataText:t("Your filters returned no submissions."),pageText:t("Page"),ofText:t("of"),rowsText:t("rows"),getTableProps:function(){return{onScroll:e.onTableScroll}},filterable:!0}))}}])&&N(r.prototype,n),i&&N(r,i),c}(a.a.Component);u()(B.prototype,c.a.ListenerMixin),u()(B.prototype,g.a.permissions);var V=B;o.a=V;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(30,"DEFAULT_PAGE_SIZE","/srv/src/kpi/jsapp/js/components/submissions/table.es6"),__REACT_HOT_LOADER__.register(B,"DataTable","/srv/src/kpi/jsapp/js/components/submissions/table.es6"),__REACT_HOT_LOADER__.register(V,"default","/srv/src/kpi/jsapp/js/components/submissions/table.es6"))}).call(this,r(29))},,function(e,o,r){"use strict";(function(e){var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(12),c=r.n(s),d=r(3),u=r(1),p=r(6),m=r(62),f=r(18),_=r(14),h=r.n(_),b=r(2),g=r(4);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=S(e);if(t){var n=S(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return x(this,o)}}function x(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(c,o);var r,n,i,s=w(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).currentDialog=null,l()(E(t)),t}return r=c,(n=[{key:"componentDidMount",value:function(){d.a.submissions.bulkDeleteStatus.completed.listen(this.closeCurrentDialog),d.a.submissions.bulkDeleteStatus.failed.listen(this.closeCurrentDialog),d.a.submissions.bulkPatchStatus.completed.listen(this.closeCurrentDialog),d.a.submissions.bulkPatchStatus.failed.listen(this.closeCurrentDialog),d.a.submissions.bulkDelete.completed.listen(this.closeCurrentDialog),d.a.submissions.bulkDelete.failed.listen(this.closeCurrentDialog)}},{key:"closeCurrentDialog",value:function(){null!==this.currentDialog&&(this.currentDialog.destroy(),this.currentDialog=null)}},{key:"onClearSelection",value:function(){this.props.onClearSelection()}},{key:"onUpdateStatus",value:function(e){var o,r=this,n={},a=null===e?d.a.submissions.bulkDeleteStatus:d.a.submissions.bulkPatchStatus;this.props.selectedAllPages?(this.props.fetchState.filtered.length?(n.query={},n["validation_status.uid"]=e,this.props.fetchState.filtered.map((function(e){n.query[e.id]=e.value}))):(n.confirm=!0,n["validation_status.uid"]=e),o=this.props.totalRowsCount):(n.submission_ids=Object.keys(this.props.selectedRows),n["validation_status.uid"]=e,o=n.submission_ids.length),this.closeCurrentDialog(),this.currentDialog=h.a.dialog("confirm");var i={title:t("Update status of selected submissions"),message:t("You have selected ## submissions. Are you sure you would like to update their status? This action is irreversible.").replace("##",o),labels:{ok:t("Update Validation Status"),cancel:t("Cancel")},onok:function(){return a(r.props.asset.uid,n),!1},oncancel:this.closeCurrentDialog};this.currentDialog.set(i).show()}},{key:"onDelete",value:function(){var o,r,n,a=this,i={};this.props.selectedAllPages?(this.props.fetchState.filtered.length?(i.query={},this.props.fetchState.filtered.map((function(e){i.query[e.id]=e.value}))):i.confirm=!0,o=this.props.totalRowsCount):(i.submission_ids=Object.keys(this.props.selectedRows),o=i.submission_ids.length),r=t("You are about to permanently delete ##count## submissions. It is not possible to recover deleted submissions.").replace("##count##",o),r="".concat(Object(g.renderCheckbox)("dt1",r)),this.closeCurrentDialog(),this.currentDialog=h.a.dialog("confirm"),n=function(){var t=a.currentDialog.elements.buttons.primary.firstChild,o=e(".alertify-toggle input");t.disabled=!0,o.each((function(){e(this).prop("checked",!1)})),o.change((function(){t.disabled=!1,o.each((function(){e(this).prop("checked")||(t.disabled=!0)}))}))};var l={title:t("Delete selected submissions"),message:r,labels:{ok:t("Delete selected"),cancel:t("Cancel")},onshow:n,onok:function(){return d.a.submissions.bulkDelete(a.props.asset.uid,i),!1},oncancel:this.closeCurrentDialog};this.currentDialog.set(l).show()}},{key:"onEdit",value:function(){p.a.pageState.showModal({type:b.MODAL_TYPES.BULK_EDIT_SUBMISSIONS,asset:this.props.asset,data:this.props.data,totalSubmissions:this.props.totalRowsCount,selectedSubmissions:Object.keys(this.props.selectedRows)})}},{key:"render",value:function(){var e=this,o=Object.keys(this.props.selectedRows).length;this.props.selectedAllPages&&(o=this.props.totalRowsCount);var r=t("##count## selected").replace("##count##",o),n=Math.min(this.props.pageSize,this.props.data.length),i=Object.keys(this.props.selectedRows).length===n&&this.props.totalRowsCount>this.props.pageSize;return a.a.createElement(u.a.TableMeta__bulkOptions,null,o>1&&a.a.createElement(u.a.KoboLightBadge,null,r,a.a.createElement("a",{className:"bulk-clear-badge-icon",onClick:this.onClearSelection},"Ã—")),o>1&&a.a.createElement("span",null,":"),Object.keys(this.props.selectedRows).length>0&&a.a.createElement(m.a,{type:"bulkUpdate-menu",triggerLabel:t("Change status")},(this.userCan(b.PERMISSIONS_CODENAMES.validate_submissions,this.props.asset)||this.userCanPartially(b.PERMISSIONS_CODENAMES.validate_submissions,this.props.asset))&&b.VALIDATION_STATUSES_LIST.map((function(o,r){return a.a.createElement(u.a.PopoverMenu__link,{onClick:e.onUpdateStatus.bind(e,o.value),key:r},t("Set status: ##status##").replace("##status##",o.label))}))),Object.keys(this.props.selectedRows).length>0&&(this.userCan(b.PERMISSIONS_CODENAMES.change_submissions,this.props.asset)||this.userCanPartially(b.PERMISSIONS_CODENAMES.change_submissions,this.props.asset))&&a.a.createElement(u.a.KoboLightButton,{m:"blue",onClick:this.onEdit,disabled:this.props.selectedAllPages&&i},a.a.createElement("i",{className:"k-icon k-icon-edit table-meta__additional-text"}),t("Edit")),Object.keys(this.props.selectedRows).length>0&&(this.userCan(b.PERMISSIONS_CODENAMES.delete_submissions,this.props.asset)||this.userCanPartially(b.PERMISSIONS_CODENAMES.delete_submissions,this.props.asset))&&a.a.createElement(u.a.KoboLightButton,{m:"red",onClick:this.onDelete},a.a.createElement("i",{className:"k-icon k-icon-trash table-meta__additional-text"}),t("Delete")))}}])&&v(r.prototype,n),i&&v(r,i),c}(a.a.Component);c()(O.prototype,f.a.permissions);var T=O;o.a=T;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"TableBulkOptions","/srv/src/kpi/jsapp/js/components/submissions/tableBulkOptions.es6"),__REACT_HOT_LOADER__.register(T,"default","/srv/src/kpi/jsapp/js/components/submissions/tableBulkOptions.es6"))}).call(this,r(29))},function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(1),c=r(62),d=r(34);r(607);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=b(e);if(t){var n=b(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _(this,o)}}function _(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var o,r,n,i=f(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),t=i.call(this,e),l()(h(t)),t}return o=u,(r=[{key:"onSelectAllPages",value:function(){this.props.onSelectAllPages()}},{key:"onSelectCurrentPage",value:function(){this.props.onSelectCurrentPage()}},{key:"onToggleCurrentPage",value:function(){this.props.selectedRowsCount===this.props.visibleRowsCount?this.onClearSelection():this.onSelectCurrentPage()}},{key:"onClearSelection",value:function(){this.props.onClearSelection()}},{key:"render",value:function(){return a.a.createElement("div",{className:"table-bulk-checkbox"},a.a.createElement(d.a,{checked:this.props.selectedRowsCount===this.props.visibleRowsCount,onChange:this.onToggleCurrentPage}),a.a.createElement(c.a,{type:"table-bulk-checkbox",triggerLabel:"",additionalModifiers:["right"]},a.a.createElement(s.a.PopoverMenu__link,{onClick:this.onSelectAllPages},t("Select all results (##count##)").replace("##count##",this.props.totalRowsCount)),a.a.createElement(s.a.PopoverMenu__link,{onClick:this.onSelectCurrentPage},t("Select visible results (##count##)").replace("##count##",this.props.visibleRowsCount)),a.a.createElement(s.a.PopoverMenu__link,{onClick:this.onClearSelection},t("None"))))}}])&&p(o.prototype,r),n&&p(o,n),u}(a.a.Component),y=g;o.a=y;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(g,"TableBulkCheckbox","/srv/src/kpi/jsapp/js/components/submissions/tableBulkCheckbox.es6"),__REACT_HOT_LOADER__.register(y,"default","/srv/src/kpi/jsapp/js/components/submissions/tableBulkCheckbox.es6"))},function(e,o,r){"use strict";var n=r(9),a=r.n(n),i=r(0),l=r.n(i),s=r(1),c=r(6),d=r(2),u=r(4);r(616);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=g(e);if(t){var n=g(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return h(this,o)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}s.a.TableMediaPreviewHeader=Object(s.b)(null,"table-media-preview-header"),s.a.TableMediaPreviewHeader__title=Object(s.b)(s.a.TableMediaPreviewHeader,"title","div"),s.a.TableMediaPreviewHeader__label=Object(s.b)(s.a.TableMediaPreviewHeader,"label","label"),s.a.TableMediaPreviewHeader__options=Object(s.b)(s.a.TableMediaPreviewHeader,"options","div"),s.a.MediaCell=Object(s.b)(null,"media-cell"),s.a.MediaCell__duration=Object(s.b)(s.a.MediaCell,"duration","label"),s.a.MediaCell__text=Object(s.b)(s.a.MediaCell,"text","div"),s.a.MediaCellIconWrapper=Object(s.b)(null,"icon-wrapper"),s.a.MediaCellIconWrapper__icon=Object(s.b)(s.a.MediaCellIconWrapper,"icon","i");var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(p,e);var o,r,n,i=_(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),t=i.call(this,e),a()(b(t)),t.questionIcon=t.getQuestionIcon(),t}return o=p,(r=[{key:"getQuestionIcon",value:function(){var e=["k-icon"];switch(this.props.questionType){case d.QUESTION_TYPES.image.id:e.push("k-icon-qt-photo");break;case d.QUESTION_TYPES.audio.id:case d.META_QUESTION_TYPES["background-audio"]:e.push("k-icon-qt-audio");break;case d.QUESTION_TYPES.video.id:e.push("k-icon-qt-video");break;case d.QUESTION_TYPES.text.id:e.push("k-icon-expand-arrow");break;default:e.push("k-icon-media-files")}return e.join(" ")}},{key:"launchMediaModal",value:function(e){var t;e.preventDefault(),c.a.pageState.showModal({type:d.MODAL_TYPES.TABLE_MEDIA_PREVIEW,questionType:this.props.questionType,mediaAttachment:this.props.mediaAttachment,mediaName:this.props.mediaName,customModalHeader:this.renderMediaModalCustomHeader(this.questionIcon,null===(t=this.props.mediaAttachment)||void 0===t?void 0:t.download_url,this.props.mediaName,this.props.submissionIndex,this.props.submissionTotal)})}},{key:"renderMediaModalCustomHeader",value:function(e,o,r,n,a){var i=null;return i=o?Object(u.truncateString)(r,30):t("Submission ##submissionIndex## of ##submissionTotal##").replace("##submissionIndex##",n).replace("##submissionTotal##",a),l.a.createElement(s.a.TableMediaPreviewHeader,null,l.a.createElement(s.a.TableMediaPreviewHeader__title,null,l.a.createElement("i",{className:e}),l.a.createElement(s.a.TableMediaPreviewHeader__label,{title:r},i)),l.a.createElement(s.a.TableMediaPreviewHeader__options,null,this.props.mediaURL&&l.a.createElement("a",{className:"kobo-light-button kobo-light-button--blue",target:"_blank",href:o},t("download"),l.a.createElement("i",{className:"k-icon k-icon-download"}))))}},{key:"render",value:function(){var e=!this.props.mediaAttachment;return l.a.createElement(s.a.MediaCell,{m:e?"text":""},e&&l.a.createElement(s.a.MediaCell__text,{className:"trimmed-text"},this.props.mediaName),l.a.createElement(s.a.MediaCellIconWrapper,null,l.a.createElement(s.a.MediaCellIconWrapper__icon,{className:this.questionIcon,onClick:this.launchMediaModal.bind(this)})))}}])&&m(o.prototype,r),n&&m(o,n),p}(l.a.Component),v=y;o.a=v;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(y,"MediaCell","/srv/src/kpi/jsapp/js/components/submissions/mediaCell.es6"),__REACT_HOT_LOADER__.register(v,"default","/srv/src/kpi/jsapp/js/components/submissions/mediaCell.es6"))},,function(e,o,r){"use strict";(function(e){var n=r(0),a=r.n(n),i=r(12),l=r.n(i),s=r(8),c=r.n(s),d=r(1),u=r(48),p=r(9),m=r.n(p),f=r(3),_=r(18),h=r(77),b=r(14),g=r.n(b),y=r(2),v=r(7);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,o){return t&&x(e.prototype,t),o&&x(e,o),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=C(e);if(t){var n=C(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return R(this,o)}}function R(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=["a","b","c","d","e"],P=new Map([["colors",{id:"colors",label:t("Marker Colors")}],["querylimit",{id:"querylimit",label:t("Query Limit")}],["geoquestion",{id:"geoquestion",label:t("Geopoint question")}],["overlays",{id:"overlays",label:t("Overlays")}]]),L=function(e){S(r,e);var o=T(r);function r(e){var t;return w(this,r),t=o.call(this,e),m()(A(t)),t.state={selected:e.mapSettings.colorSet?e.mapSettings.colorSet:"a"},t}return E(r,[{key:"onChange",value:function(e){this.props.onChange(e.currentTarget.value),this.setState({selected:e.currentTarget.value})}},{key:"defaultValue",value:function(e){return this.state.selected===e}},{key:"colorRows",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=[],r=1;r<t;r++)o.push(a.a.createElement("span",{key:r,className:"map-marker map-marker-".concat(e).concat(r)}));return o}},{key:"render",value:function(){var e=j.map((function(e,o){var r=10,n=!1;return"a"===e&&(r=16),"a"===e&&(n=t("Best for qualitative data")),"b"===e&&(n=t("Best for sequential data")),"d"===e&&(n=t("Best for diverging data")),a.a.createElement(d.a.FormModal__item,{m:"map-color-item",key:o},n&&a.a.createElement("label",null,n),a.a.createElement(d.a.GraphSettings__radio,null,a.a.createElement("input",{type:"radio",name:"chart_colors",value:e,checked:this.defaultValue(e),onChange:this.onChange,id:"c-"+o}),a.a.createElement("label",{htmlFor:"c-"+o},this.colorRows(e,r))))}),this);return a.a.createElement(d.a.GraphSettings__colors,null,e)}}]),r}(a.a.Component),D=function(o){S(n,o);var r=T(n);function n(e){var t;w(this,n),t=r.call(this,e),m()(A(t));var o=[];e.asset.content.survey.forEach((function(e){e.type&&"geopoint"===e.type&&o.push({value:e.name||e.$autoname,label:e.label[0]})}));var a=e.asset.deployment__submission_count,i=P.get("colors").id;a>1e3?i=P.get("querylimit").id:o.length>1?i=P.get("geoquestion").id:t.userCan("change_asset",t.props.asset)&&(i=P.get("overlays").id);var l=Object.assign({},t.props.asset.map_styles);return t.props.overridenStyles&&Object.assign(l,t.props.overridenStyles),t.state={activeModalTab:i,geoQuestions:o,mapSettings:l,files:[],layerName:"",queryCount:a},t}return E(n,[{key:"componentDidMount",value:function(){f.a.resources.getAssetFiles(this.props.asset.uid,y.ASSET_FILE_TYPES.map_layer.id),this.listenTo(f.a.resources.getAssetFiles.completed,this.updateFileList)}},{key:"switchTab",value:function(e){this.setState({activeModalTab:e.target.getAttribute("data-tabid")})}},{key:"resetMapSettings",value:function(){this.saveMapSettings({})}},{key:"onSave",value:function(){this.saveMapSettings(this.state.mapSettings)}},{key:"saveMapSettings",value:function(e){var t=this.props.asset.uid;this.userCan("change_asset",this.props.asset)?f.a.map.setMapStyles(t,e):this.props.overrideStyles(e),this.props.toggleMapSettings()}},{key:"onGeoPointQuestionChange",value:function(e){var t=this.state.mapSettings;t.selectedQuestion=e.target.value,this.setState({mapSettings:t})}},{key:"onQueryLimitChange",value:function(e){var t=this.state.mapSettings;t.querylimit=e.target.value,this.setState({mapSettings:t})}},{key:"onColorChange",value:function(e){var t=this.state.mapSettings;t.colorSet=e,this.setState({mapSettings:t})}},{key:"onLayerNameChange",value:function(e){this.setState({layerName:e.target.value})}},{key:"updateFileList",value:function(e){e.results&&this.setState({files:e.results})}},{key:"dropFiles",value:function(e,o){var r=this,n=this.props.asset.uid,a=this,i=this.state.layerName;if(!i)return g.a.error(t("Please add a name for your layer file.")),!1;e.map((function(e){var o={type:e.name.split(".").pop(),size:e.size},l={content:e,description:i,file_type:"map_layer",metadata:JSON.stringify(o)};v.a.uploadAssetFile(n,l).done((function(){a.setState({layerName:""}),f.a.resources.getAssetFiles(r.props.asset.uid,"map_layer")})).fail((function(e){var o=t("Upload error: ##error_message##.").replace("##error_message##",e.statusText);g.a.error(o)}))})),o.map((function(){var e=t("Upload error: not a valid map overlay format.");g.a.error(e)}))}},{key:"deleteFile",value:function(o){var r=this,n=e(o.target).closest("[data-uid]").get(0).getAttribute("data-uid"),a=g.a.dialog("confirm"),i={title:t("Delete File"),message:t("Are you sure you want to delete this file? <br/><br/><strong>This action cannot be undone.</strong>"),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){v.a.deleteAssetFile(r.props.asset.uid,n).done((function(){f.a.resources.getAssetFiles(r.props.asset.uid,"map_layer"),a.destroy()}))},oncancel:function(){a.destroy()}};a.set(i).show()}},{key:"render",value:function(){var e=this,o=this.props.asset,r=this.state.geoQuestions,n=this.state.activeModalTab,i=this.state.mapSettings.querylimit||y.QUERY_LIMIT_DEFAULT,l=this.state.queryCount,s=[P.get("colors").id];this.userCan("change_asset",o)&&s.unshift(P.get("overlays").id),r.length>1&&s.unshift(P.get("geoquestion").id),l>1e3&&s.unshift(P.get("querylimit").id);var c=s.map((function(e,t){return a.a.createElement("button",{className:"mdl-button mdl-button--tab ".concat(this.state.activeModalTab===e?"active":""),onClick:this.switchTab,"data-tabid":e,key:t},P.get(e).label)}),this);return a.a.createElement(d.a.GraphSettings,null,a.a.createElement(u.a.Tabs,null,c),a.a.createElement(u.a.Body,null,a.a.createElement("div",{className:"tabs-content map-settings"},n===P.get("geoquestion").id&&a.a.createElement("div",{className:"map-settings__GeoQuestions"},a.a.createElement("p",null,t("Choose the Geopoint question you would like to display on the map:")),r.map((function(t,o){return a.a.createElement("label",{htmlFor:"GeopointQuestion-"+o,key:o},a.a.createElement("input",{type:"radio",name:"trnsltn",value:t.value,onChange:e.onGeoPointQuestionChange,checked:e.state.mapSettings.selectedQuestion===t.value,id:"GeopointQuestion-"+o}),t.label)}))),n===P.get("overlays").id&&a.a.createElement("div",{className:"map-settings__overlay"},this.state.files.length>0&&a.a.createElement(d.a.FormModal__item,{m:"list-files"},a.a.createElement("label",null,t("Uploaded layers")),this.state.files.map((function(o,r){return a.a.createElement("div",{className:"list-file-row",key:r},a.a.createElement("span",{className:"file-type"},o.metadata.type),a.a.createElement("span",{className:"file-layer-name"},o.description),a.a.createElement("span",{className:"file-delete",onClick:e.deleteFile,"data-tip":t("Delete layer"),"data-uid":o.uid},a.a.createElement("i",{className:"k-icon k-icon-trash"})))}))),a.a.createElement(d.a.FormModal__item,{m:"layer-upload"},a.a.createElement("label",{htmlFor:"name"},t("Use the form below to upload files with map data in one of these formats: CSV, KML, KMZ, WKT or GEOJSON. The data will be made available as layers for display on the map.")),a.a.createElement("input",{type:"text",id:"name",placeholder:t("Layer name"),value:this.state.layerName,onChange:this.onLayerNameChange}),a.a.createElement(h.a,{onDrop:this.dropFiles,multiple:!1,className:"dropzone",accept:".csv,.kml,.geojson,.wkt,.json,.kmz"},a.a.createElement(d.a.KoboButton,{m:"blue"},t("Upload"))))),n===P.get("colors").id&&a.a.createElement(d.a.FormModal__item,null,a.a.createElement("div",{className:"map-settings__colors"},t("Choose the color set for the disaggregated map markers."),a.a.createElement(L,{onChange:this.onColorChange,mapSettings:this.state.mapSettings}))),n===P.get("querylimit").id&&a.a.createElement(d.a.FormModal__item,null,a.a.createElement("div",{className:"map-settings__querylimit"},t("By default the map is limited to the ##QUERY_LIMIT_DEFAULT## most recent submissions. You can temporarily increase this limit to a different value. Note that this is reset whenever you reopen the map.").replace("##QUERY_LIMIT_DEFAULT##",y.QUERY_LIMIT_DEFAULT),a.a.createElement("p",{className:"change-limit-warning"},"Warning: Displaying a large number of points requires a lot of memory."),a.a.createElement("form",null,a.a.createElement("input",{id:"limit-slider",className:"change-limit-slider",type:"range",step:1e3,min:1e3,max:3e4,value:i,onChange:this.onQueryLimitChange}),a.a.createElement("output",{id:"limit-slider-value",className:"change-limit-slider-value",htmlFor:"limit-slider"},i)))))),[P.get("geoquestion").id,P.get("colors").id,P.get("querylimit").id].includes(n)&&a.a.createElement(d.a.Modal__footer,null,this.userCan("change_asset",this.props.asset)&&i!==y.QUERY_LIMIT_DEFAULT&&a.a.createElement(d.a.KoboButton,{m:"whitegray",onClick:this.resetMapSettings},t("Reset")),a.a.createElement(d.a.KoboButton,{m:"blue",onClick:this.onSave},t("Save"))))}}]),n}(a.a.Component);l()(D.prototype,c.a.ListenerMixin),l()(D.prototype,_.a.permissions);var N=D;o.a=N;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(j,"COLOR_SETS","/srv/src/kpi/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(1e3,"QUERY_LIMIT_MINIMUM","/srv/src/kpi/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(3e4,"QUERY_LIMIT_MAXIMUM","/srv/src/kpi/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(P,"TABS","/srv/src/kpi/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(L,"MapColorPicker","/srv/src/kpi/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(D,"MapSettings","/srv/src/kpi/jsapp/js/components/mapSettings.es6"),__REACT_HOT_LOADER__.register(N,"default","/srv/src/kpi/jsapp/js/components/mapSettings.es6"))}).call(this,r(29))},function(e,o,r){"use strict";(function(e){r.d(o,"a",(function(){return j}));var n=r(0),a=r.n(n),i=r(5),l=r.n(i),s=r(9),c=r.n(s),d=r(12),u=r.n(d),p=r(8),m=r.n(p),f=r(14),_=r.n(f),h=r(6),b=r(1),g=r(25),y=r(3),v=r(18),k=r(7),w=r(4),x=r(2);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=C(e);if(t){var n=C(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return R(this,o)}}function R(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(s,o);var r,n,i,l=T(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={hookName:null,isHookActive:!1,assetUid:e.assetUid,hookUid:e.hookUid,isLoadingHook:!0,isLoadingLogs:!0,logs:[],nextPageUrl:null},c()(A(t)),t}return r=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(y.a.hooks.getLogs.completed,this.onLogsUpdated),k.a.getHook(this.state.assetUid,this.state.hookUid).done((function(t){e.setState({isLoadingHook:!1,hookName:t.name,isHookActive:t.active})})).fail((function(){e.setState({isLoadingHook:!1}),_.a.error(t("Could not load REST Service"))})),y.a.hooks.getLogs(this.state.assetUid,this.state.hookUid,{onComplete:function(t){e.setState({isLoadingLogs:!1,logs:t.results,nextPageUrl:t.next,totalLogsCount:t.count})},onFail:function(){e.setState({isLoadingLogs:!1}),_.a.error(t("Could not load REST Service logs"))}})}},{key:"loadMore",value:function(){var e=this;this.setState({isLoadingLogs:!1}),k.a.loadNextPageUrl(this.state.nextPageUrl).done((function(t){var o=[].concat(e.state.logs,t.results);e.setState({isLoadingLogs:!1,logs:o,nextPageUrl:t.next,totalLogsCount:t.count})})).fail((function(){e.setState({isLoadingLogs:!1}),_.a.error(t("Could not load REST Service logs"))}))}},{key:"onLogsUpdated",value:function(e){this.setState({logs:e.results})}},{key:"retryAll",value:function(){var e=this,t=[];this.state.logs.forEach((function(e){e.status===x.HOOK_LOG_STATUSES.FAILED&&t.push(e.uid)})),this.overrideLogsStatus(t,x.HOOK_LOG_STATUSES.PENDING),y.a.hooks.retryLogs(this.state.assetUid,this.state.hookUid,{onComplete:function(t){e.overrideLogsStatus(t.pending_uids,x.HOOK_LOG_STATUSES.PENDING)}})}},{key:"retryLog",value:function(e){var t=this;e.status===x.HOOK_LOG_STATUSES.FAILED&&(this.overrideLogsStatus([e.uid],x.HOOK_LOG_STATUSES.PENDING),y.a.hooks.retryLog(this.state.assetUid,this.state.hookUid,e.uid,{onFail:function(o){o.responseJSON&&o.responseJSON.detail&&t.overrideLogMessage(e.uid,o.responseJSON.detail),t.overrideLogsStatus([e.uid],x.HOOK_LOG_STATUSES.FAILED)}}))}},{key:"overrideLogMessage",value:function(e,t){var o=this.state.logs;o.forEach((function(o){o.uid===e&&(o.message=t)})),this.setState({logs:o})}},{key:"overrideLogsStatus",value:function(e,t){var o=this.state.logs;o.forEach((function(o){e.includes(o.uid)&&(o.status=t)})),this.setState({logs:o})}},{key:"showLogInfo",value:function(o){var r=t("Submission Failure Detail (##id##)").replace("##id##",o.submission_id),n=e("<div/>").text(o.message).html();_.a.alert(r,"<pre>".concat(n,"</pre>"))}},{key:"openSubmissionModal",value:function(e){var t=this.currentAsset();h.a.pageState.switchModal({type:x.MODAL_TYPES.SUBMISSION,sid:e.submission_id,asset:t,ids:[e.submission_id]})}},{key:"hasAnyFailedLogs",value:function(){var e=!1;return this.state.logs.forEach((function(t){t.status===x.HOOK_LOG_STATUSES.FAILED&&(e=!0)})),e}},{key:"hasInfoToDisplay",value:function(e){return e.status!==x.HOOK_LOG_STATUSES.SUCCESS&&e.message.length>0}},{key:"renderHeader",value:function(){return a.a.createElement("header",{className:"rest-services-list__header"},a.a.createElement("a",{className:"rest-services-list__header-back-button",href:"/#/forms/".concat(this.state.assetUid,"/settings/rest")},a.a.createElement("i",{className:"k-icon k-icon-prev"}),t("Back to REST Services")),a.a.createElement("h2",{className:"rest-services-list__header-label rest-services-list__header-label--big"},this.state.hookName))}},{key:"renderLoadMoreButton",value:function(){return null===this.state.nextPageUrl?null:a.a.createElement(b.a.ServiceRowButton,{m:this.state.isLoadingLogs?"loading":null,onClick:this.loadMore},this.state.isLoadingLogs?t("Loadingâ€¦"):t("Load more"))}},{key:"renderEmptyView",value:function(){return a.a.createElement(b.a.FormView,{m:"form-settings",className:"rest-services"},a.a.createElement(b.a.FormView__cell,{m:"rest-services-list",className:"rest-services-list--empty"},this.renderHeader(),a.a.createElement(b.a.EmptyContent,null,a.a.createElement(b.a.EmptyContent__message,null,t("There are no logs yet")))))}},{key:"renderListView",value:function(){var e=this;return a.a.createElement(b.a.FormView,{m:"form-settings",className:"rest-services"},a.a.createElement(b.a.FormView__cell,{m:"rest-services-list"},this.renderHeader(),a.a.createElement(b.a.FormView__cell,{m:["box"]},a.a.createElement(b.a.ServiceRow,{m:"header"},a.a.createElement(b.a.ServiceRow__column,{m:"submission"},t("Submission")),a.a.createElement(b.a.ServiceRow__column,{m:"status"},t("Status"),this.hasAnyFailedLogs()&&a.a.createElement(b.a.ServiceRow__actionButton,{onClick:this.retryAll.bind(this),"data-tip":t("Retry all submissions"),disabled:!this.state.isHookActive},a.a.createElement("i",{className:"k-icon k-icon-replace"}))),a.a.createElement(b.a.ServiceRow__column,{m:"date"},t("Date"))),this.state.logs.map((function(o,r){var n={key:r},i="",l="";return o.status===x.HOOK_LOG_STATUSES.SUCCESS&&(i="success",l=t("Success"),n.m="clickable",n.onClick=e.openSubmissionModal.bind(e,o)),o.status===x.HOOK_LOG_STATUSES.PENDING&&(i="pending",l=t("Pending"),o.tries&&o.tries>1&&(l=t("Pending (##count##Ã—)").replace("##count##",o.tries))),o.status===x.HOOK_LOG_STATUSES.FAILED&&(i="failed",l=t("Failed")),a.a.createElement(b.a.ServiceRow,n,a.a.createElement(b.a.ServiceRow__column,{m:"submission"},o.submission_id),a.a.createElement(b.a.ServiceRow__column,{m:["status",i]},l,o.status===x.HOOK_LOG_STATUSES.FAILED&&a.a.createElement(b.a.ServiceRow__actionButton,{disabled:!e.state.isHookActive,onClick:e.retryLog.bind(e,o),"data-tip":t("Retry submission")},a.a.createElement("i",{className:"k-icon k-icon-replace"})),e.hasInfoToDisplay(o)&&a.a.createElement(b.a.ServiceRow__actionButton,{onClick:e.showLogInfo.bind(e,o),"data-tip":t("More info")},a.a.createElement("i",{className:"k-icon k-icon-information"}))),a.a.createElement(b.a.ServiceRow__column,{m:"date"},Object(w.formatTime)(o.date_modified)))}))),this.renderLoadMoreButton()))}},{key:"render",value:function(){return this.state.isLoadingHook||this.state.isLoadingLogs&&0===this.state.logs.length?a.a.createElement(g.a,null):0===this.state.logs.length?this.renderEmptyView():this.renderListView()}}])&&S(r.prototype,n),i&&S(r,i),s}(a.a.Component);u()(j.prototype,m.a.ListenerMixin),u()(j.prototype,v.a.contextRouter),j.contextTypes={router:l.a.object};"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(j,"RESTServiceLogs","/srv/src/kpi/jsapp/js/components/RESTServices/RESTServiceLogs.es6")}).call(this,r(29))},function(e,o,r){"use strict";(function(e){r.d(o,"a",(function(){return I}));var n=r(0),a=r.n(n),i=r(12),l=r.n(i),s=r(9),c=r.n(s),d=r(8),u=r.n(d),p=r(45),m=r.n(p),f=r(92),_=r.n(f),h=r(14),b=r.n(h),g=r(3),y=r(1),v=r(6),k=r(36),w=r(31),x=r(34),E=r(469),S=r(15),O=r(4),T=r(10),R=r(21);r(647);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=N(e);if(t){var n=N(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return L(this,o)}}function L(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=t("You have unsaved changes. Leave settings without saving?"),I=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(s,o);var r,n,i,l=P(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);return(t=l.call(this,e)).state={isPristine:!0,requireAuth:!1,fieldsErrors:{}},c()(D(t)),t}return r=s,(n=[{key:"rebuildState",value:function(){v.a.session.isLoggedIn&&R.a.isReady&&this.setStateFromSession(v.a.session.currentAccount,R.a.data)}},{key:"componentDidMount",value:function(){this.props.router.setRouteLeaveHook(this.props.route,this.routerWillLeave),this.listenTo(v.a.session,this.rebuildState),this.rebuildState()}},{key:"componentWillUnmount",value:function(){this.unpreventClosingTab()}},{key:"routerWillLeave",value:function(){if(!this.state.isPristine)return M}},{key:"setStateFromSession",value:function(e,o){void 0===e.extra_details&&(e.extra_details={}),this.setState({name:e.extra_details.name,email:e.email,organization:e.extra_details.organization,organizationWebsite:e.extra_details.organization_website,primarySector:e.extra_details.primarySector,gender:e.extra_details.gender,bio:e.extra_details.bio,phoneNumber:e.extra_details.phone_number,address:e.extra_details.address,city:e.extra_details.city,country:e.extra_details.country,defaultLanguage:e.extra_details.default_language,requireAuth:e.extra_details.require_auth,twitter:e.extra_details.twitter,linkedin:e.extra_details.linkedin,instagram:e.extra_details.instagram,metadata:e.extra_details.metadata,languageChoices:o.all_languages,countryChoices:o.available_countries,sectorChoices:o.available_sectors,genderChoices:[{value:"male",label:t("Male")},{value:"female",label:t("Female")},{value:"other",label:t("Other")}],fieldsErrors:{}})}},{key:"safeClose",value:function(){var e=this;if(this.state.isPristine)S.f.goBack();else{var o=b.a.dialog("confirm"),r={title:M,message:"",labels:{ok:t("Yes, leave settings"),cancel:t("Cancel")},onok:function(){e.setState({isPristine:!0}),e.unpreventClosingTab(),S.f.goBack()},oncancel:o.destroy};o.set(r).show()}}},{key:"preventClosingTab",value:function(){e(window).on("beforeunload.noclosetab",(function(){return M}))}},{key:"unpreventClosingTab",value:function(){e(window).off("beforeunload.noclosetab")}},{key:"updateProfile",value:function(){g.a.misc.updateProfile({email:this.state.email,extra_details:JSON.stringify({name:this.state.name,organization:this.state.organization,organization_website:this.state.organizationWebsite,primarySector:this.state.primarySector,gender:this.state.gender,bio:this.state.bio,phone_number:this.state.phoneNumber,address:this.state.address,city:this.state.city,country:this.state.country,default_language:this.state.defaultLanguage,require_auth:this.state.requireAuth,twitter:this.state.twitter,linkedin:this.state.linkedin,instagram:this.state.instagram,metadata:this.state.metadata})},{onComplete:this.onUpdateComplete.bind(this),onFail:this.onUpdateFail.bind(this)})}},{key:"onUpdateComplete",value:function(){this.unpreventClosingTab(),this.setState({isPristine:!0,fieldsErrors:{}})}},{key:"onUpdateFail",value:function(e){this.setState({fieldsErrors:e.responseJSON})}},{key:"handleChange",value:function(e,t){var o;o=e&&e.target?"checkbox"===e.target.type?e.target.checked:e.target.value:e,this.preventClosingTab(),this.setState(function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}({isPristine:!1},t,o))}},{key:"nameChange",value:function(e){this.handleChange(e,"name")}},{key:"emailChange",value:function(e){this.handleChange(e,"email")}},{key:"organizationChange",value:function(e){this.handleChange(e,"organization")}},{key:"organizationWebsiteChange",value:function(e){this.handleChange(e,"organizationWebsite")}},{key:"primarySectorChange",value:function(e){this.handleChange(e,"primarySector")}},{key:"genderChange",value:function(e){this.handleChange(e,"gender")}},{key:"bioChange",value:function(e){this.handleChange(e,"bio")}},{key:"phoneNumberChange",value:function(e){this.handleChange(e,"phoneNumber")}},{key:"addressChange",value:function(e){this.handleChange(e,"address")}},{key:"cityChange",value:function(e){this.handleChange(e,"city")}},{key:"countryChange",value:function(e){this.handleChange(e,"country")}},{key:"defaultLanguageChange",value:function(e){this.handleChange(e,"defaultLanguage")}},{key:"requireAuthChange",value:function(e){this.handleChange(e,"requireAuth")}},{key:"twitterChange",value:function(e){this.handleChange(e,"twitter")}},{key:"linkedinChange",value:function(e){this.handleChange(e,"linkedin")}},{key:"instagramChange",value:function(e){this.handleChange(e,"instagram")}},{key:"metadataChange",value:function(e){this.handleChange(e,"metadata")}},{key:"render",value:function(){if(!v.a.session.isLoggedIn||!R.a.isReady)return null;var e=v.a.session.currentAccount.username,o={background:"#".concat(Object(O.stringToColor)(e))};return a.a.createElement(m.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(y.a.AccountSettings,null,a.a.createElement(y.a.AccountSettings__actions,null,a.a.createElement(y.a.KoboButton,{onClick:this.updateProfile,m:["blue"]},t("Save Changes"),!this.state.isPristine&&" *"),a.a.createElement(y.a.Button,{onClick:this.safeClose,m:"icon",className:"account-settings-close"},a.a.createElement("i",{className:"k-icon k-icon-close"}))),a.a.createElement(y.a.AccountSettings__item,{m:"column"},a.a.createElement(y.a.AccountSettings__item,{m:"username"},a.a.createElement(y.a.AccountBox__initials,{style:o},e.charAt(0)),a.a.createElement("h4",null,e)),a.a.createElement(y.a.AccountSettings__item,{m:"fields"},a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement("label",{htmlFor:"requireAuth"},t("Privacy"))),a.a.createElement(x.a,{checked:this.state.requireAuth,onChange:this.requireAuthChange,label:t("Require authentication to see forms and submit data")})),a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement(w.a,{label:t("Name"),errors:this.state.fieldsErrors.name,value:this.state.name,onChange:this.nameChange,description:t("Use this to display your real name to other users")})),a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement(w.a,{label:t("Email"),type:"email",errors:this.state.fieldsErrors.email,value:this.state.email,onChange:this.emailChange})),a.a.createElement(y.a.AccountSettings__item,{m:"password"},a.a.createElement("a",{href:"/#".concat(T.b.CHANGE_PASSWORD),className:"kobo-button kobo-button--teal"},t("Modify Password"))),a.a.createElement(E.a,null),a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement(w.a,{label:t("Organization"),errors:this.state.fieldsErrors.organization,value:this.state.organization,onChange:this.organizationChange})),a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement(w.a,{label:t("Organization Website"),type:"url",errors:this.state.fieldsErrors.organizationWebsite,value:this.state.organizationWebsite,onChange:this.organizationWebsiteChange})),a.a.createElement(y.a.AccountSettings__item,{m:"primary-sector"},a.a.createElement("label",null,t("Primary Sector"),a.a.createElement(k.a,{value:this.state.primarySector,options:this.state.sectorChoices,onChange:this.primarySectorChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"})),a.a.createElement(y.a.AccountSettings__desc,null,t("Select the primary sector in which you work. "))),a.a.createElement(y.a.AccountSettings__item,{m:"gender"},a.a.createElement("label",null,t("Gender"),a.a.createElement(k.a,{value:this.state.gender,options:this.state.genderChoices,onChange:this.genderChange,isSearchable:!1,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))),a.a.createElement(y.a.AccountSettings__item,{m:"bio"},a.a.createElement("label",null,t("Bio"),a.a.createElement(_.a,{onChange:this.bioChange,value:this.state.bio,id:"bio"}))),a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement(w.a,{label:t("Phone Number"),errors:this.state.fieldsErrors.phoneNumber,value:this.state.phoneNumber,onChange:this.phoneNumberChange})),a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement(w.a,{label:t("Address"),errors:this.state.fieldsErrors.address,value:this.state.address,onChange:this.addressChange})),a.a.createElement(y.a.AccountSettings__item,{m:"city"},a.a.createElement(w.a,{label:t("City"),errors:this.state.fieldsErrors.city,value:this.state.city,onChange:this.cityChange})),a.a.createElement(y.a.AccountSettings__item,{m:"country"},a.a.createElement("label",null,t("Country"),a.a.createElement(k.a,{value:this.state.country,options:this.state.countryChoices,onChange:this.countryChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))),a.a.createElement(y.a.AccountSettings__item,{m:"social"},a.a.createElement("label",null,t("Social")),a.a.createElement("label",null,a.a.createElement("i",{className:"k-icon k-icon-logo-twitter"}),a.a.createElement("input",{type:"text",value:this.state.twitter,onChange:this.twitterChange})),a.a.createElement("label",null,a.a.createElement("i",{className:"k-icon k-icon-logo-linkedin"}),a.a.createElement("input",{type:"text",value:this.state.linkedin,onChange:this.linkedinChange})),a.a.createElement("label",null,a.a.createElement("i",{className:"k-icon k-icon-logo-instagram"}),a.a.createElement("input",{type:"text",value:this.state.instagram,onChange:this.instagramChange}))),a.a.createElement(y.a.AccountSettings__item,null,a.a.createElement(w.a,{label:t("Metadata"),errors:this.state.fieldsErrors.metadata,value:this.state.metadata,onChange:this.metadataChange}))))))}}])&&C(r.prototype,n),i&&C(r,i),s}(a.a.Component);l()(I.prototype,u.a.connect(v.a.session,"session")),l()(I.prototype,u.a.ListenerMixin);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(M,"UNSAVED_CHANGES_WARNING","/srv/src/kpi/jsapp/js/components/accountSettings.es6"),__REACT_HOT_LOADER__.register(I,"AccountSettings","/srv/src/kpi/jsapp/js/components/accountSettings.es6"))}).call(this,r(29))},function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(1),c=r(3);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=h(e);if(t){var n=h(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return f(this,o)}}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var o,r,n,i=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=i.call(this,e)).HIDDEN_VAL="*".repeat(40),t.state={token:t.HIDDEN_VAL,isLoadingToken:!1},t.unlisteners=[],l()(_(t)),t}return o=d,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(c.a.auth.getApiToken.completed.listen(this.onGetApiTokenCompleted.bind(this)),c.a.auth.getApiToken.failed.listen(this.onGetApiTokenFailed.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onGetApiTokenCompleted",value:function(e){this.setState({token:e,isLoadingToken:!1})}},{key:"onGetApiTokenFailed",value:function(){this.setState({isLoadingToken:!1})}},{key:"toggleApiTokenVisibility",value:function(){this.setState({isTokenVisible:!this.state.isTokenVisible}),c.a.auth.getApiToken()}},{key:"onInputFocus",value:function(e){e.currentTarget.select()}},{key:"render",value:function(){return a.a.createElement(s.a.FormModal__item,{m:"api-token"},a.a.createElement("label",null,t("API token")),a.a.createElement("input",{type:this.state.isTokenVisible&&!this.state.isLoadingToken?"text":"password",value:this.state.token,onFocus:this.onInputFocus,readOnly:!0}),a.a.createElement(s.a.Button,{onClick:this.toggleApiTokenVisibility,disabled:this.state.isLoadingToken,m:"icon"},a.a.createElement("i",{className:this.state.isTokenVisible?"k-icon k-icon-hide":"k-icon k-icon-view"})))}}])&&u(o.prototype,r),n&&u(o,n),d}(a.a.Component),g=b;o.a=g;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(b,"ApiTokenDisplay","/srv/src/kpi/jsapp/js/components/apiTokenDisplay.es6"),__REACT_HOT_LOADER__.register(g,"default","/srv/src/kpi/jsapp/js/components/apiTokenDisplay.es6"))},,function(e,o,r){"use strict";(function(e){var n=r(0),a=r.n(n),i=r(5),l=r.n(i),s=r(12),c=r.n(s),d=r(9),u=r.n(d),p=r(8),m=r.n(p),f=r(55),_=r(18),h=r(6),b=r(7),g=r(1),y=r(25),v=r(472),k=r(45),w=r.n(k),x=r(77),E=r(4),S=r(38),O=r(2);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function A(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=D(e);if(t){var n=D(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return P(this,o)}}function P(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,o);var r,n,i,l=j(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={ownedCollections:[],fixedHeadings:"",fixedHeadingsWidth:"auto"},t.store=h.a.selectedAsset,t.unlisteners=[],u()(L(t)),t}return r=s,(n=[{key:"componentDidMount",value:function(){this.unlisteners.push(this.searchStore.listen(this.searchChanged)),this.queryCollections()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"searchChanged",value:function(e){this.setState(e),"done"===e.searchState&&this.queryCollections()}},{key:"queryCollections",value:function(){var e=this;this.props.searchContext.store.filterTags!==O.COMMON_QUERIES.s&&b.a.getCollections().then((function(t){e.setState({ownedCollections:t.results.filter((function(e){return(!e.access_types||!e.access_types.includes(O.ACCESS_TYPES.shared))&&e.access_types&&e.access_types.includes(O.ACCESS_TYPES.owned)}))})}))}},{key:"handleScroll",value:function(t){if(this.props.searchContext.store.filterTags===O.COMMON_QUERIES.s){var o=e(t.target).children(".asset-list").offset().top;this.setState({fixedHeadings:o<30?"fixed-headings":"",fixedHeadingsWidth:o<30?e(t.target).children(".asset-list").width()+"px":"auto"})}}},{key:"renderAssetRow",value:function(e){var t,o=h.a.session.currentAccount&&h.a.session.currentAccount.username,r=h.a.selectedAsset.uid===e.uid,n=this.state.ownedCollections;return e.asset_type!==O.ASSET_TYPES.survey.id&&""===e.name&&e.summary&&e.summary.labels&&e.summary.labels.length>0&&(t=e.summary.labels[0]),a.a.createElement(this.props.assetRowClass,R({key:e.uid,currentUsername:o,onActionButtonClick:this.onActionButtonClick,isSelected:r,ownedCollections:n,deleting:e.deleting,firstQuestionLabel:t},e))}},{key:"renderHeadings",value:function(){return[a.a.createElement(g.a.List__heading,{key:"1"},a.a.createElement("span",{className:this.state.parentName?"parent":""},t("My Library")),this.state.parentName&&a.a.createElement("span",null,a.a.createElement("i",{className:"k-icon k-icon-next"}),a.a.createElement("span",null,this.state.parentName))),a.a.createElement(g.a.AssetListSorts,{className:"mdl-grid",key:"2"},a.a.createElement(g.a.AssetListSorts__item,{m:"name",className:"mdl-cell mdl-cell--6-col mdl-cell--3-col-tablet mdl-cell--2-col-phone"},t("Name")),a.a.createElement(g.a.AssetListSorts__item,{m:"type",className:"mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone"},t("Type")),a.a.createElement(g.a.AssetListSorts__item,{m:"owner",className:"mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"},t("Owner")),a.a.createElement(g.a.AssetListSorts__item,{m:"modified",className:"mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"},t("Last Modified")))]}},{key:"renderGroupedHeadings",value:function(){return a.a.createElement(g.a.AssetListSorts,{className:"mdl-grid",style:{width:this.state.fixedHeadingsWidth}},a.a.createElement(g.a.AssetListSorts__item,{m:"name",className:"mdl-cell mdl-cell--5-col mdl-cell--4-col-tablet mdl-cell--2-col-phone"},t("Name")),a.a.createElement(g.a.AssetListSorts__item,{m:"owner",className:"mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone"},t("Shared by")),a.a.createElement(g.a.AssetListSorts__item,{m:"created",className:"mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"},t("Created")),a.a.createElement(g.a.AssetListSorts__item,{m:"modified",className:"mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"},t("Last Modified")),a.a.createElement(g.a.AssetListSorts__item,{m:"submissions",className:"mdl-cell mdl-cell--1-col mdl-cell--1-col-tablet mdl-cell--1-col-phone"},t("Submissions")))}},{key:"renderGroupedResults",value:function(){var e=this,t="defaultQueryCategorizedResultsLists";return this.state.searchResultsDisplayed&&(t="searchResultsCategorizedResultsLists"),Object.keys(O.DEPLOYMENT_CATEGORIES).map((function(o,r){return e.state[t][o].length<1?[]:[a.a.createElement(g.a.List__subheading,{key:r},O.DEPLOYMENT_CATEGORIES[o].label),a.a.createElement(g.a.AssetItems,{m:r+1,key:r+2},e.renderGroupedHeadings(),e.state[[t]][o].map(e.renderAssetRow))]}))}},{key:"render",value:function(){var e=this;if(!h.a.session.isLoggedIn&&h.a.session.isAuthStateKnown)return Object(S.i)(),null;var o,r=this.state,n="";return this.props.searchContext.store.filterTags===O.COMMON_QUERIES.s?(o="grouped",n=t("Projects")):(o="regular",n=t("Library")),a.a.createElement(w.a,{title:"".concat(n," | KoboToolbox")},a.a.createElement(x.a,{onDrop:this.dropFiles,disableClick:!0,multiple:!0,className:"dropzone",activeClassName:"dropzone--active",accept:Object(E.validFileTypes)()},a.a.createElement(g.a.List,{m:o,onScroll:this.handleScroll},function(){if("regular"===o)return e.renderHeadings()}(),a.a.createElement(g.a.AssetList,{m:this.state.fixedHeadings},function(){if(r.searchResultsDisplayed){if("loading"===r.searchState)return a.a.createElement(y.a,null);if("done"===r.searchState)return 0===r.searchResultsCount?a.a.createElement(g.a.Loading,null,a.a.createElement(g.a.Loading__inner,null,t("Your search returned no results."))):"grouped"===o?e.renderGroupedResults():r.searchResultsList.map(e.renderAssetRow)}else{if("loading"===r.defaultQueryState)return a.a.createElement(y.a,null);if("done"===r.defaultQueryState)return r.defaultQueryCount<1?r.defaultQueryFor.assetType===O.COMMON_QUERIES.s?a.a.createElement(g.a.Loading,null,a.a.createElement(g.a.Loading__inner,null,t("Let's get started by creating your first project. Click the New button to create a new form."),a.a.createElement("div",{className:"pro-tip"},t("Advanced users: You can also drag and drop XLSForms here and they will be uploaded and converted to projects.")))):a.a.createElement(g.a.Loading,null,a.a.createElement(g.a.Loading__inner,null,t("Let's get started by creating your first library question or question block. Click the New button to create a new question or block."))):"grouped"===o?e.renderGroupedResults():r.defaultQueryResultsList.map(e.renderAssetRow)}return!1}()),a.a.createElement("div",{className:"dropzone-active-overlay"},a.a.createElement("i",{className:"k-icon k-icon-upload"}),t("Drop files to upload")))))}}])&&A(r.prototype,n),i&&A(r,i),s}(m.a.Component);N.defaultProps={assetRowClass:v.a,searchContext:"default"},N.contextTypes={router:l.a.object},c()(N.prototype,f.a.common),c()(N.prototype,_.a.clickAssets),c()(N.prototype,m.a.ListenerMixin),c()(N.prototype,_.a.droppable);var M=N;o.a=M;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(N,"SearchCollectionList","/srv/src/kpi/jsapp/js/components/searchcollectionlist.es6"),__REACT_HOT_LOADER__.register(M,"default","/srv/src/kpi/jsapp/js/components/searchcollectionlist.es6"))}).call(this,r(29))},function(e,o,r){"use strict";(function(e){var n=r(0),a=r.n(n),i=r(5),l=r.n(i),s=r(12),c=r.n(s),d=r(9),u=r.n(d),p=r(15),m=r(1),f=r(13),_=r(62),h=r(6),b=r(18),g=r(2),y=r(473),v=r(111),k=r(4);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=R(e);if(t){var n=R(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return O(this,o)}}function O(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(s,o);var r,n,i,l=S(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={isTagsInputVisible:!1,clearPopover:!1,popoverVisible:!1},t.escFunction=t.escFunction.bind(T(t)),u()(T(t)),t}return r=s,(n=[{key:"clickAssetButton",value:function(o){var r=e(o.target).closest("[data-action]").get(0);if(r){var n=r.getAttribute("data-action"),a=r.getAttribute("data-asset-name")||t("untitled");h.a.selectedAsset.toggleSelect(this.props.uid,!0),this.props.onActionButtonClick(n,this.props.uid,a)}}},{key:"clickTagsToggle",value:function(){var e=!this.state.isTagsInputVisible;e?document.addEventListener("keydown",this.escFunction):document.removeEventListener("keydown",this.escFunction),this.setState({isTagsInputVisible:e})}},{key:"escFunction",value:function(e){e.keyCode===g.KEY_CODES.ESC&&this.state.isTagsInputVisible&&this.clickTagsToggle()}},{key:"moveToCollection",value:function(e){f.b.moveToCollection(this.props.uid,e.currentTarget.dataset.collid)}},{key:"forceClosePopover",value:function(){this.state.popoverVisible&&this.setState({clearPopover:!0,popoverVisible:!1})}},{key:"popoverSetVisible",value:function(){this.setState({clearPopover:!1,popoverVisible:!0})}},{key:"render",value:function(){var e=this,o=f.b.isSelfOwned(this.props),r=this.props.summary&&this.props.summary.row_count||0,n="/forms/".concat(this.props.uid),i=(this.props.tags,[]),l=void 0,s=this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&null===this.props.deployed_version_id,c=this.userCan("change_asset",this.props),d=this.props.name||this.props.firstQuestionLabel;return this.props.has_deployment&&this.props.deployment__submission_count&&this.userCan("view_submissions",this.props)&&(n="/forms/".concat(this.props.uid,"/summary")),this.isLibrary()&&(n="/library/asset/".concat(this.props.uid),l=this.state.parent||void 0,i=this.props.ownedCollections.map((function(e){var t=!1;return null!=l&&-1!==l.indexOf(e.uid)&&(t=!0),{value:e.uid,label:e.name||e.uid,hasParent:t}}))),a.a.createElement(m.a.AssetRow,{m:{"display-tags":this.state.isTagsInputVisible,deleted:this.props.deleted,deleting:this.props.deleting},className:"mdl-grid",key:this.props.uid,onMouseLeave:this.forceClosePopover},a.a.createElement(m.a.AssetRow__cell,{m:"asset-details",key:"asset-details",onClick:this.clickAssetButton,"data-asset-type":this.props.kind},a.a.createElement(p.c,{to:n,"data-kind":this.props.kind,"data-asset-type":this.props.kind,draggable:!1,className:"asset-row__link-overlay"}),a.a.createElement(m.a.AssetRow__cell,{m:"title",className:["mdl-cell",this.props.asset_type==g.ASSET_TYPES.survey.id?"mdl-cell--5-col mdl-cell--4-col-tablet mdl-cell--2-col-phone":"mdl-cell--6-col mdl-cell--3-col-tablet mdl-cell--2-col-phone"]},this.props.asset_type&&(this.props.asset_type==g.ASSET_TYPES.template.id||this.props.asset_type==g.ASSET_TYPES.block.id||this.props.asset_type==g.ASSET_TYPES.question.id)&&a.a.createElement("i",{className:"row-icon row-icon--".concat(this.props.asset_type)},r),a.a.createElement(m.a.AssetRow__cell,{m:"name"},a.a.createElement(v.a,{asset:this.props})),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&this.props.settings.description&&a.a.createElement(m.a.AssetRow__description,null,this.props.settings.description)),this.props.asset_type&&(this.props.asset_type==g.ASSET_TYPES.template.id||this.props.asset_type==g.ASSET_TYPES.block.id||this.props.asset_type==g.ASSET_TYPES.question.id)&&a.a.createElement(m.a.AssetRow__cell,{m:"type",className:["mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone"]},g.ASSET_TYPES[this.props.asset_type].label),a.a.createElement(m.a.AssetRow__cell,{m:"userlink",key:"userlink",className:["mdl-cell",this.props.asset_type==g.ASSET_TYPES.survey.id?"mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone":"mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"]},this.props.asset_type==g.ASSET_TYPES.survey.id&&a.a.createElement("span",null,o?" ":this.props.owner__username),this.props.asset_type!=g.ASSET_TYPES.survey.id&&a.a.createElement("span",null,f.b.getAssetOwnerDisplayName(this.props.owner__username))),this.props.asset_type==g.ASSET_TYPES.survey.id&&a.a.createElement(m.a.AssetRow__cell,{m:"date-created",key:"date-created",className:"mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"},a.a.createElement("span",{className:"date date--created"},Object(k.formatTime)(this.props.date_created))),a.a.createElement(m.a.AssetRow__cell,{m:"date-modified",key:"date-modified",className:["mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone"]},a.a.createElement("span",{className:"date date--modified"},Object(k.formatTime)(this.props.date_modified))),this.props.asset_type==g.ASSET_TYPES.survey.id&&a.a.createElement(m.a.AssetRow__cell,{m:"submission-count",key:"submission-count",className:"mdl-cell mdl-cell--1-col mdl-cell--1-col-tablet mdl-cell--1-col-phone"},this.props.deployment__submission_count?this.props.deployment__submission_count:0)),this.state.isTagsInputVisible&&a.a.createElement(m.a.AssetRow__cell,{m:"tags",key:"tags",className:"mdl-cell mdl-cell--12-col"},a.a.createElement(y.a,{uid:this.props.uid,tags:this.props.tags})),a.a.createElement(m.a.AssetRow__buttons,{onClick:this.clickAssetButton},c&&a.a.createElement(m.a.AssetRow__actionIcon,{m:"edit",key:"edit","data-action":"edit","data-tip":t("Edit"),"data-asset-type":this.props.kind,"data-disabled":!1},a.a.createElement("i",{className:"k-icon k-icon-edit"})),c&&a.a.createElement(m.a.AssetRow__actionIcon,{m:"tagsToggle",onClick:this.clickTagsToggle,"data-tip":t("Tags")},a.a.createElement("i",{className:"k-icon k-icon-tag"})),c&&a.a.createElement(m.a.AssetRow__actionIcon,{m:"sharing",key:"sharing","data-action":"sharing","data-asset-type":this.props.kind,"data-tip":t("Share"),"data-disabled":!1},a.a.createElement("i",{className:"k-icon k-icon-user-share"})),a.a.createElement(m.a.AssetRow__actionIcon,{m:"clone",key:"clone","data-action":"clone","data-tip":t("Clone"),"data-asset-type":this.props.kind,"data-asset-name":d,"data-disabled":!1},a.a.createElement("i",{className:"k-icon k-icon-clone"})),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.template.id&&c&&a.a.createElement(m.a.AssetRow__actionIcon,{m:"cloneAsSurvey",key:"cloneAsSurvey","data-action":"cloneAsSurvey","data-tip":t("Create project"),"data-asset-type":this.props.kind,"data-asset-name":d,"data-disabled":!1},a.a.createElement("i",{className:"k-icon k-icon-projects"})),this.props.asset_type===g.ASSET_TYPES.collection.id&&["sharing"].map((function(t){return a.a.createElement(m.a.AssetRow__actionIcon,{m:"view"===t?"view-collection":t,"data-action":t,"data-asset-type":e.props.kind,"data-disabled":!1,"data-tip":t},a.a.createElement("i",null))})),a.a.createElement(_.a,{type:"assetrow-menu",triggerLabel:a.a.createElement("div",{"data-tip":t("More actions")},a.a.createElement("i",{className:"k-icon k-icon-more"})),clearPopover:this.state.clearPopover,popoverSetVisible:this.popoverSetVisible},this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&c&&s&&a.a.createElement(m.a.PopoverMenu__link,{m:"deploy","data-action":"deploy","data-asset-type":this.props.kind},a.a.createElement("i",{className:"k-icon k-icon-deploy"}),t("Deploy this project")),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&this.props.has_deployment&&!this.props.deployment__active&&c&&a.a.createElement(m.a.PopoverMenu__link,{m:"unarchive","data-action":"unarchive","data-asset-type":this.props.kind},a.a.createElement("i",{className:"k-icon k-icon-archived"}),t("Unarchive")),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&c&&a.a.createElement(m.a.PopoverMenu__link,{m:"refresh","data-action":"refresh","data-asset-type":this.props.kind},a.a.createElement("i",{className:"k-icon k-icon-replace"}),t("Replace form")),c&&a.a.createElement(m.a.PopoverMenu__link,{"data-action":"translations","data-asset-uid":this.props.uid},a.a.createElement("i",{className:"k-icon k-icon-language"}),t("Manage translations")),this.props.downloads.map((function(e){return a.a.createElement(m.a.PopoverMenu__link,{m:"dl-".concat(e.format),href:e.url,key:"dl-".concat(e.format)},a.a.createElement("i",{className:"k-icon k-icon-".concat(e.format,"-file")}),t("Download"),"Â ",e.format.toString().toUpperCase())})),this.props.asset_type&&this.props.asset_type!=g.ASSET_TYPES.survey.id&&i.length>0&&a.a.createElement(m.a.PopoverMenu__heading,null,t("Move to")),this.props.asset_type&&this.props.asset_type!=g.ASSET_TYPES.survey.id&&i.length>0&&a.a.createElement(m.a.PopoverMenu__moveTo,null,i.map((function(t){return a.a.createElement(m.a.PopoverMenu__item,{onClick:e.moveToCollection,"data-collid":t.value,"data-parent":t.hasParent?"true":"false",key:t.value,title:t.label,m:"move-coll-item"},a.a.createElement("i",{className:"k-icon k-icon-folder"}),t.label)}))),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&this.props.has_deployment&&this.props.deployment__active&&c&&a.a.createElement(m.a.PopoverMenu__link,{m:"archive","data-action":"archive","data-asset-type":this.props.kind},a.a.createElement("i",{className:"k-icon k-icon-archived"}),t("Archive")),this.props.asset_type&&this.props.asset_type===g.ASSET_TYPES.survey.id&&c&&a.a.createElement(m.a.PopoverMenu__link,{m:"cloneAsTemplate","data-action":"cloneAsTemplate","data-asset-type":this.props.kind,"data-asset-name":d},a.a.createElement("i",{className:"k-icon k-icon-template"}),t("Create template")),o&&a.a.createElement(m.a.PopoverMenu__link,{m:"delete","data-action":"delete","data-asset-type":this.props.kind,"data-asset-name":d},a.a.createElement("i",{className:"k-icon k-icon-trash"}),t("Delete")),!o&&a.a.createElement(m.a.PopoverMenu__link,{m:"removeSharing","data-action":"removeSharing"},a.a.createElement("i",{className:"k-icon k-icon-trash"}),t("Remove shared form")))))}}])&&x(r.prototype,n),i&&x(r,i),s}(a.a.Component);c()(A.prototype,b.a.droppable),c()(A.prototype,b.a.permissions),c()(A.prototype,b.a.contextRouter),A.contextTypes={router:l.a.object};var C=A;o.a=C;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(A,"AssetRow","/srv/src/kpi/jsapp/js/components/assetrow.es6"),__REACT_HOT_LOADER__.register(C,"default","/srv/src/kpi/jsapp/js/components/assetrow.es6"))}).call(this,r(29))},function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(328),c=r.n(s),d=r(3),u=r(13);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=g(e);if(t){var n=g(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return h(this,o)}}function h(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var o,r,n,i=_(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={tags:e.tags,tag:""},l()(b(t)),t}return o=s,(r=[{key:"handleChange",value:function(e){var t=Object(u.a)(e);this.setState({tags:t});var o=this.props.uid;d.a.resources.updateAsset(o,{tag_string:t.join(",")})}},{key:"handleChangeInput",value:function(e){this.setState({tag:e})}},{key:"pasteSplit",value:function(e){return e.split(",").map((function(e){return e.trim()}))}},{key:"render",value:function(){var e={placeholder:t("Add tag(s)")};return a.a.createElement(c.a,{value:this.state.tags,onChange:this.handleChange.bind(this),inputValue:this.state.tag,inputProps:e,onChangeInput:this.handleChangeInput.bind(this),onlyUnique:!0,addOnBlur:!0,addOnPaste:!0,pasteSplit:this.pasteSplit})}}])&&m(o.prototype,r),n&&m(o,n),s}(a.a.Component),v=y;o.a=v;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(y,"TagInput","/srv/src/kpi/jsapp/js/components/tagInput.es6"),__REACT_HOT_LOADER__.register(v,"default","/srv/src/kpi/jsapp/js/components/tagInput.es6"))},function(e,t,o){"use strict";var r=o(0),n=o.n(r),a=o(330);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=u(e);if(t){var n=u(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return d(this,o)}}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(d,e);var t,o,r,i=c(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=i.call(this,e)).state={currentPass:""},t}return t=d,(o=[{key:"componentDidMount",value:function(){this.watchInput("id_password1")}},{key:"watchInput",value:function(e){var t=this,o=document.getElementById(e);if(!o)throw new Error('Input "'.concat(e,'" not found!'));o.addEventListener("input",(function(e){t.setState({currentPass:e.currentTarget.value})}))}},{key:"render",value:function(){return n.a.createElement(a.a,{password:this.state.currentPass})}}])&&l(t.prototype,o),r&&l(t,r),d}(n.a.Component),m=p;t.a=m;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("id_password1","PASS_INPUT_ID","/srv/src/kpi/jsapp/js/registrationPasswordApp.es6"),__REACT_HOT_LOADER__.register(p,"RegistrationPasswordApp","/srv/src/kpi/jsapp/js/registrationPasswordApp.es6"),__REACT_HOT_LOADER__.register(m,"default","/srv/src/kpi/jsapp/js/registrationPasswordApp.es6"))},,function(e,o,r){"use strict";r.d(o,"a",(function(){return _f}));var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(15),c=r(5),d=r.n(c),u=r(45),p=r.n(u),m=r(12),f=r.n(m),_=r(8),h=r.n(_),b=r(6),g=r(52),y=r.n(g),v=r(102),k=r.n(v),w=r(3),x=h.a.createStore({init:function(){this.listenTo(w.a.survey.addExternalItemAtPosition,this.addExternalItemAtPosition)},addExternalItemAtPosition:function(e){var t=e.position,o=e.survey,r=e.uid,n=e.groupId;b.a.allAssets.whenLoaded(r,(function(e){var r=y()(e),a=k.a.model.Survey.loadDict(r.content,o);o.insertSurvey(a,t,n)}))}}),E=x,S=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(x,"surveyCompanionStore","/srv/src/kpi/jsapp/js/surveyCompanionStore.es6"),__REACT_HOT_LOADER__.register(E,"default","/srv/src/kpi/jsapp/js/surveyCompanionStore.es6")),r(1));S.a.Button=Object(S.b)(null,"mdl-button","button"),S.a.KoboButton=Object(S.b)(null,"kobo-button","button"),S.a.KoboLightButton=Object(S.b)(null,"kobo-light-button","button"),S.a.KoboTextButton=Object(S.b)(null,"kobo-text-button","button"),S.a.KoboLightBadge=Object(S.b)(null,"kobo-light-badge","span"),S.a.KoboSelect=Object(S.b)(null,"kobo-select"),S.a.KoboSelect__optionWrapper=Object(S.b)(S.a.KoboSelect,"option-wrapper"),S.a.KoboSelect__optionBadge=Object(S.b)(S.a.KoboSelect,"option-badge"),S.a.PageWrapper=Object(S.b)(null,"page-wrapper"),S.a.PageWrapper__content=Object(S.b)(S.a.PageWrapper,"content"),S.a.Loading=Object(S.b)(null,"loading"),S.a.Loading__inner=Object(S.b)(S.a.Loading,"inner"),S.a.Loading__msg=Object(S.b)(S.a.Loading,"msg"),S.a.EmptyContent=Object(S.b)(null,"empty-content","section"),S.a.EmptyContent__icon=Object(S.b)(S.a.EmptyContent,"icon","i"),S.a.EmptyContent__title=Object(S.b)(S.a.EmptyContent,"title","h1"),S.a.EmptyContent__message=Object(S.b)(S.a.EmptyContent,"message","p"),S.a.EmptyContent__button=Object(S.b)(S.a.EmptyContent,"button","button"),S.a.AssetRow=Object(S.b)(null,"asset-row","li"),S.a.AssetRow__cell=Object(S.b)(S.a.AssetRow,"cell"),S.a.AssetRow__cellmeta=Object(S.b)(S.a.AssetRow,"cellmeta"),S.a.AssetRow__description=Object(S.b)(S.a.AssetRow,"description","span"),S.a.AssetRow__tags=Object(S.b)(S.a.AssetRow,"tags"),S.a.AssetRow__tags__tag=Object(S.b)(S.a.AssetRow,"tags__tag","span"),S.a.AssetRow__tags__notags=Object(S.b)(S.a.AssetRow,"tags__notags","span"),S.a.AssetRow__actionIcon=Object(S.b)(S.a.AssetRow,"action-icon","a"),S.a.AssetRow__buttons=Object(S.b)(S.a.AssetRow,"buttons"),S.a.AssetRow__typeIcon=Object(S.b)(S.a.AssetRow,"type-icon","span"),S.a.ServiceRow=Object(S.b)(null,"service-row"),S.a.ServiceRow__column=Object(S.b)(S.a.ServiceRow,"column"),S.a.ServiceRow__actionButton=Object(S.b)(S.a.ServiceRow,"action-button","button"),S.a.ServiceRow__linkOverlay=Object(S.b)(S.a.ServiceRow,"link-overlay","a"),S.a.ServiceRowButton=Object(S.b)(null,"service-row-button","button"),S.a.FormBuilder=Object(S.b)(null,"form-builder"),S.a.FormBuilder__contents=Object(S.b)(S.a.FormBuilder,"contents"),S.a.FormBuilderMessageBox=Object(S.b)(null,"form-builder-message-box"),S.a.FormBuilderMessageBox__toggle=Object(S.b)(S.a.FormBuilderMessageBox,"toggle","button"),S.a.FormBuilderMessageBox__details=Object(S.b)(S.a.FormBuilderMessageBox,"details","section"),S.a.FormBuilderMeta=Object(S.b)(null,"form-builder-meta"),S.a.FormBuilderMeta__columns=Object(S.b)(S.a.FormBuilderMeta,"columns"),S.a.FormBuilderMeta__column=Object(S.b)(S.a.FormBuilderMeta,"column"),S.a.FormBuilderMeta__row=Object(S.b)(S.a.FormBuilderMeta,"row"),S.a.FormBuilderAside=Object(S.b)(null,"form-builder-aside"),S.a.FormBuilderAside__content=Object(S.b)(S.a.FormBuilderAside,"content"),S.a.FormBuilderAside__header=Object(S.b)(S.a.FormBuilderAside,"header","h2"),S.a.FormBuilderAside__row=Object(S.b)(S.a.FormBuilderAside,"row","section"),S.a.FormBuilderHeader=Object(S.b)(null,"form-builder-header"),S.a.FormBuilderHeader__row=Object(S.b)(S.a.FormBuilderHeader,"row"),S.a.FormBuilderHeader__cell=Object(S.b)(S.a.FormBuilderHeader,"cell"),S.a.FormBuilderHeader__item=Object(S.b)(S.a.FormBuilderHeader,"item","span"),S.a.FormBuilderHeader__button=Object(S.b)(S.a.FormBuilderHeader,"button","button"),S.a.FormBuilderHeader__close=Object(S.b)(S.a.FormBuilderHeader,"close","button"),S.a.FormMedia=Object(S.b)(null,"form-media"),S.a.FormMedia__title=Object(S.b)(S.a.FormMedia,"title"),S.a.FormMedia__upload=Object(S.b)(S.a.FormMedia,"upload"),S.a.FormMedia__list=Object(S.b)(S.a.FormMedia,"list"),S.a.FormMedia__label=Object(S.b)(S.a.FormMedia,"label","label"),S.a.FormMedia__listItem=Object(S.b)(S.a.FormMedia,"list-item","li"),S.a.FormMediaUploadUrl=Object(S.b)(null,"form-media-upload-url"),S.a.FormMediaUploadUrl__label=Object(S.b)(S.a.FormMediaUploadUrl,"label","label"),S.a.FormMediaUploadUrl__form=Object(S.b)(S.a.FormMediaUploadUrl,"form"),S.a.SearchInput=Object(S.b)(null,"search-input","input"),S.a.Search=Object(S.b)(null,"search"),S.a.Search__icon=Object(S.b)(S.a.Search,"icon","i"),S.a.Search__cancel=Object(S.b)(S.a.Search,"cancel","i"),S.a.Search__summary=Object(S.b)(S.a.Search,"summary"),S.a.LibNav=Object(S.b)(null,"lib-nav"),S.a.LibNav__content=Object(S.b)(S.a.LibNav,"content"),S.a.LibNav__header=Object(S.b)(S.a.LibNav,"header"),S.a.LibNav__footer=Object(S.b)(S.a.LibNav,"footer"),S.a.LibNav__search=Object(S.b)(S.a.LibNav,"search"),S.a.LibNav__expanded=Object(S.b)(S.a.LibNav,"expanded"),S.a.LibNav__count=Object(S.b)(S.a.LibNav,"count"),S.a.LibNav__expandedToggle=Object(S.b)(S.a.LibNav,"expandedToggle"),S.a.TemplatesList=Object(S.b)(null,"templates-list"),S.a.TemplatesList__header=Object(S.b)(S.a.TemplatesList,"header"),S.a.TemplatesList__column=Object(S.b)(S.a.TemplatesList,"column"),S.a.TemplatesList__template=Object(S.b)(S.a.TemplatesList,"template","label"),S.a.TemplatesList__templateRadio=Object(S.b)(S.a.TemplatesList,"template-radio","input"),S.a.LibList=Object(S.b)(null,"lib-list","ul"),S.a.LibList__item=Object(S.b)(S.a.LibList,"item","li"),S.a.LibList__tags=Object(S.b)(S.a.LibList,"tags"),S.a.LibList__tag=Object(S.b)(S.a.LibList,"tag","span"),S.a.LibList__label=Object(S.b)(S.a.LibList,"label"),S.a.LibList__dragbox=Object(S.b)(S.a.LibList,"dragbox"),S.a.LibList__qtype=Object(S.b)(S.a.LibList,"qtype"),S.a.SubmissionDataTable=Object(S.b)(null,"submission-data-table"),S.a.SubmissionDataTable__row=Object(S.b)(S.a.SubmissionDataTable,"row"),S.a.SubmissionDataTable__column=Object(S.b)(S.a.SubmissionDataTable,"column"),S.a.SubmissionDataTable__XMLName=Object(S.b)(S.a.SubmissionDataTable,"xml-name"),S.a.SubmissionDataTable__value=Object(S.b)(S.a.SubmissionDataTable,"value"),S.a.TableMeta=Object(S.b)(null,"table-meta"),S.a.TableMeta__counter=Object(S.b)(S.a.TableMeta,"counter"),S.a.TableMeta__additionalText=Object(S.b)(S.a.TableMeta,"additional-text","span"),S.a.TableMeta__bulkOptions=Object(S.b)(S.a.TableMeta,"bulk-options"),S.a.CollectionsWrapper=Object(S.b)(null,"collections-wrapper"),S.a.CollectionNav=Object(S.b)(null,"collection-nav"),S.a.CollectionNav__search=Object(S.b)(S.a.CollectionNav,"search"),S.a.CollectionNav__searchcriteria=Object(S.b)(S.a.CollectionNav,"searchcriteria","ul"),S.a.CollectionNav__searchcriterion=Object(S.b)(S.a.CollectionNav,"searchcriterion","li"),S.a.CollectionNav__actions=Object(S.b)(S.a.CollectionNav,"actions"),S.a.CollectionNav__button=Object(S.b)(S.a.CollectionNav,"button","button"),S.a.CollectionNav__link=Object(S.b)(S.a.CollectionNav,"link","a"),S.a.CollectionNav__searchcancel=Object(S.b)(S.a.CollectionNav,"searchcancel","i"),S.a.CollectionNav__searchicon=Object(S.b)(S.a.CollectionNav,"searchicon","i"),S.a.Library=Object(S.b)(null,"library"),S.a.Library__typeFilter=Object(S.b)(S.a.Library,"type-filter","label"),S.a.List=Object(S.b)(null,"list"),S.a.List__heading=Object(S.b)(S.a.List,"heading"),S.a.List__subheading=Object(S.b)(S.a.List,"subheading"),S.a.AssetList=Object(S.b)(null,"asset-list"),S.a.AssetItems=Object(S.b)(null,"asset-items","ul"),S.a.AssetListSorts=Object(S.b)(null,"asset-list-sorts","div"),S.a.AssetListSorts__item=Object(S.b)(S.a.AssetListSorts,"item"),S.a.FormView=Object(S.b)(null,"form-view"),S.a.FormView__title=Object(S.b)(S.a.FormView,"title"),S.a.FormView__name=Object(S.b)(S.a.FormView,"name"),S.a.FormView__description=Object(S.b)(S.a.FormView,"description"),S.a.FormView__subs=Object(S.b)(S.a.FormView,"subs"),S.a.FormView__toptabs=Object(S.b)(S.a.FormView,"toptabs"),S.a.FormView__sidetabs=Object(S.b)(S.a.FormView,"sidetabs"),S.a.FormView__label=Object(S.b)(S.a.FormView,"label"),S.a.FormView__group=Object(S.b)(S.a.FormView,"group"),S.a.FormView__item=Object(S.b)(S.a.FormView,"item"),S.a.FormView__iconButton=Object(S.b)(S.a.FormView,"icon-button","button"),S.a.FormView__row=Object(S.b)(S.a.FormView,"row"),S.a.FormView__cell=Object(S.b)(S.a.FormView,"cell"),S.a.FormView__cellLabel=Object(S.b)(S.a.FormView,"cell-label"),S.a.FormView__column=Object(S.b)(S.a.FormView,"column"),S.a.FormView__banner=Object(S.b)(S.a.FormView,"banner"),S.a.FormView__link=Object(S.b)(S.a.FormView,"link","a"),S.a.FormView__secondaryButtons=Object(S.b)(S.a.FormView,"secondaryButtons"),S.a.FormView__secondaryButton=Object(S.b)(S.a.FormView,"secondaryButton","button"),S.a.FormView__reportButtons=Object(S.b)(S.a.FormView,"reportButtons"),S.a.FormView__form=Object(S.b)(S.a.FormView,"form","form"),S.a.FormView__map=Object(S.b)(S.a.FormView,"map"),S.a.FormView__mapButton=Object(S.b)(S.a.FormView,"map-button"),S.a.FormView__mapList=Object(S.b)(S.a.FormView,"map-list"),S.a.MainHeader=Object(S.b)(null,"main-header","header"),S.a.MainHeader__icon=Object(S.b)(S.a.MainHeader,"icon","i"),S.a.MainHeader__title=Object(S.b)(S.a.MainHeader,"title"),S.a.MainHeader__counter=Object(S.b)(S.a.MainHeader,"counter"),S.a.ReportView=Object(S.b)(null,"report-view"),S.a.ReportView__wrap=Object(S.b)(S.a.ReportView,"wrap"),S.a.ReportView__item=Object(S.b)(S.a.ReportView,"item"),S.a.ReportView__itemHeading=Object(S.b)(S.a.ReportView,"itemHeading"),S.a.ReportView__headingMeta=Object(S.b)(S.a.ReportView,"headingMeta"),S.a.ReportView__itemContent=Object(S.b)(S.a.ReportView,"itemContent"),S.a.ReportView__headingButton=Object(S.b)(S.a.ReportView,"headingButton","button"),S.a.ReportView__chart=Object(S.b)(S.a.ReportView,"chart"),S.a.GraphSettings=Object(S.b)(null,"graph-settings"),S.a.GraphSettings__buttons=Object(S.b)(S.a.GraphSettings,"buttons"),S.a.GraphSettings__charttype=Object(S.b)(S.a.GraphSettings,"charttype"),S.a.GraphSettings__colors=Object(S.b)(S.a.GraphSettings,"colors"),S.a.GraphSettings__radio=Object(S.b)(S.a.GraphSettings,"radio"),S.a.FormModal=Object(S.b)(null,"form-modal"),S.a.FormModal__form=Object(S.b)(S.a.FormModal,"form","form"),S.a.FormModal__item=Object(S.b)(S.a.FormModal,"item"),S.a.FormModal__group=Object(S.b)(S.a.FormModal,"group"),S.a.Modal=Object(S.b)(null,"modal"),S.a.Modal__backdrop=Object(S.b)(S.a.Modal,"backdrop"),S.a.Modal__body=Object(S.b)(S.a.Modal,"body"),S.a.Modal__content=Object(S.b)(S.a.Modal,"content"),S.a.Modal__header=Object(S.b)(S.a.Modal,"header","header"),S.a.Modal__title=Object(S.b)(S.a.Modal,"title","h4"),S.a.Modal__subheader=Object(S.b)(S.a.Modal,"subheader","header"),S.a.Modal__footer=Object(S.b)(S.a.Modal,"footer","footer"),S.a.Modal__tabs=Object(S.b)(S.a.Modal,"tabs"),S.a.Modal__hr=Object(S.b)(S.a.Modal,"hr","hr"),S.a.PopoverMenu=Object(S.b)(null,"popover-menu"),S.a.PopoverMenu__content=Object(S.b)(S.a.PopoverMenu,"content"),S.a.PopoverMenu__toggle=Object(S.b)(S.a.PopoverMenu,"toggle","a"),S.a.PopoverMenu__link=Object(S.b)(S.a.PopoverMenu,"link","a"),S.a.PopoverMenu__item=Object(S.b)(S.a.PopoverMenu,"item"),S.a.PopoverMenu__heading=Object(S.b)(S.a.PopoverMenu,"heading"),S.a.PopoverMenu__moveTo=Object(S.b)(S.a.PopoverMenu,"moveTo"),S.a.Header=Object(S.b)(null,"header"),S.a.Header__logo=Object(S.b)(S.a.Header,"logo","span"),S.a.LoginBox=Object(S.b)(null,"login-box"),S.a.AccountBox=Object(S.b)(null,"account-box"),S.a.AccountBox__name=Object(S.b)(S.a.AccountBox,"name","div"),S.a.AccountBox__initials=Object(S.b)(S.a.AccountBox,"initials","span"),S.a.AccountBox__menu=Object(S.b)(S.a.AccountBox,"menu","ul"),S.a.AccountBox__menuLI=Object(S.b)(S.a.AccountBox,"menu-li","li"),S.a.AccountBox__menuItem=Object(S.b)(S.a.AccountBox,"menu-item","div"),S.a.AccountBox__menuLink=Object(S.b)(S.a.AccountBox,"menu-link","a"),S.a.AccountSettings=Object(S.b)(null,"account-settings"),S.a.AccountSettings__left=Object(S.b)(S.a.AccountSettings,"left"),S.a.AccountSettings__right=Object(S.b)(S.a.AccountSettings,"right"),S.a.AccountSettings__item=Object(S.b)(S.a.FormModal,"item"),S.a.AccountSettings__desc=Object(S.b)(S.a.AccountSettings,"desc"),S.a.AccountSettings__actions=Object(S.b)(S.a.AccountSettings,"actions"),S.a.UserRow=Object(S.b)(null,"user-row"),S.a.UserRow__info=Object(S.b)(S.a.UserRow,"info"),S.a.UserRow__avatar=Object(S.b)(S.a.UserRow,"avatar"),S.a.UserRow__name=Object(S.b)(S.a.UserRow,"name"),S.a.UserRow__email=Object(S.b)(S.a.UserRow,"email"),S.a.UserRow__perms=Object(S.b)(S.a.UserRow,"perms"),S.a.UserRow__perm=Object(S.b)(S.a.UserRow,"perm"),S.a.UserRow__editor=Object(S.b)(S.a.UserRow,"editor"),S.a.uiPanel=Object(S.b)(null,"ui-panel"),S.a.uiPanel__body=Object(S.b)(S.a.uiPanel,"body"),S.a.FormSidebar=Object(S.b)(null,"form-sidebar"),S.a.FormSidebar__item=Object(S.b)(S.a.FormSidebar,"item","a"),S.a.FormSidebar__itemText=Object(S.b)(S.a.FormSidebar,"item-text"),S.a.FormSidebar__label=Object(S.b)(S.a.FormSidebar,"label","a"),S.a.FormSidebar__labelText=Object(S.b)(S.a.FormSidebar,"label-text"),S.a.FormSidebar__labelCount=Object(S.b)(S.a.FormSidebar,"label-count"),S.a.FormSidebar__grouping=Object(S.b)(S.a.FormSidebar,"grouping"),S.a.KDrawer=Object(S.b)(null,"k-drawer"),S.a.KDrawer__primaryIcons=Object(S.b)(S.a.KDrawer,"primary-icons","nav"),S.a.KDrawer__secondaryIcons=Object(S.b)(S.a.KDrawer,"secondary-icons","nav"),S.a.KDrawer__sidebar=Object(S.b)(S.a.KDrawer,"sidebar","aside"),S.a.HelpBubble=Object(S.b)(null,"help-bubble"),S.a.HelpBubble__close=Object(S.b)(S.a.HelpBubble,"close","button"),S.a.HelpBubble__back=Object(S.b)(S.a.HelpBubble,"back","button"),S.a.HelpBubble__trigger=Object(S.b)(S.a.HelpBubble,"trigger","button"),S.a.HelpBubble__triggerCounter=Object(S.b)(S.a.HelpBubble,"trigger-counter","span"),S.a.HelpBubble__popup=Object(S.b)(S.a.HelpBubble,"popup"),S.a.HelpBubble__popupContent=Object(S.b)(S.a.HelpBubble,"popup-content"),S.a.HelpBubble__row=Object(S.b)(S.a.HelpBubble,"row"),S.a.HelpBubble__rowAnchor=Object(S.b)(S.a.HelpBubble,"row","a"),S.a.HelpBubble__rowWrapper=Object(S.b)(S.a.HelpBubble,"row-wrapper"),S.a.SimpleTable=Object(S.b)(null,"simple-table","table"),S.a.SimpleTable__header=Object(S.b)(S.a.SimpleTable,"header","thead"),S.a.SimpleTable__body=Object(S.b)(S.a.SimpleTable,"body","tbody"),S.a.SimpleTable__footer=Object(S.b)(S.a.SimpleTable,"footer","tfoot"),S.a.SimpleTable__row=Object(S.b)(S.a.SimpleTable,"row","tr"),S.a.SimpleTable__messageRow=Object(S.b)(S.a.SimpleTable,"message-row","tr"),S.a.SimpleTable__cell=Object(S.b)(S.a.SimpleTable,"cell","td"),S.a.AssetsTable=Object(S.b)(null,"assets-table"),S.a.AssetsTable__header=Object(S.b)(S.a.AssetsTable,"header"),S.a.AssetsTable__body=Object(S.b)(S.a.AssetsTable,"body"),S.a.AssetsTable__footer=Object(S.b)(S.a.AssetsTable,"footer"),S.a.AssetsTableRow=Object(S.b)(null,"assets-table-row"),S.a.AssetsTableRow__link=Object(S.b)(S.a.AssetsTableRow,"link","a"),S.a.AssetsTableRow__buttons=Object(S.b)(S.a.AssetsTableRow,"buttons"),S.a.AssetsTableRow__column=Object(S.b)(S.a.AssetsTableRow,"column"),S.a.AssetsTableRow__headerLabel=Object(S.b)(S.a.AssetsTableRow,"header-label","span"),S.a.AssetsTableRow__tags=Object(S.b)(S.a.AssetsTableRow,"tags","div"),S.a.AssetsTableRow__tag=Object(S.b)(S.a.AssetsTableRow,"tag","span"),S.a.AssetsTablePagination=Object(S.b)(null,"assets-table-pagination"),S.a.AssetsTablePagination__button=Object(S.b)(S.a.AssetsTablePagination,"button","button"),S.a.AssetsTablePagination__index=Object(S.b)(S.a.AssetsTablePagination,"index"),S.a.AssetActionButtons=Object(S.b)(null,"asset-action-buttons","menu"),S.a.AssetActionButtons__button=Object(S.b)(S.a.AssetActionButtons,"button","a"),S.a.AssetActionButtons__iconButton=Object(S.b)(S.a.AssetActionButtons,"icon-button","a"),S.a.tagSelect=Object(S.b)(null,"tag-select"),S.a.collectionFilter=Object(S.b)(null,"collection-filter"),S.a.TextBox=Object(S.b)(null,"text-box","label"),S.a.TextBox__label=Object(S.b)(S.a.TextBox,"label"),S.a.TextBox__labelLink=Object(S.b)(S.a.TextBox,"label-link","a"),S.a.TextBox__input=Object(S.b)(S.a.TextBox,"input","input"),S.a.TextBox__description=Object(S.b)(S.a.TextBox,"description"),S.a.TextBox__error=Object(S.b)(S.a.TextBox,"error"),S.a.Checkbox=Object(S.b)(null,"checkbox"),S.a.Checkbox__wrapper=Object(S.b)(S.a.Checkbox,"wrapper","label"),S.a.Checkbox__input=Object(S.b)(S.a.Checkbox,"input","input"),S.a.Checkbox__label=Object(S.b)(S.a.Checkbox,"label","span"),S.a.MultiCheckbox=Object(S.b)(null,"multi-checkbox","ul"),S.a.MultiCheckbox__item=Object(S.b)(S.a.MultiCheckbox,"item","li"),S.a.ToggleSwitch=Object(S.b)(null,"toggle-switch"),S.a.ToggleSwitch__wrapper=Object(S.b)(S.a.ToggleSwitch,"wrapper","label"),S.a.ToggleSwitch__input=Object(S.b)(S.a.ToggleSwitch,"input","input"),S.a.ToggleSwitch__slider=Object(S.b)(S.a.ToggleSwitch,"slider","span"),S.a.ToggleSwitch__label=Object(S.b)(S.a.ToggleSwitch,"label","span"),S.a.Radio=Object(S.b)(null,"radio"),S.a.Radio__row=Object(S.b)(S.a.Radio,"row","label"),S.a.Radio__input=Object(S.b)(S.a.Radio,"input","input"),S.a.Radio__label=Object(S.b)(S.a.Radio,"label","span"),S.a.PasswordStrength=Object(S.b)(null,"password-strength"),S.a.PasswordStrength__title=Object(S.b)(S.a.PasswordStrength,"title"),S.a.PasswordStrength__bar=Object(S.b)(S.a.PasswordStrength,"bar"),S.a.PasswordStrength__indicator=Object(S.b)(S.a.PasswordStrength,"indicator"),S.a.PasswordStrength__messages=Object(S.b)(S.a.PasswordStrength,"messages","ul"),S.a.PasswordStrength__message=Object(S.b)(S.a.PasswordStrength,"message","li"),S.a.Breadcrumbs=Object(S.b)(null,"breadcrumbs"),S.a.Breadcrumbs__crumb=Object(S.b)(S.a.Breadcrumbs,"crumb","a"),S.a.Breadcrumbs__divider=Object(S.b)(S.a.Breadcrumbs,"divider","i"),S.a.AssetInfoBox=Object(S.b)(null,"asset-info-box"),S.a.AssetInfoBox__column=Object(S.b)(S.a.AssetInfoBox,"column"),S.a.AssetInfoBox__cell=Object(S.b)(S.a.AssetInfoBox,"cell"),S.a.AssetInfoBox__toggle=Object(S.b)(S.a.AssetInfoBox,"toggle","button"),S.a.PrintOnly=Object(S.b)(null,"print-only"),S.a.GitRev=Object(S.b)(null,"git-rev"),S.a.GitRev__item=Object(S.b)(S.a.GitRev,"item","div"),S.a.ProjectDownloads=Object(S.b)(null,"project-downloads"),S.a.ProjectDownloads__advancedView=Object(S.b)(S.a.ProjectDownloads,"advanced-view","section"),S.a.ProjectDownloads__column=Object(S.b)(S.a.ProjectDownloads,"column"),S.a.ProjectDownloads__columnRow=Object(S.b)(S.a.ProjectDownloads,"column-row"),S.a.ProjectDownloads__title=Object(S.b)(S.a.ProjectDownloads,"title","span"),S.a.ProjectDownloads__textButton=Object(S.b)(S.a.ProjectDownloads,"text-button","button"),S.a.ProjectDownloads__selectorRow=Object(S.b)(S.a.ProjectDownloads,"selector-row"),S.a.ProjectDownloads__anonymousRow=Object(S.b)(S.a.ProjectDownloads,"anonymous-row"),S.a.ProjectDownloads__legacyIframeWrapper=Object(S.b)(S.a.ProjectDownloads,"legacy-iframe-wrapper"),S.a.ProjectDownloads__submitRow=Object(S.b)(S.a.ProjectDownloads,"submit-row","footer"),S.a.ProjectDownloads__exportsSelector=Object(S.b)(S.a.ProjectDownloads,"exports-selector"),S.a.ProjectDownloads__deleteSettingsButton=Object(S.b)(S.a.ProjectDownloads,"delete-settings-button","button"),S.a.ProjectDownloads__exportsCreator=Object(S.b)(S.a.ProjectDownloads,"exports-creator"),S.a.BackgroundAudioPlayer=Object(S.b)(null,"background-audio-player"),S.a.BackgroundAudioPlayer__label=Object(S.b)(S.a.BackgroundAudioPlayer,"label","label"),S.a.BackgroundAudioPlayer__audio=Object(S.b)(S.a.BackgroundAudioPlayer,"audio","audio");var O=r(18),T=r(448),R=r(55),A=r(2),C=r(50);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=I(e);if(t){var n=I(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return N(this,o)}}function N(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(s,e);var o,r,n,i=D(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={myLibraryCount:0,isLoading:!0},l()(M(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.listenTo(C.a,this.myLibraryStoreChanged),this.setState({isLoading:!1,myLibraryCount:C.a.getCurrentUserTotalAssets()})}},{key:"myLibraryStoreChanged",value:function(){this.setState({isLoading:!1,myLibraryCount:C.a.getCurrentUserTotalAssets()})}},{key:"showLibraryNewModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.LIBRARY_NEW_ITEM})}},{key:"isMyLibrarySelected",value:function(){return this.context.router.isActive("library/my-library")}},{key:"isPublicCollectionsSelected",value:function(){return this.context.router.isActive("library/public-collections")}},{key:"render",value:function(){var e="";return this.state.isLoading&&(e="loading"),a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.KoboButton,{m:["blue","fullwidth"],disabled:!b.a.session.isLoggedIn,onClick:this.showLibraryNewModal},t("new")),a.a.createElement(S.a.FormSidebar,{m:e},a.a.createElement(S.a.FormSidebar__label,{m:{selected:this.isMyLibrarySelected()},href:"#/library/my-library"},a.a.createElement("i",{className:"k-icon k-icon-library"}),a.a.createElement(S.a.FormSidebar__labelText,null,t("My Library")),a.a.createElement(S.a.FormSidebar__labelCount,null,this.state.myLibraryCount)),a.a.createElement(S.a.FormSidebar__label,{m:{selected:this.isPublicCollectionsSelected()},href:"#/library/public-collections"},a.a.createElement("i",{className:"k-icon k-icon-library-public"}),a.a.createElement(S.a.FormSidebar__labelText,null,t("Public Collections")))))}}])&&P(o.prototype,r),n&&P(o,n),s}(h.a.Component);F.contextTypes={router:d.a.object},f()(F.prototype,h.a.ListenerMixin);var U=F,H=U,B=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(F,"LibrarySidebar","/srv/src/kpi/jsapp/js/components/library/librarySidebar.es6"),__REACT_HOT_LOADER__.register(U,"default","/srv/src/kpi/jsapp/js/components/library/librarySidebar.es6")),r(385)),V=r(10),z=r(4),q=r(25),Y=r(111);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=X(e);if(t){var n=X(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return W(this,o)}}function W(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(i,e);var t,o,r,n=K(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);return(t=n.call(this,e)).state={selectedCategories:{Draft:!1,Deployed:!1,Archived:!1},searchContext:R.a.getSearchContext("forms",{filterParams:{assetType:A.COMMON_QUERIES.s},filterTags:A.COMMON_QUERIES.s})},t.store=b.a.pageState,l()(J(t)),t}return t=i,(o=[{key:"componentDidMount",value:function(){this.listenTo(this.searchStore,this.searchChanged),this.isFormList()||this.searchSemaphore()}},{key:"searchChanged",value:function(e){this.setState(e)}},{key:"renderMiniAssetRow",value:function(e){var t="/forms/".concat(e.uid);this.userCan("view_submissions",e)&&e.has_deployment&&e.deployment__submission_count?t+="/summary":t+="/landing";var o=["form-sidebar__item"];return e.uid===this.currentAssetID()&&o.push("form-sidebar__item--active"),a.a.createElement(s.c,{to:t,key:e.uid,className:o.join(" ")},a.a.createElement(Y.a,{asset:e}))}},{key:"toggleCategory",value:function(e){return function(){var t=this.state.selectedCategories;t[e]=!t[e],this.setState({selectedCategories:t})}.bind(this)}},{key:"render",value:function(){var e=this,t=this.state,o="defaultQueryCategorizedResultsLists";return"done"!==t.searchState||!1!==t.searchString&&""!==t.searchString||!t.searchResultsFor||t.searchResultsFor.assetType!==A.COMMON_QUERIES.s||(o="searchResultsCategorizedResultsLists"),"loading"===t.searchState&&!1===t.searchString?a.a.createElement(q.a,null):a.a.createElement(S.a.FormSidebar,null,"loading"===t.defaultQueryState?a.a.createElement(q.a,null):"done"===t.defaultQueryState?Object.keys(A.DEPLOYMENT_CATEGORIES).map((function(r){var n=e.state.selectedCategories[r];t[o][r].length<1&&(n=!1);var i=["k-icon"];return r===A.DEPLOYMENT_CATEGORIES.Deployed.id&&i.push("k-icon-deploy"),r===A.DEPLOYMENT_CATEGORIES.Draft.id&&i.push("k-icon-drafts"),r===A.DEPLOYMENT_CATEGORIES.Archived.id&&i.push("k-icon-archived"),[a.a.createElement(S.a.FormSidebar__label,{m:[r,n?"visible":"collapsed"],onClick:e.toggleCategory(r),key:"".concat(r,"-label")},a.a.createElement("i",{className:i.join(" ")}),a.a.createElement(S.a.FormSidebar__labelText,null,A.DEPLOYMENT_CATEGORIES[r].label),a.a.createElement(S.a.FormSidebar__labelCount,null,t[o][r].length)),a.a.createElement(S.a.FormSidebar__grouping,{m:[r,n?"visible":"collapsed"],key:"".concat(r,"-group")},t[o][r].map(e.renderMiniAssetRow.bind(e)))]})):void 0)}}])&&$(t.prototype,o),r&&$(t,r),i}(h.a.Component);Z.contextTypes={router:d.a.object},f()(Z.prototype,R.a.common),f()(Z.prototype,h.a.ListenerMixin),f()(Z.prototype,O.a.contextRouter),f()(Z.prototype,O.a.permissions);var ee=Z,te=ee,oe=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Z,"SidebarFormsList","/srv/src/kpi/jsapp/js/lists/sidebarForms.es6"),__REACT_HOT_LOADER__.register(ee,"default","/srv/src/kpi/jsapp/js/lists/sidebarForms.es6")),r(21));function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,o){return t&&ae(e.prototype,t),o&&ae(e,o),e}function le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=pe(e);if(t){var n=pe(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return de(this,o)}}function de(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me={headerFilters:"forms",searchContext:R.a.getSearchContext("forms",{filterParams:{assetType:A.COMMON_QUERIES.s},filterTags:A.COMMON_QUERIES.s})},fe=function(e){le(r,e);var o=ce(r);function r(e){var t;return ne(this,r),(t=o.call(this,e)).state=Object(z.assign)({currentAssetId:!1,files:[]},b.a.pageState.state),t.state=Object(z.assign)(me,t.state),t.stores=[b.a.session,b.a.pageState],t.unlisteners=[],l()(ue(t)),t}return ie(r,[{key:"componentDidMount",value:function(){this.unlisteners.push(s.f.listen(this.onRouteChange.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"newFormModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.NEW_FORM})}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.KoboButton,{m:["blue","fullwidth"],disabled:!b.a.session.isLoggedIn,onClick:this.newFormModal},t("new")),a.a.createElement(te,null))}},{key:"onRouteChange",value:function(){this.setState(me)}}]),r}(h.a.Component);fe.contextTypes={router:d.a.object},f()(fe.prototype,R.a.common),f()(fe.prototype,O.a.droppable);var _e=function(e){le(o,e);var t=ce(o);function o(e){var r;return ne(this,o),r=t.call(this,e),l()(ue(r)),r}return ie(o,[{key:"onClick",value:function(e){this.props.href||e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=a.a.createElement("i",{className:"k-icon-".concat(this.props["k-icon"])}),t=[this.props.class,"k-drawer__link"];return this.props.linkto?a.a.createElement(s.c,{to:this.props.linkto,className:t.join(" "),activeClassName:"active","data-tip":this.props.label},e):a.a.createElement("a",{href:this.props.href||"#",className:t.join(" "),onClick:this.onClick,"data-tip":this.props.label},e)}}]),o}(a.a.Component),he=function(e){le(r,e);var o=ce(r);function r(e){var t;return ne(this,r),t=o.call(this,e),l()(ue(t)),t.stores=[b.a.session,b.a.pageState],t}return ie(r,[{key:"render",value:function(){return b.a.session.isLoggedIn?a.a.createElement(S.a.KDrawer,null,a.a.createElement(S.a.KDrawer__primaryIcons,null,a.a.createElement(_e,{label:t("Projects"),linkto:V.b.FORMS,"k-icon":"projects"}),a.a.createElement(_e,{label:t("Library"),linkto:V.b.LIBRARY,"k-icon":"library"})),a.a.createElement(S.a.KDrawer__sidebar,null,this.isLibrary()?a.a.createElement(H,null):a.a.createElement(fe,null)),a.a.createElement(S.a.KDrawer__secondaryIcons,null,b.a.session.isLoggedIn&&a.a.createElement(B.a,null),b.a.session.isLoggedIn&&a.a.createElement(B.b,null),b.a.session.isLoggedIn&&b.a.session.currentAccount.projects_url&&a.a.createElement("a",{href:b.a.session.currentAccount.projects_url,className:"k-drawer__link",target:"_blank","data-tip":t("Projects (legacy)")},a.a.createElement("i",{className:"k-icon k-icon-globe"})),oe.a.isReady&&oe.a.data.source_code_url&&a.a.createElement("a",{href:oe.a.data.source_code_url,className:"k-drawer__link",target:"_blank","data-tip":t("Source")},a.a.createElement("i",{className:"k-icon k-icon-logo-github"})))):null}}]),r}(h.a.Component);f()(he.prototype,R.a.common),f()(he.prototype,O.a.droppable),f()(he.prototype,O.a.contextRouter),he.contextTypes={router:d.a.object};var be=he,ge=be,ye=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(me,"INITIAL_STATE","/srv/src/kpi/jsapp/js/components/drawer.es6"),__REACT_HOT_LOADER__.register(fe,"FormSidebar","/srv/src/kpi/jsapp/js/components/drawer.es6"),__REACT_HOT_LOADER__.register(_e,"DrawerLink","/srv/src/kpi/jsapp/js/components/drawer.es6"),__REACT_HOT_LOADER__.register(he,"Drawer","/srv/src/kpi/jsapp/js/components/drawer.es6"),__REACT_HOT_LOADER__.register(be,"default","/srv/src/kpi/jsapp/js/components/drawer.es6")),r(167)),ve=r(327),ke=r(24),we=r(20);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ae(e);if(t){var n=Ae(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Te(this,o)}}function Te(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=t("The stored permissions are invalid. Please assign them again. If this problem persists, contact help@kobotoolbox.org"),je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(a,e);var t,o,r,n=Oe(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=n.call(this,e),l()(Re(t)),t}return t=a,(o=[{key:"componentDidMount",value:function(){this.listenTo(w.a.permissions.getAssetPermissions.completed,this.validateBackendData)}},{key:"validateBackendData",value:function(e){var t=[],o=[],r=function(e,t){return"".concat(e,"###").concat(t)},n=function(e,t){return e.map((function(e){return r(e,t)}))};e.forEach((function(e){var r=ke.a.getPermission(e.permission);t=we.default.union(t,n(r.implied,e.user)),o=we.default.union(o,n(r.contradictory,e.user))}));var a=!1;o.forEach((function(t){e.forEach((function(e){r(e.permission,e.user)===t&&(a=!0)}))})),a&&Object(z.notify)(Object(z.replaceSupportEmail)(Ce),"error")}},{key:"render",value:function(){return null}}])&&Ee(t.prototype,o),r&&Ee(t,r),a}(a.a.Component);f()(je.prototype,h.a.ListenerMixin);var Pe=je,Le=Pe,De=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Ce,"INVALID_PERMS_ERROR","/srv/src/kpi/jsapp/js/components/permissions/permValidator.es6"),__REACT_HOT_LOADER__.register(je,"PermValidator","/srv/src/kpi/jsapp/js/components/permissions/permValidator.es6"),__REACT_HOT_LOADER__.register(Pe,"default","/srv/src/kpi/jsapp/js/components/permissions/permValidator.es6")),r(14)),Ne=r.n(De),Me=r(48),Ie=r(149);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=qe(e);if(t){var n=qe(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ve(this,o)}}function Ve(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(s,e);var o,r,n,i=Be(s);function s(e){var t,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(o=i.call(this,e)).state={isSessionLoaded:!!b.a.session.isLoggedIn,tags:(null===(t=o.props.asset)||void 0===t?void 0:t.tag_string)||"",isPending:!1},o.unlisteners=[],l()(ze(o)),o}return o=s,(r=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(b.a.session,(function(){e.setState({isSessionLoaded:!0})})),this.unlisteners.push(w.a.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),w.a.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onUpdateAssetCompleted",value:function(){this.setState({isPending:!1}),b.a.pageState.hideModal()}},{key:"onUpdateAssetFailed",value:function(){this.setState({isPending:!1}),Object(z.notify)(t("Failed to update tags"),"error")}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({isPending:!0}),w.a.resources.updateAsset(this.props.asset.uid,{tag_string:this.state.tags})}},{key:"onTagsChange",value:function(e){this.setState({tags:e})}},{key:"getSubmitButtonLabel",value:function(){return this.state.isPending?t("Updatingâ€¦"):t("Update")}},{key:"render",value:function(){return this.state.isSessionLoaded?a.a.createElement(S.a.FormModal__form,{className:"project-settings"},a.a.createElement(S.a.FormModal__item,{m:"wrapper",disabled:this.state.isPending},a.a.createElement(S.a.FormModal__item,null,a.a.createElement(Ie.a,{tags:this.state.tags,onChange:this.onTagsChange}))),a.a.createElement(S.a.Modal__footer,null,a.a.createElement(S.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:this.state.isPending},this.getSubmitButtonLabel()))):a.a.createElement(q.a,null)}}])&&Ue(o.prototype,r),n&&Ue(o,n),s}(a.a.Component);f()(Ye.prototype,h.a.ListenerMixin);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Ye,"AssetTagsForm","/srv/src/kpi/jsapp/js/components/modalForms/assetTagsForm.es6");var Ge=r(36),$e=r(31),Qe=r(92),Ke=r.n(Qe),We=r(13);function Je(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return b.a.pageState.hasPreviousModal()?a.a.createElement(S.a.KoboButton,{m:"whitegray",type:"button",onClick:b.a.pageState.switchToPreviousModal,disabled:e},t("Back")):null}"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Je,"renderBackButton","/srv/src/kpi/jsapp/js/components/modalForms/modalHelpers.es6");var Xe=r(38),Ze=h.a.createStore({isInitialised:!1,data:{isFetchingData:!1,collections:[]},init:function(){s.f.listen(this.startupStore),b.a.session.listen(this.startupStore),w.a.library.getCollections.completed.listen(this.onGetCollectionsCompleted),w.a.library.getCollections.failed.listen(this.onGetCollectionsFailed),w.a.resources.loadAsset.completed.listen(this.onAssetChangedOrCreated),w.a.resources.updateAsset.completed.listen(this.onAssetChangedOrCreated),w.a.resources.cloneAsset.completed.listen(this.onAssetChangedOrCreated),w.a.resources.createResource.completed.listen(this.onAssetChangedOrCreated),w.a.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted),this.startupStore()},startupStore:function(){!this.isInitialised&&Object(Xe.e)()&&b.a.session.isLoggedIn&&!this.data.isFetchingData&&this.fetchData()},onGetCollectionsCompleted:function(e){this.data.collections=e.results,this.data.isFetchingData=!1,this.isInitialised=!0,this.trigger(this.data)},onGetCollectionsFailed:function(){this.data.isFetchingData=!1,this.trigger(this.data)},onAssetChangedOrCreated:function(e){if(e.asset_type===A.ASSET_TYPES.collection.id&&e.owner__username===b.a.session.currentAccount.username){for(var t=!1,o=0;o<this.data.collections.length;o++)if(this.data.collections[o].uid===e.uid){this.data.collections[o]=e,t=!0;break}t||this.data.collections.push(e),this.trigger(this.data)}},onDeleteAssetCompleted:function(e){var t=e.uid;if(e.assetType===A.ASSET_TYPES.collection.id){var o=we.default.findIndex(this.data.collections,{uid:t});-1!==o&&(this.data.collections.splice(o,1),this.trigger(this.data))}},fetchData:function(){this.data.isFetchingData=!0,this.trigger(this.data),w.a.library.getCollections({owner:b.a.session.currentAccount.username,pageSize:0})},find:function(e){return this.data.collections.find((function(t){return t.uid===e}))}}),et=Ze,tt=et;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Ze,"ownedCollectionsStore","/srv/src/kpi/jsapp/js/components/library/ownedCollectionsStore.es6"),__REACT_HOT_LOADER__.register(et,"default","/srv/src/kpi/jsapp/js/components/library/ownedCollectionsStore.es6"));function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=st(e);if(t){var n=st(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return it(this,o)}}function it(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(c,e);var o,r,n,i=at(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).unlisteners=[],t.state={isSessionLoaded:!!b.a.session.isLoggedIn,data:{name:"",organization:"",country:null,sector:null,tags:"",description:""},isPending:!1},l()(lt(t)),t.props.asset&&t.applyPropsData(),t}return o=c,(r=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(b.a.session,(function(){e.setState({isSessionLoaded:!0})})),this.unlisteners.push(w.a.resources.createResource.completed.listen(this.onCreateResourceCompleted.bind(this)),w.a.resources.createResource.failed.listen(this.onCreateResourceFailed.bind(this)),w.a.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),w.a.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this)))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"applyPropsData",value:function(){this.props.asset.name&&(this.state.data.name=this.props.asset.name),this.props.asset.settings.organization&&(this.state.data.organization=this.props.asset.settings.organization),this.props.asset.settings.country&&(this.state.data.country=this.props.asset.settings.country),this.props.asset.settings.sector&&(this.state.data.sector=this.props.asset.settings.sector),this.props.asset.tag_string&&(this.state.data.tags=this.props.asset.tag_string),this.props.asset.settings.description&&(this.state.data.description=this.props.asset.settings.description)}},{key:"onCreateResourceCompleted",value:function(e){this.setState({isPending:!1}),Object(z.notify)(t("##type## ##name## created").replace("##type##",this.getFormAssetType()).replace("##name##",e.name)),b.a.pageState.hideModal(),this.getFormAssetType()===A.ASSET_TYPES.collection.id?s.f.push("/library/asset/".concat(e.uid)):this.getFormAssetType()===A.ASSET_TYPES.template.id&&s.f.push("/library/asset/".concat(e.uid,"/edit"))}},{key:"onCreateResourceFailed",value:function(){this.setState({isPending:!1}),Object(z.notify)(t("Failed to create ##type##").replace("##type##",this.getFormAssetType()),"error")}},{key:"onUpdateAssetCompleted",value:function(){this.setState({isPending:!1}),b.a.pageState.hideModal()}},{key:"onUpdateAssetFailed",value:function(){this.setState({isPending:!1}),Object(z.notify)(t("Failed to update ##type##").replace("##type##",this.getFormAssetType()),"error")}},{key:"onSubmit",value:function(e){if(e.preventDefault(),this.setState({isPending:!0}),this.props.asset)w.a.resources.updateAsset(this.props.asset.uid,{name:this.state.data.name,settings:JSON.stringify({organization:this.state.data.organization,country:this.state.data.country,sector:this.state.data.sector,description:this.state.data.description}),tag_string:this.state.data.tags});else{var t={name:this.state.data.name,asset_type:this.getFormAssetType(),settings:JSON.stringify({organization:this.state.data.organization,country:this.state.data.country,sector:this.state.data.sector,description:this.state.data.description}),tag_string:this.state.data.tags};if(this.isLibrarySingle()&&t.asset_type!==A.ASSET_TYPES.collection.id){var o=tt.find(this.currentAssetID());o&&o.asset_type===A.ASSET_TYPES.collection.id&&(t.parent=o.url)}w.a.resources.createResource(t)}}},{key:"onPropertyChange",value:function(e,t){var o=this.state.data;o[e]=t,this.setState({data:o})}},{key:"onNameChange",value:function(e){this.onPropertyChange("name",We.b.removeInvalidChars(e))}},{key:"onOrganizationChange",value:function(e){this.onPropertyChange("organization",e)}},{key:"onCountryChange",value:function(e){this.onPropertyChange("country",e)}},{key:"onSectorChange",value:function(e){this.onPropertyChange("sector",e)}},{key:"onTagsChange",value:function(e){this.onPropertyChange("tags",e)}},{key:"onDescriptionChange",value:function(e){this.onPropertyChange("description",We.b.removeInvalidChars(e.target.value))}},{key:"getFormAssetType",value:function(){return this.props.asset?this.props.asset.asset_type:this.props.assetType}},{key:"isSubmitEnabled",value:function(){return!this.state.isPending}},{key:"getSubmitButtonLabel",value:function(){return this.props.asset?this.state.isPending?t("Savingâ€¦"):t("Save"):this.state.isPending?t("Creatingâ€¦"):t("Create")}},{key:"render",value:function(){if(!this.state.isSessionLoaded||!oe.a.isReady)return a.a.createElement(q.a,null);var e=oe.a.data.available_sectors,o=oe.a.data.available_countries;return a.a.createElement(S.a.FormModal__form,{className:"project-settings"},a.a.createElement(S.a.FormModal__item,{m:"wrapper",disabled:this.state.isPending},a.a.createElement(S.a.FormModal__item,null,a.a.createElement($e.a,{value:this.state.data.name,onChange:this.onNameChange,label:t("Name")})),a.a.createElement(S.a.FormModal__item,null,a.a.createElement($e.a,{value:this.state.data.organization,onChange:this.onOrganizationChange,label:t("Organization")})),a.a.createElement(S.a.FormModal__item,null,a.a.createElement("label",{htmlFor:"country"},t("Country")),a.a.createElement(Ge.a,{id:"country",value:this.state.data.country,onChange:this.onCountryChange,options:o,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),a.a.createElement(S.a.FormModal__item,null,a.a.createElement("label",{htmlFor:"sector"},t("Primary Sector")),a.a.createElement(Ge.a,{id:"sector",value:this.state.data.sector,onChange:this.onSectorChange,options:e,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isClearable:!0})),a.a.createElement(S.a.FormModal__item,null,a.a.createElement(Ie.a,{tags:this.state.data.tags,onChange:this.onTagsChange,label:t("Tags")})),a.a.createElement(S.a.FormModal__item,null,a.a.createElement(Ke.a,{onChange:this.onDescriptionChange,value:this.state.data.description,placeholder:t("Enter short description here")}))),a.a.createElement(S.a.Modal__footer,null,Je(this.state.isPending),a.a.createElement(S.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:!this.isSubmitEnabled()},this.getSubmitButtonLabel())))}}])&&rt(o.prototype,r),n&&rt(o,n),c}(a.a.Component);f()(ct.prototype,h.a.ListenerMixin),f()(ct.prototype,O.a.contextRouter),ct.contextTypes={router:d.a.object};"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(ct,"LibraryAssetForm","/srv/src/kpi/jsapp/js/components/modalForms/libraryAssetForm.es6");function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ht(e);if(t){var n=ht(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return ft(this,o)}}function ft(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?_t(e):t}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(c,e);var o,r,n,i=mt(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={isSessionLoaded:!!b.a.session.isLoggedIn},l()(_t(t)),t}return o=c,(r=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(b.a.session,(function(){e.setState({isSessionLoaded:!0})}))}},{key:"goToAssetCreator",value:function(){b.a.pageState.hideModal();var e=V.b.NEW_LIBRARY_ITEM;if(this.isLibrarySingle()){var t=tt.find(this.currentAssetID());t&&t.asset_type===A.ASSET_TYPES.collection.id&&(e=V.b.NEW_LIBRARY_CHILD.replace(":uid",t.uid))}s.f.push(e)}},{key:"goToCollection",value:function(){b.a.pageState.switchModal({type:A.MODAL_TYPES.LIBRARY_COLLECTION,previousType:A.MODAL_TYPES.LIBRARY_NEW_ITEM})}},{key:"goToTemplate",value:function(){b.a.pageState.switchModal({type:A.MODAL_TYPES.LIBRARY_TEMPLATE,previousType:A.MODAL_TYPES.LIBRARY_NEW_ITEM})}},{key:"goToUpload",value:function(){b.a.pageState.switchModal({type:A.MODAL_TYPES.LIBRARY_UPLOAD,previousType:A.MODAL_TYPES.LIBRARY_NEW_ITEM})}},{key:"render",value:function(){return this.state.isSessionLoaded?a.a.createElement(S.a.FormModal__form,{className:"project-settings project-settings--form-source"},a.a.createElement(S.a.FormModal__item,{m:"form-source-buttons"},a.a.createElement("button",{onClick:this.goToAssetCreator},a.a.createElement("i",{className:"k-icon k-icon-block"}),t("Question Block")),a.a.createElement("button",{onClick:this.goToTemplate},a.a.createElement("i",{className:"k-icon k-icon-template"}),t("Template")),a.a.createElement("button",{onClick:this.goToUpload},a.a.createElement("i",{className:"k-icon k-icon-upload"}),t("Upload")),a.a.createElement("button",{onClick:this.goToCollection},a.a.createElement("i",{className:"k-icon k-icon-folder"}),t("Collection")))):a.a.createElement(q.a,null)}}])&&ut(o.prototype,r),n&&ut(o,n),c}(a.a.Component);f()(bt.prototype,h.a.ListenerMixin),f()(bt.prototype,O.a.contextRouter),bt.contextTypes={router:d.a.object};var gt=bt,yt=gt,vt=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(bt,"LibraryNewItemForm","/srv/src/kpi/jsapp/js/components/modalForms/libraryNewItemForm.es6"),__REACT_HOT_LOADER__.register(gt,"default","/srv/src/kpi/jsapp/js/components/modalForms/libraryNewItemForm.es6")),r(77));function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Tt(e);if(t){var n=Tt(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return St(this,o)}}function St(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?Ot(e):t}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rt=[{value:A.ASSET_TYPES.block.id,label:A.ASSET_TYPES.block.label},{value:A.ASSET_TYPES.template.id,label:A.ASSET_TYPES.template.label}],At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(s,e);var o,r,n,i=Et(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isSessionLoaded:!!b.a.session.isLoggedIn,isPending:!1,desiredType:Rt[0],currentFile:t.props.file||null},l()(Ot(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(b.a.session,(function(){e.setState({isSessionLoaded:!0})}))}},{key:"isSubmitEnabled",value:function(){return!this.state.isPending&&null!==this.state.currentFile}},{key:"onFileDrop",value:function(e){e[0]&&this.setState({currentFile:e[0]})}},{key:"onDesiredTypeChange",value:function(e){this.setState({desiredType:e})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({isPending:!0}),this.dropFiles([this.state.currentFile],[],e,{desired_type:this.state.desiredType.value})}},{key:"render",value:function(){return this.state.isSessionLoaded?a.a.createElement(S.a.FormModal__form,{className:"project-settings"},a.a.createElement(S.a.Modal__subheader,null,t("Import an XLSForm from your computer.")),!this.state.isPending&&a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.FormModal__item,null,a.a.createElement(vt.a,{onDrop:this.onFileDrop.bind(this),multiple:!1,className:"dropzone",activeClassName:"dropzone-active",rejectClassName:"dropzone-reject",accept:Object(z.validFileTypes)()},a.a.createElement("i",{className:"k-icon k-icon-xls-file"}),this.state.currentFile&&this.state.currentFile.name,!this.state.currentFile&&t(" Drag and drop the XLSForm file here or click to browse"))),a.a.createElement(S.a.FormModal__item,null,a.a.createElement("label",{htmlFor:"desired-type"},t("Choose desired type")),a.a.createElement(Ge.a,{id:"desired-type",value:this.state.desiredType,onChange:this.onDesiredTypeChange,options:Rt,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}))),this.state.isPending&&a.a.createElement("div",{className:"dropzone"},a.a.createElement(q.a,{message:t("Uploading fileâ€¦")})),a.a.createElement(S.a.Modal__footer,null,Je(this.state.isPending),a.a.createElement(S.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:!this.isSubmitEnabled()},t("Upload")))):a.a.createElement(q.a,null)}}])&&wt(o.prototype,r),n&&wt(o,n),s}(a.a.Component);f()(At.prototype,h.a.ListenerMixin),f()(At.prototype,O.a.droppable),At.contextTypes={router:d.a.object};var Ct=At,jt=Ct,Pt=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Rt,"DESIRED_TYPES","/srv/src/kpi/jsapp/js/components/modalForms/libraryUploadForm.es6"),__REACT_HOT_LOADER__.register(At,"LibraryUploadForm","/srv/src/kpi/jsapp/js/components/modalForms/libraryUploadForm.es6"),__REACT_HOT_LOADER__.register(Ct,"default","/srv/src/kpi/jsapp/js/components/modalForms/libraryUploadForm.es6")),r(46));function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ut(e);if(t){var n=Ut(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return It(this,o)}}function It(e,t){return!t||"object"!==Lt(t)&&"function"!=typeof t?Ft(e):t}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(s,e);var o,r,n,i=Mt(s);function s(e){var t,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),e.asset&&(o=e.asset.content.settings.submission_url,r=e.asset.content.settings.public_key),t.state={asset:e.asset,assetUid:e.assetUid,submissionURL:o||"",publicKey:r||"",clearEncryption:!1,isPending:!1},l()(Ft(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.listenTo(Pt.a,this.onAssetsChange),!this.state.asset&&this.state.assetUid&&(Pt.a.data[this.state.assetUid]?this.onAssetChange(Pt.a.data[this.state.assetUid]):b.a.allAssets.whenLoaded(this.props.assetUid,this.onAssetChange))}},{key:"onAssetChange",value:function(e){this.setState({asset:e,isPending:!1,submissionURL:e.content.settings.submission_url,publicKey:e.content.settings.public_key}),b.a.pageState.showModal({type:A.MODAL_TYPES.ENCRYPT_FORM,asset:e})}},{key:"onAssetsChange",value:function(e){var t;this.state.asset?t=this.state.asset.uid:this.state.assetUid&&(t=this.state.assetUid),null!==e.uid&&this.onAssetChange(e[t])}},{key:"updateAsset",value:function(e){w.a.resources.updateAsset(this.props.asset.uid,{content:JSON.stringify(e)})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.setState({isPending:!0});var t=this.state.asset.content;t.settings.submission_url=this.state.submissionURL,t.settings.public_key=this.state.publicKey,this.updateAsset(t)}},{key:"onRemove",value:function(e){e.preventDefault(),this.setState({clearEncryption:!0}),this.setState({isPending:!0});var t=this.state.asset.content;t.settings.submission_url="",t.settings.public_key="",this.updateAsset(t)}},{key:"onSubmissionURLChange",value:function(e){this.setState({submissionURL:e,clearEncryption:!1})}},{key:"onPublicKeyChange",value:function(e){this.setState({publicKey:e,clearEncryption:!1})}},{key:"openEncryptionHelp",value:function(){window.open("https://support.kobotoolbox.org/encrypting_forms.html","_blank")}},{key:"render",value:function(){return a.a.createElement(S.a.FormView__form,{m:"add-language-fields"},a.a.createElement(S.a.FormView__cell,{m:"encrypt-url"},a.a.createElement(S.a.FormModal__item,null,a.a.createElement("label",null,t("Submission URL")),a.a.createElement($e.a,{value:this.state.clearEncryption?"":this.state.submissionURL,onChange:this.onSubmissionURLChange}))),a.a.createElement(S.a.FormView__cell,{m:"encrypt-key"},a.a.createElement(S.a.FormModal__item,null,a.a.createElement("label",null,t("Public key")),a.a.createElement($e.a,{value:this.state.clearEncryption?"":this.state.publicKey,onChange:this.onPublicKeyChange}))),a.a.createElement(S.a.FormView__cell,{m:"submit-button"},a.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored",disabled:this.state.isPending,onClick:this.onSubmit,type:"submit"},t("Set encryption")),a.a.createElement("button",{className:"remove-encryption mdl-button mdl-button--colored mdl-button--red mdl-button--raised",disabled:this.state.isPending,onClick:this.onRemove,type:"submit"},t("Remove encryption")),a.a.createElement("button",{className:"encrypt-help",onClick:this.openEncryptionHelp,"data-tip":t("Learn more about encrypting forms")},a.a.createElement("i",{className:"k-icon k-icon-help"}))))}}])&&Dt(o.prototype,r),n&&Dt(o,n),s}(a.a.Component);f()(Ht.prototype,h.a.ListenerMixin);var Bt=Ht,Vt=Bt,zt=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Ht,"EncryptForm","/srv/src/kpi/jsapp/js/components/modalForms/encryptForm.es6"),__REACT_HOT_LOADER__.register(Bt,"default","/srv/src/kpi/jsapp/js/components/modalForms/encryptForm.es6")),r(168));r(560);function qt(e){return function(e){if(Array.isArray(e))return Yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yt(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Yt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function Qt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(o),!0).forEach((function(t){Kt(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):$t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Kt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,o){return t&&Jt(e.prototype,t),o&&Jt(e,o),e}function Zt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=no(e);if(t){var n=no(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return oo(this,o)}}function oo(e,t){return!t||"object"!==Gt(t)&&"function"!=typeof t?ro(e):t}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ao=t("n/d"),io=t("Multiple responses"),lo=function(e){Zt(r,e);var o=to(r);function r(e){var t;return Wt(this,r),(t=o.call(this,e)).state={isPending:!1,overrides:{},selectedQuestion:null,selectedQuestionOverride:null,filterByName:"",filterByValue:""},t.unlisteners=[],l()(ro(t)),t}return Xt(r,[{key:"componentDidMount",value:function(){this.unlisteners.push(w.a.submissions.bulkPatchValues.completed.listen(this.onBulkPatchValuesCompleted),w.a.submissions.bulkPatchValues.failed.listen(this.onBulkPatchValuesFailed)),this.setModalTitleToList()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onBulkPatchValuesCompleted",value:function(){this.setState({isPending:!1}),this.props.onModalClose()}},{key:"onBulkPatchValuesFailed",value:function(){this.setState({isPending:!1})}},{key:"setModalTitleToList",value:function(){this.props.onSetModalTitle(t("Displaying multiple submissions (##count## selected of ##total##)").replace("##count##",this.props.selectedSubmissions.length).replace("##total##",this.props.totalSubmissions))}},{key:"setModalTitleToSingleQuestion",value:function(e){this.props.onSetModalTitle(t('Editing "##question##" for ##count## submissions').replace("##question##",e).replace("##count##",this.props.selectedSubmissions.length))}},{key:"onRowOverrideChange",value:function(e,t){e===this.state.selectedQuestion.name&&(void 0===t?this.setState({selectedQuestionOverride:null}):this.setState({selectedQuestionOverride:t}))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var o={},r=Object(We.j)(this.props.asset.content.survey);Object.keys(this.state.overrides).forEach((function(e){o[r[e]]=t.state.overrides[e]})),this.setState({isPending:!0}),w.a.submissions.bulkPatchValues(this.props.asset.uid,this.props.selectedSubmissions,o)}},{key:"onReset",value:function(){this.setState({overrides:{}})}},{key:"onFilterByNameChange",value:function(e){this.setState({filterByName:e})}},{key:"onFilterByValueChange",value:function(e){this.setState({filterByValue:e})}},{key:"selectQuestion",value:function(e){this.setState({selectedQuestion:e,selectedQuestionOverride:this.state.overrides[e.name]}),this.setModalTitleToSingleQuestion(e.label)}},{key:"goBackToList",value:function(){this.setState({selectedQuestion:null,selectedQuestionOverride:null}),this.setModalTitleToList()}},{key:"saveOverride",value:function(){var e=y()(this.state.overrides);null===this.state.selectedQuestionOverride||"string"==typeof this.state.selectedQuestionOverride&&this.state.selectedQuestionOverride.length>=1?e[this.state.selectedQuestion.name]=this.state.selectedQuestionOverride:delete e[this.state.selectedQuestion.name],this.setState({overrides:e}),this.goBackToList()}},{key:"getDisplayData",value:function(){var e=this,t=Object(We.f)(this.props.asset.content.survey),o=Object(We.j)(this.props.asset.content.survey);return t=t.filter((function(t){if(t.type===A.QUESTION_TYPES.calculate.id||t.type===A.QUESTION_TYPES.note.id||t.type===A.QUESTION_TYPES.hidden.id)return!1;t.selectedData=[];var r=o[t.name];return e.props.data.forEach((function(o){e.props.selectedSubmissions.includes(String(o._id))&&t.selectedData.push({sid:o._id,value:o[r]})})),!0}))}},{key:"renderSupportUrlLink",value:function(){return oe.a.isReady&&oe.a.data.support_url?a.a.createElement("a",{href:oe.a.data.support_url+"howto_edit_multiple_submissions.html",target:"_blank"},t("in the help article")):null}},{key:"renderRow",value:function(e,o){var r=e;void 0!==e.refIndex&&(r=e.item);var n=[];return r.hasRepatParent&&n.push("bulk-edit-row-disabled"),a.a.createElement(S.a.SimpleTable__row,{key:o,m:n},a.a.createElement(S.a.SimpleTable__cell,null,Object(We.o)(r.type)),a.a.createElement(S.a.SimpleTable__cell,null,r.parents.length>0&&a.a.createElement("small",null,r.parents.join(" / ")+" /"),a.a.createElement("div",null,r.isRequired&&a.a.createElement("strong",{title:t("Required")},"*Â "),r.label)),a.a.createElement(S.a.SimpleTable__cell,null,r.hasRepatParent&&a.a.createElement("em",null,t("Editing responses from repeat group questions is not possible yet.")),!r.hasRepatParent&&this.renderRowDataValues(r.name,r.selectedData)),a.a.createElement(S.a.SimpleTable__cell,null,a.a.createElement(S.a.KoboTextButton,{m:"blue",onClick:this.selectQuestion.bind(this,r)},t("Edit"))))}},{key:"renderRowDataValues",value:function(e,t){var o=this.state.overrides[e];if(void 0!==o)return null===o?a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"blue-response-dot"})," ",ao):a.a.createElement(a.a.Fragment,null,a.a.createElement("i",{className:"blue-response-dot"})," ",o);var r=new Set;t.forEach((function(e){e.value?r.add(e.value):r.add(ao)}));var n=Array.from(r);return 1===n.length?n[0]:a.a.createElement("em",null,io)}},{key:"renderList",value:function(){var e=this.getDisplayData();return""!==this.state.filterByName&&(e=new zt.a(e,Qt(Qt({},A.FUSE_OPTIONS),{},{keys:["label"]})).search(this.state.filterByName)),""!==this.state.filterByValue&&(e=new zt.a(e,Qt(Qt({},A.FUSE_OPTIONS),{},{keys:["selectedData.value"]})).search(this.state.filterByValue)),a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.FormModal__item,{m:"wrapper"},t("You are currently seeing multiple submissions at once. You can select specific questions to edit or remove responses in bulk. If you want to edit only one submission, click on the desired submission on the navigation menu on the top-left corner of this table, or go back to the general table view. You can learn more about bulk actions")," ",this.renderSupportUrlLink(),"."),a.a.createElement(S.a.FormModal__item,{m:"wrapper"},a.a.createElement("i",{className:"blue-response-dot"}),t("Updated responses")),a.a.createElement(S.a.SimpleTable,{m:"bulk-edit-list"},a.a.createElement(S.a.SimpleTable__header,null,a.a.createElement(S.a.SimpleTable__row,null,a.a.createElement(S.a.SimpleTable__cell,null,t("Type")),a.a.createElement(S.a.SimpleTable__cell,null,t("Question")),a.a.createElement(S.a.SimpleTable__cell,null,t("Response")),a.a.createElement(S.a.SimpleTable__cell,null,t("Action"))),a.a.createElement(S.a.SimpleTable__row,null,a.a.createElement(S.a.SimpleTable__cell,null),a.a.createElement(S.a.SimpleTable__cell,null,a.a.createElement($e.a,{customModifiers:"on-white",value:this.state.filterByName,onChange:this.onFilterByNameChange,placeholder:t("Type to filter")})),a.a.createElement(S.a.SimpleTable__cell,null,a.a.createElement($e.a,{customModifiers:"on-white",value:this.state.filterByValue,onChange:this.onFilterByValueChange,placeholder:t("Type to filter")})),a.a.createElement(S.a.SimpleTable__cell,null))),a.a.createElement(S.a.SimpleTable__body,null,e.map(this.renderRow))),a.a.createElement(S.a.Modal__footer,null,a.a.createElement(S.a.KoboButton,{m:"red",type:"button",onClick:this.onReset,disabled:this.state.isPending||0===Object.keys(this.state.overrides).length},t("Discard Changes")),a.a.createElement(S.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:this.state.isPending||0===Object.keys(this.state.overrides).length},t("Confirm & close"))))}},{key:"renderSelectedQuestion",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.FormModal__item,{m:"wrapper"},t("You are about to edit responses for one or multiple submissions at once. Use the XML syntax in the text box below. You can also select one of the existing responses from the table of responses. Learn more about how to edit specific responses for one or multiple submissions")," ",this.renderSupportUrlLink(),"."),a.a.createElement(S.a.FormModal__item,{m:"wrapper"},a.a.createElement(so,{question:this.state.selectedQuestion,overrideData:this.state.selectedQuestionOverride,originalData:this.state.selectedQuestion.selectedData,onChange:this.onRowOverrideChange})),a.a.createElement(S.a.Modal__footer,null,a.a.createElement(S.a.KoboButton,{className:"footer-back-button",m:"whitegray",type:"button",onClick:this.goBackToList},t("Back")),a.a.createElement(S.a.KoboButton,{m:"blue",type:"button",onClick:this.saveOverride},t("Save"))))}},{key:"render",value:function(){return a.a.createElement(S.a.FormModal__form,{m:"bulk-edit-submissions"},null===this.state.selectedQuestion&&this.renderList(),null!==this.state.selectedQuestion&&this.renderSelectedQuestion())}}]),r}(a.a.Component),so=function(e){Zt(r,e);var o=to(r);function r(e){var t;return Wt(this,r),t=o.call(this,e),l()(ro(t)),t}return Xt(r,[{key:"onChange",value:function(e,t){t&&t.preventDefault(),this.props.onChange(this.props.question.name,e)}},{key:"getPlaceholderValue",value:function(){var e=t("Type new response for selected submissions");return null===this.props.overrideData&&(e=ao),e}},{key:"getUniqueResponses",value:function(){var e=new Map;return this.props.originalData.forEach((function(t){e.has(t.value)?e.set(t.value,e.get(t.value)+1):e.set(t.value,1)})),e=new Map(qt(e.entries()).sort((function(e,t){return t[1]-e[1]})))}},{key:"renderResponseRow",value:function(e){var o=e[1],r=e[0],n=r,i=r;void 0===r&&(n=ao,i=null);var l=(o/this.props.originalData.length*100).toFixed(2);return a.a.createElement(S.a.SimpleTable__row,{key:n},a.a.createElement(S.a.SimpleTable__cell,null,n),a.a.createElement(S.a.SimpleTable__cell,null,o),a.a.createElement(S.a.SimpleTable__cell,null,l),a.a.createElement(S.a.SimpleTable__cell,null,a.a.createElement(S.a.KoboTextButton,{m:"blue",onClick:this.onChange.bind(this,i)},t("Select"))))}},{key:"render",value:function(){var e="";return"string"==typeof this.props.overrideData&&(e=this.props.overrideData),a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.FormView__cell,{m:["columns","columns-top"]},a.a.createElement(S.a.FormView__cell,{m:"column-icon"},Object(We.o)(this.props.question.type)),a.a.createElement(S.a.FormView__cell,{m:"column-1"},a.a.createElement("h2",null,this.props.question.label),a.a.createElement($e.a,{customModifiers:["on-white","bulk-edit-response"],type:"text-multiline",value:e,onChange:this.onChange,placeholder:this.getPlaceholderValue()}))),a.a.createElement(S.a.SimpleTable,{m:"bulk-edit-responses"},a.a.createElement(S.a.SimpleTable__header,null,a.a.createElement(S.a.SimpleTable__row,null,a.a.createElement(S.a.SimpleTable__cell,null,t("Response value")),a.a.createElement(S.a.SimpleTable__cell,null,t("Frequency")),a.a.createElement(S.a.SimpleTable__cell,null,t("Percentage")),a.a.createElement(S.a.SimpleTable__cell,null,t("Action")))),a.a.createElement(S.a.SimpleTable__body,null,Array.from(this.getUniqueResponses()).map(this.renderResponseRow))))}}]),r}(a.a.Component),co=lo,uo=co,po=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ao,"EMPTY_VALUE_LABEL","/srv/src/kpi/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(null,"EMPTY_VALUE","/srv/src/kpi/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(io,"MULTIPLE_VALUES_LABEL","/srv/src/kpi/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register("howto_edit_multiple_submissions.html","HELP_ARTICLE_URL","/srv/src/kpi/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(lo,"BulkEditSubmissionsForm","/srv/src/kpi/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(so,"BulkEditRowForm","/srv/src/kpi/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6"),__REACT_HOT_LOADER__.register(co,"default","/srv/src/kpi/jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6")),r(131)),mo=r(453),fo=(r(564),r(33)),_o=r.n(fo);function ho(e){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=wo(e);if(t){var n=wo(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return vo(this,o)}}function vo(e,t){return!t||"object"!==ho(t)&&"function"!=typeof t?ko(e):t}function ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wo(e){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(s,e);var o,r,n,i=yo(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isAwaitingAssetChange:!1,isCopyFormVisible:!1,sourceUid:null,sourceName:null,targetUid:t.props.uid,targetName:b.a.allAssets.byUid[t.props.uid].name},l()(ko(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.listenTo(Pt.a,this.onAssetChange),this.listenTo(w.a.permissions.copyPermissionsFrom.completed,this.onPermissionsCopied)}},{key:"onPermissionsCopied",value:function(){Object(z.notify)(t("permissions were copied successfully"))}},{key:"onAssetChange",value:function(e){e[this.state.targetUid]&&this.state.isAwaitingAssetChange&&this.setState({isAwaitingAssetChange:!1,isCopyFormVisible:!1})}},{key:"toggleCopyForm",value:function(){this.setState({isCopyFormVisible:!this.state.isCopyFormVisible})}},{key:"getSelectedProjectOption",value:function(){return!!this.state.sourceUid&&{value:this.state.sourceUid,label:this.state.sourceName}}},{key:"onSelectedProjectChange",value:function(e){null!==e&&this.setState({sourceUid:e.value,sourceName:b.a.allAssets.byUid[e.value].name})}},{key:"safeCopyPermissionsFrom",value:function(){var e=this;if(this.state.sourceUid){var o=Ne.a.dialog("confirm"),r=t("You are about to copy permissions from ##source to ##target. This action cannot be undone.").replace("##source","<strong>".concat(this.state.sourceName,"</strong>")).replace("##target","<strong>".concat(this.state.targetName,"</strong>")),n={title:t("Are you sure you want to copy permissions?"),message:r,labels:{ok:t("Proceed"),cancel:t("Cancel")},onok:function(){e.setState({isAwaitingAssetChange:!0}),w.a.permissions.copyPermissionsFrom(e.state.sourceUid,e.state.targetUid)},oncancel:function(){o.destroy()}};o.set(n).show()}}},{key:"render",value:function(){var e=null!==this.state.sourceUid&&!this.state.isAwaitingAssetChange,o=[];for(var r in b.a.allAssets.byUid)b.a.allAssets.byUid.hasOwnProperty(r)&&r!==this.state.targetUid&&o.push({value:r,label:b.a.allAssets.byUid[r].name||t("Unlabelled")});var n=_o()("copy-team-permissions",this.state.isCopyFormVisible?"copy-team-permissions--opened":"");return a.a.createElement(S.a.FormModal__item,{className:n},a.a.createElement("button",{className:"copy-team-permissions-opener",onClick:this.toggleCopyForm},t("Copy team from another project"),a.a.createElement("i",{className:"k-icon k-icon-next"})),this.state.isCopyFormVisible&&a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormModal__item,null,t("This will overwrite any existing sharing settings defined in this project.")),a.a.createElement(S.a.FormModal__item,{m:["gray-row","flexed-row","copy-team-permissions"]},a.a.createElement(Ge.a,{id:"teamPermissions",ref:"sourceUid",value:this.getSelectedProjectOption(),isClearable:!1,placeholder:t("Select source projectâ€¦"),options:o,onChange:this.onSelectedProjectChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"}),a.a.createElement(S.a.KoboButton,{id:"copyTeamPermissionsImportButton",m:"blue",disabled:!e,onClick:this.safeCopyPermissionsFrom},t("copy")))))}}])&&bo(o.prototype,r),n&&bo(o,n),s}(a.a.Component);f()(xo.prototype,h.a.ListenerMixin);var Eo=xo,So=Eo,Oo=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(xo,"CopyTeamPermissions","/srv/src/kpi/jsapp/js/components/permissions/copyTeamPermissions.es6"),__REACT_HOT_LOADER__.register(Eo,"default","/srv/src/kpi/jsapp/js/components/permissions/copyTeamPermissions.es6")),r(34)),To=r(56),Ro=r(19);function Ao(e){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=No(e);if(t){var n=No(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Lo(this,o)}}function Lo(e,t){return!t||"object"!==Ao(t)&&"function"!=typeof t?Do(e):t}function Do(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mo=t("Enter usernames separated by comma"),Io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jo(e,t)}(s,e);var o,r,n,i=Po(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(Do(t)),t.state={usernamesBeingChecked:new Set,isSubmitPending:!1,isEditingUsername:!1,username:""},t.setupStateCheckbox(Ro.a.formView),t.setupStateCheckbox(Ro.a.formEdit),t.setupStateCheckbox(Ro.a.formManage),t.setupStateCheckbox(Ro.a.submissionsView),t.setupStateCheckbox(Ro.a.submissionsAdd),t.setupStateCheckbox(Ro.a.submissionsEdit),t.setupStateCheckbox(Ro.a.submissionsValidate),t.setupStateCheckbox(Ro.a.submissionsDelete),t.applyPropsData(),t}return o=s,(r=[{key:"setupStateCheckbox",value:function(e){this.state[e]=!1,this.state[e+"Disabled"]=!1,Ro.c[e]&&(this.state[Ro.c[e]]=!1,this.state[Ro.c[e]+"Disabled"]=!1,this.state[Ro.c[e]+Ro.h]=[])}},{key:"applyPropsData",value:function(){if(this.props.permissions){var e=To.a.buildFormData(this.props.permissions);this.state=this.applyValidityRules(Object(z.assign)(this.state,e))}this.props.username&&(this.state.username=this.props.username),this.applySubmissionsAddRules(this.state)}},{key:"componentDidMount",value:function(){this.listenTo(w.a.permissions.bulkSetAssetPermissions.completed,this.onBulkSetAssetPermissionCompleted),this.listenTo(w.a.permissions.bulkSetAssetPermissions.failed,this.onBulkSetAssetPermissionFailed),this.listenTo(b.a.userExists,this.onUserExistsStoreChange)}},{key:"onBulkSetAssetPermissionCompleted",value:function(){this.setState({isSubmitPending:!1}),this.notifyParentAboutSubmitEnd(!0)}},{key:"onBulkSetAssetPermissionFailed",value:function(){this.setState({isSubmitPending:!1}),this.notifyParentAboutSubmitEnd(!1)}},{key:"notifyParentAboutSubmitEnd",value:function(e){this.state.isSubmitPending||"function"!=typeof this.props.onSubmitEnd||this.props.onSubmitEnd(e)}},{key:"applyValidityRules",value:function(e){var t=this;return Object.keys(Ro.b).forEach((function(t){e[t+"Disabled"]=!1})),this.applySubmissionsAddRules(e),Object.keys(Ro.b).forEach((function(o){t.applyValidityRulesForCheckbox(o,e)})),Object.keys(Ro.b).forEach((function(t){t.endsWith(Ro.g)&&!1===e[t]&&(e[t+Ro.h]=[])})),e}},{key:"applySubmissionsAddRules",value:function(e){var t;this.isAssignable(A.PERMISSIONS_CODENAMES.add_submissions)&&!0!==(null===(t=b.a.session.currentAccount.extra_details)||void 0===t?void 0:t.require_auth)&&(e[Ro.a.submissionsAdd]=!0,e[Ro.a.submissionsAdd+"Disabled"]=!0,this.applyValidityRulesForCheckbox(Ro.a.submissionsAdd,e))}},{key:"applyValidityRulesForCheckbox",value:function(e,t){var o=this;if(!1!==t[e]){var r=Ro.b[e],n=this.getImpliedPermissions(r,e),a=this.getContradictoryPermissions(r);n.forEach((function(r){var n=ke.a.getPermission(r),a=o.getPermissionCheckboxPairs(n.codename);Ro.d.hasOwnProperty(e)&&(a=a.concat(Ro.d[e])),a.forEach((function(e){t[e]=!0,t[e+"Disabled"]=!0}))})),a.forEach((function(e){var r=ke.a.getPermission(e);o.getPermissionCheckboxPairs(r.codename).forEach((function(e){t[e]=!1,t[e+"Disabled"]=!0}))}))}}},{key:"onCheckboxChange",value:function(e,t){var o=this.state;o[e]=t,this.setState(this.applyValidityRules(o))}},{key:"onUsernameChange",value:function(e){this.setState({username:e,isEditingUsername:!0})}},{key:"onUsernameChangeEnd",value:function(){if(this.setState({isEditingUsername:!1}),""!==this.state.username){var e=this.checkUsernameSync(this.state.username);void 0===e?this.checkUsernameAsync(this.state.username):!1===e&&(this.notifyUnknownUser(this.state.username),this.setState({username:""}))}}},{key:"onInputKeyPress",value:function(e,t){e===A.KEY_CODES.ENTER&&(t.currentTarget.blur(),t.preventDefault())}},{key:"onPartialUsersChange",value:function(e,t){var o=this.state;o[e]=t.split(",").map((function(e){return e.trim()})),this.setState(o)}},{key:"checkUsernameSync",value:function(e){return b.a.userExists.checkUsername(e)}},{key:"checkUsernameAsync",value:function(e){var t=this.state.usernamesBeingChecked;t.add(e),this.setState({usernamesBeingChecked:t}),w.a.misc.checkUsername(e)}},{key:"notifyUnknownUser",value:function(e){navigator.onLine&&Object(z.notify)("".concat(t("User not found:")," ").concat(e),"warning")}},{key:"onUserExistsStoreChange",value:function(e){var t=this;!1===e[this.state.username]&&(this.notifyUnknownUser(this.state.username),this.setState({username:""})),Object.keys(e).forEach((function(e){var o=t.state.usernamesBeingChecked;o.delete(e),t.setState({usernamesBeingChecked:o})}))}},{key:"getPermissionCheckboxPairs",value:function(e){var t=[];return Object.keys(Ro.b).forEach((function(o){Ro.b[o]===e&&t.push(o)})),t}},{key:"getImpliedPermissions",value:function(e){var t=ke.a.getPermissionByCodename(A.PERMISSIONS_CODENAMES[e]);return t?t.implied:[]}},{key:"getContradictoryPermissions",value:function(e){var t=ke.a.getPermissionByCodename(A.PERMISSIONS_CODENAMES[e]);return t?t.contradictory:[]}},{key:"getCheckboxLabel",value:function(e){var t=Ro.b[e],o=ke.a.getPermissionByCodename(t);return!!o&&(Ro.e.hasOwnProperty(e)?(t=Ro.e[e],this.props.assignablePerms.get(o.url)[t]):this.props.assignablePerms.get(o.url))}},{key:"isAssignable",value:function(e){var t=ke.a.getPermissionByCodename(A.PERMISSIONS_CODENAMES[e]);return!!t&&this.props.assignablePerms.has(t.url)}},{key:"isSubmitEnabled",value:function(){var e=this,t=!1;return Object.keys(Ro.b).forEach((function(o){!0===e.state[o]&&(t=!0)})),t&&this.isPartialValid(Ro.a.submissionsViewPartial)&&this.isPartialValid(Ro.a.submissionsEditPartial)&&this.isPartialValid(Ro.a.submissionsDeletePartial)&&this.isPartialValid(Ro.a.submissionsValidatePartial)&&!this.state.isSubmitPending&&!this.state.isEditingUsername&&this.state.username.length>0&&0===this.state.usernamesBeingChecked.size&&this.state.username!==A.ANON_USERNAME}},{key:"isPartialValid",value:function(e){return!this.state[e]||0!==this.state[e+Ro.h].length}},{key:"getFormData",value:function(){var e=this,t={username:this.state.username};return Object.keys(Ro.b).forEach((function(o){e.isAssignable(Ro.b[o])&&(t[o]=e.state[o],o.endsWith(Ro.g)&&(t[o+Ro.h]=e.state[o+Ro.h]))})),t}},{key:"submit",value:function(e){if(e.preventDefault(),this.isSubmitEnabled()){var t=this.getFormData(),o=To.a.parseFormData(t);if(o.length>0){var r=this.props.nonOwnerPerms.filter((function(e){return e.user!==Object(z.buildUserUrl)(t.username)}));this.setState({isSubmitPending:!0}),w.a.permissions.bulkSetAssetPermissions(this.props.uid,r.concat(o))}else this.notifyParentAboutSubmitEnd(!0);return!1}}},{key:"renderCheckbox",value:function(e){return a.a.createElement(Oo.a,{checked:this.state[e],disabled:this.state[e+"Disabled"],onChange:this.onCheckboxChange.bind(this,e),label:this.getCheckboxLabel(e)})}},{key:"renderTextbox",value:function(e){return a.a.createElement($e.a,{placeholder:Mo,value:this.state[e+Ro.h].join(","),onChange:this.onPartialUsersChange.bind(this,e+Ro.h),errors:this.state[e]&&0===this.state[e+Ro.h].length,onKeyPress:this.onInputKeyPress})}},{key:"renderPartialRow",value:function(e){return this.isAssignable(Ro.b[e])?a.a.createElement("div",{className:"user-permissions-editor__sub-row"},this.renderCheckbox(e),!0===this.state[e]&&this.renderTextbox(e)):null}},{key:"render",value:function(){var e=void 0===this.props.username,o=[];return this.state.isSubmitPending&&o.push("pending"),a.a.createElement(S.a.FormModal__form,{m:o,className:"user-permissions-editor",onSubmit:this.submit},e&&a.a.createElement("div",{className:"user-permissions-editor__row user-permissions-editor__row--username"},a.a.createElement($e.a,{placeholder:t("username"),value:this.state.username,onChange:this.onUsernameChange,onBlur:this.onUsernameChangeEnd,onKeyPress:this.onInputKeyPress,errors:0===this.state.username.length})),a.a.createElement("div",{className:"user-permissions-editor__row"},this.isAssignable(A.PERMISSIONS_CODENAMES.view_asset)&&this.renderCheckbox(Ro.a.formView),this.isAssignable(A.PERMISSIONS_CODENAMES.change_asset)&&this.renderCheckbox(Ro.a.formEdit),this.isAssignable(A.PERMISSIONS_CODENAMES.view_submissions)&&this.renderCheckbox(Ro.a.submissionsView),this.renderPartialRow(Ro.a.submissionsViewPartial),this.isAssignable(A.PERMISSIONS_CODENAMES.add_submissions)&&this.renderCheckbox(Ro.a.submissionsAdd),this.isAssignable(A.PERMISSIONS_CODENAMES.change_submissions)&&this.renderCheckbox(Ro.a.submissionsEdit),this.renderPartialRow(Ro.a.submissionsEditPartial),this.isAssignable(A.PERMISSIONS_CODENAMES.validate_submissions)&&this.renderCheckbox(Ro.a.submissionsValidate),this.renderPartialRow(Ro.a.submissionsValidatePartial),this.isAssignable(A.PERMISSIONS_CODENAMES.delete_submissions)&&this.renderCheckbox(Ro.a.submissionsDelete),this.renderPartialRow(Ro.a.submissionsDeletePartial),this.isAssignable(A.PERMISSIONS_CODENAMES.manage_asset)&&this.renderCheckbox(Ro.a.formManage)),a.a.createElement("div",{className:"user-permissions-editor__row"},a.a.createElement(S.a.KoboButton,{m:"blue",type:"submit",disabled:!this.isSubmitEnabled()},e?t("Grant permissions"):t("Update permissions"))))}}])&&Co(o.prototype,r),n&&Co(o,n),s}(a.a.Component);f()(Io.prototype,h.a.ListenerMixin);var Fo=Io,Uo=Fo;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Mo,"PARTIAL_PLACEHOLDER","/srv/src/kpi/jsapp/js/components/permissions/userAssetPermsEditor.es6"),__REACT_HOT_LOADER__.register(",","USERNAMES_SEPARATOR","/srv/src/kpi/jsapp/js/components/permissions/userAssetPermsEditor.es6"),__REACT_HOT_LOADER__.register("Disabled","SUFFIX_DISABLED","/srv/src/kpi/jsapp/js/components/permissions/userAssetPermsEditor.es6"),__REACT_HOT_LOADER__.register(Io,"UserAssetPermsEditor","/srv/src/kpi/jsapp/js/components/permissions/userAssetPermsEditor.es6"),__REACT_HOT_LOADER__.register(Fo,"default","/srv/src/kpi/jsapp/js/components/permissions/userAssetPermsEditor.es6"));function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bo(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vo(e,t){return(Vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Go(e);if(t){var n=Go(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return qo(this,o)}}function qo(e,t){return!t||"object"!==Ho(t)&&"function"!=typeof t?Yo(e):t}function Yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Go(e){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vo(e,t)}(s,e);var o,r,n,i=zo(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(Yo(t)),t.anonCanViewPermUrl=ke.a.getPermissionByCodename(A.PERMISSIONS_CODENAMES.view_asset).url,t.anonCanViewDataPermUrl=ke.a.getPermissionByCodename(A.PERMISSIONS_CODENAMES.view_submissions).url,t}return o=s,(r=[{key:"togglePerms",value:function(e){var t=this.props.publicPerms.filter((function(t){return t.permission===ke.a.getPermissionByCodename(e).url}))[0];t?w.a.permissions.removeAssetPermission(this.props.uid,t.url):w.a.permissions.assignAssetPermission(this.props.uid,{user:Object(z.buildUserUrl)(A.ANON_USERNAME),permission:ke.a.getPermissionByCodename(e).url})}},{key:"render",value:function(){var e=this,o=this.props.uid,r="".concat(A.ROOT_URL,"/#/forms/").concat(o),n=this.props.publicPerms.filter((function(t){return t.permission===e.anonCanViewPermUrl}))[0],i=this.props.publicPerms.filter((function(t){return t.permission===e.anonCanViewDataPermUrl}))[0];return a.a.createElement(S.a.FormModal__item,{m:"permissions"},a.a.createElement(S.a.FormModal__item,null,a.a.createElement(Oo.a,{checked:!!n,onChange:this.togglePerms.bind(this,"view_asset"),label:t("Anyone can view this form")})),this.props.deploymentActive&&a.a.createElement(S.a.FormModal__item,null,a.a.createElement(Oo.a,{checked:!!i,onChange:this.togglePerms.bind(this,"view_submissions"),label:t("Anyone can view submissions made to this form")})),n&&a.a.createElement(S.a.FormModal__item,{m:"shareable-link"},a.a.createElement("label",null,t("Shareable link")),a.a.createElement("input",{type:"text",value:r,readOnly:!0})))}}])&&Bo(o.prototype,r),n&&Bo(o,n),s}(a.a.Component);f()($o.prototype,O.a.permissions);var Qo=$o,Ko=Qo;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register($o,"PublicShareSettings","/srv/src/kpi/jsapp/js/components/permissions/publicShareSettings.es6"),__REACT_HOT_LOADER__.register(Qo,"default","/srv/src/kpi/jsapp/js/components/permissions/publicShareSettings.es6"));function Wo(e){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e){return function(e){if(Array.isArray(e))return Xo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xo(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Xo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function Zo(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=nr(e);if(t){var n=nr(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return or(this,o)}}function or(e,t){return!t||"object"!==Wo(t)&&"function"!=typeof t?rr(e):t}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(s,e);var o,r,n,i=tr(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(rr(t)),t.state={isEditFormVisible:!1,isBeingDeleted:!1},t}return o=s,(r=[{key:"componentDidMount",value:function(){this.listenTo(Pt.a,this.onAssetChange)}},{key:"onAssetChange",value:function(){this.setState({isBeingDeleted:!1})}},{key:"removePermissions",value:function(){var e=Ne.a.dialog("confirm"),o={title:t("Remove permissions?"),message:t("This action will remove all permissions for user ##username##").replace("##username##","<strong>".concat(this.props.user.name,"</strong>")),labels:{ok:t("Remove"),cancel:t("Cancel")},onok:this.removeAllPermissions,oncancel:e.destroy};e.set(o).show()}},{key:"removeAllPermissions",value:function(){this.setState({isBeingDeleted:!0});var e=this.props.permissions.find((function(e){return e.permission===ke.a.getPermissionByCodename(A.PERMISSIONS_CODENAMES.view_asset).url}));w.a.permissions.removeAssetPermission(this.props.uid,e.url)}},{key:"onPermissionsEditorSubmitEnd",value:function(e){e&&this.setState({isEditFormVisible:!1})}},{key:"toggleEditForm",value:function(){this.setState({isEditFormVisible:!this.state.isEditFormVisible})}},{key:"renderPermissions",value:function(e){var o=this;return a.a.createElement(S.a.UserRow__perms,null,e.map((function(e){var r=[];e.partial_permissions&&e.partial_permissions.forEach((function(e){e.filters.forEach((function(e){e._submitted_by&&(r=r.concat(e._submitted_by.$in))}))})),r=Jo(new Set(r));var n="???";o.props.assignablePerms.has(e.permission)&&"object"===Wo(n=o.props.assignablePerms.get(e.permission))&&(n=n.default);var i=(0===r.length?"##permission_label##":r.length<=3?t("##permission_label## (##username_list##)"):4===r.length?t("##permission_label## (##username_list## and 1 other)"):t("##permission_label## (##username_list## and ##hidden_username_count## others)")).replace("##permission_label##",n).replace("##username_list##",r.slice(0,3).join(", ")).replace("##hidden_username_count##",r.length-3);return a.a.createElement(S.a.UserRow__perm,{title:e.description,key:n},i)})))}},{key:"render",value:function(){var e={background:"#".concat(Object(z.stringToColor)(this.props.user.name))},o=[];return 0===this.props.permissions.length&&o.push("deleted"),this.state.isBeingDeleted&&o.push("pending"),a.a.createElement(S.a.UserRow,{m:o},a.a.createElement(S.a.UserRow__info,null,a.a.createElement(S.a.UserRow__avatar,null,a.a.createElement(S.a.AccountBox__initials,{style:e},this.props.user.name.charAt(0))),a.a.createElement(S.a.UserRow__name,null,this.props.user.name),this.props.user.isOwner&&a.a.createElement(S.a.UserRow__perms,null,t("is owner")),!this.props.user.isOwner&&a.a.createElement(a.a.Fragment,null,this.renderPermissions(this.props.permissions),a.a.createElement(S.a.Button,{m:"icon",onClick:this.toggleEditForm},this.state.isEditFormVisible&&a.a.createElement("i",{className:"k-icon k-icon-close"}),!this.state.isEditFormVisible&&a.a.createElement("i",{className:"k-icon k-icon-edit"})),a.a.createElement(S.a.Button,{m:"icon",onClick:this.removePermissions},a.a.createElement("i",{className:"k-icon k-icon-trash"})))),this.state.isEditFormVisible&&a.a.createElement(S.a.UserRow__editor,null,a.a.createElement(Uo,{uid:this.props.uid,username:this.props.user.name,permissions:this.props.permissions,assignablePerms:this.props.assignablePerms,nonOwnerPerms:this.props.nonOwnerPerms,onSubmitEnd:this.onPermissionsEditorSubmitEnd})))}}])&&Zo(o.prototype,r),n&&Zo(o,n),s}(a.a.Component);f()(ar.prototype,O.a.permissions),f()(ar.prototype,h.a.ListenerMixin);var ir=ar,lr=ir;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ar,"UserPermissionRow","/srv/src/kpi/jsapp/js/components/permissions/userPermissionRow.es6"),__REACT_HOT_LOADER__.register(ir,"default","/srv/src/kpi/jsapp/js/components/permissions/userPermissionRow.es6"));function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function dr(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=_r(e);if(t){var n=_r(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return mr(this,o)}}function mr(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?fr(e):t}function fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(s,e);var o,r,n,i=pr(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(fr(t)),t.state={allAssetsCount:0,isAddUserEditorVisible:!1},t}return o=s,(r=[{key:"componentDidMount",value:function(){this.listenTo(Pt.a,this.onAssetChange),this.listenTo(b.a.allAssets,this.onAllAssetsChange),this.listenTo(w.a.permissions.bulkSetAssetPermissions.completed,this.onAssetPermissionsUpdated),this.listenTo(w.a.permissions.getAssetPermissions.completed,this.onAssetPermissionsUpdated),this.props.uid&&w.a.resources.loadAsset({id:this.props.uid}),this.onAllAssetsChange()}},{key:"onAllAssetsChange",value:function(){this.setState({allAssetsCount:Object.keys(b.a.allAssets.byUid).length})}},{key:"onAssetPermissionsUpdated",value:function(e){var t=this,o=To.a.parseBackendData(e,this.state.asset.owner,!0),r=Object(z.buildUserUrl)(A.ANON_USERNAME),n=e.filter((function(e){return e.user===r})),a=To.a.parseUserWithPermsList(o).filter((function(e){return e.user!==Object(z.buildUserUrl)(t.state.asset.owner)}));this.setState({permissions:o,nonOwnerPerms:a,publicPerms:n})}},{key:"onAssetChange",value:function(e){var t=this.props.uid||this.currentAssetID,o=e[t];o&&this.setState({asset:o}),this.setState({assignablePerms:this.getAssignablePermsMap(o.assignable_permissions)}),w.a.permissions.getAssetPermissions(t)}},{key:"getAssignablePermsMap",value:function(e){var t=new Map;return e.forEach((function(e){t.set(e.url,e.label)})),t}},{key:"toggleAddUserEditor",value:function(){this.setState({isAddUserEditorVisible:!this.state.isAddUserEditorVisible})}},{key:"onPermissionsEditorSubmitEnd",value:function(e){e&&this.setState({isAddUserEditorVisible:!1})}},{key:"render",value:function(){var e,o=this;if(!this.state.permissions)return a.a.createElement(q.a,null);var r=this.state.asset.uid,n=this.state.asset.asset_type,i=this.state.asset.url;return a.a.createElement(S.a.FormModal,{m:"sharing-form"},a.a.createElement(S.a.Modal__subheader,null,this.state.asset.name),!0!==(null===(e=b.a.session.currentAccount.extra_details)||void 0===e?void 0:e.require_auth)&&a.a.createElement(S.a.FormModal__item,null,a.a.createElement(S.a.FormView__cell,{m:"warning"},a.a.createElement("i",{className:"k-icon k-icon-alert"}),a.a.createElement("p",null,t("Anyone can see this blank form and add submissions to it because you have not set "),a.a.createElement("a",{href:"/#".concat(V.b.ACCOUNT_SETTINGS)},t("your account")),t(" to require authentication.")))),a.a.createElement(S.a.FormModal__item,null,a.a.createElement("h2",null,t("Who has access")),this.state.permissions.map((function(e){return e.user.name===A.ANON_USERNAME?null:a.a.createElement(lr,cr({key:"perm.".concat(r,".").concat(e.user.name),uid:r,nonOwnerPerms:o.state.nonOwnerPerms,assignablePerms:o.state.assignablePerms,assetType:n},e))})),!this.state.isAddUserEditorVisible&&a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.toggleAddUserEditor},t("Add user")),this.state.isAddUserEditorVisible&&a.a.createElement(S.a.FormModal__item,{m:["gray-row","copy-team-permissions"]},a.a.createElement(S.a.Button,{m:"icon",className:"user-permissions-editor-closer",onClick:this.toggleAddUserEditor},a.a.createElement("i",{className:"k-icon k-icon-close"})),a.a.createElement(Uo,{uid:r,assignablePerms:this.state.assignablePerms,nonOwnerPerms:this.state.nonOwnerPerms,onSubmitEnd:this.onPermissionsEditorSubmitEnd}))),n===A.ASSET_TYPES.survey.id&&a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.Modal__hr,null),a.a.createElement(S.a.FormModal__item,{m:"share-settings"},a.a.createElement("h2",null,t("Share publicly by link")),a.a.createElement(Ko,{publicPerms:this.state.publicPerms,uid:r,objectUrl:i,deploymentActive:this.state.asset.deployment__active}))),n!==A.ASSET_TYPES.collection.id&&0===this.state.allAssetsCount&&a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.Modal__hr,null),t("Waiting for all projects to loadâ€¦")),n!==A.ASSET_TYPES.collection.id&&this.state.allAssetsCount>=2&&a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.Modal__hr,null),a.a.createElement(So,{uid:r})))}}])&&dr(o.prototype,r),n&&dr(o,n),s}(a.a.Component);hr.contextTypes={router:d.a.object},f()(hr.prototype,O.a.permissions),f()(hr.prototype,O.a.contextRouter),f()(hr.prototype,h.a.ListenerMixin);var br=hr,gr=br;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(hr,"SharingForm","/srv/src/kpi/jsapp/js/components/permissions/sharingForm.es6"),__REACT_HOT_LOADER__.register(br,"default","/srv/src/kpi/jsapp/js/components/permissions/sharingForm.es6"));function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vr(e,t){var o=[];if((null==t?void 0:t.length)&&"object"===yr(t[0])){var r=We.b.getSurveyFlatPaths(t);for(var n in r)r[n].includes("version")||o.push(r[n])}else o=t;var a=[];return 0==e.length?o.forEach((function(e){a.push({label:e,checked:!1})})):o.forEach((function(t){a.push({label:t,checked:e.includes(t)})})),a}var kr={generateColumnFilters:vr},wr=kr;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(vr,"generateColumnFilters","/srv/src/kpi/jsapp/js/components/dataAttachments/dataAttachmentsUtils.es6"),__REACT_HOT_LOADER__.register(kr,"default","/srv/src/kpi/jsapp/js/components/dataAttachments/dataAttachmentsUtils.es6")),r(566);function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ar(e);if(t){var n=Ar(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Tr(this,o)}}function Tr(e,t){return!t||"object"!==xr(t)&&"function"!=typeof t?Rr(e):t}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(i,e);var t,o,r,n=Or(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=n.call(this,e),l()(Rr(t)),t}return t=i,(o=[{key:"onChange",value:function(e,t){var o=this.props.items;o[e].checked=t,this.props.onChange(o)}},{key:"render",value:function(){var e=this;return a.a.createElement(S.a.MultiCheckbox,null,this.props.items.map((function(t,o){return a.a.createElement(S.a.MultiCheckbox__item,{key:o},a.a.createElement(Oo.a,{checked:t.checked,disabled:t.disabled,onChange:e.onChange.bind(e,o),label:t.label}))})))}}])&&Er(t.prototype,o),r&&Er(t,r),i}(a.a.Component),jr=Cr,Pr=jr;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Cr,"MultiCheckbox","/srv/src/kpi/jsapp/js/components/common/multiCheckbox.es6"),__REACT_HOT_LOADER__.register(jr,"default","/srv/src/kpi/jsapp/js/components/common/multiCheckbox.es6"));function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ur(e);if(t){var n=Ur(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ir(this,o)}}function Ir(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?Fr(e):t}function Fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(s,e);var o,r,n,i=Mr(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isInitalised:!1,isLoading:!1,columnsToDisplay:[]},l()(Fr(t)),t.unlisteners=[],t}return o=s,(r=[{key:"componentDidMount",value:function(){w.a.resources.loadAsset({id:this.props.source.uid}),this.unlisteners.push(w.a.dataShare.attachToSource.started.listen(this.markComponentAsLoading),w.a.dataShare.attachToSource.completed.listen(this.onAttachToSourceCompleted),w.a.dataShare.attachToSource.failed.listen(this.stopLoading),w.a.dataShare.patchSource.started.listen(this.markComponentAsLoading),w.a.dataShare.patchSource.completed.listen(this.onPatchSourceCompleted),w.a.dataShare.patchSource.failed.listen(this.stopLoading),w.a.resources.loadAsset.completed.listen(this.onLoadAssetContentCompleted),w.a.resources.loadAsset.failed.listen(this.stopLoading)),this.setModalTitle()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"setModalTitle",value:function(){this.props.onSetModalTitle(t("Import data from ##SOURCE_NAME##").replace("##SOURCE_NAME##",this.props.source.name))}},{key:"onAttachToSourceCompleted",value:function(){this.props.onModalClose()}},{key:"onBulkSelect",value:function(){var e=this.state.columnsToDisplay.map((function(e){return{label:e.label,checked:!0}}));this.setState({columnsToDisplay:e})}},{key:"onBulkDeselect",value:function(){var e=this.state.columnsToDisplay.map((function(e){return{label:e.label,checked:!1}}));this.setState({columnsToDisplay:e})}},{key:"onLoadAssetContentCompleted",value:function(e){var t,o;(null===(t=e.data_sharing)||void 0===t||null===(o=t.fields)||void 0===o?void 0:o.length)>0?this.setState({isInitialised:!0,columnsToDisplay:wr.generateColumnFilters(this.props.fields,e.data_sharing.fields)}):this.setState({isInitialised:!0,columnsToDisplay:wr.generateColumnFilters(this.props.fields,e.content.survey)})}},{key:"onPatchSourceCompleted",value:function(e){this.setState({isLoading:!1,columnsToDisplay:wr.generateColumnFilters(this.props.fields,e.fields)}),this.props.onModalClose()}},{key:"stopLoading",value:function(){this.setState({isLoading:!1})}},{key:"onColumnSelected",value:function(e){this.setState({columnsToDisplay:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=[],o="";this.state.columnsToDisplay.forEach((function(e){e.checked&&t.push(e.label)})),this.props.attachmentUrl?(o={fields:t,filename:this.props.filename},w.a.dataShare.patchSource(this.props.attachmentUrl,o)):(o={source:this.props.source.url,fields:t,filename:this.props.filename},w.a.dataShare.attachToSource(this.props.asset.uid,o))}},{key:"markComponentAsLoading",value:function(){this.setState({isLoading:!0})}},{key:"render",value:function(){return a.a.createElement(S.a.FormModal__form,{m:"data-attachment-columns"},a.a.createElement("div",{className:"header"},a.a.createElement("span",{className:"modal-description"},t("You are about to import ##SOURCE_NAME##. Select or deselect in the list below to narrow down the number of questions to import.").replace("##SOURCE_NAME##",this.props.source.name)),a.a.createElement("div",{className:"bulk-options"},a.a.createElement("span",{className:"bulk-options__description"},t("Select below the questions you want to import")),a.a.createElement("div",{className:"bulk-options__buttons"},a.a.createElement(S.a.KoboLightButton,{m:"blue",onClick:this.onBulkSelect},t("Select all")),a.a.createElement("span",null,t("|")),a.a.createElement(S.a.KoboLightButton,{m:"blue",onClick:this.onBulkDeselect},t("Deselect all"))))),!this.state.isInitialised&&a.a.createElement(q.a,{message:t("Loading imported questions")}),a.a.createElement(Pr,{items:this.state.columnsToDisplay,onChange:this.onColumnSelected,disabled:this.state.isLoading}),this.state.isLoading&&a.a.createElement(q.a,{message:t("Updating imported questions")}),a.a.createElement("footer",{className:"modal__footer"},a.a.createElement(S.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:this.state.isLoading},t("Accept"))))}}])&&Dr(o.prototype,r),n&&Dr(o,n),s}(a.a.Component),Br=Hr,Vr=Br,zr=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Hr,"DataAttachmentColumnsForm","/srv/src/kpi/jsapp/js/components/dataAttachments/dataAttachmentColumnsForm.es6"),__REACT_HOT_LOADER__.register(Br,"default","/srv/src/kpi/jsapp/js/components/dataAttachments/dataAttachmentColumnsForm.es6")),r(169)),qr=r(7),Yr=r(64);r(568);function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Xr(e);if(t){var n=Xr(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Wr(this,o)}}function Wr(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?Jr(e):t}function Jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(s,e);var o,r,n,i=Kr(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(Jr(t)),t}return o=s,(r=[{key:"renderGroup",value:function(e,o){var r=this;return a.a.createElement(S.a.SubmissionDataTable__row,{m:["group","type-".concat(e.type)],key:"".concat(e.name,"__").concat(o)},null!==e.name&&a.a.createElement(S.a.SubmissionDataTable__row,{m:"group-label"},e.label,this.props.showXMLNames&&a.a.createElement(S.a.SubmissionDataTable__XMLName,null,e.name)),e.type===Yr.a.group_root&&a.a.createElement(S.a.SubmissionDataTable__row,{m:["columns","column-names"]},a.a.createElement(S.a.SubmissionDataTable__column,{m:"type"},t("Type")),a.a.createElement(S.a.SubmissionDataTable__column,{m:"label"},t("Question")),a.a.createElement(S.a.SubmissionDataTable__column,{m:"data"},t("Response"))),a.a.createElement(S.a.SubmissionDataTable__row,{m:"group-children"},e.children.map((function(e,t){return Yr.a[e.type]?r.renderGroup(e,t):r.renderResponse(e,t)}))))}},{key:"renderResponse",value:function(e,t){return a.a.createElement(S.a.SubmissionDataTable__row,{m:["columns","response","type-".concat(e.type)],key:"".concat(e.name,"__").concat(t)},a.a.createElement(S.a.SubmissionDataTable__column,{m:"type"},Object(We.o)(e.type)),a.a.createElement(S.a.SubmissionDataTable__column,{m:"label"},e.label,this.props.showXMLNames&&a.a.createElement(S.a.SubmissionDataTable__XMLName,null,e.name)),a.a.createElement(S.a.SubmissionDataTable__column,{m:"data"},this.renderResponseData(e.type,e.data,e.listName)))}},{key:"renderResponseData",value:function(e,t,o){var r,n=this;if(null===t)return null;switch(e){case A.QUESTION_TYPES.select_one.id:case A.SCORE_ROW_TYPE:case A.RANK_LEVEL_TYPE:return(r=this.findChoice(o,t))?a.a.createElement(S.a.SubmissionDataTable__value,null,r.label[this.props.translationIndex]||r.name):(console.error('Choice not found for "'.concat(o,'" and "').concat(t,'".')),t);case A.QUESTION_TYPES.select_multiple.id:return a.a.createElement("ul",null,t.split(" ").map((function(e,t){return(r=n.findChoice(o,e))?a.a.createElement("li",{key:t},a.a.createElement(S.a.SubmissionDataTable__value,null,r.label[n.props.translationIndex]||r.name)):(console.error('Choice not found for "'.concat(o,'" and "').concat(e,'".')),e)})));case A.QUESTION_TYPES.date.id:return a.a.createElement(S.a.SubmissionDataTable__value,null,Object(z.formatDate)(t));case A.QUESTION_TYPES.datetime.id:return a.a.createElement(S.a.SubmissionDataTable__value,null,Object(z.formatTimeDate)(t));case A.QUESTION_TYPES.geopoint.id:return this.renderPointData(t);case A.QUESTION_TYPES.image.id:case A.QUESTION_TYPES.audio.id:case A.QUESTION_TYPES.video.id:case A.QUESTION_TYPES.file.id:return this.renderAttachment(e,t);case A.QUESTION_TYPES.geotrace.id:case A.QUESTION_TYPES.geoshape.id:return this.renderMultiplePointsData(t);default:return a.a.createElement(S.a.SubmissionDataTable__value,null,t)}}},{key:"findChoice",value:function(e,t){return this.props.asset.content.choices.find((function(o){return o.name===t&&o.list_name===e}))}},{key:"findAttachmentData",value:function(e){return this.props.submissionData._attachments.find((function(t){return t.filename.endsWith("/".concat(e))}))}},{key:"renderPointData",value:function(e){var o=e.split(" ");return a.a.createElement("ul",null,a.a.createElement("li",null,t("latitude (x.y Â°):")+" ",a.a.createElement(S.a.SubmissionDataTable__value,null,o[0])),a.a.createElement("li",null,t("longitude (x.y Â°):")+" ",a.a.createElement(S.a.SubmissionDataTable__value,null,o[1])),a.a.createElement("li",null,t("altitude (m):")+" ",a.a.createElement(S.a.SubmissionDataTable__value,null,o[2])),a.a.createElement("li",null,t("accuracy (m):")+" ",a.a.createElement(S.a.SubmissionDataTable__value,null,o[3])))}},{key:"renderMultiplePointsData",value:function(e){var t=this;return e.split(";").map((function(e,o){return a.a.createElement(S.a.SubmissionDataTable__row,{m:["columns","point"],key:o},a.a.createElement(S.a.SubmissionDataTable__column,null,"P",a.a.createElement("sub",null,o+1)),a.a.createElement(S.a.SubmissionDataTable__column,null,t.renderPointData(e)))}))}},{key:"renderAttachment",value:function(e,o){var r=o.replace(/ /g,"_"),n=this.findAttachmentData(r);return n?e===A.QUESTION_TYPES.image.id?a.a.createElement("a",{href:n.download_url,target:"_blank"},a.a.createElement("img",{src:n.download_medium_url})):a.a.createElement("a",{href:n.download_url,target:"_blank"},o):t("Could not retrieve ##filename##").replace("##filename##",o)}},{key:"renderMetaResponse",value:function(e,t){return a.a.createElement(S.a.SubmissionDataTable__row,{m:["columns","response","metadata"]},a.a.createElement(S.a.SubmissionDataTable__column,{m:"type"},Object(We.o)(e)),a.a.createElement(S.a.SubmissionDataTable__column,{m:"label"},t,this.props.showXMLNames&&a.a.createElement(S.a.SubmissionDataTable__XMLName,null,e)),a.a.createElement(S.a.SubmissionDataTable__column,{m:"data"},this.props.submissionData[e]))}},{key:"render",value:function(){var e=Object(Yr.d)(this.props.asset.content.survey,this.props.asset.content.choices,this.props.translationIndex,this.props.submissionData);return a.a.createElement(S.a.SubmissionDataTable,null,this.renderGroup(e),this.renderMetaResponse(A.META_QUESTION_TYPES.start,t("start")),this.renderMetaResponse(A.META_QUESTION_TYPES.end,t("end")),this.renderMetaResponse(A.META_QUESTION_TYPES.today,t("today")),this.renderMetaResponse(A.META_QUESTION_TYPES.username,t("username")),this.renderMetaResponse(A.META_QUESTION_TYPES.simserial,t("sim serial")),this.renderMetaResponse(A.META_QUESTION_TYPES.subscriberid,t("subscriber ID")),this.renderMetaResponse(A.META_QUESTION_TYPES.deviceid,t("device ID")),this.renderMetaResponse(A.META_QUESTION_TYPES.phonenumber,t("phone number")),this.renderMetaResponse(A.META_QUESTION_TYPES.audit,t("audit")),this.renderMetaResponse("__version__",t("__version__")),this.renderMetaResponse("_id",t("_id")),this.renderMetaResponse("meta/instanceID",t("instanceID")),this.renderMetaResponse("_submitted_by",t("Submitted by")))}}])&&$r(o.prototype,r),n&&$r(o,n),s}(a.a.Component),en=Zr,tn=en;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Zr,"SubmissionDataTable","/srv/src/kpi/jsapp/js/components/submissions/submissionDataTable.es6"),__REACT_HOT_LOADER__.register(en,"default","/srv/src/kpi/jsapp/js/components/submissions/submissionDataTable.es6"));function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=cn(e);if(t){var n=cn(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return ln(this,o)}}function ln(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?sn(e):t}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(s,e);var o,r,n,i=an(s);function s(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=(o=i.call(this,e)).props.asset.content.translations,n=[];return r.length>1&&(n=r.map((function(e){return{value:e,label:e||t("Unnamed language")}}))),o.state={submission:{},loading:!0,error:!1,previous:-1,next:-1,sid:e.sid,showBetaFieldsWarning:!1,isEditLoading:!1,isViewLoading:!1,isDuplicated:e.isDuplicated,duplicatedSubmission:e.duplicatedSubmission||null,isEditingDuplicate:!1,promptRefresh:!1,translationIndex:0,translationOptions:n,showXMLNames:!1},l()(sn(o)),o}return o=s,n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.sid!==e.sid?{sid:e.sid,promptRefresh:!1}:null}}],(r=[{key:"componentDidMount",value:function(){this.getSubmission(this.props.asset.uid,this.state.sid),this.listenTo(w.a.resources.updateSubmissionValidationStatus.completed,this.refreshSubmissionValidationStatus),this.listenTo(w.a.resources.removeSubmissionValidationStatus.completed,this.refreshSubmissionValidationStatus),this.listenTo(w.a.resources.deleteSubmission.completed,this.onDeletedSubmissionCompleted)}},{key:"refreshSubmissionValidationStatus",value:function(e){e&&e.uid?this.state.submission._validation_status=e:this.state.submission._validation_status={},this.setState({submission:this.state.submission})}},{key:"isSubmissionEditable",value:function(){return this.props.asset.deployment__active&&!this.state.isEditLoading}},{key:"getSubmission",value:function(e,o){var r=this;qr.a.getSubmission(e,o).done((function(e){var t=-1,n=-1;if(r.props.ids&&o){var a=r.props.ids.findIndex((function(e){return e===parseInt(o)})),i=r.props.tableInfo||!1;if(r.props.ids[a-1]&&(t=r.props.ids[a-1]),r.props.ids[a+1]&&(n=r.props.ids[a+1]),i){var l=i.resultsTotal>(i.currentPage+1)*i.pageSize;a+1===r.props.ids.length&&l&&(n=-2),i.currentPage>0&&-1===t&&(t=-2)}}r.setState({submission:e,loading:!1,next:n,previous:t})})).fail((function(e){if(e.responseText){var n=e.responseText;'{"detail":"Not found."}'===n&&(n=t("The submission could not be found. It may have been deleted. Submission ID: ##id##").replace("##id##",o)),r.setState({error:n,loading:!1})}else e.statusText?r.setState({error:e.statusText,loading:!1}):r.setState({error:t("Error: could not load data."),loading:!1})}))}},{key:"componentDidUpdate",value:function(e){this.props.asset&&e.sid!==this.props.sid&&this.getSubmission(this.props.asset.uid,this.props.sid)}},{key:"deleteSubmission",value:function(){var e=this,o=Ne.a.dialog("confirm"),r={title:t("Delete submission?"),message:"".concat(t("Are you sure you want to delete this submission?")," ").concat(t("This action cannot be undone"),"."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){w.a.resources.deleteSubmission(e.props.asset.uid,e.props.sid)},oncancel:function(){o.destroy()}};o.set(r).show()}},{key:"onDeletedSubmissionCompleted",value:function(){b.a.pageState.hideModal()}},{key:"launchEditSubmission",value:function(){var e=this;this.setState({promptRefresh:!0,isEditLoading:!0,isEditingDuplicate:!0}),zr.a.openSubmission(this.props.asset.uid,this.state.sid,A.ENKETO_ACTIONS.edit).then((function(){e.setState({isEditLoading:!1})}),(function(){e.setState({isEditLoading:!1})}))}},{key:"launchViewSubmission",value:function(){var e=this;this.setState({isViewLoading:!0}),zr.a.openSubmission(this.props.asset.uid,this.state.sid,A.ENKETO_ACTIONS.view).then((function(){e.setState({isViewLoading:!1})}))}},{key:"duplicateSubmission",value:function(){b.a.pageState.hideModal(),w.a.resources.duplicateSubmission(this.props.asset.uid,this.state.sid,this.state.submission)}},{key:"triggerRefresh",value:function(){this.getSubmission(this.props.asset.uid,this.props.sid),this.setState({promptRefresh:!1}),w.a.resources.refreshTableSubmissions()}},{key:"switchSubmission",value:function(e){this.setState({loading:!0}),b.a.pageState.showModal({type:A.MODAL_TYPES.SUBMISSION,sid:e,asset:this.props.asset,ids:this.props.ids,tableInfo:this.props.tableInfo||!1})}},{key:"prevTablePage",value:function(){this.setState({loading:!0}),b.a.pageState.showModal({type:A.MODAL_TYPES.SUBMISSION,sid:!1,page:"prev"})}},{key:"nextTablePage",value:function(){this.setState({loading:!0}),b.a.pageState.showModal({type:A.MODAL_TYPES.SUBMISSION,sid:!1,page:"next"})}},{key:"onShowXMLNamesChange",value:function(e){this.setState({showXMLNames:e})}},{key:"validationStatusChange",value:function(e){null===e.value?w.a.resources.removeSubmissionValidationStatus(this.props.asset.uid,this.state.sid):w.a.resources.updateSubmissionValidationStatus(this.props.asset.uid,this.state.sid,{"validation_status.uid":e.value})}},{key:"languageChange",value:function(e){var t=this.state.translationOptions.findIndex((function(t){return t===e}));this.setState({translationIndex:t||0})}},{key:"hasBackgroundAudio",value:function(){var e,t,o;return null===(e=this.props)||void 0===e||null===(t=e.asset)||void 0===t||null===(o=t.content)||void 0===o?void 0:o.survey.some((function(e){return e.type===A.META_QUESTION_TYPES["background-audio"]}))}},{key:"render",value:function(){if(this.state.loading)return a.a.createElement(q.a,null);if(this.state.error)return a.a.createElement(S.a.Loading,null,a.a.createElement(S.a.Loading__inner,null,this.state.error));var e,o=this.state.submission,r=this.state.translationOptions;return this.state.isDuplicated&&!this.state.isEditingDuplicate?a.a.createElement(S.a.FormModal,null,a.a.createElement("h1",{className:"submission-duplicate__header"},t("Duplicate created")),a.a.createElement("p",{className:"submission-duplicate__text"},t("A duplicate of the submission record was successfully created. You can view the new instance below and make changes using the action buttons below."),a.a.createElement("br",null),a.a.createElement("br",null),t("Source submission uuid: "),a.a.createElement("code",null,this.state.duplicatedSubmission._uuid)),a.a.createElement(S.a.FormModal__group,null,a.a.createElement("div",{className:"submission-duplicate__actions"},(this.userCan("change_submissions",this.props.asset)||this.isSubmissionWritable("change_submissions",this.props.asset,this.state.submission))&&a.a.createElement("a",{onClick:this.launchEditSubmission.bind(this),className:"kobo-button kobo-button--blue",disabled:!this.isSubmissionEditable()},this.state.isEditLoading&&t("Loadingâ€¦"),!this.state.isEditLoading&&t("Edit")),(this.userCan("delete_submissions",this.props.asset)||this.isSubmissionWritable("delete_submissions",this.props.asset,this.state.submission))&&a.a.createElement("a",{onClick:this.deleteSubmission,className:"kobo-button kobo-button--red submission-duplicate__button","data-tip":t("Discard duplicated submission")},t("Discard")))),this.props.asset.deployment__active&&a.a.createElement(S.a.FormModal__group,null,r.length>1&&a.a.createElement("div",{className:"switch--label-language"},a.a.createElement("label",null,t("Language:")),a.a.createElement(Ge.a,{isClearable:!1,value:r[this.state.translationIndex],options:r,onChange:this.languageChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"})),a.a.createElement("div",{className:"switch--validation-status"},a.a.createElement("label",null,t("Validation status:")),a.a.createElement(Ge.a,{isDisabled:!(this.userCan("validate_submissions",this.props.asset)||this.isSubmissionWritable("validate_submissions",this.props.asset,this.state.submission)),isClearable:!1,value:!(!o._validation_status||!o._validation_status.uid)&&o._validation_status,options:A.VALIDATION_STATUSES_LIST,onChange:this.validationStatusChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isSearchable:!1}))),a.a.createElement(tn,{asset:this.props.asset,submissionData:this.state.submission,translationIndex:this.state.translationIndex,showXMLNames:this.state.showXMLNames})):!this.state.isDuplicated||this.state.isEditingDuplicate?a.a.createElement(S.a.FormModal,null,this.state.promptRefresh&&a.a.createElement("div",{className:"submission--warning"},a.a.createElement("p",null,t("Click on the button below to load the most recent data for this submission. ")),a.a.createElement("a",{onClick:this.triggerRefresh,className:"kobo-button kobo-button--blue"},t("Refresh submission"))),a.a.createElement(S.a.FormModal__group,null,this.hasBackgroundAudio()&&a.a.createElement(S.a.BackgroundAudioPlayer,null,a.a.createElement(S.a.BackgroundAudioPlayer__label,null,t("Background audio recording")),a.a.createElement(S.a.BackgroundAudioPlayer__audio,{controls:!0,src:null===(e=this.props)||void 0===e?void 0:e.backgroundAudioUrl})),this.props.asset.deployment__active&&a.a.createElement("div",{className:"submission-modal-dropdowns"},r.length>1&&a.a.createElement("div",{className:"switch--label-language"},a.a.createElement("label",null,t("Language:")),a.a.createElement(Ge.a,{isClearable:!1,value:r[this.state.translationIndex],options:r,onChange:this.languageChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto"})),a.a.createElement("div",{className:"switch--validation-status"},a.a.createElement("label",null,t("Validation status:")),a.a.createElement(Ge.a,{isDisabled:!(this.userCan("validate_submissions",this.props.asset)||this.isSubmissionWritable("validate_submissions",this.props.asset,this.state.submission)),isClearable:!1,value:!(!o._validation_status||!o._validation_status.uid)&&o._validation_status,options:A.VALIDATION_STATUSES_LIST,onChange:this.validationStatusChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isSearchable:!1})))),a.a.createElement(S.a.FormModal__group,null,this.state.isEditingDuplicate&&a.a.createElement("div",{className:"preserveFlexCSS"}),!this.state.isEditingDuplicate&&a.a.createElement("div",{className:"submission-pager"},this.state.previous>-1&&a.a.createElement("a",{onClick:this.switchSubmission.bind(this,this.state.previous),className:"mdl-button mdl-button--colored"},a.a.createElement("i",{className:"k-icon k-icon-prev"}),t("Previous")),-2===this.state.previous&&a.a.createElement("a",{onClick:this.prevTablePage,className:"mdl-button mdl-button--colored"},a.a.createElement("i",{className:"k-icon k-icon-prev"}),t("Previous")),this.state.next>-1&&a.a.createElement("a",{onClick:this.switchSubmission.bind(this,this.state.next),className:"mdl-button mdl-button--colored"},t("Next"),a.a.createElement("i",{className:"k-icon k-icon-next"})),-2===this.state.next&&a.a.createElement("a",{onClick:this.nextTablePage,className:"mdl-button mdl-button--colored"},t("Next"),a.a.createElement("i",{className:"k-icon k-icon-next"}))),a.a.createElement("div",{className:"submission-actions"},a.a.createElement(Oo.a,{checked:this.state.showXMLNames,onChange:this.onShowXMLNamesChange,label:t("Display XML names")}),(this.userCan("change_submissions",this.props.asset)||this.isSubmissionWritable("change_submissions",this.props.asset,this.state.submission))&&a.a.createElement("a",{onClick:this.launchEditSubmission.bind(this),className:"kobo-button kobo-button--blue submission-duplicate__button",disabled:!this.isSubmissionEditable()},this.state.isEditLoading&&t("Loadingâ€¦"),!this.state.isEditLoading&&t("Edit")),(this.userCan("view_submissions",this.props.asset)||this.isSubmissionWritable("view_submissions",this.props.asset,this.state.submission))&&a.a.createElement("a",{onClick:this.launchViewSubmission.bind(this),className:"kobo-button kobo-button--blue submission-duplicate__button",disabled:this.state.isViewLoading},this.state.isViewLoading&&t("Loadingâ€¦"),!this.state.isViewLoading&&t("View")),(this.userCan("change_submissions",this.props.asset)||this.isSubmissionWritable("change_submissions",this.props.asset,this.state.submission))&&a.a.createElement("a",{onClick:this.duplicateSubmission.bind(this),className:"kobo-button kobo-button--blue submission-duplicate__button",disabled:!this.isSubmissionEditable()},t("Duplicate")),a.a.createElement(S.a.Button,{m:"icon",className:"report-button__print",onClick:z.launchPrinting,"data-tip":t("Print")},a.a.createElement("i",{className:"k-icon k-icon-print"})),(this.userCan("delete_submissions",this.props.asset)||this.isSubmissionWritable("delete_submissions",this.props.asset,this.state.submission))&&a.a.createElement("a",{onClick:this.deleteSubmission,className:"mdl-button mdl-button--icon mdl-button--colored mdl-button--red right-tooltip","data-tip":t("Delete submission")},a.a.createElement("i",{className:"k-icon k-icon-trash"})))),a.a.createElement(tn,{asset:this.props.asset,submissionData:this.state.submission,translationIndex:this.state.translationIndex,showXMLNames:this.state.showXMLNames})):void 0}}])&&rn(o.prototype,r),n&&rn(o,n),s}(a.a.Component);f()(dn.prototype,h.a.ListenerMixin),f()(dn.prototype,O.a.permissions);var un=dn,pn=un,mn=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register('{"detail":"Not found."}',"DETAIL_NOT_FOUND","/srv/src/kpi/jsapp/js/components/submissions/submissionModal.es6"),__REACT_HOT_LOADER__.register(dn,"SubmissionModal","/srv/src/kpi/jsapp/js/components/submissions/submissionModal.es6"),__REACT_HOT_LOADER__.register(un,"default","/srv/src/kpi/jsapp/js/components/submissions/submissionModal.es6")),r(130)),fn=r(16),_n=r(39);r(570);function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=wn(e);if(t){var n=wn(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return vn(this,o)}}function vn(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?kn(e):t}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(s,e);var o,r,n,i=yn(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={showGroupName:_n.a.getShowGroupName(),showHXLTags:_n.a.getShowHXLTags(),translationIndex:_n.a.getTranslationIndex()},l()(kn(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){w.a.table.updateSettings.failed.listen(this.onUpdateSettingsFailed),_n.a.listen(this.onTableStoreChange)}},{key:"onTableStoreChange",value:function(){this.setState({showGroupName:_n.a.getShowGroupName(),showHXLTags:_n.a.getShowHXLTags(),translationIndex:_n.a.getTranslationIndex()})}},{key:"updateGroupHeaderDisplay",value:function(e){this.setState({showGroupName:e})}},{key:"onHXLTagsChange",value:function(e){this.setState({showHXLTags:e})}},{key:"onLabelChange",value:function(e,t){this.setState({translationIndex:parseInt(t)})}},{key:"onUpdateSettingsFailed",value:function(){Object(z.notify)(t("There was an error, table settings could not be saved."))}},{key:"onSave",value:function(){var e={};e[fn.c.SHOW_GROUP]=this.state.showGroupName,e[fn.c.TRANSLATION]=this.state.translationIndex,e[fn.c.SHOW_HXL]=this.state.showHXLTags,_n.a.saveTableSettings(e)}},{key:"onReset",value:function(){var e={};e[fn.c.SHOW_GROUP]=null,e[fn.c.TRANSLATION]=null,e[fn.c.SHOW_HXL]=null,_n.a.saveTableSettings(e)}},{key:"getDisplayedLabelOptions",value:function(){var e=[];return e.push({value:-1,label:t("XML Values")}),this.props.asset.content.translations.map((function(o,r){var n=t("Labels");o&&(n+=" - ".concat(o)),e.push({value:r,label:n})})),e}},{key:"render",value:function(){return a.a.createElement("div",{className:"tableColumn-modal"},a.a.createElement(S.a.FormModal__item,{m:"translation-radios"},a.a.createElement(mn.a,{title:t("Display labels or XML values?"),options:this.getDisplayedLabelOptions(),selected:this.state.translationIndex,onChange:this.onLabelChange})),a.a.createElement(S.a.FormModal__item,{m:"group-headings"},a.a.createElement(Oo.a,{checked:this.state.showGroupName,onChange:this.updateGroupHeaderDisplay,label:t("Show group names in table headers")})),a.a.createElement(S.a.FormModal__item,null,a.a.createElement(Oo.a,{checked:this.state.showHXLTags,onChange:this.onHXLTagsChange,label:t("Show HXL tags")})),a.a.createElement(S.a.Modal__footer,null,this.userCan("change_asset",this.props.asset)&&a.a.createElement(S.a.KoboButton,{m:"whitegray",onClick:this.onReset},t("Reset")),a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.onSave},t("Save"))))}}])&&bn(o.prototype,r),n&&bn(o,n),s}(a.a.Component);f()(xn.prototype,h.a.ListenerMixin),f()(xn.prototype,O.a.permissions);var En,Sn=xn,On=Sn;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(xn,"TableSettings","/srv/src/kpi/jsapp/js/components/submissions/tableSettings.es6"),__REACT_HOT_LOADER__.register(Sn,"default","/srv/src/kpi/jsapp/js/components/submissions/tableSettings.es6")),r(572);function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Pn(e);if(t){var n=Pn(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return jn(this,o)}}function jn(e,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}S.a.KoboRange=Object(S.b)(null,"kobo-range"),S.a.KoboRange__values=Object(S.b)(S.a.KoboRange,"values","div"),S.a.KoboRange__maxValue=Object(S.b)(S.a.KoboRange,"max-value","span"),S.a.KoboRange__currentValue=Object(S.b)(S.a.KoboRange,"current-value","span"),S.a.KoboRange__number=Object(S.b)(S.a.KoboRange,"number","span"),S.a.KoboRange__unit=Object(S.b)(S.a.KoboRange,"unit","span"),S.a.KoboRange__progress=Object(S.b)(S.a.KoboRange,"progress","div"),S.a.KoboRange__input=Object(S.b)(S.a.KoboRange,"input","input"),function(e){e.default="default",e.warning="warning",e.teal="teal"}(En||(En={}));var Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(i,e);var t,o,r,n=Cn(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,e)}return t=i,(o=[{key:"convertToClock",value:function(e){var t=Math.floor(e/60),o=Math.ceil(e-60*t);return t+":"+(o<10?"0"+o:String(o))}},{key:"onChange",value:function(e){if(this.props.onChange){var t=e.currentTarget.value;this.props.onChange(t)}}},{key:"render",value:function(){var e,t,o=!(0===this.props.max);return a.a.createElement(S.a.KoboRange,null,o&&a.a.createElement(S.a.KoboRange__values,null,a.a.createElement(S.a.KoboRange__currentValue,null,a.a.createElement(S.a.KoboRange__number,null,!this.props.isTime&&this.props.value,this.props.isTime&&this.convertToClock(this.props.value)),a.a.createElement(S.a.KoboRange__unit,null,this.props.currentLabel)),a.a.createElement(S.a.KoboRange__maxValue,null,a.a.createElement(S.a.KoboRange__number,null,!this.props.isTime&&this.props.max,this.props.isTime&&this.convertToClock(this.props.max)),a.a.createElement(S.a.KoboRange__unit,null,this.props.totalLabel))),a.a.createElement(S.a.KoboRange__progress,null,a.a.createElement(S.a.KoboRange__input,{m:(null===(e=this.props)||void 0===e?void 0:e.color)?this.props.color:En.default,type:"range",max:this.props.max,value:this.props.value,disabled:!this.props.onChange,onChange:(null===(t=this.props)||void 0===t?void 0:t.onChange)&&this.onChange.bind(this)})))}}])&&Rn(t.prototype,o),r&&Rn(t,r),i}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(En,"KoboRangeColours","/srv/src/kpi/jsapp/js/components/common/koboRange.tsx"),__REACT_HOT_LOADER__.register(Ln,"KoboRange","/srv/src/kpi/jsapp/js/components/common/koboRange.tsx")),r(574);function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Hn(e);if(t){var n=Hn(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Fn(this,o)}}function Fn(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?Un(e):t}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hn(e){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}S.a.AudioPlayer=Object(S.b)(null,"audio-player"),S.a.AudioPlayer__controls=Object(S.b)(S.a.AudioPlayer,"controls","div"),S.a.AudioPlayer__progress=Object(S.b)(S.a.AudioPlayer,"progress","div"),S.a.AudioPlayer__time=Object(S.b)(S.a.AudioPlayer,"time","div"),S.a.AudioPlayer__timeCurrent=Object(S.b)(S.a.AudioPlayer,"time-current","span"),S.a.AudioPlayer__timeTotal=Object(S.b)(S.a.AudioPlayer,"time-total","span"),S.a.AudioPlayer__seek=Object(S.b)(S.a.AudioPlayer,"seek","div");var Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(i,e);var t,o,r,n=In(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).state={isLoading:!1,isPlaying:!1,currentTime:0,totalTime:0},t.audioInterface=new Audio(t.props.mediaURL),t.audioInterface.onloadedmetadata=function(){t.setState({totalTime:t.audioInterface.duration})},t.audioInterface.ontimeupdate=function(){t.audioInterface.currentTime===t.state.totalTime&&t.state.isPlaying&&t.onPlayStatusChange(),t.setState({currentTime:t.audioInterface.currentTime})},l()(Un(t)),t}return t=i,(o=[{key:"componentWillUnmount",value:function(){this.audioInterface.pause()}},{key:"onPlayStatusChange",value:function(){this.state.isPlaying?this.audioInterface.pause():this.audioInterface.play(),this.setState({isPlaying:!this.state.isPlaying})}},{key:"onSeekChange",value:function(e){this.audioInterface.currentTime=parseInt(e),this.setState({currentTime:parseInt(e)})}},{key:"convertToClock",value:function(e){var t=Math.floor(e/60),o=Math.ceil(e-60*t);return t+":"+(o<10?"0"+o:String(o))}},{key:"getControlIcon",value:function(e){var t=["k-icon"];return e?t.push("k-icon-pause"):t.push("k-icon-caret-right"),t.join(" ")}},{key:"render",value:function(){return a.a.createElement(S.a.AudioPlayer,null,a.a.createElement(S.a.AudioPlayer__controls,null,a.a.createElement("i",{className:this.getControlIcon(this.state.isPlaying),onClick:this.onPlayStatusChange})),a.a.createElement(Ln,{max:this.state.totalTime,value:this.state.currentTime,isTime:!0,onChange:this.onSeekChange}))}}])&&Nn(t.prototype,o),r&&Nn(t,r),i}(a.a.Component),Vn=Bn,zn=Vn;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Bn,"AudioPlayer","/srv/src/kpi/jsapp/js/components/common/audioPlayer.tsx"),__REACT_HOT_LOADER__.register(Vn,"default","/srv/src/kpi/jsapp/js/components/common/audioPlayer.tsx"));function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Wn(e);if(t){var n=Wn(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Qn(this,o)}}function Qn(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?Kn(e):t}function Kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}S.a.TableMediaPreview=Object(S.b)(null,"table-media-preview"),S.a.TableMediaPreview__image=Object(S.b)(S.a.TableMediaPreview,"image","img"),S.a.TableMediaPreview__audio=Object(S.b)(S.a.TableMediaPreview,"audio","div"),S.a.TableMediaPreview__video=Object(S.b)(S.a.TableMediaPreview,"video","video"),S.a.TableMediaPreview__text=Object(S.b)(S.a.TableMediaPreview,"text","div");var Jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(s,e);var o,r,n,i=$n(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isLoading:!1},l()(Kn(t)),t}return o=s,(r=[{key:"renderPreviewByType",value:function(){var e,o,r,n,i,l;switch(this.props.questionType){case A.QUESTION_TYPES.image.id:return a.a.createElement(S.a.TableMediaPreview__image,{src:null===(e=this.props)||void 0===e||null===(o=e.mediaAttachment)||void 0===o?void 0:o.download_medium_url});case A.QUESTION_TYPES.audio.id:case A.META_QUESTION_TYPES["background-audio"]:return a.a.createElement(S.a.TableMediaPreview__audio,null,a.a.createElement("i",{className:"k-icon k-icon-file-audio"}),a.a.createElement(zn,{mediaURL:null===(r=this.props)||void 0===r||null===(n=r.mediaAttachment)||void 0===n?void 0:n.download_url}));case A.QUESTION_TYPES.video.id:return a.a.createElement(S.a.TableMediaPreview__video,{src:null===(i=this.props)||void 0===i||null===(l=i.mediaAttachment)||void 0===l?void 0:l.download_url,controls:!0,autoPlay:!0});case A.QUESTION_TYPES.text.id:return a.a.createElement(S.a.TableMediaPreview__text,null,this.props.mediaName);default:return a.a.createElement("label",null,t("Unsupported media type: ##QUESTION_TYPE##").replace("##QUESTION_TYPE##",this.props.questionType))}}},{key:"render",value:function(){return a.a.createElement(S.a.TableMediaPreview,null,this.props.questionType&&this.renderPreviewByType())}}])&&Yn(o.prototype,r),n&&Yn(o,n),s}(a.a.Component),Xn=Jn,Zn=Xn;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Jn,"TableMediaPreview","/srv/src/kpi/jsapp/js/components/submissions/tableMediaPreview.es6"),__REACT_HOT_LOADER__.register(Xn,"default","/srv/src/kpi/jsapp/js/components/submissions/tableMediaPreview.es6"));function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ia(e);if(t){var n=ia(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return na(this,o)}}function na(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?aa(e):t}function aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var la=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(s,e);var o,r,n,i=ra(s);function s(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={name:"",nameError:null,code:"",codeError:null},t.props.langString){var o=Object(z.getLangAsObject)(t.props.langString);t.state=o?{name:o.name||"",code:o.code||""}:{name:t.props.langString,code:""}}return l()(aa(t)),t}return o=s,(r=[{key:"isLanguageNameValid",value:function(){var e=this;if(this.props.existingLanguages){var t=!0;return this.props.existingLanguages.forEach((function(o){if(e.props.langString&&o===e.props.langString);else if(null!==o){var r=Object(z.getLangAsObject)(o);r&&r.name===e.state.name&&(t=!1)}})),t}return!0}},{key:"isLanguageCodeValid",value:function(){var e=this;if(this.props.existingLanguages){var t=!0;return this.props.existingLanguages.forEach((function(o){if(e.props.langString&&o===e.props.langString);else if(null!==o){var r=Object(z.getLangAsObject)(o);r&&r.code===e.state.code&&(t=!1)}})),t}return!0}},{key:"onSubmit",value:function(e){e.preventDefault(),e.currentTarget.disabled=!0;var o=this.isLanguageNameValid();o?this.setState({nameError:null}):(this.setState({nameError:t("Name must be unique!")}),e.currentTarget.disabled=!1);var r=this.isLanguageCodeValid();if(r?this.setState({codeError:null}):(this.setState({codeError:t("Code must be unique!")}),e.currentTarget.disabled=!1),o&&r){var n=this.props.isDefault?0:-1;void 0!==this.props.langIndex&&(n=this.props.langIndex),this.props.onLanguageChange({name:this.state.name,code:this.state.code},n)}}},{key:"onNameChange",value:function(e){this.setState({name:Object(z.toTitleCase)(e.trim().toLowerCase())})}},{key:"onCodeChange",value:function(e){this.setState({code:e.trim().toLowerCase()})}},{key:"render",value:function(){var e=0===this.state.name.length||0===this.state.code.length;return a.a.createElement(S.a.FormView__form,{m:"add-language-fields"},a.a.createElement(S.a.FormView__cell,{m:"lang-name"},a.a.createElement(S.a.FormModal__item,null,a.a.createElement("label",null,this.props.isDefault?t("Default language name"):t("Language name")),a.a.createElement($e.a,{value:this.state.name,onChange:this.onNameChange,errors:this.state.nameError}))),a.a.createElement(S.a.FormView__cell,{m:"lang-code"},a.a.createElement(S.a.FormModal__item,null,a.a.createElement("label",null,this.props.isDefault?t("Default language code"):t("Language code")),a.a.createElement($e.a,{value:this.state.code,onChange:this.onCodeChange,errors:this.state.codeError}))),a.a.createElement(S.a.FormView__cell,{m:"submit-button"},a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.onSubmit,type:"submit",disabled:e},void 0!==this.props.langIndex?t("Update"):this.props.isDefault?t("Set"):t("Add"))))}}])&&ta(o.prototype,r),n&&ta(o,n),s}(a.a.Component),sa=la,ca=sa,da=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(la,"LanguageForm","/srv/src/kpi/jsapp/js/components/modalForms/languageForm.es6"),__REACT_HOT_LOADER__.register(sa,"default","/srv/src/kpi/jsapp/js/components/modalForms/languageForm.es6")),r(23)),ua=r(22);function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ga(e);if(t){var n=ga(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return ha(this,o)}}function ha(e,t){return!t||"object"!==pa(t)&&"function"!=typeof t?ba(e):t}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(s,e);var o,r,n,i=_a(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e);var o=[];return e.asset&&e.asset.content&&e.asset.content.translations&&(o=e.asset.content.translations),t.state={assetUid:e.assetUid,asset:e.asset,translations:o,showAddLanguageForm:!1,isUpdatingDefaultLanguage:!1,renameLanguageIndex:-1},l()(ba(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.listenTo(Pt.a,this.onAssetsChange),this.state.asset&&!this.state.asset.content&&(b.a.allAssets.whenLoaded(this.props.assetUid,this.onAssetChange),w.a.resources.loadAsset({id:this.state.asset.uid})),!this.state.asset&&this.state.assetUid&&(Pt.a.data[this.state.assetUid]?this.onAssetChange(Pt.a.data[this.state.assetUid]):b.a.allAssets.whenLoaded(this.props.assetUid,this.onAssetChange))}},{key:"onAssetChange",value:function(e){this.setState({asset:e,translations:e.content.translations||[],showAddLanguageForm:!1,isUpdatingDefaultLanguage:!1,renameLanguageIndex:-1}),b.a.pageState.showModal({type:A.MODAL_TYPES.FORM_LANGUAGES,asset:e})}},{key:"onAssetsChange",value:function(e){var t;this.state.asset?t=this.state.asset.uid:this.state.assetUid&&(t=this.state.assetUid),this.onAssetChange(e[t])}},{key:"showAddLanguageForm",value:function(){this.setState({showAddLanguageForm:!0})}},{key:"hideAddLanguageForm",value:function(){this.setState({showAddLanguageForm:!1})}},{key:"toggleRenameLanguageForm",value:function(e){var t=parseInt(e.currentTarget.dataset.index);this.state.renameLanguageIndex===t?this.setState({renameLanguageIndex:-1}):this.setState({renameLanguageIndex:t})}},{key:"launchTranslationTableModal",value:function(e){var t=e.currentTarget.dataset.index,o=e.currentTarget.dataset.string;b.a.pageState.switchModal({type:A.MODAL_TYPES.FORM_TRANSLATIONS_TABLE,asset:this.state.asset,langString:o,langIndex:t})}},{key:"onLanguageChange",value:function(e,t){var o=this.state.asset.content,r=Object(z.getLangString)(e);t>-1?o.translations[t]=r:(o.translations.push(r),o=this.prepareTranslations(o)),0===t&&(o.settings.default_language=r),this.updateAsset(o)}},{key:"canAddLanguages",value:function(){return!(1===this.state.translations.length&&null===this.state.translations[0])}},{key:"canEditLanguages",value:function(){return!this.isEditingLanguagesLocked()&&this.canAddLanguages()}},{key:"getAllLanguages",value:function(){return this.state.translations}},{key:"deleteLanguage",value:function(e){var o=this,r=e.currentTarget.dataset.index,n=this.deleteTranslations(this.state.asset.content,r);if(n){n.translations.splice(r,1);var a=Ne.a.dialog("confirm"),i={title:t("Delete language?"),message:t("Are you sure you want to delete this language? This action is not reversible."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){o.updateAsset(n),a.destroy()},oncancel:a.destroy};a.set(i).show()}else Object(z.notify)(t("Translation index mismatch. Cannot delete language."),"error")}},{key:"prepareTranslations",value:function(e){for(var t=e.translated,o=e.translations.length,r=e.survey,n=e.choices,a=0,i=r.length;a<i;a++)for(var l=r[a],s=0,c=t.length;s<c;s++){var d=t[s];l[d]&&l[d].length<o&&l[d].push(null)}if(e.choices&&e.choices.length)for(var u=0,p=n.length;u<p;u++)n[u].label.length<o&&n[u].label.push(null);return e}},{key:"deleteTranslations",value:function(e,t){for(var o=e.translated,r=e.translations.length,n=e.survey,a=e.choices,i=0,l=n.length;i<l;i++)for(var s=n[i],c=0,d=o.length;c<d;c++){var u=o[c];if(s[u]){if(s[u].length!==r)return console.error("Translations index mismatch"),!1;s[u].splice(t,1)}}if(e.choices&&e.choices.length)for(var p=0,m=a.length;p<m;p++)if(a[p].label){if(a[p].label.length!==r)return console.error("Translations index mismatch"),!1;a[p].label.splice(t,1)}return e}},{key:"changeDefaultLanguage",value:function(e){var o=this,r=e.currentTarget.dataset.index,n=this.state.translations[r],a=Ne.a.dialog("confirm"),i={title:t("Change default language?"),message:t("Are you sure you would like to set ##lang## as the default language for this form?").replace("##lang##",n),labels:{ok:t("Confirm"),cancel:t("Cancel")},onok:function(){o.setState({isUpdatingDefaultLanguage:!0});var e=o.state.asset.content;e.settings.default_language=n,o.updateAsset(e),a.destroy()},oncancel:a.destroy};a.set(i).show()}},{key:"updateAsset",value:function(e){var t=this;w.a.resources.updateAsset(this.state.asset.uid,{content:JSON.stringify(e)},{onFailed:function(){w.a.resources.loadAsset({id:t.state.asset.uid}),Ne.a.error("failed to update translations")}})}},{key:"isEditingLanguagesLocked",value:function(){var e;return(null===(e=this.state.asset)||void 0===e?void 0:e.content)&&Object(ua.hasAssetRestriction)(this.state.asset.content,da.LOCKING_RESTRICTIONS.language_edit.name)}},{key:"renderEmptyMessage",value:function(){return a.a.createElement(S.a.FormModal,{m:"translation-settings"},a.a.createElement(S.a.FormModal__item,null,a.a.createElement(S.a.FormView__cell,null,t("There is nothing to translate in this form."))))}},{key:"renderUndefinedDefaultSettings",value:function(){return a.a.createElement(S.a.FormModal,{m:"translation-settings"},a.a.createElement(S.a.FormModal__item,null,a.a.createElement(S.a.FormView__cell,{m:"translation-note"},a.a.createElement("p",null,t("Here you can add more languages to your project, and translate the strings in each of them.")),a.a.createElement("p",null,t("For the language code field, we suggest using the"),a.a.createElement("a",{target:"_blank",href:"https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry"}," "+t("official language code")+" "),t('(e.g. "English (en)" or "Rohingya (rhg)").'),oe.a.isReady&&oe.a.data.support_url&&a.a.createElement("a",{target:"_blank",href:oe.a.data.support_url+"language_dashboard.html"}," "+t("Read more.")))),a.a.createElement(S.a.FormView__cell,{m:"translation"},a.a.createElement("p",null,a.a.createElement("strong",null,t("Please name your default language before adding languages and translations.")))),a.a.createElement(S.a.FormView__cell,{m:"update-language-form"},a.a.createElement(ca,{onLanguageChange:this.onLanguageChange,existingLanguages:this.getAllLanguages(),isDefault:!0}))))}},{key:"renderTranslationsSettings",value:function(e){var o=this;return a.a.createElement(S.a.FormModal,{m:"translation-settings"},a.a.createElement(S.a.FormModal__item,null,a.a.createElement(S.a.FormView__cell,{m:"label"},t("Current languages")),null===e[0]&&a.a.createElement(S.a.FormView__cell,{m:["warning","translation-modal-warning"]},a.a.createElement("i",{className:"k-icon k-icon-alert"}),a.a.createElement("p",null,t("You have named translations in your form but the default translation is unnamed. Please specifiy a default translation or make an existing one default."))),e.map((function(e,r){return a.a.createElement(a.a.Fragment,{key:"lang-".concat(r)},a.a.createElement(S.a.FormView__cell,{m:"translation"},a.a.createElement(S.a.FormView__cell,{m:"translation-name"},e,0===r&&a.a.createElement(S.a.FormView__label,{m:"default-language"},t("default")),0!==r&&a.a.createElement(S.a.FormView__iconButton,{"data-index":r,onClick:o.changeDefaultLanguage,disabled:o.state.isUpdatingDefaultLanguage||!o.canEditLanguages(),"data-tip":t("Make default")},a.a.createElement("i",{className:"k-icon k-icon-language-default"}))),a.a.createElement(S.a.FormView__cell,{m:"translation-actions"},a.a.createElement(S.a.FormView__iconButton,{"data-index":r,onClick:o.toggleRenameLanguageForm,disabled:o.state.isUpdatingDefaultLanguage||!o.canEditLanguages(),"data-tip":t("Edit language"),className:"right-tooltip"},o.state.renameLanguageIndex===r&&a.a.createElement("i",{className:"k-icon k-icon-close"}),o.state.renameLanguageIndex!==r&&a.a.createElement("i",{className:"k-icon k-icon-edit"})),a.a.createElement(S.a.FormView__iconButton,{"data-index":r,"data-string":o.state.translations[r],onClick:o.launchTranslationTableModal,disabled:o.state.isUpdatingDefaultLanguage,"data-tip":t("Update translations"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-language-settings"})),0!==r&&a.a.createElement(S.a.FormView__iconButton,{"data-index":r,onClick:o.deleteLanguage,disabled:o.state.isUpdatingDefaultLanguage||!o.canEditLanguages(),"data-tip":t("Delete language"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-trash"})))),o.state.renameLanguageIndex===r&&a.a.createElement(S.a.FormView__cell,{m:"update-language-form"},a.a.createElement(ca,{langString:e,langIndex:r,onLanguageChange:o.onLanguageChange,existingLanguages:o.getAllLanguages(e)})))})),!this.state.showAddLanguageForm&&a.a.createElement(S.a.FormView__cell,{m:"add-language"},a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.showAddLanguageForm,disabled:!this.canAddLanguages()||!this.canEditLanguages()},t("Add language"))),this.state.showAddLanguageForm&&a.a.createElement(S.a.FormView__cell,{m:"add-language-form"},a.a.createElement(S.a.FormView__link,{m:"close",onClick:this.hideAddLanguageForm},a.a.createElement("i",{className:"k-icon k-icon-close"})),a.a.createElement(S.a.FormView__cell,{m:"label"},t("Add a new language")),a.a.createElement(ca,{onLanguageChange:this.onLanguageChange,existingLanguages:this.getAllLanguages()}))))}},{key:"render",value:function(){if(!this.state.asset||!this.state.asset.content||null===this.state.translations)return a.a.createElement(q.a,null);var e=this.state.translations;return 0===e.length?this.renderEmptyMessage():1===e.length&&null===e[0]?this.renderUndefinedDefaultSettings():this.renderTranslationsSettings(e)}}])&&ma(o.prototype,r),n&&ma(o,n),s}(a.a.Component);f()(ya.prototype,h.a.ListenerMixin);var va=ya,ka=va,wa=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("language_dashboard.html","LANGUAGE_SUPPORT_URL","/srv/src/kpi/jsapp/js/components/modalForms/translationSettings.es6"),__REACT_HOT_LOADER__.register(ya,"TranslationSettings","/srv/src/kpi/jsapp/js/components/modalForms/translationSettings.es6"),__REACT_HOT_LOADER__.register(va,"default","/srv/src/kpi/jsapp/js/components/modalForms/translationSettings.es6")),r(331));function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e){return function(e){if(Array.isArray(e))return Sa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Sa(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Sa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function Oa(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t){return(Ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ja(e);if(t){var n=ja(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Aa(this,o)}}function Aa(e,t){return!t||"object"!==xa(t)&&"function"!=typeof t?Ca(e):t}function Ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pa={DEFAULT:t("Save Changes"),UNSAVED:t("* Save Changes"),PENDING:t("Savingâ€¦")},La=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ta(e,t)}(l,e);var o,r,n,i=Ra(l);function l(e){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(o=i.call(this,e)).state={saveChangesButtonText:Pa.DEFAULT,isSaveChangesButtonPending:!1,tableData:[],showLanguageForm:!1,langString:e.langString},b.a.translations.setTranslationTableUnsaved(!1);var r=e.asset.content,n=r.translated,s=r.survey,c=r.choices,d=r.translations,u=e.langIndex,p=0==u?t("updated text"):t("translation"),m=[];return s.forEach((function(e){var t=!1;(null==e?void 0:e.label)&&(t=o.isRowLabelLocked(e.type,e.name)),o.isChoiceLabelLocked(e.name)&&e.select_from_list_name&&m.push(e.select_from_list_name),n.forEach((function(r){e[r]&&e[r][0]&&o.state.tableData.push({original:e[r][0],value:e[r][u],name:e.name||e.$autoname,itemProp:r,contentProp:"survey",isLabelLocked:t})}))})),c&&c.length&&c.forEach((function(e){var t=m.includes(e.list_name);e.label&&e.label[0]&&o.state.tableData.push({original:e.label[0],value:e.label[u],name:e.name||e.$autovalue,listName:e.list_name,itemProp:"label",contentProp:"choices",isLabelLocked:t})})),o.columns=[{Header:t("Original string"),accessor:"original",minWidth:130,Cell:function(e){return a.a.createElement("div",{className:e.original.isLabelLocked?"rt-td--disabled":""},e.original.original)}},{Header:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.FormView__iconButton,{onClick:o.toggleRenameLanguageForm.bind(Ca(o)),disabled:!o.canEditLanguages(),className:"right-tooltip form-view__icon-button-edit"},o.state.showLanguageForm&&a.a.createElement("i",{className:"k-icon k-icon-close"}),!o.state.showLanguageForm&&a.a.createElement("i",{className:"k-icon k-icon-edit"})),"".concat(d[u]," ").concat(p))},accessor:"translation",className:"translation",Cell:function(e){return a.a.createElement(Ke.a,{onChange:function(t){var r=Ea(o.state.tableData);r[e.index].value=t.target.value,o.setState({data:r}),o.markFormUnsaved()},value:o.state.tableData[e.index].value||"",disabled:e.original.isLabelLocked})}}],o}return o=l,(r=[{key:"markFormUnsaved",value:function(){this.setState({saveChangesButtonText:Pa.UNSAVED,isSaveChangesButtonPending:!1}),b.a.translations.setTranslationTableUnsaved(!0)}},{key:"markFormPending",value:function(){this.setState({saveChangesButtonText:Pa.PENDING,isSaveChangesButtonPending:!0}),b.a.translations.setTranslationTableUnsaved(!0)}},{key:"markFormIdle",value:function(){this.setState({saveChangesButtonText:Pa.DEFAULT,isSaveChangesButtonPending:!1}),b.a.translations.setTranslationTableUnsaved(!1)}},{key:"toggleRenameLanguageForm",value:function(e){e.stopPropagation(),this.setState({showLanguageForm:!this.state.showLanguageForm})}},{key:"saveChanges",value:function(){for(var e=this.props.asset.content,t=this.state.tableData,o=this.props.langIndex,r=0,n=t.length;r<n;r++){var a=e[t[r].contentProp].find((function(e){return(e.name===t[r].name||e.$autoname===t[r].name||e.$autovalue===t[r].name)&&e.list_name===t[r].listName})),i=t[r].itemProp;a[i][o]!==t[r].value&&(a[i][o]=t[r].value)}this.markFormPending(),w.a.resources.updateAsset(this.props.asset.uid,{content:JSON.stringify(e)},{onComplete:this.markFormIdle.bind(this),onFailed:this.markFormUnsaved.bind(this)})}},{key:"onBack",value:function(){if(b.a.translations.state.isTranslationTableUnsaved){var e=Ne.a.dialog("confirm"),o={title:t("Go back?"),message:t("You will lose all unsaved changes."),labels:{ok:t("Confirm"),cancel:t("Cancel")},onok:this.showManageLanguagesModal.bind(this),oncancel:e.destroy};e.set(o).show()}else this.showManageLanguagesModal()}},{key:"showManageLanguagesModal",value:function(){b.a.pageState.switchModal({type:A.MODAL_TYPES.FORM_LANGUAGES,asset:this.props.asset})}},{key:"onLanguageChange",value:function(e,t){var o=this.props.asset.content,r=Object(z.getLangString)(e);o.translations[t]=r,this.setState({langString:r}),0===t&&(o.settings.default_language=r),this.updateHeader(o)}},{key:"updateHeader",value:function(e){var t=this;w.a.resources.updateAsset(this.props.asset.uid,{content:JSON.stringify(e)},{onFailed:function(){w.a.resources.loadAsset({id:t.props.asset.uid}),Ne.a.error("failed to update translations")}})}},{key:"getAllLanguages",value:function(){return this.props.asset.content.translations}},{key:"isRowLabelLocked",value:function(e,t){return e===A.GROUP_TYPES_BEGIN.begin_group?Object(ua.hasRowRestriction)(this.props.asset.content,t,da.LOCKING_RESTRICTIONS.group_label_edit.name):!!Object.keys(A.QUESTION_TYPES).includes(e)&&Object(ua.hasRowRestriction)(this.props.asset.content,t,da.LOCKING_RESTRICTIONS.question_label_edit.name)}},{key:"isChoiceLabelLocked",value:function(e){return Object(ua.hasRowRestriction)(this.props.asset.content,e,da.LOCKING_RESTRICTIONS.choice_label_edit.name)}},{key:"canEditLanguages",value:function(){var e;return(null===(e=this.props.asset)||void 0===e?void 0:e.content)&&!Object(ua.hasAssetRestriction)(this.props.asset.content,da.LOCKING_RESTRICTIONS.language_edit.name)}},{key:"render",value:function(){return a.a.createElement(S.a.FormModal,{m:"translation-table"},this.state.showLanguageForm&&a.a.createElement(S.a.FormModal,null,a.a.createElement(S.a.FormModal__item,null,a.a.createElement(S.a.FormView__cell,{m:"update-language-form"},a.a.createElement(ca,{langString:this.state.langString,langIndex:this.props.langIndex,onLanguageChange:this.onLanguageChange.bind(this),existingLanguages:this.getAllLanguages(),isDefault:0===this.props.langIndex})))),a.a.createElement("div",{className:"translation-table-container"},a.a.createElement(wa.a,{data:this.state.tableData,columns:this.columns,defaultPageSize:30,showPageSizeOptions:!1,previousText:t("Prev"),nextText:t("Next"),minRows:1,loadingText:a.a.createElement(q.a,null)})),a.a.createElement(S.a.Modal__footer,null,a.a.createElement(S.a.KoboButton,{m:"whitegray",onClick:this.onBack.bind(this)},t("Back")),a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.saveChanges.bind(this),disabled:this.state.isSaveChangesButtonPending},this.state.saveChangesButtonText)))}}])&&Oa(o.prototype,r),n&&Oa(o,n),l}(a.a.Component),Da=La,Na=Da;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Pa,"SAVE_BUTTON_TEXT","/srv/src/kpi/jsapp/js/components/modalForms/translationTable.es6"),__REACT_HOT_LOADER__.register(La,"TranslationTable","/srv/src/kpi/jsapp/js/components/modalForms/translationTable.es6"),__REACT_HOT_LOADER__.register(Da,"default","/srv/src/kpi/jsapp/js/components/modalForms/translationTable.es6"));function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function Fa(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=za(e);if(t){var n=za(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ba(this,o)}}function Ba(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?Va(e):t}function Va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e){var o=t("Success!"),r=e.params,n=parseInt(r.sid);if(!r.isDuplicated)if(o=t("Submission Record"),r.tableInfo){var a=r.ids.indexOf(n)+r.tableInfo.pageSize*r.tableInfo.currentPage+1;o="".concat(t("Submission Record")," (").concat(a," ").concat(t("of")," ").concat(r.tableInfo.resultsTotal,")")}else{var i=r.ids.indexOf(n);o=1===r.ids.length?"".concat(t("Submission Record")):"".concat(t("Submission Record")," (").concat(i," ").concat(t("of")," ").concat(r.ids.length,")")}return o}var Ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}(s,e);var o,r,n,i=Ha(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={enketopreviewlink:!1,error:!1,modalClass:!1},l()(Va(t)),t}return o=s,n=[{key:"getDerivedStateFromProps",value:function(e,o){if(e.params){var r={};if(e.params.sid?(r.title=qa(e),r.sid=e.params.sid):r.sid=!1,o.prevType!==e.params.type&&e.params.type===A.MODAL_TYPES.UPLOADING_XLS){var n=e.params.filename||"";r.title=t("Uploading XLS file"),r.message=t("Uploading: ")+n}return r.prevType=e.params.type,r}return null}}],(r=[{key:"componentDidMount",value:function(){var e=this.props.params.type;switch(e){case A.MODAL_TYPES.SHARING:this.setModalTitle(t("Sharing Permissions"));break;case A.MODAL_TYPES.UPLOADING_XLS:var o=this.props.params.filename||"";this.setState({title:t("Uploading XLS file"),message:t("Uploading: ")+o});break;case A.MODAL_TYPES.NEW_FORM:break;case A.MODAL_TYPES.LIBRARY_NEW_ITEM:this.setModalTitle(t("Create Library Item"));break;case A.MODAL_TYPES.LIBRARY_TEMPLATE:this.setModalTitle(t("Template details"));break;case A.MODAL_TYPES.LIBRARY_COLLECTION:this.setModalTitle(t("Collection details"));break;case A.MODAL_TYPES.ASSET_TAGS:this.setModalTitle(t("Edit tags"));break;case A.MODAL_TYPES.LIBRARY_UPLOAD:this.setModalTitle(t("Upload file"));break;case A.MODAL_TYPES.ENKETO_PREVIEW:var r=this.props.params.assetid||this.props.params.uid;b.a.allAssets.whenLoaded(r,(function(e){w.a.resources.createSnapshot({asset:e.url})})),this.listenTo(b.a.snapshots,this.enketoSnapshotCreation),this.setState({title:t("Form Preview"),modalClass:"modal--large"});break;case A.MODAL_TYPES.SUBMISSION:this.setState({title:qa(this.props),modalClass:"modal--large modal-submission",sid:this.props.params.sid});break;case A.MODAL_TYPES.REST_SERVICES:this.props.params.hookUid?this.setState({title:t("Edit REST Service")}):this.setState({title:t("New REST Service")});break;case A.MODAL_TYPES.REPLACE_PROJECT:break;case A.MODAL_TYPES.TABLE_SETTINGS:this.setModalTitle(t("Table display options"));break;case A.MODAL_TYPES.FORM_LANGUAGES:this.setModalTitle(t("Manage Languages"));break;case A.MODAL_TYPES.FORM_TRANSLATIONS_TABLE:this.setState({title:t("Translations Table"),modalClass:"modal--large"});break;case A.MODAL_TYPES.ENCRYPT_FORM:this.setModalTitle(t("Manage Form Encryption"));break;case A.MODAL_TYPES.BULK_EDIT_SUBMISSIONS:this.setState({modalClass:"modal--large modal--large-shorter"});break;case A.MODAL_TYPES.TABLE_MEDIA_PREVIEW:this.setState({modalClass:"modal-media-preview"});break;case A.MODAL_TYPES.DATA_ATTACHMENT_COLUMNS:break;default:console.error('Unknown modal type: "'.concat(e,'"!'))}}},{key:"setModalTitle",value:function(e){this.setState({title:e})}},{key:"enketoSnapshotCreation",value:function(e){e.success?this.setState({enketopreviewlink:e.enketopreviewlink}):this.setState({message:e.error,error:!0})}},{key:"displaySafeCloseConfirm",value:function(e,o){var r=Ne.a.dialog("confirm"),n={title:e,message:o,labels:{ok:t("Close"),cancel:t("Cancel")},onok:b.a.pageState.hideModal,oncancel:r.destroy};r.set(n).show()}},{key:"onModalClose",value:function(){this.props.params.type===A.MODAL_TYPES.FORM_TRANSLATIONS_TABLE&&b.a.translations.state.isTranslationTableUnsaved?this.displaySafeCloseConfirm(t("Close Translations Table?"),t("You will lose all unsaved changes.")):b.a.pageState.hideModal()}},{key:"render",value:function(){var e=this.props.params.assetid||this.props.params.uid;return a.a.createElement(Me.a,{open:!0,onClose:this.onModalClose,title:this.state.title,className:this.state.modalClass,isDuplicated:this.props.params.isDuplicated,customModalHeader:this.props.params.customModalHeader},a.a.createElement(Me.a.Body,null,this.props.params.type===A.MODAL_TYPES.SHARING&&a.a.createElement(gr,{uid:e}),this.props.params.type===A.MODAL_TYPES.NEW_FORM&&a.a.createElement(po.a,{context:A.PROJECT_SETTINGS_CONTEXTS.NEW,onSetModalTitle:this.setModalTitle}),this.props.params.type===A.MODAL_TYPES.LIBRARY_NEW_ITEM&&a.a.createElement(yt,{onSetModalTitle:this.setModalTitle}),this.props.params.type===A.MODAL_TYPES.LIBRARY_TEMPLATE&&a.a.createElement(ct,{asset:this.props.params.asset,assetType:A.ASSET_TYPES.template.id,onSetModalTitle:this.setModalTitle}),this.props.params.type===A.MODAL_TYPES.LIBRARY_COLLECTION&&a.a.createElement(ct,{asset:this.props.params.asset,assetType:A.ASSET_TYPES.collection.id,onSetModalTitle:this.setModalTitle}),this.props.params.type===A.MODAL_TYPES.ASSET_TAGS&&a.a.createElement(Ye,{asset:this.props.params.asset}),this.props.params.type===A.MODAL_TYPES.LIBRARY_UPLOAD&&a.a.createElement(jt,{onSetModalTitle:this.setModalTitle,file:this.props.params.file}),this.props.params.type===A.MODAL_TYPES.REPLACE_PROJECT&&a.a.createElement(po.a,{context:A.PROJECT_SETTINGS_CONTEXTS.REPLACE,onSetModalTitle:this.setModalTitle,formAsset:this.props.params.asset}),this.props.params.type===A.MODAL_TYPES.ENKETO_PREVIEW&&this.state.enketopreviewlink&&a.a.createElement("div",{className:"enketo-holder"},a.a.createElement("iframe",{src:this.state.enketopreviewlink})),this.props.params.type===A.MODAL_TYPES.ENKETO_PREVIEW&&!this.state.enketopreviewlink&&a.a.createElement(q.a,null),this.props.params.type===A.MODAL_TYPES.ENKETO_PREVIEW&&this.state.error&&a.a.createElement("div",null,this.state.message),this.props.params.type===A.MODAL_TYPES.UPLOADING_XLS&&a.a.createElement("div",null,a.a.createElement(q.a,{message:this.state.message})),this.props.params.type===A.MODAL_TYPES.SUBMISSION&&this.state.sid&&a.a.createElement(pn,{sid:this.state.sid,asset:this.props.params.asset,ids:this.props.params.ids,isDuplicated:this.props.params.isDuplicated,duplicatedSubmission:this.props.params.duplicatedSubmission,backgroundAudioUrl:this.props.params.backgroundAudioUrl,tableInfo:this.props.params.tableInfo||!1}),this.props.params.type===A.MODAL_TYPES.SUBMISSION&&!this.state.sid&&a.a.createElement("div",null,a.a.createElement(S.a.Loading,null,a.a.createElement(S.a.Loading__inner,null,a.a.createElement("i",{className:"k-spin k-icon k-icon-spinner"})))),this.props.params.type===A.MODAL_TYPES.TABLE_SETTINGS&&a.a.createElement(On,{asset:this.props.params.asset}),this.props.params.type===A.MODAL_TYPES.REST_SERVICES&&a.a.createElement(mo.a,{assetUid:this.props.params.assetUid,hookUid:this.props.params.hookUid}),this.props.params.type===A.MODAL_TYPES.FORM_LANGUAGES&&a.a.createElement(ka,{asset:this.props.params.asset,assetUid:this.props.params.assetUid}),this.props.params.type===A.MODAL_TYPES.FORM_TRANSLATIONS_TABLE&&a.a.createElement(Na,{asset:this.props.params.asset,langString:this.props.params.langString,langIndex:this.props.params.langIndex}),this.props.params.type===A.MODAL_TYPES.ENCRYPT_FORM&&a.a.createElement(Vt,{asset:this.props.params.asset,assetUid:this.props.params.assetUid}),this.props.params.type===A.MODAL_TYPES.BULK_EDIT_SUBMISSIONS&&a.a.createElement(uo,Ia({onSetModalTitle:this.setModalTitle,onModalClose:this.onModalClose,asset:this.props.params.asset},this.props.params)),this.props.params.type===A.MODAL_TYPES.TABLE_MEDIA_PREVIEW&&a.a.createElement(Zn,this.props.params),this.props.params.type===A.MODAL_TYPES.DATA_ATTACHMENT_COLUMNS&&a.a.createElement(Vr,Ia({onSetModalTitle:this.setModalTitle,onModalClose:this.onModalClose},this.props.params))))}}])&&Fa(o.prototype,r),n&&Fa(o,n),s}(a.a.Component);f()(Ya.prototype,h.a.ListenerMixin);var Ga=Ya,$a=Ga;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(qa,"getSubmissionTitle","/srv/src/kpi/jsapp/js/components/bigModal/bigModal.es6"),__REACT_HOT_LOADER__.register(Ya,"BigModal","/srv/src/kpi/jsapp/js/components/bigModal/bigModal.es6"),__REACT_HOT_LOADER__.register(Ga,"default","/srv/src/kpi/jsapp/js/components/bigModal/bigModal.es6"));function Qa(e){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ka(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Za(e);if(t){var n=Za(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Xa(this,o)}}function Xa(e,t){return!t||"object"!==Qa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Za(e){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(i,e);var t,o,r,n=Ja(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).state=Object(z.assign)({pageState:b.a.pageState.state}),t}return t=i,(o=[{key:"componentDidMount",value:function(){s.f.listen(this.onRouteChange.bind(this))}},{key:"onRouteChange",value:function(){this.state.pageState.showFixedDrawer&&b.a.pageState.setState({showFixedDrawer:!1}),this.state.pageState.modal&&b.a.pageState.hideModal()}},{key:"render",value:function(){var e=this.props.params.assetid||this.props.params.uid||null,t=[];this.isFormSingle()&&t.push("form-landing"),this.isLibrarySingle()&&t.push("library-landing");var o={"fixed-drawer":this.state.pageState.showFixedDrawer,"in-formbuilder":this.isFormBuilder(),"is-modal-visible":Boolean(this.state.pageState.modal)};return"object"===Qa(this.state.pageState.modal)&&(o["is-modal-".concat(this.state.pageState.modal.type)]=!0),a.a.createElement(p.a,{title:"KoBoToolbox"},a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,null),a.a.createElement(ve.b,null),a.a.createElement("div",{className:"header-stretch-bg"}),a.a.createElement(S.a.PageWrapper,{m:o,className:"mdl-layout mdl-layout--fixed-header"},this.state.pageState.modal&&a.a.createElement($a,{params:this.state.pageState.modal}),!this.isFormBuilder()&&a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,{assetid:e}),a.a.createElement(ge,null)),a.a.createElement(S.a.PageWrapper__content,{className:"mdl-layout__content",m:t},!this.isFormBuilder()&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ye.a,{type:"top",show:this.isFormSingle()}),a.a.createElement(ye.a,{type:"side",show:this.isFormSingle()})),this.props.children))))}}])&&Ka(t.prototype,o),r&&Ka(t,r),i}(a.a.Component);ei.contextTypes={router:d.a.object},f()(ei.prototype,h.a.connect(b.a.pageState,"pageState")),f()(ei.prototype,O.a.contextRouter);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(ei,"App","/srv/src/kpi/jsapp/js/app.es6");var ti=r(386);function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)}function ai(e,t){return(ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ci(e);if(t){var n=ci(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return li(this,o)}}function li(e,t){return!t||"object"!==oi(t)&&"function"!=typeof t?si(e):t}function si(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var di=function(e){ni(o,e);var t=ii(o);function o(e){var r;return ri(this,o),(r=t.call(this,e)).state={asset_updated:A.update_states.UP_TO_DATE,multioptionsExpanded:!0,surveyAppRendered:!1,name:"",isNewAsset:!1,backRoute:V.b.FORMS},l()(si(r)),r}return o}(a.a.Component);f()(di.prototype,h.a.ListenerMixin),f()(di.prototype,ti.a),f()(di.prototype,O.a.permissions),di.contextTypes={router:d.a.object};var ui=function(e){ni(o,e);var t=ii(o);function o(e){var r;return ri(this,o),(r=t.call(this,e)).state={asset_updated:A.update_states.UP_TO_DATE,multioptionsExpanded:!0,surveyAppRendered:!1,name:"",isNewAsset:!0,backRoute:V.b.LIBRARY},l()(si(r)),r.props.route.path===V.b.EDIT_LIBRARY_ITEM&&(r.state.isNewAsset=!1),r.props.route.path===V.b.NEW_LIBRARY_ITEM&&(r.state.asset=!1),r.props.route.path===V.b.NEW_LIBRARY_CHILD&&(r.state.asset=!1,r.state.parentAsset=r.props.params.uid,r.state.backRoute=V.b.LIBRARY_ITEM.replace(":uid",r.props.params.uid)),r.props.location.query.back&&(r.state.backRoute=r.props.location.query.back),r}return o}(a.a.Component);f()(ui.prototype,h.a.ListenerMixin),f()(ui.prototype,ti.a),ui.contextTypes={router:d.a.object};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(di,"FormPage","/srv/src/kpi/jsapp/js/components/formEditors.es6"),__REACT_HOT_LOADER__.register(ui,"LibraryAssetEditor","/srv/src/kpi/jsapp/js/components/formEditors.es6"));var pi=r(51),mi=r.n(pi),fi=r(62),_i=r(459),hi=r.n(_i);r(578);function bi(e){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gi(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=xi(e);if(t){var n=xi(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return ki(this,o)}}function ki(e,t){return!t||"object"!==bi(t)&&"function"!=typeof t?wi(e):t}function wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xi(e){return(xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ei=O.a.clickAssets.click.asset,Si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(c,e);var o,r,n,i=vi(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={ownedCollections:tt.data.collections,shouldHidePopover:!1,isPopoverVisible:!1,isSubscribePending:!1},t.unlisteners=[],t.hidePopoverDebounced=hi.a.debounce((function(){t.state.isPopoverVisible&&t.setState({shouldHidePopover:!0})}),500),l()(wi(t)),t}return o=c,(r=[{key:"componentDidMount",value:function(){this.listenTo(tt,this.onOwnedCollectionsStoreChanged),this.unlisteners.push(w.a.library.subscribeToCollection.completed.listen(this.onSubscribingCompleted),w.a.library.unsubscribeFromCollection.completed.listen(this.onSubscribingCompleted))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onSubscribingCompleted",value:function(){this.setState({isSubscribePending:!1})}},{key:"onOwnedCollectionsStoreChanged",value:function(e){this.setState({ownedCollections:e.collections})}},{key:"onMouseLeave",value:function(){this.hidePopoverDebounced()}},{key:"onMouseEnter",value:function(){this.hidePopoverDebounced.cancel()}},{key:"onPopoverSetVisible",value:function(){this.setState({isPopoverVisible:!0})}},{key:"modifyDetails",value:function(){We.b.modifyDetails(this.props.asset)}},{key:"editLanguages",value:function(){We.b.editLanguages(this.props.asset)}},{key:"share",value:function(){We.b.share(this.props.asset)}},{key:"showTagsModal",value:function(){We.b.editTags(this.props.asset)}},{key:"replace",value:function(){We.b.replaceForm(this.props.asset)}},{key:"delete",value:function(){Ei.delete(this.props.asset,We.b.getAssetDisplayName(this.props.asset).final,this.onDeleteComplete.bind(this,this.props.asset.uid))}},{key:"onDeleteComplete",value:function(e){this.isLibrarySingle()&&this.currentAssetID()===e&&s.f.push(V.b.LIBRARY),this.isFormSingle()&&this.currentAssetID()===e&&s.f.push(V.b.FORMS)}},{key:"deploy",value:function(){O.a.dmix.deployAsset(this.props.asset)}},{key:"archive",value:function(){Ei.archive(this.props.asset)}},{key:"unarchive",value:function(){Ei.unarchive(this.props.asset)}},{key:"clone",value:function(){Ei.clone(this.props.asset)}},{key:"cloneAsSurvey",value:function(){Ei.cloneAsSurvey(this.props.asset.uid,We.b.getAssetDisplayName(this.props.asset).final)}},{key:"cloneAsTemplate",value:function(){Ei.cloneAsTemplate(this.props.asset.uid,We.b.getAssetDisplayName(this.props.asset).final)}},{key:"moveToCollection",value:function(e){w.a.library.moveToCollection(this.props.asset.uid,e)}},{key:"subscribeToCollection",value:function(){this.setState({isSubscribePending:!0}),w.a.library.subscribeToCollection(this.props.asset.url)}},{key:"unsubscribeFromCollection",value:function(){this.setState({isSubscribePending:!0}),w.a.library.unsubscribeFromCollection(this.props.asset.uid)}},{key:"viewContainingCollection",value:function(){var e=this.props.asset.parent.split("/"),t=e[e.length-2];s.f.push("/library/asset/".concat(t)),s.f.push(V.b.LIBRARY_ITEM.replace(":uid",t))}},{key:"getFormBuilderLink",value:function(){var e="#"+V.b.EDIT_LIBRARY_ITEM.replace(":uid",this.props.asset.uid),t=this.currentAssetID();if(this.props.asset.asset_type!==A.ASSET_TYPES.collection.id&&null!==this.props.asset.parent&&this.props.asset.parent.includes(t)){var o=V.b.LIBRARY_ITEM.replace(":uid",t);e+="?back=".concat(o)}return e}},{key:"renderMoreActionsTrigger",value:function(){return a.a.createElement("div",{className:"right-tooltip","data-tip":t("More actions")},a.a.createElement("i",{className:"k-icon k-icon-more"}))}},{key:"renderMoreActions",value:function(){var e=this,o=this.props.asset.asset_type,r=[];o!==A.ASSET_TYPES.collection.id&&(r=this.props.asset.downloads);var n=this.userCan("change_asset",this.props.asset),i=o===A.ASSET_TYPES.survey.id&&null===this.props.asset.deployed_version_id;return n||0!==r.length?a.a.createElement(fi.a,{triggerLabel:this.renderMoreActionsTrigger(),clearPopover:this.state.shouldHidePopover,popoverSetVisible:this.onPopoverSetVisible},n&&i&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.deploy},a.a.createElement("i",{className:"k-icon k-icon-deploy"}),t("Deploy")),n&&o===A.ASSET_TYPES.survey.id&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.replace},a.a.createElement("i",{className:"k-icon k-icon-replace"}),t("Replace form")),n&&o!==A.ASSET_TYPES.collection.id&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.editLanguages},a.a.createElement("i",{className:"k-icon k-icon-language"}),t("Manage translations")),n&&o===A.ASSET_TYPES.survey.id&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.cloneAsTemplate},a.a.createElement("i",{className:"k-icon k-icon-template"}),t("Create template")),r.map((function(e){return a.a.createElement(S.a.PopoverMenu__link,{href:e.url,key:"dl-".concat(e.format)},a.a.createElement("i",{className:"k-icon k-icon-".concat(e.format,"-file")}),t("Download"),"Â ",e.format.toString().toUpperCase())})),n&&o!==A.ASSET_TYPES.survey.id&&o!==A.ASSET_TYPES.collection.id&&null!==this.props.asset.parent&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.moveToCollection.bind(this,null)},a.a.createElement("i",{className:"k-icon k-icon-folder-out"}),t("Remove from collection")),n&&o!==A.ASSET_TYPES.survey.id&&o!==A.ASSET_TYPES.collection.id&&this.state.ownedCollections.length>0&&[a.a.createElement(S.a.PopoverMenu__heading,{key:"heading"},t("Move to")),a.a.createElement(S.a.PopoverMenu__moveTo,{key:"list"},this.state.ownedCollections.map((function(t){var o=["move-coll-item"],r=t.url===e.props.asset.parent;r&&o.push("move-coll-item-parent");var n=We.b.getAssetDisplayName(t).final;return a.a.createElement(S.a.PopoverMenu__item,{onClick:e.moveToCollection.bind(e,t.url),key:t.uid,title:n,m:o},r&&a.a.createElement("i",{className:"k-icon k-icon-check"}),!r&&a.a.createElement("i",{className:"k-icon k-icon-folder-in"}),n)})))],n&&o===A.ASSET_TYPES.survey.id&&this.props.has_deployment&&!this.props.deployment__active&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.unarchive},a.a.createElement("i",{className:"k-icon k-icon-archived"}),t("Unarchive")),n&&o===A.ASSET_TYPES.survey.id&&this.props.has_deployment&&this.props.deployment__active&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.archive},a.a.createElement("i",{className:"k-icon k-icon-archived"}),t("Archive")),n&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.delete},a.a.createElement("i",{className:"k-icon k-icon-trash"}),t("Delete"))):null}},{key:"renderSubButton",value:function(){var e=We.b.isSelfOwned(this.props.asset),o=We.b.isAssetPublic(this.props.asset.permissions),r=this.props.asset.access_types&&this.props.asset.access_types.includes(A.ACCESS_TYPES.subscribed);if(!e&&o&&this.props.asset.asset_type===A.ASSET_TYPES.collection.id){var n=r?["off"]:["on"],i=r?this.unsubscribeFromCollection.bind(this):this.subscribeToCollection.bind(this);this.state.isSubscribePending&&n.push("pending");var l=null,s=t("Pendingâ€¦");return this.state.isSubscribePending||(r?(l=a.a.createElement("i",{className:"k-icon k-icon-close"}),s=t("Unsubscribe")):(l=a.a.createElement("i",{className:"k-icon k-icon-subscribe"}),s=t("Subscribe"))),a.a.createElement(S.a.AssetActionButtons__button,{m:n,onClick:i,disabled:this.state.isSubscribePending},l,s)}return null}},{key:"render",value:function(){if(!this.props.asset)return null;var e=this.props.asset.asset_type,o=this.userCan("change_asset",this.props.asset),r=e===A.ASSET_TYPES.template.id||e===A.ASSET_TYPES.collection.id;return a.a.createElement(S.a.AssetActionButtons,{onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},this.renderSubButton(),o&&e!==A.ASSET_TYPES.collection.id&&a.a.createElement(S.a.AssetActionButtons__iconButton,{href:this.getFormBuilderLink(),"data-tip":t("Edit in Form Builder"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-edit"})),o&&r&&a.a.createElement(S.a.AssetActionButtons__iconButton,{onClick:this.modifyDetails,"data-tip":t("Modify details"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-settings"})),o&&a.a.createElement(S.a.AssetActionButtons__iconButton,{onClick:this.showTagsModal,"data-tip":t("Edit Tags"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-tag"})),o&&a.a.createElement(S.a.AssetActionButtons__iconButton,{onClick:this.share,"data-tip":t("Share"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-user-share"})),e!==A.ASSET_TYPES.collection.id&&a.a.createElement(S.a.AssetActionButtons__iconButton,{onClick:this.clone,"data-tip":t("Clone"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-clone"})),e===A.ASSET_TYPES.template.id&&a.a.createElement(S.a.AssetActionButtons__iconButton,{onClick:this.cloneAsSurvey,"data-tip":t("Create project"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-projects"})),null!==this.props.asset.parent&&!this.props.asset.parent.includes(this.currentAssetID())&&a.a.createElement(S.a.AssetActionButtons__iconButton,{onClick:this.viewContainingCollection,"data-tip":t("View containing Collection"),className:"right-tooltip"},a.a.createElement("i",{className:"k-icon k-icon-folder"})),this.renderMoreActions())}}])&&gi(o.prototype,r),n&&gi(o,n),c}(a.a.Component);f()(Si.prototype,O.a.contextRouter),f()(Si.prototype,O.a.permissions),f()(Si.prototype,h.a.ListenerMixin),Si.contextTypes={router:d.a.object};var Oi=Si,Ti=Oi,Ri=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Ei,"assetActions","/srv/src/kpi/jsapp/js/components/library/assetActionButtons.es6"),__REACT_HOT_LOADER__.register(Si,"AssetActionButtons","/srv/src/kpi/jsapp/js/components/library/assetActionButtons.es6"),__REACT_HOT_LOADER__.register(Oi,"default","/srv/src/kpi/jsapp/js/components/library/assetActionButtons.es6")),r(28));function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ci(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ji(e,t){return(ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ni(e);if(t){var n=Ni(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Li(this,o)}}function Li(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?Di(e):t}function Di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ji(e,t)}(i,e);var t,o,r,n=Pi(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=n.call(this,e),l()(Di(t)),t}return t=i,(o=[{key:"render",value:function(){var e,t="";this.props.asset&&(t=We.b.getAssetIcon(this.props.asset));var o=null;return this.props.asset.asset_type!==A.ASSET_TYPES.collection.id&&(null===(e=this.props.asset.summary)||void 0===e?void 0:e.row_count)?o=this.props.asset.summary.row_count:this.props.asset.asset_type===A.ASSET_TYPES.collection.id&&this.props.asset.children&&(o=this.props.asset.children.count),a.a.createElement(S.a.AssetsTableRow,{m:["asset","type-".concat(this.props.asset.asset_type)]},a.a.createElement(S.a.AssetsTableRow__link,{href:"#/library/asset/".concat(this.props.asset.uid)}),a.a.createElement(S.a.AssetsTableRow__buttons,null,a.a.createElement(Ti,{asset:this.props.asset})),a.a.createElement(S.a.AssetsTableRow__column,{m:"icon-status"},a.a.createElement("i",{className:"k-icon ".concat(t)})),a.a.createElement(S.a.AssetsTableRow__column,{m:"name"},a.a.createElement(Y.a,{asset:this.props.asset}),this.props.asset.settings&&this.props.asset.tag_string&&this.props.asset.tag_string.length>0&&a.a.createElement(S.a.AssetsTableRow__tags,null,this.props.asset.tag_string.split(",").map((function(e){return[" ",a.a.createElement(S.a.AssetsTableRow__tag,{key:e},e)]})))),a.a.createElement(S.a.AssetsTableRow__column,{m:"item-count"},null!==o&&a.a.createElement(S.a.AssetsTableRow__tag,{m:"gray-circle"},o)),a.a.createElement(S.a.AssetsTableRow__column,{m:"owner"},We.b.getAssetOwnerDisplayName(this.props.asset.owner__username)),this.props.context===Ri.b.PUBLIC_COLLECTIONS&&a.a.createElement(S.a.AssetsTableRow__column,{m:"subscribers-count"},this.props.asset.subscribers_count),a.a.createElement(S.a.AssetsTableRow__column,{m:"languages"},We.b.getLanguagesDisplayString(this.props.asset)),this.props.context===Ri.b.PUBLIC_COLLECTIONS&&a.a.createElement(S.a.AssetsTableRow__column,{m:"primary-sector"},We.b.getSectorDisplayString(this.props.asset)),a.a.createElement(S.a.AssetsTableRow__column,{m:"date-modified"},Object(z.formatTime)(this.props.asset.date_modified)))}}])&&Ci(t.prototype,o),r&&Ci(t,r),i}(a.a.Component),Ii=Mi,Fi=Ii;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Mi,"AssetsTableRow","/srv/src/kpi/jsapp/js/components/library/assetsTableRow.es6"),__REACT_HOT_LOADER__.register(Ii,"default","/srv/src/kpi/jsapp/js/components/library/assetsTableRow.es6")),r(580);function Ui(e){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return(Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Yi(e);if(t){var n=Yi(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return zi(this,o)}}function zi(e,t){return!t||"object"!==Ui(t)&&"function"!=typeof t?qi(e):t}function qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}(s,e);var o,r,n,i=Vi(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={shouldHidePopover:!1,isPopoverVisible:!1,scrollbarWidth:null,isFullscreen:!1},t.bodyRef=a.a.createRef(),l()(qi(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.updateScrollbarWidth(),window.addEventListener("resize",this.updateScrollbarWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateScrollbarWidth)}},{key:"componentDidUpdate",value:function(e){e.isLoading!==this.props.isLoading&&this.updateScrollbarWidth()}},{key:"toggleFullscreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"updateScrollbarWidth",value:function(){this.bodyRef&&this.bodyRef.current&&Object(z.hasVerticalScrollbar)(mi.a.findDOMNode(this.bodyRef.current))?this.setState({scrollbarWidth:Object(z.getScrollbarWidth)()}):this.setState({scrollbarWidth:null})}},{key:"switchPage",value:function(e){this.props.onSwitchPage(e)}},{key:"onChangeOrder",value:function(e){var t;this.props.orderColumnId===e?(this.props.orderValue===Ri.c.ascending?t=Ri.c.descending:this.props.orderValue===Ri.c.descending&&(t=Ri.c.ascending),this.props.onOrderChange(this.props.orderColumnId,t)):this.props.onOrderChange(e,Ri.a[e].defaultValue)}},{key:"onChangeFilter",value:function(e,t){this.props.filterColumnId===e&&this.props.filterValue===t?this.props.onFilterChange(null,null):this.props.onFilterChange(e,t)}},{key:"onClearFilter",value:function(e){e.stopPropagation(),this.props.onFilterChange(null,null)}},{key:"renderHeader",value:function(e,o){if(e.orderBy)return this.renderOrderableHeader(e,o);if(e.filterBy)return this.renderFilterableHeader(e,o);var r=e.label;return e.id===Ri.a["items-count"].id&&this.props.context===Ri.b.COLLECTION_CONTENT&&(r=t("Questions")),a.a.createElement(S.a.AssetsTableRow__column,{m:e.id,disabled:!0},r)}},{key:"onMouseLeave",value:function(){this.state.isPopoverVisible&&this.setState({shouldHidePopover:!0})}},{key:"onPopoverSetVisible",value:function(){this.setState({isPopoverVisible:!0})}},{key:"renderFilterableHeader",value:function(e){var t=this,o=[];if(this.props.metadata[e.filterByMetadataName]&&(o=this.props.metadata[e.filterByMetadataName]),0===o.length)return a.a.createElement(S.a.AssetsTableRow__column,{m:e.id,disabled:!0},e.label);var r=a.a.createElement("i",{className:"k-icon k-icon-filter-arrows"});return this.props.filterColumnId===e.id&&(r=a.a.createElement("i",{className:"k-icon k-icon-close",onClick:this.onClearFilter})),a.a.createElement(S.a.AssetsTableRow__column,{m:e.id},a.a.createElement(fi.a,{type:"assets-table",triggerLabel:a.a.createElement("span",null,e.label," ",r),clearPopover:this.state.shouldHidePopover,popoverSetVisible:this.onPopoverSetVisible},o.map((function(o,r){var n,i;return"string"==typeof o&&(n=o,i=o),Array.isArray(o)&&(n=o[0],i=o[1]),a.a.createElement(S.a.PopoverMenu__link,{onClick:t.onChangeFilter.bind(t,e.id,n),key:"option-".concat(r)},i,n===t.props.filterValue&&a.a.createElement("i",{className:"k-icon k-icon-check"}))}))))}},{key:"renderOrderableHeader",value:function(e){var t=!1,o=!1;e.id===Ri.a["icon-status"].id&&(t=this.props.orderColumnId!==e.id,o=this.props.orderColumnId===e.id);var r=a.a.createElement("i",{className:"k-icon"});return this.props.orderColumnId===e.id&&(this.props.orderValue===Ri.c.ascending&&(r=a.a.createElement("i",{className:"k-icon k-icon-up"})),this.props.orderValue===Ri.c.descending&&(r=a.a.createElement("i",{className:"k-icon k-icon-down"}))),a.a.createElement(S.a.AssetsTableRow__column,{m:e.id,onClick:this.onChangeOrder.bind(this,e.id),classNames:[]},!o&&a.a.createElement(S.a.AssetsTableRow__headerLabel,null,e.label),!t&&r)}},{key:"renderPagination",value:function(){var e="number"==typeof this.props.currentPage&&"number"==typeof this.props.totalPages&&"function"==typeof this.props.onSwitchPage,o=this.props.currentPage+1;return e?a.a.createElement(S.a.AssetsTablePagination,null,a.a.createElement(S.a.AssetsTablePagination__button,{disabled:0===this.props.currentPage,onClick:this.switchPage.bind(this,this.props.currentPage-1)},a.a.createElement("i",{className:"k-icon k-icon-prev"}),t("Previous")),a.a.createElement(S.a.AssetsTablePagination__index,null,o,"/",this.props.totalPages||1),a.a.createElement(S.a.AssetsTablePagination__button,{disabled:o>=this.props.totalPages,onClick:this.switchPage.bind(this,this.props.currentPage+1)},t("Next"),a.a.createElement("i",{className:"k-icon k-icon-next"}))):null}},{key:"renderFooter",value:function(){return a.a.createElement(S.a.AssetsTable__footer,null,null!==this.props.totalAssets&&a.a.createElement("span",null,t("##count## items").replace("##count##",this.props.totalAssets)),this.renderPagination(),null!==this.props.totalAssets&&a.a.createElement("button",{className:"mdl-button",onClick:this.toggleFullscreen},t("Toggle fullscreen"),a.a.createElement("i",{className:"k-icon k-icon-expand"})))}},{key:"render",value:function(){var e=this,o=[this.props.context];return this.state.isFullscreen&&o.push("fullscreen"),a.a.createElement(S.a.AssetsTable,{m:o},a.a.createElement(S.a.AssetsTable__header,null,a.a.createElement(S.a.AssetsTableRow,{m:"header"},this.renderHeader(Ri.a["icon-status"],"first"),this.renderHeader(Ri.a.name),this.renderHeader(Ri.a["items-count"]),this.renderHeader(Ri.a.owner),this.props.context===Ri.b.PUBLIC_COLLECTIONS&&this.renderHeader(Ri.a["subscribers-count"]),this.renderHeader(Ri.a.languages),this.props.context===Ri.b.PUBLIC_COLLECTIONS&&this.renderHeader(Ri.a["primary-sector"]),this.renderHeader(Ri.a["date-modified"],"last"),0!==this.state.scrollbarWidth&&null!==this.state.scrollbarWidth&&a.a.createElement("div",{className:"assets-table__scrollbar-padding",style:{width:"".concat(this.state.scrollbarWidth,"px")}}))),a.a.createElement(S.a.AssetsTable__body,{ref:this.bodyRef},this.props.isLoading&&a.a.createElement(q.a,null),!this.props.isLoading&&0===this.props.assets.length&&a.a.createElement(S.a.AssetsTableRow,{m:"empty-message"},this.props.emptyMessage||t("There are no assets to display.")),!this.props.isLoading&&this.props.assets.map((function(t){return a.a.createElement(Fi,{asset:t,key:t.uid,context:e.props.context})}))),this.renderFooter())}}])&&Hi(o.prototype,r),n&&Hi(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Gi,"AssetsTable","/srv/src/kpi/jsapp/js/components/library/assetsTable.es6");function $i(e){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qi(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Zi(e);if(t){var n=Zi(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ji(this,o)}}function Ji(e,t){return!t||"object"!==$i(t)&&"function"!=typeof t?Xi(e):t}function Xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var el=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(s,e);var o,r,n,i=Wi(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state=t.getFreshState(),t.unlisteners=[],l()(Xi(t)),t}return o=s,(r=[{key:"getFreshState",value:function(){return{isLoading:C.a.data.isFetchingData,assets:C.a.data.assets,metadata:C.a.data.metadata,totalAssets:C.a.data.totalSearchAssets,orderColumnId:C.a.data.orderColumnId,orderValue:C.a.data.orderValue,filterColumnId:C.a.data.filterColumnId,filterValue:C.a.data.filterValue,currentPage:C.a.data.currentPage,totalPages:C.a.data.totalPages}}},{key:"componentDidMount",value:function(){this.unlisteners.push(C.a.listen(this.myLibraryStoreChanged))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"myLibraryStoreChanged",value:function(){this.setState(this.getFreshState())}},{key:"onAssetsTableOrderChange",value:function(e,t){C.a.setOrder(e,t)}},{key:"onAssetsTableFilterChange",value:function(e,t){C.a.setFilter(e,t)}},{key:"onAssetsTableSwitchPage",value:function(e){C.a.setCurrentPage(e)}},{key:"onFileDrop",value:function(e,t,o){1===e.length?b.a.pageState.switchModal({type:A.MODAL_TYPES.LIBRARY_UPLOAD,file:e[0]}):this.dropFiles(e,t,o)}},{key:"render",value:function(){var e=t("Your search returned no results.");return 0===C.a.data.totalUserAssets&&(e=a.a.createElement("div",null,t("Let's get started by creating your first library question, block, template or collection. Click the New button to create it."),a.a.createElement("div",{className:"pro-tip"},t("Advanced users: You can also drag and drop XLSForms here and they will be uploaded and converted to library items.")))),a.a.createElement(p.a,{title:"".concat(t("My Library")," | KoboToolbox")},a.a.createElement(vt.a,{onDrop:this.onFileDrop,disableClick:!0,multiple:!0,className:"dropzone",activeClassName:"dropzone--active",accept:Object(z.validFileTypes)()},a.a.createElement(S.a.Breadcrumbs,{m:"gray-wrapper"},a.a.createElement(S.a.Breadcrumbs__crumb,null,Ri.d.MY_LIBRARY.label)),a.a.createElement(Gi,{context:Ri.b.MY_LIBRARY,isLoading:this.state.isLoading,assets:this.state.assets,totalAssets:this.state.totalAssets,metadata:this.state.metadata,orderColumnId:this.state.orderColumnId,orderValue:this.state.orderValue,onOrderChange:this.onAssetsTableOrderChange.bind(this),filterColumnId:this.state.filterColumnId,filterValue:this.state.filterValue,onFilterChange:this.onAssetsTableFilterChange.bind(this),currentPage:this.state.currentPage,totalPages:this.state.totalPages,onSwitchPage:this.onAssetsTableSwitchPage.bind(this),emptyMessage:e}),a.a.createElement("div",{className:"dropzone-active-overlay"},a.a.createElement("i",{className:"k-icon k-icon-upload"}),t("Drop files to upload"))))}}])&&Qi(o.prototype,r),n&&Qi(o,n),s}(a.a.Component);el.contextTypes={router:d.a.object},f()(el.prototype,O.a.droppable),f()(el.prototype,h.a.ListenerMixin);var tl=el,ol=tl,rl=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(el,"MyLibraryRoute","/srv/src/kpi/jsapp/js/components/library/myLibraryRoute.es6"),__REACT_HOT_LOADER__.register(tl,"default","/srv/src/kpi/jsapp/js/components/library/myLibraryRoute.es6")),r(57)),nl=h.a.createStore({abortFetchData:void 0,previousPath:Object(Xe.a)(),previousSearchPhrase:rl.b.getSearchPhrase(),PAGE_SIZE:100,DEFAULT_ORDER_COLUMN:Ri.a["date-modified"],isInitialised:!1,data:{isFetchingData:!1,currentPage:0,totalPages:null,totalSearchAssets:null,assets:[],metadata:{}},init:function(){this.setDefaultColumns(),s.f.listen(this.onRouteChange.bind(this)),rl.b.listen(this.searchBoxStoreChanged),w.a.library.searchPublicCollections.started.listen(this.onSearchStarted),w.a.library.searchPublicCollections.completed.listen(this.onSearchCompleted),w.a.library.searchPublicCollections.failed.listen(this.onSearchFailed),w.a.library.searchPublicCollectionsMetadata.completed.listen(this.onSearchMetadataCompleted),w.a.library.subscribeToCollection.completed.listen(this.onSubscribeCompleted),w.a.library.unsubscribeFromCollection.listen(this.onUnsubscribeCompleted),w.a.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),w.a.resources.loadAsset.completed.listen(this.onAssetChanged),w.a.resources.updateAsset.completed.listen(this.onAssetChanged),w.a.resources.cloneAsset.completed.listen(this.onAssetCreated),w.a.resources.createResource.completed.listen(this.onAssetCreated),w.a.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted),w.a.permissions.getConfig.completed.listen(this.startupStore)},startupStore:function(){this.isInitialised||!Object(Xe.g)()||this.data.isFetchingData||this.fetchData(!0)},setDefaultColumns:function(){this.data.orderColumnId=this.DEFAULT_ORDER_COLUMN.id,this.data.orderValue=this.DEFAULT_ORDER_COLUMN.defaultValue,this.data.filterColumnId=null,this.data.filterValue=null},getSearchParams:function(){var e={searchPhrase:rl.b.getSearchPhrase(),pageSize:this.PAGE_SIZE,page:this.data.currentPage};if(null!==this.data.filterColumnId){var t=Ri.a[this.data.filterColumnId];e.filterProperty=t.filterBy,e.filterValue=this.data.filterValue}return void 0!==e.filterValue&&(e.filterValue=JSON.stringify(e.filterValue)),e},fetchMetadata:function(){w.a.library.searchPublicCollectionsMetadata(this.getSearchParams())},fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.abortFetchData&&this.abortFetchData();var t=this.getSearchParams();t.metadata=e;var o=Ri.a[this.data.orderColumnId],r=this.data.orderValue===Ri.c.ascending?"":"-";t.ordering="".concat(r).concat(o.orderBy),w.a.library.searchPublicCollections(t)},onRouteChange:function(e){this.isInitialised||!Object(Xe.g)()||this.data.isFetchingData?!1===this.previousPath.startsWith(V.b.PUBLIC_COLLECTIONS)&&Object(Xe.g)()&&(this.setDefaultColumns(),this.fetchData(!0)):this.fetchData(!0),this.previousPath=e.pathname},searchBoxStoreChanged:function(){rl.b.getContext()===rl.a.PUBLIC_COLLECTIONS&&rl.b.getSearchPhrase()!==this.previousSearchPhrase&&(this.data.currentPage=0,this.data.totalPages=null,this.data.totalSearchAssets=null,this.previousSearchPhrase=rl.b.getSearchPhrase(),this.fetchData(!0))},onSearchStarted:function(e){this.abortFetchData=e,this.data.isFetchingData=!0,this.trigger(this.data)},onSearchCompleted:function(e){delete this.abortFetchData,this.data.totalPages=Math.ceil(e.count/this.PAGE_SIZE),this.data.assets=e.results,e.metadata&&(this.data.metadata=e.metadata),this.data.totalSearchAssets=e.count,this.data.isFetchingData=!1,this.isInitialised=!0,this.trigger(this.data)},onSearchFailed:function(){delete this.abortFetchData,this.data.isFetchingData=!1,this.trigger(this.data)},onSearchMetadataCompleted:function(e){this.data.metadata=e,this.trigger(this.data)},onSubscribeCompleted:function(e){this.onAssetAccessTypeChanged(e.asset,!0)},onUnsubscribeCompleted:function(e){this.onAssetAccessTypeChanged(e,!1)},onAssetAccessTypeChanged:function(e,t){for(var o=!1,r=0;r<this.data.assets.length;r++)if(this.data.assets[r].uid===e||this.data.assets[r].url===e){t?this.data.assets[r].access_types.push(A.ACCESS_TYPES.subscribed):this.data.assets[r].access_types.splice(this.data.assets[r].access_types.indexOf(A.ACCESS_TYPES.subscribed),1),o=!0;break}o&&this.trigger(this.data)},onMoveToCollectionCompleted:function(e){e.asset_type===A.ASSET_TYPES.collection.id&&We.b.isAssetPublic(e.permissions)&&this.fetchData(!0)},onAssetChanged:function(e){if(e.asset_type===A.ASSET_TYPES.collection.id&&We.b.isAssetPublic(e.permissions)&&0!==this.data.assets.length){for(var t=!1,o=0;o<this.data.assets.length;o++)if(this.data.assets[o].uid===e.uid){this.data.assets[o]=e,t=!0;break}t&&(this.trigger(this.data),this.fetchMetadata())}},onAssetCreated:function(e){e.asset_type===A.ASSET_TYPES.collection.id&&We.b.isAssetPublic(e.permissions)&&this.fetchData(!0)},onDeleteAssetCompleted:function(e){var t=e.uid;e.assetType===A.ASSET_TYPES.collection.id&&(this.findAsset(t)&&this.fetchData(!0))},setCurrentPage:function(e){this.data.currentPage=e,this.fetchData()},setOrder:function(e,t){this.data.orderColumnId===e&&this.data.orderValue===t||(this.data.orderColumnId=e,this.data.orderValue=t,this.fetchData())},setFilter:function(e,t){this.data.filterColumnId===e&&this.data.filterValue===t||(this.data.filterColumnId=e,this.data.filterValue=t,this.fetchData(!0))},resetOrderAndFilter:function(){this.setDefaultColumns(),this.fetchData(!0)},hasAllDefaultValues:function(){return this.data.orderColumnId===this.DEFAULT_ORDER_COLUMN.id&&this.data.orderValue===this.DEFAULT_ORDER_COLUMN.defaultValue&&null===this.data.filterColumnId&&null===this.data.filterValue},findAsset:function(e){return this.data.assets.find((function(t){return t.uid===e}))}}),al=nl,il=al;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(nl,"publicCollectionsStore","/srv/src/kpi/jsapp/js/components/library/publicCollectionsStore.es6"),__REACT_HOT_LOADER__.register(al,"default","/srv/src/kpi/jsapp/js/components/library/publicCollectionsStore.es6"));function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sl(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cl(e,t){return(cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ml(e);if(t){var n=ml(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return ul(this,o)}}function ul(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?pl(e):t}function pl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ml(e){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cl(e,t)}(s,e);var o,r,n,i=dl(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state=t.getFreshState(),t.unlisteners=[],l()(pl(t)),t}return o=s,(r=[{key:"getFreshState",value:function(){return{isLoading:il.data.isFetchingData,assets:il.data.assets,metadata:il.data.metadata,totalAssets:il.data.totalSearchAssets,orderColumnId:il.data.orderColumnId,orderValue:il.data.orderValue,filterColumnId:il.data.filterColumnId,filterValue:il.data.filterValue,currentPage:il.data.currentPage,totalPages:il.data.totalPages}}},{key:"componentDidMount",value:function(){this.unlisteners.push(il.listen(this.publicCollectionsStoreChanged))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"publicCollectionsStoreChanged",value:function(){this.setState(this.getFreshState())}},{key:"onAssetsTableOrderChange",value:function(e,t){il.setOrder(e,t)}},{key:"onAssetsTableFilterChange",value:function(e,t){il.setFilter(e,t)}},{key:"onAssetsTableSwitchPage",value:function(e){il.setCurrentPage(e)}},{key:"render",value:function(){return a.a.createElement(p.a,{title:"".concat(t("Public Collections")," | KoboToolbox")},a.a.createElement("div",{className:"public-collections-wrapper"},a.a.createElement(S.a.Breadcrumbs,{m:"gray-wrapper"},a.a.createElement(S.a.Breadcrumbs__crumb,null,Ri.d.PUBLIC_COLLECTIONS.label)),a.a.createElement(Gi,{context:Ri.b.PUBLIC_COLLECTIONS,isLoading:this.state.isLoading,assets:this.state.assets,totalAssets:this.state.totalAssets,metadata:this.state.metadata,orderColumnId:this.state.orderColumnId,orderValue:this.state.orderValue,onOrderChange:this.onAssetsTableOrderChange.bind(this),filterColumnId:this.state.filterColumnId,filterValue:this.state.filterValue,onFilterChange:this.onAssetsTableFilterChange.bind(this),currentPage:this.state.currentPage,totalPages:this.state.totalPages,onSwitchPage:this.onAssetsTableSwitchPage.bind(this)})))}}])&&sl(o.prototype,r),n&&sl(o,n),s}(a.a.Component);fl.contextTypes={router:d.a.object},f()(fl.prototype,h.a.ListenerMixin);var _l=fl,hl=_l;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(fl,"PublicCollectionsRoute","/srv/src/kpi/jsapp/js/components/library/publicCollectionsRoute.es6"),__REACT_HOT_LOADER__.register(_l,"default","/srv/src/kpi/jsapp/js/components/library/publicCollectionsRoute.es6")),r(582);function bl(e){return(bl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gl(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=xl(e);if(t){var n=xl(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return kl(this,o)}}function kl(e,t){return!t||"object"!==bl(t)&&"function"!=typeof t?wl(e):t}function wl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xl(e){return(xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var El=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(s,e);var o,r,n,i=vl(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={areDetailsVisible:!1,ownerData:null},l()(wl(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){We.b.isSelfOwned(this.props.asset)?this.setState({ownerData:b.a.session.currentAccount}):(this.listenTo(w.a.misc.getUser.completed,this.onGetUserCompleted),this.listenTo(w.a.misc.getUser.failed,this.onGetUserFailed),w.a.misc.getUser(this.props.asset.owner))}},{key:"toggleDetails",value:function(){this.setState({areDetailsVisible:!this.state.areDetailsVisible})}},{key:"onGetUserCompleted",value:function(e){this.setState({ownerData:e})}},{key:"onGetUserFailed",value:function(){Object(z.notify)(t("Failed to get owner data."),"error")}},{key:"render",value:function(){return this.props.asset?a.a.createElement(S.a.AssetInfoBox,null,a.a.createElement(S.a.AssetInfoBox__column,null,a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Date Created")),Object(z.formatTime)(this.props.asset.date_created)),this.state.areDetailsVisible&&a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Last Modified")),Object(z.formatTime)(this.props.asset.date_modified)),this.state.areDetailsVisible&&a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Owner")),We.b.getAssetOwnerDisplayName(this.props.asset.owner__username)),this.state.areDetailsVisible&&a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Description")),this.props.asset.settings.description||"-"),this.state.areDetailsVisible&&a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Tags")),this.props.asset.tag_string&&this.props.asset.tag_string.split(",").join(", ")||"-")),a.a.createElement(S.a.AssetInfoBox__column,null,a.a.createElement(S.a.AssetInfoBox__cell,null,this.props.asset.asset_type===A.ASSET_TYPES.collection.id&&a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,t("Items")),this.props.asset.children.count||0),this.props.asset.asset_type!==A.ASSET_TYPES.collection.id&&a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,t("Questions")),this.props.asset.summary.row_count||0)),this.state.areDetailsVisible&&a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Organization")),We.b.getOrganizationDisplayString(this.props.asset)),this.state.areDetailsVisible&&a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Sector")),We.b.getSectorDisplayString(this.props.asset)),this.state.areDetailsVisible&&a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Country")),We.b.getCountryDisplayString(this.props.asset,!0)),this.state.areDetailsVisible&&a.a.createElement(S.a.AssetInfoBox__cell,null,a.a.createElement("label",null,t("Languages")),We.b.getLanguagesDisplayString(this.props.asset))),a.a.createElement(S.a.AssetInfoBox__column,{m:"toggle"},a.a.createElement(S.a.AssetInfoBox__toggle,{onClick:this.toggleDetails},this.state.areDetailsVisible?a.a.createElement("i",{className:"k-icon k-icon-up"}):a.a.createElement("i",{className:"k-icon k-icon-down"}),this.state.areDetailsVisible?t("Hide full details"):t("Show full details")))):null}}])&&gl(o.prototype,r),n&&gl(o,n),s}(a.a.Component);f()(El.prototype,h.a.ListenerMixin);var Sl=El,Ol=Sl;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(El,"AssetInfoBox","/srv/src/kpi/jsapp/js/components/library/assetInfoBox.es6"),__REACT_HOT_LOADER__.register(Sl,"default","/srv/src/kpi/jsapp/js/components/library/assetInfoBox.es6"));function Tl(e){return(Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rl(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Al(e,t){return(Al=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ll(e);if(t){var n=Ll(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return jl(this,o)}}function jl(e,t){return!t||"object"!==Tl(t)&&"function"!=typeof t?Pl(e):t}function Pl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ll(e){return(Ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Al(e,t)}(s,e);var o,r,n,i=Cl(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isPublicPending:!1,isAwaitingFreshPermissions:!1},l()(Pl(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){w.a.permissions.setAssetPublic.completed.listen(this.onSetAssetPublicCompleted),w.a.permissions.setAssetPublic.failed.listen(this.onSetAssetPublicFailed)}},{key:"componentWillReceiveProps",value:function(){this.setState({isAwaitingFreshPermissions:!1})}},{key:"onSetAssetPublicCompleted",value:function(e){this.props.asset.uid===e&&this.setState({isPublicPending:!1,isAwaitingFreshPermissions:!0})}},{key:"onSetAssetPublicFailed",value:function(e){this.props.asset.uid===e&&(this.setState({isPublicPending:!1}),Object(z.notify)(t("Failed to change asset public status."),"error"))}},{key:"makePublic",value:function(){var e=We.b.isAssetPublicReady(this.props.asset);0===e.length?(this.setState({isPublicPending:!0}),w.a.permissions.setAssetPublic(this.props.asset,!0)):e.forEach((function(e){Object(z.notify)(e,"error")}))}},{key:"makePrivate",value:function(){this.setState({isPublicPending:!0}),w.a.permissions.setAssetPublic(this.props.asset,!1)}},{key:"isSetPublicButtonDisabled",value:function(){return this.state.isPublicPending||this.state.isAwaitingFreshPermissions}},{key:"render",value:function(){if(!this.props.asset)return null;var e=this.props.asset.asset_type===A.ASSET_TYPES.collection.id,o=e&&We.b.isAssetPublic(this.props.asset.permissions),r=We.b.isSelfOwned(this.props.asset);return e&&r?a.a.createElement(a.a.Fragment,null,!o&&a.a.createElement(S.a.AssetActionButtons__button,{m:"on",onClick:this.makePublic,disabled:this.isSetPublicButtonDisabled()},a.a.createElement("i",{className:"k-icon k-icon-globe-alt"}),t("Make public")),o&&a.a.createElement(S.a.AssetActionButtons__button,{m:"off",onClick:this.makePrivate,disabled:this.isSetPublicButtonDisabled()},a.a.createElement("i",{className:"k-icon k-icon-close"}),t("Make private"))):null}}])&&Rl(o.prototype,r),n&&Rl(o,n),s}(a.a.Component),Nl=Dl,Ml=Nl;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Dl,"AssetPublicButton","/srv/src/kpi/jsapp/js/components/library/assetPublicButton.es6"),__REACT_HOT_LOADER__.register(Nl,"default","/srv/src/kpi/jsapp/js/components/library/assetPublicButton.es6")),r(584);function Il(e){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fl(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ul(e,t){return(Ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=zl(e);if(t){var n=zl(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Bl(this,o)}}function Bl(e,t){return!t||"object"!==Il(t)&&"function"!=typeof t?Vl(e):t}function Vl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zl(e){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ul(e,t)}(s,e);var o,r,n,i=Hl(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(Vl(t)),t}return o=s,(r=[{key:"getRootBreadcrumb",value:function(){var e=this.getParentAssetData();return Object(Xe.e)()&&Object(We.m)(this.props.asset)?Ri.d.MY_LIBRARY:Object(Xe.e)()&&this.props.asset&&this.props.asset.asset_type===A.ASSET_TYPES.collection.id&&null!==this.props.asset.access_types&&this.props.asset.access_types.includes(A.ACCESS_TYPES.public)&&!this.props.asset.access_types.includes(A.ACCESS_TYPES.subscribed)&&!this.props.asset.access_types.includes(A.ACCESS_TYPES.shared)||Object(Xe.e)()&&this.props.asset&&this.props.asset.asset_type!==A.ASSET_TYPES.collection.id&&e&&null!==e.access_types&&e.access_types.includes(A.ACCESS_TYPES.public)&&!e.access_types.includes(A.ACCESS_TYPES.subscribed)&&!e.access_types.includes(A.ACCESS_TYPES.shared)?Ri.d.PUBLIC_COLLECTIONS:Object(Xe.e)()?Ri.d.MY_LIBRARY:Ri.d.PROJECTS}},{key:"getParentAssetData",value:function(){var e=null,t=this.getParentUid();return t&&(e=C.a.findAsset(this.getParentUid())),t&&!e&&(e=il.findAsset(this.getParentUid())),e}},{key:"getParentUid",value:function(){if(this.props.asset.parent){var e=this.props.asset.parent.split("/");return e[e.length-2]}return null}},{key:"getParentName",value:function(){var e=this.getParentAssetData();return e?Object(We.c)(e).final:t("Parent Collection")}},{key:"getParentHref",value:function(){return this.getParentUid()?"#/library/asset/".concat(this.getParentUid()):"#"}},{key:"render",value:function(){if(!this.props.asset)return null;var e=Object(We.c)(this.props.asset),t=this.getRootBreadcrumb();return a.a.createElement(S.a.Breadcrumbs,null,a.a.createElement(S.a.Breadcrumbs__crumb,{href:t.href},t.label),a.a.createElement("i",{className:"k-icon k-icon-next"}),null!==this.props.asset.parent&&a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.Breadcrumbs__crumb,{href:this.getParentHref()},this.getParentName()),a.a.createElement("i",{className:"k-icon k-icon-next"})),a.a.createElement(S.a.Breadcrumbs__crumb,null,e.final))}}])&&Fl(o.prototype,r),n&&Fl(o,n),s}(a.a.Component),Yl=ql,Gl=Yl;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ql,"AssetBreadcrumbs","/srv/src/kpi/jsapp/js/components/library/assetBreadcrumbs.es6"),__REACT_HOT_LOADER__.register(Yl,"default","/srv/src/kpi/jsapp/js/components/library/assetBreadcrumbs.es6"));function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ql(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kl(e,t){return(Kl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Zl(e);if(t){var n=Zl(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Jl(this,o)}}function Jl(e,t){return!t||"object"!==$l(t)&&"function"!=typeof t?Xl(e):t}function Xl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zl(e){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var es=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kl(e,t)}(s,e);var o,r,n,i=Wl(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isExpanded:!1},l()(Xl(t)),t}return o=s,(r=[{key:"renderQuestion",value:function(e,t){var o=["columns","padding-small"];return 0!==t&&o.push("bordertop"),a.a.createElement(S.a.FormView__cell,{m:o,key:t},a.a.createElement(S.a.FormView__cell,{m:"column-icon"},Object(We.o)(e.type)),a.a.createElement(S.a.FormView__cell,{m:["column-1","asset-content-summary-name"]},e.parents.length>0&&a.a.createElement("small",null,e.parents.join(" / ")+" /"),a.a.createElement("div",null,e.isRequired&&a.a.createElement("strong",null,"*Â "),e.label)))}},{key:"filterRealQuestions",value:function(e){return e.filter((function(e){return A.QUESTION_TYPES[e.type]}))}},{key:"toggleExpanded",value:function(){this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){if(!this.props.asset)return null;var e=Object(We.f)(this.props.asset.content.survey),o=e.length>8;return o&&!this.state.isExpanded&&(e=e.slice(0,8)),0===e.length?a.a.createElement(S.a.FormView__cell,{m:["box","padding-small"]},t("This ##asset_type## is empty.").replace("##asset_type##",this.props.asset.asset_type)):a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.FormView__cell,{m:["box","bordered"]},e.map(this.renderQuestion)),o&&a.a.createElement(S.a.FormView__cell,{m:["toggle-details"]},a.a.createElement("button",{onClick:this.toggleExpanded},this.state.isExpanded?a.a.createElement("i",{className:"k-icon k-icon-up"}):a.a.createElement("i",{className:"k-icon k-icon-down"}),this.state.isExpanded?t("Show less"):t("Show more"))))}}])&&Ql(o.prototype,r),n&&Ql(o,n),s}(a.a.Component),ts=es,os=ts,rs=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(8,"DISPLAY_LIMIT","/srv/src/kpi/jsapp/js/components/library/assetContentSummary.es6"),__REACT_HOT_LOADER__.register(es,"AssetContentSummary","/srv/src/kpi/jsapp/js/components/library/assetContentSummary.es6"),__REACT_HOT_LOADER__.register(ts,"default","/srv/src/kpi/jsapp/js/components/library/assetContentSummary.es6")),h.a.createStore({abortFetchData:void 0,previousPath:Object(Xe.a)(),PAGE_SIZE:100,DEFAULT_ORDER_COLUMN:Ri.a["date-modified"],isInitialised:!1,data:{isFetchingData:!1,currentPage:0,totalPages:null,totalUserAssets:null,totalSearchAssets:null,assets:[],metadata:{}},init:function(){this.setDefaultColumns(),s.f.listen(this.onRouteChange.bind(this)),w.a.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),w.a.library.subscribeToCollection.completed.listen(this.fetchData.bind(this,!0)),w.a.library.unsubscribeFromCollection.completed.listen(this.fetchData.bind(this,!0)),w.a.resources.loadAsset.completed.listen(this.onAssetChanged),w.a.resources.updateAsset.completed.listen(this.onAssetChanged),w.a.resources.cloneAsset.completed.listen(this.onAssetCreated),w.a.resources.createResource.completed.listen(this.onAssetCreated),w.a.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted),w.a.library.searchMyCollectionAssets.started.listen(this.onSearchStarted),w.a.library.searchMyCollectionAssets.completed.listen(this.onSearchCompleted),w.a.library.searchMyCollectionAssets.failed.listen(this.onSearchFailed),w.a.library.searchMyCollectionMetadata.completed.listen(this.onSearchMetadataCompleted),w.a.permissions.getConfig.completed.listen(this.startupStore)},startupStore:function(){this.isInitialised||!Object(Xe.d)()||this.data.isFetchingData||this.fetchData(!0)},setDefaultColumns:function(){this.data.orderColumnId=this.DEFAULT_ORDER_COLUMN.id,this.data.orderValue=this.DEFAULT_ORDER_COLUMN.defaultValue,this.data.filterColumnId=null,this.data.filterValue=null},getSearchParams:function(){var e={pageSize:this.PAGE_SIZE,page:this.data.currentPage,uid:Object(Xe.c)()};if(null!==this.data.filterColumnId){var t=Ri.a[this.data.filterColumnId];e.filterProperty=t.filterBy,e.filterValue=this.data.filterValue}return e},fetchMetadata:function(){w.a.library.searchMyCollectionMetadata(this.getSearchParams())},fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Object(Xe.d)()){this.abortFetchData&&this.abortFetchData();var t=this.getSearchParams();void 0!==t.filterProperty&&(t.filterValue=JSON.stringify(t.filterValue)),t.metadata=e;var o=Ri.a[this.data.orderColumnId],r=this.data.orderValue===Ri.c.ascending?"":"-";t.ordering="".concat(r).concat(o.orderBy),w.a.library.searchMyCollectionAssets(t)}},onRouteChange:function(e){this.isInitialised||!Object(Xe.d)()||this.data.isFetchingData?("library"===this.previousPath.split("/")[1]||this.previousPath.startsWith(V.b.PUBLIC_COLLECTIONS))&&Object(Xe.d)()&&(this.setDefaultColumns(),this.fetchData(!0)):this.fetchData(!0),this.previousPath=e.pathname},onSearchStarted:function(e){this.abortFetchData=e,this.data.isFetchingData=!0,this.trigger(this.data)},onSearchCompleted:function(e){delete this.abortFetchData,this.data.totalPages=Math.ceil(e.count/this.PAGE_SIZE),this.data.assets=e.results,e.metadata&&(this.data.metadata=e.metadata),this.data.totalSearchAssets=e.count,null===this.data.totalUserAssets&&(this.data.totalUserAssets=this.data.totalSearchAssets),this.data.isFetchingData=!1,this.isInitialised=!0,this.trigger(this.data)},onSearchFailed:function(){delete this.abortFetchData,this.data.isFetchingData=!1,this.trigger(this.data)},onSearchMetadataCompleted:function(e){this.data.metadata=e,this.trigger(this.data)},onMoveToCollectionCompleted:function(e){We.b.isLibraryAsset(e.asset_type)&&(null===e.parent?this.data.totalUserAssets++:this.data.totalUserAssets--,this.fetchData(!0))},onAssetChanged:function(e){if(We.b.isLibraryAsset(e.asset_type)&&0!==this.data.assets.length){for(var t=!1,o=0;o<this.data.assets.length;o++){var r=this.data.assets[o];if(r.uid===e.uid&&(r.date_modified!==e.date_modified||r.version_id!==e.version_id)){this.data.assets[o]=e,t=!0;break}}t&&(this.trigger(this.data),this.fetchMetadata())}},onAssetCreated:function(e){We.b.isLibraryAsset(e.asset_type)&&null===e.parent&&(this.data.totalUserAssets++,this.fetchData(!0))},onDeleteAssetCompleted:function(e){var t=e.uid,o=e.assetType;We.b.isLibraryAsset(o)&&(this.findAsset(t)&&(this.data.totalUserAssets--,this.fetchData(!0)))},setCurrentPage:function(e){this.data.currentPage=e,this.fetchData()},setOrder:function(e,t){this.data.orderColumnId===e&&this.data.orderValue===t||(this.data.orderColumnId=e,this.data.orderValue=t,this.fetchData())},setFilter:function(e,t){this.data.filterColumnId===e&&this.data.filterValue===t||(this.data.filterColumnId=e,this.data.filterValue=t,this.data.currentPage=0,this.fetchData(!0))},resetOrderAndFilter:function(){this.setDefaultColumns(),this.fetchData(!0)},hasAllDefaultValues:function(){return this.data.orderColumnId===this.DEFAULT_ORDER_COLUMN.id&&this.data.orderValue===this.DEFAULT_ORDER_COLUMN.defaultValue&&null===this.data.filterColumnId&&null===this.data.filterValue},getCurrentUserTotalAssets:function(){return this.data.totalUserAssets},findAsset:function(e){return this.data.assets.find((function(t){return t.uid===e}))}})),ns=rs,as=ns;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(rs,"singleCollectionStore","/srv/src/kpi/jsapp/js/components/library/singleCollectionStore.es6"),__REACT_HOT_LOADER__.register(ns,"default","/srv/src/kpi/jsapp/js/components/library/singleCollectionStore.es6"));function is(e){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ls(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ss(e,t){return(ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ps(e);if(t){var n=ps(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return ds(this,o)}}function ds(e,t){return!t||"object"!==is(t)&&"function"!=typeof t?us(e):t}function us(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ps(e){return(ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ms=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ss(e,t)}(i,e);var t,o,r,n=cs(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).state=t.getFreshState(),t.unlisteners=[],l()(us(t)),t}return t=i,(o=[{key:"getFreshState",value:function(){return{isLoading:as.data.isFetchingData,assets:as.data.assets,metadata:as.data.metadata,totalAssets:as.data.totalSearchAssets,orderColumnId:as.data.orderColumnId,orderValue:as.data.orderValue,filterColumnId:as.data.filterColumnId,filterValue:as.data.filterValue,currentPage:as.data.currentPage,totalPages:as.data.totalPages}}},{key:"componentDidMount",value:function(){this.unlisteners.push(as.listen(this.singleCollectionStoreChanged))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"singleCollectionStoreChanged",value:function(){this.setState(this.getFreshState())}},{key:"onAssetsTableOrderChange",value:function(e,t){as.setOrder(e,t)}},{key:"onAssetsTableFilterChange",value:function(e,t){as.setFilter(e,t)}},{key:"onAssetsTableSwitchPage",value:function(e){as.setCurrentPage(e)}},{key:"render",value:function(){return a.a.createElement(Gi,{context:Ri.b.COLLECTION_CONTENT,isLoading:this.state.isLoading,assets:this.state.assets,totalAssets:this.state.totalAssets,metadata:this.state.metadata,orderColumnId:this.state.orderColumnId,orderValue:this.state.orderValue,onOrderChange:this.onAssetsTableOrderChange.bind(this),filterColumnId:this.state.filterColumnId,filterValue:this.state.filterValue,onFilterChange:this.onAssetsTableFilterChange.bind(this),currentPage:this.state.currentPage,totalPages:this.state.totalPages,onSwitchPage:this.onAssetsTableSwitchPage.bind(this)})}}])&&ls(t.prototype,o),r&&ls(t,r),i}(a.a.Component),fs=ms,_s=fs;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ms,"CollectionAssetsTable","/srv/src/kpi/jsapp/js/components/library/collectionAssetsTable.es6"),__REACT_HOT_LOADER__.register(fs,"default","/srv/src/kpi/jsapp/js/components/library/collectionAssetsTable.es6"));function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gs(e,t){return(gs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ws(e);if(t){var n=ws(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return vs(this,o)}}function vs(e,t){return!t||"object"!==hs(t)&&"function"!=typeof t?ks(e):t}function ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ws(e){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gs(e,t)}(s,e);var o,r,n,i=ys(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={asset:!1},t.unlisteners=[],l()(ks(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(w.a.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),w.a.library.subscribeToCollection.completed.listen(this.onSubscribeToCollectionCompleted),w.a.library.unsubscribeFromCollection.completed.listen(this.onUnsubscribeFromCollectionCompleted),w.a.resources.loadAsset.completed.listen(this.onAssetChanged),w.a.resources.updateAsset.completed.listen(this.onAssetChanged),w.a.resources.cloneAsset.completed.listen(this.onAssetChanged),w.a.resources.createResource.completed.listen(this.onAssetChanged)),this.loadCurrentAsset()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"componentWillReceiveProps",value:function(e){e.params.uid!==this.props.params.uid&&(this.setState({asset:!1}),this.loadCurrentAsset())}},{key:"loadCurrentAsset",value:function(){var e=this.currentAssetID();e&&w.a.resources.loadAsset({id:e})}},{key:"onSubscribeToCollectionCompleted",value:function(){this.onAssetAccessTypeChanged(!0)}},{key:"onUnsubscribeFromCollectionCompleted",value:function(){this.onAssetAccessTypeChanged(!1)}},{key:"onAssetAccessTypeChanged",value:function(e){var t=this.state.asset;e?t.access_types.push(A.ACCESS_TYPES.subscribed):t.access_types.splice(t.access_types.indexOf(A.ACCESS_TYPES.subscribed),1),this.setState({asset:t})}},{key:"onMoveToCollectionCompleted",value:function(e){null===e.parent?this.onAssetRemoved(e.uid):this.onAssetChanged(e)}},{key:"onAssetChanged",value:function(e){e.uid===this.currentAssetID()&&this.setState({asset:e})}},{key:"render",value:function(){if(!1===this.state.asset)return a.a.createElement(q.a,null);var e=We.b.getAssetDisplayName(this.state.asset),o=this.state.asset.access_types&&this.state.asset.access_types.includes(A.ACCESS_TYPES.subscribed);return a.a.createElement(p.a,{title:"".concat(e.final," | KoboToolbox")},a.a.createElement(S.a.FormView,{m:"library-asset"},a.a.createElement(S.a.FormView__row,null,a.a.createElement(S.a.FormView__cell,{m:["columns","columns-right","first"]},o&&a.a.createElement(S.a.FormView__cell,{m:"subscribed-badge"},a.a.createElement("i",{className:"k-icon k-icon-folder-subscribed"}),t("Subscribed")),a.a.createElement(Ml,{asset:this.state.asset}),a.a.createElement(Ti,{asset:this.state.asset})),a.a.createElement(S.a.FormView__cell,{m:"first"},a.a.createElement(Gl,{asset:this.state.asset})),a.a.createElement(Ol,{asset:this.state.asset})),this.state.asset.asset_type!==A.ASSET_TYPES.collection.id&&a.a.createElement(S.a.FormView__row,null,a.a.createElement(S.a.FormView__cell,{m:["columns","first"]},a.a.createElement(S.a.FormView__cell,{m:"label"},t("Quick look"))),a.a.createElement(os,{asset:this.state.asset})),this.state.asset.asset_type===A.ASSET_TYPES.collection.id&&a.a.createElement(S.a.FormView__row,null,a.a.createElement(S.a.FormView__cell,{m:["box","bordered","assets-table-wrapper"]},a.a.createElement(_s,{asset:this.state.asset})))))}}])&&bs(o.prototype,r),n&&bs(o,n),s}(a.a.Component);f()(xs.prototype,O.a.contextRouter),f()(xs.prototype,h.a.ListenerMixin),xs.contextTypes={router:d.a.object};var Es=xs,Ss=Es,Os=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(xs,"AssetRoute","/srv/src/kpi/jsapp/js/components/library/assetRoute.es6"),__REACT_HOT_LOADER__.register(Es,"default","/srv/src/kpi/jsapp/js/components/library/assetRoute.es6")),r(40)),Ts=Object.freeze({vertical:{value:"vertical",label:t("Vertical"),chartJsType:"bar"},donut:{value:"donut",label:t("Donut"),chartJsType:"pie"},area:{value:"area",label:t("Area"),chartJsType:"line"},horizontal:{value:"horizontal",label:t("Horizontal"),chartJsType:"horizontalBar"},pie:{value:"pie",label:t("Pie"),chartJsType:"pie"},line:{value:"line",label:t("Line"),chartJsType:"line"}}),Rs=[{label:"set1",colors:["rgba(52, 106, 200, 0.8)","rgba(252, 74, 124, 0.8)","rgba(250, 213, 99, 0.8)","rgba(113, 230, 33, 0.8)","rgba(78, 203, 255, 0.8)","rgba(253, 190, 76, 0.8)","rgba(77, 124, 244, 0.8)","rgba(33, 231, 184, 0.8)"]},{label:"set2",colors:["rgba(40, 106, 163, 0.8)","rgba(69, 137, 197, 0.8)","rgba(0, 123, 234, 0.8)","rgba(0, 134, 255, 0.8)","rgba(50, 159, 255, 0.8)","rgba(100, 182, 255, 0.8)","rgba(141, 200, 255, 0.8)","rgba(192, 224, 255, 0.8)"]},{label:"set3",colors:["rgba(39, 69, 255, 0.8)","rgba(34, 122, 233, 0.8)","rgba(46, 145, 243, 0.8)","rgba(92, 173, 255, 0.8)","rgba(148, 200, 255, 0.8)","rgba(31, 174, 228, 0.8)","rgba(25, 214, 209, 0.8)","rgba(28, 234, 225, 0.8)"]},{label:"set4",colors:["rgba(253, 35, 4, 0.8)","rgba(253, 104, 97, 0.8)","rgba(232, 65, 14, 0.8)","rgba(253, 146, 72, 0.8)","rgba(233, 139, 3, 0.8)","rgba(253, 215, 114, 0.8)","rgba(254, 227, 159, 0.8)","rgba(253, 146, 72, 0.8)"]},{label:"set5",colors:["rgba(63, 63, 63, 1)","rgba(90, 90, 90, 1)","rgba(107, 107, 107, 1)","rgba(128, 128, 128, 1)","rgba(151, 151, 151, 1)","rgba(169, 169, 169, 1)","rgba(196, 196, 196, 1)","rgba(178, 179, 190, 1)"]}];"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Ts,"REPORT_STYLES","/srv/src/kpi/jsapp/js/components/reports/reportsConstants.es6"),__REACT_HOT_LOADER__.register(Rs,"REPORT_COLOR_SETS","/srv/src/kpi/jsapp/js/components/reports/reportsConstants.es6"));function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cs(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t){return(js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ps(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ns(e);if(t){var n=Ns(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ls(this,o)}}function Ls(e,t){return!t||"object"!==As(t)&&"function"!=typeof t?Ds(e):t}function Ds(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ms=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&js(e,t)}(s,e);var o,r,n,i=Ps(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(Ds(t)),t.state={customReport:e.customReport},t}return o=s,(r=[{key:"customReportNameChange",value:function(e){var t=this.state.customReport;t.name=e.target.value,this.setState({customReport:t})}},{key:"customReportQuestionChange",value:function(e,t){var o=this.state.customReport;t?o.questions.push(e):o.questions.splice(o.questions.indexOf(e),1),this.setState({customReport:o})}},{key:"saveCustomReport",value:function(){var e=this.props.asset.report_custom;e[this.state.customReport.crid]=this.state.customReport,w.a.reports.setCustom(this.props.asset.uid,e)}},{key:"deleteCustomReport",value:function(){var e=this.props.asset.report_custom;delete e[this.state.customReport.crid],w.a.reports.setCustom(this.props.asset.uid,e)}},{key:"render",value:function(){var e=this.state.customReport.crid,o=this.props.reportData.map((function(e,o){return a.a.createElement("div",{className:"graph-settings__question",key:o},a.a.createElement(Oo.a,{checked:this.state.customReport.questions.includes(e.name),onChange:this.customReportQuestionChange.bind(this,e.name),label:e.row.label?e.row.label[0]:t("Unlabeled")}))}),this);return a.a.createElement("div",{className:"custom-report-form"},a.a.createElement("div",{className:"custom-report--title"},a.a.createElement("input",{type:"text",name:"title",value:this.state.customReport.name,placeholder:t("Untitled Report"),onChange:this.customReportNameChange})),a.a.createElement("strong",null,t("Include the following questions:")),a.a.createElement("div",{className:"custom-report--questions"},o),a.a.createElement(S.a.Modal__footer,null,this.props.asset.report_custom[e]&&a.a.createElement(S.a.KoboButton,{m:"red",onClick:this.deleteCustomReport},t("Delete")),a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.saveCustomReport},t("Save"))))}}])&&Cs(o.prototype,r),n&&Cs(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Ms,"CustomReportForm","/srv/src/kpi/jsapp/js/components/reports/customReportForm.es6");function Is(e){return(Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fs(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Us(e,t){return(Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=zs(e);if(t){var n=zs(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Bs(this,o)}}function Bs(e,t){return!t||"object"!==Is(t)&&"function"!=typeof t?Vs(e):t}function Vs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}(i,e);var t,o,r,n=Hs(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=n.call(this,e),l()(Vs(t)),t}return t=i,(o=[{key:"defaultReportStyleChange",value:function(e){this.props.onChange({default:!0},{report_type:e.currentTarget.value||"bar"})}},{key:"render",value:function(){var e=[Ts.vertical,Ts.donut,Ts.area,Ts.horizontal,Ts.pie,Ts.line].map((function(e,t){return a.a.createElement(S.a.GraphSettings__radio,{m:e.value,key:t},a.a.createElement("input",{type:"radio",name:"chart_type",value:e.value,checked:this.props.defaultStyle.report_type===e.value,onChange:this.defaultReportStyleChange,id:"type-"+e.value}),a.a.createElement("label",{htmlFor:"type-"+e.value},e.label))}),this);return a.a.createElement(S.a.GraphSettings__charttype,null,e)}}])&&Fs(t.prototype,o),r&&Fs(t,r),i}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(qs,"ChartTypePicker","/srv/src/kpi/jsapp/js/components/reports/chartTypePicker.es6");function Ys(e){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gs(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $s(e,t){return($s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Js(e);if(t){var n=Js(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ks(this,o)}}function Ks(e,t){return!t||"object"!==Ys(t)&&"function"!=typeof t?Ws(e):t}function Ws(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Js(e){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$s(e,t)}(i,e);var t,o,r,n=Qs(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=n.call(this,e),l()(Ws(t)),t}return t=i,(o=[{key:"defaultReportColorsChange",value:function(e){var t=Rs[0].colors;Rs[e.currentTarget.value]&&Rs[e.currentTarget.value].colors&&(t=Rs[e.currentTarget.value].colors),this.props.onChange({default:!0},{report_colors:t})}},{key:"defaultValue",value:function(e,t){return void 0===this.props.defaultStyle.report_colors&&0===t||JSON.stringify(this.props.defaultStyle.report_colors)===JSON.stringify(e.colors)}},{key:"render",value:function(){var e=Rs.map((function(e,t){return a.a.createElement(S.a.GraphSettings__radio,{key:t},a.a.createElement("input",{type:"radio",name:"chart_colors",value:t,checked:this.defaultValue(e,t),onChange:this.defaultReportColorsChange,id:"type-"+e.label}),a.a.createElement("label",{htmlFor:"type-"+e.label},Rs[t].colors.map((function(e,t){return a.a.createElement("div",{style:{backgroundColor:e},key:t})}),this)))}),this);return a.a.createElement(S.a.GraphSettings__colors,null,e)}}])&&Gs(t.prototype,o),r&&Gs(t,r),i}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Xs,"ChartColorsPicker","/srv/src/kpi/jsapp/js/components/reports/chartColorsPicker.es6");function Zs(e){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ac(e);if(t){var n=ac(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return rc(this,o)}}function rc(e,t){return!t||"object"!==Zs(t)&&"function"!=typeof t?nc(e):t}function nc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(s,e);var o,r,n,i=oc(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(nc(t)),t.state={activeModalTab:0,rStyle:{report_type:!1,report_colors:!1,width:!1}},t}return o=s,(r=[{key:"toggleTab",value:function(e){var t=e.target.getAttribute("data-index");this.setState({activeModalTab:parseInt(t)})}},{key:"componentDidMount",value:function(){var e=this.props.question,t=null;if((t=this.props.parentState.currentCustomReport?this.props.parentState.currentCustomReport.specified:this.props.parentState.reportStyles.specified)&&t[e]&&Object.keys(t[e]).length){var o=Object.assign({},t[e]);this.setState({rStyle:o})}}},{key:"saveQS",value:function(e){var t=this.props.parentState.asset.uid,o=this.props.parentState.currentCustomReport,r=this.props.question;if(o){var n=this.props.parentState.asset.report_custom;void 0===n[o.crid].specified&&(n[o.crid].specified={}),n[o.crid].specified[r]=e?{}:this.state.rStyle,w.a.reports.setCustom(t,n)}else{var a=this.props.parentState.reportStyles;a.specified[r]=e?{}:this.state.rStyle,w.a.reports.setStyle(t,a)}}},{key:"questionStyleChange",value:function(e,t){var o=this.state.rStyle;t&&t.report_type&&(o.report_type=t.report_type),t&&t.report_colors&&(o.report_colors=t.report_colors),e&&"width"===e.id&&(o.width=e.value),this.setState({rStyle:o})}},{key:"render",value:function(){var e=this.state.rStyle,o=[t("Chart Type"),t("Colors")].map((function(e,t){var o=["mdl-button","mdl-button--tab"];return this.state.activeModalTab===t&&o.push("active"),a.a.createElement("button",{className:o.join(" "),onClick:this.toggleTab,"data-index":t,key:t},e)}),this);return a.a.createElement(S.a.GraphSettings,null,a.a.createElement(Me.a.Tabs,null,o),a.a.createElement(Me.a.Body,null,a.a.createElement("div",{className:"tabs-content"},0===this.state.activeModalTab&&a.a.createElement("div",{id:"graph-type"},a.a.createElement(qs,{defaultStyle:e,onChange:this.questionStyleChange})),1===this.state.activeModalTab&&a.a.createElement("div",{id:"graph-colors"},a.a.createElement(Xs,{defaultStyle:e,onChange:this.questionStyleChange})))),a.a.createElement(Me.a.Footer,null,(e.report_type||e.report_colors||e.width)&&a.a.createElement(S.a.Button,{className:"reset",onClick:this.saveQS.bind(this,!0)},t("Reset")),a.a.createElement(S.a.Button,{className:"primary",onClick:this.saveQS.bind(this,!1)},t("Save"))))}}])&&ec(o.prototype,r),n&&ec(o,n),s}(a.a.Component),lc=("undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(ic,"QuestionGraphSettings","/srv/src/kpi/jsapp/js/components/reports/questionGraphSettings.es6"),r(73)),sc=r.n(lc);function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dc(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uc(e,t){return(uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=fc(e);if(t){var n=fc(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return mc(this,o)}}function mc(e,t){return!t||"object"!==cc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(l,e);var o,r,n,i=pc(l);function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,e)}return o=l,(r=[{key:"formatNumber",value:function(e){return isNaN(e)?e:e.toFixed(2)}},{key:"render",value:function(){var e=this,o=[""],r=[];if("numerical"===this.props.type){if(o=[t("Mean"),t("Median"),t("Mode"),t("Standard deviation")],this.props.rows&&o.unshift(""),this.props.values)var n=this.props.values;return a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,o.map((function(e,t){return a.a.createElement("th",{key:t},e)})))),this.props.values&&a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,this.formatNumber(n.mean)||t("N/A")),a.a.createElement("td",null,this.formatNumber(n.median)||t("N/A")),a.a.createElement("td",null,this.formatNumber(n.mode)||t("N/A")),a.a.createElement("td",null,this.formatNumber(n.stdev)||t("N/A")))),this.props.rows&&a.a.createElement("tbody",null,this.props.rows.map((function(o){return a.a.createElement("tr",{key:o[0]},a.a.createElement("td",null,o[0]),a.a.createElement("td",null,e.formatNumber(o[1].mean)||t("N/A")),a.a.createElement("td",null,e.formatNumber(o[1].median)||t("N/A")),a.a.createElement("td",null,e.formatNumber(o[1].mode)||t("N/A")),a.a.createElement("td",null,e.formatNumber(o[1].stdev)||t("N/A")))}))))}if("regular"===this.props.type)o=[t("Value"),t("Frequency"),t("Percentage")],r=this.props.rows;else if(this.props.rows.length>0){var i=this.props.rows;this.props.responseLabels?o=o.concat(this.props.responseLabels):i[0]&&i[0][1]&&i[0][1].responses&&(o=o.concat(i[0][1].responses)),i.map((function(e){var t=e[2]?[e[2]]:[e[0]];t=t.concat(e[1].percentages),r.push(t)}))}return 0!==r.length&&a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,o.map((function(e,t){return a.a.createElement("th",{key:t},e)})))),a.a.createElement("tbody",null,r.map((function(e){return a.a.createElement("tr",{key:e[0]},e.map((function(e,t){return a.a.createElement("td",{key:t},e)})))}))))}}])&&dc(o.prototype,r),n&&dc(o,n),l}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(_c,"ReportTable","/srv/src/kpi/jsapp/js/components/reports/reportTable.es6");function hc(e){return(hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(e){return function(e){if(Array.isArray(e))return gc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gc(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return gc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function yc(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vc(e,t){return(vc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ec(e);if(t){var n=Ec(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return wc(this,o)}}function wc(e,t){return!t||"object"!==hc(t)&&"function"!=typeof t?xc(e):t}function xc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sc(e){var t=[];return e.percentages&&e.responses&&e.frequencies&&(t=we.default.zip(e.responseLabels||e.responses,e.frequencies,e.percentages)),e.mean&&(t=!1),t}var Oc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vc(e,t)}(s,e);var o,r,n,i=kc(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={reportTable:!1},t.itemChart=!1,l()(xc(t)),t}return o=s,n=[{key:"getDerivedStateFromProps",value:function(e){return{reportTable:Sc(e.data)}}}],(r=[{key:"componentDidMount",value:function(){this.setState({reportTable:Sc(this.props.data)}),this.props.data.show_graph&&this.loadChart()}},{key:"componentDidUpdate",value:function(){this.props.data.show_graph&&this.loadChart()}},{key:"loadChart",value:function(){var e=mi.a.findDOMNode(this.refs.canvas),t=this.buildChartOptions();this.itemChart?(this.itemChart.destroy(),this.itemChart=new sc.a(e,t)):this.itemChart=new sc.a(e,t)}},{key:"truncateLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return e.length>t?e.substring(0,t-3)+"â€¦":e}},{key:"buildChartOptions",value:function(){var e=this.props.data,t=this.props.style.report_type||"bar",o=this,r=100,n=.5,a=!1,i=this.buildChartColors(),l=i[0];sc.a.defaults.global.elements.rectangle.backgroundColor=l,sc.a.defaults.global.elements.line.borderColor=l,sc.a.defaults.global.elements.line.backgroundColor="rgba(255, 255, 255, 0.1)",sc.a.defaults.global.elements.point.backgroundColor=l,sc.a.defaults.global.elements.point.radius=4,sc.a.defaults.global.elements.arc.backgroundColor=l,sc.a.defaults.global.maintainAspectRatio=!1,!0!==Object.keys(Ts).includes(t)&&(t=Ts.vertical.value),t===Ts.donut.value&&(t=Ts.donut.chartJsType),t===Ts.area.value&&(t=Ts.area.chartJsType),t===Ts.horizontal.value&&(t=Ts.horizontal.chartJsType),t!==Ts.vertical.value&&"bar_chart"!==t||(t=Ts.vertical.chartJsType);var s=[];if(null!=e.values){e.responseLabels&&e.responseLabels.forEach((function(t,r){e.responseLabels[r]=o.truncateLabel(t)}));var c=[];e.values.forEach((function(e,t){var r={},n=e[2]||e[0];r.label=o.truncateLabel(n,20);var a=[];Array.isArray(e[1].percentage)&&(a=e[1].percentage),Array.isArray(e[1].percentages)&&(a=e[1].percentages),r.data=a,c=bc(new Set([].concat(bc(c),bc(a)))),r.backgroundColor=i[t],s.push(r)})),r=Math.max.apply(Math,c),n=.9,a=!0}else r=Math.max.apply(Math,e.percentages),s.push({data:e.percentages}),e.responseLabels&&e.responseLabels.forEach((function(t,r){e.responseLabels[r]=o.truncateLabel(t)})),e.responses&&e.responses.forEach((function(t,r){e.responses[r]=o.truncateLabel(t)}));r=r<85?10*(parseInt(r/10,10)+1):100;var d={type:t,data:{labels:e.responseLabels||e.responses,datasets:s},options:{legend:{display:a},animation:{duration:500},scales:{xAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,max:r},barPercentage:n}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,max:r},barPercentage:n}]}}};return"pie"===t&&(d.options.legend.display=!0,d.data.datasets[0].backgroundColor=i,d.options.scales.xAxes=[],d.options.scales.yAxes=[],this.props.style.report_type===Ts.donut.value&&(d.options.cutoutPercentage=50)),this.props.style.report_type===Ts.area.value&&(d.data.datasets[0].backgroundColor=i[0]),d}},{key:"buildChartColors",value:function(){var e=this.props.style.report_colors||Rs[0].colors,t=e.slice(0).map((function(e){return(e=e.replace("1)","0.75)")).replace("0.8","0.5")})),o=(e=e.concat(t)).slice(0).map((function(e){return(e=e.replace("1)","0.5)")).replace("0.8","0.25")}));return e=e.concat(o)}},{key:"render",value:function(){var e=this.props,o=e.data,r=e.row.type,n=e.name;return r?((r.select_one||r.select_multiple)&&(r=we.default.keys(r)[0]),r=JSON.stringify(r),a.a.createElement("div",null,a.a.createElement(S.a.ReportView__itemHeading,null,a.a.createElement("h2",null,e.label),a.a.createElement(S.a.ReportView__headingMeta,null,a.a.createElement("span",{className:"type"},t("Type: ")+r+t(". ")),a.a.createElement("span",{className:"respondents"},t("#1 out of #2 respondents answered this question. ").replace("#1",o.provided).replace("#2",o.total_count)),a.a.createElement("span",null,t("(# were without data.)").replace("#",o.not_provided))),o.show_graph&&b.a.session.isLoggedIn&&a.a.createElement(S.a.Button,{m:"icon",className:"report-button__question-settings",onClick:this.props.triggerQuestionSettings,"data-question":n,"data-tip":t("Override Graph Style")},a.a.createElement("i",{className:"k-icon k-icon-more","data-question":n}))),a.a.createElement(S.a.ReportView__itemContent,null,o.show_graph&&a.a.createElement(S.a.ReportView__chart,{style:{width:this.props.style.graphWidth+"px"}},a.a.createElement("canvas",{ref:"canvas"})),this.state.reportTable&&!o.values&&a.a.createElement(_c,{rows:this.state.reportTable,type:"regular"}),o.values&&o.values[0]&&o.values[0][1]&&o.values[0][1].percentages&&a.a.createElement(_c,{rows:o.values,responseLabels:o.responseLabels,type:"disaggregated"}),o.values&&o.values[0]&&o.values[0][1]&&o.values[0][1].mean&&a.a.createElement(_c,{rows:o.values,type:"numerical"}),o.mean&&a.a.createElement(_c,{values:o,type:"numerical"})))):(console.error("No type given for row: ",e),a.a.createElement("p",{className:"error"},"Error displaying row: ",a.a.createElement("code",null,e.kuid)))}}])&&yc(o.prototype,r),n&&yc(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Sc,"getPreparedTable","/srv/src/kpi/jsapp/js/components/reports/reportViewItem.es6"),__REACT_HOT_LOADER__.register(Oc,"ReportViewItem","/srv/src/kpi/jsapp/js/components/reports/reportViewItem.es6"));function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rc(){return(Rc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function Ac(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t){return(Cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Lc(e);if(t){var n=Lc(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Pc(this,o)}}function Pc(e,t){return!t||"object"!==Tc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lc(e){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t)}(l,e);var o,r,n,i=jc(l);function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,e)}return o=l,(r=[{key:"shouldComponentUpdate",value:function(e){return!(e.parentState.showReportGraphSettings||e.parentState.showCustomReportModal||e.parentState.currentQuestionGraph)}},{key:"render",value:function(){var e=this,o=0,r=this.props.parentState.currentCustomReport,n=this.props.parentState.reportStyles,i=this.props.parentState.asset,l=this.props.parentState.groupBy;r?r.reportStyle&&r.reportStyle.translationIndex&&(o=parseInt(r.reportStyle.translationIndex)):o=n.default.translationIndex||0,i.content.translations&&!i.content.translations[o]&&(o=0);for(var s=this.props.reportData,c=function(){var e=s[d].name,t=s[d].row.type||null,a=void 0;r?r.specified&&r.specified[e]&&(a=r.specified[e]):a=n.specified[e],a&&Object.keys(a).length?s[d].style=a:r&&r.reportStyle?s[d].style=r.reportStyle:s[d].style=n.default,!i.content.choices||t!==A.QUESTION_TYPES.select_one.id&&t!==A.QUESTION_TYPES.select_multiple.id||function(){var t,r=i.content.survey.find((function(t){return t.name===e||t.$autoname===e})),n=s[d].data.responses;if(n)for(s[d].data.responseLabels=[],u=n.length-1;u>=0;u--)(t=i.content.choices.find((function(e){return r&&e.list_name===r.select_from_list_name&&(e.name===n[u]||e.$autoname===n[u])})))&&t.label&&t.label[o]?s[d].data.responseLabels.unshift(t.label[o]):s[d].data.responseLabels.unshift(n[u]);else!function(){var e=s[d].data.values;if(e&&e[0]&&e[0][1]&&e[0][1].responses){p=e[0][1].responses,s[d].data.responseLabels=[];var n=i.content.survey.find((function(e){return e.name===l||e.$autoname===l}));for(p.forEach((function(e,r){var a;(null===(a=t=i.content.choices.find((function(t){return n&&t.list_name===n.select_from_list_name&&(t.name===e||t.$autoname===e)})))||void 0===a?void 0:a.label)&&t.label[o]?s[d].data.responseLabels[r]=t.label[o]:s[d].data.responseLabels[r]=e})),m=e.length-1;m>=0;m--)(t=i.content.choices.find((function(t){return r&&t.list_name===r.select_from_list_name&&(t.name===e[m][0]||t.$autoname===e[m][0])})))&&t.label&&t.label[o]?e[m][2]=t.label[o]:e[m][2]=e[m][0]}}()}()},d=s.length-1;d>-1;d--){var u,p,m;c()}return a.a.createElement("div",null,s.map((function(r,n){var i=t("Unlabeled");return we.default.isArray(r.row.label)?i=r.row.label[o]:we.default.isString(r.row.label)&&(i=r.row.label),!!r.data.provided&&a.a.createElement(S.a.ReportView__item,{key:n},a.a.createElement(Oc,Rc({},r,{label:i,triggerQuestionSettings:e.props.triggerQuestionSettings})))})))}}])&&Ac(o.prototype,r),n&&Ac(o,n),l}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Dc,"ReportContents","/srv/src/kpi/jsapp/js/components/reports/reportContents.es6");function Nc(e){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mc(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t){return(Ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Bc(e);if(t){var n=Bc(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Uc(this,o)}}function Uc(e,t){return!t||"object"!==Nc(t)&&"function"!=typeof t?Hc(e):t}function Hc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ic(e,t)}(s,e);var o,r,n,i=Fc(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(Hc(t)),t.state={activeModalTab:0,reportStyle:e.parentState.reportStyles.default},e.parentState.currentCustomReport&&e.parentState.currentCustomReport.reportStyle&&(t.state.reportStyle=e.parentState.currentCustomReport.reportStyle),t}return o=s,(r=[{key:"toggleTab",value:function(e){var t=e.target.getAttribute("data-index");this.setState({activeModalTab:parseInt(t)})}},{key:"reportStyleChange",value:function(e,t){var o=this.state.reportStyle;Object(z.assign)(o,t),this.setState({reportStyle:o})}},{key:"reportSizeChange",value:function(e){if("width"===e.id){var t=this.state.reportStyle;t.graphWidth=e.value,this.setState({reportStyle:t})}}},{key:"translationIndexChange",value:function(e,t){var o=this.state.reportStyle;o.translationIndex=parseInt(t),this.setState({reportStyle:o})}},{key:"onGroupByChange",value:function(e,t){var o=this.state.reportStyle;o.groupDataBy=t,this.setState({reportStyle:o})}},{key:"saveReportStyles",value:function(){var e=this.props.parentState.currentCustomReport,t=this.props.parentState.asset.uid;if(e){var o=this.props.parentState.asset.report_custom;o[e.crid].reportStyle=this.state.reportStyle,w.a.reports.setCustom(t,o)}else{var r=this.props.parentState.reportStyles;Object(z.assign)(r.default,this.state.ReportStyle),w.a.reports.setStyle(t,r)}}},{key:"render",value:function(){var e=this.props.parentState.rowsByIdentifier||{},o=this.props.parentState.translations,r=this.state.reportStyle,n=[];for(var i in n.push({value:"",label:t("No grouping")}),e)if(e.hasOwnProperty(i)&&e[i].hasOwnProperty("type")&&"select_one"===e[i].type){var l=e[i],s=l.name||l.$autoname,c=l.label;o&&(c=l.label[r.translationIndex]),n.push({value:s,label:c})}var d=[t("Chart Type"),t("Colors")];n.length>1&&d.push(t("Group By"));var u=[];o&&(d.push(t("Translation")),this.props.parentState.asset.content.translations.map((function(e,o){u.push({value:o,label:e||t("Unnamed language")})})));var p=d.map((function(e,t){var o=["mdl-button","mdl-button--tab"];return this.state.activeModalTab===t&&o.push("active"),a.a.createElement("button",{className:o.join(" "),onClick:this.toggleTab,"data-index":t,key:t},e)}),this);return a.a.createElement(S.a.GraphSettings,null,a.a.createElement(Me.a.Tabs,null,p),a.a.createElement(Me.a.Body,null,a.a.createElement("div",{className:"tabs-content"},d[this.state.activeModalTab]===t("Chart Type")&&a.a.createElement("div",{id:"graph-type"},a.a.createElement(qs,{defaultStyle:r,onChange:this.reportStyleChange})),d[this.state.activeModalTab]===t("Colors")&&a.a.createElement("div",{id:"graph-colors"},a.a.createElement(Xs,{defaultStyle:r,onChange:this.reportStyleChange})),d[this.state.activeModalTab]===t("Group By")&&n.length>1&&a.a.createElement("div",{className:"graph-tab__groupby",id:"graph-labels"},a.a.createElement(mn.a,{name:"reports-groupby",options:n,onChange:this.onGroupByChange,selected:r.groupDataBy})),d[this.state.activeModalTab]===t("Translation")&&u.length>1&&a.a.createElement("div",{className:"graph-tab__translation",id:"graph-labels"},a.a.createElement(mn.a,{name:"reports-selected-translation",options:u,onChange:this.translationIndexChange,selected:r.translationIndex}))),a.a.createElement(Me.a.Footer,null,a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.saveReportStyles},t("Save")))))}}])&&Mc(o.prototype,r),n&&Mc(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Vc,"ReportStyleSettings","/srv/src/kpi/jsapp/js/components/reports/reportStyleSettings.es6"),r(586);function zc(e){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qc(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yc(e,t){return(Yc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Kc(e);if(t){var n=Kc(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return $c(this,o)}}function $c(e,t){return!t||"object"!==zc(t)&&"function"!=typeof t?Qc(e):t}function Qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kc(e){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yc(e,t)}(s,e);var o,r,n,i=Gc(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={graphWidth:"700",graphHeight:"250",translations:!1,activeModalTab:0,error:!1,isFullscreen:!1,reportLimit:200,customReports:!1,showReportGraphSettings:!1,showCustomReportModal:!1,currentCustomReport:!1,currentQuestionGraph:!1,groupBy:""},l()(Qc(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.loadReportData(),this.listenTo(w.a.reports.setStyle,this.reportStyleListener),this.listenTo(w.a.reports.setCustom,this.reportCustomListener)}},{key:"componentDidUpdate",value:function(e,t){this.state.currentCustomReport!==t.currentCustomReport&&this.refreshReportData(),this.state.groupBy!==t.groupBy&&this.refreshReportData()}},{key:"loadReportData",value:function(){var e=this,o=this.props.params.assetid||this.props.params.uid;b.a.allAssets.whenLoaded(o,(function(r){var n={},a={},i="",l=r.report_styles,s=r.report_custom;e.state.currentCustomReport&&e.state.currentCustomReport.reportStyle&&e.state.currentCustomReport.reportStyle.groupDataBy?i=e.state.currentCustomReport.reportStyle.groupDataBy:void 0!==l.default.groupDataBy&&(i=l.default.groupDataBy),void 0===l.default.report_type&&(l.default.report_type=Ts.vertical.value),void 0===l.default.translationIndex&&(l.default.translationIndex=0),void 0===l.default.groupDataBy&&(l.default.groupDataBy=""),null!=r.content.survey?(r.content.survey.forEach((function(e){e.$kuid&&(n[e.$kuid]=e);var t=e.$autoname||e.name;a[t]=e})),qr.a.getReportData({uid:o,identifiers:[],group_by:i}).done((function(o){var c=[];o.list.forEach((function(e){(e.data.responses||e.data.values||e.data.mean)&&(void 0!==a[e.name]?e.row.label=a[e.name].label:void 0!==e.name?e.row.label=e.name:e.row.label=t("untitled"),c.push(e))})),e.setState({asset:r,rowsByKuid:n,rowsByIdentifier:a,reportStyles:l,reportData:c,reportCustom:s,translations:r.content.translations.length>1,groupBy:i,error:!1})})).fail((function(o){i&&i.length>0&&!e.state.currentCustomReport&&void 0!==l.default.groupDataBy?(l.default.groupDataBy="",e.setState({reportStyles:l}),Ne.a.error(t('Could not load grouped results via "##". Will attempt to load the ungrouped report.').replace("##",i)),e.loadReportData()):e.setState({error:o,asset:r})}))):console.error("Survey not defined.")}))}},{key:"refreshReportData",value:function(){var e=this,o=this.props.params.assetid||this.props.params.uid,r=this.state.rowsByIdentifier,n=this.state.currentCustomReport,a="";n||void 0===this.state.reportStyles.default.groupDataBy||(a=this.state.reportStyles.default.groupDataBy),n&&n.reportStyle&&n.reportStyle.groupDataBy&&(a=this.state.currentCustomReport.reportStyle.groupDataBy),qr.a.getReportData({uid:o,identifiers:[],group_by:a}).done((function(o){var n=[];o.list.forEach((function(e){(e.data.responses||e.data.values||e.data.mean)&&(void 0!==r[e.name]?e.row.label=r[e.name].label:void 0!==e.name?e.row.label=e.name:e.row.label=t("untitled"),n.push(e))})),e.setState({reportData:n,error:!1})})).fail((function(o){Ne.a.error(t("Could not refresh report.")),e.setState({error:o})}))}},{key:"reportStyleListener",value:function(e,t){this.setState({reportStyles:t,showReportGraphSettings:!1,currentQuestionGraph:!1,groupBy:t.default.groupDataBy})}},{key:"reportCustomListener",value:function(e,t){var o=this.state.currentCustomReport.crid,r=!1;t[o]?(t[o].reportStyle&&t[o].reportStyle.groupDataBy&&(r=t[o].reportStyle.groupDataBy),this.setState({reportCustom:t,showCustomReportModal:!1,showReportGraphSettings:!1,currentQuestionGraph:!1,groupBy:r})):(Ts.default&&Ts.default.groupDataBy&&(r=Ts.default.groupDataBy),this.setState({reportCustom:t,showCustomReportModal:!1,showReportGraphSettings:!1,currentQuestionGraph:!1,currentCustomReport:!1,groupBy:r}))}},{key:"toggleReportGraphSettings",value:function(){this.setState({showReportGraphSettings:!this.state.showReportGraphSettings})}},{key:"hasAnyProvidedData",value:function(e){var t=!1;return e.map((function(e){e.data.provided&&(t=!0)})),t}},{key:"setCustomReport",value:function(e){var t,o=!!e&&e.target.getAttribute("data-crid");this.state.showCustomReportModal||(t=o?this.state.reportCustom[o]:{crid:Object(Os.txtid)(),name:"",questions:[]},this.setState({currentCustomReport:t}))}},{key:"editCustomReport",value:function(){this.state.currentCustomReport&&this.setState({showCustomReportModal:!0})}},{key:"toggleCustomReportModal",value:function(){if(this.state.showCustomReportModal){if(this.state.currentCustomReport){var e=this.state.currentCustomReport.crid;null==this.state.reportCustom[e]&&this.triggerDefaultReport()}}else this.setCustomReport();this.setState({showCustomReportModal:!this.state.showCustomReportModal})}},{key:"triggerDefaultReport",value:function(){this.setState({currentCustomReport:!1})}},{key:"toggleFullscreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen})}},{key:"renderReportButtons",value:function(){var e=this.state.reportCustom||{},o=[];for(var r in e)e[r]&&e[r].crid&&o.push(e[r]);o.sort((function(e,t){return e.name.localeCompare(t.name)}));var n=this,i=t("Custom Reports");return this.state.currentCustomReport&&(i=this.state.currentCustomReport.name||t("Untitled Report")),a.a.createElement(S.a.FormView__reportButtons,null,a.a.createElement(fi.a,{type:"custom-reports",triggerLabel:i},a.a.createElement(S.a.PopoverMenu__link,{key:"default","data-name":"",onClick:this.triggerDefaultReport,className:this.state.currentCustomReport?"":"active"},t("Default Report")),o.map((function(e){var o;return n.state.currentCustomReport&&n.state.currentCustomReport.crid===e.crid&&(o="active"),a.a.createElement(S.a.PopoverMenu__link,{key:e.crid,"data-crid":e.crid,onClick:n.setCustomReport,className:o},e.name||t("Untitled report"))})),this.userCan("change_asset",this.state.asset)&&a.a.createElement(S.a.PopoverMenu__link,{key:"new",onClick:this.toggleCustomReportModal},t("Create New Report"))),this.state.currentCustomReport&&a.a.createElement(S.a.Button,{m:"icon",className:"report-button__edit",onClick:this.editCustomReport,"data-tip":t("Edit Report Questions")},a.a.createElement("i",{className:"k-icon k-icon-edit"})),a.a.createElement(S.a.Button,{m:"icon",className:"report-button__expand right-tooltip",onClick:this.toggleFullscreen,"data-tip":t("Toggle fullscreen")},a.a.createElement("i",{className:"k-icon k-icon-expand"})),a.a.createElement(S.a.Button,{m:"icon",className:"report-button__print",onClick:z.launchPrinting,"data-tip":t("Print")},a.a.createElement("i",{className:"k-icon k-icon-print"})),this.userCan("change_asset",this.state.asset)&&a.a.createElement(S.a.Button,{m:"icon",className:"report-button__settings",onClick:this.toggleReportGraphSettings,"data-tip":t("Configure Report Style")},a.a.createElement("i",{className:"k-icon k-icon-settings"})))}},{key:"renderCustomReportModal",value:function(){return a.a.createElement(S.a.GraphSettings,null,a.a.createElement(Me.a.Body,null,a.a.createElement(Ms,{reportData:this.state.reportData,customReport:this.state.currentCustomReport,asset:this.state.asset})))}},{key:"resetReportLimit",value:function(){this.setState({reportLimit:!1})}},{key:"triggerQuestionSettings",value:function(e){var t=e.target.getAttribute("data-question");t&&this.setState({currentQuestionGraph:t})}},{key:"renderQuestionSettings",value:function(){return a.a.createElement(S.a.GraphSettings,null,a.a.createElement(Me.a.Body,null))}},{key:"closeQuestionSettings",value:function(){this.setState({currentQuestionGraph:!1})}},{key:"renderLoadingOrError",value:function(){return this.state.error?a.a.createElement(S.a.Loading,null,a.a.createElement(S.a.Loading__inner,null,t("This report cannot be loaded."),a.a.createElement("br",null),a.a.createElement("code",null,this.state.error.statusText,": "+this.state.error.responseText))):a.a.createElement(S.a.Loading,null,a.a.createElement(q.a,null))}},{key:"render",value:function(){if(!this.state.asset)return this.renderLoadingOrError();var e,o=this.state.asset,r=this.state.currentCustomReport;o&&o.content&&(e=o.name||t("Untitled"));var n=this.state.reportData||[];if(n.length){if(r&&r.questions.length){var i=r.questions;n=this.state.reportData.filter((function(e){return i.includes(e.name)}))}this.state.reportLimit&&n.length>this.state.reportLimit&&(n=n.slice(0,this.state.reportLimit))}if(void 0===this.state.reportData)return this.renderLoadingOrError();var l=[];this.state.isFullscreen&&l.push("fullscreen");var s=this.hasAnyProvidedData(n),c=0!==this.state.groupBy.length;return a.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(S.a.FormView,{m:l},a.a.createElement(S.a.ReportView,null,this.renderReportButtons(),!s&&a.a.createElement(S.a.ReportView__wrap,null,a.a.createElement(S.a.Loading,null,a.a.createElement(S.a.Loading__inner,null,t("This report has no data."),c&&" "+t('Try changing Report Style to "No grouping".')))),s&&a.a.createElement(S.a.ReportView__wrap,null,a.a.createElement(S.a.PrintOnly,null,a.a.createElement("h3",null,o.name)),!this.state.currentCustomReport&&this.state.reportLimit&&n.length&&this.state.reportData.length>this.state.reportLimit&&a.a.createElement(S.a.FormView__cell,{m:["centered","reportLimit"]},a.a.createElement("div",null,t("For performance reasons, this report only includes the first ## questions.").replace("##",this.state.reportLimit)),a.a.createElement(S.a.Button,{m:"colored",onClick:this.resetReportLimit},t("Show all (##)").replace("##",this.state.reportData.length))),a.a.createElement(S.a.FormView__cell,{m:"warning"},a.a.createElement("i",{className:"k-icon k-icon-alert"}),a.a.createElement("p",null,t("This is an automated report based on raw data submitted to this project. Please conduct proper data cleaning prior to using the graphs and figures used on this page. "))),a.a.createElement(Dc,{parentState:this.state,reportData:n,triggerQuestionSettings:this.triggerQuestionSettings})),this.state.showReportGraphSettings&&a.a.createElement(Me.a,{open:!0,onClose:this.toggleReportGraphSettings,title:t("Edit Report Style")},a.a.createElement(Vc,{parentState:this.state})),this.state.showCustomReportModal&&a.a.createElement(Me.a,{open:!0,onClose:this.toggleCustomReportModal,title:t("Custom Report")},this.renderCustomReportModal()),this.state.currentQuestionGraph&&a.a.createElement(Me.a,{open:!0,onClose:this.closeQuestionSettings,title:t("Question Style")},a.a.createElement(ic,{question:this.state.currentQuestionGraph,parentState:this.state})))))}}])&&qc(o.prototype,r),n&&qc(o,n),s}(a.a.Component);f()(Wc.prototype,O.a.permissions),f()(Wc.prototype,h.a.ListenerMixin);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Wc,"Reports","/srv/src/kpi/jsapp/js/components/reports/reports.es6");var Jc=r(387),Xc=r.n(Jc);function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function td(e,t){return(td=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function od(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ad(e);if(t){var n=ad(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return rd(this,o)}}function rd(e,t){return!t||"object"!==Zc(t)&&"function"!=typeof t?nd(e):t}function nd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ad(e){return(ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var id=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&td(e,t)}(c,e);var o,r,n,i=od(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={selectedCollectMethod:A.COLLECTION_METHODS.offline_url.id,DVCOUNT_LIMIT:20,nextPageUrl:null,nextPagesVersions:[]},l()(nd(t)),t}return o=c,(r=[{key:"componentDidMount",value:function(){this.listenTo(w.a.resources.deployAsset.completed,this.resetLoadedVersions)}},{key:"resetLoadedVersions",value:function(){this.setState({DVCOUNT_LIMIT:20,nextPageUrl:null,nextPagesVersions:[]})}},{key:"enketoPreviewModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.ENKETO_PREVIEW,assetid:this.state.uid})}},{key:"callUnarchiveAsset",value:function(){this.unarchiveAsset()}},{key:"renderFormInfo",value:function(e){var o,r=this.state.deployed_versions.count;return this.isCurrentVersionDeployed()||(o="(".concat(t("undeployed"),")"),r+=1),a.a.createElement(S.a.FormView__cell,{m:["columns","padding"]},a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormView__cell,{m:"version"},r>0?"v".concat(r):""),o&&e&&a.a.createElement(S.a.FormView__cell,{m:"undeployed"},"Â ",o),a.a.createElement(S.a.FormView__cell,{m:"date"},t("Last Modified"),"Â :Â ",Object(z.formatTime)(this.state.date_modified),"Â -Â ",a.a.createElement("span",{className:"question-count"},this.state.summary.row_count||"0","Â ",t("questions")))),a.a.createElement(S.a.FormView__cell,{m:"buttons"},e&&this.state.has_deployment&&this.state.deployment__active&&a.a.createElement("a",{className:"kobo-button kobo-button--blue",onClick:this.deployAsset},t("redeploy")),e&&!this.state.has_deployment&&!this.state.deployment__active&&a.a.createElement("a",{className:"kobo-button kobo-button--blue",onClick:this.deployAsset},t("deploy")),e&&this.state.has_deployment&&!this.state.deployment__active&&a.a.createElement("a",{className:"kobo-button kobo-button--blue",onClick:this.callUnarchiveAsset},t("unarchive"))))}},{key:"showSharingModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.SHARING,assetid:this.state.uid})}},{key:"showReplaceProjectModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.REPLACE_PROJECT,asset:this.state})}},{key:"isCurrentVersionDeployed",value:function(){var e=this;return!!(this.state.deployment__active&&this.state.deployed_versions.count>0&&this.state.deployed_version_id)&&this.state.deployed_versions.results.find((function(t){return t.uid===e.state.deployed_version_id})).content_hash===this.state.version__content_hash}},{key:"isFormRedeploymentNeeded",value:function(){return!this.isCurrentVersionDeployed()&&this.userCan("change_asset",this.state)}},{key:"hasLanguagesDefined",value:function(e){return e&&(e.length>1||null!==e[0])}},{key:"showLanguagesModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.FORM_LANGUAGES,asset:this.state})}},{key:"showEncryptionModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.ENCRYPT_FORM,asset:this.state})}},{key:"loadMoreVersions",value:function(){var e=this;this.state.DVCOUNT_LIMIT+20<=this.state.deployed_versions.count+20&&this.setState({DVCOUNT_LIMIT:this.state.DVCOUNT_LIMIT+20});var t=null;this.state.nextPageUrl?t=this.state.nextPageUrl:this.state.deployed_versions.next&&(t=this.state.deployed_versions.next),null!==t&&qr.a.loadNextPageUrl(t).done((function(t){e.setState({nextPageUrl:t.deployed_versions.next});var o=e.state.nextPagesVersions;Object.values(t.deployed_versions.results).forEach((function(e){o.push(e)})),e.setState({nextPagesVersions:o})}))}},{key:"renderHistory",value:function(){var e=this,o=this.state.deployed_versions.count,r=this.state.deployed_versions.results.concat(this.state.nextPagesVersions),n=b.a.session.isLoggedIn;return a.a.createElement(S.a.FormView__row,{className:this.state.historyExpanded?"historyExpanded":"historyHidden"},a.a.createElement(S.a.FormView__cell,{m:["columns","label","first","history-label"]},a.a.createElement(S.a.FormView__cell,{m:"label"},t("Form history"))),a.a.createElement(S.a.FormView__cell,{m:["box","history-table"]},a.a.createElement(S.a.FormView__group,{m:"deployments"},a.a.createElement(S.a.FormView__group,{m:["items","headings"]},a.a.createElement(S.a.FormView__label,{m:"version"},t("Version")),a.a.createElement(S.a.FormView__label,{m:"date"},t("Last Modified")),n&&a.a.createElement(S.a.FormView__label,{m:"clone"},t("Clone"))),r.map((function(r,i){if(o-i>0)return a.a.createElement(S.a.FormView__group,{m:"items",key:i,className:i>=e.state.DVCOUNT_LIMIT?"hidden":""},a.a.createElement(S.a.FormView__label,{m:"version"},"v".concat(o-i),r.uid===e.state.deployed_version_id&&e.state.deployment__active&&a.a.createElement(S.a.FormView__cell,{m:"deployed"},t("Deployed"))),a.a.createElement(S.a.FormView__label,{m:"date"},Object(z.formatTime)(r.date_deployed)),n&&a.a.createElement(S.a.FormView__label,{m:"clone",className:"right-tooltip"},a.a.createElement(S.a.FormView__link,{m:"clone","data-version-id":r.uid,"data-tip":t("Clone this version as a new project"),onClick:e.saveCloneAs},a.a.createElement("i",{className:"k-icon k-icon-clone"}))))})))),this.state.deployed_versions.count>1&&a.a.createElement(S.a.FormView__cell,{m:["centered"]},a.a.createElement(S.a.Button,{m:"colored",onClick:this.toggleDeploymentHistory},this.state.historyExpanded?t("Hide full history"):t("Show full history")),this.state.historyExpanded&&this.state.DVCOUNT_LIMIT<o&&a.a.createElement(S.a.Button,{m:"colored",onClick:this.loadMoreVersions},t("Load more"))))}},{key:"renderCollectData",value:function(){var e=this,o=[];Object.keys(A.COLLECTION_METHODS).forEach((function(e){var t=A.COLLECTION_METHODS[e];o.push({key:t.id,label:t.label,desc:t.desc})}));var r=this.state.selectedCollectMethod,n=this.state.deployment__links[r]||null,i=document.createElement("a");i.href=this.state.deployment__identifier;var l=i.origin;return a.a.createElement(S.a.FormView__row,null,a.a.createElement(S.a.FormView__cell,{m:["label","first"]},t("Collect data")),a.a.createElement(S.a.FormView__cell,{m:"box"},a.a.createElement(S.a.FormView__cell,{m:["columns","padding","collect-header"]},a.a.createElement(S.a.FormView__cell,null,a.a.createElement(fi.a,{type:"collectData-menu",triggerLabel:A.COLLECTION_METHODS[r].label},o.map((function(t){return a.a.createElement(S.a.PopoverMenu__link,{m:["collect-row"],key:"c-".concat(t.key),"data-method":t.key,onClick:e.setCollectMethod},a.a.createElement("div",{className:"collect-data-label"},t.label),a.a.createElement("div",{className:"collect-data-desc"},t.desc))})))),a.a.createElement(S.a.FormView__cell,null,this.renderCollectLink())),a.a.createElement(S.a.FormView__cell,{m:["padding","bordertop","collect-meta"]},r!==A.COLLECTION_METHODS.android.id&&A.COLLECTION_METHODS[r].desc,r===A.COLLECTION_METHODS.iframe_url.id&&a.a.createElement("pre",null,'<iframe src="'.concat(n,'" width="800" height="600"></iframe>')),r===A.COLLECTION_METHODS.android.id&&a.a.createElement("ol",null,a.a.createElement("li",null,t("Install"),"Â ",a.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=org.koboc.collect.android&hl=en",target:"_blank"},"KoboCollect"),"Â ",t("on your Android device.")),a.a.createElement("li",null,t("Click on")," ",a.a.createElement("i",{className:"k-icon k-icon-more-vertical"})," ",t("to open settings.")),a.a.createElement("li",null,t("Enter the server URL"),"Â ",a.a.createElement("code",null,l),"Â ",t("and your username and password")),a.a.createElement("li",null,t('Open "Get Blank Form" and select this project. ')),a.a.createElement("li",null,t('Open "Enter Data."'))))))}},{key:"renderCollectLink",value:function(){var e=this.state.selectedCollectMethod,o=this.state.deployment__links[e]||null;return e===A.COLLECTION_METHODS.android.id?a.a.createElement("a",{className:"mdl-button mdl-button--colored",target:"_blank",href:A.COLLECTION_METHODS.android.url},t("Download KoboCollect")):null===o?a.a.createElement("span",{className:"collect-link-missing right-tooltip","data-tip":t("Try reloading the page, if problem doesn't go away, contact support.")},a.a.createElement("i",{className:"k-icon k-icon-alert"}),t("Link missing")):e===A.COLLECTION_METHODS.iframe_url.id?a.a.createElement(Xc.a,{text:"<iframe src=".concat(o,' width="800" height="600"></iframe>'),onCopy:function(){Object(z.notify)(t("Copied to clipboard"))},options:{format:"text/plain"}},a.a.createElement("button",{className:"copy mdl-button mdl-button--colored"},t("Copy"))):a.a.createElement(a.a.Fragment,null,a.a.createElement(Xc.a,{text:o,onCopy:function(){Object(z.notify)(t("Copied to clipboard"))},options:{format:"text/plain"}},a.a.createElement("button",{className:"copy mdl-button mdl-button--colored"},t("Copy"))),a.a.createElement("a",{className:"mdl-button mdl-button--colored",target:"_blank",href:o},t("Open")))}},{key:"setCollectMethod",value:function(e){this.setState({selectedCollectMethod:e.currentTarget.dataset.method})}},{key:"goToProjectsList",value:function(){s.f.push(V.b.FORMS)}},{key:"nonOwnerSelfRemoval",value:function(e){e.preventDefault(),this.nonOwnerSelfRemovalListener=this.listenTo(w.a.permissions.removeAssetPermission.completed,this.nonOwnerSelfRemovalCompleted),this.removeSharing()}},{key:"nonOwnerSelfRemovalCompleted",value:function(){this.nonOwnerSelfRemovalListener&&this.stopListeningTo(w.a.permissions.removeAssetPermission.completed),this.goToProjectsList()}},{key:"renderButtons",value:function(e){var o=[];this.state.downloads&&(o=this.state.downloads);var r=b.a.session.isLoggedIn;return a.a.createElement(a.a.Fragment,null,e?a.a.createElement(s.c,{to:"/forms/".concat(this.state.uid,"/edit"),className:"form-view__link form-view__link--edit","data-tip":t("Edit in Form Builder")},a.a.createElement("i",{className:"k-icon k-icon-edit"})):a.a.createElement(S.a.FormView__link,{m:["edit","disabled"],className:"right-tooltip","data-tip":t("Editing capabilities not granted, you can only view this form")},a.a.createElement("i",{className:"k-icon k-icon-edit"})),a.a.createElement(S.a.FormView__link,{m:"preview",onClick:this.enketoPreviewModal,"data-tip":t("Preview")},a.a.createElement("i",{className:"k-icon k-icon-view"})),e&&a.a.createElement(S.a.FormView__link,{m:"upload","data-tip":t("Replace form"),onClick:this.showReplaceProjectModal},a.a.createElement("i",{className:"k-icon k-icon-replace"})),a.a.createElement(fi.a,{type:"formLanding-menu",triggerLabel:a.a.createElement("div",{"data-tip":t("More actions")},a.a.createElement("i",{className:"k-icon k-icon-more"}))},o.map((function(e){return a.a.createElement(S.a.PopoverMenu__link,{m:"dl-".concat(e.format),href:e.url,key:"dl-".concat(e.format)},a.a.createElement("i",{className:"k-icon k-icon-".concat(e.format,"-file")}),t("Download"),"Â ",e.format.toString().toUpperCase())})),e&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.showSharingModal},a.a.createElement("i",{className:"k-icon k-icon-user-share"}),t("Share this project")),r&&!We.b.isSelfOwned(this.state)&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.nonOwnerSelfRemoval},a.a.createElement("i",{className:"k-icon k-icon-trash"}),t("Remove shared project")),r&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.saveCloneAs},a.a.createElement("i",{className:"k-icon k-icon-clone"}),t("Clone this project")),r&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.cloneAsTemplate,"data-asset-uid":this.state.uid,"data-asset-name":this.state.name},a.a.createElement("i",{className:"k-icon k-icon-template"}),t("Create template")),e&&this.state.content.survey.length>0&&a.a.createElement(S.a.PopoverMenu__link,{onClick:this.showLanguagesModal},a.a.createElement("i",{className:"k-icon k-icon-language"}),t("Manage translations"))))}},{key:"renderLanguages",value:function(e){var o=this.state.content.translations;return a.a.createElement(S.a.FormView__cell,{m:["columns","padding","bordertop"]},a.a.createElement(S.a.FormView__cell,{m:"translation-list"},a.a.createElement("strong",null,t("Languages:")),"Â ",!this.hasLanguagesDefined(o)&&t("This project has no languages defined yet"),this.hasLanguagesDefined(o)&&a.a.createElement("ul",null,o.map((function(e,o){return a.a.createElement("li",{key:o},e||t("Unnamed language"))})))),e&&a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormView__link,{"data-tip":t("Manage translations"),onClick:this.showLanguagesModal},a.a.createElement("i",{className:"k-icon k-icon-language"}))))}},{key:"render",value:function(){var e=this.state.name||t("Untitled"),o=this.userCan("change_asset",this.state),r=b.a.session.isLoggedIn;return void 0===this.state.uid?a.a.createElement(q.a,null):a.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(S.a.FormView,{m:"form"},a.a.createElement(S.a.FormView__row,null,a.a.createElement(S.a.FormView__cell,{m:["columns","first"]},a.a.createElement(S.a.FormView__cell,{m:"label"},this.state.deployment__active?t("Current version"):this.state.has_deployment?t("Archived version"):t("Draft version")),a.a.createElement(S.a.FormView__cell,{m:"action-buttons"},this.renderButtons(o))),a.a.createElement(S.a.FormView__cell,{m:"box"},this.isFormRedeploymentNeeded()&&a.a.createElement(S.a.FormView__cell,{m:"warning"},a.a.createElement("i",{className:"k-icon k-icon-alert"}),a.a.createElement("p",null,t("If you want to make these changes public, you must deploy this form."))),this.renderFormInfo(o),this.renderLanguages(o))),this.state.deployed_versions.count>0&&this.renderHistory(),this.state.deployed_versions.count>0&&this.state.deployment__active&&r&&this.renderCollectData()))}}])&&ed(o.prototype,r),n&&ed(o,n),c}(a.a.Component);f()(id.prototype,O.a.permissions),f()(id.prototype,O.a.dmix),f()(id.prototype,h.a.ListenerMixin),id.contextTypes={router:d.a.object};var ld=id,sd=ld,cd=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(20,"DVCOUNT_LIMIT_MINIMUM","/srv/src/kpi/jsapp/js/components/formLanding.es6"),__REACT_HOT_LOADER__.register(id,"FormLanding","/srv/src/kpi/jsapp/js/components/formLanding.es6"),__REACT_HOT_LOADER__.register(ld,"default","/srv/src/kpi/jsapp/js/components/formLanding.es6")),r(11)),dd=r.n(cd);r(597);function ud(e){return(ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pd(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function md(e,t){return(md=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=bd(e);if(t){var n=bd(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _d(this,o)}}function _d(e,t){return!t||"object"!==ud(t)&&"function"!=typeof t?hd(e):t}function hd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bd(e){return(bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&md(e,t)}(c,e);var o,r,n,i=fd(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={subsCurrentPeriod:"",subsPreviousPeriod:"",lastSubmission:!1,chartVisible:!1,chart:{},chartPeriod:"week"},t.submissionsChart=!1,l()(hd(t)),t}return o=c,(r=[{key:"componentDidUpdate",value:function(e,t){this.submissionsChart||this.createChart(),t.chartPeriod==this.state.chartPeriod&&this.props.params==e.params||this.state.permissions&&this.userCan("view_submissions",this.state)&&this.prep()}},{key:"prep",value:function(){var e=this.props.params.assetid||this.props.params.uid;this.getLatestSubmissionTime(e),this.prepSubmissions(e)}},{key:"createChart",value:function(){sc.a.defaults.global.elements.rectangle.backgroundColor="rgba(61, 194, 212, 0.6)";var e={type:"bar",options:{maintainAspectRatio:!1,responsive:!0,events:[""],legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(e,t,o){if(Math.floor(e)===e)return e}}}]}}},t=mi.a.findDOMNode(this.refs.canvas);t&&(this.submissionsChart=new sc.a(t,e),this.prep())}},{key:"prepSubmissions",value:function(e){var t=this,o="week"==this.state.chartPeriod?dd()().startOf("days").subtract(6,"days"):dd()().startOf("days").subtract(30,"days"),r="week"==this.state.chartPeriod?dd()().startOf("days").subtract(13,"days"):dd()().startOf("days").subtract(60,"days"),n='query={"_submission_time": {"$gte":"'.concat(o.toISOString(),'"}}&fields=["_id","_submission_time"]');qr.a.getSubmissionsQuery(e,n).done((function(n){var a=n.results.length,i='query={"_submission_time": {"$gte":"'.concat(r.toISOString(),'"}}&fields=["_id"]');qr.a.getSubmissionsQuery(e,i).done((function(e){if(a>0){var r;r="week"==t.state.chartPeriod?[0,0,0,0,0,0,0]:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n.results.forEach((function(e,t){var n=new Date(e._submission_time),a=dd()(n.valueOf()-60*n.getTimezoneOffset()*1e3).diff(o,"days");r[a]+=1}));for(var i=[],l=o,s=dd()();l<=s;)i.push(l.format("DD MMM")),l=l.clone().add(1,"d");t.submissionsChart.data&&(t.submissionsChart.data.labels=i,t.submissionsChart.data.datasets=[{data:r}],t.submissionsChart.update())}t.setState({subsPreviousPeriod:e.results.length-a,subsCurrentPeriod:a,chartVisible:!!a})}))}))}},{key:"getLatestSubmissionTime",value:function(e){var t=this;qr.a.getSubmissions(e,1,0,[{id:"_id",desc:!0}],["_id","end"]).done((function(e){var o=e.results;e.count?t.setState({lastSubmission:o[0].end}):t.setState({lastSubmission:!1})}))}},{key:"renderSubmissionsGraph",value:function(){return a.a.createElement(S.a.FormView__row,{m:"summary-submissions"},a.a.createElement(S.a.FormView__cell,{m:["label","first"]},t("Submissions")),a.a.createElement(S.a.FormView__cell,{m:["box"]},a.a.createElement(S.a.FormView__cell,{m:"subs-graph"},a.a.createElement(S.a.FormView__cell,{m:"subs-graph-toggle"},a.a.createElement("a",{onClick:this.showGraphWeek,className:"week"==this.state.chartPeriod?"active":""},t("Past 7 days")),a.a.createElement("a",{onClick:this.showGraphMonth,className:"month"==this.state.chartPeriod?"active":""},t("Past 31 days"))),a.a.createElement(S.a.FormView__cell,{m:"summary-chart",className:this.state.subsCurrentPeriod?"active":"inactive"},a.a.createElement("canvas",{ref:"canvas",className:this.state.chartVisible?"visible":""})),a.a.createElement(S.a.FormView__cell,{m:"chart-no-data"},a.a.createElement("span",null,t("No chart data available for current period.")))),a.a.createElement(S.a.FormView__group,{m:["submission-stats"]},a.a.createElement(S.a.FormView__cell,null,a.a.createElement("span",{className:"subs-graph-number"},this.state.subsCurrentPeriod),a.a.createElement(S.a.FormView__label,null,"week"==this.state.chartPeriod&&"".concat(Object(z.formatDate)(dd()().subtract(6,"days"))," - ").concat(Object(z.formatDate)(dd()())),"week"!=this.state.chartPeriod&&"".concat(Object(z.formatDate)(dd()().subtract(30,"days"))," - ").concat(Object(z.formatDate)(dd()())))),a.a.createElement(S.a.FormView__cell,null,a.a.createElement("span",{className:"subs-graph-number"},this.state.subsPreviousPeriod),a.a.createElement(S.a.FormView__label,null,"week"==this.state.chartPeriod&&"".concat(Object(z.formatDate)(dd()().subtract(13,"days"))," - ").concat(Object(z.formatDate)(dd()().subtract(7,"days"))),"week"!=this.state.chartPeriod&&"".concat(Object(z.formatDate)(dd()().subtract(60,"days"))," - ").concat(Object(z.formatDate)(dd()().subtract(31,"days"))))),a.a.createElement(S.a.FormView__cell,null,a.a.createElement("span",{className:"subs-graph-number"},this.state.deployment__submission_count),a.a.createElement(S.a.FormView__label,null,t("Total"))))))}},{key:"showGraphWeek",value:function(){this.setState({chartPeriod:"week"})}},{key:"showGraphMonth",value:function(){this.setState({chartPeriod:"month"})}},{key:"renderQuickLinks",value:function(){return a.a.createElement(S.a.FormView__cell,{m:"data-tabs"},a.a.createElement(s.c,{to:"/forms/".concat(this.state.uid,"/landing"),key:"landing","data-path":"/forms/".concat(this.state.uid,"/landing"),onClick:this.triggerRefresh},a.a.createElement("i",{className:"k-icon k-icon-projects"}),t("Collect data"),a.a.createElement("i",{className:"k-icon k-icon-next"})),this.userCan("change_asset",this.state)&&a.a.createElement("button",{onClick:this.sharingModal},a.a.createElement("i",{className:"k-icon k-icon-user-share"}),t("Share project"),a.a.createElement("i",{className:"k-icon k-icon-next"})),this.userCan("change_asset",this.state)&&a.a.createElement(s.c,{to:"/forms/".concat(this.state.uid,"/edit"),key:"edit","data-path":"/forms/".concat(this.state.uid,"/edit"),onClick:this.triggerRefresh},a.a.createElement("i",{className:"k-icon k-icon-edit"}),t("Edit form"),a.a.createElement("i",{className:"k-icon k-icon-next"})),a.a.createElement("button",{onClick:this.enketoPreviewModal},a.a.createElement("i",{className:"k-icon k-icon-view"}),t("Preview form"),a.a.createElement("i",{className:"k-icon k-icon-next"})))}},{key:"renderDataTabs",value:function(){var e=this,t=Object(ye.b)(this.state.uid);return a.a.createElement(S.a.FormView__cell,{m:"data-tabs"},t.map((function(t,o){return a.a.createElement(s.c,{to:t.path,key:o,activeClassName:"active",onlyActiveOnIndex:!0,"data-path":t.path,onClick:e.triggerRefresh},a.a.createElement("i",{className:"k-icon ".concat(t.icon)}),t.label,a.a.createElement("i",{className:"k-icon k-icon-next"}))})))}},{key:"sharingModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.SHARING,assetid:this.state.uid})}},{key:"enketoPreviewModal",value:function(e){e.preventDefault(),b.a.pageState.showModal({type:A.MODAL_TYPES.ENKETO_PREVIEW,assetid:this.state.uid})}},{key:"renderTeam",value:function(){var e=[];return this.state.permissions.forEach((function(t){var o=null;t.user&&(o=Object(z.getUsernameFromUrl)(t.user)),o&&!e.includes(o)&&o!==A.ANON_USERNAME&&e.push(o)})),!(e.length<2)&&a.a.createElement(S.a.FormView__row,{m:"team"},a.a.createElement(S.a.FormView__cell,{m:["label","first"]},t("Team members")),this.userCan("change_asset",this.state)&&a.a.createElement("a",{onClick:this.sharingModal,className:"team-sharing-button"},a.a.createElement("i",{className:"k-icon k-icon-user-share"})),a.a.createElement(S.a.FormView__cell,{m:["box","padding"]},e.map((function(e,t){return a.a.createElement(S.a.UserRow,{key:t},a.a.createElement(S.a.UserRow__avatar,{"data-tip":e},a.a.createElement(S.a.AccountBox__initials,{style:{background:"#".concat(Object(z.stringToColor)(e))}},e.charAt(0))))}))))}},{key:"render",value:function(){var e=this.state.name||t("Untitled");return this.state.permissions?a.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(S.a.FormView,{m:"summary"},a.a.createElement(S.a.FormView__column,{m:"left"},this.state.settings&&(this.state.settings.country||this.state.settings.sector||this.state.settings.description)&&a.a.createElement(S.a.FormView__row,{m:"summary-description"},a.a.createElement(S.a.FormView__cell,{m:["label","first"]},t("Description")),a.a.createElement(S.a.FormView__cell,{m:["box"]},(this.state.settings.country||this.state.settings.sector)&&a.a.createElement(S.a.FormView__group,{m:["items","description-cols"]},this.state.settings.country&&a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormView__label,{m:"country"},t("Project country")),this.state.settings.country.label),this.state.settings.sector&&a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormView__label,{m:"sector"},t("Sector")),this.state.settings.sector.label)),this.state.settings.description&&a.a.createElement(S.a.FormView__cell,{m:["padding","description"]},this.state.settings.description))),this.renderSubmissionsGraph(),a.a.createElement(S.a.FormView__row,{m:"summary-details"},a.a.createElement(S.a.FormView__cell,{m:["label","first"]},t("Form details")),a.a.createElement(S.a.FormView__cell,{m:["box"]},a.a.createElement(S.a.FormView__group,{m:"summary-details-cols"},a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormView__label,null,t("Last modified")),Object(z.formatTime)(this.state.date_modified)),this.state.lastSubmission&&a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormView__label,null,t("Latest submission")),Object(z.formatTime)(this.state.lastSubmission)),this.state.summary&&a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormView__label,null,t("Questions")),this.state.summary.row_count),this.state.summary&&this.state.summary.languages&&this.state.summary.languages.length>1&&a.a.createElement(S.a.FormView__cell,null,a.a.createElement(S.a.FormView__label,null,t("Languages")),this.state.summary.languages.map((function(e,t){return a.a.createElement(S.a.FormView__cell,{key:"lang-".concat(t),"data-index":t},e)}))))))),a.a.createElement(S.a.FormView__column,{m:"right"},a.a.createElement(S.a.FormView__row,{m:"quick-links"},a.a.createElement(S.a.FormView__cell,{m:["label","first"]},t("Quick Links")),a.a.createElement(S.a.FormView__cell,{m:"box"},this.renderQuickLinks())),this.state.deployment__submission_count>0&&a.a.createElement(S.a.FormView__row,{m:"data-links"},a.a.createElement(S.a.FormView__cell,{m:["label","first"]},t("Data")),a.a.createElement(S.a.FormView__cell,{m:"box"},this.renderDataTabs())),this.renderTeam()))):a.a.createElement(q.a,null)}}])&&pd(o.prototype,r),n&&pd(o,n),c}(a.a.Component);f()(gd.prototype,O.a.dmix),f()(gd.prototype,O.a.permissions),f()(gd.prototype,h.a.ListenerMixin);var yd=gd,vd=yd,kd=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(gd,"FormSummary","/srv/src/kpi/jsapp/js/components/formSummary.es6"),__REACT_HOT_LOADER__.register(yd,"default","/srv/src/kpi/jsapp/js/components/formSummary.es6")),r(100));r(599);function wd(e){return(wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xd(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function Ed(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(o),!0).forEach((function(t){Sd(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):xd(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Sd(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Od(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Td(e,t){return(Td=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=jd(e);if(t){var n=jd(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ad(this,o)}}function Ad(e,t){return!t||"object"!==wd(t)&&"function"!=typeof t?Cd(e):t}function Cd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jd(e){return(jd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Td(e,t)}(s,e);var o,r,n,i=Rd(s);function s(e){var t,o,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(n=i.call(this,e)).state={isInitialised:!1,isLoading:!1,isShared:(null===(t=e.asset.data_sharing)||void 0===t?void 0:t.enabled)||!1,isSharingAnyQuestions:Boolean(null===(o=e.asset.data_sharing)||void 0===o||null===(r=o.fields)||void 0===r?void 0:r.length)||!1,attachedSources:[],sharingEnabledAssets:null,newSource:null,newFilename:"",columnsToDisplay:[],fieldsErrors:{}},n.state.isShared&&(n.state.columnsToDisplay=wr.generateColumnFilters(n.props.asset.data_sharing.fields,n.props.asset.content.survey)),l()(Cd(n)),n.unlisteners=[],n}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(w.a.dataShare.attachToSource.started.listen(this.markComponentAsLoading),w.a.dataShare.attachToSource.completed.listen(this.refreshAttachmentList),w.a.dataShare.attachToSource.failed.listen(this.onAttachToSourceFailed),w.a.dataShare.detachSource.completed.listen(this.refreshAttachmentList),w.a.dataShare.patchSource.started.listen(this.markComponentAsLoading),w.a.dataShare.patchSource.completed.listen(this.onPatchSourceCompleted),w.a.dataShare.getSharingEnabledAssets.completed.listen(this.onGetSharingEnabledAssetsCompleted),w.a.dataShare.getAttachedSources.completed.listen(this.onGetAttachedSourcesCompleted),w.a.dataShare.toggleDataSharing.completed.listen(this.onToggleDataSharingCompleted),w.a.dataShare.updateColumnFilters.completed.listen(this.onUpdateColumnFiltersCompleted),w.a.dataShare.updateColumnFilters.failed.listen(this.stopLoading),w.a.dataShare.detachSource.failed.listen(this.stopLoading),w.a.dataShare.patchSource.completed.listen(this.stopLoading),w.a.dataShare.patchSource.failed.listen(this.stopLoading)),this.refreshAttachmentList(),w.a.dataShare.getSharingEnabledAssets()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onAttachToSourceFailed",value:function(e){this.setState({isLoading:!1,fieldsErrors:(null==e?void 0:e.responseJSON)||t("Please check file name")})}},{key:"onGetAttachedSourcesCompleted",value:function(e){this.setState({isInitialised:!0,isLoading:!1,attachedSources:e})}},{key:"onGetSharingEnabledAssetsCompleted",value:function(e){this.setState({sharingEnabledAssets:e})}},{key:"onToggleDataSharingCompleted",value:function(e){this.setState({isShared:e.data_sharing.enabled,isSharingAnyQuestions:!1,columnsToDisplay:wr.generateColumnFilters([],this.props.asset.content.survey)})}},{key:"onUpdateColumnFiltersCompleted",value:function(e){this.setState({isLoading:!1,columnsToDisplay:wr.generateColumnFilters(e.data_sharing.fields,this.props.asset.content.survey)})}},{key:"onPatchSourceCompleted",value:function(){w.a.dataShare.getAttachedSources(this.props.asset.uid)}},{key:"refreshAttachmentList",value:function(){this.setState({newSource:null,newFilename:"",fieldsErrors:{}}),w.a.dataShare.getAttachedSources(this.props.asset.uid)}},{key:"stopLoading",value:function(){this.setState({isLoading:!1})}},{key:"onFilenameChange",value:function(e){this.setState({newFilename:e,fieldsErrors:{}})}},{key:"onSourceChange",value:function(e){this.setState({newSource:e,newFilename:Object(z.generateAutoname)(null==e?void 0:e.name,0,A.MAX_DISPLAYED_STRING_LENGTH.connect_projects),fieldsErrors:{}})}},{key:"onConfirmAttachment",value:function(e){var o,r;e.preventDefault(),""!==this.state.newFilename&&(null===(o=this.state.newSource)||void 0===o?void 0:o.url)?(this.setState({fieldsErrors:{}}),this.showColumnFilterModal(this.props.asset,this.state.newSource,this.state.newFilename,[])):((null===(r=this.state.newSource)||void 0===r?void 0:r.url)||this.setState((function(e){return{fieldsErrors:Ed(Ed({},e.fieldsErrors),{},{source:t("No project selected")})}})),""===this.state.newFilename&&this.setState((function(e){return{fieldsErrors:Ed(Ed({},e.fieldsErrors),{},{filename:t("Field is empty")})}})))}},{key:"onRemoveAttachment",value:function(e){this.setState({isLoading:!0}),w.a.dataShare.detachSource(e)}},{key:"onToggleSharingData",value:function(){var e=this,o={data_sharing:{enabled:!this.state.isShared,fields:[]}};if(this.state.isShared)w.a.dataShare.toggleDataSharing(this.props.asset.uid,o);else{var r=Ne.a.dialog("confirm"),n={title:"".concat(t("Privacy Notice")),message:t('This will attach the full dataset from "##ASSET_NAME##" as a background XML file to this form. While not easily visible, it is technically possible for anyone entering data to your form to retrieve and view this dataset. Do not use this feature if "##ASSET_NAME##" includes sensitive data.').replaceAll("##ASSET_NAME##",this.props.asset.name),labels:{ok:t("Acknowledge and continue"),cancel:t("Cancel")},onok:function(){w.a.dataShare.toggleDataSharing(e.props.asset.uid,o),r.destroy()},oncancel:r.destroy};r.set(n).show()}}},{key:"onColumnSelected",value:function(e){this.setState({isLoading:!0});var t=[];e.forEach((function(e){e.checked&&t.push(e.label)}));var o={data_sharing:{enabled:this.state.isShared,fields:t}};w.a.dataShare.updateColumnFilters(this.props.asset.uid,o)}},{key:"onSharingCheckboxChange",value:function(e){var t=this.state.columnsToDisplay;if(!e){t=[];var o={data_sharing:{enabled:this.state.isShared,fields:[]}};w.a.dataShare.updateColumnFilters(this.props.asset.uid,o)}this.setState({columnsToDisplay:t,isSharingAnyQuestions:e})}},{key:"generateFilteredAssetList",value:function(){var e=[];return this.state.attachedSources.forEach((function(t){e.push(t.sourceUid)})),this.state.sharingEnabledAssets.results.filter((function(t){return!e.includes(t.uid)}))}},{key:"showColumnFilterModal",value:function(e,t,o,r,n){b.a.pageState.showModal({type:A.MODAL_TYPES.DATA_ATTACHMENT_COLUMNS,asset:e,source:t,filename:o,fields:r,attachmentUrl:n})}},{key:"markComponentAsLoading",value:function(){this.setState({isLoading:!0})}},{key:"renderSelect",value:function(){if(null!==this.state.sharingEnabledAssets){var e,o,r=this.generateFilteredAssetList(),n=["kobo-select__wrapper"];return(null===(e=this.state.fieldsErrors)||void 0===e?void 0:e.source)&&n.push("kobo-select__wrapper--error"),a.a.createElement("div",{className:n.join(" ")},a.a.createElement(Ge.a,{placeholder:t("Select a different project to import data from"),options:r,value:this.state.newSource,isLoading:!this.state.isInitialised||this.state.isLoading,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.url},noOptionsMessage:function(){return t("No projects to connect")},onChange:this.onSourceChange,className:"kobo-select",classNamePrefix:"kobo-select"}),a.a.createElement("label",{className:"select-errors"},null===(o=this.state.fieldsErrors)||void 0===o?void 0:o.source))}}},{key:"renderExports",value:function(){return this.state.isShared?a.a.createElement("div",{className:"connect-projects__export"},a.a.createElement("div",{className:"connect-projects__export-options"},a.a.createElement(kd.a,{onChange:this.onToggleSharingData.bind(this),label:t("Data sharing enabled"),checked:this.state.isShared}),a.a.createElement(Oo.a,{name:"sharing",checked:this.state.isSharingAnyQuestions,onChange:this.onSharingCheckboxChange,label:t("Select specific questions to share")})),this.state.isSharingAnyQuestions&&a.a.createElement("div",{className:"connect-projects__export-multicheckbox"},a.a.createElement("span",null,t("Select any questions you want to share in the right side table"),this.state.isLoading&&a.a.createElement(q.a,{message:t("Updating shared questions")})),a.a.createElement(Pr,{items:this.state.columnsToDisplay,disabled:this.state.isLoading,onChange:this.onColumnSelected}))):a.a.createElement("div",{className:"connect-projects__export"},a.a.createElement("div",{className:"connect-projects__export-switch"},a.a.createElement(kd.a,{onChange:this.onToggleSharingData.bind(this),label:t("Data sharing disabled"),checked:this.state.isShared})))}},{key:"renderImports",value:function(){var e=this;return a.a.createElement("div",{className:"connect-projects__import"},a.a.createElement("div",{className:"connect-projects__import-form"},this.renderSelect(),a.a.createElement($e.a,{placeholder:t("Give a unique name to the import"),value:this.state.newFilename,onChange:this.onFilenameChange,errors:this.state.fieldsErrors.filename}),a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.onConfirmAttachment},t("Import"))),a.a.createElement("ul",{className:"connect-projects__import-list"},a.a.createElement("label",null,t("Imported")),(!this.state.isInitialised||this.state.isLoading)&&a.a.createElement("div",{className:"connect-projects__import-list-item"},a.a.createElement(q.a,{message:t("Loading imported projects")})),!this.state.isLoading&&0==this.state.attachedSources.length&&a.a.createElement("li",{className:"connect-projects__import-list-item--no-imports"},t("No data imported")),!this.state.isLoading&&this.state.attachedSources.length>0&&this.state.attachedSources.map((function(t,o){return a.a.createElement("li",{key:o,className:"connect-projects__import-list-item"},a.a.createElement("i",{className:"k-icon k-icon-check"}),a.a.createElement("div",{className:"connect-projects__import-labels"},a.a.createElement("span",{className:"connect-projects__import-labels-filename"},t.filename),a.a.createElement("span",{className:"connect-projects__import-labels-source"},t.sourceName)),a.a.createElement("div",{className:"connect-projects__import-options"},a.a.createElement(S.a.KoboLightButton,{m:["red","icon-only"],onClick:function(){return e.onRemoveAttachment(t.attachmentUrl)}},a.a.createElement("i",{className:"k-icon k-icon-trash"})),a.a.createElement(S.a.KoboLightButton,{m:["blue","icon-only"],onClick:function(){return e.showColumnFilterModal(e.props.asset,{uid:t.sourceUid,name:t.sourceName,url:t.sourceUrl},t.filename,t.linkedFields,t.attachmentUrl)}},a.a.createElement("i",{className:"k-icon k-icon-settings"}))))}))))}},{key:"render",value:function(){return a.a.createElement(S.a.FormView__row,null,a.a.createElement(S.a.FormView__cell,{m:["page-title"]},a.a.createElement("i",{className:"k-icon k-icon-folder-out"}),a.a.createElement("h2",null,t("Share data with other project forms"))),a.a.createElement(S.a.FormView__cell,{m:["box","padding"]},a.a.createElement(S.a.FormView__form,null,a.a.createElement("span",null,t("Enable data sharing to allow other forms to import and use dynamic data from this project. Learn more about dynamic data attachments"),"Â ",a.a.createElement("a",{href:oe.a.data.support_url+"dynamic_data_attachment.html",target:"_blank"},t("here"))),this.renderExports())),a.a.createElement(S.a.FormView__cell,{m:["page-title"]},a.a.createElement("i",{className:"k-icon k-icon-folder-in"}),a.a.createElement("h2",null,t("Import other project data"))),a.a.createElement(S.a.FormView__cell,{m:["box","padding"]},a.a.createElement(S.a.FormView__form,null,a.a.createElement("span",null,t("Connect with other project(s) to import dynamic data from them into this project. Learn more about dynamic data attachments"),"Â ",a.a.createElement("a",{href:oe.a.data.support_url+"dynamic_data_attachment.html",target:"_blank"},t("here"))),this.renderImports())))}}])&&Od(o.prototype,r),n&&Od(o,n),s}(a.a.Component),Ld=Pd,Dd=Ld;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("dynamic_data_attachment.html","DYNAMIC_DATA_ATTACHMENTS_SUPPORT_URL","/srv/src/kpi/jsapp/js/components/dataAttachments/connectProjects.es6"),__REACT_HOT_LOADER__.register(Pd,"ConnectProjects","/srv/src/kpi/jsapp/js/components/dataAttachments/connectProjects.es6"),__REACT_HOT_LOADER__.register(Ld,"default","/srv/src/kpi/jsapp/js/components/dataAttachments/connectProjects.es6")),r(601);function Nd(e){return(Nd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Md(e,t,o,r,n,a,i){try{var l=e[a](i),s=l.value}catch(e){return void o(e)}l.done?t(s):Promise.resolve(s).then(r,n)}function Id(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fd(e,t){return(Fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ud(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Vd(e);if(t){var n=Vd(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Hd(this,o)}}function Hd(e,t){return!t||"object"!==Nd(t)&&"function"!=typeof t?Bd(e):t}function Bd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vd(e){return(Vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fd(e,t)}(s,e);var o,r,n,i=Ud(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={uploadedAssets:[],fieldsErrors:{},inputURL:"",isInitialised:!1,isUploadFilePending:!1,isUploadURLPending:!1},l()(Bd(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){w.a.media.loadMedia(this.props.asset.uid),w.a.media.loadMedia.completed.listen(this.onGetMediaCompleted),w.a.media.uploadMedia.failed.listen(this.onUploadFailed)}},{key:"onGetMediaCompleted",value:function(e){this.setState({uploadedAssets:e.results,isUploadFilePending:!1,isUploadURLPending:!1,isInitialised:!0})}},{key:"onUploadFailed",value:function(e){this.setState({fieldsErrors:e.responseJSON,isUploadFilePending:!1,isUploadURLPending:!1})}},{key:"toBase64",value:function(e){return new Promise((function(t,o){var r=new FileReader;r.onload=function(){return t(r.result)},r.onerror=o,r.readAsDataURL(e)}))}},{key:"uploadMedia",value:function(e){this.setState({fieldsErrors:{}}),w.a.media.uploadMedia(this.props.asset.uid,e)}},{key:"onFileDrop",value:function(e){var t=this;e.length>=1&&(this.setState({isUploadFilePending:!0}),e.forEach(function(){var e,o=(e=regeneratorRuntime.mark((function e(o){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.toBase64(o);case 2:r=e.sent,t.uploadMedia({description:"default",file_type:A.ASSET_FILE_TYPES.form_media.id,metadata:JSON.stringify({filename:o.name}),base64Encoded:r});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(r,n){var a=e.apply(t,o);function i(e){Md(a,r,n,i,l,"next",e)}function l(e){Md(a,r,n,i,l,"throw",e)}i(void 0)}))});return function(e){return o.apply(this,arguments)}}()))}},{key:"onInputURLChange",value:function(e){this.setState({inputURL:e})}},{key:"onSubmitURL",value:function(){var e=this.state.inputURL;""===e?Ne.a.warning(t("URL is empty!")):(this.setState({isUploadURLPending:!0,inputURL:""}),this.uploadMedia({description:"default",file_type:A.ASSET_FILE_TYPES.form_media.id,metadata:JSON.stringify({redirect_url:e})}))}},{key:"onDeleteMedia",value:function(e,t){e.preventDefault(),w.a.media.deleteMedia(this.props.asset.uid,t)}},{key:"renderButton",value:function(){var e=["form-builder-header__button","form-builder-header__button--save"];return this.state.isUploadURLPending&&e.push("form-builder-header__button--savepending"),a.a.createElement("button",{className:e.join(" "),onClick:this.onSubmitURL,disabled:!this.state.inputURL},a.a.createElement("i",null),t("Add"))}},{key:"renderFileName",value:function(e){var t,o=e.metadata.filename;return o=e.metadata.redirect_url?Object(z.truncateUrl)(e.metadata.redirect_url,A.MAX_DISPLAYED_STRING_LENGTH.form_media):Object(z.truncateString)(o,A.MAX_DISPLAYED_STRING_LENGTH.form_media),a.a.createElement("a",{href:null==e?void 0:e.content,target:"_blank",download:null==e||null===(t=e.metadata)||void 0===t?void 0:t.filename},o)}},{key:"renderIcon",value:function(e){var t=["form-media__file-type","k-icon"];return e.metadata.redirect_url?t.push("k-icon-link"):t.push("k-icon-media-files"),a.a.createElement("i",{className:t.join(" ")})}},{key:"render",value:function(){var e,o,r,n=this;return a.a.createElement(S.a.FormView,{m:"form-media"},a.a.createElement(S.a.FormMedia,null,this.props.asset.deployment__active&&a.a.createElement(S.a.FormView__cell,{m:"warning"},a.a.createElement("i",{className:"k-icon k-icon-alert"}),a.a.createElement("p",null,t("You must redeploy this form to see media changes."))),a.a.createElement(S.a.FormMedia__title,null,a.a.createElement(S.a.FormMedia__label,null,t("Attach files")),oe.a.isReady&&oe.a.data.support_url&&a.a.createElement("a",{className:"title-help",target:"_blank",href:oe.a.data.support_url+"media.html","data-tip":t("Learn more about form media")},a.a.createElement("i",{className:"k-icon k-icon-help"}))),a.a.createElement(S.a.FormMedia__upload,null,!this.state.isUploadFilePending&&a.a.createElement(vt.a,{onDrop:this.onFileDrop.bind(this),className:"kobo-dropzone kobo-dropzone--form-media"},(null===(e=this.state.fieldsErrors)||void 0===e?void 0:e.base64Encoded)&&a.a.createElement(S.a.FormView__cell,{m:"error"},a.a.createElement("i",{className:"k-icon k-icon-alert"}),a.a.createElement("p",null,null===(o=this.state.fieldsErrors)||void 0===o?void 0:o.base64Encoded)),a.a.createElement("i",{className:"k-icon k-icon-upload"}),t("Drag and drop files here"),a.a.createElement("div",{className:"dropzone-description"},t("or")," ",a.a.createElement("a",null,t("click here to browse")))),this.state.isUploadFilePending&&a.a.createElement("div",{className:"kobo-dropzone kobo-dropzone--form-media"},a.a.createElement(q.a,{message:t("Uploading fileâ€¦")})),a.a.createElement(S.a.FormMediaUploadUrl,null,a.a.createElement(S.a.FormMediaUploadUrl__label,null,t("You can also add files using a URL")),a.a.createElement(S.a.FormMediaUploadUrl__form,null,a.a.createElement($e.a,{type:"url",placeholder:t("Paste URL here"),errors:null===(r=this.state.fieldsErrors)||void 0===r?void 0:r.metadata,value:this.state.inputURL,onChange:this.onInputURLChange}),this.renderButton()))),a.a.createElement(S.a.FormMedia__list,null,a.a.createElement(S.a.FormMedia__label,null,t("Attached files")),a.a.createElement("ul",null,(!this.state.isInitialised||this.state.isUploadFilePending||this.state.isUploadURLPending)&&a.a.createElement(S.a.FormMedia__listItem,null,a.a.createElement(q.a,{message:t("loading media")})),this.state.isInitialised&&!this.state.uploadedAssets.length&&a.a.createElement(S.a.FormMedia__listItem,null,t("No files uploaded yet")),this.state.uploadedAssets.map((function(e,t){return a.a.createElement(S.a.FormMedia__listItem,{key:t},n.renderIcon(e),n.renderFileName(e),a.a.createElement(S.a.KoboLightButton,{m:["red","icon-only"],onClick:function(t){return n.onDeleteMedia(t,e.url)}},a.a.createElement("i",{className:"k-icon k-icon-trash"})))}))))))}}])&&Id(o.prototype,r),n&&Id(o,n),s}(a.a.Component),qd=zd,Yd=qd,Gd=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(50,"MAX_ITEM_LENGTH","/srv/src/kpi/jsapp/js/components/modalForms/formMedia.es6"),__REACT_HOT_LOADER__.register("default","DEFAULT_MEDIA_DESCRIPTION","/srv/src/kpi/jsapp/js/components/modalForms/formMedia.es6"),__REACT_HOT_LOADER__.register("media.html","MEDIA_SUPPORT_URL","/srv/src/kpi/jsapp/js/components/modalForms/formMedia.es6"),__REACT_HOT_LOADER__.register(zd,"FormMedia","/srv/src/kpi/jsapp/js/components/modalForms/formMedia.es6"),__REACT_HOT_LOADER__.register(qd,"default","/srv/src/kpi/jsapp/js/components/modalForms/formMedia.es6")),r(460)),$d=Object.freeze({csv_legacy:{value:"csv_legacy",label:t("CSV (legacy)"),isLegacy:!0},csv:{value:"csv",label:t("CSV"),isLegacy:!1},geojson:{value:"geojson",label:t("GeoJSON"),isLegacy:!1},kml_legacy:{value:"kml_legacy",label:t("GPS coordinates (KML)"),isLegacy:!0},spss_labels:{value:"spss_labels",label:t("SPSS Labels"),isLegacy:!1},xls_legacy:{value:"xls_legacy",label:t("XLS (legacy)"),isLegacy:!0},xls:{value:"xls",label:t("XLS"),isLegacy:!1},zip_legacy:{value:"zip_legacy",label:t("Media Attachments (ZIP)"),isLegacy:!0}}),Qd=Object.freeze({_default:{value:"_default",label:t("Labels")},_xml:{value:"_xml",label:t("XML values and headers")}}),Kd=Object.freeze({details:{value:"details",label:t("Separate columns")},summary:{value:"summary",label:t("Single column")},both:{value:"both",label:t("Single and separate columns")}}),Wd=Object(A.createEnum)(["created","processing","complete","error"]),Jd=Object.freeze({CUSTOM_EXPORT_NAME:"",CUSTOM_SELECTION:!1,EXPORT_FORMAT:Qd._xml,EXPORT_MULTIPLE:Kd.both,EXPORT_TYPE:$d.xls,FLATTEN_GEO_JSON:!1,XLS_TYPES_AS_TEXT:!1,INCLUDE_MEDIA_URL:!0,GROUP_SEPARATOR:"/",INCLUDE_ALL_VERSIONS:!0,INCLUDE_GROUPS:!1,SAVE_CUSTOM_EXPORT:!1,SELECTED_ROWS:new Set});"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register($d,"EXPORT_TYPES","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsConstants.es6"),__REACT_HOT_LOADER__.register(Qd,"EXPORT_FORMATS","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsConstants.es6"),__REACT_HOT_LOADER__.register(Kd,"EXPORT_MULTIPLE_OPTIONS","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsConstants.es6"),__REACT_HOT_LOADER__.register(Wd,"EXPORT_STATUSES","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsConstants.es6"),__REACT_HOT_LOADER__.register(Jd,"DEFAULT_EXPORT_SETTINGS","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsConstants.es6"),__REACT_HOT_LOADER__.register(4e3,"EXPORT_REFRESH_TIME","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsConstants.es6"));function Xd(e){var t,o=Zd(e),r=null===(t=e.summary)||void 0===t?void 0:t.default_translation;return o.find((function(e){return r===e.value}))||o[0]}function Zd(e){var t,o=[];return(null===(t=e.summary)||void 0===t?void 0:t.languages.length)>=1&&e.summary.languages.forEach((function(e,t){null===e?o.push(Qd._default):o.push({value:e,label:e,langIndex:t})})),0===o.length&&o.push(Qd._default),o.push(Qd._xml),o}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Xd,"getContextualDefaultExportFormat","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsUtils.es6"),__REACT_HOT_LOADER__.register(Zd,"getExportFormatOptions","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsUtils.es6"));var eu=h.a.createStore({previousPath:s.f.getCurrentLocation().pathname,data:{exportType:Jd.EXPORT_TYPE},init:function(){s.f.listen(this.onRouteChange.bind(this))},onRouteChange:function(){this.isOnProjectDownloadsRoute()||(this.data.exportType=Jd.EXPORT_TYPE,this.trigger(this.data))},isOnProjectDownloadsRoute:function(){var e=s.f.getCurrentLocation().pathname;return"forms"===e.split("/")[1]&&"data"===e.split("/")[3]&&"downloads"===e.split("/")[3]},setExportType:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.data.exportType=e,t&&this.trigger(this.data)},getExportType:function(){return this.data.exportType}}),tu=eu,ou=tu;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(eu,"exportsStore","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsStore.es6"),__REACT_HOT_LOADER__.register(tu,"default","/srv/src/kpi/jsapp/js/components/projectDownloads/exportsStore.es6"));function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nu(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function au(e,t){return(au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function iu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=cu(e);if(t){var n=cu(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return lu(this,o)}}function lu(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?su(e):t}function su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cu(e){return(cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var du=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(s,e);var o,r,n,i=iu(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={selectedExportType:ou.getExportType()},t.unlisteners=[],l()(su(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(ou.listen(this.onExportsStoreChange))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onExportsStoreChange",value:function(){this.setState({selectedExportType:ou.getExportType()})}},{key:"onSelectedExportTypeChange",value:function(e){ou.setExportType(e)}},{key:"render",value:function(){var e=[$d.xls,$d.csv,$d.geojson,$d.spss_labels];return this.props.noLegacy||(e.push($d.csv_legacy),e.push($d.kml_legacy),e.push($d.xls_legacy),e.push($d.zip_legacy)),a.a.createElement("label",null,a.a.createElement(S.a.ProjectDownloads__title,null,t("Select export type")),a.a.createElement(Ge.a,{value:this.state.selectedExportType,options:e,onChange:this.onSelectedExportTypeChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isSearchable:!1,isDisabled:this.props.disabled}))}}])&&nu(o.prototype,r),n&&nu(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(du,"ExportTypeSelector","/srv/src/kpi/jsapp/js/components/projectDownloads/exportTypeSelector.es6");function uu(e){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pu(e){return function(e){if(Array.isArray(e))return mu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return mu(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return mu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function fu(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _u(e,t){return(_u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=yu(e);if(t){var n=yu(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return bu(this,o)}}function bu(e,t){return!t||"object"!==uu(t)&&"function"!=typeof t?gu(e):t}function gu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yu(e){return(yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vu=t("Latest unsaved settings"),ku=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_u(e,t)}(s,e);var o,r,n,i=hu(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isComponentReady:!1,isPending:!1,selectedExportType:ou.getExportType(),selectedExportFormat:Xd(t.props.asset),groupSeparator:Jd.GROUP_SEPARATOR,selectedExportMultiple:Jd.EXPORT_MULTIPLE,isIncludeGroupsEnabled:Jd.INCLUDE_GROUPS,isIncludeAllVersionsEnabled:Jd.INCLUDE_ALL_VERSIONS,isAdvancedViewVisible:!1,isSaveCustomExportEnabled:Jd.SAVE_CUSTOM_EXPORT,customExportName:Jd.CUSTOM_EXPORT_NAME,isCustomSelectionEnabled:Jd.CUSTOM_SELECTION,isFlattenGeoJsonEnabled:Jd.FLATTEN_GEO_JSON,isXlsTypesAsTextEnabled:Jd.XLS_TYPES_AS_TEXT,isIncludeMediaUrlEnabled:Jd.INCLUDE_MEDIA_URL,selectedRows:new Set,selectableRowsCount:0,selectedDefinedExport:null,definedExports:[],isUpdatingDefinedExportsList:!1},t.unlisteners=[];var o=t.getAllSelectableRows();return o&&(t.state.selectedRows=new Set(o),t.state.selectableRowsCount=t.state.selectedRows.size),l()(gu(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(ou.listen(this.onExportsStoreChange),w.a.exports.getExportSettings.completed.listen(this.onGetExportSettingsCompleted),w.a.exports.updateExportSetting.completed.listen(this.fetchExportSettings.bind(this,!0)),w.a.exports.createExportSetting.completed.listen(this.fetchExportSettings.bind(this,!0)),w.a.exports.deleteExportSetting.completed.listen(this.onDeleteExportSettingCompleted)),this.fetchExportSettings(!0)}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"setDefaultExportSettings",value:function(){ou.setExportType(Jd.EXPORT_TYPE),this.setState({selectedExportFormat:Xd(this.props.asset),groupSeparator:Jd.GROUP_SEPARATOR,selectedExportMultiple:Jd.EXPORT_MULTIPLE,isIncludeGroupsEnabled:Jd.INCLUDE_GROUPS,isIncludeAllVersionsEnabled:Jd.INCLUDE_ALL_VERSIONS,isSaveCustomExportEnabled:Jd.SAVE_CUSTOM_EXPORT,customExportName:Jd.CUSTOM_EXPORT_NAME,isCustomSelectionEnabled:Jd.CUSTOM_SELECTION,isFlattenGeoJsonEnabled:Jd.FLATTEN_GEO_JSON,isXlsTypesAsTextEnabled:Jd.XLS_TYPES_AS_TEXT,isIncludeMediaUrlEnabled:Jd.INCLUDE_MEDIA_URL,selectedRows:new Set(this.getAllSelectableRows())})}},{key:"onExportsStoreChange",value:function(){var e=ou.getExportType();if(e.value!==this.state.selectedExportType.value){var t={selectedExportType:e,isSaveCustomExportEnabled:!1,customExportName:""};this.setState(t)}}},{key:"onGetExportSettingsCompleted",value:function(e,t){var o=[];e.results.forEach((function(e,t){o.push({value:t,label:e.name?e.name:vu,data:e})})),this.setState({isUpdatingDefinedExportsList:!1,definedExports:o}),e.count>=1&&(null==t?void 0:t.preselectLastSettings)&&this.applyExportSettingToState(e.results[0]),this.state.isComponentReady||this.setState({isComponentReady:!0})}},{key:"onDeleteExportSettingCompleted",value:function(){this.clearSelectedDefinedExport(),this.fetchExportSettings()}},{key:"getAllSelectableRows",value:function(){var e,t,o=new Set;if(null===(e=this.props.asset)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.survey){var r=We.b.getSurveyFlatPaths(this.props.asset.content.survey,!1,!0);Object.values(r).forEach((function(e){o.add(e)})),Object.keys(A.ADDITIONAL_SUBMISSION_PROPS).forEach((function(e){o.add(e)}))}return o}},{key:"handleScheduledExport",value:function(e){"function"==typeof this.clearScheduledExport&&this.clearScheduledExport(),this.setState({isPending:!0});var t=e.export_settings;w.a.exports.createExport(this.props.asset.uid,t)}},{key:"fetchExportSettings",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({isUpdatingDefinedExportsList:!0}),w.a.exports.getExportSettings(this.props.asset.uid,{preselectLastSettings:e})}},{key:"onDeleteExportSetting",value:function(e,o){var r=this;o.preventDefault();var n=Ne.a.dialog("confirm"),a={title:t("Delete export settings?"),message:t("Are you sure you want to delete this settings? This action is not reversible."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){w.a.exports.deleteExportSetting(r.props.asset.uid,e)},oncancel:function(){n.destroy()}};n.set(a).show()}},{key:"onSelectedDefinedExportChange",value:function(e){null===e.value?(this.setDefaultExportSettings(),this.clearSelectedDefinedExport()):this.applyExportSettingToState(e.data)}},{key:"getSelectedDefinedExportOptions",value:function(){return[{value:null,label:t("None")}].concat(pu(this.state.definedExports))}},{key:"clearSelectedDefinedExport",value:function(){this.setState({selectedDefinedExport:null})}},{key:"onAnyInputChange",value:function(e,t){this.clearSelectedDefinedExport();var o={};o[e]=t,this.setState(o)}},{key:"onSelectedRowsChange",value:function(e){this.clearSelectedDefinedExport();var t=new Set;e.forEach((function(e){e.checked&&t.add(e.path)})),this.setState({selectedRows:t})}},{key:"selectAllRows",value:function(e){e.preventDefault(),this.clearSelectedDefinedExport(),this.setState({selectedRows:new Set(this.getAllSelectableRows())})}},{key:"clearSelectedRows",value:function(e){e.preventDefault(),this.clearSelectedDefinedExport(),this.setState({selectedRows:new Set})}},{key:"toggleAdvancedView",value:function(e){e.preventDefault(),this.setState({isAdvancedViewVisible:!this.state.isAdvancedViewVisible})}},{key:"applyExportSettingToState",value:function(e){ou.setExportType($d[e.export_settings.type],!1);var t=Zd(this.props.asset).find((function(t){return t.value===e.export_settings.lang}));t||(t=Xd(this.props.asset));var o=0!==e.export_settings.fields.length&&this.state.selectableRowsCount!==e.export_settings.fields.length,r={selectedExportType:$d[e.export_settings.type],selectedExportFormat:t,groupSeparator:e.export_settings.group_sep,selectedExportMultiple:Kd[e.export_settings.multiple_select],isIncludeGroupsEnabled:e.export_settings.hierarchy_in_labels,isIncludeAllVersionsEnabled:e.export_settings.fields_from_all_versions,isSaveCustomExportEnabled:"string"==typeof e.name&&e.name.length>=1,customExportName:e.name,isCustomSelectionEnabled:o,isFlattenGeoJsonEnabled:e.export_settings.flatten,isXlsTypesAsTextEnabled:e.export_settings.xls_types_as_text,isIncludeMediaUrlEnabled:e.export_settings.include_media_url,selectedRows:new Set(e.export_settings.fields)};0===r.selectedRows.size&&(r.selectedRows=new Set(this.getAllSelectableRows())),this.state.definedExports.forEach((function(t){t.data.name===e.name&&(r.selectedDefinedExport=t)})),this.setState(r)}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:"",export_settings:{fields_from_all_versions:this.state.isIncludeAllVersionsEnabled,fields:[],group_sep:this.state.groupSeparator,hierarchy_in_labels:this.state.isIncludeGroupsEnabled,lang:this.state.selectedExportFormat.value,multiple_select:this.state.selectedExportMultiple.value,type:this.state.selectedExportType.value}};this.state.selectedExportType.value===$d.geojson.value&&(t.export_settings.flatten=this.state.isFlattenGeoJsonEnabled),this.state.selectedExportType.value===$d.xls.value&&(t.export_settings.xls_types_as_text=this.state.isXlsTypesAsTextEnabled),this.state.selectedExportType.value!==$d.xls.value&&this.state.selectedExportType.value!==$d.csv.value||(t.export_settings.include_media_url=this.state.isIncludeMediaUrlEnabled),this.state.isSaveCustomExportEnabled&&(t.name=this.state.customExportName||this.generateExportName()),this.state.isCustomSelectionEnabled&&(t.export_settings.fields=Array.from(this.state.selectedRows));var o=this.state.definedExports.find((function(e){return e.data.name===t.name}));this.setState({isPending:!0}),"function"==typeof this.clearScheduledExport&&this.clearScheduledExport(),null===this.state.selectedDefinedExport&&O.a.permissions.userCan(A.PERMISSIONS_CODENAMES.manage_asset,this.props.asset)?o?(this.clearScheduledExport=w.a.exports.updateExportSetting.completed.listen(this.handleScheduledExport),w.a.exports.updateExportSetting(this.props.asset.uid,o.data.uid,t)):(this.clearScheduledExport=w.a.exports.createExportSetting.completed.listen(this.handleScheduledExport),w.a.exports.createExportSetting(this.props.asset.uid,t)):this.handleScheduledExport(t)}},{key:"generateExportName",value:function(){return"Export ".concat(Object(z.formatTimeDate)())}},{key:"getQuestionsList",value:function(){var e,t=We.b.getFlatQuestionsList(this.props.asset.content.survey,null===(e=this.state.selectedExportFormat)||void 0===e?void 0:e.langIndex,!0);return Object.keys(A.ADDITIONAL_SUBMISSION_PROPS).forEach((function(e){t.push({name:e,label:e,path:e})})),t}},{key:"renderRowsSelector",value:function(){var e=this,t=this.getQuestionsList().map((function(t){var o,r="";return r=e.state.selectedExportFormat.value===Qd._xml.value?t.path:(null===(o=t.parents)||void 0===o?void 0:o.length)>=1?t.parents.join(" / ")+" / "+t.label:t.label,{checked:e.state.selectedRows.has(t.path),disabled:!e.state.isCustomSelectionEnabled,label:r,path:t.path}}));return a.a.createElement(Pr,{items:t,onChange:this.onSelectedRowsChange})}},{key:"renderAdvancedView",value:function(){var e=a.a.createElement("span",null,t("Include data from all"),"Â ",a.a.createElement("strong",null,this.props.asset.deployed_versions.count),"Â ",t("versions")),o=[Kd.details,Kd.summary,Kd.both];return a.a.createElement(S.a.ProjectDownloads__advancedView,null,a.a.createElement(S.a.ProjectDownloads__column,{m:"left"},a.a.createElement("label",{className:"project-downloads__column-row"},a.a.createElement(S.a.ProjectDownloads__title,null,t("Export"),"Â ",a.a.createElement("em",null,t("Select Many")),"Â ",t("questions asâ€¦")),a.a.createElement(Ge.a,{value:this.state.selectedExportMultiple,options:o,onChange:this.onAnyInputChange.bind(this,"selectedExportMultiple"),className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",placeholder:t("Selectâ€¦"),isSearchable:!1})),a.a.createElement(S.a.ProjectDownloads__columnRow,null,a.a.createElement(Oo.a,{checked:this.state.isIncludeAllVersionsEnabled,onChange:this.onAnyInputChange.bind(this,"isIncludeAllVersionsEnabled"),label:e})),a.a.createElement(S.a.ProjectDownloads__columnRow,null,a.a.createElement(Oo.a,{checked:this.state.isIncludeGroupsEnabled,onChange:this.onAnyInputChange.bind(this,"isIncludeGroupsEnabled"),label:t("Include groups in headers")}),a.a.createElement($e.a,{disabled:!this.state.isIncludeGroupsEnabled,value:this.state.groupSeparator,onChange:this.onAnyInputChange.bind(this,"groupSeparator"),label:t("Group separator"),customModifiers:["on-white","group-separator",this.state.isIncludeGroupsEnabled?void 0:"group-separator-disabled"]})),this.state.selectedExportType.value===$d.geojson.value&&a.a.createElement(S.a.ProjectDownloads__columnRow,null,a.a.createElement(Oo.a,{checked:this.state.isFlattenGeoJsonEnabled,onChange:this.onAnyInputChange.bind(this,"isFlattenGeoJsonEnabled"),label:t("Flatten GeoJSON")})),this.state.selectedExportType.value===$d.xls.value&&a.a.createElement(S.a.ProjectDownloads__columnRow,null,a.a.createElement(Oo.a,{checked:this.state.isXlsTypesAsTextEnabled,onChange:this.onAnyInputChange.bind(this,"isXlsTypesAsTextEnabled"),label:t("Store date and number responses as text")})),(this.state.selectedExportType.value===$d.xls.value||this.state.selectedExportType.value==$d.csv.value)&&a.a.createElement(S.a.ProjectDownloads__columnRow,null,a.a.createElement(Oo.a,{checked:this.state.isIncludeMediaUrlEnabled,onChange:this.onAnyInputChange.bind(this,"isIncludeMediaUrlEnabled"),label:t("Include media URLs")})),a.a.createElement(S.a.ProjectDownloads__columnRow,null,a.a.createElement(Oo.a,{checked:this.state.isSaveCustomExportEnabled,onChange:this.onAnyInputChange.bind(this,"isSaveCustomExportEnabled"),label:t("Save selection asâ€¦")}),a.a.createElement($e.a,{disabled:!this.state.isSaveCustomExportEnabled,value:this.state.customExportName,onChange:this.onAnyInputChange.bind(this,"customExportName"),placeholder:t("Name your export settings"),customModifiers:["on-white","custom-export"]}))),a.a.createElement(S.a.ProjectDownloads__column,{m:"right"},a.a.createElement(S.a.ProjectDownloads__columnRow,{m:"rows-selector-header"},a.a.createElement(kd.a,{checked:this.state.isCustomSelectionEnabled,onChange:this.onAnyInputChange.bind(this,"isCustomSelectionEnabled"),label:t("Select questions to be exported")}),a.a.createElement(S.a.ProjectDownloads__textButton,{disabled:!this.state.isCustomSelectionEnabled||this.state.selectedRows.size===this.state.selectableRowsCount,onClick:this.selectAllRows},t("Select all")),a.a.createElement("span",{className:"project-downloads__vr"}),a.a.createElement(S.a.ProjectDownloads__textButton,{disabled:!this.state.isCustomSelectionEnabled||0===this.state.selectedRows.size,onClick:this.clearSelectedRows},t("Deselect all"))),this.renderRowsSelector()),a.a.createElement("hr",null))}},{key:"getGroupSeparatorLabel",value:function(){return a.a.createElement(S.a.ProjectDownloads__title,null,t("Group separator"))}},{key:"render",value:function(){var e=["project-downloads__exports-creator"];this.state.isComponentReady||e.push("project-downloads__exports-creator--loading");var o=Zd(this.props.asset);return a.a.createElement(S.a.FormView__cell,{m:["box","padding"]},a.a.createElement(S.a.FormView__form,{className:e.join(" ")},a.a.createElement(S.a.ProjectDownloads__selectorRow,null,a.a.createElement(du,null),a.a.createElement("label",null,a.a.createElement(S.a.ProjectDownloads__title,null,t("Value and header format")),a.a.createElement(Ge.a,{value:this.state.selectedExportFormat,options:o,onChange:this.onAnyInputChange.bind(this,"selectedExportFormat"),className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isSearchable:!1}))),a.a.createElement(S.a.ProjectDownloads__textButton,{onClick:this.toggleAdvancedView},t("Advanced options"),this.state.isAdvancedViewVisible&&a.a.createElement("i",{className:"k-icon k-icon-up"}),!this.state.isAdvancedViewVisible&&a.a.createElement("i",{className:"k-icon k-icon-down"})),a.a.createElement("hr",null),this.state.isAdvancedViewVisible&&this.renderAdvancedView(),a.a.createElement(S.a.ProjectDownloads__submitRow,null,a.a.createElement(S.a.ProjectDownloads__exportsSelector,null,this.state.definedExports.length>=1&&a.a.createElement(a.a.Fragment,null,a.a.createElement("label",null,a.a.createElement(S.a.ProjectDownloads__title,null,t("Apply saved export settings")),a.a.createElement(Ge.a,{isLoading:this.state.isUpdatingDefinedExportsList,value:this.state.selectedDefinedExport,options:this.getSelectedDefinedExportOptions(),onChange:this.onSelectedDefinedExportChange,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",placeholder:t("No export settings selected")})),this.state.selectedDefinedExport&&O.a.permissions.userCan(A.PERMISSIONS_CODENAMES.manage_asset,this.props.asset)&&a.a.createElement(S.a.ProjectDownloads__deleteSettingsButton,{onClick:this.onDeleteExportSetting.bind(this,this.state.selectedDefinedExport.data.uid)},a.a.createElement("i",{className:"k-icon k-icon-trash"})))),a.a.createElement(S.a.KoboButton,{m:"blue",type:"submit",onClick:this.onSubmit,disabled:0===this.state.selectedRows.size},t("Export")))))}}])&&fu(o.prototype,r),n&&fu(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(vu,"NAMELESS_EXPORT_NAME","/srv/src/kpi/jsapp/js/components/projectDownloads/projectExportsCreator.es6"),__REACT_HOT_LOADER__.register(ku,"ProjectExportsCreator","/srv/src/kpi/jsapp/js/components/projectDownloads/projectExportsCreator.es6"));function wu(e){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xu(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eu(e,t){return(Eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Su(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Ru(e);if(t){var n=Ru(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ou(this,o)}}function Ou(e,t){return!t||"object"!==wu(t)&&"function"!=typeof t?Tu(e):t}function Tu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ru(e){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Au=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}(s,e);var o,r,n,i=Su(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isComponentReady:!1,rows:[],selectedExportType:ou.getExportType()},t.unlisteners=[],t.fetchIntervals=new Map,l()(Tu(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(ou.listen(this.onExportsStoreChange),w.a.exports.getExports.completed.listen(this.onGetExports),w.a.exports.createExport.completed.listen(this.onCreateExport),w.a.exports.deleteExport.completed.listen(this.onDeleteExport),w.a.exports.getExport.completed.listen(this.onGetExport)),this.fetchExports()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()})),this.removeAllFetchIntervals()}},{key:"onExportsStoreChange",value:function(){this.setState({selectedExportType:ou.getExportType()})}},{key:"onGetExports",value:function(e){var t=this;e.results.forEach((function(e){t.prepareFetchInterval(e.uid,e.status)})),this.setState({isComponentReady:!0,rows:e.results})}},{key:"onCreateExport",value:function(e){this.fetchExport(e.uid)}},{key:"onDeleteExport",value:function(){this.fetchExports()}},{key:"onGetExport",value:function(e){this.prepareFetchInterval(e.uid,e.status);var t={rows:this.state.rows},o=!1;t.rows.forEach((function(r,n){r.uid===e.uid&&(t.rows[n]=e,o=!0)})),o||t.rows.unshift(e),this.setState(t)}},{key:"prepareFetchInterval",value:function(e,t){if(t!==Wd.error&&t!==Wd.complete&&!this.fetchIntervals.has(e)){var o=setInterval(this.fetchExport.bind(this,e),4e3);this.fetchIntervals.set(e,o)}t!==Wd.error&&t!==Wd.complete||this.removeFetchInterval(e)}},{key:"removeFetchInterval",value:function(e){clearInterval(this.fetchIntervals.get(e)),this.fetchIntervals.delete(e)}},{key:"removeAllFetchIntervals",value:function(){var e=this;this.fetchIntervals.forEach((function(t,o){e.removeFetchInterval(o)}))}},{key:"fetchExport",value:function(e){w.a.exports.getExport(this.props.asset.uid,e)}},{key:"fetchExports",value:function(){w.a.exports.getExports(this.props.asset.uid)}},{key:"deleteExport",value:function(e){var o=this,r=Ne.a.dialog("confirm"),n={title:t("Delete export?"),message:t("Are you sure you want to delete this export? This action is not reversible."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){w.a.exports.deleteExport(o.props.asset.uid,e)},oncancel:function(){r.destroy()}};r.set(n).show()}},{key:"renderBooleanAnswer",value:function(e){return e?t("Yes"):t("No")}},{key:"renderLanguage",value:function(e){var o=a.a.createElement("em",null,t("Unknown"));return null!==Object(We.g)(this.props.asset,e)?o=e:Qd[e]&&(o=Qd[e].label),o}},{key:"renderRow",value:function(e){var o,r;return a.a.createElement(S.a.SimpleTable__row,{key:e.uid},a.a.createElement(S.a.SimpleTable__cell,null,null===(o=$d[e.data.type])||void 0===o?void 0:o.label),a.a.createElement(S.a.SimpleTable__cell,null,Object(z.formatTime)(e.date_created)),a.a.createElement(S.a.SimpleTable__cell,null,this.renderLanguage(e.data.lang)),a.a.createElement(S.a.SimpleTable__cell,null,this.renderBooleanAnswer(e.data.hierarchy_in_labels)),a.a.createElement(S.a.SimpleTable__cell,null,this.renderBooleanAnswer(e.data.fields_from_all_versions)),a.a.createElement(S.a.SimpleTable__cell,null,e.status===Wd.complete&&a.a.createElement("a",{className:"kobo-light-button kobo-light-button--blue",href:e.result},a.a.createElement("i",{className:"k-icon k-icon-download"}),t("Download")),e.status===Wd.error&&a.a.createElement("span",{className:"right-tooltip","data-tip":null===(r=e.messages)||void 0===r?void 0:r.error},t("Export Failed")),e.status!==Wd.complete&&e.status!==Wd.error&&a.a.createElement("span",{className:"animate-processing"},t("Processingâ€¦")),O.a.permissions.userCan(A.PERMISSIONS_CODENAMES.view_submissions,this.props.asset)&&a.a.createElement(S.a.KoboLightButton,{m:["red","icon-only"],onClick:this.deleteExport.bind(this,e.uid)},a.a.createElement("i",{className:"k-icon k-icon-trash"}))))}},{key:"render",value:function(){return this.state.isComponentReady?0===this.state.rows.length||this.state.selectedExportType.isLegacy?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a.FormView__cell,{m:["page-subtitle"]},t("Exports")),a.a.createElement(S.a.SimpleTable,{m:"project-exports"},a.a.createElement(S.a.SimpleTable__header,null,a.a.createElement(S.a.SimpleTable__row,null,a.a.createElement(S.a.SimpleTable__cell,null,t("Type")),a.a.createElement(S.a.SimpleTable__cell,null,t("Created")),a.a.createElement(S.a.SimpleTable__cell,null,t("Language")),a.a.createElement(S.a.SimpleTable__cell,null,t("Include Groups")),a.a.createElement(S.a.SimpleTable__cell,null,t("Multiple Versions")),a.a.createElement(S.a.SimpleTable__cell,null))),a.a.createElement(S.a.SimpleTable__body,null,this.state.rows.map(this.renderRow),0===this.state.rows.length&&a.a.createElement(S.a.SimpleTable__messageRow,null,a.a.createElement(S.a.SimpleTable__cell,{colSpan:"6"},t("There is nothing to download yet.")))))):a.a.createElement(S.a.FormView__row,null,a.a.createElement(S.a.FormView__cell,null,a.a.createElement(q.a,null)))}}])&&xu(o.prototype,r),n&&xu(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Au,"ProjectExportsList","/srv/src/kpi/jsapp/js/components/projectDownloads/projectExportsList.es6");function Cu(e){return(Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ju(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pu(e,t){return(Pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Mu(e);if(t){var n=Mu(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Du(this,o)}}function Du(e,t){return!t||"object"!==Cu(t)&&"function"!=typeof t?Nu(e):t}function Nu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Iu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pu(e,t)}(s,e);var o,r,n,i=Lu(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={selectedExportType:ou.getExportType()},t.unlisteners=[],l()(Nu(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(ou.listen(this.onExportsStoreChange))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onExportsStoreChange",value:function(){this.setState({selectedExportType:ou.getExportType()})}},{key:"render",value:function(){return a.a.createElement(S.a.FormView__cell,{m:["box","padding"]},a.a.createElement(S.a.ProjectDownloads__selectorRow,null,a.a.createElement(du,null)),this.state.selectedExportType.value!==$d.zip_legacy.value&&a.a.createElement(S.a.FormView__cell,{m:"warning"},a.a.createElement("i",{className:"k-icon-alert"}),a.a.createElement("p",null,t("This export format will not be supported in the future. Please consider using one of the other export types available."))),a.a.createElement("div",{className:"project-downloads__legacy-iframe-wrapper"},a.a.createElement("iframe",{src:this.props.asset.deployment__data_download_links[this.state.selectedExportType.value]})))}}])&&ju(o.prototype,r),n&&ju(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Iu,"LegacyExports","/srv/src/kpi/jsapp/js/components/projectDownloads/legacyExports.es6");function Fu(e){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uu(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hu(e,t){return(Hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=qu(e);if(t){var n=qu(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Vu(this,o)}}function Vu(e,t){return!t||"object"!==Fu(t)&&"function"!=typeof t?zu(e):t}function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qu(e){return(qu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hu(e,t)}(s,e);var o,r,n,i=Bu(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={selectedExportType:ou.getExportType(),isPending:!1,exportUrl:null},t.unlisteners=[],t.fetchIntervalId=null,l()(zu(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(ou.listen(this.onExportsStoreChange),w.a.exports.createExport.completed.listen(this.onCreateExportCompleted),w.a.exports.getExport.completed.listen(this.onGetExportCompleted))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onExportsStoreChange",value:function(){this.setState({selectedExportType:ou.getExportType(),exportUrl:null})}},{key:"onCreateExportCompleted",value:function(e){this.fetchExport(e.uid)}},{key:"onGetExportCompleted",value:function(e){this.prepareFetchInterval(e.uid,e.status),e.status===Wd.complete&&(this.setState({isPending:!1,exportUrl:e.result}),this.downloadUrl(this.state.exportUrl))}},{key:"onSubmit",value:function(){if(this.state.exportUrl)this.downloadUrl(this.state.exportUrl);else{this.setState({isPending:!0});var e=Xd(this.props.asset);w.a.exports.createExport(this.props.asset.uid,{type:this.state.selectedExportType.value,fields_from_all_versions:Jd.INCLUDE_ALL_VERSIONS,group_sep:Jd.GROUP_SEPARATOR,hierarchy_in_labels:Jd.INCLUDE_GROUPS,lang:e.value,multiple_select:Jd.EXPORT_MULTIPLE.value})}}},{key:"prepareFetchInterval",value:function(e,t){if(t!==Wd.error&&t!==Wd.complete&&!this.fetchIntervalId){var o=setInterval(this.fetchExport.bind(this,e),4e3);this.fetchIntervalId=o}t!==Wd.error&&t!==Wd.complete||this.removeFetchInterval()}},{key:"removeFetchInterval",value:function(){clearInterval(this.fetchIntervalId),this.fetchIntervalId=null}},{key:"fetchExport",value:function(e){w.a.exports.getExport(this.props.asset.uid,e)}},{key:"downloadUrl",value:function(e){var t=document.createElement("a"),o=e.split("/"),r=o[o.length-1];t.href=e,t.setAttribute("download",r),t.click()}},{key:"render",value:function(){var e=["blue"];return this.state.isPending&&e.push("pending"),a.a.createElement(S.a.FormView__cell,{m:["box","padding"]},a.a.createElement(S.a.ProjectDownloads__anonymousRow,null,a.a.createElement(S.a.ProjectDownloads__exportsSelector,null,a.a.createElement(du,{disabled:this.state.isPending,noLegacy:!0})),a.a.createElement(S.a.KoboButton,{m:e,type:"submit",onClick:this.onSubmit,disabled:this.state.isPending},t("Export"),this.state.isPending&&a.a.createElement("i",{className:"k-spin k-icon k-icon-spinner"}))))}}])&&Uu(o.prototype,r),n&&Uu(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Yu,"AnonymousExports","/srv/src/kpi/jsapp/js/components/projectDownloads/anonymousExports.es6");function Gu(e){return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $u(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qu(e,t){return(Qu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ku(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Xu(e);if(t){var n=Xu(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Wu(this,o)}}function Wu(e,t){return!t||"object"!==Gu(t)&&"function"!=typeof t?Ju(e):t}function Ju(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qu(e,t)}(s,e);var o,r,n,i=Ku(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={selectedExportType:ou.getExportType()},t.unlisteners=[],l()(Ju(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(ou.listen(this.onExportsStoreChange))}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"onExportsStoreChange",value:function(){this.setState({selectedExportType:ou.getExportType()})}},{key:"renderLoggedInExports",value:function(){return this.state.selectedExportType.isLegacy?a.a.createElement(Iu,{asset:this.props.asset}):a.a.createElement(a.a.Fragment,null,a.a.createElement(ku,{asset:this.props.asset}),a.a.createElement(Au,{asset:this.props.asset}))}},{key:"render",value:function(){var e=this.props.asset.name||t("Untitled");return a.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(S.a.FormView,{className:"project-downloads"},a.a.createElement(S.a.FormView__row,null,a.a.createElement(S.a.FormView__cell,{m:["page-title"]},t("Downloads")),b.a.session.isLoggedIn&&this.renderLoggedInExports(),!b.a.session.isLoggedIn&&a.a.createElement(Yu,{asset:this.props.asset}))))}}])&&$u(o.prototype,r),n&&$u(o,n),s}(a.a.Component),ep=("undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Zu,"ProjectDownloads","/srv/src/kpi/jsapp/js/components/projectDownloads/projectDownloads.es6"),r(152)),tp=r.n(ep),op=r(465),rp=r.n(op),np=(r(632),r(634),r(66)),ap=r.n(np),ip=(r(636),r(641),r(642),r(643),r(466));function lp(e){return(lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sp(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cp(e,t){return(cp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=mp(e);if(t){var n=mp(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return up(this,o)}}function up(e,t){return!t||"object"!==lp(t)&&"function"!=typeof t?pp(e):t}function pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mp(e){return(mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fp=ap.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:["a","b","c"]}),_p={OpenStreetMap:fp,OpenTopoMap:ap.a.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}),"ESRI World Imagery":ap.a.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),Humanitarian:ap.a.tileLayer("https://tile-{s}.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'Tiles &copy; Humanitarian OpenStreetMap Team &mdash; &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'})},hp=ap.a.control.layers(_p),bp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cp(e,t)}(c,e);var o,r,n,i=dp(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=i.call(this,e);var o=e.asset.content.survey,r=!1;return o.forEach((function(e){e.type===A.QUESTION_TYPES.geopoint.id&&(r=!0)})),t.state={map:!1,markers:!1,heatmap:!1,markersVisible:!0,markerMap:!1,fields:[],hasGeoPoint:r,submissions:[],error:!1,isFullscreen:!1,showExpandedLegend:!0,langIndex:0,filteredByMarker:!1,componentRefreshed:!1,showMapSettings:!1,overridenStyles:!1,clearDisaggregatedPopover:!1,noData:!1},l()(pp(t)),t}return o=c,n=[{key:"getDerivedStateFromProps",value:function(e,t){var o={previousViewby:e.viewby};return void 0!==e.viewby&&(o.markersVisible=!0),t.previousViewby!==e.viewby&&(o.filteredByMarker=!1,o.componentRefreshed=!0),o}}],(r=[{key:"componentWillUnmount",value:function(){this.state.map&&this.state.map.remove()}},{key:"componentDidMount",value:function(){var e=[],o=["select_one","select_multiple","integer","decimal","text"];this.props.asset.content.survey.forEach((function(t){o.includes(t.type)&&e.push(t)})),ap.a.Marker.prototype.options.icon=ap.a.divIcon({className:"map-marker default-overlay-marker",iconSize:[12,12]});var r=ap.a.map("data-map",{maxZoom:17,scrollWheelZoom:!1,preferCanvas:!0});fp.addTo(r),hp.addTo(r),this.setState({map:r,fields:e}),this.props.asset.deployment__submission_count>A.QUERY_LIMIT_DEFAULT&&Object(z.notify)(t("By default map is limited to the ##number##  most recent submissions for performance reasons. Go to map settings to increase this limit.").replace("##number##",A.QUERY_LIMIT_DEFAULT)),this.requestData(r,this.props.viewby),this.listenTo(w.a.map.setMapStyles.started,this.onSetMapStylesStarted),this.listenTo(w.a.map.setMapStyles.completed,this.onSetMapStylesCompleted),this.listenTo(w.a.resources.getAssetFiles.completed,this.updateOverlayList),w.a.resources.getAssetFiles(this.props.asset.uid,A.ASSET_FILE_TYPES.map_layer.id)}},{key:"loadOverlayLayers",value:function(e){qr.a.getAssetFiles(this.props.asset.uid,A.ASSET_FILE_TYPES.map_layer.id).done((function(e){}))}},{key:"updateOverlayList",value:function(e){var t=this.state.map;hp._layers.forEach((function(o){o.overlay&&(e.results.filter((function(e){return e.name===o.name})).length||(hp.removeLayer(o.layer),t.removeLayer(o.layer)))})),e.results.forEach((function(e){if("map_layer"!==e.file_type)return!1;if(hp._layers.filter((function(t){return t.name===e.name})).length)return!1;var o=!1;switch(e.metadata.type){case"kml":o=tp.a.kml(e.content);break;case"csv":o=tp.a.csv(e.content);break;case"json":case"geojson":o=tp.a.geojson(e.content);break;case"wkt":o=tp.a.wkt(e.content);break;case"kmz":fetch(e.content).then((function(e){return 200===e.status||0===e.status?Promise.resolve(e.blob()):Promise.reject(new Error(e.statusText))})).then(rp.a.loadAsync).then((function(e){return e.file("doc.kml").async("string")})).then((function(r){o=tp.a.kml.parse(r),hp.addOverlay(o,e.name),o.addTo(t)}))}o&&(o.on("ready",(function(){o.eachLayer((function(e){var t=e.feature.properties,o=t.name||t.title||t.NAME||t.TITLE;o?e.bindPopup(o):e.bindPopup("<pre>"+JSON.stringify(t,null,2).replace(/[{}"]/g,"")+"</pre>")}))})),hp.addOverlay(o,e.name),o.addTo(t))}))}},{key:"onSetMapStylesCompleted",value:function(){this.setState({overridenStyles:!1})}},{key:"onSetMapStylesStarted",value:function(e,t){t.colorSet||(t.colorSet="a"),t.querylimit||(t.querylimit=A.QUERY_LIMIT_DEFAULT.toString()),this.overrideStyles(t)}},{key:"requestData",value:function(e){var o=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.props.asset.map_styles.selectedQuestion||null;this.props.asset.content.survey.forEach((function(e){void 0!==e.label&&null!==e.label&&n===e.label[0]&&e.type!==A.QUESTION_TYPES.geopoint.id&&(n=null)}));var a=A.QUERY_LIMIT_DEFAULT;this.state.overridenStyles&&this.state.overridenStyles.querylimit?a=this.state.overridenStyles.querylimit:this.props.asset.map_styles.querylimit&&(a=this.props.asset.map_styles.querylimit);var i=["_id","_geolocation"];n&&i.push(n),r&&i.push(this.nameOfFieldInGroup(r));var l=[{id:"_id",desc:!0}];qr.a.getSubmissions(this.props.asset.uid,a,0,l,i).done((function(t){var r=t.results;n&&r.forEach((function(e,t){if(e[n]){var o=e[n].split(" ");r[t]._geolocation[0]=o[0],r[t]._geolocation[1]=o[1]}})),o.setState({submissions:r}),o.buildMarkers(e),o.buildHeatMap(e)})).fail((function(e){e.responseText?o.setState({error:e.responseText,loading:!1}):e.statusText?o.setState({error:e.statusText,loading:!1}):o.setState({error:t("Error: could not load data."),loading:!1})}))}},{key:"calculateClusterRadius",value:function(e){return e>=12?12:20}},{key:"calcColorSet",value:function(){var e;if(this.state.overridenStyles&&this.state.overridenStyles.colorSet)e=this.state.overridenStyles.colorSet;else{var t=this.props.asset.map_styles;e=t.colorSet?t.colorSet:void 0}return e}},{key:"buildMarkers",value:function(e){var o,r=this,n=[],a=this.props.viewby||void 0,i=this.calcColorSet(),l=[];if(a){var s=this.prepFilteredMarkers(this.state.submissions,this.props.viewby),c=[],d=this.props.asset.content.choices,u=this.props.asset.content.survey.find((function(e){return e.name===a||e.$autoname===a}));u&&"select_one"===u.type&&(l=d.filter((function(e){return e.list_name===u.select_from_list_name}))),Object.keys(s).map((function(e,t){if(u&&"select_one"===u.type)var o=l.find((function(t){return t.name===e||t.$autoname===e}));c.push({count:s[e].count,id:s[e].id,labels:o?o.label:void 0,value:"undefined"!=e?e:void 0})})),void 0!==i&&"a"!==i&&u&&"select_one"==u.type?c.sort((function(e,t){return l.findIndex((function(t){return t.name===e.value}))-l.findIndex((function(e){return e.name===t.value}))})):c.sort((function(e,t){return e.count-t.count})).reverse();var p=c.find((function(e){return void 0===e.value}));p&&(c=c.filter((function(e){return e!==p}))).push(p),this.setState({markerMap:c})}else this.setState({markerMap:!1});this.state.submissions.forEach((function(e){var t={};if(Object(z.checkLatLng)(e._geolocation)){if(a&&c){var o=e[r.nameOfFieldInGroup(a)],l=c.findIndex((function(e){return e.value===o}));void 0!==i&&"a"!==i&&(l=r.calculateIconIndex(l,c)),t={icon:r.buildIcon(l+1),sId:e._id,typeId:s[o].id}}else t={icon:r.buildIcon(),sId:e._id,typeId:null};n.push(ap.a.marker(e._geolocation,t))}})),n.length>=0?(a?o=ap.a.featureGroup(n):(o=ap.a.markerClusterGroup({maxClusterRadius:this.calculateClusterRadius,disableClusteringAtZoom:16,iconCreateFunction:function(e){var t=e.getChildCount(),o="marker-cluster marker-cluster-";return o+=t<10?"small":t<100?"medium":"large",new ap.a.divIcon({html:"<div><span>"+t+"</span></div>",className:o,iconSize:new ap.a.Point(30,30)})}})).addLayers(n),o.on("click",this.launchSubmissionModal).addTo(e),!(n.length>0)||a&&this.state.componentRefreshed||e.fitBounds(o.getBounds()),0==n&&(e.fitBounds([[42.373,-71.124]]),this.setState({noData:!0})),this.setState({markers:o})):this.setState({error:t("Error: could not load data."),loading:!1})}},{key:"calculateIconIndex",value:function(e,t){if(t[e]&&null==t[e].value)return"-novalue";var o=t.find((function(e){return void 0===e.value}));if(o&&(t=t.filter((function(e){return e!==o}))),t.length>=9)return e;var r=e/t.length*9.5;return Math.round(r)}},{key:"buildIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.calcColorSet()||"a",o=e?"map-marker-".concat(t).concat(e):"map-marker-a";return ap.a.divIcon({className:"map-marker ".concat(o),iconSize:[20,20]})}},{key:"prepFilteredMarkers",value:function(e,t){var o=new Object,r=this.nameOfFieldInGroup(t),n=1;return e.forEach((function(e,t){var a=e[r];null==o[a]?(o[a]={count:1,id:n},n++):o[a].count+=1})),o}},{key:"buildHeatMap",value:function(e){var t=[];this.state.submissions.forEach((function(e){Object(z.checkLatLng)(e._geolocation)&&t.push([e._geolocation[0],e._geolocation[1],1])}));var o=ap.a.heatLayer(t,{minOpacity:.25,radius:20,blur:8});this.state.markersVisible||e.addLayer(o),this.setState({heatmap:o})}},{key:"showMarkers",value:function(){var e=this.state.map;e.addLayer(this.state.markers),e.removeLayer(this.state.heatmap),this.setState({markersVisible:!0})}},{key:"showLayerControls",value:function(){hp.expand()}},{key:"showHeatmap",value:function(){var e=this.state.map;e.addLayer(this.state.heatmap),e.removeLayer(this.state.markers),this.setState({markersVisible:!1})}},{key:"filterMap",value:function(e){var t=this;this.setState({clearDisaggregatedPopover:!0}),window.setTimeout((function(){t.setState({clearDisaggregatedPopover:!1})}),1e3);var o=e.target.getAttribute("data-name")||void 0;null!=o?s.f.push("/forms/".concat(this.props.asset.uid,"/data/map/").concat(o)):s.f.push("/forms/".concat(this.props.asset.uid,"/data/map"))}},{key:"filterLanguage",value:function(e){var t=e.target.getAttribute("data-index");this.setState({langIndex:t})}},{key:"componentDidUpdate",value:function(e){if(e.viewby!==this.props.viewby){var t=this.refreshMap();this.requestData(t,this.props.viewby)}}},{key:"refreshMap",value:function(){var e=this.state.map;return e.removeLayer(this.state.markers),e.removeLayer(this.state.heatmap),e}},{key:"launchSubmissionModal",value:function(e){var t=this.state.submissions,o=[];t.forEach((function(e){o.push(e._id)})),b.a.pageState.showModal({type:A.MODAL_TYPES.SUBMISSION,sid:e.layer.options.sId,asset:this.props.asset,ids:o})}},{key:"toggleMapSettings",value:function(){this.setState({showMapSettings:!this.state.showMapSettings})}},{key:"overrideStyles",value:function(e){var t=this;this.setState({filteredByMarker:!1,componentRefreshed:!0,overridenStyles:e});var o=this.refreshMap();window.setTimeout((function(){t.requestData(o,t.props.viewby)}),0)}},{key:"toggleFullscreen",value:function(){this.setState({isFullscreen:!this.state.isFullscreen});var e=this.state.map;setTimeout((function(){e.invalidateSize()}),300)}},{key:"toggleLegend",value:function(){this.setState({showExpandedLegend:!this.state.showExpandedLegend})}},{key:"filterByMarker",value:function(e){var t=this.state.markers,o=e.target.getAttribute("data-id"),r=this.state.filteredByMarker;r?r.includes(o)?r=r.filter((function(e){return e!==o})):r.push(o):r=[o],this.setState({filteredByMarker:r}),t.eachLayer((function(e){r.includes(e.options.typeId.toString())?e._icon.classList.remove("unselected"):e._icon.classList.add("unselected")}))}},{key:"resetFilterByMarker",value:function(){var e=this.state.markers;this.setState({filteredByMarker:!1}),e.eachLayer((function(e){e._icon.classList.remove("unselected")}))}},{key:"nameOfFieldInGroup",value:function(e){return Object(We.j)(this.props.asset.content.survey)[e]}},{key:"render",value:function(){var e=this;if(this.state.error)return a.a.createElement(S.a.uiPanel,null,a.a.createElement(S.a.uiPanel__body,null,a.a.createElement(S.a.Loading,null,a.a.createElement(S.a.Loading__inner,null,this.state.error))));var o=this.state.fields,r=this.state.langIndex,n=this.props.asset.content.translations.length>1?this.props.asset.content.translations:[],i=this.props.viewby,l=this.calcColorSet()||"a",s=t("Disaggregate by survey responses");i?o.forEach((function(e){i!==e.name&&i!==e.$autoname||(s="".concat(t("Disaggregated using:")," ").concat(e.label[r]))})):this.state.noData&&this.state.hasGeoPoint?s="".concat(t('No "geopoint" responses have been received')):this.state.hasGeoPoint||(s="".concat(t('The map does not show data because this form does not have a "geopoint" field.')));var c=["map"];return this.state.isFullscreen&&c.push("fullscreen"),a.a.createElement(S.a.FormView,{m:c,className:"right-tooltip"},a.a.createElement(S.a.FormView__mapButton,{m:"expand",onClick:this.toggleFullscreen,"data-tip":t("Toggle Fullscreen"),className:this.state.toggleFullscreen?"active":""},a.a.createElement("i",{className:"k-icon k-icon-expand"})),a.a.createElement(S.a.FormView__mapButton,{m:"markers",onClick:this.showMarkers,"data-tip":t("Show as points"),className:this.state.markersVisible?"active":""},a.a.createElement("i",{className:"k-icon k-icon-pins"})),a.a.createElement(S.a.FormView__mapButton,{m:"layers",onClick:this.showLayerControls,"data-tip":t("Toggle layers")},a.a.createElement("i",{className:"k-icon k-icon-layer"})),a.a.createElement(S.a.FormView__mapButton,{m:"map-settings",onClick:this.toggleMapSettings,"data-tip":t("Map display settings")},a.a.createElement("i",{className:"k-icon k-icon-settings"})),!i&&a.a.createElement(S.a.FormView__mapButton,{m:"heatmap",onClick:this.showHeatmap,"data-tip":t("Show as heatmap"),className:this.state.markersVisible?"":"active"},a.a.createElement("i",{className:"k-icon k-icon-heatmap"})),this.state.hasGeoPoint&&!this.state.noData&&a.a.createElement(fi.a,{type:"viewby-menu",triggerLabel:s,m:"above",clearPopover:this.state.clearDisaggregatedPopover,blurEventDisabled:!0},n.length>1&&a.a.createElement(S.a.PopoverMenu__heading,null,t("Language")),n.map((function(o,r){return a.a.createElement(S.a.PopoverMenu__link,{"data-index":r,className:e.state.langIndex==r?"active":"",key:"l-".concat(r),onClick:e.filterLanguage},o||t("Default"))})),a.a.createElement(S.a.PopoverMenu__link,{key:"all",onClick:this.filterMap,className:i?"see-all":"active see-all"},t("-- See all data --")),o.map((function(o){var n=o.name||o.$autoname,l=o.label?o.label[r]?o.label[r]:a.a.createElement("em",null,t("untranslated: ")+n):t("Question label not set");return a.a.createElement(S.a.PopoverMenu__link,{"data-name":n,key:"f-".concat(n),onClick:e.filterMap,className:i==n?"active":""},l)}))),this.state.noData&&!this.state.hasGeoPoint&&a.a.createElement("div",{className:"map-transparent-background"},a.a.createElement("div",{className:"map-no-geopoint-wrapper"},a.a.createElement("p",{className:"map-no-geopoint"},t('The map does not show data because this form does not have a "geopoint" field.')))),this.state.noData&&this.state.hasGeoPoint&&a.a.createElement("div",{className:"map-transparent-background"},a.a.createElement("div",{className:"map-no-geopoint-wrapper"},a.a.createElement("p",{className:"map-no-geopoint"},t('No "geopoint" responses have been received')))),this.state.markerMap&&this.state.markersVisible&&a.a.createElement(S.a.FormView__mapList,{className:this.state.showExpandedLegend?"expanded":"collapsed"},a.a.createElement("div",{className:"maplist-contents"},this.state.filteredByMarker&&a.a.createElement("div",{key:"m-reset",className:"map-marker-item map-marker-reset",onClick:this.resetFilterByMarker},t("Reset")),this.state.markerMap.map((function(o,n){var i="map-marker-item ";e.state.filteredByMarker&&(i+=e.state.filteredByMarker.includes(o.id.toString())?"selected":"unselected");var s=o.labels?o.labels[r]:o.value?o.value:t("not set"),c=n;return void 0!==l&&"a"!==l&&(c=e.calculateIconIndex(c,e.state.markerMap)),a.a.createElement("div",{key:"m-".concat(n),className:i},a.a.createElement("span",{className:"map-marker map-marker-".concat(l).concat(c+1)},o.count),a.a.createElement("span",{className:"map-marker-label",onClick:e.filterByMarker,"data-id":o.id,title:s},s))}))),a.a.createElement("div",{className:"maplist-legend",onClick:this.toggleLegend},a.a.createElement("i",{className:_o()("k-icon",this.state.showExpandedLegend?"k-icon-down":"k-icon-up")})," ",t("Legend"))),!this.state.markers&&!this.state.heatmap&&a.a.createElement(S.a.Loading,null,a.a.createElement(S.a.Loading__inner,null,a.a.createElement("i",{className:"k-spin k-icon k-icon-spinner"}))),this.state.showMapSettings&&a.a.createElement(Me.a,{open:!0,onClose:this.toggleMapSettings,title:t("Map Settings")},a.a.createElement(ip.a,{asset:this.props.asset,toggleMapSettings:this.toggleMapSettings,overrideStyles:this.overrideStyles,overridenStyles:this.state.overridenStyles})),a.a.createElement("div",{id:"data-map"}))}}])&&sp(o.prototype,r),n&&sp(o,n),c}(a.a.Component);f()(bp.prototype,h.a.ListenerMixin);var gp=bp,yp=gp;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(fp,"streets","/srv/src/kpi/jsapp/js/components/map.es6"),__REACT_HOT_LOADER__.register(_p,"baseLayers","/srv/src/kpi/jsapp/js/components/map.es6"),__REACT_HOT_LOADER__.register(hp,"controls","/srv/src/kpi/jsapp/js/components/map.es6"),__REACT_HOT_LOADER__.register(bp,"FormMap","/srv/src/kpi/jsapp/js/components/map.es6"),__REACT_HOT_LOADER__.register(gp,"default","/srv/src/kpi/jsapp/js/components/map.es6"));function vp(e){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kp(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wp(e,t){return(wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Op(e);if(t){var n=Op(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Ep(this,o)}}function Ep(e,t){return!t||"object"!==vp(t)&&"function"!=typeof t?Sp(e):t}function Sp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Op(e){return(Op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wp(e,t)}(s,e);var o,r,n,i=xp(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isLoadingHooks:!0,assetUid:e.assetUid,hooks:[]},l()(Sp(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){var e=this;this.listenTo(w.a.hooks.getAll.completed,this.onHooksUpdate),w.a.hooks.getAll(this.state.assetUid,{onComplete:function(t){e.setState({isLoadingHooks:!1,hooks:t.results})},onFail:function(o){e.setState({isLoadingHooks:!1}),Ne.a.error(t("Could not load REST Services"))}})}},{key:"onHooksUpdate",value:function(e){this.setState({isLoadingHooks:!1,hooks:e.results})}},{key:"editHook",value:function(e){b.a.pageState.showModal({assetUid:this.state.assetUid,type:A.MODAL_TYPES.REST_SERVICES,hookUid:e.currentTarget.dataset.hookUid})}},{key:"deleteHookSafe",value:function(e){var o=this,r=e.currentTarget.dataset.hookName,n=e.currentTarget.dataset.hookUid;if(this.state.assetUid){var a=Ne.a.dialog("confirm"),i={title:t("Are you sure you want to delete ##target?").replace("##target",r),message:t("You are about to delete ##target. This action cannot be undone.").replace("##target","<strong>".concat(r,"</strong>")),labels:{ok:t("Confirm"),cancel:t("Cancel")},onok:function(){w.a.hooks.delete(o.state.assetUid,n)},oncancel:function(){a.destroy()}};a.set(i).show()}}},{key:"openNewRESTServiceModal",value:function(){b.a.pageState.showModal({assetUid:this.state.assetUid,type:A.MODAL_TYPES.REST_SERVICES})}},{key:"getSupportUrl",value:function(){if(oe.a.isReady&&oe.a.data.support_url)return oe.a.data.support_url+"rest_services.html"}},{key:"renderModalButton",value:function(){return a.a.createElement(S.a.KoboButton,{m:"blue",onClick:this.openNewRESTServiceModal},t("Register a New Service"))}},{key:"renderEmptyView",value:function(){return a.a.createElement(S.a.FormView,{m:"form-settings",className:"rest-services rest-services--empty"},a.a.createElement(S.a.EmptyContent,null,a.a.createElement(S.a.EmptyContent__icon,{className:"k-icon k-icon-data-sync"}),a.a.createElement(S.a.EmptyContent__title,null,t("This project doesn't have any REST Services yet!")),a.a.createElement(S.a.EmptyContent__message,null,t("You can use REST Services to automatically post submissions to a third-party application."),"Â ",a.a.createElement("a",{href:this.getSupportUrl(),target:"_blank"},t("Learn more"))),this.renderModalButton()))}},{key:"renderListView",value:function(){var e=this;return a.a.createElement(S.a.FormView,{m:"form-settings",className:"rest-services"},a.a.createElement(S.a.FormView__cell,{m:"rest-services-list"},a.a.createElement("header",{className:"rest-services-list__header"},a.a.createElement("h2",{className:"rest-services-list__header-label"},t("REST Services: ##number##").replace("##number##",this.state.hooks.length)),a.a.createElement("a",{className:"rest-services-list__header-help-link rest-services-list__header-right",href:this.getSupportUrl(),target:"_blank"},a.a.createElement("i",{className:"k-icon k-icon-help"}),t("Need help?"))),a.a.createElement(S.a.FormView__cell,{m:["box"]},a.a.createElement(S.a.ServiceRow,{m:"header"},a.a.createElement(S.a.ServiceRow__column,{m:"name"},t("Service Name")),a.a.createElement(S.a.ServiceRow__column,{m:"count"},t("Success")),a.a.createElement(S.a.ServiceRow__column,{m:"count"},t("Pending")),a.a.createElement(S.a.ServiceRow__column,{m:"count"},t("Failed")),a.a.createElement(S.a.ServiceRow__column,{m:"actions"})),this.state.hooks.map((function(o){var r="/#/forms/".concat(e.state.assetUid,"/settings/rest/").concat(o.uid);return a.a.createElement(S.a.ServiceRow,{key:o.uid,m:o.active?"active":"inactive"},a.a.createElement(S.a.ServiceRow__linkOverlay,{href:r}),a.a.createElement(S.a.ServiceRow__column,{m:"name"},o.name),a.a.createElement(S.a.ServiceRow__column,{m:"count"},o.success_count),a.a.createElement(S.a.ServiceRow__column,{m:"count"},o.pending_count),a.a.createElement(S.a.ServiceRow__column,{m:"count"},o.failed_count),a.a.createElement(S.a.ServiceRow__column,{m:"actions"},a.a.createElement(S.a.ServiceRow__actionButton,{onClick:e.editHook,"data-hook-uid":o.uid,"data-tip":t("Edit")},a.a.createElement("i",{className:"k-icon k-icon-edit"})),a.a.createElement(S.a.ServiceRow__actionButton,{onClick:e.deleteHookSafe.bind(e),"data-hook-name":o.name,"data-hook-uid":o.uid,"data-tip":t("Delete")},a.a.createElement("i",{className:"k-icon k-icon-trash"}))))})))),this.renderModalButton())}},{key:"render",value:function(){return this.state.isLoadingHooks?a.a.createElement(q.a,null):0===this.state.hooks.length?this.renderEmptyView():this.renderListView()}}])&&kp(o.prototype,r),n&&kp(o,n),s}(a.a.Component);f()(Tp.prototype,h.a.ListenerMixin);"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register("rest_services.html","REST_SERVICES_SUPPORT_URL","/srv/src/kpi/jsapp/js/components/RESTServices/RESTServicesList.es6"),__REACT_HOT_LOADER__.register(Tp,"RESTServicesList","/srv/src/kpi/jsapp/js/components/RESTServices/RESTServicesList.es6"));var Rp=r(467);r(645);function Ap(e){return(Ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cp(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jp(e,t){return(jp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Np(e);if(t){var n=Np(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Lp(this,o)}}function Lp(e,t){return!t||"object"!==Ap(t)&&"function"!=typeof t?Dp(e):t}function Dp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Np(e){return(Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jp(e,t)}(s,e);var o,r,n,i=Pp(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),t=i.call(this,e),l()(Dp(t)),t}return o=s,(r=[{key:"render",value:function(){var e=this.props.asset.name||t("Untitled");return a.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(a.a.Fragment,null,this.props.hookUid&&a.a.createElement(Rp.a,{assetUid:this.props.asset.uid,hookUid:this.props.hookUid}),!this.props.hookUid&&a.a.createElement(Tp,{assetUid:this.props.asset.uid})))}}])&&Cp(o.prototype,r),n&&Cp(o,n),s}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Mp,"RESTServices","/srv/src/kpi/jsapp/js/components/RESTServices.es6");function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fp(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Up(e,t){return(Up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=zp(e);if(t){var n=zp(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Bp(this,o)}}function Bp(e,t){return!t||"object"!==Ip(t)&&"function"!=typeof t?Vp(e):t}function Vp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zp(e){return(zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Up(e,t)}(s,e);var o,r,n,i=Hp(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={},l()(Vp(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.listenTo(Pt.a,this.dmixAssetStoreChange);var e=this.props.params.assetid||this.props.uid||this.props.params.uid;e&&w.a.resources.loadAsset({id:e})}},{key:"render",value:function(){if(!this.state.permissions)return!1;var e="",o="";if(null!=this.state.uid)switch(null!=this.state.deployment__identifier&&(o=this.state.deployment__identifier).replace("/forms/","/reports/"),this.props.location.pathname){case V.b.FORM_TABLE.replace(":uid",this.state.uid):return a.a.createElement(Gd.a,{asset:this.state});case V.b.FORM_GALLERY.replace(":uid",this.state.uid):e=o+"/photos";break;case V.b.FORM_MAP.replace(":uid",this.state.uid):return a.a.createElement(yp,{asset:this.state});case V.b.FORM_MAP_BY.replace(":uid",this.state.uid).replace(":viewby",this.props.params.viewby):return a.a.createElement(yp,{asset:this.state,viewby:this.props.params.viewby});case V.b.FORM_DOWNLOADS.replace(":uid",this.state.uid):return a.a.createElement(Zu,{asset:this.state});case V.b.FORM_SETTINGS.replace(":uid",this.state.uid):return this.renderSettingsEditor();case V.b.FORM_MEDIA.replace(":uid",this.state.uid):return this.renderUpload();case V.b.FORM_SHARING.replace(":uid",this.state.uid):return this.renderSharing();case V.b.FORM_RECORDS.replace(":uid",this.state.uid):return this.renderRecords();case V.b.FORM_REST.replace(":uid",this.state.uid):return a.a.createElement(Mp,{asset:this.state});case V.b.FORM_REST_HOOK.replace(":uid",this.state.uid).replace(":hookUid",this.props.params.hookUid):return a.a.createElement(Mp,{asset:this.state,hookUid:this.props.params.hookUid});case V.b.FORM_KOBOCAT.replace(":uid",this.state.uid):e=o+"/form_settings";break;case V.b.FORM_RESET.replace(":uid",this.state.uid):return this.renderReset()}var r=this.state.name||t("Untitled");return a.a.createElement(p.a,{title:"".concat(r," | KoboToolbox")},a.a.createElement(S.a.FormView,null,a.a.createElement(S.a.FormView__cell,{m:"iframe"},a.a.createElement("iframe",{src:e}))))}},{key:"renderSettingsEditor",value:function(){var e=this.state.name||t("Untitled");return a.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(S.a.FormView,{m:"form-settings"},a.a.createElement(po.a,{context:A.PROJECT_SETTINGS_CONTEXTS.EXISTING,formAsset:this.state})))}},{key:"renderSharing",value:function(){var e=this.props.params.assetid||this.props.params.uid;return a.a.createElement(S.a.FormView,{m:"form-settings-sharing"},a.a.createElement(gr,{uid:e}))}},{key:"renderRecords",value:function(){return a.a.createElement(S.a.FormView,{className:"connect-projects"},a.a.createElement(Dd,{asset:this.state}))}},{key:"renderReset",value:function(){return a.a.createElement(q.a,null)}},{key:"renderUpload",value:function(){return a.a.createElement(Yd,{asset:this.state})}}])&&Fp(o.prototype,r),n&&Fp(o,n),s}(a.a.Component);f()(qp.prototype,h.a.ListenerMixin),f()(qp.prototype,O.a.dmix),f()(qp.prototype,O.a.permissions),f()(qp.prototype,O.a.contextRouter),qp.contextTypes={router:d.a.object};var Yp=qp,Gp=Yp,$p=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(qp,"FormSubScreens","/srv/src/kpi/jsapp/js/components/formSubScreens.es6"),__REACT_HOT_LOADER__.register(Yp,"default","/srv/src/kpi/jsapp/js/components/formSubScreens.es6")),r(468)),Qp=r(330);function Kp(e){return(Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wp(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jp(e,t){return(Jp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=tm(e);if(t){var n=tm(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Zp(this,o)}}function Zp(e,t){return!t||"object"!==Kp(t)&&"function"!=typeof t?em(e):t}function em(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tm(e){return(tm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var om=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jp(e,t)}(c,e);var o,r,n,i=Xp(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).errors={},t.state={errors:t.errors,currentPassword:"",newPassword:"",verifyPassword:""},l()(em(t)),t}return o=c,(r=[{key:"componentDidMount",value:function(){this.listenTo(w.a.auth.changePassword.failed,this.onChangePasswordFailed),this.listenTo(w.a.auth.changePassword.completed,this.onChangePasswordCompleted)}},{key:"validateRequired",value:function(e){this.state[e]||(this.errors[e]=t("This field is required."))}},{key:"close",value:function(){s.f.goBack()}},{key:"changePassword",value:function(){this.errors={},this.validateRequired("currentPassword"),this.validateRequired("newPassword"),this.validateRequired("verifyPassword"),this.state.newPassword!==this.state.verifyPassword&&(this.errors.newPassword=t("This field must match the Verify Password field.")),0===Object.keys(this.errors).length&&w.a.auth.changePassword(this.state.currentPassword,this.state.newPassword),this.setState({errors:this.errors})}},{key:"onChangePasswordFailed",value:function(e){e.responseJSON.current_password&&(this.errors.currentPassword=e.responseJSON.current_password),e.responseJSON.new_password&&(this.errors.newPassword=e.responseJSON.new_password),this.setState({errors:this.errors})}},{key:"onChangePasswordCompleted",value:function(){this.close()}},{key:"currentPasswordChange",value:function(e){this.setState({currentPassword:e})}},{key:"newPasswordChange",value:function(e){this.setState({newPassword:e})}},{key:"verifyPasswordChange",value:function(e){this.setState({verifyPassword:e})}},{key:"render",value:function(){if(!b.a.session.isLoggedIn)return null;var e=b.a.session.currentAccount.username,o={background:"#".concat(Object(z.stringToColor)(e))};return a.a.createElement(p.a,{title:"".concat(e," | KoboToolbox")},a.a.createElement(S.a.AccountSettings,null,a.a.createElement(S.a.AccountSettings__actions,null,a.a.createElement(S.a.KoboButton,{onClick:this.changePassword,m:["blue"]},t("Save Password")),a.a.createElement("button",{onClick:this.close,className:"account-settings-close mdl-button mdl-button--icon"},a.a.createElement("i",{className:"k-icon k-icon-close"}))),a.a.createElement(S.a.AccountSettings__item,{m:"column"},a.a.createElement(S.a.AccountSettings__item,{m:"username"},a.a.createElement(S.a.AccountBox__initials,{style:o},e.charAt(0)),a.a.createElement("h4",null,e)),a.a.createElement(S.a.AccountSettings__item,{m:"fields"},a.a.createElement(S.a.AccountSettings__item,null,a.a.createElement("h4",null,t("Reset Password"))),a.a.createElement(S.a.AccountSettings__item,null,a.a.createElement($e.a,{label:t("Current Password"),type:"password",errors:this.state.errors.currentPassword,value:this.state.currentPassword,onChange:this.currentPasswordChange}),a.a.createElement("a",{className:"account-settings-link",href:"".concat(A.ROOT_URL,"/accounts/password/reset/")},t("Forgot Password?"))),a.a.createElement(S.a.AccountSettings__item,null,a.a.createElement($e.a,{label:t("New Password"),type:"password",errors:this.state.errors.newPassword,value:this.state.newPassword,onChange:this.newPasswordChange})),""!==this.state.newPassword&&a.a.createElement(S.a.AccountSettings__item,null,a.a.createElement(Qp.a,{password:this.state.newPassword})),a.a.createElement(S.a.AccountSettings__item,null,a.a.createElement($e.a,{label:t("Verify Password"),type:"password",errors:this.state.errors.verifyPassword,value:this.state.verifyPassword,onChange:this.verifyPasswordChange}))))))}}])&&Wp(o.prototype,r),n&&Wp(o,n),c}(a.a.Component);f()(om.prototype,h.a.connect(b.a.session,"session")),f()(om.prototype,h.a.ListenerMixin);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(om,"ChangePassword","/srv/src/kpi/jsapp/js/components/changePassword.es6");function rm(e){return(rm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function am(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function im(e,t){return(im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=cm(e);if(t){var n=cm(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return sm(this,o)}}function sm(e,t){return!t||"object"!==rm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cm(e){return(cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&im(e,t)}(i,e);var t,o,r,n=lm(i);function i(){return nm(this,i),n.apply(this,arguments)}return t=i,(o=[{key:"render",value:function(){return a.a.createElement(S.a.uiPanel,{className:"k404"},a.a.createElement(S.a.uiPanel__body,null,a.a.createElement("i",null),a.a.createElement("em",null,"section not found")))}}])&&am(t.prototype,o),r&&am(t,r),i}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(dm,"SectionNotFound","/srv/src/kpi/jsapp/js/components/sectionNotFound.es6");function um(e){return(um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mm(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fm(e,t){return(fm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=bm(e);if(t){var n=bm(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return hm(this,o)}}function hm(e,t){return!t||"object"!==um(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bm(e){return(bm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fm(e,t)}(l,e);var o,r,n,i=_m(l);function l(){return pm(this,l),i.apply(this,arguments)}return o=l,(r=[{key:"render",value:function(){return a.a.createElement(S.a.uiPanel,null,a.a.createElement(S.a.uiPanel__body,null,a.a.createElement(S.a.Loading,null,a.a.createElement(S.a.Loading__inner,null,t("path not found / recognized")))))}}])&&mm(o.prototype,r),n&&mm(o,n),l}(a.a.Component),ym=("undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(gm,"FormNotFound","/srv/src/kpi/jsapp/js/components/formNotFound.es6"),r(389));function vm(e){return(vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function km(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wm(e,t){return(wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Om(e);if(t){var n=Om(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Em(this,o)}}function Em(e,t){return!t||"object"!==vm(t)&&"function"!=typeof t?Sm(e):t}function Sm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Om(e){return(Om=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wm(e,t)}(i,e);var t,o,r,n=xm(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).state={assetContent:!1},l()(Sm(t)),t}return t=i,(o=[{key:"componentDidMount",value:function(){this.listenTo(Pt.a,this.assetStoreTriggered);var e=this.props.params.assetid||this.props.params.uid;w.a.resources.loadAsset({id:e})}},{key:"assetStoreTriggered",value:function(e){var t=Object.values(e)[0].content;this.setState({assetContent:t})}},{key:"render",value:function(){var e=null;return this.state.assetContent&&(e=JSON.stringify(this.state.assetContent,null,4)),a.a.createElement(S.a.uiPanel,null,a.a.createElement(S.a.uiPanel__body,null,a.a.createElement(S.a.FormView,null,a.a.createElement("pre",null,a.a.createElement("code",null,e)))))}}])&&km(t.prototype,o),r&&km(t,r),i}(a.a.Component);f()(Tm.prototype,h.a.ListenerMixin);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Tm,"FormJson","/srv/src/kpi/jsapp/js/components/formJson.es6");var Rm=r(471);function Am(e){return(Am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cm(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jm(e,t){return(jm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Dm(e);if(t){var n=Dm(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Lm(this,o)}}function Lm(e,t){return!t||"object"!==Am(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dm(e){return(Dm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jm(e,t)}(i,e);var t,o,r,n=Pm(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).state={searchContext:R.a.getSearchContext("forms",{filterParams:{assetType:A.COMMON_QUERIES.s},filterTags:A.COMMON_QUERIES.s})},t}return t=i,(o=[{key:"componentDidMount",value:function(){this.searchSemaphore()}},{key:"render",value:function(){return a.a.createElement(Rm.a,{searchContext:this.state.searchContext})}}])&&Cm(t.prototype,o),r&&Cm(t,r),i}(a.a.Component);Nm.contextTypes={router:d.a.object},f()(Nm.prototype,R.a.common),f()(Nm.prototype,O.a.droppable),f()(Nm.prototype,h.a.ListenerMixin);var Mm=Nm,Im=Mm;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Nm,"FormsSearchableList","/srv/src/kpi/jsapp/js/lists/forms.es6"),__REACT_HOT_LOADER__.register(Mm,"default","/srv/src/kpi/jsapp/js/lists/forms.es6")),r(655);function Fm(e){return(Fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Um(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hm(e,t){return(Hm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=zm(e);if(t){var n=zm(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Vm(this,o)}}function Vm(e,t){return!t||"object"!==Fm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zm(e){return(zm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}S.a.AccessDenied=Object(S.b)(null,"access-denied"),S.a.AccessDenied__body=Object(S.b)(S.a.AccessDenied,"body","section"),S.a.AccessDenied__header=Object(S.b)(S.a.AccessDenied,"header","header"),S.a.AccessDenied__text=Object(S.b)(S.a.AccessDenied,"text","section");var qm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hm(e,t)}(l,e);var o,r,n,i=Bm(l);function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.call(this,e)}return o=l,(r=[{key:"goToLogin",value:function(e){e.preventDefault(),Object(Xe.i)()}},{key:"render",value:function(){var e;e=b.a.session.isLoggedIn?t("Please try logging in using the header button or [contact the support team] if you think it's an error."):t("Please [contact the support team] if you think it's an error.");var o=Object(z.replaceBracketsWithLink)(e,oe.a.data.support_url);return a.a.createElement(S.a.AccessDenied,null,a.a.createElement(S.a.AccessDenied__body,null,a.a.createElement(S.a.AccessDenied__header,null,a.a.createElement("i",{className:"k-icon k-icon-lock-alt"}),t("Access denied")),a.a.createElement(S.a.AccessDenied__text,null,t("Either you don't have access to this page or this page simply doesn't exist."),a.a.createElement("p",{dangerouslySetInnerHTML:{__html:o}})),this.props.errorMessage&&a.a.createElement(S.a.AccessDenied__text,null,t("Additional details:"),a.a.createElement("code",null,this.props.errorMessage))))}}])&&Um(o.prototype,r),n&&Um(o,n),l}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(qm,"AccessDenied","/srv/src/kpi/jsapp/js/router/accessDenied.es6");function Ym(e){return(Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gm(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $m(e,t){return($m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=Wm(e);if(t){var n=Wm(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return Km(this,o)}}function Km(e,t){return!t||"object"!==Ym(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wm(e){return(Wm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$m(e,t)}(i,e);var t,o,r,n=Qm(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n.call(this,e)}return t=i,(o=[{key:"render",value:function(){return b.a.session.isLoggedIn?a.a.createElement(this.props.route.protectedComponent,this.props):a.a.createElement(qm,null)}}])&&Gm(t.prototype,o),r&&Gm(t,r),i}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(Jm,"AuthProtectedRoute","/srv/src/kpi/jsapp/js/router/authProtectedRoute.es6");function Xm(e){return(Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zm(){return(Zm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function ef(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tf(e,t){return(tf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=af(e);if(t){var n=af(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return rf(this,o)}}function rf(e,t){return!t||"object"!==Xm(t)&&"function"!=typeof t?nf(e):t}function nf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function af(e){return(af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tf(e,t)}(i,e);var t,o,r,n=of(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).state=t.getInitialState(),t.unlisteners=[],l()(nf(t)),t}return t=i,(o=[{key:"getInitialState",value:function(){return{isLoadAssetFinished:!1,userHasRequiredPermission:null,errorMessage:null,asset:null}}},{key:"componentDidMount",value:function(){this.unlisteners.push(w.a.resources.loadAsset.completed.listen(this.onLoadAssetCompleted),w.a.resources.loadAsset.failed.listen(this.onLoadAssetFailed)),w.a.resources.loadAsset({id:this.props.params.uid})}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"componentWillReceiveProps",value:function(e){this.props.params.uid!==e.params.uid?(this.setState(this.getInitialState()),w.a.resources.loadAsset({id:e.params.uid})):this.props.route.requiredPermission===e.route.requiredPermission&&this.props.route.protectedComponent===e.route.protectedComponent||this.setState({userHasRequiredPermission:this.getUserHasRequiredPermission(this.state.asset,e.route.requiredPermission)})}},{key:"onLoadAssetCompleted",value:function(e){e.uid===this.props.params.uid&&this.setState({asset:e,isLoadAssetFinished:!0,userHasRequiredPermission:this.getUserHasRequiredPermission(e,this.props.route.requiredPermission)})}},{key:"onLoadAssetFailed",value:function(e){var t;e.status>=400&&this.setState({isLoadAssetFinished:!0,userHasRequiredPermission:!1,errorMessage:"".concat(e.status.toString(),": ").concat((null===(t=e.responseJSON)||void 0===t?void 0:t.detail)||e.statusText)})}},{key:"getUserHasRequiredPermission",value:function(e,t){return O.a.permissions.userCan(t,e)||O.a.permissions.userCanPartially(t,e)}},{key:"render",value:function(){return this.state.isLoadAssetFinished?this.state.userHasRequiredPermission?a.a.createElement(this.props.route.protectedComponent,Zm({},this.props,{initialAssetLoadNotNeeded:!0})):a.a.createElement(qm,{errorMessage:this.state.errorMessage}):a.a.createElement(q.a,null)}}])&&ef(t.prototype,o),r&&ef(t,r),i}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(lf,"PermProtectedRoute","/srv/src/kpi/jsapp/js/router/permProtectedRoute.es6");function sf(e){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cf(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function df(e,t){return(df=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=ff(e);if(t){var n=ff(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return pf(this,o)}}function pf(e,t){return!t||"object"!==sf(t)&&"function"!=typeof t?mf(e):t}function mf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ff(e){return(ff=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&df(e,t)}(i,e);var t,o,r,n=uf(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).state={isPermsConfigReady:ke.a.isReady(),isSessionReady:b.a.session.isAuthStateKnown},l()(mf(t)),t}return t=i,(o=[{key:"componentDidMount",value:function(){w.a.permissions.getConfig.completed.listen(this.onGetConfigCompleted),b.a.session.listen(this.onSessionChange),w.a.permissions.getConfig()}},{key:"onGetConfigCompleted",value:function(e){ke.a.setPermissions(e.results),this.setReady({isPermsConfigReady:ke.a.isReady()})}},{key:"onSessionChange",value:function(){this.setReady({isSessionReady:b.a.session.isAuthStateKnown})}},{key:"setReady",value:function(e){var t={isPermsConfigReady:this.state.isPermsConfigReady,isSessionReady:this.state.isSessionReady};void 0!==e.isPermsConfigReady&&(t.isPermsConfigReady=e.isPermsConfigReady),void 0!==e.isSessionReady&&(t.isSessionReady=e.isSessionReady),t.isPermsConfigReady&&t.isSessionReady&&!b.a.session.isLoggedIn&&Object(Xe.h)()?Object(Xe.i)():this.setState(t)}},{key:"getRoutes",value:function(){return a.a.createElement(s.d,{name:"home",path:V.b.ROOT,component:ei},a.a.createElement(s.a,{to:V.b.FORMS}),a.a.createElement(s.d,{path:V.b.ACCOUNT_SETTINGS,component:Jm,protectedComponent:$p.a}),a.a.createElement(s.d,{path:V.b.CHANGE_PASSWORD,component:Jm,protectedComponent:om}),a.a.createElement(s.d,{path:V.b.LIBRARY},a.a.createElement(s.a,{to:V.b.MY_LIBRARY}),a.a.createElement(s.d,{path:V.b.MY_LIBRARY,component:Jm,protectedComponent:ol}),a.a.createElement(s.d,{path:V.b.PUBLIC_COLLECTIONS,component:Jm,protectedComponent:hl}),a.a.createElement(s.d,{path:V.b.NEW_LIBRARY_ITEM,component:Jm,protectedComponent:ui}),a.a.createElement(s.d,{path:V.b.LIBRARY_ITEM,component:lf,protectedComponent:Ss,requiredPermission:A.PERMISSIONS_CODENAMES.view_asset}),a.a.createElement(s.d,{path:V.b.EDIT_LIBRARY_ITEM,component:lf,protectedComponent:ui,requiredPermission:A.PERMISSIONS_CODENAMES.change_asset}),a.a.createElement(s.d,{path:V.b.NEW_LIBRARY_CHILD,component:lf,protectedComponent:ui,requiredPermission:A.PERMISSIONS_CODENAMES.change_asset}),a.a.createElement(s.d,{path:V.b.LIBRARY_ITEM_JSON,component:lf,protectedComponent:Tm,requiredPermission:A.PERMISSIONS_CODENAMES.view_asset}),a.a.createElement(s.d,{path:V.b.LIBRARY_ITEM_XFORM,component:lf,protectedComponent:ym.a,requiredPermission:A.PERMISSIONS_CODENAMES.view_asset})),a.a.createElement(s.d,{path:V.b.FORMS},a.a.createElement(s.b,{component:Jm,protectedComponent:Im}),a.a.createElement(s.d,{path:V.b.FORM},a.a.createElement(s.a,{to:V.b.FORM_LANDING}),a.a.createElement(s.d,{path:V.b.FORM_SUMMARY,component:lf,protectedComponent:vd,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions}),a.a.createElement(s.d,{path:V.b.FORM_LANDING,component:lf,protectedComponent:sd,requiredPermission:A.PERMISSIONS_CODENAMES.view_asset}),a.a.createElement(s.d,{path:V.b.FORM_DATA},a.a.createElement(s.a,{to:V.b.FORM_TABLE}),a.a.createElement(s.d,{path:V.b.FORM_REPORT,component:lf,protectedComponent:Wc,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions}),a.a.createElement(s.d,{path:V.b.FORM_REPORT_OLD,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions}),a.a.createElement(s.d,{path:V.b.FORM_TABLE,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions}),a.a.createElement(s.d,{path:V.b.FORM_DOWNLOADS,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions}),a.a.createElement(s.d,{path:V.b.FORM_GALLERY,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions}),a.a.createElement(s.d,{path:V.b.FORM_MAP,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions}),a.a.createElement(s.d,{path:V.b.FORM_MAP_BY,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions})),a.a.createElement(s.d,{path:V.b.FORM_SETTINGS},a.a.createElement(s.b,{component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.manage_asset}),a.a.createElement(s.d,{path:V.b.FORM_MEDIA,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.manage_asset}),a.a.createElement(s.d,{path:V.b.FORM_SHARING,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.manage_asset}),a.a.createElement(s.d,{path:V.b.FORM_RECORDS,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.manage_asset}),a.a.createElement(s.d,{path:V.b.FORM_REST,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.manage_asset}),a.a.createElement(s.d,{path:V.b.FORM_REST_HOOK,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.manage_asset}),a.a.createElement(s.d,{path:V.b.FORM_KOBOCAT,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.manage_asset})),a.a.createElement(s.d,{path:V.b.FORM_JSON,component:lf,protectedComponent:Tm,requiredPermission:A.PERMISSIONS_CODENAMES.view_asset}),a.a.createElement(s.d,{path:V.b.FORM_XFORM,component:lf,protectedComponent:ym.a,requiredPermission:A.PERMISSIONS_CODENAMES.view_asset}),a.a.createElement(s.d,{path:V.b.FORM_EDIT,component:lf,protectedComponent:di,requiredPermission:A.PERMISSIONS_CODENAMES.view_asset}),a.a.createElement(s.d,{path:V.b.FORM_RESET,component:lf,protectedComponent:Gp,requiredPermission:A.PERMISSIONS_CODENAMES.view_submissions})),a.a.createElement(s.d,{path:"*",component:gm})),a.a.createElement(s.d,{path:"*",component:dm}))}},{key:"render",value:function(){var e=this;return this.state.isPermsConfigReady&&this.state.isSessionReady?a.a.createElement(s.e,{history:s.f,ref:function(t){return e.router=t},routes:this.getRoutes()}):a.a.createElement(q.a,null)}}])&&cf(t.prototype,o),r&&cf(t,r),i}(a.a.Component);"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(_f,"AllRoutes","/srv/src/kpi/jsapp/js/router/allRoutes.es6")},function(e,o,r){"use strict";var n=r(0),a=r.n(n),i=r(9),l=r.n(i),s=r(134),c=r(168),d=r(1),u=r(3),p=r(100),m=r(31),f=r(135),_=r(39),h=r(2),b=r(329);r(402);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){k(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function w(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function E(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=A(e);if(t){var n=A(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return T(this,o)}}function T(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}d.a.ColumnsHideForm=Object(d.b)(null,"columns-hide-form","section"),d.a.ColumnsHideForm__message=Object(d.b)(d.a.ColumnsHideForm,"message","p"),d.a.ColumnsHideForm__list=Object(d.b)(d.a.ColumnsHideForm,"list","ul"),d.a.ColumnsHideForm__listItem=Object(d.b)(d.a.ColumnsHideForm,"list-item","li"),d.a.ColumnsHideForm__footer=Object(d.b)(d.a.ColumnsHideForm,"footer","footer");var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e);var o,r,n,i=O(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e)).state={isPending:!1,filterPhrase:"",allColumns:[],selectedColumns:[]},t.unlisteners=[],l()(R(t)),t}return o=s,(r=[{key:"componentDidMount",value:function(){this.unlisteners.push(u.a.table.updateSettings.completed.listen(this.onTableUpdateSettingsCompleted)),this.prepareColumns()}},{key:"componentWillUnmount",value:function(){this.unlisteners.forEach((function(e){e()}))}},{key:"prepareColumns",value:function(){var e=this,t=w(_.a.getAllColumns(this.props.submissions)),o=[];t.forEach((function(t){o.push({fieldId:t,label:Object(f.c)(e.props.asset.content.survey,t,e.props.showGroupName,e.props.translationIndex)})})),this.setState({allColumns:o,selectedColumns:_.a.getSelectedColumns()||t})}},{key:"onTableUpdateSettingsCompleted",value:function(){b.a.hideAnyDropdown()}},{key:"onReset",value:function(){this.setState({isPending:!0}),_.a.showAllFields()}},{key:"onApply",value:function(){this.setState({isPending:!0}),_.a.setFieldsVisibility(this.props.submissions,this.state.selectedColumns)}},{key:"onFieldToggleChange",value:function(e,t){var o=w(this.state.selectedColumns);t?o.push(e):o.splice(o.indexOf(e),1),this.setState({selectedColumns:o})}},{key:"onFilterPhraseChange",value:function(e){this.setState({filterPhrase:e})}},{key:"getFilteredFieldsList",value:function(){return""!==this.state.filterPhrase?new c.a(this.state.allColumns,v(v({},h.FUSE_OPTIONS),{},{keys:["fieldId","label"]})).search(this.state.filterPhrase):this.state.allColumns}},{key:"render",value:function(){var e=this,o=this.getFilteredFieldsList();return a.a.createElement(d.a.ColumnsHideForm,null,a.a.createElement(d.a.ColumnsHideForm__message,null,t("These settings affects the experience for all project users.")),a.a.createElement(m.a,{value:this.state.filterPhrase,onChange:this.onFilterPhraseChange,customModifiers:"on-white",placeholder:t("Find a field")}),0!==o.length&&a.a.createElement(d.a.ColumnsHideForm__list,null,o.map((function(t){var o=t.fieldId||t.item.fieldId,r=t.label||t.item.label;return a.a.createElement(d.a.ColumnsHideForm__listItem,{key:o},a.a.createElement(p.a,{checked:e.state.selectedColumns.includes(o),onChange:e.onFieldToggleChange.bind(e,o),disabled:e.state.isPending,label:r}))}))),0===o.length&&a.a.createElement(d.a.ColumnsHideForm__message,null,t("No results")),a.a.createElement(d.a.ColumnsHideForm__footer,null,a.a.createElement(d.a.KoboLightButton,{m:["red","full-width"],onClick:this.onReset,disabled:this.state.isPending},t("Reset")),a.a.createElement(d.a.KoboLightButton,{m:["blue","full-width"],onClick:this.onApply,disabled:this.state.isPending},t("Apply"))))}}])&&E(o.prototype,r),n&&E(o,n),s}(a.a.Component),j=C,P=j;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(C,"ColumnsHideForm","/srv/src/kpi/jsapp/js/components/submissions/columnsHideForm.es6"),__REACT_HOT_LOADER__.register(j,"default","/srv/src/kpi/jsapp/js/components/submissions/columnsHideForm.es6"));function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=U(e);if(t){var n=U(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return I(this,o)}}function I(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(c,e);var o,r,n,i=M(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=i.call(this,e),l()(F(t)),t}return o=c,(r=[{key:"render",value:function(){return a.a.createElement(s.c,{theme:s.b.light,hideOnEsc:!0,hideOnMenuOutsideClick:!0,placement:s.a["down-left"],name:"columns-hide-dropdown",triggerContent:a.a.createElement("span",{className:"columns-hide-dropdown-trigger"},a.a.createElement("i",{className:"k-icon k-icon-hide"}),t("hide fields")),menuContent:a.a.createElement(P,this.props)})}}])&&D(o.prototype,r),n&&D(o,n),c}(a.a.Component),B=H;o.a=B,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(H,"ColumnsHideDropdown","/srv/src/kpi/jsapp/js/components/submissions/columnsHideDropdown.es6"),__REACT_HOT_LOADER__.register(B,"default","/srv/src/kpi/jsapp/js/components/submissions/columnsHideDropdown.es6"))},function(e,t,o){"use strict";o.r(t),function(e){var t=o(11),r=o.n(t),n=o(476),a=o(474),i=o(475),l=(o(661),o(0)),s=o.n(l),c=o(15),d=o(170),u=o(51),p=o(4);o(390),o(847),r.a.locale(Object(p.currentLang)()),c.f.listen((function(){"function"==typeof ga&&ga("send","pageview",window.location.hash)})),e.ajaxSetup({beforeSend:function(e,t){var o="";try{o=document.cookie.match(/csrftoken=(\w{64})/)[1]}catch(e){console.error("Cookie not matched")}if(!Object(p.csrfSafeMethod)(t.type)&&!this.crossDomain){var r=new d.a;e.setRequestHeader("X-CSRFToken",o||r.get("csrftoken"))}}});var m,f=(m=e("<div>",{class:"kpiapp"}),e("body").prepend(m),m.get(0));document.head.querySelector("meta[name=kpi-root-path]")?Object(u.render)(s.a.createElement(n.a,null),f):console.error("no kpi-root-path meta tag set. skipping react-router init"),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("registration-password-app");e&&Object(u.render)(s.a.createElement(i.AppContainer,null,s.a.createElement(a.a,null)),e)}));"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(f,"el","/srv/src/kpi/jsapp/js/main.es6")}.call(this,o(29))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){var r,n,a,i,l;i=o(20),r=o(509),a=o(105),n=o(115),e.exports=(l={},i.extend(l,r),l.utils=a,l.rowDetailSkipLogic=n,l)},function(e,o,r){(function(o){var n,a,i,l,s,c,d,u,p,m,f,_,h,b,g,y,v=function(e,t){return function(){return e.apply(t,arguments)}},k=function(e,t){for(var o in t)w.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},w={}.hasOwnProperty;m=r(20),d=r(47),i=r(114),r(40),s=r(108),l=r(400),a=r(519),n=r(139),c=r(105),r(14),_=r(22).isAssetLockable,f=r(22).hasAssetRestriction,u=r(23).LOCKING_RESTRICTIONS,p=r(23).LOCKING_UI_CLASSNAMES,e.exports=(g={},y=function(e){var t,r,n,a,i,l,s;if(!e.orderfail)return s=e.survey,r=[],e.$(".survey__row").each((function(){return r.push(o(this).data("rowId"))})),l=[],a=function(e){return l.push(e.cid)},s.forEachRow(a,{includeGroups:!0}),(t=function(e){return JSON.stringify(e)})(l)===t(r)||(i=window.location.pathname,e.orderfail=!0,n=("Row model does not match view: "+t(l)+" "+t(r)+" "+i).trim(),"undefined"!=typeof console&&null!==console&&console.error(n),"undefined"!=typeof Raven&&null!==Raven&&Raven.captureException(new Error(n)),!1)},b=m.debounce(y,2500),h=function(e){function r(){return this.deselect_rows=v(this.deselect_rows,this),r.__super__.constructor.apply(this,arguments)}return k(r,e),r.prototype.className="formbuilder-wrap container",r.prototype.features={},r.prototype.events={"click .js-delete-row":"clickRemoveRow","click .js-delete-group":"clickDeleteGroup","click .js-add-to-question-library":"clickAddRowToQuestionLibrary","click .js-clone-question":"clickCloneQuestion","update-sort":"updateSort","click .js-select-row":"selectRow","click .js-select-row--force":"forceSelectRow","click .js-toggle-card-settings":"toggleCardSettings","click .js-toggle-group-expansion":"toggleGroupExpansion","click .js-toggle-row-multioptions":"toggleRowMultioptions","click .js-close-warning":"closeWarningBox","click .js-expand-row-selector":"expandRowSelector","mouseenter .card__buttons__button":"buttonHoverIn","mouseleave .card__buttons__button":"buttonHoverOut","click .card__settings__tabs li":"switchTab"},r.create=function(e){return null==e&&(e={}),m.isString(e.el)&&(e.el=o(e.el).get(0)),new this(e)},r.prototype.switchTab=function(e){var t,r;if(!(t=o(e.currentTarget)).hasClass("heading"))return r=t.data("cardSettingsTabId"),t.parent("ul").find(".card__settings__tabs__tab--active").removeClass("card__settings__tabs__tab--active"),t.addClass("card__settings__tabs__tab--active"),t.parents(".card__settings").find(".card__settings__fields--active").removeClass("card__settings__fields--active"),t.parents(".card__settings").find(".js-card-settings-"+r).addClass("card__settings__fields--active");e.preventDefault()},r.prototype.surveyRowSortableStop=function(e){var t,r,n,a,i,l,s,c;this.survey.trigger("change"),a=(t=o(e.target)).data("rowId"),c=this,l=(s=function(e){if(e)return c.survey.findRowByCid(e,{includeGroups:!0})})(a),n=(i=this._getRelatedElIds(t))[0],r=i[1],this.survey._insertRowInPlace(l,{previous:s(n),parent:s(r),event:"sort"})},r.prototype._getRelatedElIds=function(e){return[e.prev(".survey__row").eq(0).data("rowId"),e.parents(".survey__row").eq(0).data("rowId")]},r.prototype.initialize=function(e){var t,r;return this.reset=(r=this,function(e){var t;return null==e&&(e=!1),r._timedReset&&clearTimeout(r._timedReset),t=o.Deferred(),r._timedReset=setTimeout((function(){r._reset.call(r,e),t.resolve()}),0),t}),e.survey&&e.survey instanceof i.Survey?this.survey=e.survey:this.survey=new i.Survey(e),this.warnings=e.warnings||[],this.__rowViews=new d.Model,this.ngScope=e.ngScope,this.surveyStateStore=e.stateStore||{trigger:o.noop,setState:o.noop},o(document).on("click",this.deselect_rows),this.survey.settings.on("change:form_id",(function(e,t){return o(".form-id").text(t)})),this.survey.on("rows-add",this.reset,this),this.survey.on("rows-remove",this.reset,this),this.survey.on("row-detail-change",function(e){return function(t,o,r,n){var a;if(!o.match(/^\$/))return a=c.normalizeEventName("row-detail-change-"+o),e.$(".on-"+a).trigger(a,t,o,r,n)}}(this)),this.$el.on("choice-list-update",function(e){return function(t,r){return o(".on-choice-list-update[data-choice-list-cid='"+r+"']").trigger("rebuild-choice-list"),e.survey.trigger("choice-list-update",r)}}(this)),this.$el.on("survey__row-sortablestop",m.bind(this.surveyRowSortableStop,this)),this.onPublish=e.publish||o.noop,this.onSave=e.save||o.noop,this.onPreview=e.preview||o.noop,this.expand_all_multioptions=function(){return this.$(".survey__row:not(.survey__row--deleted) .card--expandedchoices:visible").length>0},t=!1,o(window).on("keydown",function(e){return function(r){var n;if(n=o(":focus"),13===r.keyCode&&(r.preventDefault(),o("div.row__questiontypes").find("button").eq(1).trigger("click"),(n=o(":focus")).hasClass("editable-wrapper")?t?(n.trigger("click"),t=!1):t=!0:"none"===n.css("display")?n.css("display","block"):n.trigger("click")),27===r.keyCode)return e.onEscapeKeydown(r)}}(this))},r.prototype.getView=function(e){return this.__rowViews.get(e)},r.prototype.updateSort=function(e,t,o){this.survey.rows.remove(t),this.survey.rows.each((function(e,t){return e.ordinal=t>=o?t+1:t})),t.ordinal=o,this.survey.rows.add(t,{at:o})},r.prototype.forceSelectRow=function(e){return this.selectRow(o.extend({},e))},r.prototype.deselect_all_rows=function(){this.$(".survey__row").removeClass("survey__row--selected"),this.activateGroupButton(!1)},r.prototype.deselect_rows=function(e){o(e.target).parents(".survey__row").length||this.deselect_all_rows()},r.prototype.selectRow=function(e){var t,r,n,a,i;(r=o(e.target)).hasClass("js-blur-on-select-row")||r.hasClass("editable-wrapper")||(t=o(e.currentTarget),r.closest(".card__settings, .card__buttons, .group__header__buttons, .js-cancel-select-row").length>0||t.closest(".survey__row").get(0)===r.closest(".survey__row").get(0)&&(a=r.closest(".survey__row"),e.ctrlKey||e.metaKey||(i=a.siblings(".survey__row--selected"),(!a.hasClass("survey__row--selected")||i.length>1)&&this.deselect_all_rows()),a.toggleClass("survey__row--selected"),a.hasClass("survey__row--group")&&a.find("li.survey__row, li.survey__row--group").toggleClass("survey__row--selected",a.hasClass("survey__row--selected")),(n=a.parent().closest(".survey__row")).length>0&&this.select_group_if_all_items_selected(n),this.questionSelect(),this.$(".js-blur-on-select-row").blur()))},r.prototype.select_group_if_all_items_selected=function(e){var t;if(t=e.find(".survey__row"),e.toggleClass("survey__row--selected",t.length===t.filter(".survey__row--selected").length),(e=e.parent().closest(".survey__row")).length>0)return this.select_group_if_all_items_selected(e)},r.prototype.questionSelect=function(){this.activateGroupButton(this.$el.find(".survey__row--selected").length>0)},r.prototype.activateGroupButton=function(e){this.surveyStateStore.setState({groupButtonIsActive:e}),o(".form-builder-header__button--group").attr("disabled",!e)},r.prototype.getApp=function(){return this},r.prototype._getViewForTarget=function(e){var t,r;if(t=o(e.currentTarget).closest(".survey__row").data("row-id"),!(r=this.__rowViews.get(t)))throw new Error("view is not found for target element");return r},r.prototype.toggleCardSettings=function(e){return this._getViewForTarget(e).toggleSettings()},r.prototype.toggleGroupExpansion=function(e){var t,r,n;return r=(n=this._getViewForTarget(e)).$el.hasClass("group--shrunk"),this.surveyStateStore.setState({groupShrunk:r}),(t=o(e.currentTarget)).toggleClass("k-icon-caret-down"),t.toggleClass("k-icon-caret-right"),n.$el.toggleClass("group--shrunk",!r)},r.prototype.toggleRowMultioptions=function(e){var t;(t=o(e.currentTarget)).find(".k-icon").toggleClass("k-icon-caret-right"),t.find(".k-icon").toggleClass("k-icon-caret-down"),this._getViewForTarget(e).toggleMultioptions()},r.prototype.expandRowSelector=function(e){var t,r,n,a,i;if((t=o(e.currentTarget)).parents(".survey-editor__null-top-row").length>0)return this.null_top_row_view_selector.expand();if(r=t.parents(".survey__row").eq(0),n=t.parents(".survey__row__spacer"),a=r.data("rowId"),!(i=this.getViewForRow({cid:a})))throw new Error("View for row was not found: "+a);return new l.RowSelector({el:n.get(0),ngScope:this.ngScope,spawnedFromView:i,surveyView:this,reversible:!0,survey:this.survey}).expand()},r.prototype._render_html=function(){this.$el.html(s.$$render("surveyApp",this)),this.formEditorEl=this.$(".-form-editor")},r.prototype._render_attachEvents=function(){this.survey.settings.on("validated:invalid",(function(e,t){var o,r;for(o in r=[],t){t[o];break}return r})),this.survey.settings},r.prototype.hasRestriction=function(e){return f(this.ngScope.rawSurvey,e)},r.prototype.isLockable=function(){var e;return _(null!=(e=this.ngScope.assetType)?e.id:void 0)},r.prototype.applyLocking=function(){this.isLockable()&&this.hasRestriction(u.question_add.name)&&(this.$(".js-add-row-button").addClass(p.HIDDEN),this.$(".js-clone-question").addClass(p.HIDDEN))},r.prototype._render_addSubViews=function(){this.null_top_row_view_selector=new l.RowSelector({el:this.$el.find(".survey__row__spacer").get(0),survey:this.survey,ngScope:this.ngScope,surveyView:this,reversible:!0})},r.prototype._render_hideConditionallyDisplayedContent=function(){if(this.features.multipleQuestions||(this.$el.addClass("survey-editor--singlequestion"),this.$el.find(".survey-editor__null-top-row").addClass("survey-editor__null-top-row--hidden"),this.$el.find(".js-expand-row-selector").addClass("btn--hidden"),0===this.survey.rows.length&&this.null_top_row_view_selector.expand()),!this.features.copyToLibrary)return this.$el.find(".js-add-to-question-library").hide()},r.prototype.render=function(){var e;this.$el.addClass("survey-editor--loading"),this.$el.removeClass("content--centered").removeClass("content");try{this._render_html(),this._render_attachEvents(),this._render_addSubViews(),this._reset(),this._render_hideConditionallyDisplayedContent(),this.applyLocking()}catch(t){throw e=t,this.$el.addClass("survey-editor--error"),e}return this.$el.removeClass("survey-editor--loading"),this},r.prototype.shrinkAllGroups=function(){return this.$(".survey__row--group:not(.group--shrunk)").each((function(e,t){if(!o(t).hasClass("group--shrunk"))return o(t).find(".group__caret").click()}))},r.prototype.expandAllGroups=function(){var e,t;for(e=0,t=[];this.$(".survey__row--group.group--shrunk").length>0&&(this.$(".survey__row--group.group--shrunk").each((function(e,t){return o(t).find(".group__caret").click()})),!(e++>10));)t.push(void 0);return t},r.prototype.expandMultioptions=function(){var e,t;this.expand_all_multioptions()?(this.shrinkAllGroups(),this.$(".card--expandedchoices").each((t=this,function(e,o){t._getViewForTarget({currentTarget:o}).hideMultioptions()})),e=!1):(this.expandAllGroups(),this.$(".card--selectquestion").each(function(e){return function(t,o){e._getViewForTarget({currentTarget:o}).showMultioptions()}}(this)),e=!0),this.surveyStateStore.trigger({multioptionsExpanded:e})},r.prototype.closeWarningBox=function(e){return this.$(".survey-warnings").hide()},r.prototype.getItemPosition=function(e){var t;for(t=0;e.length>0;)e=e.prev(),t++;return t},r.prototype.activateSortable=function(){var e,t,r,n,a;e=this.formEditorEl,this.survey,a=this,r=function(t,o){var r;return r="sortactivate"===t.type,o.item.toggleClass("sortable-active",r),e.toggleClass("insort",r),a.survey.trigger(t.type)},n=function(e){return function(t,r){return o(r.item).trigger("survey__row-sortablestop"),e.survey.trigger("sortablestop")}}(this),this.formEditorEl.sortable({cancel:"button, .btn--addrow, .well, ul.list-view, li.editor-message, .editableform, .row-extras, .js-cancel-sort",cursor:"move",distance:5,items:"> li",placeholder:"placeholder",connectWith:".group__rows",opacity:.9,scroll:!0,stop:n,activate:r,deactivate:r,create:function(e){return function(){e.formEditorEl.addClass("js-sortable-enabled")}}(this),receive:function(e){return function(t,o){var r,n;r=o.item.data().uid,e.ngScope.handleItem&&r&&(n=e.getItemPosition(o.item.prev()),e.ngScope.handleItem({position:n-1,itemUid:r}),o.sender.sortable("cancel"))}}(this)}),(t=this.formEditorEl.find(".group__rows")).each(function(e){return function(a){return o(t[a]).sortable({cancel:"button, .btn--addrow, .well, ul.list-view, li.editor-message, .editableform, .row-extras, .js-cancel-sort, .js-cancel-group-sort"+a,cursor:"move",distance:5,items:"> li",placeholder:"placeholder",connectWith:".group__rows, .survey-editor__list",opacity:.9,scroll:!0,stop:n,activate:r,deactivate:r,create:function(){e.survey.trigger("group-sortable-created",t[a]),o(t[a]).addClass("js-sortable-enabled")},receive:function(t,r){var n,a,i;a=r.item.data().uid,e.ngScope.handleItem&&a&&((i=o(r.item).parents("[data-row-id]")[0])&&(n=i.dataset.rowId),e.ngScope.handleItem({position:e.getItemPosition(r.item.prev()),itemUid:a,groupId:n}),r.sender.sortable("cancel"))}}),o(e).attr("data-sortable-index",a)}}(this)),t.find(".survey__row").each(this._preventSortableIfGroupTooSmall)},r.prototype._preventSortableIfGroupTooSmall=function(e,t){var r,n;if(r=o(t),null!=(n=t.className.match(/js-cancel-group-sort\d+/g))&&r.removeClass(n.join(" ")),0===r.siblings(".survey__row").length)return r.addClass("js-cancel-group-sort"+r.closest(".group__rows").attr("data-sortable-index"))},r.prototype.validateSurvey=function(){return this.features.multipleQuestions?this.survey._validate():1===this.survey.rows.length},r.prototype.ensureElInView=function(e,t,o){var r,n,a,i,l,s,c;return c=this.getViewForRow(e),r=c.$el,(a=e._parent.indexOf(e))>0&&(i=e._parent.at(a-1)),i&&(l=o.find(".survey__row[data-row-id="+i.cid+"]")),s=!1,n=function(e){return r.detach(),s=!0},0===r.parents(o).length||r.parent().get(0)!==o.get(0)?n():i?r.prev(".survey__row").not(".survey__row--deleted").data("rowId")!==i.cid&&n():r.prev(".survey__row").not(".survey__row--deleted").data("rowId")&&n(),s&&(i?r.insertAfter(l):r.appendTo(o)),c},r.prototype.getViewForRow=function(e){var t,o;return(o=this.__rowViews.get(e.cid))||(t="kobomatrix"===e.getValue("type")?new a.KoboMatrixView({model:e,ngScope:this.ngScope,surveyView:this}):"Group"===e.constructor.kls?new a.GroupView({model:e,ngScope:this.ngScope,surveyView:this}):"score"===e.get("type").getValue()?new a.ScoreView({model:e,ngScope:this.ngScope,surveyView:this}):"rank"===e.get("type").getValue()?new a.RankView({model:e,ngScope:this.ngScope,surveyView:this}):new a.RowView({model:e,ngScope:this.ngScope,surveyView:this}),this.__rowViews.set(e.cid,t),o=this.__rowViews.get(e.cid)),o},r.prototype._reset=function(e){var t,r,n,a,i;null==e&&(e=!1),b(this),r=!0,this.survey.forEachRow((i=this,function(e){return i.features.skipLogic||e.unset("relevant"),r=!1,i.ensureElInView(e,i,i.formEditorEl).render()}),{includeErrors:!0,includeGroups:!0,flat:!0}),n=null,a=null,e&&(n=o('*[data-row-id="'+e.cid+'"]'),a=e.getValue("type")),n&&a&&(a.includes("select_one")||a.includes("select_multiple"))?n.find("input.option-view-input").eq(0).select():n&&((t=n.find(".btn--addrow").eq(0)).addClass("btn--addrow-force-show"),t.focus(),o(document).one("keydown click",(function(e){return t.removeClass("btn--addrow-force-show"),t.blur()}))),this.formEditorEl.find(".survey-editor__null-top-row").removeClass("expanded").toggleClass("survey-editor__null-top-row--hidden",!r),!this.features.multipleQuestions||this.isLockable()&&this.hasRestriction(u.question_order_edit.name)||this.activateSortable()},r.prototype.clickDeleteGroup=function(e){return this._getViewForTarget(e).deleteGroup(e)},r.prototype.clickAddRowToQuestionLibrary=function(e){return this._getViewForTarget(e).add_row_to_question_library(e)},r.prototype.clickCloneQuestion=function(e){return this._getViewForTarget(e).clone()},r.prototype.clickRemoveRow=function(e){var r,n,a,i,l,s,c;if(e.preventDefault(),confirm(t("Are you sure you want to delete this question?")+" "+t("This action cannot be undone."))){if(this.survey.trigger("change"),r=o(e.target),l=r.parents(".survey__row").eq(0),s=l.data("rowId"),a=!1,n=function(e){e.cid===s&&(a=e)},this.survey.forEachRow(n,{includeGroups:!1}),!a)throw new Error("Matching row was not found.");i=a._parent._parent,a.detach(),l.addClass("survey__row--deleted"),l.slideUp(175,"swing",(c=this,function(){var e;if(l.remove(),c.survey.rows.remove(a),"Group"===i.constructor.kls&&0===i.rows.length)return(e=c.__rowViews.get(i.cid))||"undefined"!=typeof Raven&&null!==Raven&&Raven.captureException("parent view is not defined",a.get("name").get("value")),e._deleteGroup()}))}},r.prototype.groupSelectedRows=function(){var e,t;return t=this.selectedRows(),(e=this.$(".survey__row--selected")).detach(),e.removeClass("survey__row--selected"),this.activateGroupButton(!1),t.length>0&&(this.survey._addGroup({__rows:t}),this.reset(),!0)},r.prototype.selectedRows=function(){var e,t;return e=[],this.$el.find(".survey__row--selected").each((t=this,function(r,n){var a,i,l,s;if(!((a=o(n)).parents("li.survey__row--group.survey__row--selected").length>0))return s=a.data("rowId"),l=!1,i=function(e){if(e.cid===s)return l=e},t.survey.forEachRow(i,{includeGroups:!0}),e.push(l)})),e},r.prototype.onEscapeKeydown=function(){},r.prototype.buttonHoverIn=function(e){var r,n,a,i;e.stopPropagation(),r=o(e.currentTarget),a=r.data("buttonName"),r.closest(".card").addClass("card--shaded"),n=r.closest(".card__header"),i="settings"===a?t("[button triggers] Settings"):"delete"===a?t("[button triggers] Delete Question"):"duplicate"===a?t("[button triggers] Duplicate Question"):"add-to-library"===a?t("[button triggers] Add Question to Library"):void 0,n.find(".card__header--shade").eq(0).children("span").eq(0).attr("data-card-hover-text",i),n.addClass(a)},r.prototype.buttonHoverOut=function(e){var t,r;e.stopPropagation(),r=(t=o(e.currentTarget)).data("buttonName"),t.closest(".card__header").removeClass(r),t.closest(".card").removeClass("card--shaded")},r}(n),g.SurveyApp=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return k(t,e),t.prototype.features={multipleQuestions:!0,skipLogic:!0,copyToLibrary:!0},t}(h),g)}).call(this,r(29))},function(e,o){e.exports={addOptionButton:function(){return'<div class="card__addoptions js-card-add-options">\n  <div class="card__addoptions__layer"></div>\n    <ul><li class="multioptions__option  xlf-option-view xlf-option-view--depr">\n      <div><div tabIndex="0" class="editable-wrapper"><span class="editable editable-click">+ '+t("Click to add another response...")+"</span></div><code><label>"+t("XML value:")+"</label> <span>"+t("AUTOMATIC")+"</span></code></div>\n    </li></ul>\n</div>"}}},function(e,o){e.exports={acceptedFilesInput:function(e,o){return"<div class='card__settings__fields__field'>\n  <label>"+t("Accepted files")+"</label>\n  <span class='settings__input'>\n    <input class='text' type='text' value='"+e+"' placeholder='"+o+"'/>\n  </span>\n</div>"}}},function(e,t){e.exports={booleanParam:function(e,t){var o;return"true"===t&&(o="checked"),"<div class='checkbox'>\n  <label class='checkbox__wrapper'>\n    <input class='checkbox__input' type='checkbox' "+o+"/>\n    <span class='checkbox__label'>"+e+"</span>\n  </label>\n</div>"},numberParam:function(e,t,o){var r,n;return void 0!==o&&(r="placeholder='"+o+"'"),""!==t?n="value='"+t+"'":void 0!==o&&(n="value='"+o+"'"),"<label class='text-box text-box--on-white'>\n  <span class='text-box__label'>"+e+"</span>\n  <input class='text-box__input' type='number' "+n+" "+r+"/>\n</label>"}}},function(e,o,r){var n,a;e.exports=(a=r(4).replaceSupportEmail,n='<div class="survey__row__spacer  row clearfix expanding-spacer-between-rows expanding-spacer-between-rows--depr">\n  <div tabIndex="0" class="js-expand-row-selector js-add-row-button btn btn--addrow btn--block  btn-xs  btn-default"\n      ><i class="k-icon k-icon-plus"></i></div>\n  <div class="line">&nbsp;</div>\n</div>',{xlfRowView:function(e){var o;return o='<div class="survey__row__item survey__row__item--question card js-select-row">\n  <div class="card__header">\n    <div class="card__header--shade"><span></span></div>\n    <div class="card__indicator">\n      <div class="noop card__indicator__icon"><i class="card__header-icon"></i></div>\n    </div>\n    <div class="card__text">\n      <input type="text" placeholder="'+t("Question label is required")+'" class="card__header-title js-card-label js-cancel-select-row js-cancel-sort">\n      <input type="text" placeholder="'+t("Question hint")+'" class="card__header-hint js-card-hint js-cancel-select-row js-cancel-sort">\n    </div>\n    <div class="card__buttons">\n      <span class="card__buttons__button card__buttons__button--settings card__buttons__button--gray js-toggle-card-settings" data-button-name="settings"><i class="k-icon k-icon-settings"></i></span>\n      <span class="card__buttons__button card__buttons__button--delete card__buttons__button--red js-delete-row" data-button-name="delete"><i class="k-icon k-icon-trash"></i></span>',e.features.multipleQuestions&&(o+='<span class="card__buttons__button card__buttons__button--copy card__buttons__button--blue js-clone-question" data-button-name="duplicate"><i class="k-icon k-icon-clone"></i></span>\n<span class="card__buttons__button card__buttons__button--add card__buttons__button--green js-add-to-question-library" data-button-name="add-to-library"><i class="k-icon k-icon-folder-plus"></i></i></span>'),o+"    </div>\n  </div>\n</div>\n"+n},expandChoiceList:function(){return"<span class=\"card__buttons__multioptions js-toggle-row-multioptions js-cancel-select-row\"><i class='k-icon k-icon-caret-down' /></span>"},mandatorySettingSelector:function(e,o){var r;return r="true"===o||"false"===o?o:"custom",'<div class="card__settings__fields__field">\n  <label>'+t("Mandatory response")+':</label>\n  <span class="settings__input">\n    <div class="radio">\n      <label class="radio__row mandatory-setting__row mandatory-setting__row--true">\n        <input\n          class="radio__input js-mandatory-setting-radio"\n          type="radio"\n          name="'+e+'"\n          value="true" '+("true"===r?"checked":"")+'\n        >\n        <span class="radio__label">'+t("Yes")+'</span>\n      </label>\n      <label class="radio__row mandatory-setting__row mandatory-setting__row--false">\n        <input\n          class="radio__input js-mandatory-setting-radio"\n          type="radio"\n          name="'+e+'"\n          value="false" '+("false"===r?"checked":"")+'\n        >\n        <span class="radio__label">'+t("No")+'</span>\n      </label>\n      <label class="radio__row mandatory-setting__row mandatory-setting__row--custom">\n        <input\n          class="radio__input js-mandatory-setting-radio"\n          type="radio"\n          name="'+e+'"\n          value="custom" '+("custom"===r?"checked":"")+'\n        >\n        <span class="radio__label">'+t("Custom logic")+'</span>\n        <label class="text-box text-box--on-white">\n          <input\n            type="text"\n            class="text-box__input js-mandatory-setting-custom-text"\n            value=""\n            placeholder="'+t("Mandatory when this formula is true")+'"\n          >\n        </label>\n      </label>\n    </div>\n  </span>\n</div>'},paramsSettingsField:function(){return'<div class="js-params-view card__settings__fields__field params-view__settings-wrapper">\n  <label>'+t("Parameters")+':</label>\n  <span class="settings__input">\n    <div class="params-view"></div>\n  </span>\n</div>'},paramsSimple:function(){return'<div class="js-params-view params-view__simple-wrapper">\n  <div class="params-view"></div>\n</div>'},selectQuestionExpansion:function(){return'<div class="card--selectquestion__expansion row__multioptions js-cancel-sort">\n  <div class="list-view">\n    <ul></ul>\n  </div>\n</div>'},groupView:function(){return'<div class="survey__row__item survey__row__item--group group card js-select-row">\n  <header class="group__header">\n    <div class="group__header__icon js-group-icon">\n      <i class="k-icon"></i>\n    </div>\n    <i class="group__caret js-toggle-group-expansion k-icon k-icon-caret-down"></i>\n    <input type="text" class="card__header-title js-card-label js-cancel-select-row js-cancel-sort">\n    <div class="group__header__buttons">\n      <span class="group__header__buttons__button group__header__buttons__button--settings js-toggle-card-settings"><i class="k-icon k-icon-settings"></i></span>\n      <span class="group__header__buttons__button group__header__buttons__button--delete js-delete-group"><i class="k-icon k-icon-trash"></i></span>\n    </div>\n  </header>\n  <ul class="group__rows"></ul>\n</div>\n'+n},rowErrorView:function(e){return'<div class="card card--error">\n  '+t("Row could not be displayed:")+" <pre>"+e+"</pre>\n  <em>"+a(t("This question could not be imported. Please re-create it manually. Please contact us at help@kobotoolbox.org so we can fix this bug!"))+"</em>\n</div>\n"+n},koboMatrixView:function(){return'<div class="survey__row__item survey__row__item--question card js-select-row">\n  <div class="card__header">\n    <div class="card__header--shade"><span></span></div>\n    <div class="card__indicator">\n      <div class="noop card__indicator__icon"><i class="card__header-icon k-icon k-icon-matrix"></i></div>\n    </div>\n    <div class="card__text">\n      <input type="text" placeholder="'+t("Question label is required")+'" class="card__header-title js-card-label js-cancel-select-row js-cancel-sort">\n    </div>\n    <div class="card__buttons">\n      <span class="card__buttons__button card__buttons__button--settings card__buttons__button--gray js-toggle-card-settings" data-button-name="settings"><i class="k-icon k-icon-settings"></i></span>\n      <span class="card__buttons__button card__buttons__button--delete card__buttons__button--red js-delete-row" data-button-name="delete"><i class="k-icon k-icon-trash"></i></span>\n    </div>\n  </div>\n  <p class="kobomatrix-warning">'+t("Note: The Matrix question type only works in Enketo web forms using the 'grid' style.")+'</p>\n\n  <div class="card__kobomatrix">  </div>\n</div>\n'+n},scoreView:function(e){var o,r,n,a,i,l,s,c,d,u,p,m;for(null==e&&(e={}),i=[],a=[],l=0,s=(d=e.score_choices).length;l<s;l++)n=d[l],i.push('<td class="scorecell__radio"><input type="radio" disabled="disabled"></td>'),r="",o="",n.autoname&&(r="scorecell__name--automatic",o='data-automatic-name="'+n.autoname+'" '),c='<p class="scorecell__name '+r+'" '+o+' contenteditable="true" title="Option value">'+(n.name||"")+"</p>",a.push('<th class="scorecell__col" data-cid="'+n.cid+'">\n  <span class="scorecell__label" contenteditable="true">'+n.label+'</span><button class="scorecell__delete js-delete-scorecol">&times;</button>\n  '+c+"\n</th>");return m=a.join(""),i=i.join(""),'<div class="score_preview">\n  <table class="score_preview__table">\n  <thead>\n    <th class="scorecell--empty"></th>\n    '+m+'\n    <th class="scorecell--add"><button class="kobo-button kobo-button--small">+</button></th>\n  </thead>\n  <tbody>\n    '+function(){var n,a,l,s;for(s=[],n=0,a=(l=e.score_rows).length;n<a;n++)u=l[n],o="",r="",u.autoname&&(r="scorelabel__name--automatic",o='data-automatic-name="'+u.autoname+'" '),p='<span class="scorelabel__name '+r+'" '+o+' contenteditable="true" title="'+t("Row name")+'">'+(u.name||"")+"</span>",s.push('<tr data-row-cid="'+u.cid+'">\n  <td class="scorelabel">\n    <span class="scorelabel__edit" contenteditable="true">'+u.label+'</span>\n    <button class="scorerow__delete js-delete-scorerow">&times;</button>\n    <br>\n    '+p+"\n  </td>\n  "+i+"\n</tr>");return s}().join("")+'\n  </tbody>\n  <tfoot>\n    <tr>\n    <td class="scorerow--add"><button class="kobo-button kobo-button--small kobo-button--fullwidth">+</button></td>\n    </tr>\n  </tfoot>\n</table>\n</div>'},rankView:function(e,o){var r,n,a,i,l,s;return null==o&&(o={}),l=function(){var e,t,i,l;for(l=[],e=0,t=(i=o.rank_levels).length;e<t;e++)a=i[e],n="",r="",r='data-automatic-name="'+a.automatic+'" ',a.set_automatic&&(n="rank_items__name--automatic"),l.push('<li class="rank_items__level" data-cid="'+a.cid+'">\n  <span class="rank_items__level__label">'+a.label+'</span><button class="rankcell__delete js-delete-rankcell">&times;</button>\n  <br>\n  <span class="rank_items__name '+n+'" '+r+">"+(a.name||"")+"</span>\n</li>");return l}(),s=function(){var e,t,i,l;for(l=[],e=0,t=(i=o.rank_rows).length;e<t;e++)a=i[e],n="",r="",r='data-automatic-name="'+a.automatic+'" ',a.set_automatic&&(n="rank_items__name--automatic"),l.push('<li class="rank_items__item" data-cid="'+a.cid+'">\n  <span class="rank_items__item__label">'+a.label+'</span><button class="rankcell__delete js-delete-rankcell">&times;</button>\n  <br>\n  <span class="rank_items__name '+n+'" '+r+">"+(a.name||"")+"</span>\n</li>");return l}(),i='<li class="rank_items__constraint_wrap">\n  <p class="rank_items__constraint_explanation">\n    '+t("A constraint message to be read in case of error:")+'\n  </p>\n  <p class="rank_items__constraint_message">\n    '+o.rank_constraint_msg+"\n  </p>\n</li>",'<div class="rank_preview clearfix">\n  <ol class="rank__rows">\n    '+s.join("")+'\n    <li class="rank_items__add rank_items__add--item"><button class="kobo-button kobo-button--small kobo-button--fullwidth">+</button></li>\n  </ol>\n  <ul class="rank__levels">\n    '+l.join("")+'\n    <li class="rank_items__add rank_items__add--level"><button class="kobo-button kobo-button--small kobo-button--fullwidth">+</button></li>\n    '+i+"\n  </ul>\n</div>"},groupSettingsView:function(){return'<section class="card__settings  row-extras row-extras--depr">\n  <i class="card__settings-close k-icon k-icon-close js-toggle-card-settings"></i>\n  <ul class="card__settings__tabs">\n    <li class="heading"><i class="k-icon k-icon-settings"></i> '+t("Settings")+'</li>\n    <li data-card-settings-tab-id="row-options" class="card__settings__tabs__tab card__settings__tabs__tab--active">\n      '+t("All group settings")+'\n    </li>\n    <li data-card-settings-tab-id="skip-logic" class="card__settings__tabs__tab">\n      '+t("Skip Logic")+'\n    </li>\n    <li data-card-settings-tab-id="locked-features" class="card__settings__tabs__tab locking__ui-hidden">\n      '+t("Locked Features")+'\n    </li>\n  </ul>\n  <div class="card__settings__content">\n    <ul class="js-card-settings-row-options card__settings__fields card__settings__fields--active"></ul>\n    <ul class="js-card-settings-skip-logic card__settings__fields"></ul>\n    <ul class="js-card-settings-locked-features card__settings__fields locking__ui-hidden"></ul>\n  </div>\n</section>'},rowSettingsView:function(){return'<section class="card__settings  row-extras row-extras--depr">\n  <i class="card__settings-close k-icon k-icon-close js-toggle-card-settings"></i>\n  <ul class="card__settings__tabs">\n    <li class="heading"><i class="k-icon k-icon-settings"></i> '+t("Settings")+'</li>\n    <li data-card-settings-tab-id="row-options" class="card__settings__tabs__tab--active">\n      '+t("Question Options")+'\n    </li>\n    <li data-card-settings-tab-id="skip-logic" class="card__settings__tabs__tab">\n      '+t("Skip Logic")+'\n    </li>\n    <li data-card-settings-tab-id="validation-criteria" class="card__settings__tabs__tab">\n      '+t("Validation Criteria")+'\n    </li>\n    <li data-card-settings-tab-id="locked-features" class="card__settings__tabs__tab locking__ui-hidden">\n      '+t("Locked Features")+'\n    </li>\n  </ul>\n  <div class="card__settings__content">\n    <ul class="js-card-settings-row-options card__settings__fields card__settings__fields--active"></ul>\n    <ul class="js-card-settings-skip-logic card__settings__fields"></ul>\n    <ul class="js-card-settings-validation-criteria card__settings__fields"></ul>\n    <ul class="js-card-settings-locked-features card__settings__fields locking__ui-hidden"></ul>\n  </div>\n</section>'},iconTooltip:function(e,t){return'<div class="k-tooltip"><strong>'+e+"</strong><p>"+t+"</p></div>"},lockedFeatures:function(e){var o,r,n;return n="",r="",null!==e&&(e.cants.forEach((function(e){return n+="<li><i class='k-icon k-icon-close'></i>"+e.label+"</li>"})),e.cans.forEach((function(e){return r+="<li><i class='k-icon k-icon-check'></i>"+e.label+"</li>"}))),o="",""!==r&&(o='<ul class="locked-features__list locked-features__list--cans">\n  <label>'+t("Unlocked functionalities")+"</label>\n  "+r+"\n</ul>"),'<section class="locked-features">\n  <ul class="locked-features__list locked-features__list--cants">\n    <label>'+t("Locked functionalities")+"</label>\n    "+n+"\n  </ul>\n\n  "+o+"\n</section>"}})},function(e,t){e.exports=function(e){return"<code>"+e.model.key+":</code>\n<code>"+e.model.get("value")+"</code>"}},function(e,o){var r,n;e.exports=(r='<button type="button" class="row__questiontypes__close js-close-row-selector shrink pull-right close close-button close-button--depr" aria-hidden="true">&times;</button>',(n={}).line=function(e){return'<div class="row__questiontypes row-fluid clearfix">\n  '+r+'\n  <input type="text" value="'+e+'" class="row__questiontypes__new-question-name js-cancel-sort" />\n  <div class="row__questiontypes__list clearfix"></div>\n</div>'},n.cell=function(e){return'<div class="questiontypelist__item" data-menu-item="'+e.id+'">\n  <i class="'+e.iconClassName+'"></i>\n  '+e.label+"\n</div>"},n.namer=function(){return'<div class="row__questiontypes row__questiontypes--namer">\n  '+r+'\n  <form class="row__questiontypes__form" action="javascript:void(0);" >\n    <input type="text" class="js-cancel-sort mdl-textfield__input" />\n    <button class="kobo-button kobo-button--green">+ '+t("Add Question")+"</button>\n  </form>\n</div>"},n)},function(e,o){e.exports={surveyApp:function(e){var o,r,n,a;if(e.survey,a="",e.warnings&&e.warnings.length>0){for(a='<div class="survey-warnings">',o=0,r=(n=e.warnings).length;o<r;o++)a+='<p class="survey-warnings__warning">'+n[o]+"</p>";a+='<button class="survey-warnings__close-button js-close-warning">x</button></div>'}return a+'\n<div class="survey-editor form-editor-wrap container">\n  <ul class="-form-editor survey-editor__list">\n    <li class="survey-editor__null-top-row empty">\n      <p class="survey-editor__message well">\n        <b>'+t("This form is currently empty.")+"</b><br>\n        "+t("You can add questions, notes, prompts, or other fields by clicking on the '+' sign below.")+'\n      </p>\n      <div class="survey__row__spacer  expanding-spacer-between-rows expanding-spacer-between-rows--depr">\n        <div tabIndex="0" class="btn btn--block btn--addrow js-expand-row-selector">\n          <i class="k-icon k-icon-plus"></i>\n        </div>\n        <div class="line">&nbsp;</div>\n      </div>\n    </li>\n  </ul>\n</div>'}}},,,function(e,o,r){(function(o){var n,a,i,l,s,c,d,u,p,m,f,_,h,b,g,y,v,k,w,x,E,S,O,T,R,A,C,j,P,L,D,N=function(e,t){return function(){return e.apply(t,arguments)}},M=function(e,t){for(var o in t)I.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},I={}.hasOwnProperty,F=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1},U=[].slice;g=r(20),_=r(47),a=r(59),r(400),s=r(138),l=r(40),m=r(108),f=r(105),c=r(520),u=r(521),d=r(522),n=r(523),p=r(524),A=r(919).renderKobomatrix,E=r(22).hasRowRestriction,x=r(22).getRowLockingProfile,T=r(22).isRowLocked,O=r(22).isAssetLockable,S=r(22).isAssetAllLocked,w=r(22).getQuestionFeatures,k=r(22).getGroupFeatures,h=r(23).LOCKING_RESTRICTIONS,b=r(23).LOCKING_UI_CLASSNAMES,i=r(350),R=r(543).multiConfirm,y=r(14),v=r(2),e.exports=(j=function(e){function r(){return this._deleteGroupWithContent=N(this._deleteGroupWithContent,this),this._deleteGroup=N(this._deleteGroup,this),this.deleteGroup=N(this.deleteGroup,this),r.__super__.constructor.apply(this,arguments)}return M(r,e),r.prototype.className="survey__row survey__row--group  xlf-row-view xlf-row-view--depr",r.prototype.initialize=function(e){var t,o,r;this.options=e,this.ngScope=e.ngScope,this._shrunk=!!e.shrunk,this.$el.attr("data-row-id",this.model.cid),this.surveyView=this.options.surveyView,null!=(t=this.model.getSurvey())&&t.on("change",(r=this,function(){return r.applyLocking()})),null!=(o=this.model.getSurvey())&&o.on("group-sortable-created",function(e){return function(){return e.applyLocking()}}(this))},r.prototype.deleteGroup=function(e){e.preventDefault(),o(e.currentTarget).hasClass("js-force-delete-group")?this._deleteGroup():R("deleteOrSplitGroup",t("Delete group"),t("Do you want to split the group apart (and leave questions intact) or delete everything entirely?"),[{label:t("Ungroup questions"),icon:"k-icon k-icon-group-split",color:"blue",isDisabled:this.isLockable()&&this.hasRestriction(h.group_split.name),callback:this._deleteGroup.bind(this)},{label:t("Delete everything"),icon:"k-icon k-icon-trash",color:"red",isDisabled:this.isLockable()&&this.hasRestriction(h.group_delete.name),callback:this._deleteGroupWithContent.bind(this)}])},r.prototype._deleteGroup=function(){this.model.splitApart(),this.model._parent._parent.trigger("remove",this.model),this.surveyView.survey.trigger("change"),this.$el.detach()},r.prototype._deleteGroupWithContent=function(){this.model.rows.reset(),this._deleteGroup(),this.surveyView.survey.trigger("change")},r.prototype.render=function(){var e;return this.already_rendered||(this.$el.html(m.row.groupView(this.model)),this.$card=this.$el.find("> .card").eq(0),this.$rows=this.$card.find("> .group__rows").eq(0),this.$header=this.$card.find("> .card__header, > .group__header").eq(0),this.$label=this.$header.find(".js-card-label").eq(0)),this.model.rows.each((e=this,function(t){return e.getApp().ensureElInView(t,e,e.$rows).render()})),this.already_rendered||new p.DetailView({model:this.model.get("label"),rowView:this}).render().insertInDOM(this),this.already_rendered=!0,this.applyLocking(),this},r.prototype.applyLocking=function(){var e,r,n,a,i,l,s,c,d;null!==(c=this.getRowName())&&(this.$settings=this.$card.find("> .card__settings").eq(0),a=this.isLockable(),T(this.ngScope.rawSurvey,c)&&(this.$settings.find('*[data-card-settings-tab-id="locked-features"]').removeClass(b.HIDDEN),this.$lockedFeaturesContent=this.$settings.find(".js-card-settings-locked-features"),this.$lockedFeaturesContent.removeClass(b.HIDDEN),i=o(m.row.lockedFeatures(k(this.ngScope.rawSurvey,c))),this.$lockedFeaturesContent.html(i),(e=this.$header.find(".js-group-icon")).find(".k-icon").addClass("k-icon-lock-alt"),e.hasClass("k-tooltip__parent")||(e.addClass("k-tooltip__parent"),n=S(this.ngScope.rawSurvey),l=t("Locked"),n||(l=null!=(s=x(this.ngScope.rawSurvey,c))?s.name:void 0),d=t("fully locked group"),n||(d=t("partially locked group")),r=o(m.row.iconTooltip(l,d)),e.append(r))),a&&this.hasRestriction(h.group_split.name)&&this.hasRestriction(h.group_delete.name)&&this.$header.find(".js-delete-group").addClass(b.HIDDEN),a&&this.hasRestriction(h.group_label_edit.name)&&this.$label.addClass(b.DISABLED),a&&this.hasRestriction(h.group_question_add.name)&&(this.$el.find(".js-add-row-button").addClass(b.HIDDEN),this.$el.find(".js-clone-question").addClass(b.HIDDEN)),a&&this.hasRestriction(h.group_question_delete.name)&&this.$el.find(".js-delete-row").addClass(b.HIDDEN),a&&this.hasRestriction(h.group_question_order_edit.name)&&(this.$card.find(".group__rows.ui-sortable").sortable("disable"),this.$card.find(".group__rows.ui-sortable").removeClass("js-sortable-enabled")),a&&this.hasRestriction(h.group_settings_edit.name)&&this.$settings.find(".js-card-settings-row-options").addClass(b.DISABLED),a&&this.hasRestriction(h.group_skip_logic_edit.name)&&this.$settings.find(".js-card-settings-skip-logic").addClass(b.DISABLED))},r.prototype.hasNestedGroups=function(){return g.filter(this.model.rows.models,(function(e){return"group"===e.constructor.key})).length>0},r.prototype._expandedRender=function(){var e,o,r,n,a,i,l;for(this.$header.after(m.row.groupSettingsView()),this.cardSettingsWrap=this.$(".card__settings").eq(0),this.defaultRowDetailParent=this.cardSettingsWrap.find(".card__settings__fields--active").eq(0),e=0,r=(n=this.model.attributesArray()).length;e<r;e++)o=(a=n[e])[0],i=a[1],("name"===o||"_isRepeat"===o||"appearance"===o||"relevant"===o||o.match(/^.+::.+/))&&new p.DetailView({model:i,rowView:this}).render().insertInDOM(this);return this.model.on("add",(l=this,function(e){var o,r;if("group"===e.constructor.key)return(o=l.$(".xlf-dv-appearance").eq(0)).hide(),o.find("input:checkbox").prop("checked",!1),(r=l.model.get("appearance")).getValue()&&y.warning(t("You can't display nested groups on the same screen - the setting has been removed from the parent group")),r.set("value","")})),this.model.on("remove",function(e){return function(t){if("group"===t.constructor.key&&!e.hasNestedGroups())return e.$(".xlf-dv-appearance").eq(0).show()}}(this)),this.applyLocking(),this},r}(C=function(e){function t(){return this.add_row_to_question_library=N(this.add_row_to_question_library,this),this.clone=N(this.clone,this),t.__super__.constructor.apply(this,arguments)}return M(t,e),t.prototype.tagName="li",t.prototype.className="survey__row  xlf-row-view xlf-row-view--depr",t.prototype.events={drop:"drop"},t.prototype.initialize=function(e){var t;this.options=e,this.model.get("type"),this.$el.attr("data-row-id",this.model.cid),this.ngScope=e.ngScope,this.surveyView=this.options.surveyView,this.model.on("detail-change",(t=this,function(e,o,r){var n;return n=f.normalizeEventName("row-detail-change-"+e),t.$(".on-"+n).trigger(n,e,o,r)}))},t.prototype.drop=function(e,t){return this.$el.trigger("update-sort",[this.model,t])},t.prototype.getApp=function(){return this.surveyView.getApp()},t.prototype.getRawType=function(){return this.model.get("type").get("typeId")},t.prototype.getRowName=function(){var e,t;return t=this.model.get("name"),e=this.model.get("$autoname"),t&&t.get("value")?t.get("value"):e&&e.get("value")?e.get("value"):null},t.prototype.hasRestriction=function(e){return E(this.ngScope.rawSurvey,this.getRowName(),e)},t.prototype.isLockable=function(){var e;return O(null!=(e=this.ngScope.assetType)?e.id:void 0)},t.prototype.render=function(e){var t,o;if(null==e&&(e={}),t=e.fixScroll,!this.already_rendered)return t&&this.$el.height(this.$el.height()),this.already_rendered=!0,this.model instanceof s.RowError?this._renderError():this._renderRow(),this.is_expanded=null!=(o=this.$card)?o.hasClass("card--expandedchoices"):void 0,t&&this.$el.attr("style",""),this},t.prototype._renderError=function(){var e;return this.$el.addClass("xlf-row-view-error"),e=f.cleanStringify(this.model.toJSON()),this.$el.html(m.$$render("row.rowErrorView",e)),this},t.prototype._renderRow=function(){var e,t,o,r,n,i,l,s,d,f;this.$el.html(m.$$render("row.xlfRowView",this.surveyView)),this.$card=this.$el.find("> .card").eq(0),this.$header=this.$card.find("> .card__header").eq(0),this.$label=this.$header.find(".js-card-label").eq(0),this.$hint=this.$header.find(".js-card-hint").eq(0),i=this.getRawType(),a.questionParams[i]&&"getParameters"in this.model&&"range"===i&&(this.paramsView=new u.ParamsView({rowView:this,parameters:this.model.getParameters(),questionType:i}).render().insertInDOMAfter(this.$header)),"calculate"!==i&&"hidden"!==i&&i!==v.QUESTION_TYPES["xml-external"]||this.$hint.hide(),"getList"in this.model&&(e=this.model.getList())&&(this.$card.addClass("card--selectquestion card--expandedchoices"),this.is_expanded=!0,o=this.isLockable()&&this.hasRestriction(h.choice_order_edit.name),this.listView=new c.ListView({model:e,rowView:this}).render(o)),this.cardSettingsWrap=this.$(".card__settings").eq(0),this.defaultRowDetailParent=this.cardSettingsWrap.find(".js-card-settings-row-options").eq(0);for(t=0,n=(l=this.model.attributesArray()).length;t<n;t++)r=(s=l[t])[0],d=s[1],"label"!==r&&"hint"!==r&&"type"!==r||(f=new p.DetailView({model:d,rowView:this}),"label"!==r||"calculate"!==this.getRawType()&&this.getRawType()!==v.QUESTION_TYPES["xml-external"]||("calculate"===this.getRawType()?f.model=this.model.get("calculation"):this.getRawType()===v.QUESTION_TYPES["xml-external"]&&(f.model=this.model.get("name")),this.model.finalize(),d.set("value","")),f.render().insertInDOM(this));return this.model.getValue("required")&&this.$card.addClass("card--required"),this},t.prototype.toggleSettings=function(e){void 0===e&&(e=!this._settingsExpanded),e&&!this._settingsExpanded?(this._expandedRender(),this.$card.addClass("card--expanded-settings"),"function"==typeof this.hideMultioptions&&this.hideMultioptions(),this._settingsExpanded=!0,this.applyLocking&&this.applyLocking()):!e&&this._settingsExpanded&&(this.$card.removeClass("card--expanded-settings"),this._cleanupExpandedRender(),this._settingsExpanded=!1)},t.prototype._cleanupExpandedRender=function(){return this.$(".card__settings").detach()},t.prototype.clone=function(e){var t,o,r,n;return o=this.model._parent,t=this.model,"select_one"===(r=this.model.get("type").get("typeId"))||"select_multiple"===r?t=this.model.clone():"rank"!==(n=this.model.get("type").get("typeId"))&&"score"!==n||(t=this.model.clone()),this.model.getSurvey().insert_row.call(o._parent,t,o.models.indexOf(this.model)+1)},t.prototype.add_row_to_question_library=function(e){var t;return e.stopPropagation(),null!=(t=this.ngScope)?t.add_row_to_question_library(this.model,this.model.getSurvey()._initialParams):void 0},t}(_.View)),P=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return M(t,e),t.prototype.className="survey__row survey__row--kobo-matrix",t.prototype._expandedRender=function(){return t.__super__._expandedRender.call(this),this.$(".xlf-dv-required").hide(),this.$("li[data-card-settings-tab-id='validation-criteria']").hide(),this.$("li[data-card-settings-tab-id='skip-logic']").hide()},t.prototype._renderRow=function(){var e,t,o,r,n,a,i;for(this.$el.html(m.row.koboMatrixView()),this.matrix=this.$(".card__kobomatrix"),A(this,this.matrix),this.$label=this.$(".js-card-label").eq(0),this.$card=this.$(".card").eq(0),this.$header=this.$(".card__header").eq(0),e=0,o=(r=this.model.attributesArray()).length;e<o;e++)t=(n=r[e])[0],a=n[1],"label"!==t&&"type"!==t||(i=new p.DetailView({model:a,rowView:this}),"label"===t&&"calculate"===this.model.get("type").get("value")&&(i.model=this.model.get("calculation"),this.model.finalize(),a.set("value","")),i.render().insertInDOM(this));return this},t}(D=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return M(r,e),r.prototype.initialize=function(e){var t,o;r.__super__.initialize.call(this,e),null!=(t=this.model.getSurvey())&&t.on("change",(o=this,function(){return o.applyLocking()}))},r.prototype._renderRow=function(){return r.__super__._renderRow.call(this),this.applyLocking(),this},r.prototype._expandedRender=function(){var e,t,o,r,i,l,s,c;for(this.$header.after(m.row.rowSettingsView()),this.cardSettingsWrap=this.$(".card__settings").eq(0),this.defaultRowDetailParent=this.cardSettingsWrap.find(".js-card-settings-row-options").eq(0),e=["label","hint","type","select_from_list_name","kobo--matrix_list","parameters"],t=0,r=(l=this.model.attributesArray()).length;t<r;t++)if(o=(s=l[t])[0],c=s[1],!o.match(/^\$/)&&F.call(e,o)<0)if("required"===o)this.mandatorySetting=new d.MandatorySettingView({model:this.model.get("required")}).render().insertInDOM(this);else{if("_isRepeat"===o&&"kobomatrix"===this.model.getValue("type"))continue;new p.DetailView({model:c,rowView:this}).render().insertInDOM(this)}return i=this.model.get("type").get("typeId"),a.questionParams[i]&&"getParameters"in this.model&&"range"!==i&&(this.paramsView=new u.ParamsView({rowView:this,parameters:this.model.getParameters(),questionType:i}).render().insertInDOM(this)),"file"===i&&(this.acceptedFilesView=new n.AcceptedFilesView({rowView:this,acceptedFiles:this.model.getAcceptedFiles()}).render().insertInDOM(this)),this.applyLocking(),this},r.prototype.applyLocking=function(){var e,r,n,a,l,s,c,d,u,p,f;null!==(p=this.getRowName())&&(this.$settings=this.$card.find("> .card__settings"),l=this.isLockable(),T(this.ngScope.rawSurvey,p)&&(a=S(this.ngScope.rawSurvey),c=x(this.ngScope.rawSurvey,p),a?this.$el.addClass("locking__level-all"):c&&0===c.index?this.$el.addClass("locking__level-1"):c&&1===c.index?this.$el.addClass("locking__level-2"):c&&c.index>=2&&this.$el.addClass("locking__level-3-plus"),this.$settings.find('*[data-card-settings-tab-id="locked-features"]').removeClass(b.HIDDEN),this.$lockedFeaturesContent=this.$settings.find(".js-card-settings-locked-features"),this.$lockedFeaturesContent.removeClass(b.HIDDEN),s=o(m.row.lockedFeatures(w(this.ngScope.rawSurvey,p))),this.$lockedFeaturesContent.html(s),(r=i.get(this.getRawType()))&&((e=this.$header.find(".card__indicator__icon")).find(".card__header-icon").removeClass(r.get("iconClassName")),e.find(".card__header-icon").addClass(r.get("iconClassNameLocked")),e.hasClass("k-tooltip__parent")||(d=t("Locked"),a||(d=null!=(u=x(this.ngScope.rawSurvey,p))?u.name:void 0),f=t("fully locked question"),a||(f=t("partially locked question")),e.addClass("k-tooltip__parent"),n=o(m.row.iconTooltip(d,f)),e.append(n))),l&&this.hasRestriction(h.choice_add.name)&&this.$el.find(".js-card-add-options").addClass(b.DISABLED),l&&this.hasRestriction(h.choice_delete.name)&&this.$el.find(".js-remove-option").addClass(b.DISABLED),l&&this.hasRestriction(h.choice_label_edit.name)&&this.$el.find(".js-option-label-input").addClass(b.DISABLED),l&&this.hasRestriction(h.choice_value_edit.name)&&this.$el.find(".js-option-name-input").addClass(b.DISABLED),l&&this.hasRestriction(h.question_delete.name)&&this.$header.find(".js-delete-row").addClass(b.HIDDEN),l&&this.hasRestriction(h.question_label_edit.name)&&(this.$label&&this.$label.addClass(b.DISABLED),this.$hint&&this.$hint.addClass(b.DISABLED)),l&&this.hasRestriction(h.question_settings_edit.name)&&(this.$settings.find(".js-card-settings-row-options").addClass(b.DISABLED),this.$settings.find(".js-params-view").addClass(b.DISABLED)),l&&this.hasRestriction(h.question_skip_logic_edit.name)&&this.$settings.find(".js-card-settings-skip-logic").addClass(b.DISABLED),l&&this.hasRestriction(h.question_validation_edit.name)&&this.$settings.find(".js-card-settings-validation-criteria").addClass(b.DISABLED)))},r.prototype.hideMultioptions=function(){this.$card.removeClass("card--expandedchoices"),this.is_expanded=!1},r.prototype.showMultioptions=function(){this.$card.addClass("card--expandedchoices"),this.$card.removeClass("card--expanded-settings"),this.toggleSettings(!1)},r.prototype.toggleMultioptions=function(){this.is_expanded?this.hideMultioptions():(this.showMultioptions(),this.is_expanded=!0)},r}(C)),{RowView:D,ScoreView:function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return M(r,e),r.prototype.className="survey__row survey__row--score",r.prototype._renderRow=function(){var e,n,a,i,s,c,d,u,p,f,_,h;for(n=1<=arguments.length?U.call(arguments,0):[],r.__super__._renderRow.call(this,n);this.model._scoreChoices.options.length<2;)this.model._scoreChoices.options.add({label:"Option"});return p=function(){var e,t,o,r,n;for(n=[],e=0,t=(o=this.model._scoreChoices.options.models).length;e<t;e++)u=o[e],a="",void 0!==(r=u.get("name"))&&""!==r||(a=l.sluggify(u.get("label"))),n.push({label:u.get("label"),name:u.get("name"),autoname:a,cid:u.cid});return n}.call(this),this.model._scoreRows.length<1&&this.model._scoreRows.add({label:t("Enter your question"),name:""}),_={score_rows:function(){var e,t,o,r,n;for(n=[],e=0,t=(o=this.model._scoreRows.models).length;e<t;e++)f=o[e],a=void 0===(r=f.get("name"))||""===r?l.sluggify(f.get("label"),{validXmlTag:!0}):"",n.push({label:f.get("label"),name:f.get("name"),autoname:a,cid:f.cid});return n}.call(this),score_choices:p},i=m.$$render("row.scoreView",_),this.$(".card--selectquestion__expansion").eq(0).append(i).addClass("js-cancel-select-row"),this.$(".score__contents--rows").eq(0),this.$(".score__contents--choices").eq(0),e=this.$el,d=function(t,o,r){return e.off(t).on(t,o,r)},h=this,c=function(e){return h.model._scoreRows.get(e)},s=function(e){return function(t){return e.model._scoreChoices.options.get(t)}}(this),d("click.deletescorerow",".js-delete-scorerow",function(e){return function(t){var r;return r=o(t.target).closest("tr").eq(0).data("row-cid"),e.model._scoreRows.remove(c(r)),e.already_rendered=!1,e.render({fixScroll:!0})}}(this)),d("click.deletescorecol",".js-delete-scorecol",function(e){return function(t){var r;return r=o(t.target),e.model._scoreChoices.options.remove(s(r.closest("th").data("cid"))),e.already_rendered=!1,e.render({fixScroll:!0})}}(this)),d("input.editscorelabel",".scorelabel__edit",(function(e){var t,r;return r=(t=o(e.target)).closest("tr").eq(0).data("row-cid"),c(r).set("label",t.text())})),d("input.namechange",".scorelabel__name",(function(e){var t,r,n,a;return a=(t=o(e.currentTarget)).closest("tr").eq(0).data("row-cid"),r=t.text(),n=l.sluggify(r,{validXmlTag:!0}),c(a).set("name",n),""===n?t.addClass("scorelabel__name--automatic"):t.removeClass("scorelabel__name--automatic"),t.off("blur"),t.on("blur",(function(){return r!==n&&t.text(n),""===n?(t.addClass("scorelabel__name--automatic"),t.closest("td").find(".scorelabel__edit").trigger("keyup")):t.removeClass("scorelabel__name--automatic")}))})),d("keyup.namekey",".scorelabel__edit",(function(e){var t;return(t=o(e.currentTarget)).closest(".scorelabel").find(".scorelabel__name").attr("data-automatic-name",l.sluggify(t.text(),{validXmlTag:!0}))})),d("input.choicechange",".scorecell__label",(function(e){var t;return t=o(e.target),s(t.closest("th").data("cid")).set("label",t.text())})),d("input.optvalchange",".scorecell__name",(function(e){var t,r;return""===(r=(t=o(e.target)).text())?t.addClass("scorecell__name--automatic"):t.removeClass("scorecell__name--automatic"),s(t.closest("th").eq(0).data("cid")).set("name",r)})),d("keyup.optlabelchange",".scorecell__label",(function(e){var t;return(t=o(e.currentTarget)).closest(".scorecell__col").find(".scorecell__name").attr("data-automatic-name",l.sluggify(t.text()))})),d("blur.choicechange",".scorecell__label",function(e){return function(t){return e.render()}}(this)),d("click.addchoice",".scorecell--add",function(e){return function(t){return e.already_rendered=!1,e.model._scoreChoices.options.add([{label:"Option"}]),e.render({fixScroll:!0})}}(this)),d("click.addrow",".scorerow--add",function(e){return function(t){return e.already_rendered=!1,e.model._scoreRows.add([{label:"Enter your question"}]),e.render({fixScroll:!0})}}(this))},r}(L=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return M(t,e),t.prototype._expandedRender=function(){return t.__super__._expandedRender.call(this),this.$(".xlf-dv-required").hide(),this.$("li[data-card-settings-tab-id='validation-criteria']").hide()},t}(D)),KoboMatrixView:P,GroupView:j,RankView:function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return M(t,e),t.prototype.className="survey__row survey__row--rank",t.prototype._renderRow=function(){var e,o,r,n,a,i,s,c,d,u,p;for(n=1<=arguments.length?U.call(arguments,0):[],t.__super__._renderRow.call(this,n),(p={}).rank_constraint_msg=null!=(u=this.model.get("kobo--rank-constraint-message"))?u.get("value"):void 0,i=2,this.model._rankRows.length>i&&(i=this.model._rankRows.length);this.model._rankLevels.options.length<i;)this.model._rankLevels.options.add({label:"Item to be ranked",name:""});for(c=function(){var t,n,a,i;for(i=[],t=0,n=(a=this.model._rankLevels.options.models).length;t<n;t++)s=a[t],o=s.get("label"),r=s.get("name"),e=l.sluggify(o),i.push({label:o,name:r,automatic:e,set_automatic:""===r,cid:s.cid});return i}.call(this),p.rank_levels=c;this.model._rankRows.length<1;)this.model._rankRows.add({label:"1st choice",name:""});return d=function(){var t,n,a,i;for(i=[],t=0,n=(a=this.model._rankRows.models).length;t<n;t++)s=a[t],o=s.get("label"),r=s.get("name"),e=l.sluggify(o,{validXmlTag:!0}),i.push({label:o,name:r,automatic:e,set_automatic:""===r,cid:s.cid});return i}.call(this),p.rank_rows=d,a=m.$$render("row.rankView",this,p),this.$(".card--selectquestion__expansion").eq(0).append(a).addClass("js-cancel-select-row"),this.editRanks()},t.prototype.editRanks=function(){var e,t,r,n;return this.$([".rank_items__item__label",".rank_items__level__label",".rank_items__constraint_message",".rank_items__name"].join(",")).attr("contenteditable","true"),e=this.$el,n=this,t=function(e){var t,r;return t=(r=o(e.target).parents("li").eq(0)).eq(0).data("cid"),r.hasClass("rank_items__level")?n.model._rankLevels.options.get(t):n.model._rankRows.get(t)},(r=function(t,o,r){return e.off(t).on(t,o,r)})("click.deleterankcell",".js-delete-rankcell",function(e){return function(r){var n,a;return n=0===o(r.target).parents(".rank__rows").length?e.model._rankLevels.options:e.model._rankRows,a=t(r),n.remove(a),e.already_rendered=!1,e.render({fixScroll:!0})}}(this)),r("input.ranklabelchange1",".rank_items__item__label",(function(e){var r,n,a;return a=(r=o(e.currentTarget)).text(),n=l.sluggify(a,{validXmlTag:!0}),r.closest(".rank_items__item").find(".rank_items__name").attr("data-automatic-name",n),t(e).set("label",a)})),r("input.ranklabelchange2",".rank_items__level__label",(function(e){var r,n,a;return a=(r=o(e.currentTarget)).text(),n=l.sluggify(a),r.closest(".rank_items__level").find(".rank_items__name").attr("data-automatic-name",n),t(e).set("label",a)})),r("input.ranklabelchange3",".rank_items__name",(function(e){var r,n,a,i;return r=o(e.currentTarget),n=r.text(),i=r.parents(".rank_items__item").length>0,a=l.sluggify(n,{validXmlTag:i}),r.off("blur"),r.one("blur",(function(){return""===a?r.addClass("rank_items__name--automatic"):(n!==a&&(log("changin"),r.text(a)),r.removeClass("rank_items__name--automatic"))})),t(e).set("name",a)})),r("focus",".rank_items__constraint_message--prelim",(function(e){return o(e.target).removeClass("rank_items__constraint_message--prelim").empty()})),r("input.ranklabelchange4",".rank_items__constraint_message",function(e){return function(t){return e.model.get("kobo--rank-constraint-message").set("value",t.target.textContent)}}(this)),r("click.addrow",".rank_items__add",function(e){return function(t){var r,n;return 0===o(t.target).parents(".rank__rows").length?e.model._rankLevels.options.add({label:"Item",name:""}):(n="1st 2nd 3rd".split(" "),r=e.model._rankRows.length+1>n.length?e.model._rankRows.length+1+"th":n[e.model._rankRows.length],e.model._rankRows.add({label:r+" choice",name:""})),e.already_rendered=!1,e.render({fixScroll:!0})}}(this))},t}(L)})}).call(this,r(29))},function(e,o,r){(function(o){var n,a,i,l,s,c,d=function(e,t){for(var o in t)u.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},u={}.hasOwnProperty;s=r(20),r(47),a=r(106),i=r(40),n=r(139),l=r(108),r(105),e.exports={ListView:function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.initialize=function(e){return this.rowView=e.rowView,this.model=e.model,this.list=this.model,this.row=this.rowView.model,o(o.parseHTML(l.row.selectQuestionExpansion())).insertAfter(this.rowView.$(".card__header")),this.$el=this.rowView.$(".list-view"),this.ulClasses=this.$("ul").prop("className")},t.prototype.render=function(e){var t,r,n,a,i,s,d,u;if(0===(r=this.rowView.$el.find(".card__text")).find(".card__buttons__multioptions.js-expand-multioptions").length&&r.prepend(o.parseHTML(l.row.expandChoiceList())),this.$el.html(this.ul=o("<ul>",{class:this.ulClasses})),this.row.get("type").get("rowType").specifyChoice){for(d=this.model.options.models,n=a=0,i=d.length;a<i;n=++a)s=d[n],new c({model:s,cl:this.model}).render().$el.appendTo(this.ul);if(0===n)for(;n<2;)this.addEmptyOption("Option "+ ++n);this.$el.removeClass("hidden")}else this.$el.addClass("hidden");return e||this.ul.sortable({axis:"y",cursor:"move",distance:5,items:"> li",placeholder:"option-placeholder",opacity:.9,scroll:!1,create:(u=this,function(){u.ul.addClass("js-sortable-enabled")}),deactivate:function(e){return function(){var t;return e.hasReordered&&(e.reordered(),null!=(t=e.model.getSurvey())&&t.trigger("change")),!0}}(this),change:function(e){return function(){return e.hasReordered=!0}}(this)}),(t=o(l.$$render("xlfListView.addOptionButton"))).click(function(e){return function(){var t;return n=e.model.options.length,e.addEmptyOption("Option "+(n+1)),null!=(t=e.model.getSurvey())&&t.trigger("change"),e.$el.children().eq(0).children().eq(n).find("input.option-view-input").select()}}(this)),this.$el.append(t),this},t.prototype.addEmptyOption=function(e){var t,o;if(t=new a.Option({label:e}),this.model.options.add(t),new c({model:t,cl:this.model}).render().$el.appendTo(this.ul),2===(o=this.ul.find("li")).length)return o.find(".js-remove-option").removeClass("hidden")},t.prototype.reordered=function(e,t){var r,n,a,i,l;for(n=[],this.ul.find("> li").each((function(e,t){var r;if(r=o(t).data("optionId"))return n.push(r)})),l=a=0,i=n.length;a<i;l=++a)r=n[l],this.model.options.get(r).set("order",l,{silent:!0});return this.model.options.comparator="order",this.model.options.sort(),this.hasReordered=!1},t}(n),OptionView:c=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return d(r,e),r.prototype.tagName="li",r.prototype.className="multioptions__option xlf-option-view xlf-option-view--depr",r.prototype.events={"keyup input":"keyupinput","keydown input":"keydowninput","click .js-remove-option":"remove"},r.prototype.initialize=function(e){this.options=e},r.prototype.render=function(){var e;return this.t=o('<i class="k-icon k-icon-trash js-remove-option">'),this.pw=o('<div class="editable-wrapper js-option-label-input js-cancel-select-row">'),this.p=o('<input placeholder="'+t("This option has no name")+'" class="js-cancel-select-row option-view-input">'),this.c=o("<code><label>"+t("XML value:")+'</label> <input type="text" class="js-option-name-input js-cancel-select-row"></input></code>'),this.d=o("<div>"),this.model?(this.p.val(this.model.get("label")||"Empty"),this.$el.attr("data-option-id",this.model.cid),o("input",this.c).val(this.model.get("name")||"AUTOMATIC"),this.model.set("setManually",!0)):(this.model=new a.Option,this.options.cl.options.add(this.model),this.p.val("Option "+(1+this.options.i)).addClass("preliminary")),this.p.change(function(e){var t;return t=e.currentTarget.value,this.saveValue(t)}.bind(this)),this.n=o("input",this.c),this.n.change(function(e){var t,o;return o=e.currentTarget.value,t=this.options.cl.getNames(),null!=this.model.get("name")&&o.toLowerCase()===this.model.get("name").toLowerCase()&&t.splice(s.indexOf(t,this.model.get("name")),1),""===o?(this.model.unset("name"),this.model.set("setManually",!1),o="AUTOMATIC",this.$el.trigger("choice-list-update",this.options.cl.cid)):(o=i.sluggify(o,{preventDuplicates:t,lowerCase:!1,lrstrip:!0,incrementorPadding:!1,characterLimit:40,validXmlTag:!1,nonWordCharsExceptions:"+-."}),this.model.set("name",o),this.model.set("setManually",!0),this.$el.trigger("choice-list-update",this.options.cl.cid)),{newValue:o}}.bind(this)),this.pw.html(this.p),this.pw.on("click",(e=this,function(t){if(!e.p.is(":hidden")&&t.target!==e.p[0])return e.p.click()})),this.d.append(this.pw),this.d.append(this.t),this.d.append(this.c),this.$el.html(this.d),this},r.prototype.keyupinput=function(e){var t;return t=this.$("input.inplace_field"),8===e.keyCode&&t.hasClass("empty")&&t.blur(),""===t.val()?t.addClass("empty"):t.removeClass("empty")},r.prototype.keydowninput=function(e){var t,r,n;if(13===e.keyCode)return e.preventDefault(),r=o("ul.ui-sortable").index(o(this.el).parent()),(t=(n=o("ul.ui-sortable").eq(r).children().find("input.option-view-input")).index(document.activeElement)+1)>=n.length&&o(this.el).parent().siblings().find("div.editable-wrapper").eq(0).focus(),n.eq(t).select()},r.prototype.remove=function(){var e,t,o;if(e=this.$el.parent(),null!=(o=this.model.getSurvey())&&o.trigger("change"),this.$el.remove(),this.model.destroy(),1===(t=e.find("li")).length)return t.find(".js-remove-option").addClass("hidden")},r.prototype.saveValue=function(e){var t,o,r;if((""+e).match(/\S/)||(e=!1),!e)return{newValue:this.model.get("label")};e=e.replace(/\t/g," "),this.model.set("label",e,{silent:!0}),t=this.options.cl.getNames(),this.model.get("setManually")||(r={preventDuplicates:t,lowerCase:!1,stripSpaces:!0,lrstrip:!0,incrementorPadding:3,validXmlTag:!0},this.model.set("name",i.sluggify(e,r))),this.$el.trigger("choice-list-update",this.options.cl.cid),null!=(o=this.model.getSurvey())&&o.trigger("change")},r}(n)}}).call(this,r(29))},function(e,t,o){(function(t){var r,n,a,i,l,s=function(e,t){for(var o in t)c.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;o(20),o(47),n=o(59),r=o(139),a=o(108),e.exports=(l=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return s(o,e),o.prototype.initialize=function(e){var o,r;this.rowView=e.rowView,this.parameters=null!=(o=e.parameters)?o:{},this.questionType=e.questionType,this.typeConfig=n.questionParams[this.questionType],r="range"===this.questionType?a.row.paramsSimple():a.row.paramsSettingsField(),this.$el=t(t.parseHTML(r)),this.$paramsViewEl=this.$el.find(".params-view")},o.prototype.render=function(){var e,t,o;for(t in o=this.typeConfig)e=o[t],new i(t,e.type,e.defaultValue,this.parameters[t],this.onParamChange.bind(this)).render().$el.appendTo(this.$paramsViewEl);return this},o.prototype.onParamChange=function(e,t){this.parameters[e]=t,this.rowView.model.setParameters(this.parameters),this.rowView.model.getSurvey().trigger("change")},o.prototype.insertInDOM=function(e){this.$el.appendTo(e.defaultRowDetailParent)},o.prototype.insertInDOMAfter=function(e){this.$el.insertAfter(e)},o}(r),i=function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return s(o,e),o.prototype.className="param-option js-cancel-sort js-cancel-select-row",o.prototype.events={"input input":"onChange"},o.prototype.initialize=function(e,t,o,r,n){this.paramName=e,this.paramType=t,this.paramDefault=o,this.paramValue=null!=r?r:"",this.onParamChange=n,""===this.paramValue&&void 0!==this.paramDefault&&this.onParamChange(this.paramName,this.paramDefault)},o.prototype.render=function(){var e;return e=t(a.$$render("ParamsView."+this.paramType+"Param",this.paramName,this.paramValue,this.paramDefault)),this.$el.html(e),this},o.prototype.onChange=function(e){var t;this.paramType===n.paramTypes.number?""===(t=e.currentTarget.value)&&void 0!==this.paramDefault&&(t=""+this.paramDefault):this.paramType===n.paramTypes.boolean&&(t=e.currentTarget.checked),this.onParamChange(this.paramName,t)},o}(r),{ParamsView:l})}).call(this,o(29))},function(e,t,o){(function(t){var r,n,a={}.hasOwnProperty;o(20),o(47),o(59),r=o(139),n=o(108),e.exports={MandatorySettingView:function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return function(e,t){for(var o in t)a.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(o,e),o.prototype.className="mandatory-setting",o.prototype.events={"input .js-mandatory-setting-radio":"onRadioChange","keyup .js-mandatory-setting-custom-text":"onCustomTextKeyup","blur .js-mandatory-setting-custom-text":"onCustomTextBlur"},o.prototype.initialize=function(e){this.model=e.model,this.model&&this.model.on("change",this.render,this)},o.prototype.render=function(){var e,o,r;return o=this.getChangedValue(),e=(r=t(n.$$render("row.mandatorySettingSelector","required_"+this.model.cid,o))).find(".js-mandatory-setting-custom-text"),"true"!==o&&"false"!==o&&e&&e.val(o),this.$el.html(r),this},o.prototype.insertInDOM=function(e){this.$el.appendTo(e.defaultRowDetailParent)},o.prototype.onRadioChange=function(e){var t;"custom"===(t=e.currentTarget.value)?(this.setNewValue(""),this.$el.find(".js-mandatory-setting-custom-text").focus()):this.setNewValue(t)},o.prototype.onCustomTextKeyup=function(e){"Enter"!==e.key&&13!==e.keyCode&&13!==e.which||e.target.blur()},o.prototype.onCustomTextBlur=function(e){var t;t=e.currentTarget.value,this.setNewValue(t)},o.prototype.getChangedValue=function(){var e,t,o,r,n;return n=this.model.getValue(),e=null!=(t=this.model.changed)&&null!=(o=t.required)&&null!=(r=o.attributes)?r.value:void 0,String(void 0!==e?e:n)},o.prototype.setNewValue=function(e){this.model.set("value",e)},o}(r)}}).call(this,o(29))},function(e,o,r){(function(o){var n,a,i={}.hasOwnProperty;r(47),n=r(139),a=r(108),e.exports={AcceptedFilesView:function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return function(e,t){for(var o in t)i.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,e),r.prototype.className="accepted-files card__settings__fields__field",r.prototype.events={"input input":"onChange"},r.prototype.placeholder=t('e.g. ".pdf,.doc,.odt"'),r.prototype.initialize=function(e){var t;this.rowView=e.rowView,this.acceptedFiles=null!=(t=e.acceptedFiles)?t:""},r.prototype.render=function(){var e;return e=o(a.$$render("AcceptedFilesView.input",this.acceptedFiles,this.placeholder)),this.$el.html(e),this},r.prototype.insertInDOM=function(e){this.$el.appendTo(e.defaultRowDetailParent)},r.prototype.onChange=function(e){this.acceptedFiles=e.currentTarget.value,this.rowView.model.setAcceptedFiles(this.acceptedFiles),this.rowView.model.getSurvey().trigger("change")},r}(n)}}).call(this,r(29))},function(e,o,r){(function(o){var n,a,i,l,s,c,d,u,p={}.hasOwnProperty,m=[].indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1};d=r(20),c=r(47),l=r(40),n=r(59),r(105),i=r(350),a=r(525),r(115),s=r(108),e.exports=((u={}).DetailView=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var o in t)p.call(t,o)&&(e[o]=t[o]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.className="card__settings__fields__field  dt-view dt-view--depr",t.prototype.initialize=function(e){if(this.rowView=e.rowView,!this.model.key)throw new Error("RowDetail does not have key");this.extraClass="xlf-dv-"+this.model.key,d.extend(this,u.DetailViewMixins[this.model.key]||u.DetailViewMixins.default),this.$el.addClass(this.extraClass)},t.prototype.render=function(){var e;return(e=this.html())&&this.$el.html(e),this.afterRender&&this.afterRender(),this},t.prototype.html=function(){return s.$$render("xlfDetailView",this)},t.prototype.listenForCheckboxChange=function(e){var t,r,a,i,l,s;null==e&&(e={}),i=e.el||this.$("input[type=checkbox]").get(0),t=o(i),a=!1,r="required"===this.model.key,s=this,l=function(){var e;if(!a&&(!0===(e=s.model.get("value"))||m.call(n.truthyValues,e)>=0))return t.prop("checked",!0)},this.model.on("change:value",l),l(),t.on("change",function(e){return function(){return a=!0,e.model.set("value",t.prop("checked")),r&&t.parents(".card").eq(0).toggleClass("card--required",t.prop("checked")),a=!1}}(this))},t.prototype.listenForInputChange=function(e){var t,r,a,i,l,s,c,u;null==e&&(e={}),a=e.el||this.$("input").get(0),t=o(a),c=e.transformFn||!1,l=e.inputType,i=!1,u=this,r=function(e){if(!i)return i=!0,u.model.set("value",e),s(!0),i=!1},(s=function(e){return function(o){var r;if(null==o&&(o=!1),o||!i)return r=e.model.get("value"),"checkbox"===l?(d.isBoolean(r)||(r=m.call(n.truthyValues,r)>=0),t.prop("checked",r)):t.val(r)}}(this))(),this.model.on("change:value",s),t.on("change",(function(){var e;return e=t.val(),c&&(e=c(e)),r(e)})),t.on("keyup",(function(e){if("Enter"===e.key||13===e.keyCode)return t.blur()}))},t.prototype._insertInDOM=function(e,t){return e[t||"append"](this.el)},t.prototype.insertInDOM=function(e){return this._insertInDOM(e.defaultRowDetailParent)},t}(c.View),u.Templates={textbox:function(e,t,o,r){return null==o&&(o=t),null==r&&(r=""),this.field('<input type="text" name="'+t+'" id="'+e+'" class="'+r+'" />',e,o)},checkbox:function(e,o,r,n){return null==r&&(r=o),null==n&&(n=t("Yes")),n=n,this.field('<input type="checkbox" name="'+o+'" id="'+e+'"/> <label for="'+e+'">'+n+"</label>",e,r)},dropdown:function(e,t,o,r){var n,a,i,l;for(null==r&&(r=t),i='<select id="'+e+'">',n=0,a=o.length;n<a;n++)i+='<option value="'+(l=o[n])+'">'+l+"</option>";return i+="</select>",this.field(i,e,r)},hxlTags:function(e,t,o,r,n,a){var i;return null==o&&(o=t),null==r&&(r=""),null==n&&(n=""),null==a&&(a=""),i='<input type="text" name="'+t+'" id="'+e+'" class="hxlValue hidden" value="'+r+'"  />',i+=' <div class="settings__hxl"><input id="'+e+'-tag" class="hxlTag" value="'+n+'" type="hidden" />',i+=' <input id="'+e+'-attrs" class="hxlAttrs" value="'+a+'" type="hidden" /></div>',this.field(i,e,o)},field:function(e,t,o){return'<div class="card__settings__fields__field">\n  <label for="'+t+'">'+o+':</label>\n  <span class="settings__input">\n    '+e+"\n  </span>\n</div>"}},u.DetailViewMixins={},u.DetailViewMixins.type={html:function(){return!1},insertInDOM:function(e){var t,o,r;r=this.model.get("typeId"),"Group"!==this.model._parent.constructor.kls&&((t=null!=(o=i.get(r))?o.get("iconClassName"):void 0)||("undefined"!=typeof console&&null!==console&&console.error("could not find icon for type: "+r),t="k-icon k-icon-alert"),e.$el.find(".card__header-icon").addClass("k-icon").addClass(t))}},u.DetailViewMixins.label={html:function(){return!1},insertInDOM:function(e){return e.$label.value=this.model.get("value"),this},afterRender:function(){this.listenForInputChange({el:this.rowView.$label,transformFn:function(e){return e=(e=e.replace(new RegExp(String.fromCharCode(160),"g"),"")).replace(/\t/g," ")}})}},u.DetailViewMixins.hint={html:function(){return!1},insertInDOM:function(e){return e.$hint.value=this.model.get("value"),this},afterRender:function(){this.listenForInputChange({el:this.rowView.$hint})}},u.DetailViewMixins.guidance_hint={html:function(){return this.$el.addClass("card__settings__fields--active"),u.Templates.textbox(this.cid,this.model.key,t("Guidance hint"),"text")},afterRender:function(){return this.listenForInputChange()}},u.DetailViewMixins.constraint_message={html:function(){return this.$el.addClass("card__settings__fields--active"),u.Templates.textbox(this.cid,this.model.key,t("Error Message"),"text")},insertInDOM:function(e){return this._insertInDOM(e.cardSettingsWrap.find(".js-card-settings-validation-criteria").eq(0))},afterRender:function(){return this.listenForInputChange()}},u.DetailViewMixins.parameters={html:function(){return!1},insertInDOM:function(e){}},u.DetailViewMixins["body::accept"]={html:function(){return!1},insertInDOM:function(e){}},u.DetailViewMixins.relevant={html:function(){return this.$el.addClass("card__settings__fields--active"),'<div class="card__settings__fields__field relevant__editor">\n</div>'},afterRender:function(){return this.$el.find(".relevant__editor").html('<div class="skiplogic__main"></div>\n<p class="skiplogic__extras">\n</p>'),this.target_element=this.$(".skiplogic__main"),this.model.facade.render(this.target_element)},insertInDOM:function(e){return this._insertInDOM(e.cardSettingsWrap.find(".js-card-settings-skip-logic").eq(0))}},u.DetailViewMixins.constraint={html:function(){return this.$el.addClass("card__settings__fields--active"),'<div class="card__settings__fields__field constraint__editor">\n</div>'},afterRender:function(){return this.$el.find(".constraint__editor").html('<div class="skiplogic__main"></div>\n<p class="skiplogic__extras">\n</p>'),this.target_element=this.$(".skiplogic__main"),this.model.facade.render(this.target_element)},insertInDOM:function(e){return this._insertInDOM(e.cardSettingsWrap.find(".js-card-settings-validation-criteria"))}},u.DetailViewMixins.name={html:function(){return this.fieldTab="active",this.$el.addClass("card__settings__fields--"+this.fieldTab),u.Templates.textbox(this.cid,this.model.key,t("Data column name"),"text")},afterRender:function(){var e,t;return this.listenForInputChange({transformFn:(t=this,function(e){var o;return o=e.split(""),/[\w_]/.test(o[0])||o.unshift("_"),t.model.set("value",e),t.model.deduplicate(t.model.getSurvey())})}),(e=function(e){return function(){return e.$el.find("input").eq(0).val(e.model.get("value")||l.sluggifyLabel(e.model._parent.getValue("label")))}}(this))(),this.model._parent.get("label").on("change:value",e)}},u.DetailViewMixins.tags={html:function(){var e,o,r,n,a;return this.fieldTab="active",this.$el.addClass("card__settings__fields--"+this.fieldTab),n=t("HXL"),this.model.get("value")?(a=this.model.get("value"),r="",e=[],o="",d.isArray(a)&&d.map(a,(function(t,o){if(t.indexOf("hxl:")>-1&&((t=t.replace("hxl:","")).indexOf("#")>-1&&(r=t),t.indexOf("+")>-1))return t=t.replace("+",""),e.push(t)})),d.isArray(e)&&(o=e.join(",")),u.Templates.hxlTags(this.cid,this.model.key,n,this.model.get("value"),r,o)):u.Templates.hxlTags(this.cid,this.model.key,n)},afterRender:function(){var e;return this.$el.find("input.hxlTag").select2({tags:a.dict,maximumSelectionSize:1,placeholder:t("#tag"),tokenSeparators:["+",",",":"],formatSelectionTooBig:t("Only one HXL tag allowed per question. "),createSearchChoice:this._hxlTagCleanup}),this.$el.find("input.hxlAttrs").select2({tags:[],tokenSeparators:["+",",",":"],formatNoMatches:t("Type attributes for this tag"),placeholder:t("Attributes"),createSearchChoice:this._hxlAttrCleanup,allowClear:1}),this.$el.find("input.hxlTag").on("change",(e=this,function(){return e._hxlUpdate()})),this.$el.find("input.hxlAttrs").on("change",function(e){return function(){return e._hxlUpdate()}}(this)),this.$el.find("input.hxlTag").on("select2-selecting",function(e){return function(t){return e._hxlTagSelecting(t)}}(this)),this.$el.find(".hxlTag input.select2-input").on("keyup",function(e){return function(t){return e._hxlTagSanitize(t)}}(this)),this.listenForInputChange({el:this.$el.find("input.hxlValue").eq(0)})},_hxlUpdate:function(e){var t,o,r,n;return n=this.$el.find("input.hxlTag").val(),o=(o=this.$el.find("input.hxlAttrs").val()).replace(/,/g,"+"),r=[],n?(this.$el.find("input.hxlAttrs").select2("enable",!0),r.push("hxl:"+n),o&&(t=o.split("+"),d.map(t,(function(e){return r.push("hxl:+"+e)})))):this.$el.find("input.hxlAttrs").select2("enable",!1),this.model.set("value",r),this.model.trigger("change")},_hxlTagCleanup:function(e){var t;if(e.length>=2)return t=/\W+/g,{id:e="#"+e.replace(t,"").toLowerCase(),text:e}},_hxlTagSanitize:function(e){var t;if(e.target.value.length>=2)return t=/\W+/g,e.target.value="#"+e.target.value.replace(t,"")},_hxlTagSelecting:function(e){if(e.val.length<2)return e.preventDefault()},_hxlAttrCleanup:function(e){var t;return t=/\W+/g,{id:e=e.replace(t,"").toLowerCase(),text:e}}},u.DetailViewMixins.default={html:function(){var e;return this.fieldTab="active",this.$el.addClass("card__settings__fields--"+this.fieldTab),e="default"===this.model.key?t("Default response"):this.model.key.replace(/_/g," "),u.Templates.textbox(this.cid,this.model.key,e,"text")},afterRender:function(){return this.$el.find("input").eq(0).val(this.model.get("value")),this.listenForInputChange()}},u.DetailViewMixins.calculation={html:function(){return!1},insertInDOM:function(e){}},u.DetailViewMixins._isRepeat={html:function(){return this.$el.addClass("card__settings__fields--active"),u.Templates.checkbox(this.cid,this.model.key,t("Repeat"),t("Repeat this group if necessary"))},afterRender:function(){return this.listenForCheckboxChange()}},u.DetailViewMixins.required={html:function(){return!1},insertInDOM:function(){}},u.DetailViewMixins.appearance={getTypes:function(){return{text:["multiline","numbers"],select_one:["minimal","quick","horizontal-compact","horizontal","likert","compact","quickcompact","label","list-nolabel"],select_multiple:["minimal","horizontal-compact","horizontal","compact","label","list-nolabel"],image:["signature","draw","annotate"],date:["month-year","year"],group:["select","field-list","table-list","other"]}[this.model._parent.getValue("type").split(" ")[0]]},html:function(){var e;return this.$el.addClass("card__settings__fields--active"),this.model_is_group(this.model)?u.Templates.checkbox(this.cid,this.model.key,t("Appearance (advanced)"),t("Show all questions in this group on the same screen")):null!=(e=this.getTypes())?(e.push("other"),e.unshift("select"),u.Templates.dropdown(this.cid,this.model.key,e,t("Appearance (advanced)"))):u.Templates.textbox(this.cid,this.model.key,t("Appearance (advanced)"),"text")},model_is_group:function(e){return"group"===e._parent.constructor.key},afterRender:function(){var e,t,r,n;return t=this.$("select"),r=this.model.get("value"),t.length>0?(e=o("<input/>",{class:"text",type:"text",width:"auto"}),""!==r&&(null!=this.getTypes()&&m.call(this.getTypes(),r)>=0?t.val(r):(t.val("other"),this.$(".settings__input").append(e),this.listenForInputChange({el:e}))),t.change((n=this,function(){return"other"===t.val()?(n.model.set("value",""),n.$(".settings__input").append(e),n.listenForInputChange({el:e})):"select"===t.val()?n.model.set("value",""):(n.model.set("value",t.val()),e.remove())}))):"text"===(e=this.$("input")).attr("type")?(this.$("input[type=text]").val(r),this.listenForInputChange()):"checkbox"===e.attr("type")?("field-list"===this.model.get("value")&&e.prop("checked",!0),e.on("change",function(t){return function(){return e.prop("checked")?t.model.set("value","field-list"):t.model.set("value","")}}(this))):void 0}},u)}).call(this,r(29))},function(e,t){t.dict=["#activity","#adm1","#adm2","#adm3","#adm4","#adm5","#affected","#beneficiary","#capacity","#cause","#country","#crisis","#date","#description","#geo","#impact","#indicator","#inneed","#loc","#meta","#operations","#org","#output","#population","#reached","#region","#sector","#severity","#subsector","#targeted"]},,,,function(e,t,o){var r=o(35),n=o(530);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.radio .radio__row,.radio .checkbox__wrapper,.checkbox .radio__row,.checkbox .checkbox__wrapper{padding:4px 0;cursor:pointer}.radio .radio__row:hover .radio__input:not([disabled]):checked::after,.radio .radio__row:hover .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:hover .radio__input:not([disabled]):checked::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after{opacity:.8}.radio .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after{opacity:.1}.radio .radio__row:active .radio__input:not([disabled]):checked::after,.radio .radio__row:active .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:active .radio__input:not([disabled]):checked::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after{opacity:.6}.radio .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after{opacity:.3}.radio.checkbox--disabled .checkbox__wrapper,.checkbox.checkbox--disabled .checkbox__wrapper{cursor:default}.radio .radio__row,.checkbox .radio__row{display:block}.radio .radio__input,.radio .checkbox__input,.radio .radio__label,.radio .checkbox__label,.checkbox .radio__input,.checkbox .checkbox__input,.checkbox .radio__label,.checkbox .checkbox__label{display:inline-block;vertical-align:top}.radio .radio__label,.radio .checkbox__label,.checkbox .radio__label,.checkbox .checkbox__label{max-width:calc(100% - 32px);color:#333847;font-size:14px}.radio .radio__input+.radio__label,.radio .checkbox__input+.checkbox__label,.checkbox .radio__input+.radio__label,.checkbox .checkbox__input+.checkbox__label{margin-left:8px}.radio .radio__input,.checkbox .radio__input{border-radius:50%}.radio .radio__input::after,.checkbox .radio__input::after{content:"";top:4px;left:4px;border-radius:50%;width:10px;height:10px;background-color:#259af4}.radio .checkbox__input,.checkbox .checkbox__input{border-radius:2px}.radio .checkbox__input::after,.checkbox .checkbox__input::after{content:"\\2713";top:50%;left:50%;transform:translate(-50%, -50%);width:18px;height:18px;color:#fff;background-color:#259af4;text-align:center;line-height:18px;font-size:18px}.radio .radio__input,.radio .checkbox__input,.checkbox .radio__input,.checkbox .checkbox__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;margin:0;border:1px solid #565e76;width:20px;height:20px;outline:0;background-color:#fff;color:#565e76;cursor:pointer}.radio .radio__input::after,.radio .checkbox__input::after,.checkbox .radio__input::after,.checkbox .checkbox__input::after{display:block;position:absolute;opacity:0}.radio .radio__input:checked,.radio .checkbox__input:checked,.checkbox .radio__input:checked,.checkbox .checkbox__input:checked{border-color:#259af4}.radio .radio__input:checked::after,.radio .checkbox__input:checked::after,.checkbox .radio__input:checked::after,.checkbox .checkbox__input:checked::after{opacity:1}.radio .radio__input[disabled],.radio .checkbox__input[disabled],.checkbox .radio__input[disabled],.checkbox .checkbox__input[disabled]{pointer-events:none;opacity:.5}.radio .radio__input[disabled]+.radio__label,.radio .radio__input[disabled]+.checkbox__label,.radio .checkbox__input[disabled]+.radio__label,.radio .checkbox__input[disabled]+.checkbox__label,.checkbox .radio__input[disabled]+.radio__label,.checkbox .radio__input[disabled]+.checkbox__label,.checkbox .checkbox__input[disabled]+.radio__label,.checkbox .checkbox__input[disabled]+.checkbox__label{opacity:.5}',""])},,,,,,,,,,,,,function(e,t,o){"use strict";o.r(t),function(e){o.d(t,"multiConfirm",(function(){return i}));var r=o(14),n=o.n(r),a=o(2);function i(t,o,r,i){n.a[t]||n.a.dialog(t,(function(){return{setup:function(){var e=[];return i.forEach((function(t,o){var r=t.label;t.icon&&(r='\n                  <span>\n                    <i class="k-icon '.concat(t.icon,'"></i>\n                    ').concat(t.label,"\n                  </span>\n                "));var a=n.a.defaults.theme.input;"blue"===t.color?a=n.a.defaults.theme.ok:"red"===t.color&&(a=n.a.defaults.theme.cancel),e.push({text:r,className:a,scope:"primary",element:void 0,index:o})})),{buttons:e,options:{title:o,basic:!1,movable:!1,resizable:!1,closable:!0,maximizable:!1,pinnable:!1}}},prepare:function(){r&&this.setContent(r)},settings:{onclick:Function.prototype},callback:function(e){this.settings.onclick(e)}}}),!1,"confirm");var l=n.a[t](),s=function(e){e.keyCode===a.KEY_CODES.ESC&&l.destroy()};l.set({onclick:function(e){i[e.index]&&i[e.index].callback&&i[e.index].callback()},onshow:function(){e(document).on("keyup",s)},onclose:function(){e(document).off("keyup",s)}}),i.forEach((function(e,t){if(e.isDisabled){var o=l.elements.buttons.primary.children[t];o&&(o.classList.remove(n.a.defaults.theme.ok),o.classList.remove(n.a.defaults.theme.cancel),o.classList.add(n.a.defaults.theme.input),o.classList.add("ajs-button-disabled"))}})),l.show()}"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(i,"multiConfirm","/srv/src/kpi/jsapp/js/alertify.es6")}.call(this,o(29))},function(e,t,o){var r=o(35),n=o(545);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.help-bubble{position:relative}@media screen and (max-height: 499px){.help-bubble--list-with-header .help-bubble__popup,.help-bubble--single-message .help-bubble__popup{height:200px}.help-bubble--list-with-header .help-bubble__popup.help-bubble__popup--has-more-content,.help-bubble--single-message .help-bubble__popup.help-bubble__popup--has-more-content{height:300px}}@media screen and (min-height: 500px){.help-bubble--list-with-header .help-bubble__popup,.help-bubble--single-message .help-bubble__popup{min-height:200px}.help-bubble--list-with-header .help-bubble__popup.help-bubble__popup--has-more-content,.help-bubble--single-message .help-bubble__popup.help-bubble__popup--has-more-content{min-height:300px}}.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link{padding-left:60px}.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .k-icon{position:absolute;top:16px;left:16px;font-size:28px;color:#565e76}.help-bubble--list-with-header .help-bubble__back,.help-bubble--list-with-header .help-bubble__close{background-color:rgba(86,94,118,.5);color:#fff}.help-bubble__trigger{cursor:pointer;text-align:center;background:transparent;border:0;padding:0;margin-bottom:5px;width:100%;display:block;font-weight:normal;color:#565e76;border-left:3px solid transparent}.help-bubble--open .help-bubble__trigger{color:#22b0c3}.help-bubble__trigger:hover{color:#22b0c3}.help-bubble__trigger:hover .help-bubble__trigger-counter{background-color:#22b0c3}.help-bubble__trigger .k-icon{font-size:24px;margin:3px;display:block}.help-bubble__trigger-counter{position:absolute;left:50%;color:#fff;border-style:solid;border-color:#f3f4f6;top:2px;border-width:0 0 2px 2px;background:#e84a5f;border-radius:50%;font-size:10px;line-height:1.3;width:1.6em;height:1.6em}.help-bubble--intercom .help-bubble__popup{bottom:134px;max-height:calc(90vh - 172px)}.help-bubble--support .help-bubble__popup{bottom:91px;max-height:calc(90vh - 129px)}.help-bubble__popup{box-shadow:0 0 8px 0 rgba(51,56,71,.06),0 8px 8px 0 rgba(51,56,71,.12);border-radius:2px;display:flex;flex-direction:row;position:fixed;z-index:801;left:57px;background:#fff;width:360px;max-width:calc(100vw - 58px);overflow:hidden}@media screen and (min-width: 1440px){.help-bubble__popup{left:calc(50% - 720px + 57px)}}.help-bubble__popup-content{width:100%;overflow-y:auto;overflow-x:hidden}.help-bubble__back,.help-bubble__close{cursor:pointer;position:absolute;z-index:1;top:4px;border:0;border-radius:50%;padding:5px;background-color:rgba(255,255,255,.5);color:#565e76;line-height:1;font-size:1.5rem}.help-bubble__back .k-icon,.help-bubble__close .k-icon{display:block}.help-bubble__back:hover,.help-bubble__close:hover{opacity:.8}.help-bubble__back:active,.help-bubble__close:active{opacity:.6}.help-bubble__back{left:5px}.help-bubble__close{right:5px}.help-bubble__row,.help-bubble__row-wrapper{position:relative;display:block}.help-bubble__row+.help-bubble__row,.help-bubble__row+.help-bubble__row-wrapper,.help-bubble__row-wrapper+.help-bubble__row,.help-bubble__row-wrapper+.help-bubble__row-wrapper{border-top:1px solid #e7e9ee}.help-bubble__row{padding:10px 20px}.help-bubble__row header{margin:0;font-weight:bold}.help-bubble__row p{margin:.5em 0 .25em;line-height:1.33}.help-bubble__row img{max-width:100%}.help-bubble__row.help-bubble__row--message-title{margin-top:40px;border-top:1px solid #e7e9ee}.help-bubble__row.help-bubble__row--header{background-color:#565e76;color:#fff;font-size:1.25rem}.help-bubble__row.help-bubble__row--link,.help-bubble__row.help-bubble__row--message-clickable{cursor:pointer;color:#565e76}.help-bubble__row.help-bubble__row--link:hover,.help-bubble__row.help-bubble__row--message-clickable:hover{color:#259af4}.help-bubble__row.help-bubble__row--link:hover .k-icon,.help-bubble__row.help-bubble__row--message-clickable:hover .k-icon{color:inherit}.help-bubble__row.help-bubble__row--link:active,.help-bubble__row.help-bubble__row--message-clickable:active{color:#22b0c3}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread{border-left:5px solid #e84a5f;padding-left:15px}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread:hover{border-left-color:#259af4}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread:active{border-left-color:#22b0c3}",""])},function(e,t,o){var r=o(35),n=o(547);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".loading{display:table;vertical-align:middle;height:100%;width:100%;font-size:18px;opacity:.8}.loading i:first-child{margin-right:10px;vertical-align:-7px;display:inline-block}.loading .loading__inner{display:table-cell;vertical-align:middle;text-align:center;padding-left:20px;padding-right:20px;overflow:hidden}.loading .loading__inner code{margin:20px;padding:15px;font-size:13px;display:block;background:#fff;width:80%;max-height:300px;overflow:auto;word-wrap:break-word;text-align:left}.loading .loading__inner .pro-tip{font-size:14px;margin-top:30px}.loading .loading__msg{padding-top:10px}",""])},function(e,t,o){var r=o(35),n=o(549);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".k-icon--size-xs{font-size:14px}.k-icon--size-s{font-size:18px}.k-icon--size-m{font-size:20px}.k-icon--size-l{font-size:22px}.k-icon--size-xl{font-size:28px}",""])},function(e,t,o){var r=o(35),n=o(551);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".asset-name.asset-name--empty{font-style:italic}.asset-name.asset-name--has-long-words{-ms-word-break:break-all;word-break:break-all;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.asset-name small{color:#565e76;margin-left:5px;font-size:smaller;font-style:italic}",""])},function(e,t,o){var r=o(35),n=o(553);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.modal__backdrop{position:fixed;height:100%;width:100%;z-index:1101;top:0px;left:0px;background-color:rgba(51,56,71,.4) !important}.modal{box-shadow:0 0 12px 0 rgba(51,56,71,.06),0 12px 12px 0 rgba(51,56,71,.12);border-radius:2px;align-items:stretch;display:flex;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);min-width:40%;max-width:90%;max-height:95%;overflow-x:auto;visibility:hidden}.modal.modal--open{visibility:visible}.modal.modal--large{height:80%;width:80%;max-width:1240px}.modal.modal--large.modal--large-shorter{max-width:960px}.modal.modal--large .modal__content{height:100%;width:100%;display:flex;flex-direction:column}.modal.modal--large .modal__body{flex-grow:1;display:flex;flex-direction:column}.modal.modal--large .modal__body .enketo-holder{flex-grow:1;display:flex;flex-direction:column}.modal.modal--large .modal__body iframe{flex-grow:1;border:1px solid #fff;width:100%}.modal.modal--large .modal__body .modal__footer{margin-bottom:30px}.modal__body{padding:30px 30px 0;margin-bottom:30px}.modal__body .modal__footer{padding:0}.modal__content{overflow:auto;background-color:#fff;width:100%}.modal__tabs{background:#259af4;color:#fff}.modal__header{min-height:70px;background:#259af4;color:#fff;display:flex;justify-content:space-between}.modal__title{margin:0px;padding:24px 30px;font-size:18px;line-height:22px}.modal__x,.modal__done{z-index:10;color:inherit;background-color:inherit;padding:8px;margin:11px 15px 11px 11px;border-radius:50%;font-size:20px;cursor:pointer}.modal__x i,.modal__done i{display:block;font-size:24px}.modal__x:hover,.modal__done:hover{opacity:.7}.modal__done{padding:24px;margin:0px;font-size:18px;font-weight:600;color:#259af4}.modal__subheader{background:#f3f4f6;padding:20px 30px;margin:-30px -30px 20px;color:#565e76}.modal__subheader i{margin:5px 10px 10px 3px;font-size:24px;float:left}.modal__footer{padding:0 30px 30px;margin-top:20px;text-align:right}.modal__footer::before,.modal__footer::after{content:"";display:table;clear:both}.modal__footer:first-child{margin-top:0;margin-bottom:20px}.modal__footer button:not(:first-of-type){margin-left:10px}.modal__hr{margin:20px -30px;border:0;background-color:#e7e9ee;height:1px}.modal.modal-submission .modal__header{background-color:#f3f4f6;color:#333847}.modal.modal-submission .form-modal{text-align:right;padding-bottom:20px}.modal.modal-submission .mdl-button--raised+.mdl-button--icon{margin-left:30px;overflow:visible}.modal.modal-submission .form-modal__group{display:flex;justify-content:space-between;margin-bottom:20px}.modal.modal-submission .form-modal__group .submission-modal-dropdowns:only-child{width:100%}.modal.modal-submission .form-modal__group .submission-modal-dropdowns{width:50%;display:flex;justify-content:space-between}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status{width:45%;text-align:left}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language label,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language .kobo-select,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status label,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status .kobo-select{display:inline-block;vertical-align:middle}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language label,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status label{margin-right:12px}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status{width:100%;text-align:right}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status .kobo-select{text-align:left}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language+.switch--validation-status{width:50%}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .kobo-select input{min-width:100px}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .kobo-select{min-width:120px}.modal.modal-submission .submission-pager a{display:inline-block;cursor:pointer}.modal.modal-submission .submission-pager a:first-child{padding-left:0}.modal.modal-submission .submission-pager a .k-icon{display:inline-block;vertical-align:middle}.modal.modal-submission .submission-actions .checkbox,.modal.modal-submission .submission-duplicate__actions .checkbox{display:inline-block;vertical-align:middle;margin-right:40px}.modal.modal-submission .submission-actions .checkbox__label,.modal.modal-submission .submission-duplicate__actions .checkbox__label{white-space:nowrap}.modal.modal-submission .submission-actions .mdl-button--icon,.modal.modal-submission .submission-duplicate__actions .mdl-button--icon{padding-left:6px;padding-right:6px}.modal.modal-submission .submission-actions .mdl-button--icon:not(:first-child),.modal.modal-submission .submission-duplicate__actions .mdl-button--icon:not(:first-child){margin-left:10px}.modal.modal-submission .submission-duplicate__actions{margin:auto}.modal.modal-submission .submission-duplicate__actions a{width:120px}.modal.modal-submission .submission-duplicate__button{margin-left:12px}.modal.modal-submission .submission-duplicate__text,.modal.modal-submission .submission-duplicate__header{max-width:60%;text-align:center;margin:auto;margin-bottom:24px}.modal.modal-submission .submission-duplicate__header{margin-bottom:12px;color:#259af4}.modal.modal-submission .submission--warning{margin-bottom:30px;padding:10px;background:#f3f4f6;text-align:center;line-height:1em}.modal.modal-submission .submission--warning i{color:#e6801a;font-size:28px;margin-right:13px;vertical-align:middle;display:inline-block}.modal.modal-submission .submission--warning span{line-height:1.4em;display:inline-block;vertical-align:middle;width:calc(100% - 60px)}.modal.modal-submission .submission--warning+.submission--warning{margin-top:-30px;border-top:1px solid #e7e9ee}.modal.modal-media-preview{border-radius:6px;min-width:25%}.modal.modal-media-preview .modal__content{background-color:#f9f9fb;overflow:hidden}.modal.modal-media-preview .modal__header{min-height:0;padding:16px;background-color:#fff;color:#333847}.modal.modal-media-preview .modal__header .modal__x,.modal.modal-media-preview .modal__header .modal__done{padding:0;margin:0}.modal.modal-media-preview .modal__header .table-media-preview-header{width:100%;display:flex;justify-content:space-between;font-size:14px;font-weight:600;margin-right:12px}.modal.modal-media-preview .modal__header .table-media-preview-header .table-media-preview-header__title{padding-top:3px;margin-right:6px}.modal.modal-media-preview .modal__header .table-media-preview-header .table-media-preview-header__title .table-media-preview-header__label{vertical-align:top}.modal.modal-media-preview .modal__header .table-media-preview-header .table-media-preview-header__title i.k-icon{color:#979fb4;margin-right:6px;font-size:20px}.modal.modal-media-preview .modal__header .table-media-preview-header .kobo-light-button{padding-right:0px}.modal.modal-media-preview .modal__header .table-media-preview-header .kobo-light-button i.k-icon-download{font-weight:800;margin-left:3px}.modal.modal-media-preview .modal__header .table-media-preview-header .kobo-light-button:not(:last-child){margin-right:12px}.modal.modal-media-preview .modal__body{padding:0;margin:0;max-height:600px;overflow:auto}.modal.modal-media-preview .modal__body .table-media-preview{padding:32px 0 12px 0;text-align:center;max-width:600px;min-width:400px;margin:auto}.modal.modal-media-preview .modal__body .table-media-preview .audio-player{margin-right:12px}.modal.modal-media-preview .modal__body .table-media-preview .table-media-preview__text{text-align:left;padding:0 32px 32px 32px}.modal.modal-media-preview .modal__body .table-media-preview img,.modal.modal-media-preview .modal__body .table-media-preview video{width:100%}.modal.modal-media-preview .modal__body .table-media-preview i.k-icon-file-audio{font-size:128px;color:#e7e9ee}.enketo-holder{margin:-30px -30px}.enketo-holder .enketo-loading-message p{text-align:center;font-weight:600}.enketo-holder .enketo-loading-message .k-icon{color:#3da5f5;font-size:24px}.touch .enketo-holder{width:94%;left:3%;margin-left:0px;-webkit-overflow-scrolling:touch;overflow-y:scroll}.enketo-iframe-icon{color:#fff;background-image:url("/jquery-ui/themes/humanity/images/ui-icons_ffffff_256x240.png");background-color:#979fb4;background-position:-81px -129px;position:absolute;right:6px;top:6px;border-radius:3px;z-index:1100;width:15px;height:15px;cursor:pointer}.modal .project-settings{width:100%}@media screen and (min-width: 768px){.modal .project-settings{min-width:600px}}.form-view .project-settings{margin-bottom:30px}.project-settings .intro{margin-bottom:20px;text-align:left}.project-settings .form-modal__item[disabled]{pointer-events:none}.project-settings.project-settings--narrow .form-modal__item--sector,.project-settings.project-settings--narrow .form-modal__item--country{width:100%;float:none}.project-settings.project-settings--narrow .form-modal__item--sector .kobo-select,.project-settings.project-settings--narrow .form-modal__item--country .kobo-select{margin-right:0}.project-settings .form-modal__item--form-source-buttons{margin:0 auto;max-width:500px}.project-settings .form-modal__item--form-source-buttons button{display:inline-block;vertical-align:top;border:none;background:#f3f4f6;border-radius:6px;color:#565e76;cursor:pointer;margin:5px;padding:10px;width:calc(50% - 10px);min-height:120px;box-shadow:0 2px 4px 0 rgba(0,0,0,.25)}@media screen and (min-width: 768px){.project-settings .form-modal__item--form-source-buttons button{margin:10px;padding:20px;width:calc(50% - 20px)}}.project-settings .form-modal__item--form-source-buttons button i{display:block;margin:3px auto;font-size:34px;color:currentColor}.project-settings .form-modal__item--form-source-buttons button:hover{color:#333847;background-color:#e7e9ee}.project-settings .form-modal__item--form-source-buttons button:active{transform:translateY(1px);box-shadow:0 1px 3px 0 rgba(0,0,0,.25)}.project-settings .dropzone{background:#f3f4f6;padding:30px;border:2px dashed #e7e9ee;cursor:pointer;border-radius:6px;text-align:center}.project-settings .dropzone i{display:block;margin:5px auto;font-size:52px;opacity:.5}.project-settings .dropzone .loading{font-size:inherit}.project-settings .dropzone .loading i{font-size:36px;margin-top:20px;margin-bottom:16px}.project-settings .dropzone:hover{border-color:#259af4}.project-settings .dropzone.dropzone-active{border-color:#259af4}.project-settings .dropzone.dropzone-reject{border-color:#e84a5f}@media screen and (min-height: 600px){.project-settings.project-settings--choose-template .templates-list{max-height:380px;overflow-y:auto}}.form-modal__item--http-headers .form-modal__item--http-header-row{margin-top:10px}.form-modal__item--http-headers .form-modal__item--http-header-row input[type=text]{width:calc(50% - 20px);background-color:rgba(51,56,71,.05);padding-left:5px;padding-right:5px}.form-modal__item--http-headers .form-modal__item--http-header-row input[type=text]:not(:first-child){margin-left:10px}.form-modal__item--http-headers .http-header-row-remove{height:30px;min-height:30px;line-height:30px;width:30px;vertical-align:top;padding:0}.form-modal__item--http-headers .http-header-row-remove:hover{color:#e84a5f}.form-modal__item--http-headers .http-header-row-remove .k-icon{font-size:1.2em;vertical-align:middle}@media(min-width: 600px){.form-modal--translation-settings{min-width:500px}}.form-modal--translation-settings .form-view__cell--label{padding-bottom:10px}.form-modal--translation-settings .form-view__cell--translation-note{padding-bottom:20px}.form-modal--translation-settings .form-view__cell--translation-note p{margin:0}.form-modal--translation-settings .form-view__cell--translation{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e7e9ee;padding:6px 0px}.form-modal--translation-settings .form-view__cell--translation .form-view__cell--translation-name{display:flex;flex-direction:row;align-items:center}.form-modal--translation-settings .form-view__cell--translation .form-view__cell--translation-name .form-view__icon-button{opacity:0;visibility:hidden;transition:250ms}.form-modal--translation-settings .form-view__cell--translation:hover .form-view__cell--translation-name .form-view__icon-button{opacity:1;visibility:visible}.form-modal--translation-settings .form-view__cell--translation:hover .form-view__cell--translation-name .form-view__icon-button:disabled{display:none}.form-modal--translation-settings .form-view__cell--translation .form-view__icon-button.right-tooltip:disabled{color:#979fb4}.form-modal--translation-settings .form-view__cell--translation-actions{white-space:nowrap}.form-modal--translation-settings .form-view__label--default-language{display:inline;font-weight:700;margin-left:6px}.form-modal--translation-settings .form-view__cell--add-language{padding-top:20px;text-align:right;border-top:1px solid #e7e9ee}.form-modal--translation-settings .form-view__cell--add-language-form,.form-modal--translation-settings .form-view__cell--update-language-form{background:#f3f4f6;padding:15px;position:relative}.form-modal--translation-settings .form-view__cell--add-language-form .form-view__link--close,.form-modal--translation-settings .form-view__cell--update-language-form .form-view__link--close{position:absolute;right:0px;top:6px}.form-modal--translation-settings .form-view__cell--add-language-form .form-view__link--close i,.form-modal--translation-settings .form-view__cell--update-language-form .form-view__link--close i{font-size:18px;margin:3px}.form-modal--translation-settings .form-view__cell--add-language-form{margin-top:20px}.form-modal--translation-settings .form-view__form--add-language-fields{display:flex;justify-content:space-between}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell:not(:first-child){margin-left:10px}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-name{flex:3}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-code{flex:2}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--submit-button{padding-top:10px}.form-modal--translation-table{flex:1;height:100%;display:flex;flex-direction:column;width:100%;margin:0}.form-modal--translation-table .translation-table-container{flex:1;overflow-y:auto;border:1px solid #e7e9ee}.form-modal--translation-table .form-view__cell--add-language-form,.form-modal--translation-table .form-view__cell--update-language-form{background:#f3f4f6;padding:15px;position:relative}.form-modal--translation-table .form-view__cell--add-language-form .form-view__link--close,.form-modal--translation-table .form-view__cell--update-language-form .form-view__link--close{position:absolute;right:0px;top:6px}.form-modal--translation-table .form-view__cell--add-language-form .form-view__link--close i,.form-modal--translation-table .form-view__cell--update-language-form .form-view__link--close i{font-size:18px;margin:3px}.form-modal--translation-table .form-view__cell--update-language-form{max-width:70%;margin-left:auto}.form-modal--translation-table .form-view__form--add-language-fields{display:flex;justify-content:space-between}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell:not(:first-child){margin-left:10px}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-name{flex:3}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-code{flex:2}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--submit-button{padding-top:10px}.form-modal--translation-table .ReactTable{width:100%}.form-modal--translation-table .ReactTable .rt-thead.-header{box-shadow:none;border-bottom:2px solid #e7e9ee}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .rt-td,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .rt-td{white-space:normal}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .rt-td .rt-td--disabled,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .rt-td .rt-td--disabled{color:#979fb4}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-th:first-child,.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-td:first-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-th:first-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-td:first-child{min-width:30%;color:#565e76}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-th:last-child,.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-td:last-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-th:last-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-td:last-child{min-width:70%}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation{padding:0px;color:#565e76}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation textarea,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation textarea{background:#d5f6e5;display:block;padding:10px;border:none;width:100%;height:100% !important;color:#333847}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation textarea:focus,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation textarea:focus{background:#fff}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation textarea:disabled,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation textarea:disabled{color:#979fb4;background-color:#f3f4f6}.form-view__cell--encrypt-key{padding-bottom:12px}.encrypt-help{color:#565e76;background:transparent;border:0;font-size:28px;vertical-align:middle;cursor:pointer}.remove-encryption{float:right}@media screen and (max-width: 480px){.table-media-preview-header{margin-right:0 !important;display:block !important}.table-media-preview-header .table-media-preview-header__title{display:flex}.table-media-preview-header .kobo-light-button{display:block;width:90%;margin-left:auto;margin-right:auto;margin-top:12px}}@media screen and (max-width: 767px){.modal.modal--open{min-width:90%;max-width:90%}}@media screen and (max-width: 1175px){.form-media__upload-url{width:100%}}@media screen and (max-width: 597px){.form-media__upload-url{width:100%;padding-left:0px}.form-media__upload-url label.text-box{width:100%}.form-media__upload-url button{width:100%;margin-left:0px !important;margin-top:12px}.table-media-preview{min-width:0px !important}}',""])},,,,,function(e,t,o){var r=o(35),n=o(559);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,"label.text-box.text-box--error{color:#e84a5f}label.text-box.text-box--error input.text-box__input{color:#565e76;border-bottom-color:#e84a5f}label.text-box.text-box--on-white input.text-box__input,label.text-box.text-box--on-white textarea.text-box__input{border-color:#e7e9ee;padding-left:5px;padding-right:5px}label.text-box.text-box--on-white input.text-box__input:focus,label.text-box.text-box--on-white textarea.text-box__input:focus{border-color:#259af4}label.text-box.text-box--on-white.text-box--error input.text-box__input{border-color:#e84a5f}label.text-box .text-box__label .text-box__label-link{display:inline-block;vertical-align:bottom}label.text-box .text-box__label .text-box__label-link .k-icon{font-size:18px;display:block;margin:1px}label.text-box input.text-box__input{width:100%;padding:5px 0px;font-size:14px;color:inherit;background-color:transparent;border:1px solid transparent;border-bottom-color:#d3d6df;transition:border-color .3s}label.text-box input.text-box__input:focus{transition:border-color .3s;border-bottom-color:#259af4}label.text-box input.text-box__input:disabled{color:#979fb4;pointer-events:none}label.text-box input.text-box__input:disabled::-moz-placeholder{color:#979fb4}label.text-box input.text-box__input:disabled:-ms-input-placeholder{color:#979fb4}label.text-box input.text-box__input:disabled::placeholder{color:#979fb4}label.text-box input.text-box__input::-moz-placeholder{color:#565e76}label.text-box input.text-box__input:-ms-input-placeholder{color:#565e76}label.text-box input.text-box__input::placeholder{color:#565e76}",""])},function(e,t,o){var r=o(35),n=o(561);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".simple-table.simple-table--bulk-edit-list .simple-table__header .text-box{display:inline-block;max-width:160px}.simple-table.simple-table--bulk-edit-list .simple-table__cell:nth-child(1){text-align:center}.simple-table.simple-table--bulk-edit-list .simple-table__body .simple-table__cell:nth-child(3){position:relative}.simple-table.simple-table--bulk-edit-list .simple-table__body .simple-table__cell:nth-child(3) .blue-response-dot{position:absolute;top:calc(50% - 3px);left:-3px}.simple-table.simple-table--bulk-edit-list .simple-table__row--bulk-edit-row-disabled{opacity:.5}.simple-table.simple-table--bulk-edit-list .simple-table__row--bulk-edit-row-disabled .simple-table__cell:nth-child(4){visibility:hidden}.simple-table.simple-table--bulk-edit-list .simple-table__cell:last-child,.simple-table.simple-table--bulk-edit-responses .simple-table__cell:last-child{text-align:right}.simple-table.simple-table--bulk-edit-responses{margin-top:20px}",""])},function(e,t,o){var r=o(35),n=o(563);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".templates-list{font-size:14px;width:100%}.templates-list .templates-list__header{font-weight:600}.templates-list label.templates-list__row{display:flex}.templates-list .templates-list__row{display:flex;box-shadow:0 0 0 1px #e7e9ee;padding:10px;align-items:center}.templates-list .templates-list__row:not(:first-child){margin-top:1px}.templates-list .templates-list__column{padding:10px;box-sizing:border-box}.templates-list .templates-list__column.templates-list__column--name{flex:1}.templates-list .templates-list__column.templates-list__column--owner{width:20%}.templates-list .templates-list__column.templates-list__column--date{width:25%}.templates-list .templates-list__column.templates-list__column--questions{width:15%}.templates-list .templates-list__template{font-size:inherit;position:relative;color:#565e76;border:1px solid transparent}.templates-list .templates-list__template:hover,.templates-list .templates-list__template.selected{background:rgba(231,233,238,.3);color:#259af4}.templates-list .templates-list__template.selected{border:1px solid #259af4}.templates-list .templates-list__template-radio{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:absolute;top:0;left:0;width:100%;height:100%;margin:0;cursor:pointer;background:transparent}",""])},function(e,t,o){var r=o(35),n=o(565);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.form-modal--sharing-form h2{margin:0;font-size:14px;color:#333847;font-weight:500}.form-modal--sharing-form .user-row+button{margin-top:15px}.form-modal--sharing-form .form-modal__item--share-settings h2{margin-bottom:12px}.copy-team-permissions{margin-bottom:30px}.copy-team-permissions.copy-team-permissions--opened .copy-team-permissions-opener .k-icon::before{transform:rotate(-90deg)}.copy-team-permissions .kobo-select{flex:1}.copy-team-permissions .copy-team-permissions-opener{cursor:pointer;color:#259af4;border:0;background:transparent;padding-left:0;padding-right:0;font-weight:500;height:20px;line-height:20px;min-height:20px;margin-bottom:10px}.copy-team-permissions .copy-team-permissions-opener:hover{color:#0b81da}.copy-team-permissions .copy-team-permissions-opener:active{transform:translateY(1px)}.copy-team-permissions .copy-team-permissions-opener .k-icon{font-size:14px;margin:0 3px;vertical-align:middle}.copy-team-permissions .copy-team-permissions-opener .k-icon::before{transform:rotate(90deg)}.user-row{border-bottom:1px solid #e7e9ee;padding-bottom:5px;padding-top:5px}.user-row.user-row--deleted{display:none}.user-row.user-row--pending{pointer-events:none;opacity:.5}.user-row .user-row__info{display:flex;flex-direction:row;align-items:center;min-height:50px}.user-row .user-row__info>.mdl-button{min-width:32px}.user-row .user-row__avatar{margin-right:12px}.user-row .user-row__name{flex:2;line-height:2.2em}.user-row .user-row__perms{min-width:160px;text-align:right;padding:0 10px 0 15px}.user-row .user-row__perms .user-row__perm{display:inline}.user-row .user-row__perms .user-row__perm:not(:last-of-type)::after{content:" \\B7   "}.user-row .user-row__editor{margin-top:5px}.form-modal__item--copy-team-permissions{position:relative}.form-modal__item--copy-team-permissions .user-permissions-editor-closer{position:absolute;top:5px;right:5px}.user-permissions-editor .react-tagsinput-input{background-color:#fff}.user-permissions-editor .user-permissions-editor__row:not(:last-child){margin-bottom:10px}.user-permissions-editor .user-permissions-editor__row.user-permissions-editor__row--username{width:calc(100% - 32px)}.user-permissions-editor .user-permissions-editor__sub-row{padding-left:30px;position:relative}.user-permissions-editor .user-permissions-editor__sub-row::before{content:"";position:absolute;top:0;left:10px;width:15px;height:15px;border-left:1px solid #e7e9ee;border-bottom:1px solid #e7e9ee;border-radius:2px}.user-row__editor,.form-modal__item--gray-row{background:#f3f4f6;padding:15px}.form-modal__item--flexed-row{display:flex;flex-direction:row;align-items:flex-start;position:relative}.form-modal__item--flexed-row>*:not(:first-child){margin-left:10px}.form-modal__item--flexed-row .kobo-select{min-width:200px}.form-modal__item--flexed-row .kobo-select .kobo-select__control{height:40px}.form-modal__item--flexed-row>input[type=text]{flex:1;padding:10px;height:40px}.form-modal__item--flexed-row button{min-width:100px}.form-modal__item--shareable-link{margin-top:10px}',""])},function(e,t,o){var r=o(35),n=o(567);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".multi-checkbox{list-style:none;height:auto;width:100%;overflow:hidden auto;border:1px solid #e7e9ee;border-radius:2px}.multi-checkbox .multi-checkbox__item{margin:12px}",""])},function(e,t,o){var r=o(35),n=o(569);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.submission-data-table{text-align:initial}.submission-data-table .checkbox+.submission-data-table__row{margin-top:12px}.submission-data-table__row{background-color:#f3f4f6}.submission-data-table__row.submission-data-table__row--type-group_root+.submission-data-table__row.submission-data-table__row--metadata{border-top:3px solid #e7e9ee}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--group,.submission-data-table__row.submission-data-table__row--group-label{border-bottom:1px solid #e7e9ee}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--group{border-left:1px solid #e7e9ee;border-right:1px solid #e7e9ee}.submission-data-table__row.submission-data-table__row--columns{display:flex;flex-direction:row}.submission-data-table__row.submission-data-table__row--column-names{font-weight:bold;background-color:#565e76;color:#fff}.submission-data-table__row.submission-data-table__row--group-label{padding:12px 0}.submission-data-table__row.submission-data-table__row--group{padding:0 12px 12px}.submission-data-table__row.submission-data-table__row--type-group_root{padding:0;border:none}.submission-data-table__row.submission-data-table__row--type-select_multiple .submission-data-table__column--data ul{list-style:disc;padding-left:1.25em}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--point{background-color:#fff}.submission-data-table__row.submission-data-table__row--point+.submission-data-table__row.submission-data-table__row--point{border-top:1px dotted #e7e9ee}.submission-data-table__row.submission-data-table__row--point:first-child .submission-data-table__column{padding-top:0}.submission-data-table__row.submission-data-table__row--point:last-child .submission-data-table__column{padding-bottom:0}.submission-data-table__row.submission-data-table__row--point .submission-data-table__column:first-child{padding-left:0}.submission-data-table__row.submission-data-table__row--point .submission-data-table__column:last-child{padding-right:0}.submission-data-table__column{padding:12px}.submission-data-table__column.submission-data-table__column--type{width:15%}.submission-data-table__column.submission-data-table__column--type .k-icon{font-size:20px}.submission-data-table__column.submission-data-table__column--label{width:35%}.submission-data-table__column.submission-data-table__column--data{flex:1;font-family:"Roboto Mono",monospace}.submission-data-table__xml-name{display:inline-block;margin-left:.5em;font-size:.8em;line-height:1;color:#565e76;font-family:"Roboto Mono",monospace}.submission-data-table__value{color:#333847;display:inline-block;font-family:"Roboto Mono",monospace}',""])},function(e,t,o){var r=o(35),n=o(571);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".tableColumn-modal .form-view__cell--label{padding-bottom:10px}.tableColumn-modal .form-modal__item{margin-bottom:20px}.tableColumn-modal .form-modal__item--advanced-table-options{border:1px solid #e7e9ee;padding:20px;background:#f3f4f6}.tableColumn-modal .form-modal__item--advanced-table-options .form-view__cell--note{padding-bottom:20px}.tableColumn-modal .form-modal__item--advanced-table-options .form-modal__item:last-child{margin-bottom:0px}.tableColumn-modal .form-modal__item--translation-radios .radio__row--title{font-size:inherit;color:inherit;font-weight:500}.tableColumn-modal ul{max-height:160px;overflow:auto;border:1px solid #e7e9ee;padding:10px;background:#fff}.tableColumn-modal ul li{margin-bottom:5px;max-width:100%}",""])},function(e,t,o){var r=o(35),n=o(573);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".kobo-range{padding-top:6px;flex:1}.kobo-range__values{display:flex;justify-content:space-between;width:100%;margin:auto;padding-bottom:3px;font-weight:600;font-size:18px}.kobo-range__values .kobo-range__current-value{color:#259af4}.kobo-range__values .kobo-range__max-value{color:#979fb4}.kobo-range__values .kobo-range__unit{margin-left:4px}input[type=range].kobo-range__input--default::-moz-range-progress{background-color:#259af4}input[type=range].kobo-range__input--default::-webkit-slider-thumb{background-color:#259af4;box-shadow:-10005px 0 0 10000px #259af4}input[type=range].kobo-range__input--warning::-moz-range-progress{background-color:#e84a5f}input[type=range].kobo-range__input--warning::-webkit-slider-thumb{background-color:#e84a5f;box-shadow:-10005px 0 0 10000px #e84a5f}input[type=range].kobo-range__input--teal::-moz-range-progress{background-color:#22b0c3}input[type=range].kobo-range__input--teal::-webkit-slider-thumb{background-color:#e84a5f;box-shadow:-10005px 0 0 10000px #22b0c3}input[type=range]{-webkit-appearance:none;width:100%;background:transparent;cursor:pointer;border-radius:10px}input[type=range]::-moz-range-thumb{background-color:transparent;height:8px;border-radius:0 10px 10px 0;border:none}input[type=range]::-moz-range-progress{height:8px;border-radius:10px}input[type=range]::-webkit-slider-runnable-track{-webkit-appearance:none;border-radius:10px;background:#e7e9ee;height:8px;overflow-x:hidden;margin-bottom:12px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;height:8px;width:8px;background:#259af4;border-radius:10px}input[type=range]::-moz-range-track{-webkit-appearance:none;border-radius:10px;background:#e7e9ee;height:8px}input[type=range]::-ms-track{-webkit-appearance:none;border-radius:10px;background:#e7e9ee;height:8px}",""])},function(e,t,o){var r=o(35),n=o(575);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".audio-player{display:flex;justify-content:center;padding:0 20px}.audio-player .audio-player__controls{margin-top:8px;margin-right:2.3%}.audio-player .audio-player__controls i.k-icon{font-size:36px;border-radius:4px;cursor:pointer}.audio-player .audio-player__controls i.k-icon:hover{background-color:#e7e9ee}.audio-player .audio-player__controls i.k-icon-caret-right,.audio-player .audio-player__controls i.k-icon-pause{color:#259af4}",""])},function(e,t,o){var r=o(35),n=o(577);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.toggle-switch{position:relative;display:inline-block;line-height:20px}.toggle-switch .toggle-switch__wrapper{cursor:pointer}.toggle-switch input{visibility:hidden;position:absolute}.toggle-switch .toggle-switch__slider{display:inline-block;vertical-align:top;position:relative;width:30px;height:20px;background-color:#979fb4;transition:.3s cubic-bezier(1, 0, 0.5, 1);border-radius:34px}.toggle-switch .toggle-switch__slider[disabled]{opacity:.5}.toggle-switch .toggle-switch__slider::before{position:absolute;content:"";height:16px;width:16px;left:2px;top:2px;background-color:#fff;transition:inherit;border-radius:50%}.toggle-switch .toggle-switch__slider+.toggle-switch__label{margin-left:6px}.toggle-switch input:checked+.toggle-switch__slider{background-color:#22b0c3}.toggle-switch input:checked+.toggle-switch__slider::before{transform:translateX(10px)}.toggle-switch input:focus+.toggle-switch__slider{box-shadow:0 0 1px #22b0c3}.toggle-switch .toggle-switch__label{color:#333847;font-size:14px}',""])},function(e,t,o){var r=o(35),n=o(579);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".asset-action-buttons{display:flex;align-items:center;height:32px;margin:0;padding:0;text-align:right}.asset-action-buttons:not(:first-child){margin-left:15px}.asset-action-buttons .popover-menu__toggle .k-icon{display:block}.asset-action-buttons .k-icon,.asset-action-buttons__button .k-icon,.asset-action-buttons__icon-button .k-icon{font-size:24px;margin:0 3px;color:inherit}.asset-action-buttons__button,.asset-action-buttons__icon-button{display:block;cursor:pointer}.asset-action-buttons__button .k-icon,.asset-action-buttons__icon-button .k-icon{display:block}.asset-action-buttons__button{border-radius:3px;font-size:.9em;font-weight:500;text-transform:uppercase;overflow:hidden;position:relative;padding:5px 8px 5px 30px;color:#565e76;background-color:transparent;border:1px solid currentColor}.asset-action-buttons__button:hover{color:#fff;background-color:#565e76;border-color:#565e76}.asset-action-buttons__button:active{transform:translateY(1px)}.asset-action-buttons__button[disabled]{pointer-events:none}.asset-action-buttons__button[disabled].asset-action-buttons__button--on,.asset-action-buttons__button[disabled].asset-action-buttons__button--off{color:#979fb4}.asset-action-buttons__button.asset-action-buttons__button--pending.asset-action-buttons__button--on,.asset-action-buttons__button.asset-action-buttons__button--pending.asset-action-buttons__button--off{padding-left:8px}.asset-action-buttons__button .k-icon{position:absolute;top:50%;transform:translateY(-50%);left:0}.asset-action-buttons__button.asset-action-buttons__button--on{color:#22b0c3}.asset-action-buttons__button.asset-action-buttons__button--on:hover{color:#fff;background-color:#22b0c3;border-color:#22b0c3}.asset-action-buttons__button.asset-action-buttons__button--off{color:#e84a5f}.asset-action-buttons__button.asset-action-buttons__button--off:hover{color:#fff;background-color:#e84a5f;border-color:#e84a5f}.asset-action-buttons__icon-button{color:#565e76}.asset-action-buttons__icon-button:hover{color:#259af4}.asset-action-buttons__button+.asset-action-buttons__icon-button{margin-left:5px}",""])},function(e,t,o){var r=o(35),n=o(581);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.form-view__cell--assets-table-wrapper{min-width:822px}.assets-table{width:100%;background-color:#fff;overflow-x:auto}.assets-table.assets-table--fullscreen{position:fixed;z-index:101;border:15px solid #fff;top:0;left:0;bottom:0;right:0;width:100%;height:100%}.assets-table.assets-table--collection-content{overflow-x:initial;min-width:820px}.assets-table__header .assets-table-row .assets-table-row__column{color:#333847}.assets-table__header,.assets-table__body,.assets-table__footer{min-width:800px}.assets-table__body>.loading{margin:40px auto}.assets-table__scrollbar-padding{background-color:#f3f4f6;align-self:stretch}.assets-table__footer{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:10px;color:#565e76;background-color:#f3f4f6;height:40px}.assets-table__footer .mdl-button{margin-left:0;margin-right:0;padding-right:0;padding-left:12px;line-height:32px;height:32px;min-height:32px}.assets-table__footer .mdl-button .k-icon{font-size:24px;margin:0 3px;float:right}.assets-table--MY_LIBRARY,.assets-table--PUBLIC_COLLECTIONS{height:calc(100% - 70px);display:flex;flex-direction:column}.assets-table--MY_LIBRARY .assets-table__body,.assets-table--PUBLIC_COLLECTIONS .assets-table__body{flex:1;overflow-y:auto}.assets-table-pagination{display:inline-block;color:inherit}.assets-table-pagination__index{display:inline;margin:0 10px}.assets-table-pagination__button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;padding:0;margin:0;border:0;cursor:pointer;color:inherit;height:20px}.assets-table-pagination__button:hover{opacity:.8}.assets-table-pagination__button:active{opacity:.6}.assets-table-pagination__button[disabled]{opacity:.5;pointer-events:none}.assets-table-pagination__button .k-icon{font-size:14px;margin:0 3px;display:inline-block;vertical-align:middle}.assets-table-row{display:flex;flex-direction:row;position:relative;align-items:flex-start}.assets-table-row.assets-table-row--asset:hover{background-color:#e9f9fb}.assets-table-row.assets-table-row--asset:hover .assets-table-row__buttons{opacity:1;visibility:visible}.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status{padding:16px 0 0 0}.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .k-icon{font-size:24px}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--name .asset-name{font-weight:700}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon{position:relative}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon::before{position:relative;z-index:1;color:#fff}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon::after{content:"";background-color:#22b0c3;position:absolute;z-index:0;top:-3px;left:-8px;right:-8px;height:calc(100% + 6px);border-radius:6px}.assets-table-row:first-of-type .assets-table-row__column{border-top-color:transparent}.assets-table-row:first-of-type:hover .assets-table-row__column{border-top-color:#e7e9ee}.assets-table-row .assets-table-row__header-label,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu__toggle{font-size:.9rem}.assets-table-row.assets-table-row--header .assets-table-row__column{border-top:0;cursor:pointer;font-weight:700;white-space:nowrap;height:40px;line-height:20px;background-color:#f3f4f6;padding:10px}.assets-table-row.assets-table-row--header .assets-table-row__column:hover{background-color:#e7e9ee}.assets-table-row.assets-table-row--header .assets-table-row__column .k-icon{font-size:14px;min-width:14px;width:14px;margin-left:3px;display:inline-block}.assets-table-row.assets-table-row--header .assets-table-row__column .k-icon.k-icon-filter-arrows{font-size:9px;margin-left:0px !important}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu{display:block}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle{display:block;color:currentColor}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle:hover{color:currentColor}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .k-icon{margin:-2px}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content{top:28px;z-index:30;padding:10px;max-width:calc(100% + 20px);min-width:auto;left:-10px}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .k-icon{margin:1px}.assets-table-row.assets-table-row--empty-message{padding:40px;font-size:1.2rem;justify-content:center;text-align:center}.assets-table-row.assets-table-row--empty-message .pro-tip{font-size:1rem;margin-top:20px}.assets-table-row .assets-table-row__link{cursor:pointer;position:absolute;z-index:10;top:0;left:0;width:100%;height:100%}.assets-table-row .assets-table-row__column{border-top:1px solid #e7e9ee;padding:20px 10px;color:#565e76}.assets-table-row .assets-table-row__column[disabled]{pointer-events:none}.assets-table-row .assets-table-row__column.assets-table-row__column--icon-status{width:70px;text-align:center}.assets-table-row .assets-table-row__column.assets-table-row__column--name{flex:1;color:#333847}.assets-table-row .assets-table-row__column.assets-table-row__column--owner{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--subscribers-count{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--organization{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--languages{width:12.5%}.assets-table-row .assets-table-row__column.assets-table-row__column--primary-sector{width:15%}.assets-table-row .assets-table-row__column.assets-table-row__column--country{width:7.5%}.assets-table-row .assets-table-row__column.assets-table-row__column--date-modified{width:17.5%;text-align:right}.assets-table-row .assets-table-row__column .k-icon{vertical-align:middle}.assets-table-row__tags{display:block;margin-top:5px}.assets-table-row__tag{display:inline-block;vertical-align:middle;padding:3px 5px;font-size:12px;line-height:1;color:currentColor;background:#e7e9ee;border-radius:2px}.assets-table-row__tag.assets-table-row__tag--gray-circle{min-width:18px;border-radius:1em;text-align:center}.assets-table-row__buttons{position:absolute;z-index:20;top:1px;right:0;bottom:0;opacity:0;visibility:hidden;background-color:#e9f9fb;padding:13px 10px 0 0}.assets-table-row__buttons::before{content:"";position:absolute;right:100%;top:0;height:100%;width:15px;background:linear-gradient(90deg, transparent, #e9f9fb)}',""])},function(e,t,o){var r=o(35),n=o(583);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.asset-info-box{display:flex;flex-direction:row;border-bottom:1px solid #e7e9ee;padding-bottom:5px;line-height:24px}.asset-info-box .asset-info-box__column{display:flex;flex-direction:column}.asset-info-box .asset-info-box__column:not(.asset-info-box__column--toggle){flex:1;padding-right:10px}.asset-info-box .asset-info-box__cell{flex:1}.asset-info-box .asset-info-box__cell label{color:#565e76}.asset-info-box .asset-info-box__cell label::after{content:": "}.asset-info-box .asset-info-box__toggle{cursor:pointer;color:#259af4;background:transparent;border:0;width:100%;text-align:center}.asset-info-box .asset-info-box__toggle:hover{color:#0b81da}.asset-info-box .asset-info-box__toggle:active{transform:translateY(1px)}.asset-info-box .asset-info-box__toggle .k-icon{font-size:18px;margin-right:3px;vertical-align:-5px}.asset-info-box__cell+.asset-info-box__cell{margin-top:20px}',""])},function(e,t,o){var r=o(35),n=o(585);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".breadcrumbs{font-size:24px;font-weight:600;line-height:40px;display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}.breadcrumbs.breadcrumbs--gray-wrapper{background:#f3f4f6;padding:15px 20px;height:70px}.breadcrumbs .breadcrumbs__crumb,.breadcrumbs .breadcrumbs__divider{color:#565e76}.breadcrumbs .breadcrumbs__crumb:last-of-type{color:#333847}.breadcrumbs .k-icon.k-icon-next{font-size:24px;margin:0 3px}",""])},function(e,t,o){var r=o(35),n=o(587);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){var r=o(307);(e.exports=o(32)(!1)).push([e.i,'@media screen and (min-width: 961px){.report-view{padding:0px 40px}}.form-view__cell--reportLimit{padding-bottom:16px}.report-view__item{border:1px solid #e7e9ee;margin:15px 0px;background:#fff}.report-view__itemHeading{padding:10px 24px;border-left:5px solid #22b0c3;border-bottom:1px solid #e7e9ee;position:relative}.report-view__itemHeading h2{margin:0px;margin-right:60px;color:#22b0c3;font-size:16px;font-weight:normal;line-height:1.35em}.report-view__itemHeading .report-view__headingMeta{opacity:.6;font-size:11px;margin-right:60px}.report-view__itemHeading .report-view__headingMeta .type{text-transform:uppercase}.report-view__itemHeading .report-button__question-settings{overflow:visible;position:absolute;right:15px;top:6px}.report-view__itemContent{padding:10px 24px;position:relative}.report-view__itemContent table{width:100%;border:0px;margin:20px 0px;border-spacing:0px}.report-view__itemContent table thead th{margin:0px;padding:8px;background-color:#565e76;color:#fff;text-align:right;font-weight:normal;font-size:14px}.report-view__itemContent table thead th:first-child{text-align:left}.report-view__itemContent table tbody tr td{border-bottom:1px solid #979fb4;padding:8px;text-align:right}.report-view__itemContent table tbody tr td:first-child{text-align:left}@media screen and (min-width: 961px){.report-view__itemContent table{width:80%;margin-left:10%}}.report-view__chart{margin:0 auto;padding:20px 50px;max-width:100% !important;max-height:350px !important}.report-view__chart canvas{width:100% !important;height:auto !important;margin:0 auto}.form-view__reportButtons{padding:15px 0px}.form-view__reportButtons button:not(.mdl-button--icon){text-transform:uppercase;padding-left:0px}.form-view__reportButtons button.report-button__edit,.form-view__reportButtons button.report-button__settings{overflow:visible}.form-view__reportButtons button.report-button__expand,.form-view__reportButtons button.report-button__print{float:right;margin-right:0px;margin-left:8px;overflow:visible}.form-view__reportButtons+.form-view__cell--iframe{height:calc(100% - 60px)}@media screen and (max-width: 999px){.form-view__reportButtons{padding-left:12px;padding-right:12px}}@media screen and (max-width: 767px){.form-view__reportButtons button.mdl-button{font-size:13px}.form-view__reportButtons button.report-button__print{display:none}.form-view__reportButtons button.report-button__expand{margin-left:0px;padding-left:4px;padding-right:4px}}.graph-settings__charttype,.graph-settings__colors{padding:20px 10px}.graph-settings__charttype:after,.graph-settings__colors:after{content:"";clear:both;display:block}.graph-settings__charttype strong,.graph-settings__colors strong{margin-bottom:20px;display:block;font-weight:400;color:#565e76}.graph-settings__radio{text-align:center;background-size:auto 80%;background-position:top center;background-repeat:no-repeat}.graph-settings__radio input{display:none}.graph-settings__radio label{border:2px solid #fff;display:block;width:100%;cursor:pointer}.graph-settings__radio input:checked+label{border:2px solid #259af4}.graph-settings__radio--vertical{background-image:url('+r(o(588))+")}.graph-settings__radio--horizontal{background-image:url("+r(o(589))+")}.graph-settings__radio--donut{background-image:url("+r(o(590))+")}.graph-settings__radio--area{background-image:url("+r(o(591))+")}.graph-settings__radio--pie{background-image:url("+r(o(592))+")}.graph-settings__radio--line{background-image:url("+r(o(593))+")}.graph-settings__charttype .graph-settings__radio{width:33%;height:100px;margin-bottom:20px;float:left}.graph-settings__charttype .graph-settings__radio label{padding-top:80px}.graph-settings__colors .graph-settings__radio{margin-bottom:10px}.graph-settings__colors .graph-settings__radio label{padding:4px;padding-top:8px;width:380px;margin:0 auto}.graph-settings__colors .graph-settings__radio label>div{display:inline-block;width:40px;height:40px}.graph-settings__colors+.slider-item{padding:10px;display:flex;width:240px;margin:0 auto}.graph-settings__colors+.slider-item>label{width:100px}.graph-settings__colors+.slider-item>div{flex-grow:1}.graph-tab__groupby,.graph-tab__translation{padding:20px 30px}.custom-report--title{padding-bottom:30px}.custom-report--title input{width:100%;font-size:20px;font-weight:300}.custom-report--questions{margin:10px 0;overflow:auto;width:100%}.custom-report--questions .graph-settings__question{width:100%;padding:5px 0}.custom-report--footer{margin:15px 0px;text-align:right}@media screen and (max-width: 767px){.form-view__reportButtons button.custom-reports{margin-left:8px}.form-view__reportButtons button.report-button__expand,.form-view__reportButtons button.report-button__print{margin-left:0px;padding:0px 4px}}",""])},function(e,t,o){e.exports=o.p+"chart-vertical.png"},function(e,t,o){e.exports=o.p+"chart-horizontal.png"},function(e,t,o){e.exports=o.p+"chart-donut.png"},function(e,t,o){e.exports=o.p+"chart-area.png"},function(e,t,o){e.exports=o.p+"chart-pie.png"},function(e,t,o){e.exports=o.p+"chart-line.png"},,,,function(e,t,o){var r=o(35),n=o(598);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.form-view__group.form-view__group--description-cols{padding:20px;display:flex}.form-view__group.form-view__group--description-cols>.form-view__cell{width:50%}.form-view__group.form-view__group--description-cols>.form-view__cell .form-view__label{font-size:12px;opacity:.6}.form-view__row--summary-description .form-view__cell--description:not(:first-child){border-top:1px solid #e7e9ee}.form-view__group.form-view__group--summary-details-cols{display:flex;align-items:flex-start}.form-view__group.form-view__group--summary-details-cols>.form-view__cell{padding:15px 20px;flex-grow:1}.form-view__group.form-view__group--summary-details-cols>.form-view__cell:first-child{flex-grow:2}.form-view__group.form-view__group--summary-details-cols>.form-view__cell .form-view__label{font-size:12px;opacity:.6}.form-view__cell.form-view__cell--subs-graph{padding:30px;padding-bottom:0px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle{padding-bottom:20px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a+a{margin-left:15px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a{display:inline-block;padding:8px;color:#22b0c3;cursor:pointer;font-size:16px;background:transparent}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a.active{color:#fff;background:#22b0c3;position:relative}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a.active::after{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #22b0c3;content:"";position:absolute;bottom:-9px;left:50%;margin-left:-10px}.form-view__group.form-view__group--submission-stats{padding:30px;display:flex}.form-view__group.form-view__group--submission-stats .form-view__cell{border:1px solid #e7e9ee;padding:20px;flex:2;margin-right:10px}.form-view__group.form-view__group--submission-stats .form-view__cell:last-child{flex:1;margin-right:0px}.form-view__group.form-view__group--submission-stats .subs-graph-number{font-size:32px;font-weight:600;color:#22b0c3}.form-view__cell.form-view__cell--data-tabs a,.form-view__cell.form-view__cell--data-tabs button{cursor:pointer;display:block;width:100%;border:0;background:transparent;padding:6px 10px;color:#565e76;border-bottom:1px solid #e7e9ee;position:relative;text-align:left}.form-view__cell.form-view__cell--data-tabs a:last-child,.form-view__cell.form-view__cell--data-tabs button:last-child{border-bottom:none}.form-view__cell.form-view__cell--data-tabs a:hover,.form-view__cell.form-view__cell--data-tabs button:hover{color:#333847}.form-view__cell.form-view__cell--data-tabs a .k-icon,.form-view__cell.form-view__cell--data-tabs button .k-icon{font-size:24px;width:24px;margin:4px 10px 4px 4px;display:inline-block;vertical-align:middle}.form-view__cell.form-view__cell--data-tabs a .k-icon.k-icon-next,.form-view__cell.form-view__cell--data-tabs button .k-icon.k-icon-next{position:absolute;right:4px;top:6px}.form-view__row.form-view__row--team{position:relative}.form-view__row.form-view__row--team .form-view__cell--box{display:flex;justify-content:flex-start;flex-wrap:wrap}.form-view__row.form-view__row--team .user-row{margin:0;border-bottom:0px;margin-right:0px}.form-view__row.form-view__row--team a.team-sharing-button{cursor:pointer;color:#565e76;position:absolute;right:0px;top:-2px}.form-view__row.form-view__row--team a.team-sharing-button .k-icon{font-size:24px}.form-view__row.form-view__row--team a.team-sharing-button:hover{color:#259af4}.form-view__cell.form-view__cell--summary-chart{position:relative;height:0px;overflow:hidden}.form-view__cell.form-view__cell--summary-chart+.form-view__cell--chart-no-data{height:100px;justify-content:center;align-items:center;display:flex;border:1px solid #e7e9ee}.form-view__cell.form-view__cell--summary-chart+.form-view__cell--chart-no-data span{font-size:16px;margin:10px}.form-view__cell.form-view__cell--summary-chart.active{height:275px;overflow:visible}.form-view__cell.form-view__cell--summary-chart.active canvas{height:250px}.form-view__cell.form-view__cell--summary-chart.active+.form-view__cell--chart-no-data{height:0px;overflow:hidden}@media screen and (min-width: 768px){.form-view--summary{display:flex}.form-view--summary .form-view__column--left{width:65%}.form-view--summary .form-view__column--left .form-view__row{margin-right:0px}.form-view--summary .form-view__column--right{width:35%}.form-view--summary .form-view__column--right .form-view__row{margin-left:30px;margin-right:40px}}@media screen and (min-width: 1024px){.form-view--summary .form-view__column--left{width:70%}.form-view--summary .form-view__column--right{width:30%}}',""])},function(e,t,o){var r=o(35),n=o(600);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".connect-projects i.k-icon{font-size:32px;margin-right:5px}.connect-projects .form-view__cell--page-title{font-size:14px !important;display:flex;margin-top:20px !important}.connect-projects .form-view__cell--page-title i{margin-top:10px}.connect-projects .connect-projects__export{display:block;margin-top:20px}.connect-projects .connect-projects__export .connect-projects__export-options{display:flex;justify-content:space-between;padding-bottom:12px}.connect-projects .connect-projects__export .connect-projects__export-options .toggle-switch .toggle-switch__label{font-weight:bold}.connect-projects .connect-projects__export .connect-projects__export-options .checkbox{width:50%}.connect-projects .connect-projects__export .connect-projects__export-multicheckbox{display:flex;justify-content:space-between;position:relative;padding-top:12px;border-top:1px solid;border-color:#e7e9ee}.connect-projects .connect-projects__export .connect-projects__export-multicheckbox .connect-projects__export-hint{width:45%}.connect-projects .connect-projects__export .connect-projects__export-multicheckbox .multi-checkbox{height:200px;width:50%}.connect-projects .connect-projects__import .connect-projects__import-form{position:relative;display:flex;margin-top:10px}.connect-projects .connect-projects__import .connect-projects__import-form .kobo-select__wrapper{width:50%;margin-right:50px}.connect-projects .connect-projects__import .connect-projects__import-form .kobo-select__wrapper .kobo-select__placeholder{color:#333847}.connect-projects .connect-projects__import .connect-projects__import-form .text-box{width:35%;margin-top:0px;margin-right:24px}.connect-projects .connect-projects__import .connect-projects__import-form .text-box .text-box__input{padding:9px 10px;background-color:#fff;color:#333847}.connect-projects .connect-projects__import-list{margin-top:20px}.connect-projects .connect-projects__import-list label{margin-top:20px;font-size:14px;font-weight:bold;color:#565e76}.connect-projects .connect-projects__import-list .connect-projects__import-list-item,.connect-projects .connect-projects__import-list .connect-projects__import-list-item--no-imports{position:relative;display:flex;justify-content:space-between;margin-top:7px;margin-bottom:10px;border-bottom:1px solid;border-color:#e7e9ee}.connect-projects .connect-projects__import-list .connect-projects__import-list-item--no-imports{font-style:italic;color:#979fb4;padding:11px 0 11px 11px}.connect-projects .connect-projects__import-list .connect-projects__import-list-item{padding-bottom:10px}.connect-projects .connect-projects__import-list .connect-projects__import-list-item i.k-icon-check{color:#259af4}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-labels{position:absolute;top:6px;left:32px;font-weight:500}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-labels i.k-icon-check{color:#259af4;font-weight:bold}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-labels .connect-projects__import-labels-source{margin-left:24px;font-weight:400;color:#565e76}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-options{position:relative}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-options .kobo-light-button{position:absolute;right:0;padding-bottom:25px}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-options .kobo-light-button i.k-icon{font-size:24px}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-options .kobo-light-button:not(:first-child){margin-right:45px}.connect-projects .connect-projects__import-list .loading__inner i{vertical-align:text-bottom}.form-modal__form.form-modal__form--data-attachment-columns{color:#7a839f}.form-modal__form.form-modal__form--data-attachment-columns .bulk-options{margin-top:14px;display:flex;justify-content:space-between}.form-modal__form.form-modal__form--data-attachment-columns .bulk-options .bulk-options__description{font-weight:bold}.form-modal__form.form-modal__form--data-attachment-columns .bulk-options .bulk-options__buttons span{margin:12px}.form-modal__form.form-modal__form--data-attachment-columns .bulk-options .bulk-options__buttons a{text-decoration:underline;cursor:pointer}.form-modal__form.form-modal__form--data-attachment-columns .multi-checkbox{margin-top:12px;height:200px}.form-modal__form.form-modal__form--data-attachment-columns .loading{margin-top:12px}.form-modal__form.form-modal__form--data-attachment-columns .modal__footer{text-align:center}.form-modal__form.form-modal__form--data-attachment-columns .modal__footer button{padding-left:64px;padding-right:64px}@media(min-width: 1000px)and (max-width: 1140px),(min-width: 770px)and (max-width: 860px),(max-width: 700px){.connect-projects__export-multicheckbox{display:block !important}.connect-projects__export-multicheckbox .multi-checkbox{margin-top:12px;width:100% !important;overflow-x:scroll}.connect-projects__import-form{display:block !important}.connect-projects__import-form .kobo-select__wrapper{width:100% !important;margin-bottom:12px}.connect-projects__import-form .text-box{width:100%}.connect-projects__import-form .kobo-button{display:block;margin-top:12px auto 0;width:70%}}@media screen and (max-width: 530px){.connect-projects__export-options{display:block !important}.connect-projects__export-options .checkbox{margin-top:20px;width:100% !important}}",""])},function(e,t,o){var r=o(35),n=o(602);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".form-view--form-media{background-color:#fff}.form-media{padding:30px 40px}.form-media .form-view__cell--warning{margin-bottom:24px}.form-media .form-media__title{display:inline-block;position:relative;margin-bottom:24px}.form-media .form-media__title label.form-media__label{float:left;padding-right:12px}.form-media .form-media__title a.title-help{position:absolute;top:-2px;font-size:24px;height:24px;color:#565e76;cursor:pointer}.form-media .form-media__upload .form-media-upload-url{color:#565e76;font-size:18px;font-weight:500;margin:auto;margin-top:36px;display:block;text-align:center}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__label{margin:12px 0}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form .text-box__error{padding-top:6px;font-size:14px}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form .form-builder-header__button{background:#fff;box-shadow:none;color:#259af4;border:1px solid}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form .form-builder-header__button:hover{color:#fff;background-color:#259af4;border-color:#259af4}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form label.text-box{padding-top:7px;min-width:77%;display:inline-table}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form button{margin-left:3%;min-width:20%}.form-media .form-media__list{margin-top:64px}.form-media .form-media__list label.form-media__label{margin-bottom:11px;padding-bottom:16px;border-bottom:1px solid #e7e9ee}.form-media .form-media__list .form-media__list-item{font-size:16px;position:relative;padding-bottom:12px;border-bottom:1px solid #e7e9ee;margin-bottom:12px;display:flex;justify-content:space-between}.form-media .form-media__list .form-media__list-item button.kobo-light-button{padding-bottom:25px}.form-media .form-media__list .form-media__list-item button.kobo-light-button i.k-icon-trash{font-size:24px}.form-media .form-media__list .form-media__list-item i.form-media__file-type{position:absolute;left:-5px;top:2px;color:#979fb4;font-size:24px}.form-media .form-media__list .form-media__list-item a{font-weight:400;padding:5px;margin-left:25px;font-size:18px;display:inline-block;min-width:10px;vertical-align:top;height:auto;position:relative;min-height:18px;max-width:70%;overflow-x:hidden;cursor:pointer}.form-media .form-media__label{color:#333847;font-weight:500;font-size:22px;display:block}@media screen and (max-width: 767px){.media-settings--upload-file{width:auto}}",""])},function(e,t,o){var r=o(35),n=o(604);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.kobo-select.kobo-select--validation .kobo-select__menu{left:-10px;width:calc(100% + 20px)}.kobo-select.kobo-select--validation .kobo-select__menu-list{text-align:left;line-height:20px}.kobo-select.kobo-select--validation .kobo-select__menu-list>*:first-child{margin-top:10px}.kobo-select.kobo-select--validation .kobo-select__menu-list>*:last-child{margin-bottom:10px}.kobo-select.kobo-select--validation .kobo-select__control{padding:0;color:#565e76;background:transparent;height:28px;min-height:28px;cursor:pointer}.kobo-select.kobo-select--validation .kobo-select__control .kobo-select__value-container{padding:0}.kobo-select.kobo-select--validation .kobo-select__control .kobo-select__value-container .kobo-select__option-badge{font-weight:400}.kobo-select.kobo-select--validation .kobo-select__option-wrapper{padding:4px 10px;position:relative}.kobo-select.kobo-select--validation .kobo-select__option-wrapper:hover{background-color:#f3f4f6}.kobo-select.kobo-select--validation .kobo-select__indicator{margin-left:3px}.kobo-select.kobo-select--validation .kobo-select__indicator,.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__option{padding:0}.kobo-select.kobo-select--validation .kobo-select__indicator::after,.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__option::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:transparent}.kobo-select.kobo-select--validation.kobo-select--for-nonwhite-background .kobo-select__control{background:#fff;border-radius:3px;padding-right:5px}.kobo-select.kobo-select--validation.kobo-select--for-nonwhite-background .kobo-select__control .kobo-select__option-badge{background:#fff !important}.kobo-select.kobo-select--validation .kobo-select__option-badge{font-weight:500;line-height:1;font-size:12px;height:24px;padding:4px 6px;border:2px solid transparent;border-radius:10px;display:inline-block;vertical-align:top;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.kobo-select.kobo-select--validation .kobo-select__option-badge+[class*=dummyInput-DummyInput]{position:absolute}.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__single-value{display:inline;position:static;margin:0;color:inherit;overflow:visible;text-overflow:initial;white-space:initial;transform:none;top:auto}.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__option.kobo-select__option--is-focused,.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__option.kobo-select__option--is-selected{background-color:transparent;color:inherit;font-weight:inherit}.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_not_approved.kobo-select__option-badge--selected,.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_approved.kobo-select__option-badge--selected,.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_on_hold.kobo-select__option-badge--selected{border-color:currentColor}.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_not_approved{color:#924f58;background-color:#ffd6dc}.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_approved{color:#237a85;background-color:#5cc8d6}.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_on_hold{color:#6b5947;background-color:#ffe3c7}',""])},,,function(e,t,o){var r=o(35),n=o(608);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".table-bulk-checkbox{position:relative;display:block;height:100%;line-height:20px}.table-bulk-checkbox>.checkbox{position:absolute;z-index:1;top:calc(50% - 10px);left:calc(50% - 15px)}.table-bulk-checkbox>.checkbox .checkbox__wrapper{padding:0;display:block}",""])},function(e,t,o){var r=o(35),n=o(610);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.kobo-dropdown{display:inline-block;position:relative}.kobo-dropdown.kobo-dropdown--disabled .kobo-dropdown__trigger{pointer-events:none;opacity:.5}.kobo-dropdown .kobo-dropdown__trigger{display:inline-block;vertical-align:top;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;margin:0;padding:0;color:inherit;background-color:transparent;cursor:pointer}.kobo-dropdown .kobo-dropdown__menu{display:block;position:absolute;z-index:100;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:4px;min-width:150px;list-style:none;margin:0;padding:9px 0;text-align:left;line-height:20px}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button{display:block;width:100%;padding:5px 10px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;margin:0;color:inherit;background-color:transparent;cursor:pointer;text-align:left;font-size:12px;line-height:inherit}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button[disabled]{pointer-events:none;opacity:.5}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button .k-icon{color:inherit;font-size:20px;vertical-align:top}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button .k-icon:first-child:not(:only-child){margin-right:5px}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button .k-icon:last-child:not(:only-child){margin-left:5px}.kobo-dropdown.kobo-dropdown--light .kobo-dropdown__menu{color:#565e76;background-color:#fff}.kobo-dropdown.kobo-dropdown--light .kobo-dropdown__menu .kobo-dropdown__menu-button:hover{background-color:#f3f4f6}.kobo-dropdown.kobo-dropdown--dark .kobo-dropdown__menu{color:#fff;background-color:#565e76}.kobo-dropdown.kobo-dropdown--dark .kobo-dropdown__menu .kobo-dropdown__menu-button:hover{background-color:#333847}.kobo-dropdown.kobo-dropdown--up-left .kobo-dropdown__menu{bottom:100%;left:0}.kobo-dropdown.kobo-dropdown--up-center .kobo-dropdown__menu{bottom:100%;left:50%;transform:translateX(-50%)}.kobo-dropdown.kobo-dropdown--up-right .kobo-dropdown__menu{bottom:100%;right:0}.kobo-dropdown.kobo-dropdown--down-left .kobo-dropdown__menu{top:100%;left:0}.kobo-dropdown.kobo-dropdown--down-center .kobo-dropdown__menu{top:100%;left:50%;transform:translateX(-50%)}.kobo-dropdown.kobo-dropdown--down-right .kobo-dropdown__menu{top:100%;right:0}",""])},function(e,t,o){var r=o(35),n=o(612);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".kobo-dropdown[data-name=table-column-sort]{display:block;width:100%}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__trigger{display:block;width:100%;padding:0}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__trigger:hover,.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__trigger:hover .k-icon{color:#259af4 !important}.kobo-dropdown[data-name=table-column-sort].kobo-dropdown--menu-visible .table-column-sort-dropdown-trigger .k-icon.k-icon-caret-down{display:none}.kobo-dropdown[data-name=table-column-sort].kobo-dropdown--menu-hidden .table-column-sort-dropdown-trigger .k-icon.k-icon-caret-up{display:none}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger{display:flex;flex-direction:row;flex-wrap:nowrap;text-align:left}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .column-header-title{flex:1}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .column-header-title:not(:last-child){margin-right:5px}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .column-header-title:not(:first-child){margin-left:5px}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .k-icon.k-icon-sort-up,.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .k-icon.k-icon-sort-down{color:#5cc8d6}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__menu .table-column-sort-dropdown-option .table-column-sort-dropdown-clear{color:#fff !important;float:right}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__menu .table-column-sort-dropdown-option .table-column-sort-dropdown-clear.k-icon{font-size:18px}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__menu .table-column-sort-dropdown-option.table-column-sort-dropdown-option--active{color:#5cc8d6;background-color:#333847}",""])},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".kobo-dropdown[data-name=columns-hide-dropdown]{display:flex;margin-right:10px}.columns-hide-dropdown-trigger{cursor:pointer;background:none;border:none;margin:0;padding:0;color:#7a839f;font-size:14px;font-weight:500;line-height:24px}.columns-hide-dropdown-trigger:hover{color:#259af4}.columns-hide-dropdown-trigger .k-icon{font-size:22px;vertical-align:top;margin-right:5px}.columns-hide-form{padding:6px 15px;width:360px}.columns-hide-form .columns-hide-form__message{margin:0;font-size:12px;line-height:18px;color:#565e76}.columns-hide-form .columns-hide-form__message:not(:first-child){margin-top:10px}.columns-hide-form .columns-hide-form__message:not(:last-child){margin-bottom:10px}.columns-hide-form .columns-hide-form__list{max-height:200px;margin:10px 0;overflow-y:auto}.columns-hide-form .columns-hide-form__list .columns-hide-form__list-item:not(:first-child){margin-top:10px}.columns-hide-form .columns-hide-form__footer{display:flex;flex-direction:row;justify-content:space-between}.columns-hide-form .columns-hide-form__footer>*:not(:first-child){margin-left:10px}",""])},function(e,t,o){var r=o(35),n=o(615);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.radio .radio__row,.radio .checkbox__wrapper,.checkbox .radio__row,.checkbox .checkbox__wrapper{padding:4px 0;cursor:pointer}.radio .radio__row:hover .radio__input:not([disabled]):checked::after,.radio .radio__row:hover .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:hover .radio__input:not([disabled]):checked::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after{opacity:.8}.radio .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after{opacity:.1}.radio .radio__row:active .radio__input:not([disabled]):checked::after,.radio .radio__row:active .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:active .radio__input:not([disabled]):checked::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after{opacity:.6}.radio .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after{opacity:.3}.radio.checkbox--disabled .checkbox__wrapper,.checkbox.checkbox--disabled .checkbox__wrapper{cursor:default}.radio .radio__row,.checkbox .radio__row{display:block}.radio .radio__input,.radio .checkbox__input,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input,.radio .radio__label,.radio .checkbox__label,.checkbox .radio__input,.checkbox .checkbox__input,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input,.checkbox .radio__label,.checkbox .checkbox__label{display:inline-block;vertical-align:top}.radio .radio__label,.radio .checkbox__label,.checkbox .radio__label,.checkbox .checkbox__label{max-width:calc(100% - 32px);color:#333847;font-size:14px}.radio .radio__input+.radio__label,.radio .checkbox__input+.checkbox__label,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input+.checkbox__label,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input+.checkbox__label,.checkbox .radio__input+.radio__label,.checkbox .checkbox__input+.checkbox__label,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input+.checkbox__label,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input+.checkbox__label{margin-left:8px}.radio .radio__input,.checkbox .radio__input{border-radius:50%}.radio .radio__input::after,.checkbox .radio__input::after{content:"";top:4px;left:4px;border-radius:50%;width:10px;height:10px;background-color:#259af4}.radio .checkbox__input,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input,.checkbox .checkbox__input,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input{border-radius:2px}.radio .checkbox__input::after,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input::after,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input::after,.checkbox .checkbox__input::after,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input::after,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input::after{content:"\\2713";top:50%;left:50%;transform:translate(-50%, -50%);width:18px;height:18px;color:#fff;background-color:#259af4;text-align:center;line-height:18px;font-size:18px}.radio .radio__input,.radio .checkbox__input,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input,.checkbox .radio__input,.checkbox .checkbox__input,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;margin:0;border:1px solid #565e76;width:20px;height:20px;outline:0;background-color:#fff;color:#565e76;cursor:pointer}.radio .radio__input::after,.radio .checkbox__input::after,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input::after,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input::after,.checkbox .radio__input::after,.checkbox .checkbox__input::after,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input::after,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input::after{display:block;position:absolute;opacity:0}.radio .radio__input:checked,.radio .checkbox__input:checked,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input:checked,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input:checked,.checkbox .radio__input:checked,.checkbox .checkbox__input:checked,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input:checked,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input:checked{border-color:#259af4}.radio .radio__input:checked::after,.radio .checkbox__input:checked::after,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input:checked::after,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input:checked::after,.checkbox .radio__input:checked::after,.checkbox .checkbox__input:checked::after,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input:checked::after,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input:checked::after{opacity:1}.radio .radio__input[disabled],.radio .checkbox__input[disabled],.radio .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .radio input[disabled].checkbox__input,.checkbox .radio__input[disabled],.checkbox .checkbox__input[disabled],.checkbox .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .checkbox input[disabled].checkbox__input{pointer-events:none;opacity:.5}.radio .radio__input[disabled]+.radio__label,.radio .radio__input[disabled]+.checkbox__label,.radio .checkbox__input[disabled]+.radio__label,.radio .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input+.radio__label,.form-view--table .ReactTable .rt-thead.-filters .radio input[disabled].checkbox__input+.radio__label,.radio .checkbox__input[disabled]+.checkbox__label,.radio .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input+.checkbox__label,.form-view--table .ReactTable .rt-thead.-filters .radio input[disabled].checkbox__input+.checkbox__label,.checkbox .radio__input[disabled]+.radio__label,.checkbox .radio__input[disabled]+.checkbox__label,.checkbox .checkbox__input[disabled]+.radio__label,.checkbox .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input+.radio__label,.form-view--table .ReactTable .rt-thead.-filters .checkbox input[disabled].checkbox__input+.radio__label,.checkbox .checkbox__input[disabled]+.checkbox__label,.checkbox .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input+.checkbox__label,.form-view--table .ReactTable .rt-thead.-filters .checkbox input[disabled].checkbox__input+.checkbox__label{opacity:.5}.form-view__sidetabs+.form-view.form-view--table{overflow-x:hidden;overflow-y:auto}.form-view.form-view--table{padding:0px 15px;position:relative;background:#fff}.form-view.form-view--table .form-view__group--table-header{padding:10px 0px 0px 0px;display:flex;justify-content:space-between;align-content:center;transition:.3s all;opacity:1}.form-view.form-view--table .form-view__group--table-header.form-view__group--table-loading{opacity:.25}.form-view.form-view--table .form-view__group--table-header .form-view__item--table-buttons{text-align:right}.form-view.form-view--table .form-view__group--table-header .form-view__item--table-buttons button{overflow:visible;margin-left:10px}.form-view--table .ReactTable{border:none;background:transparent;height:calc(100% - 50px);position:relative;z-index:0;font-size:13px}.form-view--table .ReactTable .rt-resizer{width:10px;right:-5px}.form-view--table .ReactTable .rt-table{border:1px solid #e7e9ee;background-color:#fff;color:#333847}.form-view--table .ReactTable .rt-tbody{min-height:72px}.form-view--table .ReactTable .rt-tbody,.form-view--table .ReactTable .rt-thead{overflow-x:hidden}.form-view--table .ReactTable .rt-thead{background:#f3f4f6}.form-view--table .ReactTable .rt-thead .column-header-wrapper{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-end;height:100%}.form-view--table .ReactTable .rt-thead .column-header-title{font-weight:600;line-height:20px}.form-view--table .ReactTable .rt-thead .column-header-title .k-icon{font-size:20px;color:#7a839f;vertical-align:top;margin-right:3px}.form-view--table .ReactTable .rt-thead.-header{box-shadow:none;overflow-x:visible}.form-view--table .ReactTable .rt-thead.-header .rt-sub-actions{overflow:visible;position:relative}.form-view--table .ReactTable .rt-thead.-header .rt-sub-actions .table-header-results{line-height:15px;padding-top:1px;text-align:left}.form-view--table .ReactTable .rt-thead.-filters{overflow-x:visible;border-bottom:1px solid #e7e9ee;border-bottom-width:2px}.form-view--table .ReactTable .rt-thead.-filters .rt-th,.form-view--table .ReactTable .rt-thead.-filters .rt-td{border-right:1px solid #e7e9ee;white-space:initial;text-overflow:initial;overflow:initial}.form-view--table .ReactTable .rt-thead.-filters .rt-sub-actions .table-bulk-checkbox{position:absolute;top:0;left:0;height:36px}.form-view--table .ReactTable .rt-thead.-filters .rt-sub-actions .table-bulk-checkbox .popover-menu{margin-top:10px}.form-view--table .ReactTable .rt-thead.-filters .rt-sub-actions .table-bulk-checkbox .popover-menu .popover-menu__toggle::after{content:"\\25BC";font-size:16px;display:inline-block;vertical-align:1px;padding:0 5px 0 35px}.form-view--table .ReactTable .rt-thead.-filters .rt-sub-actions .table-bulk-checkbox .popover-menu .popover-menu__content{left:5px}.form-view--table .ReactTable .rt-thead.-filters .table-filter-input{width:100%;border:0;background:#fff;border-radius:3px;height:28px;min-height:28px;vertical-align:top;display:inline-block;font-size:12px}.form-view--table .ReactTable .rt-thead.-filters .table-filter-input::-moz-placeholder{color:#7a839f}.form-view--table .ReactTable .rt-thead.-filters .table-filter-input:-ms-input-placeholder{color:#7a839f}.form-view--table .ReactTable .rt-thead.-filters .table-filter-input::placeholder{color:#7a839f}.form-view--table .ReactTable .rt-thead.-filters select{margin-top:2px;margin-right:2px}.form-view--table .ReactTable .rt-thead .rt-tr{align-items:center}.form-view--table .ReactTable .rt-thead .rt-th.-sort-desc,.form-view--table .ReactTable .rt-thead .rt-td.-sort-desc,.form-view--table .ReactTable .rt-thead .rt-th.-sort-asc,.form-view--table .ReactTable .rt-thead .rt-td.-sort-asc{box-shadow:inset 0 3px 0 0 #22b0c3}.form-view--table .ReactTable .rt-thead .rt-th.rt-resizable-header:last-child{overflow:visible}.form-view--table .ReactTable .rt-thead .rt-th.rt-resizable-header:last-child .rt-resizer{width:5px;right:0}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content{overflow:visible;text-overflow:inherit;height:26px}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-title,.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-hxl-tags{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-hxl-tags{font-size:12px;color:#565e76}.form-view--table .ReactTable .rt-tbody .rt-tr-group:last-child{border-bottom:1px solid #e7e9ee}.form-view--table .ReactTable .rt-tr{align-items:stretch;justify-content:stretch}.form-view--table .ReactTable .rt-tr-group{max-height:36px;border-bottom:1px solid #e7e9ee;box-sizing:content-box}.form-view--table .ReactTable .rt-tbody .rt-th,.form-view--table .ReactTable .rt-tbody .rt-td,.form-view--table .ReactTable .rt-thead .rt-th,.form-view--table .ReactTable .rt-thead .rt-td{padding:5px 8px;border-right:1px solid #e7e9ee;line-height:26px;height:36px}.form-view--table .ReactTable .rt-td .trimmed-text,.form-view--table .ReactTable .rt-th .trimmed-text{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.form-view--table .ReactTable .rt-thead.-filters .rt-th.rt-status{line-height:inherit;overflow:visible}.form-view--table .ReactTable .rt-td.rt-status{overflow:visible}.form-view--table .ReactTable .table-submission-actions{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.form-view--table .ReactTable .table-submission-actions .checkbox{margin-right:7px}.form-view--table .ReactTable .table-submission-actions .checkbox__input,.form-view--table .ReactTable .table-submission-actions .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .table-submission-actions input.checkbox__input{display:block}.form-view--table .ReactTable .table-submission-actions .table-link{cursor:pointer;min-height:28px;background:transparent;border:0;padding:0;color:#7a839f}.form-view--table .ReactTable .table-submission-actions .table-link:hover{color:#259af4}.form-view--table .ReactTable .table-submission-actions .table-link .k-icon{font-size:22px;margin:0 3px;vertical-align:middle}.form-view--table .ReactTable .-pagination{box-shadow:none;border-top:none;padding:0}.form-view--table .ReactTable .-pagination .-center{flex:2}.form-view--table .ReactTable .-pagination .-btn{color:#259af4;font-size:12px;line-height:14px;font-weight:700;text-transform:uppercase;background:transparent}.form-view--table .ReactTable .-pagination .-btn[disabled]{pointer-events:none}.form-view--table .ReactTable .-pagination .-btn .k-icon{vertical-align:top}.form-view--table .ReactTable .-pagination .-btn:hover{color:#0b81da;background:transparent}.form-view--table .ReactTable .-pagination .-btn:active{transform:translateY(1px)}.form-view--table .ReactTable .-pagination .-pageJump{margin-left:10px;margin-right:10px}.form-view--table .ReactTable .-pagination .-pageJump input{-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-view--table .ReactTable .-pagination select{cursor:pointer}.form-view--table .ReactTable .-pagination input,.form-view--table .ReactTable .-pagination select{border:1px solid #e7e9ee;background:#fff;height:32px;padding:5px 7px;font-size:13px;border-radius:6px;font-weight:700}.form-view--table .ReactTable .pagination-bottom{margin-top:5px;margin-bottom:20px}.form-view--table .ReactTable .-loading{background:#f3f4f6}.form-view--table .ReactTable .-loading .-loading-inner{display:block;text-align:center;font-size:18px;opacity:.8;color:#565e76}.form-view--table .ReactTable .-loading .-loading-inner i{margin-right:12px;vertical-align:middle;font-size:24px}.form-view--table .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover{background:#f9f9fb}.form-view--table .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover .rt-td.is-frozen{background-color:inherit}.form-view--table .ReactTable .rt-th:hover.is-frozen,.form-view--table .ReactTable .rt-td:hover.is-frozen{z-index:20}.form-view--table .ReactTable .rt-th:focus-within.is-frozen,.form-view--table .ReactTable .rt-td:focus-within.is-frozen{z-index:21}.form-view--table .ReactTable .rt-th.is-frozen,.form-view--table .ReactTable .rt-td.is-frozen{z-index:10;position:relative;left:0;overflow:visible !important}.form-view--table .ReactTable .rt-th.is-frozen.is-last-frozen::after,.form-view--table .ReactTable .rt-td.is-frozen.is-last-frozen::after{content:"";position:absolute;left:calc(100% + 2px);top:0;width:8px;height:100%;pointer-events:none;background-image:linear-gradient(to right, rgba(0, 0, 0, 0.04), transparent);opacity:0;transition-property:opacity;transition-duration:.5s;transition-delay:.1s;transition-timing-function:ease-in}.form-view--table .ReactTable .rt-th.is-frozen.is-last-frozen.is-scrolled-horizontally::after,.form-view--table .ReactTable .rt-td.is-frozen.is-last-frozen.is-scrolled-horizontally::after{opacity:1;transition-timing-function:ease-out}.form-view--table .ReactTable .rt-th.is-frozen{background-color:#f3f4f6}.form-view--table .ReactTable .rt-td.is-frozen{background-color:#fff}.form-view--table .ReactTable .rt-th.is-frozen.is-last-frozen,.form-view--table .ReactTable .rt-td.is-frozen.is-last-frozen{order:-1;height:36px;border-right:1px solid #e7e9ee;border-right-width:2px !important}.form-view--table .ReactTable .rt-th.is-sorted{background-color:#e3eff2}.form-view--table .ReactTable .rt-td.is-sorted{background-color:#f7fcfd}.form-view--table .ReactTable .rt-th.rt-sub-actions,.form-view--table .ReactTable .rt-td.rt-sub-actions{order:-2}.form-view--table .ReactTable.has-hxl-tags-visible .rt-thead.-header .rt-th{height:72px}@media screen and (max-width: 767px){.form-view--table{padding:0px 20px}.form-view--table .ReactTable .pagination-bottom{margin-bottom:10px}}.table-meta{flex-grow:1;min-height:30px;display:flex;flex-direction:row;align-items:center}.table-meta .bulk-clear-badge-icon{margin-right:-5px;cursor:pointer;padding:0 5px;border-radius:50%;color:#333847}.table-meta .bulk-clear-badge-icon:hover{color:#fff;background-color:#e84a5f}.table-meta .table-meta__bulk-options>*:not(:first-child){margin-left:10px}.table-meta .table-meta__counter{display:inline;white-space:nowrap}@media screen and (max-width: 1100px){.table-meta .table-meta__additional-text{display:none}}.table-meta__bulk-options{display:flex;flex-direction:row;align-items:center}.table-meta__bulk-options .popover-menu .popover-menu__toggle{height:auto}',""])},function(e,t,o){var r=o(35),n=o(617);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".media-cell{text-align:center}.media-cell .icon-wrapper .icon-wrapper__icon{font-size:24px;color:#9ed2fa;border-radius:4px;padding:2px;margin-right:4px;cursor:pointer}.media-cell .icon-wrapper .icon-wrapper__icon:hover{color:#259af4;background-color:#e7e9ee}.media-cell .media-cell__duration{vertical-align:top}.media-cell--text{display:flex;text-align:left;word-break:break-word}.media-cell--text .icon-wrapper .icon-wrapper__icon{font-size:12px}",""])},,,,,,,,function(e,t){},,,,,,,function(e,t,o){var r=o(35),n=o(633);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}#data-map{height:100%;width:100%}.form-view--map{position:relative}.form-view--map .loading{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;background:rgba(255,255,255,.8)}.form-view--map .form-view__map-button{position:absolute;right:12px;top:65px;padding:2px 4px 0 4px;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:6px;background:#fff;z-index:700;cursor:pointer;color:#565e76}.form-view--map .form-view__map-button--heatmap{top:118px;z-index:699}.form-view--map .form-view__map-button--layers{top:12px;right:65px;z-index:701}.form-view--map .form-view__map-button--expand{top:12px;z-index:701}.form-view--map .form-view__map-button--map-settings{top:12px;z-index:699;right:120px}.form-view--map .form-view__map-button.active,.form-view--map .form-view__map-button:hover{color:#333847}.form-view--map .form-view__map-button:active{transform:translateY(1px)}.form-view--map .form-view__map-button i{font-size:36px;line-height:1em}.leaflet-top.leaflet-right{margin-right:56px}.leaflet-control-layers-toggle{display:none}.leaflet-control-layers-toggle.leaflet-control-layers-expanded{display:block}.leaflet-popup-content pre{font-family:"Roboto",sans-serif;white-space:pre-line;max-height:200px;overflow-x:auto}.popover-menu.popover-menu--viewby-menu{position:absolute;bottom:15px;left:15px;z-index:700}.popover-menu.popover-menu--viewby-menu .popover-menu__toggle{min-width:180px;background:#fff;max-width:340px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:6px;padding:12px;text-align:left;color:#565e76}.popover-menu.popover-menu--viewby-menu .popover-menu__content{right:auto;left:0px;min-width:180px;max-width:240px;overflow:auto;max-height:300px;border-radius:5px;box-shadow:0 0 5px 5px rgba(51,56,71,.15);bottom:calc(100% + 10px)}.popover-menu.popover-menu--viewby-menu .popover-menu__content .popover-menu__link.see-all{background:#f3f4f6;border-top:1px solid #e7e9ee}.popover-menu.popover-menu--viewby-menu .popover-menu__content .popover-menu__heading{padding-left:10px;padding-right:10px}body .leaflet-control-layers,.leaflet-touch .leaflet-control-layers{border:none;border-radius:6px !important;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;margin-right:12px;margin-top:12px}@media screen and (max-width: 767px){.popover-menu--viewby-menu{max-width:90%}.popover-menu--viewby-menu .popover-menu__toggle{max-width:90%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.form-view__map-list{position:absolute;bottom:70px;left:15px;z-index:689;height:250px;min-width:180px;max-width:300px;padding:5px;background:#fff;overflow:none;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:6px}.form-view__map-list .maplist-legend{padding:2px 8px;cursor:pointer}.form-view__map-list .maplist-legend .k-icon{font-size:21px;margin-right:8px;margin-left:3px;vertical-align:bottom;color:#259af4}.form-view__map-list .maplist-contents{display:block;margin-bottom:5px;height:calc(100% - 30px);overflow:auto}.form-view__map-list.collapsed{height:auto}.form-view__map-list.collapsed .maplist-contents{display:none}.form-view__map-list .map-marker-item{padding:4px 6px;position:relative}.form-view__map-list .map-marker-item::after{position:absolute;display:inline-block;width:8px;height:8px;border-radius:8px;right:6px;top:12px}.form-view__map-list .map-marker-item.selected{background:#f3f4f6}.form-view__map-list .map-marker-item.selected::after{content:"";background:#259af4}.form-view__map-list .map-marker-item.unselected{opacity:.6}.form-view__map-list .map-marker-item.unselected::after{content:"";background:#979fb4}.form-view__map-list .map-marker-item.unselected:hover{opacity:.9}.form-view__map-list .map-marker-item.map-marker-reset{text-align:right;font-size:12px;color:#259af4;opacity:.8;cursor:pointer}.form-view__map-list .map-marker-item.map-marker-reset:hover{opacity:1}.form-view__map-list span{vertical-align:middle;display:inline-block;font-size:13px}.form-view__map-list span.map-marker{margin-right:8px;text-align:center;line-height:22px;min-width:24px;max-width:48px;width:auto;height:24px;padding:0 3px;position:relative;text-shadow:0 0 1px #fff;color:#333847}.form-view__map-list span.map-marker::after{position:absolute;width:10px;content:"";height:22px;right:1px;top:1px;border-bottom-right-radius:12px;border-top-right-radius:12px;z-index:-1}.form-view__map-list span.map-marker-label{width:calc(100% - 56px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.form-view__map .loading{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.5);z-index:701}.map-settings .form-modal__item--layer-upload label{display:block;padding:10px 0 20px;position:relative;font-size:14px}.map-settings .form-modal__item--list-files{border:1px solid #e7e9ee;padding:10px;max-width:600px;margin-bottom:20px}.map-settings .form-modal__item--list-files .list-file-row{border-top:1px solid #e7e9ee;padding:5px}.map-settings .form-modal__item--list-files .list-file-row>span{display:inline-block;vertical-align:middle}.map-settings .form-modal__item--list-files .list-file-row .file-type{width:15%;text-transform:uppercase}.map-settings .form-modal__item--list-files .list-file-row .file-layer-name{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:80%;font-weight:600}.map-settings .form-modal__item--list-files .list-file-row .file-delete{width:5%;text-align:right;cursor:pointer}.map-settings .form-modal__item--list-files .list-file-row .file-delete i{font-size:24px;color:#e84a5f}.map-settings .form-modal__item--layer-upload{position:relative}.map-settings .form-modal__item--layer-upload input{width:calc(100% - 140px)}.map-settings .form-modal__item--layer-upload .dropzone{position:absolute !important;right:0;width:120px;bottom:0;text-align:right;min-height:30px}.map-settings__colors{text-align:center}.map-settings__colors .map-marker{display:inline-block;width:20px;height:20px}.map-settings__colors .form-modal__item--map-color-item{margin-bottom:0}.map-settings__GeoQuestions label{display:block;margin-bottom:10px}.map-settings__GeoQuestions label input{margin-right:8px}.change-limit-warning{color:red}.change-limit-slider{width:75%;display:inline-block;vertical-align:middle}.change-limit-slider-value{width:10%;margin-left:10px;display:inline-block;vertical-align:middle}@media screen and (max-width: 1265px){.change-limit-slider{width:60%}.change-limit-slider-value{width:30%}}.map-no-geopoint{text-align:center;font-weight:bold;color:#fff}.map-no-geopoint-wrapper{position:absolute;top:50%;transform:translateY(-50%);width:100%}.map-transparent-background{height:100%;position:absolute;width:100%;z-index:1001;background:rgba(100,100,100,.7)}.marker-cluster-small{background-color:rgba(253,187,132,.4)}.marker-cluster-small div{background-color:rgba(253,187,132,.5)}.marker-cluster-medium{background-color:rgba(252,141,89,.4)}.marker-cluster-medium div{background-color:rgba(252,141,89,.5)}.marker-cluster-large{background-color:rgba(239,101,72,.4)}.marker-cluster-large div{background-color:rgba(239,101,72,.5)}.marker-cluster{background-clip:padding-box;border-radius:50%}.marker-cluster div{font-size:12px;font-family:"Roboto",sans-serif;width:20px;height:20px;border-radius:50%;margin-left:5px;margin-top:5px;text-align:center;color:#333847}.marker-cluster span{line-height:20px}',""])},function(e,t,o){var r=o(35),n=o(635);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".map-marker[class*=map-marker-]{background:rgba(100,100,100,.8);border-color:rgba(255,255,255,.75)}.map-marker{border:1px solid #fff;border-radius:50%}.map-marker.unselected{visibility:hidden}.map-marker.default-overlay-marker{background:rgba(51,56,71,.7);border:none;border-radius:0}.map-marker.map-marker-a1,.map-marker.map-marker-a41,.map-marker.map-marker-a81,.map-marker.map-marker-a121,.map-marker.map-marker-a161{background:rgba(255,50,0,.5)}.map-marker.map-marker-a81{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a41{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a121{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a161{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a2,.map-marker.map-marker-a42,.map-marker.map-marker-a82,.map-marker.map-marker-a122,.map-marker.map-marker-a162{background:rgba(125,245,46,.5)}.map-marker.map-marker-a82{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a42{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a122{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a162{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a3,.map-marker.map-marker-a43,.map-marker.map-marker-a83,.map-marker.map-marker-a123,.map-marker.map-marker-a163{background:rgba(86,0,178,.5)}.map-marker.map-marker-a83{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a43{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a123{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a163{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a4,.map-marker.map-marker-a44,.map-marker.map-marker-a84,.map-marker.map-marker-a124,.map-marker.map-marker-a164{background:rgba(0,236,118,.5)}.map-marker.map-marker-a84{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a44{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a124{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a164{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a5,.map-marker.map-marker-a45,.map-marker.map-marker-a85,.map-marker.map-marker-a125,.map-marker.map-marker-a165{background:rgba(202,0,188,.5)}.map-marker.map-marker-a85{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a45{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a125{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a165{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a6,.map-marker.map-marker-a46,.map-marker.map-marker-a86,.map-marker.map-marker-a126,.map-marker.map-marker-a166{background:rgba(104,155,0,.5)}.map-marker.map-marker-a86{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a46{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a126{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a166{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a7,.map-marker.map-marker-a47,.map-marker.map-marker-a87,.map-marker.map-marker-a127,.map-marker.map-marker-a167{background:rgba(161,107,255,.5)}.map-marker.map-marker-a87{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a47{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a127{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a167{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a8,.map-marker.map-marker-a48,.map-marker.map-marker-a88,.map-marker.map-marker-a128,.map-marker.map-marker-a168{background:rgba(191,184,0,.5)}.map-marker.map-marker-a88{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a48{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a128{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a168{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a9,.map-marker.map-marker-a49,.map-marker.map-marker-a89,.map-marker.map-marker-a129,.map-marker.map-marker-a169{background:rgba(0,66,187,.5)}.map-marker.map-marker-a89{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a49{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a129{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a169{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a10,.map-marker.map-marker-a50,.map-marker.map-marker-a90,.map-marker.map-marker-a130,.map-marker.map-marker-a170{background:rgba(197,231,113,.5)}.map-marker.map-marker-a90{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a50{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a130{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a170{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a11,.map-marker.map-marker-a51,.map-marker.map-marker-a91,.map-marker.map-marker-a131,.map-marker.map-marker-a171{background:rgba(239,0,161,.5)}.map-marker.map-marker-a91{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a51{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a131{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a171{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a12,.map-marker.map-marker-a52,.map-marker.map-marker-a92,.map-marker.map-marker-a132,.map-marker.map-marker-a172{background:rgba(2,231,203,.5)}.map-marker.map-marker-a92{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a52{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a132{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a172{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a13,.map-marker.map-marker-a53,.map-marker.map-marker-a93,.map-marker.map-marker-a133,.map-marker.map-marker-a173{background:rgba(239,0,69,.5)}.map-marker.map-marker-a93{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a53{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a133{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a173{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a14,.map-marker.map-marker-a54,.map-marker.map-marker-a94,.map-marker.map-marker-a134,.map-marker.map-marker-a174{background:rgba(2,153,148,.5)}.map-marker.map-marker-a94{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a54{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a134{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a174{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a15,.map-marker.map-marker-a55,.map-marker.map-marker-a95,.map-marker.map-marker-a135,.map-marker.map-marker-a175{background:rgba(43,130,255,.5)}.map-marker.map-marker-a95{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a55{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a135{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a175{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a16,.map-marker.map-marker-a56,.map-marker.map-marker-a96,.map-marker.map-marker-a136,.map-marker.map-marker-a176{background:rgba(183,142,0,.5)}.map-marker.map-marker-a96{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a56{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a136{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a176{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a17,.map-marker.map-marker-a57,.map-marker.map-marker-a97,.map-marker.map-marker-a137,.map-marker.map-marker-a177{background:rgba(60,46,126,.5)}.map-marker.map-marker-a97{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a57{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a137{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a177{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a18,.map-marker.map-marker-a58,.map-marker.map-marker-a98,.map-marker.map-marker-a138,.map-marker.map-marker-a178{background:rgba(35,106,0,.5)}.map-marker.map-marker-a98{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a58{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a138{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a178{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a19,.map-marker.map-marker-a59,.map-marker.map-marker-a99,.map-marker.map-marker-a139,.map-marker.map-marker-a179{background:rgba(175,158,255,.4)}.map-marker.map-marker-a99{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a59{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a139{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a179{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a20,.map-marker.map-marker-a60,.map-marker.map-marker-a100,.map-marker.map-marker-a140,.map-marker.map-marker-a180{background:rgba(198,116,0,.5)}.map-marker.map-marker-a100{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a60{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a140{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a180{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a21,.map-marker.map-marker-a61,.map-marker.map-marker-a101,.map-marker.map-marker-a141,.map-marker.map-marker-a181{background:rgba(0,140,218,.5)}.map-marker.map-marker-a101{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a61{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a141{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a181{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a22,.map-marker.map-marker-a62,.map-marker.map-marker-a102,.map-marker.map-marker-a142,.map-marker.map-marker-a182{background:rgba(255,109,60,.5)}.map-marker.map-marker-a102{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a62{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a142{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a182{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a23,.map-marker.map-marker-a63,.map-marker.map-marker-a103,.map-marker.map-marker-a143,.map-marker.map-marker-a183{background:rgba(1,76,140,.5)}.map-marker.map-marker-a103{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a63{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a143{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a183{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a24,.map-marker.map-marker-a64,.map-marker.map-marker-a104,.map-marker.map-marker-a144,.map-marker.map-marker-a184{background:rgba(184,69,0,.5)}.map-marker.map-marker-a104{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a64{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a144{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a184{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a25,.map-marker.map-marker-a65,.map-marker.map-marker-a105,.map-marker.map-marker-a145,.map-marker.map-marker-a185{background:rgba(165,228,255,.5)}.map-marker.map-marker-a105{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a65{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a145{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a185{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a26,.map-marker.map-marker-a66,.map-marker.map-marker-a106,.map-marker.map-marker-a146,.map-marker.map-marker-a186{background:rgba(112,31,9,.5)}.map-marker.map-marker-a106{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a66{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a146{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a186{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a27,.map-marker.map-marker-a67,.map-marker.map-marker-a107,.map-marker.map-marker-a147,.map-marker.map-marker-a187{background:rgba(163,231,229,.5)}.map-marker.map-marker-a107{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a67{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a147{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a187{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a28,.map-marker.map-marker-a68,.map-marker.map-marker-a108,.map-marker.map-marker-a148,.map-marker.map-marker-a188{background:rgba(133,0,75,.5)}.map-marker.map-marker-a108{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a68{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a148{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a188{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a29,.map-marker.map-marker-a69,.map-marker.map-marker-a109,.map-marker.map-marker-a149,.map-marker.map-marker-a189{background:rgba(167,234,188,.5)}.map-marker.map-marker-a109{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a69{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a149{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a189{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a30,.map-marker.map-marker-a70,.map-marker.map-marker-a110,.map-marker.map-marker-a150,.map-marker.map-marker-a190{background:rgba(96,33,97,.5)}.map-marker.map-marker-a110{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a70{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a150{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a190{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a31,.map-marker.map-marker-a71,.map-marker.map-marker-a111,.map-marker.map-marker-a151,.map-marker.map-marker-a191{background:rgba(21,70,0,.5)}.map-marker.map-marker-a111{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a71{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a151{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a191{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a32,.map-marker.map-marker-a72,.map-marker.map-marker-a112,.map-marker.map-marker-a152,.map-marker.map-marker-a192{background:rgba(255,110,148,.5)}.map-marker.map-marker-a112{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a72{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a152{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a192{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a33,.map-marker.map-marker-a73,.map-marker.map-marker-a113,.map-marker.map-marker-a153,.map-marker.map-marker-a193{background:rgba(0,87,84,.5)}.map-marker.map-marker-a113{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a73{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a153{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a193{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a34,.map-marker.map-marker-a74,.map-marker.map-marker-a114,.map-marker.map-marker-a154,.map-marker.map-marker-a194{background:rgba(255,157,210,.5)}.map-marker.map-marker-a114{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a74{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a154{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a194{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a35,.map-marker.map-marker-a75,.map-marker.map-marker-a115,.map-marker.map-marker-a155,.map-marker.map-marker-a195{background:rgba(51,64,37,.5)}.map-marker.map-marker-a115{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a75{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a155{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a195{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a36,.map-marker.map-marker-a76,.map-marker.map-marker-a116,.map-marker.map-marker-a156,.map-marker.map-marker-a196{background:rgba(255,153,153,.5)}.map-marker.map-marker-a116{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a76{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a156{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a196{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a37,.map-marker.map-marker-a77,.map-marker.map-marker-a117,.map-marker.map-marker-a157,.map-marker.map-marker-a197{background:rgba(12,64,93,.5)}.map-marker.map-marker-a117{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a77{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a157{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a197{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a38,.map-marker.map-marker-a78,.map-marker.map-marker-a118,.map-marker.map-marker-a158,.map-marker.map-marker-a198{background:rgba(255,194,186,.5)}.map-marker.map-marker-a118{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a78{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a158{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a198{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a39,.map-marker.map-marker-a79,.map-marker.map-marker-a119,.map-marker.map-marker-a159,.map-marker.map-marker-a199{background:rgba(96,42,58,.5)}.map-marker.map-marker-a119{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a79{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a159{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a199{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a40,.map-marker.map-marker-a80,.map-marker.map-marker-a120,.map-marker.map-marker-a160,.map-marker.map-marker-a200{background:rgba(134,0,40,.5)}.map-marker.map-marker-a120{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a80{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a160{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a200{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a{background:rgba(255,50,0,.5)}.map-marker.map-marker-b1{background:#7f0000}.map-marker.map-marker-b2{background:#b30000}.map-marker.map-marker-b3{background:#d7301f}.map-marker.map-marker-b4{background:#ef6548}.map-marker.map-marker-b5{background:#fc8d59}.map-marker.map-marker-b6{background:#fdbb84}.map-marker.map-marker-b7{background:#fdd49e}.map-marker.map-marker-b8{background:#fee8c8}.map-marker.map-marker-b9{background:#fff7ec}.map-marker.map-marker-b{background:#7f0000}.map-marker.map-marker-c1{background:#084081}.map-marker.map-marker-c2{background:#0868ac}.map-marker.map-marker-c3{background:#2b8cbe}.map-marker.map-marker-c4{background:#4eb3d3}.map-marker.map-marker-c5{background:#7bccc4}.map-marker.map-marker-c6{background:#a8ddb5}.map-marker.map-marker-c7{background:#ccebc5}.map-marker.map-marker-c8{background:#e0f3db}.map-marker.map-marker-c9{background:#f7fcf0}.map-marker.map-marker-c{background:#084081}.map-marker.map-marker-d1{background:#4d9221}.map-marker.map-marker-d2{background:#7fbc41}.map-marker.map-marker-d3{background:#b8e186}.map-marker.map-marker-d4{background:#e6f5d0}.map-marker.map-marker-d5{background:#f7f7f7}.map-marker.map-marker-d6{background:#fde0ef}.map-marker.map-marker-d7{background:#f1b6da}.map-marker.map-marker-d8{background:#de77ae}.map-marker.map-marker-d9{background:#c51b7d}.map-marker.map-marker-d{background:#4d9221}.map-marker.map-marker-e1{background:#2166ac}.map-marker.map-marker-e2{background:#4393c3}.map-marker.map-marker-e3{background:#92c5de}.map-marker.map-marker-e4{background:#d1e5f0}.map-marker.map-marker-e5{background:#f7f7f7}.map-marker.map-marker-e6{background:#fddbc7}.map-marker.map-marker-e7{background:#f4a582}.map-marker.map-marker-e8{background:#d6604d}.map-marker.map-marker-e9{background:#b2182b}.map-marker.map-marker-e{background:#2166ac}",""])},,,,,,,,,,function(e,t,o){var r=o(35),n=o(646);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button,.rest-services .rest-services-list__header-back-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip],.rest-services [data-tip].rest-services-list__header-back-button{overflow:visible}.mdl-button::-moz-focus-inner,.rest-services .rest-services-list__header-back-button::-moz-focus-inner{border:0}.mdl-button:hover,.rest-services .rest-services-list__header-back-button:hover{color:#333847}.mdl-button.mdl-button--colored,.rest-services .mdl-button--colored.rest-services-list__header-back-button{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover,.rest-services .mdl-button--colored.rest-services-list__header-back-button:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red,.rest-services .mdl-button--colored.mdl-button--red.rest-services-list__header-back-button{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover,.rest-services .mdl-button--colored.mdl-button--red.rest-services-list__header-back-button:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange,.rest-services .mdl-button--colored.mdl-button--orange.rest-services-list__header-back-button{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover,.rest-services .mdl-button--colored.mdl-button--orange.rest-services-list__header-back-button:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green,.rest-services .mdl-button--colored.mdl-button--green.rest-services-list__header-back-button{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover,.rest-services .mdl-button--colored.mdl-button--green.rest-services-list__header-back-button:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray,.rest-services .mdl-button--colored.mdl-button--gray.rest-services-list__header-back-button{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover,.rest-services .mdl-button--colored.mdl-button--gray.rest-services-list__header-back-button:hover{color:#404659}input.mdl-button[type=submit],.rest-services input[type=submit].rest-services-list__header-back-button{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon,.rest-services .rest-services-list__header-back-button{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i,.rest-services .rest-services-list__header-back-button i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.rest-services [disabled][disabled].rest-services-list__header-back-button,.mdl-button.mdl-button--disabled.mdl-button--disabled,.rest-services .mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.rest-services .mdl-button--raised[disabled][disabled].rest-services-list__header-back-button,.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled,.rest-services .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.rest-services .mdl-button--colored[disabled][disabled].rest-services-list__header-back-button,.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled,.rest-services .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{color:#565e76}@media screen and (max-width: 767px){.mdl-button,.rest-services .rest-services-list__header-back-button{padding:0 12px}}.rest-services{display:flex;flex-direction:column}.rest-services.rest-services--empty{align-items:center;justify-items:center}.rest-services .form-view__cell--rest-services-list{flex:1}.rest-services>button{display:block;align-self:flex-end;margin-top:30px}.rest-services .rest-services-list__header::after{content:"";display:table;clear:both}.rest-services .rest-services-list__header-label{display:inline-block;font-size:inherit;font-weight:600}.rest-services .rest-services-list__header-label.rest-services-list__header-label--big{display:block;font-size:1.5em}.rest-services .rest-services-list__header-label,.rest-services .rest-services-list__header-help-link{margin:0;line-height:20px;padding:10px 0;min-height:36px}.rest-services .rest-services-list__header-label i,.rest-services .rest-services-list__header-help-link i{font-size:18px;vertical-align:top;display:inline-block;margin:0 3px}.rest-services .rest-services-list__header-right{float:right}.rest-services .rest-services-list__header-back-button i{vertical-align:middle}.form-modal__item.form-modal__item--rest-custom-wrapper textarea{font-family:"Roboto Mono",monospace}',""])},function(e,t,o){var r=o(35),n=o(648);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.account-settings{width:100%;height:100%;background:#fff;overflow-y:auto;position:relative}.account-settings .kobo-select{font-size:15px}.account-settings .form-modal__item--column{width:100%;height:100%;margin:0 auto;padding:30px 20px}.account-settings .form-modal__item--column .form-modal__item--fields{height:calc(100% - 20px);padding-right:40px;overflow:auto}.account-settings .form-modal__item--column .form-modal__item--fields>*:last-child{margin-bottom:20px}.account-settings .form-modal__item--column .form-modal__item--api-token input{font-family:"Roboto Mono",monospace;width:50%}.account-settings .form-modal__item--column .form-modal__item--username{min-height:32px}.account-settings .form-modal__item--column .form-modal__item--username .account-box__initials{display:inline-block;vertical-align:middle;margin-right:15px}.account-settings .form-modal__item--column .form-modal__item--username h4{display:inline-block;vertical-align:middle;font-size:16px}.account-settings .account-settings__actions{position:absolute;top:26px;right:0}.account-settings .account-settings__actions .account-settings-close{padding:0 12px}.account-settings .account-settings-link{font-size:.85em}.account-settings h4{margin:0;font-weight:400;color:#333847}.account-settings .account-settings__desc{color:#565e76}.account-settings .form-modal__item--primary-sector{width:46%;margin-right:2%;float:left}.account-settings .form-modal__item--gender{width:52%;float:left}.account-settings .form-modal__item--bio{clear:both}.account-settings .form-modal__item--city{width:46%;margin-right:2%;float:left}.account-settings .form-modal__item--city .text-box__input{margin-top:8px}.account-settings .form-modal__item--country{width:52%;float:left}.account-settings .form-modal__item--social{clear:both}.account-settings .form-modal__item--social label{position:relative}.account-settings .form-modal__item--social label i{position:absolute;font-size:24px;top:10px;left:4px}.account-settings .form-modal__item--social label input{margin-top:8px;padding-left:40px;max-width:400px}',""])},,,,,function(e,t,o){var r=o(35),n=o(654);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".password-strength{width:100%;font-size:.9em}.password-strength__title,.password-strength__bar{margin-bottom:10px}.password-strength__bar{width:100%;height:5px;position:relative;box-shadow:inset 0 0 0 1px #979fb4}.password-strength__bar .password-strength__indicator{background:blue;position:absolute;top:0;left:0;height:100%;transition:.25s}.password-strength__bar.password-strength__bar--score-0 .password-strength__indicator{width:1%;background-color:#e84a5f}.password-strength__bar.password-strength__bar--score-1 .password-strength__indicator{width:25%;background-color:#e84a5f}.password-strength__bar.password-strength__bar--score-2 .password-strength__indicator{width:50%;background-color:#e6801a}.password-strength__bar.password-strength__bar--score-3 .password-strength__indicator{width:75%;background-color:#28bd70}.password-strength__bar.password-strength__bar--score-4 .password-strength__indicator{width:100%;background-color:#259af4}.password-strength__message.password-strength__message--warning{color:#e84a5f}",""])},function(e,t,o){var r=o(35),n=o(656);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){(e.exports=o(32)(!1)).push([e.i,".access-denied{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.access-denied__body{max-width:600px}.access-denied__header{font-size:24px;text-align:center}.access-denied__header .k-icon{margin-right:5px;vertical-align:-5px;font-size:28px;display:inline-block}.access-denied__text{margin-top:20px}.access-denied__text code{margin-left:5px}",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){var r=o(35),n=o(848);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(n,a);e.exports=n.locals||{}},function(e,t,o){var r=o(307);(t=e.exports=o(32)(!1)).i(o(849),""),t.i(o(851),""),t.i(o(852),""),t.push([e.i,'.mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid,.ui-panel__body{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing,.ui-panel__body{padding:0}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone,.ui-panel__body>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone,.ui-panel__body>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone,.ui-panel__body>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone,.ui-panel__body>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone,.ui-panel__body>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone,.ui-panel__body>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone,.ui-panel__body>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone,.ui-panel__body>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone,.ui-panel__body>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone,.ui-panel__body>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone,.ui-panel__body>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone,.ui-panel__body>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone,.ui-panel__body>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone,.ui-panel__body>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone,.ui-panel__body>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet,.ui-panel__body>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet,.ui-panel__body>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet,.ui-panel__body>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet,.ui-panel__body>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet,.ui-panel__body>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet,.ui-panel__body>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet,.ui-panel__body>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet,.ui-panel__body>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet,.ui-panel__body>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet,.ui-panel__body>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet,.ui-panel__body>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet,.ui-panel__body>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet,.ui-panel__body>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet,.ui-panel__body>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet,.ui-panel__body>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.ui-panel__body>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet,.ui-panel__body>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.ui-panel__body>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet,.ui-panel__body>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.ui-panel__body>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet,.ui-panel__body>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.ui-panel__body>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet,.ui-panel__body>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop,.ui-panel__body>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop,.ui-panel__body>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop,.ui-panel__body>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop,.ui-panel__body>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop,.ui-panel__body>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop,.ui-panel__body>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop,.ui-panel__body>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop,.ui-panel__body>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop,.ui-panel__body>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop,.ui-panel__body>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop,.ui-panel__body>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop,.ui-panel__body>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop,.ui-panel__body>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop,.ui-panel__body>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop,.ui-panel__body>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.ui-panel__body>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop,.ui-panel__body>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.ui-panel__body>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop,.ui-panel__body>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.ui-panel__body>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop,.ui-panel__body>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.ui-panel__body>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop,.ui-panel__body>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.ui-panel__body>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop,.ui-panel__body>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.ui-panel__body>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop,.ui-panel__body>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.ui-panel__body>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop,.ui-panel__body>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.ui-panel__body>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop,.ui-panel__body>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button,.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button,.form-builder-header__button,.form-builder-header__close,.form-wrap .error-message__link,.popover-menu--custom-reports .popover-menu__toggle,.popover-menu--new-menu .popover-menu__toggle{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip],[data-tip].form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button[data-tip],[data-tip].form-builder-header__button,[data-tip].form-builder-header__close,.form-wrap [data-tip].error-message__link,.popover-menu--custom-reports [data-tip].popover-menu__toggle,.popover-menu--new-menu [data-tip].popover-menu__toggle{overflow:visible}.mdl-button::-moz-focus-inner,.form-view__icon-button::-moz-focus-inner,.cascade-popup .cascade-popup__buttonWrapper button::-moz-focus-inner,.form-builder-header__button::-moz-focus-inner,.form-builder-header__close::-moz-focus-inner,.form-wrap .error-message__link::-moz-focus-inner,.popover-menu--custom-reports .popover-menu__toggle::-moz-focus-inner,.popover-menu--new-menu .popover-menu__toggle::-moz-focus-inner{border:0}.mdl-button:hover,.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.form-builder-header__button:hover,.form-builder-header__close:hover,.form-wrap .error-message__link:hover,.popover-menu--custom-reports .popover-menu__toggle:hover,.popover-menu--new-menu .popover-menu__toggle:hover{color:#333847}.mdl-button.mdl-button--colored,.mdl-button--colored.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button,.mdl-button--colored.form-builder-header__button,.form-builder-header__button.form-builder-header__button--create,.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.form-builder-header__close,.form-wrap .mdl-button.error-message__link--raised,.form-wrap .error-message__link--raised.form-view__icon-button,.form-wrap .error-message__link--raised.form-builder-header__button,.form-wrap .error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.error-message__link,.form-wrap .error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .popover-menu__toggle{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover,.mdl-button--colored.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.mdl-button--colored.form-builder-header__button:hover,.form-builder-header__button.form-builder-header__button--create:hover,.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.form-builder-header__close:hover,.form-wrap .mdl-button.error-message__link--raised:hover,.form-wrap .error-message__link--raised.form-view__icon-button:hover,.form-wrap .error-message__link--raised.form-builder-header__button:hover,.form-wrap .error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.error-message__link:hover,.form-wrap .error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .popover-menu__toggle:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red,.mdl-button--colored.mdl-button--red.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red,.mdl-button--colored.mdl-button--red.form-builder-header__button,.mdl-button--red.form-builder-header__button.form-builder-header__button--create,.mdl-button--red.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--red.form-builder-header__close,.form-wrap .mdl-button.mdl-button--red.error-message__link--raised,.form-wrap .mdl-button--red.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--red.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--red.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--red.error-message__link,.form-wrap .mdl-button--red.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--red.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--red.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--red.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover,.mdl-button--colored.mdl-button--red.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red:hover,.mdl-button--colored.mdl-button--red.form-builder-header__button:hover,.mdl-button--red.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--red.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.mdl-button--red.form-builder-header__close:hover,.form-wrap .mdl-button.mdl-button--red.error-message__link--raised:hover,.form-wrap .mdl-button--red.error-message__link--raised.form-view__icon-button:hover,.form-wrap .mdl-button--red.error-message__link--raised.form-builder-header__button:hover,.form-wrap .mdl-button--red.error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.mdl-button--red.error-message__link:hover,.form-wrap .mdl-button--red.error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--red.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--red.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--red.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange,.mdl-button--colored.mdl-button--orange.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange,.mdl-button--colored.mdl-button--orange.form-builder-header__button,.mdl-button--orange.form-builder-header__button.form-builder-header__button--create,.mdl-button--orange.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--orange.form-builder-header__close,.form-wrap .mdl-button.mdl-button--orange.error-message__link--raised,.form-wrap .mdl-button--orange.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--orange.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--orange.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--orange.error-message__link,.form-wrap .mdl-button--orange.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--orange.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--orange.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--orange.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover,.mdl-button--colored.mdl-button--orange.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange:hover,.mdl-button--colored.mdl-button--orange.form-builder-header__button:hover,.mdl-button--orange.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--orange.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.mdl-button--orange.form-builder-header__close:hover,.form-wrap .mdl-button.mdl-button--orange.error-message__link--raised:hover,.form-wrap .mdl-button--orange.error-message__link--raised.form-view__icon-button:hover,.form-wrap .mdl-button--orange.error-message__link--raised.form-builder-header__button:hover,.form-wrap .mdl-button--orange.error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.mdl-button--orange.error-message__link:hover,.form-wrap .mdl-button--orange.error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--orange.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--orange.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--orange.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green,.mdl-button--colored.mdl-button--green.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green,.mdl-button--colored.mdl-button--green.form-builder-header__button,.mdl-button--green.form-builder-header__button.form-builder-header__button--create,.mdl-button--green.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--green.form-builder-header__close,.form-wrap .mdl-button.mdl-button--green.error-message__link--raised,.form-wrap .mdl-button--green.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--green.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--green.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--green.error-message__link,.form-wrap .mdl-button--green.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--green.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--green.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--green.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover,.mdl-button--colored.mdl-button--green.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green:hover,.mdl-button--colored.mdl-button--green.form-builder-header__button:hover,.mdl-button--green.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--green.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.mdl-button--green.form-builder-header__close:hover,.form-wrap .mdl-button.mdl-button--green.error-message__link--raised:hover,.form-wrap .mdl-button--green.error-message__link--raised.form-view__icon-button:hover,.form-wrap .mdl-button--green.error-message__link--raised.form-builder-header__button:hover,.form-wrap .mdl-button--green.error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.mdl-button--green.error-message__link:hover,.form-wrap .mdl-button--green.error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--green.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--green.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--green.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray,.mdl-button--colored.mdl-button--gray.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray,.mdl-button--colored.mdl-button--gray.form-builder-header__button,.mdl-button--gray.form-builder-header__button.form-builder-header__button--create,.mdl-button--gray.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--gray.form-builder-header__close,.form-wrap .mdl-button.mdl-button--gray.error-message__link--raised,.form-wrap .mdl-button--gray.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--gray.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--gray.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--gray.error-message__link,.form-wrap .mdl-button--gray.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--gray.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--gray.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--gray.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover,.mdl-button--colored.mdl-button--gray.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray:hover,.mdl-button--colored.mdl-button--gray.form-builder-header__button:hover,.mdl-button--gray.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--gray.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.mdl-button--gray.form-builder-header__close:hover,.form-wrap .mdl-button.mdl-button--gray.error-message__link--raised:hover,.form-wrap .mdl-button--gray.error-message__link--raised.form-view__icon-button:hover,.form-wrap .mdl-button--gray.error-message__link--raised.form-builder-header__button:hover,.form-wrap .mdl-button--gray.error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.mdl-button--gray.error-message__link:hover,.form-wrap .mdl-button--gray.error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--gray.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--gray.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--gray.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle:hover{color:#404659}input.mdl-button[type=submit],input[type=submit].form-view__icon-button,input[type=submit].form-builder-header__button,input[type=submit].form-builder-header__close,.form-wrap input[type=submit].error-message__link,.popover-menu--custom-reports input[type=submit].popover-menu__toggle,.popover-menu--new-menu input[type=submit].popover-menu__toggle{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised,.cascade-popup .cascade-popup__buttonWrapper button,.form-builder-header__button.form-builder-header__button--create,.form-builder-header__button.form-builder-header__button--save,.form-wrap .error-message__link--raised,.popover-menu--new-menu .popover-menu__toggle{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active,.cascade-popup .cascade-popup__buttonWrapper button:active,.form-builder-header__button.form-builder-header__button--create:active,.form-builder-header__button.form-builder-header__button--save:active,.form-wrap .error-message__link--raised:active,.popover-menu--new-menu .popover-menu__toggle:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored,.cascade-popup .cascade-popup__buttonWrapper button,.form-builder-header__button.form-builder-header__button--create,.form-builder-header__button.form-builder-header__button--save,.form-wrap .error-message__link--raised,.popover-menu--new-menu .popover-menu__toggle{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.form-builder-header__button.form-builder-header__button--create:hover,.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .error-message__link--raised:hover,.popover-menu--new-menu .popover-menu__toggle:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red,.mdl-button--red.form-builder-header__button.form-builder-header__button--create,.mdl-button--red.form-builder-header__button.form-builder-header__button--save,.form-wrap .mdl-button--red.error-message__link--raised,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red:hover,.mdl-button--red.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--red.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .mdl-button--red.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange,.mdl-button--orange.form-builder-header__button.form-builder-header__button--create,.mdl-button--orange.form-builder-header__button.form-builder-header__button--save,.form-wrap .mdl-button--orange.error-message__link--raised,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange:hover,.mdl-button--orange.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--orange.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .mdl-button--orange.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green,.mdl-button--green.form-builder-header__button.form-builder-header__button--create,.mdl-button--green.form-builder-header__button.form-builder-header__button--save,.form-wrap .mdl-button--green.error-message__link--raised,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green:hover,.mdl-button--green.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--green.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .mdl-button--green.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray,.mdl-button--gray.form-builder-header__button.form-builder-header__button--create,.mdl-button--gray.form-builder-header__button.form-builder-header__button--save,.form-wrap .mdl-button--gray.error-message__link--raised,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray:hover,.mdl-button--gray.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--gray.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .mdl-button--gray.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle:hover{background-color:#4b5268;color:#fff}.mdl-button--icon,.form-view__icon-button,.form-builder-header__close{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i,.form-view__icon-button i,.form-builder-header__close i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],[disabled][disabled].form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],[disabled][disabled].form-builder-header__button,[disabled][disabled].form-builder-header__close,.form-wrap [disabled][disabled].error-message__link,.popover-menu--custom-reports [disabled][disabled].popover-menu__toggle,.popover-menu--new-menu [disabled][disabled].popover-menu__toggle,.mdl-button.mdl-button--disabled.mdl-button--disabled,.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button,.mdl-button--disabled.mdl-button--disabled.form-builder-header__close,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link,.popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button--raised[disabled][disabled].form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],.mdl-button--raised[disabled][disabled].form-builder-header__button,[disabled][disabled].form-builder-header__button.form-builder-header__button--create,[disabled][disabled].form-builder-header__button.form-builder-header__button--save,.mdl-button--raised[disabled][disabled].form-builder-header__close,.form-wrap .mdl-button[disabled][disabled].error-message__link--raised,.form-wrap [disabled][disabled].error-message__link--raised.form-view__icon-button,.form-wrap [disabled][disabled].error-message__link--raised.form-builder-header__button,.form-wrap [disabled][disabled].error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--raised[disabled][disabled].error-message__link,.form-wrap [disabled][disabled].error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--raised[disabled][disabled].popover-menu__toggle,.popover-menu--custom-reports .form-wrap [disabled][disabled].popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports [disabled][disabled].popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu [disabled][disabled].popover-menu__toggle,.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.form-builder-header__button,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button.form-builder-header__button--create,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button.form-builder-header__button--save,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.form-builder-header__close,.form-wrap .mdl-button.mdl-button--disabled.mdl-button--disabled.error-message__link--raised,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.error-message__link,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button--colored[disabled][disabled].form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],.mdl-button--colored[disabled][disabled].form-builder-header__button,[disabled][disabled].form-builder-header__button.form-builder-header__button--create,[disabled][disabled].form-builder-header__button.form-builder-header__button--save,.mdl-button--colored[disabled][disabled].form-builder-header__close,.form-wrap .mdl-button[disabled][disabled].error-message__link--raised,.form-wrap [disabled][disabled].error-message__link--raised.form-view__icon-button,.form-wrap [disabled][disabled].error-message__link--raised.form-builder-header__button,.form-wrap [disabled][disabled].error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored[disabled][disabled].error-message__link,.form-wrap [disabled][disabled].error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored[disabled][disabled].popover-menu__toggle,.popover-menu--custom-reports .form-wrap [disabled][disabled].popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports [disabled][disabled].popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu [disabled][disabled].popover-menu__toggle,.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.form-builder-header__button,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button.form-builder-header__button--create,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.form-builder-header__close,.form-wrap .mdl-button.mdl-button--disabled.mdl-button--disabled.error-message__link--raised,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.error-message__link,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle{color:#565e76}@media screen and (max-width: 767px){.mdl-button,.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button,.form-builder-header__button,.form-builder-header__close,.form-wrap .error-message__link,.popover-menu--custom-reports .popover-menu__toggle,.popover-menu--new-menu .popover-menu__toggle{padding:0 12px}}@font-face{font-family:"Roboto";src:local("Roboto Thin"),local("Roboto-Thin"),url('+r(o(853))+') format("woff2"),url('+r(o(854))+') format("woff");font-weight:100;font-style:normal}@font-face{font-family:"Roboto";src:local("Roboto Light"),local("Roboto-Light"),url('+r(o(855))+') format("woff2"),url('+r(o(856))+') format("woff");font-weight:300;font-style:normal}@font-face{font-family:"Roboto";src:local("Roboto LightItalic"),local("Roboto-LightItalic"),url('+r(o(857))+') format("woff2"),url('+r(o(858))+') format("woff");font-weight:300;font-style:italic}@font-face{font-family:"Roboto";src:local("Roboto Regular"),local("Roboto-Regular"),url('+r(o(859))+') format("woff2"),url('+r(o(860))+') format("woff");font-weight:400;font-style:normal}@font-face{font-family:"Roboto";src:local("Roboto RegularItalic"),local("Roboto-RegularItalic"),url('+r(o(861))+') format("woff2"),url('+r(o(862))+') format("woff");font-weight:400;font-style:italic}@font-face{font-family:"Roboto";src:local("Roboto Medium"),url('+r(o(863))+') format("woff2"),url('+r(o(864))+') format("woff");font-weight:500;font-style:normal}@font-face{font-family:"Roboto";src:local("Roboto MediumItalic"),local("Roboto-MediumItalic"),url('+r(o(865))+') format("woff2"),url('+r(o(866))+') format("woff");font-weight:500;font-style:italic}@font-face{font-family:"Roboto";src:local("Roboto Bold"),local("Roboto-Bold"),url('+r(o(867))+') format("woff2"),url('+r(o(868))+') format("woff");font-weight:700;font-style:normal}@font-face{font-family:"Roboto";src:local("Roboto BoldItalic"),local("Roboto-BoldItalic"),url('+r(o(869))+') format("woff2"),url('+r(o(870))+') format("woff");font-weight:700;font-style:italic}@font-face{font-family:"Roboto Mono";src:local("Roboto Mono"),local("Roboto-Mono"),url('+r(o(871))+') format("woff2"),url('+r(o(872))+') format("woff");font-weight:400;font-style:normal}@font-face{font-family:"Roboto Mono Bold";src:local("Roboto Mono Bold"),local("Roboto-Mono-Bold"),url('+r(o(873))+') format("woff2"),url('+r(o(874))+') format("woff");font-weight:700;font-style:normal}@font-face{font-family:"k-icons";src:url('+r(o(875))+') format("woff2"),url('+r(o(876))+') format("woff"),url('+r(o(877))+') format("truetype"),url('+r(o(878))+'?#iefix) format("embedded-opentype"),url('+r(o(879))+'#k-icons) format("svg");font-weight:normal;font-style:normal}.k-icon,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--create-pending>i,.react-tagsinput-remove,.alertify-notifier .ajs-message .ajs-close,[class^=k-icon-]{font-family:"k-icons";font-style:normal;font-weight:normal}.k-icon::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.form-builder-header__button.form-builder-header__button--savepending>i::before,.form-builder-header__button.form-builder-header__button--create-pending>i::before,.react-tagsinput-remove::before,.alertify-notifier .ajs-message .ajs-close::before,[class^=k-icon-]::before,[class*=" k-icon-"]::before{font-family:"k-icons" !important;font-style:normal;font-weight:normal;speak:none;display:inline-block;text-decoration:inherit;width:1em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.k-icon-alert::before{content:"\\F101"}.k-icon-archived::before{content:"\\F102"}.k-icon-arrow-down-left::before{content:"\\F103"}.k-icon-arrow-down-right::before{content:"\\F104"}.k-icon-arrow-down::before{content:"\\F105"}.k-icon-arrow-left::before{content:"\\F106"}.k-icon-arrow-right::before{content:"\\F107"}.k-icon-arrow-up-left::before{content:"\\F108"}.k-icon-arrow-up-right::before{content:"\\F109"}.k-icon-arrow-up::before{content:"\\F10A"}.k-icon-attach::before{content:"\\F10B"}.k-icon-background-rec::before{content:"\\F10C"}.k-icon-block::before{content:"\\F10D"}.k-icon-caret-down::before{content:"\\F10E"}.k-icon-caret-left::before{content:"\\F10F"}.k-icon-caret-right::before{content:"\\F110"}.k-icon-caret-up::before{content:"\\F111"}.k-icon-cascading::before{content:"\\F112"}.k-icon-check-circle::before{content:"\\F113"}.k-icon-check::before{content:"\\F114"}.k-icon-clone::before{content:"\\F115"}.k-icon-close::before,.react-tagsinput-remove::before,.alertify-notifier .ajs-message .ajs-close::before{content:"\\F116"}.k-icon-data-sync::before{content:"\\F117"}.k-icon-deploy::before{content:"\\F118"}.k-icon-down::before{content:"\\F119"}.k-icon-download::before{content:"\\F11A"}.k-icon-drafts::before{content:"\\F11B"}.k-icon-edit::before{content:"\\F11C"}.k-icon-email::before{content:"\\F11D"}.k-icon-expand-arrow::before{content:"\\F11E"}.k-icon-expand::before{content:"\\F11F"}.k-icon-file-audio::before{content:"\\F120"}.k-icon-file-image::before{content:"\\F121"}.k-icon-file-video::before{content:"\\F122"}.k-icon-file::before{content:"\\F123"}.k-icon-filter-arrows::before{content:"\\F124"}.k-icon-filter::before{content:"\\F125"}.k-icon-folder-in::before{content:"\\F126"}.k-icon-folder-out::before{content:"\\F127"}.k-icon-folder-plus::before{content:"\\F128"}.k-icon-folder-public::before{content:"\\F129"}.k-icon-folder-shared::before{content:"\\F12A"}.k-icon-folder-subscribed::before{content:"\\F12B"}.k-icon-folder::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before{content:"\\F12C"}.k-icon-form-archived::before{content:"\\F12D"}.k-icon-form-deployed::before{content:"\\F12E"}.k-icon-form-draft::before{content:"\\F12F"}.k-icon-form-locked::before{content:"\\F130"}.k-icon-form-overview::before{content:"\\F131"}.k-icon-form::before{content:"\\F132"}.k-icon-forum::before{content:"\\F133"}.k-icon-freeze::before{content:"\\F134"}.k-icon-globe-alt::before{content:"\\F135"}.k-icon-globe::before{content:"\\F136"}.k-icon-group-split::before{content:"\\F137"}.k-icon-group::before{content:"\\F138"}.k-icon-heatmap::before{content:"\\F139"}.k-icon-help-articles::before{content:"\\F13A"}.k-icon-help::before,.form-wrap .error-message__link--help i::before{content:"\\F13B"}.k-icon-hide::before{content:"\\F13C"}.k-icon-information::before{content:"\\F13D"}.k-icon-intercom::before{content:"\\F13E"}.k-icon-kobo::before{content:"\\F13F"}.k-icon-language-default::before{content:"\\F140"}.k-icon-language-settings::before{content:"\\F141"}.k-icon-language::before{content:"\\F142"}.k-icon-layer::before{content:"\\F143"}.k-icon-library-public::before{content:"\\F144"}.k-icon-library::before{content:"\\F145"}.k-icon-link::before{content:"\\F146"}.k-icon-lock-alt::before{content:"\\F147"}.k-icon-lock::before{content:"\\F148"}.k-icon-logo-github::before{content:"\\F149"}.k-icon-logo-instagram::before{content:"\\F14A"}.k-icon-logo-linkedin::before{content:"\\F14B"}.k-icon-logo-twitter::before{content:"\\F14C"}.k-icon-logout::before{content:"\\F14D"}.k-icon-map-view::before{content:"\\F14E"}.k-icon-media-files::before{content:"\\F14F"}.k-icon-menu::before{content:"\\F150"}.k-icon-minus::before{content:"\\F151"}.k-icon-more-vertical::before{content:"\\F152"}.k-icon-more::before{content:"\\F153"}.k-icon-next::before{content:"\\F154"}.k-icon-notification::before{content:"\\F155"}.k-icon-pause::before{content:"\\F156"}.k-icon-pdf::before{content:"\\F157"}.k-icon-photo-gallery::before{content:"\\F158"}.k-icon-pins::before{content:"\\F159"}.k-icon-plus::before{content:"\\F15A"}.k-icon-prev::before{content:"\\F15B"}.k-icon-print::before{content:"\\F15C"}.k-icon-projects::before{content:"\\F15D"}.k-icon-qt-acknowledge-lock::before{content:"\\F15E"}.k-icon-qt-acknowledge::before{content:"\\F15F"}.k-icon-qt-area-lock::before{content:"\\F160"}.k-icon-qt-area::before{content:"\\F161"}.k-icon-qt-audio-lock::before{content:"\\F162"}.k-icon-qt-audio::before{content:"\\F163"}.k-icon-qt-barcode-lock::before{content:"\\F164"}.k-icon-qt-barcode::before{content:"\\F165"}.k-icon-qt-calculate-lock::before{content:"\\F166"}.k-icon-qt-calculate::before{content:"\\F167"}.k-icon-qt-date-lock::before{content:"\\F168"}.k-icon-qt-date-time-lock::before{content:"\\F169"}.k-icon-qt-date-time::before{content:"\\F16A"}.k-icon-qt-date::before{content:"\\F16B"}.k-icon-qt-decimal-lock::before{content:"\\F16C"}.k-icon-qt-decimal::before{content:"\\F16D"}.k-icon-qt-external-xml-lock::before{content:"\\F16E"}.k-icon-qt-external-xml::before{content:"\\F16F"}.k-icon-qt-file-lock::before{content:"\\F170"}.k-icon-qt-file::before{content:"\\F171"}.k-icon-qt-hidden-lock::before{content:"\\F172"}.k-icon-qt-hidden::before{content:"\\F173"}.k-icon-qt-line-lock::before{content:"\\F174"}.k-icon-qt-line::before{content:"\\F175"}.k-icon-qt-meta-default::before{content:"\\F176"}.k-icon-qt-note-lock::before{content:"\\F177"}.k-icon-qt-note::before{content:"\\F178"}.k-icon-qt-number-lock::before{content:"\\F179"}.k-icon-qt-number::before{content:"\\F17A"}.k-icon-qt-photo-lock::before{content:"\\F17B"}.k-icon-qt-photo::before{content:"\\F17C"}.k-icon-qt-point-lock::before{content:"\\F17D"}.k-icon-qt-point::before{content:"\\F17E"}.k-icon-qt-question-matrix-lock::before{content:"\\F17F"}.k-icon-qt-question-matrix::before{content:"\\F180"}.k-icon-qt-range-lock::before{content:"\\F181"}.k-icon-qt-range::before{content:"\\F182"}.k-icon-qt-ranking-lock::before{content:"\\F183"}.k-icon-qt-ranking::before{content:"\\F184"}.k-icon-qt-rating-lock::before{content:"\\F185"}.k-icon-qt-rating::before{content:"\\F186"}.k-icon-qt-select-many-lock::before{content:"\\F187"}.k-icon-qt-select-many::before{content:"\\F188"}.k-icon-qt-select-one-lock::before{content:"\\F189"}.k-icon-qt-select-one::before{content:"\\F18A"}.k-icon-qt-text-lock::before{content:"\\F18B"}.k-icon-qt-text::before{content:"\\F18C"}.k-icon-qt-time-lock::before{content:"\\F18D"}.k-icon-qt-time::before{content:"\\F18E"}.k-icon-qt-video-lock::before{content:"\\F18F"}.k-icon-qt-video::before{content:"\\F190"}.k-icon-question::before{content:"\\F191"}.k-icon-replace::before{content:"\\F192"}.k-icon-report::before{content:"\\F193"}.k-icon-search::before{content:"\\F194"}.k-icon-settings::before{content:"\\F195"}.k-icon-sort-down::before{content:"\\F196"}.k-icon-sort-up::before{content:"\\F197"}.k-icon-spinner::before,.form-builder-header__button.form-builder-header__button--savepending>i::before,.form-builder-header__button.form-builder-header__button--create-pending>i::before{content:"\\F198"}.k-icon-subscribe::before{content:"\\F199"}.k-icon-table::before{content:"\\F19A"}.k-icon-tag::before{content:"\\F19B"}.k-icon-template-locked::before{content:"\\F19C"}.k-icon-template::before{content:"\\F19D"}.k-icon-trash::before{content:"\\F19E"}.k-icon-unfreeze::before{content:"\\F19F"}.k-icon-unsubscribe::before{content:"\\F1A0"}.k-icon-up::before{content:"\\F1A1"}.k-icon-upload::before{content:"\\F1A2"}.k-icon-user-share::before{content:"\\F1A3"}.k-icon-view-all::before{content:"\\F1A4"}.k-icon-view::before{content:"\\F1A5"}.k-icon-xls-file::before{content:"\\F1A6"}.k-icon-xml-file::before{content:"\\F1A7"}.alertify .ajs-dimmer{background-color:#fff;opacity:.55}.alertify .ajs-dialog{box-shadow:2px 2px 15px 2px rgba(51,56,71,.15)}.alertify .ajs-header{margin:0px;padding:0px;padding-bottom:18px;font-size:18px;font-weight:bold}.alertify.ajs-closable .ajs-commands button{width:32px;height:32px;padding:0px}.alertify.ajs-closable .ajs-commands button.ajs-close{background:transparent;font-size:24px;color:#565e76}.alertify.ajs-closable .ajs-commands button.ajs-close:hover{color:#333847}.alertify.ajs-closable .ajs-commands button.ajs-close:before{content:"\\D7"}.alertify.ajs-closable .ajs-commands{margin:0px;top:20px;right:20px;padding:0px}.alertify .ajs-body{min-height:20px}.alertify .ajs-body .ajs-content{padding:0px}.alertify .ajs-body .ajs-content pre{max-height:250px;overflow:auto;word-wrap:break-word;max-width:100%;padding-right:20px;white-space:initial;font-size:12px}.alertify .ajs-dialog{max-width:550px;padding:30px 30px 0 30px}.alertify .ajs-footer{margin:-4px;padding:17px 0px}.alertify .ajs-footer .ajs-buttons.ajs-primary{text-align:right}.alertify .ajs-footer button>span{pointer-events:none}.alertify .ajs-footer button.ajs-button-disabled{pointer-events:none;opacity:.5}@media screen and (max-height: 600px){.alertify .ajs-dialog{margin-top:4%;margin-bottom:4%}.alertify .ajs-body .ajs-content pre{max-height:150px;font-size:11px}}@media screen and (max-height: 475px){.alertify .ajs-dialog{margin-top:2%;margin-bottom:2%}.alertify .ajs-body .ajs-content pre{max-height:100px;font-size:10px}}.alertify-notifier .ajs-message,.alertify-notifier .ajs-message.ajs-error,.alertify-notifier .ajs-message.ajs-success,.alertify-notifier .ajs-message.ajs-warning{background:#333847;color:#fff;padding:17px 24px;padding-right:44px;width:auto;min-width:320px;max-width:460px;line-height:1.3em}.alertify-notifier .ajs-message.ajs-error{box-shadow:0 2px 0 0 #e84a5f inset}.alertify-notifier .ajs-message.ajs-success{box-shadow:0 2px 0 0 #28bd70 inset}.alertify-notifier .ajs-message.ajs-warning{box-shadow:0 2px 0 0 #e6801a inset}.alertify-notifier .ajs-message .ajs-close{background:transparent;background-image:none;right:15px;top:50%;margin-top:-10px;opacity:.5;color:#fff}.alertify-toggle{display:block;padding-bottom:5px;padding-top:5px}.alertify-toggle input{margin-right:5px}.alertify-toggle:first-child{padding-top:15px}.alertify-toggle.alertify-toggle-important{margin-top:20px;padding-top:20px;padding-bottom:20px;border-top:1px solid #e7e9ee;font-weight:bold}.kobo-select__wrapper.kobo-select__wrapper--error>label,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select-label,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select-error,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select .kobo-select__placeholder{color:#e84a5f}.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select .kobo-select__control{border-bottom-color:#e84a5f}.kobo-select-label{display:block;color:inherit;font-size:12px;line-height:16px;font-weight:400;opacity:.38}.kobo-select-label+.kobo-select{margin-top:10px}.kobo-select-error{font-size:12px}.kobo-select.kobo-select--is-disabled{pointer-events:none;opacity:.5}.kobo-select .kobo-select__control{box-shadow:none;border:none;border-radius:3px;color:#565e76;background-color:#fff;min-height:24px;font-size:12px;padding:0 8px;box-sizing:border-box;cursor:pointer}.kobo-select .kobo-select__control:hover{border-color:#e7e9ee}.kobo-select .kobo-select__control.kobo-select__control--is-focused{border-color:#259af4}.kobo-select .kobo-select__input input{transition:none !important}.kobo-select .kobo-select__placeholder{color:#565e76}.kobo-select .kobo-select__indicator-separator{display:none}.kobo-select .kobo-select__menu{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:4px;z-index:2;margin-top:0;margin-bottom:0}.kobo-select .kobo-select__menu-list{padding-top:0;padding-bottom:0}.kobo-select .kobo-select__option{cursor:pointer}.kobo-select .kobo-select__option.kobo-select__option--is-selected{background-color:#fff;color:#259af4;font-weight:700}.kobo-select .kobo-select__option.kobo-select__option--is-focused{background-color:#f3f4f6}.react-tagsinput.react-tagsinput-invalid .react-tagsinput-input{color:#e84a5f;border-bottom-color:#e84a5f}.react-tagsinput.react-tagsinput-validating .react-tagsinput-input{color:#22b0c3;border-bottom-color:#22b0c3}.react-tagsinput-tag,.lib-list__tag{background-color:#565e76;color:#fff;font-weight:400;margin-bottom:4px;margin-right:4px;padding:4px 8px;padding-right:6px;display:inline-block;font-size:13px;border-radius:2px}.react-tagsinput-remove{cursor:pointer;color:#fff !important;opacity:.6;margin-left:3px;vertical-align:middle}.react-tagsinput-remove:hover{opacity:.9}.react-tagsinput-input{background:transparent;border:0 none;color:#565e76;font-family:sans-serif;font-size:13px;font-weight:400;margin-bottom:2px;margin-top:1px;outline:none;padding:5px;min-width:90px}.react-tags-save-button{float:left}.select2-search input{font-family:"Roboto",sans-serif;border-radius:0px}.select2-container-multi .select2-choices .select2-search-field input{font-family:"Roboto",sans-serif}.select2-container-multi .select2-choices .select2-search-choice{background-color:#3da5f5;background-image:none;border:none;border-radius:2px;box-shadow:none;color:#fff;cursor:default;line-height:13px;font-size:12px;padding:3px 5px 3px 18px}.select2-container-multi .select2-choices .select2-search-choice-focus{background:#3da5f5}.select2-search-choice-close{background:none !important;display:block;font-size:12px;height:12px;color:#fff;width:12px}.select2-search-choice-close:before{content:"x";opacity:.6}.question__tags{margin-top:-10px !important;padding-top:6px}.question__tags div.tagsinput{border:none;max-width:695px}div.tagsinput span.tag{background:#3da5f5;border:none;color:#fff;font-family:"Roboto",sans-serif;font-size:12px;margin:0px 4px;padding:0px 6px;padding-left:20px;text-decoration:none;border-radius:2px;font-weight:normal;position:relative}div.tagsinput input{border:none;color:#333847;font-family:"Roboto",sans-serif;font-size:12px;margin:0 5px;padding:5px;min-width:80px}div.tagsinput span.tag a{color:#3da5f5;font-size:1px;font-weight:normal;text-decoration:none;position:absolute;left:5px}div.tagsinput span.tag a:before{content:"x";opacity:.6;font-size:12px;color:#fff}ul.ui-autocomplete.ui-widget-content.ui-widget{max-width:680px !important;border:1px solid #e7e9ee}ul.ui-autocomplete.ui-widget-content.ui-widget li{padding:5px;background:#fff;font-size:12px}ul.ui-autocomplete.ui-widget-content.ui-widget li:hover{background:#259af4}ul.ui-autocomplete.ui-widget-content.ui-widget li:hover a{color:#fff !important;border:none !important;background:none !important;font-weight:normal !important}ul.ui-autocomplete.ui-widget-content.ui-widget li a{font-weight:normal;color:#333847}*{box-sizing:border-box}html{height:100%;color:#333847}body{height:100%;background:#fff;padding:0;margin:0}html,body,input,textarea,select,button{font-family:"Roboto",sans-serif;font-size:14px;font-weight:400;line-height:20px}a{color:#259af4;text-decoration:none}p{margin-bottom:16px}h3,h4,h5,h6{font-weight:400}ul{margin-top:0;margin-bottom:0;padding-left:0;list-style:none}hr{display:block;height:1px;border:0;border-top:1px solid #979fb4;margin:1em 0;padding:0}audio,canvas,img,video{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}:focus{outline:none}i{outline:none !important}.btn{box-shadow:none;margin-bottom:0;display:inline-block;font-weight:normal;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;border-radius:4px;color:#fff;background-color:#259af4;height:30px;line-height:30px;padding:0 20px;font-weight:400;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;position:relative}.btn:hover{background-color:#3da5f5;text-decoration:none}.btn:active,.btn .is-active{outline:0;background-image:none;box-shadow:none}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{pointer-events:none;cursor:not-allowed;opacity:.65}.btn--small{height:20px;padding-right:5px;padding-left:5px;font-size:12px;line-height:20px;border-radius:3px}.btn--block{display:block;width:100%}.btn--block+.btn--block{margin-top:5px}input[type=submit].btn--block,input[type=reset].btn--block,input[type=button].btn--block{width:100%}.btn--disabled{cursor:default;color:#e7e9ee;font-weight:normal}.or{width:30px;height:30px;margin:-36px auto 0;border-bottom:1px solid;border-radius:5em;position:relative;top:65px;display:block;font-weight:bold;font-size:14px;line-height:30px;text-align:center;text-transform:uppercase;color:#fff;background-color:#565e76}.or+hr{margin-top:50px;margin-bottom:40px}.editable{cursor:pointer}.select2-container .select2-choice{background-color:transparent;background-image:none;border:none;border-radius:0px;box-shadow:none;border-bottom:2px dotted #565e76;color:#333847;display:block;height:30px;line-height:30px;padding:0px 6px;font-size:13px;position:relative;text-decoration:none;white-space:nowrap;cursor:pointer}.select2-container .select2-choice:hover{color:#3da5f5}.select2-container .select2-choice>.select2-chosen{margin-right:0px}.select2-container .select2-choice .select2-arrow{display:none}.select2-dropdown-open.select2-drop-above .select2-choice,.select2-dropdown-open.select2-drop-above .select2-choices{background:none;border:none}.select2-drop-active{border:1px solid #e7e9ee;background:#fff;font-size:13px;box-shadow:none;border-radius:0px;margin-top:6px;min-width:140px !important}.select2-drop-active:before{content:"";position:absolute;left:25px;top:-6px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #e7e9ee}.select2-drop-active.select2-drop-above:before{display:none}.select2-drop-active .select2-results .select2-no-results{background:#fff}.select2-drop.select2-drop-above.select2-drop-active{border-top-color:#e7e9ee}.select2-results .select2-result-label{min-height:1.2em;padding:3px 7px 6px;line-height:1.1em}.content__message-loading{text-align:center;padding:10px 0px}.content__message-loading i{color:#259af4}.main{transition:padding-left 150ms;height:100%}.main>section.content{height:100%;padding-top:40px}.container,.survey-warnings{margin-right:auto;margin-left:auto;position:relative}.container.empty,.empty.survey-warnings{text-align:center;background:#fff;padding:20px}.container__wide{max-width:1024px;margin:0 auto;position:absolute;top:0;left:0;width:100%}.container__fixed{position:absolute;top:0;left:0;width:100%;z-index:4;height:10px;top:80px;width:100%}.content--centered{text-align:center}.registration__bg{background:url('+r(o(880))+');background-size:cover;background-repeat:none;width:100%;min-height:100%;position:relative;color:#fff;padding:20px;padding-bottom:5px}.registration__bg form.language-switcher{margin:0 auto;position:relative;max-width:400px;text-align:right;margin-bottom:10px;margin-top:-5px}.registration__bg form.registration{margin:0 auto;position:relative;max-width:400px;background:rgba(51,56,71,.75);padding:20px 30px}.registration__bg form.registration a{color:#86c7f9}.registration__bg form.registration a:hover{color:#259af4}.registration__bg form.registration a.registration__forgot{float:right;margin-top:-12px;margin-bottom:12px}.registration__bg .registration--logo{margin-left:10%;margin-right:10%;text-align:center;margin-bottom:15px;max-width:100%}.registration__bg .registration--logo img{max-width:170px;height:auto}.registration__bg h1{font-weight:400;font-size:1.8em;line-height:1.2em;margin:.8em 0}.registration__bg input[type=text],.registration__bg input[type=password],.registration__bg input[type=email],.registration__bg select{color:#333847}.registration__bg p.help{clear:both;opacity:.7;font-size:12px;line-height:1.2em;margin-bottom:0px}.registration__row{margin-top:0;margin-bottom:16px}.registration input[type=text],.registration input[type=password],.registration input[type=submit],.registration input[type=email],.registration select{width:100%;display:block;padding:5px 8px;border:none;border-radius:0px;font-size:14px;border-bottom:3px solid transparent;padding-bottom:3px;margin-top:1px;opacity:.9}.registration input[type=text]:focus,.registration input[type=password]:focus,.registration input[type=submit]:focus,.registration input[type=email]:focus,.registration select:focus{border-bottom-color:#259af4;opacity:1}.registration input[type=text].registration__action,.registration input[type=password].registration__action,.registration input[type=submit].registration__action,.registration input[type=email].registration__action,.registration select.registration__action{font-size:16px;padding:10px;color:#fff;text-align:center;font-weight:600;background-color:#28bd70;border-bottom:2px solid #1f9357;text-shadow:-1px -1px #1f9357;clear:both}.registration input[type=text].registration__action:hover,.registration input[type=password].registration__action:hover,.registration input[type=submit].registration__action:hover,.registration input[type=email].registration__action:hover,.registration select.registration__action:hover{background-color:#3da5f5;border-bottom-color:#0b81da;text-shadow:-1px -1px #0b81da}.registration select{margin-top:4px;border-bottom:none}.registration label{opacity:.85}.registration span.required{color:#e84a5f;margin-left:3px}.registration .sector,.registration .name{width:48%;float:left;margin-top:0px}.registration .country,.registration .organization{width:52%;float:left;padding-left:4%;margin-top:0px}.registration .password1{margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,.1)}.registration .passwordreset__cancel{color:#fff;width:45%;float:left;display:block;text-align:center;height:40px;line-height:40px;font-weight:600;font-size:12px}.registration .gender{clear:both;margin-bottom:5px}.registration .gender>ul{margin:0;padding:0;margin-bottom:5px;padding-top:4px}.registration .gender>ul li{display:inline-block;margin-right:16px}.registration .gender>ul li input{margin-right:4px}.registration ul.errorlist{padding:0px;color:#e84a5f;margin:8px 0px}.registration--register .registration--logo{text-align:left;margin:0;margin-left:-5px}.registration--register h1{margin-top:0em}.registration--register div.field{margin-bottom:12px}.registration--register input[type=submit]{margin-top:20px}.registration .registration__kc-domain+input{display:inline-block}.registration .registration__kc-domain{font-size:13px;letter-spacing:-0.04em;display:inline-block}.registration__orlogin{padding-top:10px;text-align:center}.registration__footer{clear:both;text-align:center;margin:20px 10px 10px 10px}.registration__footer a{color:#fff}.registration__footer .registration__legal a{margin:0px 8px}.error-message{font-size:14px;color:#e84a5f;background-color:rgba(232,74,95,.075)}.registration__credit{position:absolute;bottom:5px;right:5px;font-size:11px}.registration__credit a{opacity:.8;color:#fff}.registration__message{font-size:16px;text-align:center}@media screen and (min-width: 768px){.registration__bg form.registration{padding:30px 40px;margin-top:10px}.registration__bg form.registration--login{margin-top:40px}.registration__bg form.registration--register,.registration__bg form.registration--complete,.registration__bg form.language-switcher{width:80%;max-width:860px}.registration__bg form.registration--register{padding:30px}.registration__bg form.registration--register .registration--logo{width:48%;float:right}.registration__bg form.registration--register .registration--logo>*{padding-left:60px}.registration__bg .registration__first-half{width:52%;float:left}.registration__bg .registration__second-half{width:48%;float:right}.registration__bg .registration__second-half>*{padding-left:60px}.registration__bg .registration__second-half p{font-size:15px;line-height:1.3em}.registration__bg .registration--logo img{max-height:100px}.registration .registration__kc-domain{font-size:14px;letter-spacing:0em}}@media screen and (max-width: 767px){.registration__bg form.registration--register{display:flex;flex-direction:column}.registration__bg form.registration--register h1{text-align:center;margin-top:.5em}.registration__bg form.registration--register .registration--logo{display:block;text-align:center;order:1}.registration__bg form.registration--register .registration__first-half{order:3}.registration__bg form.registration--register .registration__second-half{order:2}}.params-view__simple-wrapper{border:1px solid #979fb4;border-top-width:1px;background:#fff;margin-top:-2px;position:relative}.card--selectquestion__expansion,.card__settings,.question__tags{border:1px solid #979fb4;border-top-width:1px;background:#fff;margin-top:-2px;position:relative}.card--selectquestion__expansion:after,.card__settings:after,.question__tags:after,.card--selectquestion__expansion:before,.card__settings:before,.question__tags:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.card--selectquestion__expansion:after,.card__settings:after,.question__tags:after{border-color:rgba(255,255,255,0);border-bottom-color:#fff;border-width:8px;margin-left:-8px}.card--selectquestion__expansion:before,.card__settings:before,.question__tags:before{border-color:rgba(151,159,180,0);border-bottom-color:#979fb4;border-width:9px;margin-left:-9px}.survey__row.survey__row--selected>.survey__row__item>.card__header{border:1px solid #3da5f5}.survey__row.survey__row--selected>.survey__row__item.group{border:1px solid #3da5f5}.survey__row .btn--addrow{display:none}.survey__row:hover>.survey__row__spacer>.btn--addrow,.survey__row:focus-within>.survey__row__spacer>.btn--addrow{display:block}.survey__row .btn--addrow-force-show:not(.locking__ui-hidden){display:block !important}.survey-editor--singlequestion .survey__row:hover>.survey__row__spacer>.btn--addrow{display:none}.survey__row--score .card__buttons__button--add,.survey__row--rank .card__buttons__button--add{display:none}.score_preview,.rank_preview{background-color:#fff;margin-left:-16px}.score_preview__table{width:100%;border-collapse:separate}.rankcell__delete,.scorecell__delete,.scorerow__delete{border:0 none;background-color:transparent;float:right;color:#e84a5f;cursor:pointer}.rankcell__delete:hover,.scorecell__delete:hover,.scorerow__delete:hover{color:#ad1f32}.scorecell__col{border:1px solid #979fb4;border-width:1px 0 .5px 1px;text-align:center;padding:0}.scorecell__col:nth-child(2){border-top-left-radius:6px}.scorecell__col:nth-last-child(2){border-top-right-radius:6px;border-right-width:1px}tr:first-child .scorelabel{border-top-width:1px;border-top-style:solid;border-top-color:#979fb4}.scorelabel{border-left-width:1px;border-left-style:solid;border-left-color:#979fb4;border-right-width:1px;border-right-style:solid;border-right-color:#e7e9ee}.scorelabel,.scorecell__radio{border-bottom:1px dotted #e7e9ee;padding:4px 6px}.scorecell__radio:last-child{border-right-width:1px;border-right-style:solid;border-right-color:#979fb4}tr:last-child .scorelabel,tr:last-child .scorecell__radio{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#979fb4}.score__options{background-color:#fff;padding:12px 0}.score__contents{padding-left:85px}.scorecell__radio{text-align:center}.scorecell__radio input{opacity:.4}tr:hover .scorecell__radio{background-color:#f3f4f6}tr .scorecell__radio:hover{background-color:#f3f4f6}.rank__rows{width:40%}.rank__levels{width:60%}.rank__levels,.rank__rows{float:left;background-color:rgba(255,255,255,.5);padding:4px 20px 18px 2px;margin:0}.rank_items__constraint_wrap,.rank_items__item,.rank_items__level{padding:5px 8px;margin:0 0 4px 0;line-height:12px}.rank_items__constraint_message,.rank_items__constraint_explanation{margin:0}.rank_items__constraint_explanation{font-size:10px;color:#565e76;text-decoration:underline}.rank_items__level__label div,.rank_items__item__label div{display:inline}.rank_items__level__label br,.rank_items__item__label br{display:none}.rank_items__item,.rank_items__level{border:1px solid;border-color:#979fb4;border-radius:4px}.rank_items__constraint_message{font-size:92%;color:#333847;font-style:italic}.rank_items__constraint_message:before{content:"\\2713"}.rank_items__constraint_message.rank_items__constraint_message--prelim{color:#565e76}.rank_items__constraint_message.rank_items__constraint_message--prelim:before{content:""}.rank_items__constraint_message div{display:inline}.rank_items__constraint_message br{display:none}.rank_items__add{list-style-type:none}.rank_items__add .btn{display:block;width:100%;line-height:10px}.scorecell__name{margin:0 0 -1px 0;background-color:#f3f4f6;color:#565e76;line-height:15px;font-size:9px}.scorecell__name,.scorelabel__name{display:block;border-bottom:1px dotted #e7e9ee}.scorecell__name br,.scorelabel__name br{display:none}.scorelabel__name:before,.scorelabel__name:after,.rank__rows .rank_items__name:before,.rank__rows .rank_items__name:after{line-height:20px;margin:0 3px}.scorelabel__name--automatic:before,.scorecell__name--automatic:before{content:"AUTOMATIC";font-size:10px}.rank_items__name{display:block}.rank_items__name br{display:none}.rank_items__name div{display:inline}.rank_items__name--automatic:focus:before{content:""}.rank_items__name--automatic:before{content:"AUTOMATIC"}.kobomatrix-warning{color:#b86614;position:absolute;top:0;right:55px;text-align:right;margin:0;padding:2px;font-size:12px}.scorecell__name,.scorelabel__name,.rank_items__name{font-size:90%;color:#565e76}.scorecell__name.prelim,.scorelabel__name.prelim,.rank_items__name.prelim{font-style:italic;color:#e7e9ee}.insort .btn--addrow{opacity:0}.btn--addrow{background-color:transparent;width:52px;height:84px;position:absolute;left:-50px;top:-20px}.btn--addrow .k-icon,.btn--addrow .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .btn--addrow i,.btn--addrow .form-builder-header__button.form-builder-header__button--savepending>i,.btn--addrow .form-builder-header__button.form-builder-header__button--create-pending>i,.btn--addrow .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .btn--addrow .ajs-close,.btn--addrow .react-tagsinput-remove{background-color:#979fb4;display:block;width:24px;font-size:21px;height:24px;line-height:24px;border-radius:5px}.btn--addrow:hover,.btn--addrow:focus{background-color:transparent}.btn--addrow:hover .k-icon,.btn--addrow:hover .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .btn--addrow:hover i,.btn--addrow:hover .form-builder-header__button.form-builder-header__button--savepending>i,.btn--addrow:hover .form-builder-header__button.form-builder-header__button--create-pending>i,.btn--addrow:hover .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .btn--addrow:hover .ajs-close,.btn--addrow:hover .react-tagsinput-remove,.btn--addrow:focus .k-icon,.btn--addrow:focus .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .btn--addrow:focus i,.btn--addrow:focus .form-builder-header__button.form-builder-header__button--savepending>i,.btn--addrow:focus .form-builder-header__button.form-builder-header__button--create-pending>i,.btn--addrow:focus .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .btn--addrow:focus .ajs-close,.btn--addrow:focus .react-tagsinput-remove{background-color:#3da5f5}.no-touch .btn--addrow{padding:30px 0 0 11px}.touch .btn--addrow{height:36px;margin-top:5px;padding-left:10px}.group__rows .btn--addrow{left:-30px;width:40px;height:54px;top:-30px;padding:15px 0 0 3px;z-index:101}.group__rows .btn--addrow .k-icon,.group__rows .btn--addrow .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .group__rows .btn--addrow i,.group__rows .btn--addrow .form-builder-header__button.form-builder-header__button--savepending>i,.group__rows .btn--addrow .form-builder-header__button.form-builder-header__button--create-pending>i,.group__rows .btn--addrow .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .group__rows .btn--addrow .ajs-close,.group__rows .btn--addrow .react-tagsinput-remove{width:22px;height:22px;line-height:22px}.group__rows .group__rows .btn--addrow{left:-24px;z-index:102;width:30px}.survey-editor--singlequestion .btn--addrow{display:none}.touch .survey-editor__null-top-row--hidden{display:none}.survey-editor__list>.survey__row:not(.survey__row--group):last-child .btn--addrow{display:block}.survey-editor__list>.survey__row:last-child{margin-bottom:30px}.btn--hidden{display:none !important}.survey__row__spacer{position:relative}.survey__row__spacer .line{height:0px}.row__questiontypes{border:1px solid #259af4;padding:0px;padding-top:20px;background:#fff;margin:4px 0px}.row__questiontypes__list{margin-top:20px;border-top:1px solid #259af4;padding:3px;position:relative;line-height:20px}.row__questiontypes__list:after,.row__questiontypes__list:before{bottom:100%;left:50%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.row__questiontypes__list:after{border-color:rgba(255,255,255,0);border-bottom-color:#fff;border-width:8px;margin-left:-8px}.row__questiontypes__list:before{border-color:rgba(217,221,225,0);border-bottom-color:#3da5f5;border-width:11px;margin-left:-11px}.row__questiontypes__close{position:absolute;top:-3px;right:1px;color:#565e76;background:transparent;border:0 none;font-family:"Roboto",sans-serif;font-weight:600;padding:4px;line-height:1em;font-size:24px;cursor:pointer}.row__questiontypes__close:hover{color:#333847}.survey-editor--singlequestion .row__questiontypes__close{display:none}input.row__questiontypes__new-question-name{border:0;border-radius:0px;font-weight:600;padding:0px 40px;min-width:99%}.row__questiontypes--namer{height:68px;padding:15px 10px;margin-bottom:20px}.row__questiontypes--namer form input{width:72%;padding:9px;border:1px solid #259af4;font-size:15px}.row__questiontypes--namer form button{width:25%;margin-left:2%}.row__questiontypes--namer form input,.row__questiontypes--namer form button{float:left}.questiontypelist__row{width:25%;padding-right:1px;float:left}.questiontypelist__item{margin-bottom:1px;padding:10px 5px;font-size:11px;font-family:"Roboto",sans-serif;font-weight:600;cursor:pointer;color:#333847}.questiontypelist__item .k-icon,.questiontypelist__item .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .questiontypelist__item i,.questiontypelist__item .form-builder-header__button.form-builder-header__button--savepending>i,.questiontypelist__item .form-builder-header__button.form-builder-header__button--create-pending>i,.questiontypelist__item .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .questiontypelist__item .ajs-close,.questiontypelist__item .react-tagsinput-remove{margin-right:6px;font-size:20px;vertical-align:top}.questiontypelist__item:hover{border-color:#3da5f5;color:#3da5f5}.questiontypelist__item-force-hover{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px;color:#3da5f5}.card{border-radius:0px;font-family:"Roboto",sans-serif;font-weight:600;font-size:13px;line-height:18px;margin-bottom:4px;position:relative}.card.card--error{padding:12px 20px;background-color:rgba(232,74,95,.5)}.card .card__header{border:1px solid #979fb4;padding:20px 65px 20px 75px;min-height:82px;display:block;background:#fff;position:relative}.ui-sortable.js-sortable-enabled .card .card__header{cursor:move}.ui-sortable.ui-sortable-disabled .card .card__header{cursor:initial !important}.card .card__text{margin:auto;display:inline-block;vertical-align:middle;width:99%;position:relative}.card .card__text.activated{color:#565e76}.card .card__text .card__buttons__multioptions{cursor:pointer;vertical-align:middle;text-align:right;position:absolute;left:-34px;top:50%;width:32px;margin-top:-30px;padding-top:22px;padding-bottom:22px}.card .card__text .card__buttons__multioptions .k-icon,.card .card__text .card__buttons__multioptions .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .card .card__text .card__buttons__multioptions i,.card .card__text .card__buttons__multioptions .form-builder-header__button.form-builder-header__button--savepending>i,.card .card__text .card__buttons__multioptions .form-builder-header__button.form-builder-header__button--create-pending>i,.card .card__text .card__buttons__multioptions .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .card .card__text .card__buttons__multioptions .ajs-close,.card .card__text .card__buttons__multioptions .react-tagsinput-remove{font-size:15px}.card .card__header-title:focus,.card .card__header-hint:focus{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.card .card__header-title{color:#565e76}.card .card__header-title:focus{color:#333847}.card .card__header-title::-moz-placeholder{color:#e84a5f;background-color:rgba(232,74,95,.075)}.card .card__header-title:-ms-input-placeholder{color:#e84a5f;background-color:rgba(232,74,95,.075)}.card .card__header-title::placeholder{color:#e84a5f;background-color:rgba(232,74,95,.075)}.card .card__header-hint{color:inherit;font-weight:400}.card .card__header-hint::-moz-placeholder{color:#565e76;font-style:italic}.card .card__header-hint:-ms-input-placeholder{color:#565e76;font-style:italic}.card .card__header-hint::placeholder{color:#565e76;font-style:italic}.card .card__option-translation--empty{opacity:.6}.card.card--shaded .card__header-title{opacity:.3}.card--required .card__text:after{content:"*";position:absolute;top:-0.15em;left:-9px;color:#565e76;font-size:11px}.card--required.card--selectquestion .card__text{padding-left:10px}.card--required.card--selectquestion .card__text:after{left:1px}.no-touch .card:before{content:" ";height:100%;left:-60px;position:absolute;width:80px}.sortable-active .card__header{border:1px solid #3da5f5}.sortable-active .card__header .card__header-title{color:#3da5f5}.card--error{background-color:rgba(232,74,95,.5)}.card__indicator{position:absolute;left:0;top:0;width:42px;height:100%;border-right:1px solid #979fb4}.card--insort .card__indicator{border-right:1px solid #3da5f5}.card__indicator__icon{position:absolute;top:50%;margin-top:-10.5px;left:8px;width:21px;height:21px;font-size:20px;line-height:20px;text-align:center;color:#565e76}.card__buttons{border:1px solid #979fb4;border-width:0 0 0 1px;position:absolute;top:0;right:0;width:25px;height:100%;z-index:3;display:flex;flex-direction:column;align-items:flex-start}.card--shaded .card__buttons{border-color:transparent}.card__header--shade{position:absolute;width:100%;height:100%;left:0px;top:0px;z-index:2;text-align:center;vertical-align:middle;display:none}.card__header--shade span{position:relative;top:35%;font-weight:600;font-size:23px}.card--shaded .card__header--shade{display:block}.card--shaded .card__header--shade>span:after{content:attr(data-card-hover-text)}.card__header.settings .card__header--shade{background:rgba(86,94,118,.5)}.card__header.delete .card__header--shade{background:rgba(232,74,95,.5)}.card__header.duplicate .card__header--shade{background:rgba(37,154,244,.5)}.card__header.add-to-library .card__header--shade{background:rgba(40,189,112,.5)}.card--insort .card__buttons{border-left:1px solid #3da5f5}.card__buttons__button{height:20px;line-height:20px;width:25px;text-align:center;position:relative;cursor:pointer}.card__buttons__button.card__buttons__button--gray{color:#565e76}.card__buttons__button.card__buttons__button--red{color:#e84a5f}.card__buttons__button.card__buttons__button--blue{color:#259af4}.card__buttons__button.card__buttons__button--green{color:#28bd70}.card__buttons__button.card__buttons__button--activated{color:#565e76;background-color:#e7e9ee;opacity:1}.card__buttons__button:hover,.card__buttons__button.card__buttons__button--activated:hover{opacity:.5}.card__buttons__button .k-icon,.card__buttons__button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .card__buttons__button i,.card__buttons__button .form-builder-header__button.form-builder-header__button--savepending>i,.card__buttons__button .form-builder-header__button.form-builder-header__button--create-pending>i,.card__buttons__button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .card__buttons__button .ajs-close,.card__buttons__button .react-tagsinput-remove{font-size:18px}.card--shaded .card__buttons{z-index:4}.card--shaded .card__header .card__text .bg{display:block}.survey-editor--singlequestion .card__buttons__button--delete{display:none}.survey-editor--singlequestion .survey-editor__action--multiquestion{display:none}.card--selectquestion__expansion{padding:23px 10px 23px 60px}.card__settings__tabs{float:left;width:20%}.card__settings__tabs .heading,.card__settings__tabs li{padding:6px 10px;font-size:11px;font-weight:normal;cursor:pointer}.card__settings__tabs li.card__settings__tabs__tab--active{background:#e7e9ee;font-weight:600}.card__settings__tabs .heading{border-bottom:1px solid #979fb4;font-size:13px;padding:8px 10px;font-weight:600;margin-bottom:3px}.card__settings__tabs .heading .k-icon,.card__settings__tabs .heading .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .card__settings__tabs .heading i,.card__settings__tabs .heading .form-builder-header__button.form-builder-header__button--savepending>i,.card__settings__tabs .heading .form-builder-header__button.form-builder-header__button--create-pending>i,.card__settings__tabs .heading .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .card__settings__tabs .heading .ajs-close,.card__settings__tabs .heading .react-tagsinput-remove{color:#565e76;margin-right:5px;font-size:21px;display:inline-block;vertical-align:-6px}.card__settings__content{padding:20px 30px;margin-left:20%;border-left:1px solid #979fb4;min-height:152px}.card__settings__fields{display:none;transition:height .3s}.card__settings__fields.card__settings__fields--active,.card__settings__fields.active{display:block;transition:height .3s}.card__settings__fields__field{padding:5px 0}.card__settings__fields__field>label{text-align:right;width:32%;margin-right:2%;display:inline-block;font-weight:600;vertical-align:middle;text-transform:capitalize;font-size:12px;line-height:1.2em}.card__settings__fields__field>label.align-top{vertical-align:top;margin-top:5px}.card__settings__fields__field input[type=text]{width:85%;background:inherit;border-width:1px;border-color:#e7e9ee;border-style:solid;padding:4px 10px;font-size:15px;color:inherit}.card__settings__fields__field input[type=text]:focus{border-color:#259af4}.card__settings__fields__field .settings__input{width:65%;display:inline-block;vertical-align:middle}.card__settings__fields__field .settings__input input.text{display:inline-block}.card__settings-close{background:#979fb4;position:absolute;right:6px;top:6px;color:#fff;padding:3px;border-radius:3px;font-size:18px;line-height:18px;cursor:pointer}.card__settings-close:hover{background:#3da5f5}.card__settings-close:active{transform:translateY(1px)}.card .card__settings{display:none}.card.card--expanded-settings .card__settings{display:block}.card.card--expanded-settings .card__buttons__button--settings{color:#565e76;background-color:#e7e9ee}.settings__hxl{background:#f3f4f6;display:table-row}.settings__hxl .hxlTag{width:120px}.settings__hxl .hxlAttrs{min-width:200px;width:calc(100% - 124px)}.settings__hxl .select2-container-multi{vertical-align:top;display:table-cell;border:1px solid #979fb4;padding:2px}.settings__hxl .select2-container-multi .select2-choices{background-image:none !important;background-color:transparent !important;border:none !important;box-shadow:none !important}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice{border-radius:5px;font-weight:normal;background:#e7e9ee;color:#333847;padding-left:5px;padding-right:18px}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice .select2-search-choice-close{left:auto;right:3px;color:#565e76}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice .select2-search-choice-close:before{content:"\\D7"}.settings__hxl .select2-container-multi .select2-choices .select2-search-field input{padding-bottom:2px;padding-top:2px}.settings__hxl .select2-container-multi .select2-choices .select2-search-field input.select2-input{min-width:100px}.settings__hxl .select2-container-multi.select2-container-disabled .select2-choices .select2-search-choice{opacity:.5}.settings__hxl .hxlAttrs.select2-container-multi{background:inherit;border-left:0px}.survey__row--selected .card--selectquestion__expansion,.survey__row--selected .card__settings{border-left-color:#3da5f5;border-right-color:#3da5f5;border-bottom-color:#3da5f5}.card--selectquestion .row__multioptions{display:none}.card--selectquestion.card--expandedchoices .row__multioptions{display:block}.option-placeholder{height:32px;margin-bottom:10px;border:2px solid #979fb4;border-radius:4px;margin-right:25px;margin-left:5px}.multioptions__option{margin-bottom:4px;margin-left:4px;position:relative}.multioptions__option div.editable-wrapper{font-weight:600;border-radius:5px;border:1px solid #979fb4;padding:5px;font-size:13px;display:inline-block;width:72%;vertical-align:top;height:auto;position:relative;min-height:18px}.list-view .ui-sortable.js-sortable-enabled .multioptions__option div.editable-wrapper{cursor:move}.multioptions__option div.editable-wrapper:focus{border-color:#55b0f6;color:#55b0f6}.multioptions__option div.editable-wrapper span{cursor:text}.multioptions__option div.editable-wrapper .editable-input input{line-height:1em;vertical-align:middle;margin-top:-3px}.multioptions__option code{font-weight:600;font-size:11px;font-family:"Roboto",sans-serif;background-color:#e7e9ee;padding:2px;margin:2px;width:25%;text-align:left;display:inline-block;margin-left:2%;overflow:hidden}.multioptions__option code label{display:inline-block;width:40%;padding-left:4px;color:#565e76}.multioptions__option code span{text-align:right;display:inline-block;float:right;width:60%;padding-right:4px;color:#565e76;overflow-wrap:break-word;cursor:text}.multioptions__option code .editable-unsaved{color:#3da5f5}.multioptions__option code input{text-align:right;display:inline-block;float:right;width:60% !important;color:#3da5f5;line-height:inherit;font-size:11px}.multioptions__option .k-icon.k-icon-trash,.multioptions__option .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-trash,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .multioptions__option i.k-icon-trash,.multioptions__option .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-trash,.multioptions__option .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-trash,.multioptions__option .alertify-notifier .ajs-message .k-icon-trash.ajs-close,.alertify-notifier .ajs-message .multioptions__option .k-icon-trash.ajs-close,.multioptions__option .k-icon-trash.react-tagsinput-remove{position:absolute;left:-20px;top:8px;color:#e84a5f;font-size:18px;cursor:pointer}.card__addoptions{position:relative}.card__addoptions__layer{cursor:pointer !important;background:rgba(255,255,255,.5);position:absolute;width:100%;height:100%;top:0px;z-index:1}.group{padding:4px 10px;margin-bottom:15px;background-color:#f3f4f6;border:1px solid #979fb4;font-size:13px}.group .card,.group .row__questiontypes{margin-left:0px}.group__name{font-weight:600}.group__header{border-bottom:1px solid #979fb4;position:relative;margin:-4px -10px 0;padding:12px;min-height:50px}.group__header input{width:94%;font-weight:normal;display:inline;border:none;border-radius:none;background:none;font-size:16px;font-weight:600;padding:0px;height:auto;vertical-align:middle}.group__rows{margin-top:6px}.group__header__buttons{border:1px solid #979fb4;border-width:0 0 0 1px;position:absolute;top:0px;right:0;width:25px;height:100%}.group__header__buttons__button{display:block;font-size:13px;height:22px;line-height:22px;width:26px;text-align:center;cursor:pointer}.group__header__buttons__button.group__header__buttons__button--gray{color:#565e76}.group__header__buttons__button.group__header__buttons__button--red{color:#e84a5f}.group__header__buttons__button.group__header__buttons__button--activated{color:#565e76;background-color:#e7e9ee}.group__header__buttons__button .k-icon,.group__header__buttons__button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .group__header__buttons__button i,.group__header__buttons__button .form-builder-header__button.form-builder-header__button--savepending>i,.group__header__buttons__button .form-builder-header__button.form-builder-header__button--create-pending>i,.group__header__buttons__button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .group__header__buttons__button .ajs-close,.group__header__buttons__button .react-tagsinput-remove{font-size:18px}.group{line-height:1.4}.group>.card__settings{display:none}.group.card--expanded-settings{padding:4px 0px;padding-bottom:0px}.group.card--expanded-settings>.card__settings{display:block;background-color:#fff;border:none;margin-top:1px}.group.card--expanded-settings>.card__settings:after{content:"";border:none}.group.card--expanded-settings>.card__settings:before{content:"";border:none}.group.card--expanded-settings .group__rows{display:none}.group.card--expanded-settings .group__header{margin:-4px 0px 0px}.group.card--expanded-settings .group__header__buttons__button--settings{background:#e7e9ee}.group__header__icon,.group__header__icon .k-icon,.group__header__icon .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .group__header__icon i,.group__header__icon .form-builder-header__button.form-builder-header__button--savepending>i,.group__header__icon .form-builder-header__button.form-builder-header__button--create-pending>i,.group__header__icon .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .group__header__icon .ajs-close,.group__header__icon .react-tagsinput-remove,.group__caret{color:#565e76;display:inline-block;vertical-align:middle}.group__header__icon .k-icon,.group__header__icon .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .group__header__icon i,.group__header__icon .form-builder-header__button.form-builder-header__button--savepending>i,.group__header__icon .form-builder-header__button.form-builder-header__button--create-pending>i,.group__header__icon .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .group__header__icon .ajs-close,.group__header__icon .react-tagsinput-remove{font-size:16px}.group__caret{font-size:12px;padding:2px;margin-left:-4px;cursor:pointer}.group__caret:hover{color:#333847}.group--shrunk{border-bottom:none;padding-bottom:0px}.group--shrunk .group__rows{display:none}.group--shrunk .survey__row{display:none}.group__rows .group{background:#eaecf0;margin-bottom:12px}.group__rows .group .group__rows .group{background:#e1e3ea}.group__rows .group .group__rows .group .group__rows .group{background:#d9dbe3}.group__rows .group .group__rows .group .group__rows .group .group__rows .group{background:#d0d3dd}.skiplogic__criterion{margin-bottom:12px;position:relative}.skiplogic__criterion.skiplogic__criterion--unspecified-question .skiplogic__expressionselect{display:none}.skiplogic__rowselect{width:60%;margin-right:2%;font-weight:normal}.skiplogic__expressionselect{width:10%;margin-right:2%;font-weight:600;color:#333847}.skiplogic__expressionselect--no-response-value{width:37%;margin-right:0%}.skiplogic__expressionselect--no-response-value+.skiplogic__responseval{display:none}.skiplogic__responseval-wrapper{display:inline}input[type=text].skiplogic__responseval,select.skiplogic__responseval{width:25%;font-weight:normal;display:inline-block;border-bottom:1px solid #979fb4}input[type=text].skiplogic__responseval{border-radius:0;border:none;border-bottom:1px solid #979fb4;padding:1px;height:30px;vertical-align:bottom}div.skiplogic__responseval{display:inline-block;width:25% !important}.skiplogic__deletecriterion{height:auto;margin:0;border:0;padding:0;position:absolute;top:3px;right:-16px;color:#e84a5f;background-color:transparent;opacity:.8;cursor:pointer;font-size:18px}.skiplogic__deletecriterion:hover{opacity:1}.skiplogic__handcode-edit{width:100%;min-height:70px;padding:6px;margin-top:20px}.skiplogic-handcode__cancel{background:none;border:medium none;color:#e84a5f;font-size:21px;position:absolute;right:-21px;text-align:center;top:18px;width:18px;padding:0;cursor:pointer}.skiplogic__main{position:relative}.skiplogic__main .kobo-button,.skiplogic__main .alertify .ajs-footer button,.alertify .ajs-footer .skiplogic__main button{width:100%}.skiplogic__main .kobo-button:not(:first-child),.skiplogic__main .alertify .ajs-footer button:not(:first-child),.alertify .ajs-footer .skiplogic__main button:not(:first-child){margin-top:10px}.skiplogic__addnew{margin:0;margin-top:10px;height:36px;min-width:180px;display:inline-block}select.skiplogic__delimselect{max-width:350px;margin-top:10px;background:transparent;border-radius:0px !important;border:none;border-bottom:1px solid #979fb4;padding:4px 2px;font-size:13px;font-weight:400}.constraint__editor{padding-top:14px;position:relative}.skiplogic__criterialist .select2-container .select2-choice{border-bottom:1px solid #979fb4}.skiplogic__criterialist .select2-dropdown-open.select2-drop-above .select2-choice,.skiplogic__criterialist .select2-dropdown-open.select2-drop-above .select2-choices{border-bottom:1px solid #979fb4;border-radius:0px}.params-view__simple-wrapper .params-view{padding:10px}.params-view__simple-wrapper .params-view .param-option{padding:5px 10px;display:inline-block}.params-view__settings-wrapper.card__settings__fields__field>label{vertical-align:top;margin-top:2px}.survey__row--selected .params-view__simple-wrapper{border-left-color:#3da5f5;border-right-color:#3da5f5;border-bottom-color:#3da5f5}.card__settings__fields__field .params-view .param-option{display:block}.card__settings__fields__field .params-view .param-option:not(:last-child){margin-bottom:10px}.mandatory-setting .card__settings__fields__field>label{vertical-align:top;margin-top:6px}.mandatory-setting .mandatory-setting__row.mandatory-setting__row--custom .text-box{margin-top:5px;display:block}.mandatory-setting .mandatory-setting__row.mandatory-setting__row--custom .radio__input:not(:checked)~.text-box{visibility:hidden;height:0;overflow:hidden;margin-top:0}.survey-editor__message{border:1px solid #979fb4;padding:20px;background:#fff;color:#565e76;font-weight:600;font-style:italic;font-size:13px}.survey-editor__message a{font-style:normal;font-weight:normal;text-decoration:underline}.card__text input,.editable-wrapper input{font-family:"Roboto",sans-serif;border:none;padding:0px;margin:0px;font-weight:600;display:inline;height:auto !important;font-size:13px;width:100%;background:transparent}code input[type=text]{border:none;padding:0px;padding-right:4px;margin:0px;font-weight:600;display:inline;background:none;font-size:11px;color:#3da5f5;float:right;width:64%;height:auto !important;text-align:right}.survey-warnings{background-color:#fcf2e8;color:#b86614;padding:15px;margin-bottom:20px;border-radius:4px;border:1px solid #e6801a}.survey-warnings__warning{margin:12px 0 0}.survey-warnings__close-button{color:#b86614;position:absolute;top:24px;margin-top:-12px;height:24px;right:12px;background-color:transparent;border:0 none}.survey-editor{transition:all .3s}.survey-editor__null-top-row{position:relative}.survey-editor__null-top-row.expanded .survey-editor__message{display:none}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey-editor__message{display:none}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey__row__spacer{opacity:0}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey__row__spacer:hover{opacity:1}.survey-editor__message{text-align:center;color:#565e76}.pull-left{float:left}.pull-right{float:right}.ir{background-color:transparent;border:0;overflow:hidden;*text-indent:-9999px}.ir:before{content:"";display:block;width:0;height:150%}.hidden{display:none !important;visibility:hidden}.visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.visuallyhidden.focusable:active,.visuallyhidden.focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.invisible{visibility:hidden}.clearfix:before,.lib-list__tags:before,.clearfix:after,.lib-list__tags:after{content:" ";display:table}.clearfix:after,.lib-list__tags:after{clear:both}.clearfix,.lib-list__tags{*zoom:1}.row-extras__cog-faded{cursor:pointer}.kpiapp,.mdl-wrapper,.mdl-layout{height:100%}.mdl-layout{max-width:1440px;margin:0 auto;overflow:hidden}.mdl-layout__content{height:calc(100% - 64px);position:relative;flex-grow:0;overflow:hidden}.mdl-layout__content>.dropzone,.mdl-layout__content .public-collections-wrapper{height:100%;overflow:hidden}.ui-panel{height:100%;margin:0px 8px}.ui-panel.ui-panel--fixed{position:fixed;top:0;left:0;bottom:0;right:0}.ui-panel__body{padding:0;height:100%;flex-direction:column}.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{flex-flow:column;margin:0px !important}.ui-panel__body>.asset-view__content{height:100%}.ui-panel__body>.form-builder{height:100%}.ui-panel--transparent .ui-panel__body{background:transparent;box-shadow:none;margin:0px}.mdl-layout.page-wrapper--in-formbuilder .mdl-layout__content{margin:0px;width:100%;height:100%}.mdl-layout.page-wrapper--in-formbuilder .ui-panel{margin:0px}.text-small{font-size:.85em;opacity:.75}.popover-menu{position:relative;display:inline-block;vertical-align:middle}.popover-menu__toggle{background:transparent;border:none;margin:0;padding:0;cursor:pointer;color:#565e76;display:inline-block;vertical-align:middle}.popover-menu__toggle:hover{color:#259af4}.popover-menu__toggle i{margin:3px;font-size:26px}.popover-menu__content{box-shadow:0 0 8px 0 rgba(51,56,71,.06),0 8px 8px 0 rgba(51,56,71,.12);border-radius:2px;overflow:hidden;position:absolute;min-width:160px;max-width:300px;text-align:left;background:#fff;z-index:10;right:-10px;transition:opacity .35s;opacity:1}.popover-menu__content--hiding{opacity:0;transition:opacity .35s}.popover-menu__content--hidden{display:none}.popover-menu__content--visible{display:block}.popover-menu--below .popover-menu__content{top:100%}.popover-menu--right .popover-menu__content{right:auto;left:-10px}.popover-menu--above .popover-menu__content,.popover-menu--viewby-menu .popover-menu__content{bottom:100%;top:auto}.popover-menu__link,.popover-menu__item{background-color:#fff;display:block;padding:6px 12px 6px 6px;position:relative;color:#565e76;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.popover-menu__link>i:first-child,.popover-menu__item>i:first-child{margin-right:5px;font-size:28px;width:28px;vertical-align:middle}.popover-menu__link span,.popover-menu__item span{vertical-align:middle}.popover-menu__link:hover,.popover-menu__item:hover{background-color:#f3f4f6;color:#333847}.popover-menu__link.active,.popover-menu__item.active{color:#259af4}.popover-menu__link.divider,.popover-menu__item.divider{border-top:1px solid #e7e9ee}@media screen and (max-height: 475px){.popover-menu__link i.k-icon:first-child,.popover-menu__link .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i:first-child,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .popover-menu__link i:first-child,.popover-menu__link .form-builder-header__button.form-builder-header__button--savepending>i:first-child,.popover-menu__link .form-builder-header__button.form-builder-header__button--create-pending>i:first-child,.popover-menu__link .alertify-notifier .ajs-message i.ajs-close:first-child,.alertify-notifier .ajs-message .popover-menu__link i.ajs-close:first-child,.popover-menu__link i.react-tagsinput-remove:first-child,.popover-menu__item i.k-icon:first-child,.popover-menu__item .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i:first-child,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .popover-menu__item i:first-child,.popover-menu__item .form-builder-header__button.form-builder-header__button--savepending>i:first-child,.popover-menu__item .form-builder-header__button.form-builder-header__button--create-pending>i:first-child,.popover-menu__item .alertify-notifier .ajs-message i.ajs-close:first-child,.alertify-notifier .ajs-message .popover-menu__item i.ajs-close:first-child,.popover-menu__item i.react-tagsinput-remove:first-child{font-size:22px}}.popover-menu__moveTo{max-height:120px;overflow:auto;overflow-x:hidden;background-color:#f3f4f6;border-bottom:1px solid #e7e9ee}.popover-menu__item--move-coll-item{background-color:#f3f4f6;position:relative;text-align:left;padding:3px 8px 3px 5px}.popover-menu__item--move-coll-item span{display:inline-block;max-width:150px;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word}.popover-menu__item--move-coll-item.popover-menu__item--move-coll-item-parent{pointer-events:none;font-weight:700;color:#333847}.popover-menu__heading{padding:8px 15px;color:#565e76;border-top:1px solid #e7e9ee;background-color:#f3f4f6;margin:0px}.popover-menu--assetrow-menu .popover-menu__content{right:0px}.popover-menu--formLanding-menu{margin-left:4px}.popover-menu--formLanding-menu .popover-menu__content{right:10px}.popover-menu--new-menu{width:100%;margin-bottom:10px}.popover-menu--new-menu .popover-menu__content{right:0px;width:100%}.popover-menu--new-menu .popover-menu__toggle{border-radius:6px;width:100%}.popover-menu--assets-table .popover-menu__content{max-height:195px;overflow:auto}.popover-menu--bulkUpdate-menu .popover-menu__toggle{color:#259af4}.popover-menu--bulkUpdate-menu .popover-menu__toggle:hover{color:#55b0f6}.popover-menu--bulkUpdate-menu .popover-menu__toggle::after{content:"\\25BC";font-size:8px;margin-left:3px;display:inline-block;vertical-align:1px}.popover-menu--bulkUpdate-menu .popover-menu__content{line-height:20px}.popover-menu--custom-reports .popover-menu__toggle{text-transform:uppercase;padding-left:0px}.popover-menu--custom-reports .popover-menu__toggle::after{content:"\\25BC";font-size:10px;margin-left:5px;display:inline-block;vertical-align:1px}.popover-menu--custom-reports .popover-menu__content{max-height:500px;min-width:300px;overflow:scroll;right:auto;left:20px}.popover-menu--custom-reports .popover-menu__link{white-space:normal}.popover-menu--collectData-menu .popover-menu__toggle{padding:8px 12px;padding-right:90px;color:#565e76;background:#f3f4f6;position:relative;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px}.popover-menu--collectData-menu .popover-menu__toggle:hover{color:#333847}.popover-menu--collectData-menu .popover-menu__toggle::after{position:absolute;right:10px;top:9px;content:"\\25BC";font-size:10px}.popover-menu--collectData-menu .popover-menu__content{min-width:550px;max-width:780px;top:auto;bottom:-150px;right:auto;left:30px;max-height:400px;overflow:auto}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link{max-width:100%;white-space:normal;padding:12px;border-bottom:1px solid #e7e9ee;border-left:2px solid transparent}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link:last-child{border-bottom:none}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link .collect-data-label{font-weight:600;color:#333847}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link .collect-data-desc{font-size:12px;line-height:16px}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link:hover{border-left:2px solid #22b0c3}@media screen and (max-width: 767px){.popover-menu--collectData-menu .popover-menu__toggle{padding-right:40px}.popover-menu--collectData-menu .popover-menu__content{min-width:320px;max-width:360px;left:0px}.popover-menu--collectData-menu .popover-menu__content .collect-data-desc{font-size:inherit}}iframe{border:none}.form-modal__item:not(:last-child){margin-bottom:15px}.form-modal__item.form-modal__item--inline{display:inline-block}.form-modal__item.form-modal__item--inline:not(:last-child){margin-bottom:0;margin-right:20px}.form-modal__item--sector,.form-modal__item--country{width:50%;float:left}.form-modal__item--sector .kobo-select{margin-right:30px}.form-modal__item--metadata-share{padding-top:15px;clear:both}.form-modal__item label{font-weight:normal;font-size:12px;color:#565e76}.form-modal__item label.long{padding-top:5px;margin-bottom:10px;font-size:14px}.form-modal__item label:not(.inline){display:block}.form-modal__item label.next-to-checkbox{display:inline-block !important;margin-left:10px;max-width:90%;vertical-align:top}.form-modal__item input[type=text],.form-modal__item input[type=email],.form-modal__item input[type=password],.form-modal__item input[type=url],.form-modal__item select,.form-modal__item textarea{width:100%;padding:4px 10px;font-size:15px;border:1px solid transparent;border-bottom-color:#e7e9ee;transition:border-color .3s}.form-modal__item input[type=text]:focus,.form-modal__item input[type=email]:focus,.form-modal__item input[type=password]:focus,.form-modal__item input[type=url]:focus,.form-modal__item select:focus,.form-modal__item textarea:focus{transition:border-color .3s;border-bottom-color:#259af4}.form-modal__item textarea{overflow:hidden;resize:none;height:auto}.form-modal__item textarea.questions{height:60px;overflow:auto;font-size:13px}@media screen and (max-width: 767px){.form-modal__item select{max-width:90%;background:#979fb4}}.ajs-content input[type=text],.ajs-content textarea{width:100%;padding:6px 0px;font-size:15px;border:1px solid transparent;border-bottom-color:#e7e9ee;transition:border-color .3s}.ajs-content input[type=text]:focus,.ajs-content textarea:focus{transition:border-color .3s;border-bottom-color:#259af4}span.svg-icon svg{max-width:100%;max-height:100%}@-webkit-keyframes spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.k-spin,.form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--create-pending>i{transform-origin:center;-webkit-animation:spinner 1.2s infinite ease-in-out;animation:spinner 1.2s infinite ease-in-out}::-webkit-scrollbar{width:.8em}::-webkit-scrollbar:horizontal{height:.8em}::-webkit-scrollbar-track{background-color:#979fb4;background-color:transparent;border-radius:6px}::-webkit-scrollbar-thumb{background-color:#979fb4;outline:none;border-radius:6px}.dropzone-active-overlay{display:none;position:absolute;width:100%;height:120px;top:50%;margin-top:-60px;left:0;z-index:2;text-align:center;font-size:18px}.dropzone-active-overlay i{font-size:46px;display:block;margin:0 auto;margin-bottom:10px;color:#259af4}.dropzone{position:relative;min-height:calc(100% - 4px)}.dropzone::after{position:absolute;top:0;right:0;bottom:0;left:0;content:"";background:rgba(255,255,255,.7);border:2px solid #259af4;z-index:1;opacity:0;visibility:hidden;transition:.2s}.dropzone.dropzone--active::after{opacity:1;visibility:visible;transition:.2s}.dropzone.dropzone--active .dropzone-active-overlay{display:block}.kobo-button,.alertify .ajs-footer button{display:inline-block;vertical-align:middle;position:relative;cursor:pointer;font-size:14px;font-weight:600;text-transform:uppercase;text-decoration:none;text-align:center;border-radius:6px;color:#fff;background-color:#565e76;box-shadow:0 2px 4px 0 rgba(0,0,0,.25);height:auto;min-height:40px;line-height:30px;padding:5px 30px;margin:0;border:none}.kobo-button[disabled],.alertify .ajs-footer button[disabled]{pointer-events:none;color:rgba(255,255,255,.75);background-image:url("data:image/png;base64,  iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkkAQAAB8AG7jymN8AAAAASUVORK5CYII=")}.kobo-button:hover,.alertify .ajs-footer button:hover{background-image:url("data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk4AcAABUAET9MVpIAAAAASUVORK5CYII=")}.kobo-button:active,.alertify .ajs-footer button:active{transform:translateY(1px);box-shadow:0 1px 3px 0 rgba(0,0,0,.25)}.kobo-button i,.alertify .ajs-footer button i,.kobo-button .k-icon,.kobo-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button i,.kobo-button .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-button .form-builder-header__button.form-builder-header__button--create-pending>i,.alertify .ajs-footer button .k-icon,.alertify .ajs-footer button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button i,.kobo-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-button .ajs-close,.alertify .ajs-footer button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button .ajs-close,.kobo-button .react-tagsinput-remove,.alertify .ajs-footer button .react-tagsinput-remove{vertical-align:top;font-size:21px}.kobo-button.kobo-button--small,.alertify .ajs-footer button.kobo-button--small{font-size:13px;line-height:20px;min-height:30px;padding:5px 15px}.kobo-button.kobo-button--small i,.alertify .ajs-footer button.kobo-button--small i,.kobo-button.kobo-button--small .k-icon,.kobo-button.kobo-button--small .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--small i,.alertify .ajs-footer button.kobo-button--small .k-icon,.kobo-button.kobo-button--small .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--small .ajs-close,.alertify .ajs-footer button.kobo-button--small .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--small .ajs-close,.kobo-button.kobo-button--small .react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--small .react-tagsinput-remove{font-size:14px}.kobo-button.kobo-button--small.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-button.kobo-button--small.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--small.kobo-button--pending i.k-icon-spinner.k-spin,.kobo-button.kobo-button--small.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-button.kobo-button--small.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button.kobo-button--small.kobo-button--pending i.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--small.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--small.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--small.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{top:calc(50% - 11px);left:calc(50% - 6px)}.kobo-button.kobo-button--fullwidth,.alertify .ajs-footer button.kobo-button--fullwidth{display:block;width:100%}.kobo-button.kobo-button--blue,.alertify .ajs-footer button.kobo-button--blue,.alertify .ajs-footer button.ajs-ok{background-color:#259af4}.kobo-button.kobo-button--teal,.alertify .ajs-footer button.kobo-button--teal{background-color:#22b0c3}.kobo-button.kobo-button--green,.alertify .ajs-footer button.kobo-button--green{background-color:#28bd70}.kobo-button.kobo-button--orange,.alertify .ajs-footer button.kobo-button--orange{background-color:#e6801a}.kobo-button.kobo-button--red,.alertify .ajs-footer button.kobo-button--red,.alertify .ajs-footer button.ajs-cancel{background-color:#e84a5f}.kobo-button.kobo-button--whitegray,.alertify .ajs-footer button.kobo-button--whitegray{color:#333847;background-color:#f3f4f6}.kobo-button.kobo-button--whitegray[disabled],.alertify .ajs-footer button.kobo-button--whitegray[disabled]{color:rgba(51,56,71,.75)}.kobo-button.kobo-button--whitegray.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-button.kobo-button--whitegray.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--whitegray.kobo-button--pending i.k-icon-spinner.k-spin,.kobo-button.kobo-button--whitegray.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-button.kobo-button--whitegray.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending i.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--whitegray.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--whitegray.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#333847}.kobo-button.kobo-button--pending,.alertify .ajs-footer button.kobo-button--pending{color:transparent;position:relative}.kobo-button.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-button.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--pending i.k-icon-spinner.k-spin,.kobo-button.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-button.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.alertify .ajs-footer button.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button.kobo-button--pending i.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.alertify .ajs-footer button.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-button.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-button.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.alertify .ajs-footer button.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff;display:block;position:absolute;top:calc(50% - 15px);left:calc(50% - 8px)}.kobo-light-button,.kobo-light-badge{display:inline-block;vertical-align:middle;position:relative;font-size:14px;font-weight:400;text-decoration:none;text-align:center;border-radius:4px;height:24px;line-height:14px;padding:4px 12px;margin:0;border-width:1px;border-style:solid;white-space:nowrap}.kobo-light-button i,.kobo-light-button .k-icon,.kobo-light-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button i,.kobo-light-button .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-button .ajs-close,.kobo-light-button .react-tagsinput-remove,.kobo-light-badge i,.kobo-light-badge .k-icon,.kobo-light-badge .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-badge i,.kobo-light-badge .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-badge .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-badge .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-badge .ajs-close,.kobo-light-badge .react-tagsinput-remove{vertical-align:top;font-size:18px;position:relative;top:-2px;margin-right:3px}.kobo-light-button.kobo-light-button--icon-only,.kobo-light-button.kobo-light-badge--icon-only,.kobo-light-badge.kobo-light-button--icon-only,.kobo-light-badge.kobo-light-badge--icon-only{padding-left:4px;padding-right:4px}.kobo-light-button.kobo-light-button--icon-only i,.kobo-light-button.kobo-light-button--icon-only .k-icon,.kobo-light-button.kobo-light-button--icon-only .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--icon-only i,.kobo-light-button.kobo-light-button--icon-only .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--icon-only .ajs-close,.kobo-light-button.kobo-light-button--icon-only .react-tagsinput-remove,.kobo-light-button.kobo-light-badge--icon-only i,.kobo-light-button.kobo-light-badge--icon-only .k-icon,.kobo-light-button.kobo-light-badge--icon-only .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-badge--icon-only i,.kobo-light-button.kobo-light-badge--icon-only .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-badge--icon-only .ajs-close,.kobo-light-button.kobo-light-badge--icon-only .react-tagsinput-remove,.kobo-light-badge.kobo-light-button--icon-only i,.kobo-light-badge.kobo-light-button--icon-only .k-icon,.kobo-light-badge.kobo-light-button--icon-only .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-badge.kobo-light-button--icon-only i,.kobo-light-badge.kobo-light-button--icon-only .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-badge.kobo-light-button--icon-only .ajs-close,.kobo-light-badge.kobo-light-button--icon-only .react-tagsinput-remove,.kobo-light-badge.kobo-light-badge--icon-only i,.kobo-light-badge.kobo-light-badge--icon-only .k-icon,.kobo-light-badge.kobo-light-badge--icon-only .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-badge.kobo-light-badge--icon-only i,.kobo-light-badge.kobo-light-badge--icon-only .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-badge.kobo-light-badge--icon-only .ajs-close,.kobo-light-badge.kobo-light-badge--icon-only .react-tagsinput-remove{margin-right:0}.kobo-light-button.kobo-light-button--full-width,.kobo-light-badge.kobo-light-button--full-width{width:100%;text-align:center}.kobo-light-badge{color:#333847;background-color:#e7e9ee;border-color:#e7e9ee;white-space:nowrap;padding-left:8px;padding-right:8px}.kobo-light-button{cursor:pointer;color:#565e76;background-color:transparent;border-color:currentColor}.kobo-light-button[disabled]{pointer-events:none;opacity:.5}.kobo-light-button:hover,.kobo-light-button.kobo-light-button--pending{color:#fff;background-color:#565e76;border-color:#565e76}.kobo-light-button:active{transform:translateY(1px)}.kobo-light-button.kobo-light-button--blue{color:#259af4;border-color:#259af4}.kobo-light-button.kobo-light-button--blue:hover,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending{color:#fff;background-color:#259af4;border-color:#259af4}.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--blue.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--teal{color:#22b0c3;border-color:#22b0c3}.kobo-light-button.kobo-light-button--teal:hover,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending{color:#fff;background-color:#22b0c3;border-color:#22b0c3}.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--teal.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--green{color:#28bd70;border-color:#28bd70}.kobo-light-button.kobo-light-button--green:hover,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending{color:#fff;background-color:#28bd70;border-color:#28bd70}.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--green.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--green.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--orange{color:#e6801a;border-color:#e6801a}.kobo-light-button.kobo-light-button--orange:hover,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending{color:#fff;background-color:#e6801a;border-color:#e6801a}.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--orange.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--red{color:#e84a5f;border-color:#e84a5f}.kobo-light-button.kobo-light-button--red:hover,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending{color:#fff;background-color:#e84a5f;border-color:#e84a5f}.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--red.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--red.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--gray{color:#979fb4;border-color:#979fb4}.kobo-light-button.kobo-light-button--gray:hover,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending{color:#fff;background-color:#979fb4;border-color:#979fb4}.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--gray.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--pending{color:transparent !important;position:relative;pointer-events:none}.kobo-light-button.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff;display:block;position:absolute;top:calc(50% - 9px);left:calc(50% - 9px)}.kobo-text-button{display:inline-block;vertical-align:middle;position:relative;font-size:14px;font-weight:400;text-decoration:none;border:0;padding:0;margin:0;cursor:pointer;color:#565e76;background:transparent;text-transform:uppercase}.kobo-text-button[disabled]{pointer-events:none;opacity:.75}.kobo-text-button:hover{opacity:.9}.kobo-text-button:active{transform:translateY(1px)}.kobo-text-button.kobo-text-button--blue{color:#259af4}.kobo-text-button.kobo-text-button--teal{color:#22b0c3}.kobo-text-button.kobo-text-button--green{color:#28bd70}.kobo-text-button.kobo-text-button--orange{color:#e6801a}.kobo-text-button.kobo-text-button--red{color:#e84a5f}@media screen and (min-width: 768px){[data-tip]{position:relative}[data-tip]::before,[data-tip]::after{pointer-events:none;position:absolute;opacity:0;visibility:hidden;transition-duration:.2s;transition-property:visibility,opacity;z-index:2}[data-tip]::after{content:attr(data-tip);font-size:13px;line-height:1.35em;color:#fff;background-color:#565e76;padding:6px 12px;top:96%;left:50%;transform:translate(-50%, 0);white-space:nowrap;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px}[data-tip]::before{content:"";border-bottom:5px solid #565e76;border-left:5px solid transparent;border-right:5px solid transparent;top:calc(96% - 5px);width:0;height:0;left:50%;transform:translate(-50%, 0)}[data-tip]:hover::after,[data-tip]:hover::before{opacity:1;visibility:visible}.k-drawer [data-tip]::after{left:95%;top:50%;transform:translate(0, -50%)}.k-drawer [data-tip]::before{left:calc(95% - 5px);top:50%;transform:translate(0, -50%);border-right:5px solid #565e76;border-bottom:5px solid transparent;border-top:5px solid transparent;border-left:none}.right-tooltip [data-tip]::after,.right-tooltip[data-tip]::after{left:auto;right:calc(50% - 10px);transform:translate(0)}.left-tooltip [data-tip]::after,.left-tooltip[data-tip]::after{left:calc(50% - 10px);right:auto;transform:translate(0)}.asset-row .popover-menu [data-tip]::after{left:-60%}.mdl-layout__header [data-tip]::after{left:50px}.mdl-layout__header [data-tip]::before{left:50px}}@media screen and (max-width: 767px){.k-tooltip{display:none}}@media screen and (min-width: 768px){.k-tooltip__parent{position:relative}.k-tooltip__parent .k-tooltip{pointer-events:none;position:absolute;font-size:13px;font-weight:normal;line-height:1.35em;color:#fff;background-color:#565e76;padding:6px 12px;top:calc(100% + 6px);left:50%;transform:translate(-50%, 0);z-index:2;opacity:0;visibility:hidden;transition:opacity .3s;white-space:nowrap;text-align:center;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px}.k-tooltip__parent .k-tooltip strong{margin-bottom:5px;font-weight:bold}.k-tooltip__parent .k-tooltip p{margin:0}.k-tooltip__parent .k-tooltip::before{border-bottom:5px solid #565e76;border-left:5px solid transparent;border-right:5px solid transparent;position:absolute;top:-5px;content:"";width:0;height:0;left:50%;transform:translate(-50%, 0);z-index:2}.k-tooltip__parent:hover>.k-tooltip{opacity:1;visibility:visible}}.header-stretch-bg{position:absolute;width:100%;background-color:#333847;min-height:64px;z-index:0}.mdl-layout__header{background-color:#333847;min-height:64px;margin-left:0px;width:100%;z-index:auto}.mdl-layout__header .mdl-layout__header-row{height:64px;padding:0px 20px}.mdl-layout__header .mdl-placeholder{margin-left:auto}.mdl-layout__header .mdl-layout-title{width:244px}.mdl-layout__header .header__logo{width:175px;height:40px;background:url('+r(o(881))+") no-repeat left bottom;background-size:contain;display:block}.mdl-layout__header .login-box{text-align:right}.mdl-layout__header .mdl-layout-title+.login-box{flex:1}.mdl-layout__header .account-box{margin-left:auto;position:relative;max-width:115px}.mdl-layout__header .account-box__name{display:inline-block;vertical-align:middle;color:#fff;cursor:pointer;background-color:transparent;border:none;max-width:100%}.mdl-layout__header .mdl-layout__header-searchers{flex-grow:1}.mdl-layout__header .header__link{color:#fff;cursor:pointer}.mdl-layout__header .header__link:hover{opacity:.8}.mdl-layout__header .search{vertical-align:middle;margin:0px 6px;display:inline-block;width:60%;position:relative}.mdl-layout__header .search ::-webkit-input-placeholder{color:#fff}.mdl-layout__header .search :-ms-input-placeholder{color:#fff}.mdl-layout__header .search .search-input{color:#fff;border:none;border-radius:0px;padding:10px 12px;padding-left:42px;background-color:rgba(255,255,255,.1);font-size:16px;position:relative;width:99%}.mdl-layout__header .search .search__icon,.mdl-layout__header .search .search__cancel{position:absolute;top:9px;color:#fff;font-size:24px}.mdl-layout__header .search .search__icon{left:12px}.mdl-layout__header .search .search__cancel{cursor:pointer;right:12px}.popover-menu--account-menu .popover-menu__content{min-width:240px;z-index:1101}.account-box__menu{min-width:270px;max-height:80vh;overflow-y:auto}.account-box__menu .account-box__menu-item--avatar{display:inline-block;margin-right:15px;vertical-align:top}.account-box__menu .account-box__menu-item--mini-profile{color:#565e76;display:inline-block;width:calc(100% - 70px);line-height:20px;margin-top:5px;margin-bottom:12px}.account-box__menu .account-box__menu-item--mini-profile span{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%}.account-box__menu .account-box__menu-item--mini-profile .account-username{font-size:18px}.account-box__menu .account-box__menu-item--settings{text-align:right}.account-box__menu .account-box__menu-li{padding:15px;padding-bottom:15px}.account-box__menu .account-box__menu-li a{color:#565e76;cursor:pointer;font-weight:normal;display:block}.account-box__menu .account-box__menu-li a i{font-size:24px;margin:3px;vertical-align:-6px}.account-box__menu .account-box__menu-li a span{vertical-align:middle}.account-box__menu .account-box__menu-li a:hover{color:#259af4}.account-box__menu .account-box__menu-li.environment-links{text-align:right}.account-box__menu .account-box__menu-li.environment-links a{display:inline-block;margin-left:15px;font-size:12px}.account-box__menu .account-box__menu-li--lang{position:relative;border-top:1px solid #e7e9ee;padding-bottom:5px}.account-box__menu .account-box__menu-li--lang ul{background-color:#fff;color:#565e76;min-width:140px;padding:0;border:1px solid #e7e9ee}.account-box__menu .account-box__menu-li--lang ul li{text-transform:capitalize;padding:0}.account-box__menu .account-box__menu-li--lang ul li:not(:last-child){border-bottom:1px solid #e7e9ee}.account-box__menu .account-box__menu-li--lang ul li a{padding:10px 15px}.account-box__menu .account-box__menu-li--logout{padding-top:5px}.mdl-layout__header .mdl-button--icon,.mdl-layout__header .form-view__icon-button,.mdl-layout__header .form-builder-header__close{display:none}@media screen and (max-width: 999px){.mdl-layout__header .mdl-button--icon,.mdl-layout__header .form-view__icon-button,.mdl-layout__header .form-builder-header__close{display:block;margin-right:8px;padding:0px;color:#fff}.mdl-layout__header .mdl-button--icon .k-icon.k-icon-menu,.mdl-layout__header .form-view__icon-button .k-icon.k-icon-menu,.mdl-layout__header .mdl-button--icon .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-menu,.mdl-layout__header .form-view__icon-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-menu,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .mdl-layout__header .mdl-button--icon i.k-icon-menu,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .mdl-layout__header .form-view__icon-button i.k-icon-menu,.mdl-layout__header .mdl-button--icon .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-menu,.mdl-layout__header .form-view__icon-button .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-menu,.mdl-layout__header .mdl-button--icon .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-menu,.mdl-layout__header .form-view__icon-button .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-menu,.mdl-layout__header .form-builder-header__close .k-icon.k-icon-menu,.mdl-layout__header .form-builder-header__close .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-menu,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .mdl-layout__header .form-builder-header__close i.k-icon-menu,.mdl-layout__header .form-builder-header__close .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-menu,.mdl-layout__header .form-builder-header__close .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-menu,.mdl-layout__header .mdl-button--icon .alertify-notifier .ajs-message .k-icon-menu.ajs-close,.mdl-layout__header .form-view__icon-button .alertify-notifier .ajs-message .k-icon-menu.ajs-close,.mdl-layout__header .form-builder-header__close .alertify-notifier .ajs-message .k-icon-menu.ajs-close,.alertify-notifier .ajs-message .mdl-layout__header .mdl-button--icon .k-icon-menu.ajs-close,.alertify-notifier .ajs-message .mdl-layout__header .form-view__icon-button .k-icon-menu.ajs-close,.alertify-notifier .ajs-message .mdl-layout__header .form-builder-header__close .k-icon-menu.ajs-close,.mdl-layout__header .mdl-button--icon .k-icon-menu.react-tagsinput-remove,.mdl-layout__header .form-view__icon-button .k-icon-menu.react-tagsinput-remove,.mdl-layout__header .form-builder-header__close .k-icon-menu.react-tagsinput-remove{font-size:32px;line-height:32px;display:block;margin:3px}.mdl-layout__header .account-box__logo{max-width:85%}.mdl-layout__header .mdl-layout-title{width:160px}.mdl-layout__header .mdl-layout__header-row{padding:0px 12px}.mdl-layout__header .form-title{width:calc(100% - 240px);overflow:hidden;margin-right:10px}}@media screen and (max-width: 767px){.mdl-layout__header .search{display:none}}.main-header .main-header__icon{font-size:38px;color:#979fb4;vertical-align:middle;width:38px}.main-header .main-header__title{vertical-align:middle;margin-right:20px;flex:1;align-items:center;color:#fff;font-size:18px}.main-header .main-header__title.main-header__title--long input{font-size:14px}.main-header .main-header__title input{background:transparent;border-left:none;border-right:none;border-bottom:1px solid transparent;border-top:1px solid transparent;color:#fff;font-size:18px;margin:0;overflow:hidden;padding:3px 6px;text-overflow:ellipsis;white-space:nowrap;width:100%}.main-header .main-header__title input::-webkit-input-placeholder{color:#565e76}.main-header .main-header__title input:-ms-input-placeholder{color:#565e76}.main-header .main-header__title input:hover{border-bottom:1px solid #259af4}.main-header .main-header__title input:focus{background:rgba(255,255,255,.05);border-bottom:1px solid #259af4}.main-header .main-header__counter{font-size:14px;margin-right:20px;color:#979fb4}@media screen and (max-width: 767px){.main-header .main-header__icon,.main-header .main-header__counter{display:none}.mdl-layout__header .mdl-layout-title{width:40px}.mdl-layout__header .main-header__title input{border-radius:0}.mdl-layout__header .header__logo{background:url("+r(o(882))+') no-repeat left center;background-size:125%;width:40px}}.account-box__initials{width:32px;text-align:center;text-transform:uppercase;padding:6px;border-radius:32px;display:inline-block;vertical-align:middle;line-height:20px;font-size:16px;color:#fff}.account-box__menu-item--avatar .account-box__initials{width:48px;padding:10px;border-radius:48px;line-height:28px;font-size:24px}.git-rev{display:none}@media screen and (min-width: 768px){.git-rev{display:block;position:fixed;bottom:0px;left:80px;z-index:100}.git-rev .git-rev__item{color:#fff;opacity:.85;background:#1b8998;margin-top:5px;padding:6px 12px;display:block;font-size:12px}}@media screen and (pointer: coarse){.account-box__menu .account-box__menu-li--lang ul{opacity:1;position:static;border:1px solid #e7e9ee;margin-left:12px;padding:0px;max-height:1000px;box-shadow:none}.account-box__menu .account-box__menu-li--lang ul li{padding:6px 18px}}.k-drawer{height:calc(100% - 64px);top:64px;width:270px;position:absolute;left:0;display:flex;flex-direction:row;border-right:2px solid #e7e9ee}.k-drawer+.mdl-layout__content{margin-left:270px}.k-drawer__primary-icons{display:flex;flex-direction:column;width:58px;height:100%;background-color:#f3f4f6}.k-drawer__link{font-size:26px;margin:6px 0;text-align:center;color:#565e76;padding:0;border-left:3px solid transparent}.k-drawer__link:first-child{margin-top:26px}.k-drawer__link:hover{color:#22b0c3}.k-drawer__link.active{color:#22b0c3;border-left:3px solid #22b0c3}.k-drawer__secondary-icons{left:0;bottom:0;position:absolute;width:58px}.k-drawer__secondary-icons .k-drawer__link{padding:0;margin-bottom:5px;display:block;text-align:center;font-weight:normal;position:relative;color:#565e76}.k-drawer__secondary-icons .k-drawer__link:hover{color:#22b0c3}.k-drawer__secondary-icons .k-drawer__link i{font-size:24px;margin:12px;display:block}.k-drawer__sidebar{width:calc(100% - 58px);height:100%;padding:20px 14px;display:flex;flex-direction:column}.k-drawer__sidebar button.mdl-button,.k-drawer__sidebar button.form-view__icon-button,.k-drawer__sidebar .cascade-popup .cascade-popup__buttonWrapper button,.cascade-popup .cascade-popup__buttonWrapper .k-drawer__sidebar button,.k-drawer__sidebar button.form-builder-header__button,.k-drawer__sidebar button.form-builder-header__close,.k-drawer__sidebar .form-wrap button.error-message__link,.form-wrap .k-drawer__sidebar button.error-message__link,.k-drawer__sidebar .popover-menu--new-menu button.popover-menu__toggle,.popover-menu--new-menu .k-drawer__sidebar button.popover-menu__toggle,.k-drawer__sidebar .popover-menu--custom-reports button.popover-menu__toggle,.popover-menu--custom-reports .k-drawer__sidebar button.popover-menu__toggle{width:100%}@media screen and (max-width: 999px){.k-drawer{position:fixed;z-index:1050;left:-274px;transition:left .5s;background-color:#fff;box-shadow:0 0 8px 0 rgba(51,56,71,.06),0 8px 8px 0 rgba(51,56,71,.12);border-radius:2px}.page-wrapper--fixed-drawer .k-drawer{left:0;width:340px}.k-drawer+.mdl-layout__content{margin-left:0}}.form-sidebar{margin-top:10px;overflow-y:auto;overflow-x:hidden;flex:1;color:#565e76}.form-sidebar.form-sidebar--loading{pointer-events:none;opacity:.5}.form-sidebar.form-sidebar--loading .form-sidebar__label-count{color:transparent}.form-sidebar.form-sidebar--loading .form-sidebar__label.form-sidebar__label--selected{color:inherit}.form-sidebar .form-sidebar__label,.form-sidebar .form-sidebar__item{cursor:pointer}.form-sidebar .form-sidebar__label{display:flex;flex-direction:row;align-items:center;padding:3px 0;position:relative;color:inherit}.form-sidebar .form-sidebar__label:hover{color:#333847}.form-sidebar .form-sidebar__label.form-sidebar__label--selected{color:#333847}.form-sidebar .form-sidebar__label i{font-size:26px;margin:5px 4px 5px 1px;display:inline-block}.form-sidebar .form-sidebar__label .form-sidebar__label-text{flex:1}.form-sidebar .form-sidebar__label .form-sidebar__label-count{padding:0 6px;font-size:12px;line-height:20px;min-width:20px;border-radius:20px;background-color:#e7e9ee;text-align:center;margin-right:4px}.form-sidebar .form-sidebar__grouping{margin-bottom:10px}.form-sidebar .form-sidebar__grouping.form-sidebar__grouping--collapsed{margin:0;height:0;overflow:hidden}.form-sidebar .form-sidebar__item{display:flex;flex-direction:row;align-items:flex-start;line-height:15px;color:#565e76;font-weight:normal;font-size:12px;padding:5px}.form-sidebar .form-sidebar__item:hover{color:#333847}.form-sidebar .form-sidebar__item.form-sidebar__item--active{background:#ededee}.form-builder{background-color:#fff}.form-builder__contents{height:calc(100% - 125px);overflow-x:auto;overflow-y:scroll;margin-right:0;transition:margin 200ms;padding:20px 40px;width:auto}.form-builder__contents .form-builder-message-box{max-width:1024px;margin-left:auto;margin-right:auto}@media screen and (min-width: 1100px){.form-builder-aside--visible+.form-builder .form-builder__contents,.lib-nav--visible+.form-builder .form-builder__contents{margin-right:400px}}.form-wrap{width:100%;max-width:1024px;margin:0 auto}.form-wrap input,.form-wrap textarea{box-shadow:none}.form-wrap input:focus,.form-wrap textarea:focus{box-shadow:none}.form-wrap .loading{min-height:200px}.form-wrap .error-message{width:540px;margin:24px auto;padding:12px 20px}.form-wrap .error-message p{font-family:"Roboto Mono",monospace;white-space:pre}.form-wrap .error-message__strong{border:1px solid #000;padding-right:12px}.form-wrap .error-message__link{margin-right:5px}.form-wrap .error-message__link--help{float:right}.form-builder-header{height:125px;position:relative;z-index:20}.form-builder-header .form-builder-header__row{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center}.form-builder-header .form-builder-header__row.form-builder-header__row--primary{background-color:#fff;height:75px;position:relative;z-index:2;box-shadow:0 0 3px 0 rgba(51,56,71,.2),0 0 10px 0 rgba(51,56,71,.1)}.form-builder-header .form-builder-header__row.form-builder-header__row--secondary{background:#f3f4f6;height:50px;position:relative;z-index:1;box-shadow:0 0 3px 0 rgba(51,56,71,.2),0 0 10px 0 rgba(51,56,71,.1)}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo{background-color:#22b0c3;width:75px;text-align:center;vertical-align:middle;height:75px;cursor:pointer;transition:.2s}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:hover{background-color:#1b8998}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus{background-color:#1b8998}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .k-icon,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .form-builder-header__button.form-builder-header__button--create-pending>i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .ajs-close,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .react-tagsinput-remove{font-size:40px;top:calc(50% - 19px);left:calc(50% - 19px)}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .k-icon,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .form-builder-header__button.form-builder-header__button--create-pending>i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .ajs-close,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .react-tagsinput-remove{color:#fff;font-size:36px;position:absolute;top:calc(50% - 17px);left:calc(50% - 17px)}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .k-icon::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo i::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .form-builder-header__button.form-builder-header__button--savepending>i::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .form-builder-header__button.form-builder-header__button--create-pending>i::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .alertify-notifier .ajs-message .ajs-close::before,.alertify-notifier .ajs-message .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .ajs-close::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .react-tagsinput-remove::before{margin-right:0}.form-builder-header .form-builder-header__cell.form-builder-header__cell--name{flex:1;margin-left:20px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--name label::first-letter{text-transform:uppercase}.form-builder-header .form-builder-header__cell.form-builder-header__cell--name input{border-radius:0;padding-left:0;font-size:16px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--translations p{margin:0 0 0 10px;line-height:15px;padding-top:10px;font-size:11px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--translations p small{display:block;color:#565e76}.form-builder-header .form-builder-header__cell.form-builder-header__cell--translations p small::before{content:"+ "}.form-builder-header .form-builder-header__cell.form-builder-header__cell--buttonsTopRight{text-align:right;margin:0 10px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--buttonsTopRight button{margin-left:10px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--close{width:45px;text-align:right;padding:5px;margin-left:5px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons{margin:0 10px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button{color:#565e76;overflow:visible;padding:0}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button[data-tip]::after{margin-left:30px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button:hover,.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button:focus,.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button:focus:not(:active){background-color:transparent}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button:hover{color:#333847}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button i{font-size:24px;margin:3px;vertical-align:middle}.form-builder-header .form-builder-header__cell.form-builder-header__cell--spacer{flex-grow:1;height:100%}.form-builder-header .form-builder-header__cell.form-builder-header__cell--verticalRule{width:1px;background:#e7e9ee;height:100%}.form-builder-header__close{border:none;color:#565e76;cursor:pointer}.form-builder-header__close:hover{color:#333847}.form-builder-header__close:focus i{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.form-builder-header__button:focus i{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.form-builder-header__button.form-builder-header__button--create,.form-builder-header__button.form-builder-header__button--save{margin-left:10px;text-transform:uppercase;min-width:85px}.form-builder-header__button.form-builder-header__button--create>i,.form-builder-header__button.form-builder-header__button--save>i{display:none}.form-builder-header__button.form-builder-header__button--create:focus,.form-builder-header__button.form-builder-header__button--save:focus{background-color:#0b81da;font-weight:bold}.form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--create-pending>i{font-size:24px;display:inline-block;vertical-align:middle;margin-right:3px;margin-left:-2px}.form-builder-header__button.form-builder-header__button--savepending>i+span,.form-builder-header__button.form-builder-header__button--create-pending>i+span{display:none}.form-builder-header__button.form-builder-header__button--savefailed::after,.form-builder-header__button.form-builder-header__button--saveneeded::after{content:"*";color:#fff}.form-builder-header__button.form-builder-header__button--panel-toggle{padding:0 10px}.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active i.k-icon,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active i,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active .alertify-notifier .ajs-message i.ajs-close,.alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active i.ajs-close,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active i.react-tagsinput-remove,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active .form-builder-header__button.form-builder-header__button--create-pending>i{color:#259af4}.form-builder-header__button.form-builder-header__button--panel-toggle .panel-toggle-name{margin-right:10px}.form-builder-header__button.form-builder-header__button--panel-toggle i.k-icon,.form-builder-header__button.form-builder-header__button--panel-toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header__button.form-builder-header__button--panel-toggle i,.form-builder-header__button.form-builder-header__button--panel-toggle .alertify-notifier .ajs-message i.ajs-close,.alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--panel-toggle i.ajs-close,.form-builder-header__button.form-builder-header__button--panel-toggle i.react-tagsinput-remove,.form-builder-header__button.form-builder-header__button--panel-toggle .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--panel-toggle .form-builder-header__button.form-builder-header__button--create-pending>i{font-size:24px;margin-right:3px;vertical-align:middle}.form-builder-header__button.form-builder-header__button--panel-toggle:focus{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.form-builder-header__button.form-builder-header__button--panel-toggle:focus i{outline:none}.form-builder-header__button[disabled]{opacity:.5;pointer-events:none}.form-builder-aside{position:absolute;right:0;bottom:0;top:125px;width:400px;background-color:#f3f4f6;transition:right 200ms;box-shadow:0 0 3px 0 rgba(51,56,71,.2),0 0 10px 0 rgba(51,56,71,.1);z-index:10}.form-builder-aside:not(.form-builder-aside--visible){right:-410px}.form-builder-aside .form-builder-aside__content{padding:30px;overflow-y:auto;height:100%}.form-builder-aside .form-builder-aside__content .form-builder-aside__row:last-child{margin-bottom:30px}.form-builder-aside .form-builder-aside__header{margin:0;font-size:20px;line-height:28px;font-weight:700}.form-builder-aside .form-builder-aside__header .k-icon,.form-builder-aside .form-builder-aside__header .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-aside .form-builder-aside__header i,.form-builder-aside .form-builder-aside__header .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-aside .form-builder-aside__header .ajs-close,.form-builder-aside .form-builder-aside__header .react-tagsinput-remove,.form-builder-aside .form-builder-aside__header .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-aside .form-builder-aside__header .form-builder-header__button.form-builder-header__button--create-pending>i{font-size:20px;margin-left:3px;vertical-align:top}.form-builder-aside .form-builder-aside__header:not(:last-child){margin-bottom:10px}.form-builder-aside .form-builder-aside__row:not(:first-child){margin-top:20px}.form-builder-meta .form-builder-meta__columns{display:flex;flex-direction:row}.form-builder-meta .form-builder-meta__row{margin-top:10px}.form-builder-meta .form-builder-meta__row--background-audio{margin-top:20px}.form-builder-meta .form-builder-meta__row--background-audio .form-builder-aside__header{margin-bottom:0}.form-builder-meta .form-builder-meta__row--background-audio .toggle-switch{margin-top:10px}.form-builder-meta .form-builder-meta__row--background-audio label{font-weight:500}.form-builder-meta .form-builder-meta__column{flex:1;margin-right:10px}.form-builder-meta .form-builder-meta__column .checkbox:not(:last-of-type){margin-bottom:10px}.cascade-popup textarea{margin:15px 0;width:100%;height:220px;border:2px solid #e7e9ee}.cascade-popup .cascade-popup__buttonWrapper{padding-top:10px;text-align:right}.cascade-popup .cascade-popup__buttonWrapper button{min-width:100px}.cascade-popup .cascade-popup__message--warning{color:#e84a5f}.cascade-popup .cascade-popup__message--ready{color:#22b0c3}.cascade-popup .cascade-help{text-align:right}.cascade-popup .cascade-help i{font-size:18px;color:#565e76}.survey-editor .ui-sortable-placeholder{border:2px dashed #259af4;visibility:visible !important;min-height:80px;padding:0}.survey-editor .placeholder{margin:5px 0}.survey-editor .lib-list__item{background:transparent}@media screen and (max-width: 767px){.form-builder-header__cell--logo{display:none}.form-builder-header__cell--buttonsTopRight .form-builder-header__button--save{max-width:120px;text-overflow:ellipsis}.form-builder-header__button--panel-toggle .panel-toggle-name{display:none}}@media screen and (max-width: 767px){.form-builder-header__cell--library-toggle{display:none}}@media screen and (pointer: coarse){.form-builder-header__cell--library-toggle{display:none}}@media screen and (max-width: 480px){.form-builder-header__cell--toolsButtons button{padding:0;border-radius:0}.card--selectquestion__expansion{padding-right:5px;padding-left:25px}.multioptions__option div.editable-wrapper{width:65%}.multioptions__option code{width:33%;margin-left:1%;margin-right:0}.multioptions__option code label{font-size:10px;padding-left:2px;width:24%}.multioptions__option code span{padding-right:2px;width:64%;overflow:hidden}.btn--addrow{left:-40px}.card__settings__content{padding:20px;padding-right:10px}.card__settings__fields__field>label{text-align:left;margin-right:1%}.card__settings__fields__field .settings__input input[type=text]{border:1px solid #e7e9ee}.questiontypelist__item{text-align:center;background:#f3f4f6}.questiontypelist__item i{display:block;margin:0 auto;margin-bottom:5px}}.form-builder-message-box{width:100%;margin:0 auto 20px;background-color:#565e76;color:#fff;padding:10px;display:flex;flex-direction:row;align-items:center;flex-wrap:wrap}.form-builder-message-box i{color:#fff;font-size:28px;margin-right:5px;vertical-align:-11px;display:inline-block}.form-builder-message-box p{margin:0;flex:1;padding:0 5px}.form-builder-message-box span{cursor:default}.form-builder-message-box .form-builder-message-box__toggle{margin:0;padding:0;border:0;background:none;color:#9ed2fa;cursor:pointer}.form-builder-message-box .form-builder-message-box__toggle:active{transform:translateY(1px)}.form-builder-message-box .form-builder-message-box__toggle .k-icon,.form-builder-message-box .form-builder-message-box__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-message-box .form-builder-message-box__toggle i,.form-builder-message-box .form-builder-message-box__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-message-box .form-builder-message-box__toggle .ajs-close,.form-builder-message-box .form-builder-message-box__toggle .react-tagsinput-remove,.form-builder-message-box .form-builder-message-box__toggle .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-message-box .form-builder-message-box__toggle .form-builder-header__button.form-builder-header__button--create-pending>i{color:inherit;font-size:18px;vertical-align:middle}.form-builder-message-box .form-builder-message-box__details{padding:10px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-around}.form-builder-message-box--warning{background-color:#fcf2e8;color:#b86614}.form-builder-message-box--warning a{width:28px;cursor:pointer}.form-builder-message-box--warning i{color:#b86614}.form-builder-message-box--warning p{margin-left:12px;margin-right:12px;font-weight:500}.locking__ui-disabled{pointer-events:none !important;opacity:.5 !important}.locking__ui-hidden{display:none !important}.locking__level-all .card__header,.locking__level-all .question__tags,.locking__level-all .card__settings,.locking__level-all .card--selectquestion__expansion,.locking__level-all .params-view__simple-wrapper{background-color:#f3f4f6}.locking__level-all .question__tags::after,.locking__level-all .card__settings::after,.locking__level-all .card--selectquestion__expansion::after{border-bottom-color:#f3f4f6}.locking__level-all .card__addoptions__layer{background-color:rgba(243,244,246,.5)}.locking__level-1 .card__header-icon{color:#085ea0}.locking__level-2 .card__header-icon{color:#259af4}.locking__level-3-plus .card__header-icon{color:#5cc8d6}.locked-asset-type-label{line-height:20px}.locked-asset-type-label>.k-icon,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-asset-type-label>i,.alertify-notifier .ajs-message .locked-asset-type-label>.ajs-close,.locked-asset-type-label>.react-tagsinput-remove,.form-builder-header__button.form-builder-header__button--savepending.locked-asset-type-label>i,.form-builder-header__button.form-builder-header__button--create-pending.locked-asset-type-label>i{display:inline-block;vertical-align:-3px;font-size:16px}.locked-asset-type-label a{margin-left:4px;display:inline-block;vertical-align:-5px}.locked-asset-type-label a .k-icon,.locked-asset-type-label a .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-asset-type-label a i,.locked-asset-type-label a .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .locked-asset-type-label a .ajs-close,.locked-asset-type-label a .react-tagsinput-remove,.locked-asset-type-label a .form-builder-header__button.form-builder-header__button--savepending>i,.locked-asset-type-label a .form-builder-header__button.form-builder-header__button--create-pending>i{display:block;font-size:20px}.locked-features{display:flex;flex-direction:row;align-content:flex-start;justify-content:space-around;font-weight:normal;padding:15px 15%;width:100%}.locked-features .locked-features__list label{display:block;font-weight:600;margin-bottom:20px}.locked-features .locked-features__list li{margin-top:5px}.locked-features .locked-features__list .k-icon,.locked-features .locked-features__list .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-features .locked-features__list i,.locked-features .locked-features__list .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .locked-features .locked-features__list .ajs-close,.locked-features .locked-features__list .react-tagsinput-remove,.locked-features .locked-features__list .form-builder-header__button.form-builder-header__button--savepending>i,.locked-features .locked-features__list .form-builder-header__button.form-builder-header__button--create-pending>i{display:inline-block;vertical-align:middle;margin-right:5px}.locked-features .locked-features__list.locked-features__list--cans .k-icon,.locked-features .locked-features__list.locked-features__list--cans .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-features .locked-features__list.locked-features__list--cans i,.locked-features .locked-features__list.locked-features__list--cans .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .locked-features .locked-features__list.locked-features__list--cans .ajs-close,.locked-features .locked-features__list.locked-features__list--cans .react-tagsinput-remove,.locked-features .locked-features__list.locked-features__list--cans .form-builder-header__button.form-builder-header__button--savepending>i,.locked-features .locked-features__list.locked-features__list--cans .form-builder-header__button.form-builder-header__button--create-pending>i{color:#28bd70}.locked-features .locked-features__list.locked-features__list--cants .k-icon,.locked-features .locked-features__list.locked-features__list--cants .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-features .locked-features__list.locked-features__list--cants i,.locked-features .locked-features__list.locked-features__list--cants .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .locked-features .locked-features__list.locked-features__list--cants .ajs-close,.locked-features .locked-features__list.locked-features__list--cants .react-tagsinput-remove,.locked-features .locked-features__list.locked-features__list--cants .form-builder-header__button.form-builder-header__button--savepending>i,.locked-features .locked-features__list.locked-features__list--cants .form-builder-header__button.form-builder-header__button--create-pending>i{color:#e84a5f}.asset-list-sorts{padding:0px 12px;white-space:nowrap;border-bottom:1px solid #e7e9ee;overflow:hidden}.asset-list-sorts>.asset-list-sorts__item{opacity:.8;font-weight:500;position:relative;padding:10px 0px;padding-top:19px;margin-top:0px;margin-bottom:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.asset-list-sorts .asset-list-sorts__item--submissions{text-align:right;letter-spacing:-0.03em}.search__summary{background-color:#e7e9ee;height:50px;width:100%;flex-grow:0;text-align:left;padding:15px}.search__summary>div{display:inline}.search__summary div+div{margin-left:5px}.list__heading{display:block;font-size:18px;font-weight:500;padding:9px;line-height:1}.list__heading span,.list__heading i{vertical-align:middle}.list__heading span.parent{font-weight:normal;color:#565e76}.list__heading i{font-size:18px}.list__subheading{margin-top:20px;margin-bottom:10px;font-weight:600}.library{height:100%;overflow:hidden}.library>.dropzone{height:calc(100% - 50px);min-height:calc(100% - 50px)}.library .library__type-filter{position:absolute;top:0;right:0;z-index:1}.library .library__type-filter .kobo-select{display:inline-block;vertical-align:middle;min-width:120px;margin-left:5px}.list--regular{flex-flow:column;margin:0px !important;position:relative;height:100%;width:100%}.list--regular .asset-list{height:calc(100% - 92px);overflow-y:auto;width:100%;padding-bottom:50px}.list--regular .asset-list,.list--regular .asset-list-sorts{background-color:#fff}.list--regular .asset-list-sorts{margin-top:5px}.list--regular .asset-row__cell--date-modified,.list--regular .asset-list-sorts__item--modified{text-align:right}.list--grouped{height:100%;overflow-y:auto;padding:20px}.list--grouped .asset-list{min-height:100%}.list--grouped .asset-items{position:relative;overflow:visible}.list--grouped .asset-items--collapsed{max-height:0px;overflow:hidden}.list--grouped .asset-items+.asset-list__heading{margin-top:20px}.list--grouped .asset-row__cell--submission-count{text-align:right}.asset-list--fixed-headings{padding-top:50px}.asset-list--fixed-headings>.asset-items--1 .asset-list-sorts{display:flex;position:fixed;top:64px;background:#fff;z-index:99;overflow:hidden;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px}@media screen and (max-width: 767px){.asset-list--fixed-headings>.asset-items--1 .asset-list-sorts{width:calc(100% - 22px)}.list--grouped,.list--regular{padding-left:0px;padding-right:0px;width:100%}.list__heading,.list__subheading{padding-left:10px;padding-right:10px}.library .library__type-filter{right:12px}}@media screen and (min-width: 840px){.asset-list-sorts .asset-list-sorts__item--submissions{margin:0px -4px;width:calc(8.33333% + 8px)}}@media screen and (max-width: 839px)and (min-width: 480px){.asset-list-sorts .asset-list-sorts__item--submissions{margin:0px -4px;width:calc(12.5% + 8px)}}.asset-row{list-style-type:none;border-top:1px solid #e7e9ee;padding:6px 12px;transition:max-height .5s ease,opacity .5s ease;min-height:49px;opacity:1;position:relative;align-items:flex-start;color:#565e76}.asset-row:hover{color:#333847;background:#f3f4f6;z-index:1}.asset-row .asset-row__link-overlay{cursor:pointer;position:absolute;top:-6px;left:-12px;width:calc(100% + 24px);height:calc(100% + 12px)}.asset-row>.asset-row__cell{width:100%;display:flex;align-items:flex-start}.asset-row>.asset-row__cell>.asset-row__cell{min-width:0;vertical-align:top}.asset-row>.asset-row__cell>.asset-row__cell.asset-row__cell--type{text-transform:capitalize}.asset-row:last-child{border-top:1px solid #e7e9ee}.asset-row.asset-row--deleting{opacity:.5}.asset-row.asset-row--deleted{transition:max-height .5s ease,opacity .5s ease;opacity:0;max-height:0px;min-height:0px;padding:0px;border:none;overflow:hidden}.asset-row .asset-row__cell--asset-details{position:relative}.asset-row .asset-row__cell--name{font-size:14px}.asset-row .asset-row__description,.asset-row .asset-row__cell--date-created .date,.asset-row .asset-row__cell--date-modified .date{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.asset-row .row-icon{vertical-align:middle;border:1px solid #22b0c3;font-size:13px;color:#22b0c3;width:36px;border-radius:6px;display:inline-block;margin-right:10px;text-align:center;font-style:normal}.asset-row .row-icon.row-icon--block{color:#fff;background:#22b0c3}.asset-row .row-icon.row-icon--template{border-style:dashed}.asset-row .asset-row__cell--title .row-icon{float:left;margin-top:-1px;margin-bottom:-1px}.asset-row .asset-row__description{margin-top:6px;display:block;color:#565e76;font-size:13px}.asset-row .asset-row__cell--tags{white-space:normal;margin-top:0}.asset-row .asset-row__cell--date-created,.asset-row .asset-row__cell--date-modified{font-size:13px}.asset-row .asset-row__cell--submission-count,.asset-row .asset-row__cell--row-count{text-align:right}.asset-row>.asset-row__buttons{position:absolute;top:0;right:0;padding:6px 6px 4px;width:auto;text-align:right;opacity:0;visibility:hidden;transition:.3s opacity;background:#f3f4f6;box-shadow:-5px 0px 15px 0px #f3f4f6;z-index:1}.asset-row .asset-row__action-icon,.asset-row .popover-menu{height:36px;display:inline-block;vertical-align:top}.asset-row .asset-row__action-icon{margin-left:0px;font-weight:400;color:#565e76;cursor:pointer}.asset-row .asset-row__action-icon:hover{background-color:transparent;color:#259af4}.asset-row .asset-row__action-icon i::before{margin:3px;font-size:26px}.asset-row.asset-row--display-tags .asset-row__action-icon--tagsToggle{background-color:transparent;color:#259af4}.asset-row:hover>.asset-row__buttons{opacity:1;visibility:visible;transition:.3s opacity;transition-delay:.1s}@media screen and (max-width: 767px){.asset-row:hover>.asset-row__buttons{width:55%}}.library-asset-list{list-style-type:none;padding:0;margin:0 -10px;margin:0}.library-asset-list__item{border-bottom:1px solid #e7e9ee;padding-left:20px;position:relative}.l-a__item__draggable{position:absolute;top:50%;left:3px;width:12px;height:12px;margin-top:-8px;background-color:#e7e9ee;border-radius:6px}.lib-nav__header{display:flex;flex-wrap:wrap}.lib-nav__header .kobo-select{width:100%}.lib-nav__search{margin:0 0 10px;flex-grow:1}.lib-nav__search .search{margin:0}.lib-nav__search .search .search__icon,.lib-nav__search .search .search__cancel{display:none}.lib-nav__search .search input{font-size:inherit;padding:5px 8px;width:100%;color:inherit;border:1px solid #e7e9ee;border-radius:3px;background:#fff}.lib-nav__search .search input::-moz-placeholder{color:inherit;opacity:.75}.lib-nav__search .search input:-ms-input-placeholder{color:inherit;opacity:.75}.lib-nav__search .search input::placeholder{color:inherit;opacity:.75}.lib-nav__expanded,.lib-nav__header .tag-select,.lib-nav__header .collection-filter{display:flex;justify-content:space-around;align-items:center;width:100%;margin-bottom:10px}.lib-nav__expanded{padding-bottom:10px;margin-bottom:20px;border-bottom:1px solid #e7e9ee}.lib-nav__expanded .lib-nav__expandedToggle{flex:1;text-align:right}.lib-nav__header .tag-select{z-index:100}.lib-nav__header .tag-select,.lib-nav__header .collection-filter{position:relative}.lib-nav__header .tag-select .kobo-select__menu,.lib-nav__header .collection-filter .kobo-select__menu{max-width:390px}.lib-nav__header .collection-filter{z-index:99}.lib-list{list-style-type:none;padding:0}.lib-list--empty .lib-list__item{cursor:default}.lib-list--done .lib-list__item{cursor:grab;cursor:-webkit-grab}.lib-list__item{border:1px solid #e7e9ee;padding-left:20px;position:relative;margin:5px 0;background-color:#fff}.lib-list__item.sortable-active:after{content:"importing..."}.lib-list__item.ui-sortable-helper{cursor:grabbing;cursor:-webkit-grabbing}.lib-list__item.ui-sortable-helper{background-color:#fff}.lib-list__item ol{font-size:smaller;opacity:.7;margin-bottom:6px;line-height:1.3em}.lib-list__tags{line-height:14px;font-size:11px;padding-left:5px}.lib-list__tag{max-width:90%;overflow:hidden}.lib-list__dragbox{position:absolute;top:50%;left:5px;width:12px;height:12px;margin-top:-8px;background-color:#e7e9ee;border-radius:6px}.lib-list__label{padding:5px;line-height:1.4em}.lib-list__label .asset-name{font-weight:600}.lib-list__qtype{padding:0 5px;font-weight:600;opacity:.7;font-size:smaller}.page-wrapper__content--form-landing .form-view{height:calc(100% - 48px)}.form-view{width:100%;height:100%;overflow-y:auto;background:#f3f4f6}.form-view.form-view--fullscreen{position:fixed;z-index:101;top:0;left:0;bottom:0;right:0;width:100%;height:100%;min-width:100%;max-width:100%;min-height:100%;max-height:100%}.form-view__sidetabs{width:170px;height:100%;max-height:calc(100% - 48px);overflow-x:hidden;overflow-y:auto;float:left;background:#fff;border-right:1px solid #e7e9ee}.form-view__sidetabs+.form-view,.form-view__sidetabs+.report-view,.form-view__sidetabs+.loading,.form-view__sidetabs+.access-denied{width:calc(100% - 170px);height:calc(100% - 48px);overflow:auto;overflow-x:hidden}.form-view__sidetabs+.loading{display:flex;justify-content:center;align-items:center;align-content:center}.form-view__sidetabs+.loading .loading__inner code{margin:20px auto}.form-view__sidetabs a.form-view__tab{background:transparent;border:none;padding:6px;border-left:2px solid transparent;font-size:14px;cursor:pointer;position:relative;color:#565e76;font-weight:normal;letter-spacing:-0.01em;display:flex;align-items:center;margin-left:10px}.form-view__sidetabs a.form-view__tab:hover,.form-view__sidetabs a.form-view__tab.active{color:#333847}.form-view__sidetabs a.form-view__tab.active{font-weight:700}.form-view__sidetabs a.form-view__tab.active::before{content:"";position:absolute;width:4px;height:100%;top:0;left:-10px;background-color:#22b0c3}.form-view__sidetabs a.form-view__tab.form-view__tab--disabled{pointer-events:none;opacity:.5}.form-view__sidetabs a.form-view__tab .k-icon,.form-view__sidetabs a.form-view__tab .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__sidetabs a.form-view__tab .ajs-close,.form-view__sidetabs a.form-view__tab .react-tagsinput-remove,.form-view__sidetabs a.form-view__tab .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__sidetabs a.form-view__tab .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__sidetabs a.form-view__tab .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__sidetabs a.form-view__tab i{font-size:26px;vertical-align:-7px;line-height:36px;margin:0 9px 0 5px}.form-view__sidetabs a.form-view__tab span{vertical-align:middle}.form-view__toptabs{background:#fff;border-bottom:1px solid #e7e9ee;text-align:center;height:48px;position:relative;display:flex;flex-direction:row;justify-content:center;align-items:stretch}.form-view__toptabs a.form-view__tab{background:transparent;border:none;border-bottom:2px solid transparent;text-transform:uppercase;line-height:48px;margin:0 30px;font-size:15px;cursor:pointer;position:relative;color:#565e76;font-weight:normal}.form-view__toptabs a.form-view__tab:hover,.form-view__toptabs a.form-view__tab.active{color:#333847}.form-view__toptabs a.form-view__tab.active{font-weight:700;border-bottom:4px solid #22b0c3}.form-view__toptabs a.form-view__tab.form-view__tab--disabled{pointer-events:none;opacity:.5}.form-view__toptabs a.form-view__link--close{position:absolute;right:10px;top:10px;padding:5px;font-size:18px}.form-view__row{margin:40px}.form-view__row+.form-view__row{margin-top:0}.form-view__row.historyHidden{margin:0}.form-view__row.historyHidden .form-view__cell--history-label,.form-view__row.historyHidden .form-view__cell--history-table{max-height:0;overflow:hidden;transition:.2s max-height;padding-bottom:0}.form-view__row.historyExpanded .form-view__cell--history-label,.form-view__row.historyExpanded .form-view__cell--history-table{transition:.2s max-height;max-height:99999px}.form-view__row.historyExpanded .form-view__cell--history-table+.form-view__cell{padding-top:20px}.form-view__row--history .form-view__cell--history-table{margin-bottom:20px}.form-view__cell-label{font-size:12px;opacity:.6}.form-view__cell.form-view__cell--box{background-color:#fff}.form-view__cell.form-view__cell--bordered{border:1px solid #e7e9ee}.form-view__cell.form-view__cell--page-title{font-size:24px;font-weight:700;margin:30px 0 15px}.form-view__cell.form-view__cell--page-subtitle{font-size:18px;font-weight:500;margin:30px 0 15px}.form-view__cell.form-view__cell--columns{display:flex;justify-content:space-between;align-items:center}.form-view__cell.form-view__cell--columns.form-view__cell--columns-right{justify-content:flex-end}.form-view__cell.form-view__cell--columns.form-view__cell--columns-top{align-items:flex-start}.form-view__cell.form-view__cell--columns .form-view__cell--stretch{flex:1}.form-view__cell.form-view__cell--column-1{flex:1}.form-view__cell.form-view__cell--column-2{flex:2}.form-view__cell.form-view__cell--column-icon{width:30px;margin-right:10px;text-align:center;color:#565e76}.form-view__cell.form-view__cell--column-icon .k-icon,.form-view__cell.form-view__cell--column-icon .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--column-icon .ajs-close,.form-view__cell.form-view__cell--column-icon .react-tagsinput-remove,.form-view__cell.form-view__cell--column-icon .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell.form-view__cell--column-icon .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell.form-view__cell--column-icon .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--column-icon i{font-size:24px;display:block}.form-view__cell.form-view__cell--toggle-details button{cursor:pointer;color:#259af4;background:transparent;border:0;padding:5px;text-align:center}.form-view__cell.form-view__cell--toggle-details button:hover{color:#0b81da}.form-view__cell.form-view__cell--toggle-details button:active{transform:translateY(1px)}.form-view__cell.form-view__cell--toggle-details button .k-icon,.form-view__cell.form-view__cell--toggle-details button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--toggle-details button .ajs-close,.form-view__cell.form-view__cell--toggle-details button .react-tagsinput-remove,.form-view__cell.form-view__cell--toggle-details button .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell.form-view__cell--toggle-details button .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell.form-view__cell--toggle-details button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--toggle-details button i{font-size:18px;vertical-align:-5px}.form-view__cell.form-view__cell--asset-content-summary-name{line-height:1}.form-view__cell.form-view__cell--bordertop{border-top:1px solid #e7e9ee}.form-view__cell.form-view__cell--padding{padding:20px}.form-view__cell.form-view__cell--padding-small{padding:10px 20px}.form-view__cell.form-view__cell--label{font-size:14px;color:#333847;font-weight:500}.form-view__cell.form-view__cell--label span{display:block;color:#565e76;font-size:12px}.form-view__cell.form-view__cell--label::first-letter{text-transform:uppercase}.form-view__cell.form-view__cell--first{padding-bottom:20px;position:relative}.form-view__cell.form-view__cell--first .form-view__group{position:absolute;right:0;top:-12px;min-width:200px;text-align:right}.form-view__cell.form-view__cell--buttons{text-align:right}.form-view__cell.form-view__cell--buttons a.mdl-button,.form-view__cell.form-view__cell--buttons a.form-view__icon-button,.form-view__cell.form-view__cell--buttons .popover-menu--new-menu a.popover-menu__toggle,.popover-menu--new-menu .form-view__cell.form-view__cell--buttons a.popover-menu__toggle,.form-view__cell.form-view__cell--buttons .popover-menu--custom-reports a.popover-menu__toggle,.popover-menu--custom-reports .form-view__cell.form-view__cell--buttons a.popover-menu__toggle,.form-view__cell.form-view__cell--buttons .form-wrap a.error-message__link,.form-wrap .form-view__cell.form-view__cell--buttons a.error-message__link,.form-view__cell.form-view__cell--buttons a.form-builder-header__close,.form-view__cell.form-view__cell--buttons a.form-builder-header__button{text-transform:uppercase;padding-left:30px;padding-right:30px}.form-view__cell.form-view__cell--version{font-weight:600;display:inline-block}.form-view__cell.form-view__cell--undeployed{display:inline-block}.form-view__cell.form-view__cell--back-button{margin-right:20px}.form-view__cell.form-view__cell--back-button:first-child .k-icon,.form-view__cell.form-view__cell--back-button:first-child .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--back-button:first-child .ajs-close,.form-view__cell.form-view__cell--back-button:first-child .react-tagsinput-remove,.form-view__cell.form-view__cell--back-button:first-child .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell.form-view__cell--back-button:first-child .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell.form-view__cell--back-button:first-child .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--back-button:first-child i{margin-left:-7px}.form-view__cell.form-view__cell--subscribed-badge{margin-left:20px;margin-right:20px;line-height:32px}.form-view__cell.form-view__cell--subscribed-badge .k-icon,.form-view__cell.form-view__cell--subscribed-badge .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--subscribed-badge .ajs-close,.form-view__cell.form-view__cell--subscribed-badge .react-tagsinput-remove,.form-view__cell.form-view__cell--subscribed-badge .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell.form-view__cell--subscribed-badge .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell.form-view__cell--subscribed-badge .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--subscribed-badge i{font-size:24px;margin:0 3px;vertical-align:top;color:#22b0c3}.form-view__cell.form-view__cell--label+.form-view__cell.form-view__cell--action-buttons{margin:-8px 0}.form-view__cell.form-view__cell--date{font-weight:normal;opacity:.8;display:inline-block}.form-view__cell.form-view__cell--date:not(:first-child){margin-left:6px}.form-view__cell.form-view__cell--translation-list ul{list-style:none;display:inline}.form-view__cell.form-view__cell--translation-list ul li{display:inline}.form-view__cell.form-view__cell--translation-list ul li:not(:last-child)::after{content:", "}.form-view__cell.form-view__cell--thin-label{color:#565e76;opacity:.6;font-size:12px;line-height:18px;margin-bottom:10px}.form-view__cell.form-view__cell--centered{text-align:center}.form-view__cell.form-view__cell--centered button{text-transform:uppercase}.form-view__cell.form-view__cell--deployed{margin-left:10px;display:inline-block;padding:6px;color:#fff;background-color:#28bd70;border-radius:2px}.form-view__cell.form-view__cell--warning{background-color:#fcf2e8;color:#b86614;border:1px solid #e6801a;padding:10px;display:flex;flex-direction:row;align-items:center}.form-view__cell.form-view__cell--warning i{color:#e6801a;font-size:28px;margin-right:5px;vertical-align:-11px;display:inline-block}.form-view__cell.form-view__cell--warning p{margin:0}.form-view__cell.form-view__cell--warning a{color:inherit;font-weight:bold;text-decoration:underline}.form-view__cell.form-view__cell--warning a:hover{text-decoration:none}.form-view__cell.form-view__cell--error{background-color:#f7d4d8;color:#ad1f32;border:1px solid #e84a5f;display:flex;flex-direction:row;align-items:center}.form-view__cell.form-view__cell--error i{color:#e84a5f;font-size:28px;margin-right:5px;margin-left:0px}.form-view__cell.form-view__cell--translation-modal-warning{margin-bottom:20px}.form-view__icon-button{overflow:visible;padding:0;height:32px;line-height:32px;min-height:32px}.form-view__icon-button>i{vertical-align:-0.34375em}.form-view__link{font-size:26px;line-height:18px;padding:0 5px;color:#565e76;cursor:pointer;vertical-align:middle;display:inline-block}.form-view__link:hover{color:#259af4}.form-view__link--disabled,.form-view__link--disabled:hover{color:#979fb4}@-webkit-keyframes recent{0%{background-color:#fff}10%{background-color:#86c7f9}100%{background-color:#e7f4fe}}@keyframes recent{0%{background-color:#fff}10%{background-color:#86c7f9}100%{background-color:#e7f4fe}}.form-view__group .dropzone{display:inline}.form-view__group.form-view__group--items{padding:0;border-top:1px solid #e7e9ee;display:flex;align-items:center}.form-view__group.form-view__group--items:first-child{border-top:none}.form-view__group.form-view__group--items>.form-view__label{text-align:right;width:30%;padding:10px;vertical-align:middle}.form-view__group.form-view__group--items>.form-view__label--version{width:39%;text-align:left}.form-view__group.form-view__group--items .form-view__link{opacity:.8}.form-view__group.form-view__group--items .form-view__link--export-download{opacity:.9;font-size:42px}.form-view__group.form-view__group--items .form-view__link--export-delete{opacity:.9;vertical-align:middle;color:#ed7887;font-size:24px}.form-view__group.form-view__group--items .form-view__link--export-delete:hover{color:#e84a5f;opacity:1}.form-view__group.form-view__group--items.recent{background-color:#e7f4fe;-webkit-animation:recent 5s 1;animation:recent 5s 1}.form-view__group .form-view__group--deployments .form-view__group--items:hover{background:#f3f4f6}.form-view__group .form-view__group--headings{font-weight:600;border-top:none}.form-view__group .form-view__group--headings:hover{background:transparent}.form-view--form-settings,.form-view--settings-sharing{background:#fff;padding:40px}.form-modal__form.form-modal__form--pending{pointer-events:none;opacity:.8}.form-view.form-view--form-settings-sharing .form-modal{background:#fff;padding:40px;height:100%;overflow:auto}.form-view.form-view--form-data-downloads .form-modal__item:last-child{margin-bottom:0}.form-view.form-view--form-data-downloads .form-modal__item--export-type,.form-view.form-view--form-data-downloads .form-modal__item--export-format{width:48%;float:left}.form-view.form-view--form-data-downloads .form-modal__item--export-format{margin-left:2%}.form-view.form-view--form-data-downloads .form-modal__item--export-fields-from-all-versions,.form-view.form-view--form-data-downloads .form-modal__item--export-group-headers,.form-view.form-view--form-data-downloads .form-modal__item--export-submit{clear:both}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label{text-align:left;padding:4px 10px}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--type{width:10%;text-transform:uppercase}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--action{flex-grow:1;text-align:right;line-height:40px}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--lang{flex-shrink:1}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__group--headings{padding:8px 0}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__group--headings .form-view__label--type{text-transform:none}@media screen and (max-width: 980px){.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--date,.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--include-groups,.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--multi-versioned{display:none}}.form-view__cell--iframe{width:100%;height:100%;overflow:hidden}.form-view__cell--iframe iframe{width:100%;height:100%;overflow:auto;padding-right:5px}.form-modal__item--downloads iframe{min-width:100%;min-height:400px}.form-view__cell--collect-header .collect-link-missing{color:#b86614;display:block;line-height:24px}.form-view__cell--collect-header .collect-link-missing .k-icon,.form-view__cell--collect-header .collect-link-missing .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell--collect-header .collect-link-missing .ajs-close,.form-view__cell--collect-header .collect-link-missing .react-tagsinput-remove,.form-view__cell--collect-header .collect-link-missing .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell--collect-header .collect-link-missing .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell--collect-header .collect-link-missing .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell--collect-header .collect-link-missing i{vertical-align:top;font-size:24px}.form-view__cell--collect-meta pre{display:block;margin:10px 0;padding:10px;border:1px solid #e7e9ee;background:#f3f4f6;font-size:13px;white-space:normal}.form-view__cell--collect-meta ol{margin:0;padding:0;margin-left:15px;margin-bottom:25px}.form-view__cell--collect-meta ol li{margin-bottom:5px;padding:5px}.form-view__cell--collect-meta ol .k-icon.k-icon-more-vertical,.form-view__cell--collect-meta ol .alertify-notifier .ajs-message .k-icon-more-vertical.ajs-close,.alertify-notifier .ajs-message .form-view__cell--collect-meta ol .k-icon-more-vertical.ajs-close,.form-view__cell--collect-meta ol .k-icon-more-vertical.react-tagsinput-remove,.form-view__cell--collect-meta ol .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-more-vertical,.form-view__cell--collect-meta ol .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-more-vertical,.form-view__cell--collect-meta ol .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-more-vertical,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell--collect-meta ol i.k-icon-more-vertical{font-size:20px;display:inline-block;vertical-align:top}.form-view__cell--collect-meta code{padding:4px;border:1px solid #e7e9ee;background:#f3f4f6;margin-left:5px;margin-right:5px}.form-view__cell--collect-meta .form-view__cell{margin-top:25px}@media screen and (max-height: 420px){.form-view__sidetabs{padding-top:0}.form-view__sidetabs a.form-view__tab{padding-top:0;padding-bottom:0}}@media screen and (max-width: 767px){.form-view__sidetabs{width:50px}.form-view__sidetabs a.form-view__tab{padding-right:3px;padding-left:1px;font-size:10px;line-height:1.5em;text-align:center;display:block;letter-spacing:-0.05em}.form-view__sidetabs a.form-view__tab span{display:none}.form-view__toptabs{height:39px}.form-view__toptabs a.form-view__tab{font-size:12px}.form-view__sidetabs+.form-view{width:calc(100% - 50px);overflow-x:hidden}.form-view__toptabs+.form-view{height:calc(100% - 39px)}.form-view__row{margin:16px;margin-bottom:24px}.form-view__cell--question-list{margin-left:20px}.form-view--form-settings,.form-view--settings-sharing{padding:20px}.form-view__cell--warning i{display:none}.form-view__cell--date{display:block;margin-left:0}}.form-modal__form.form-modal__form--bulk-edit-submissions .form-modal__item--wrapper>a:hover{text-decoration:underline}.form-modal__form.form-modal__form--bulk-edit-submissions h2{font-size:inherit;font-weight:600;margin:0 auto 10px}.form-modal__form.form-modal__form--bulk-edit-submissions i.blue-response-dot{width:6px;height:6px;display:inline-block;vertical-align:middle;background:#259af4;border-radius:100%;margin-right:6px}.form-modal__form.form-modal__form--bulk-edit-submissions .text-box.text-box--bulk-edit-response .text-box__input{min-height:90px}.form-modal__form.form-modal__form--bulk-edit-submissions .modal__footer .footer-back-button{float:left}@media(min-width: 770px)and (max-width: 1020px),(max-width: 560px){.bulk-options{display:block !important}.bulk-options .bulk-options__buttons{margin-top:6px;text-align:center}.multi-checkbox{overflow-x:scroll !important}}.form-view--library-asset{background:#fff}@-webkit-keyframes processing{0%{opacity:1}25%{opacity:.6}50%{opacity:1}100%{opacity:1}}@keyframes processing{0%{opacity:1}25%{opacity:.6}50%{opacity:1}100%{opacity:1}}.project-downloads hr{display:block;width:100%;height:1px;background-color:#e7e9ee;margin:0;border:0}.project-downloads>.form-view__cell.form-view__cell--box:last-child{margin-bottom:40px}.project-downloads .project-downloads__selector-row{display:flex;align-items:center;margin-bottom:20px}.project-downloads .project-downloads__selector-row>*{width:33%}.project-downloads .project-downloads__selector-row>*:not(:last-child){margin-right:20px}.project-downloads .kobo-select .kobo-select__control{border:1px solid #e7e9ee}.project-downloads .text-box .text-box__input{padding:8px 16px}.project-downloads .text-box.text-box--group-separator{display:flex;flex-direction:row;align-items:center}.project-downloads .text-box.text-box--group-separator .text-box__input{flex:1;margin-left:10px}.project-downloads .text-box.text-box--group-separator.text-box--group-separator-disabled .text-box__label{opacity:.5}.project-downloads .text-box.text-box--group-separator,.project-downloads .text-box.text-box--custom-export{margin-left:28px;margin-top:4px}.project-downloads .text-box.text-box--custom-export{display:block}.project-downloads .project-downloads__text-button{border:0;margin:0;padding:0;background:none;display:inline-block;color:#259af4;cursor:pointer;font-weight:700}.project-downloads .project-downloads__text-button:hover{color:#0b81da}.project-downloads .project-downloads__text-button:active{transform:translateY(1px)}.project-downloads .project-downloads__text-button[disabled]{pointer-events:none;opacity:.5}.project-downloads .project-downloads__text-button .k-icon,.project-downloads .project-downloads__text-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .project-downloads .project-downloads__text-button .ajs-close,.project-downloads .project-downloads__text-button .react-tagsinput-remove,.project-downloads .project-downloads__text-button .form-builder-header__button.form-builder-header__button--savepending>i,.project-downloads .project-downloads__text-button .form-builder-header__button.form-builder-header__button--create-pending>i,.project-downloads .project-downloads__text-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .project-downloads .project-downloads__text-button i{vertical-align:middle;margin-left:3px}.project-downloads .project-downloads__advanced-view{display:flex;align-items:stretch;flex-wrap:wrap;padding-top:12px}.project-downloads .project-downloads__title{margin-bottom:6px;display:inline-block}.project-downloads .project-downloads__column{margin-bottom:20px}.project-downloads .project-downloads__column.project-downloads__column--left{margin-right:20px;width:33%}.project-downloads .project-downloads__column.project-downloads__column--right{flex:1;position:relative}.project-downloads .project-downloads__column .project-downloads__column-row{display:block}.project-downloads .project-downloads__column .project-downloads__column-row:not(:last-child){margin-bottom:20px}.project-downloads .project-downloads__column .project-downloads__column-row.project-downloads__column-row--rows-selector-header{display:flex;flex-direction:row;align-items:center}.project-downloads .project-downloads__column .project-downloads__column-row.project-downloads__column-row--rows-selector-header .toggle-switch{flex:1}.project-downloads .project-downloads__column .project-downloads__column-row.project-downloads__column-row--rows-selector-header .project-downloads__vr{width:1px;height:1em;display:block;vertical-align:middle;margin:0 10px;background-color:#e7e9ee}.project-downloads .multi-checkbox{position:absolute;top:20px;left:0;right:0;bottom:0;margin-top:6px}.project-downloads .project-downloads__submit-row{display:flex;justify-content:space-between;align-items:flex-end;align-content:flex-end;margin-top:20px}.project-downloads .project-downloads__submit-row .project-downloads__exports-selector{width:33%;position:relative}.project-downloads .project-downloads__submit-row .project-downloads__delete-settings-button{border:0;padding:0;cursor:pointer;color:#e84a5f;display:inline-block;vertical-align:middle;background:transparent;font-size:24px;position:absolute;left:100%;margin-left:8px;bottom:0;height:38px;line-height:38px}.project-downloads .project-downloads__submit-row .project-downloads__delete-settings-button:hover{color:#ad1f32}.project-downloads .project-downloads__submit-row .project-downloads__delete-settings-button:active{transform:translateY(1px)}.project-downloads .project-downloads__anonymous-row{display:flex;align-items:flex-end;align-content:flex-end}.project-downloads .project-downloads__anonymous-row .project-downloads__exports-selector{width:33%;margin-right:20px}.project-downloads .form-view__cell.form-view__cell--warning{margin-bottom:20px}.project-downloads .project-downloads__legacy-iframe-wrapper iframe{width:100%;height:250px;border:1px solid #e7e9ee;border-radius:4px}.project-downloads .project-downloads__exports-creator.project-downloads__exports-creator--loading{opacity:.5;pointer-events:none}.project-downloads .simple-table.simple-table--project-exports .simple-table__row .simple-table__cell:last-child(){text-align:right}.project-downloads .simple-table.simple-table--project-exports .simple-table__row .simple-table__cell .kobo-light-button:not(:first-child){margin-left:5px}.project-downloads .animate-processing{-webkit-animation:processing 1.5s infinite;animation:processing 1.5s infinite}.service-row{display:flex;flex-direction:row;align-items:center;min-height:36px;box-sizing:content-box;line-height:18px;position:relative}.service-row:not(:last-of-type){border-bottom:1px solid #e7e9ee}.service-row:hover .service-row__action-button{position:relative;z-index:11}.service-row:not(.service-row--header):hover{background-color:#f3f4f6;color:#333847}.service-row.service-row--clickable{cursor:pointer}.service-row.service-row--header{font-weight:600;border-bottom-width:2px}.service-row.service-row--active{color:#565e76}.service-row.service-row--inactive{color:#979fb4}.service-row__link-overlay{position:absolute;z-index:10;top:0;left:0;right:0;bottom:0}.service-row__column{padding:9px}.service-row__column.service-row__column--name{flex:6}.service-row__column.service-row__column--count{flex:1;line-height:18px}.service-row__column.service-row__column--actions{min-width:72px;text-align:right;padding:0 9px;box-sizing:content-box;white-space:nowrap}.service-row__column.service-row__column--submission,.service-row__column.service-row__column--status{flex:1;padding:0 9px;line-height:36px;white-space:nowrap}.service-row__column.service-row__column--date{flex:1}.service-row__column.service-row__column--success{color:#565e76}.service-row__column.service-row__column--pending{color:#22b0c3}.service-row__column.service-row__column--failed{color:#e84a5f}.service-row__action-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;padding:0;width:36px;height:36px;font-size:24px;color:inherit;cursor:pointer;background:transparent;display:inline-block;vertical-align:top}.service-row__action-button i.k-icon,.service-row__action-button .alertify-notifier .ajs-message i.ajs-close,.alertify-notifier .ajs-message .service-row__action-button i.ajs-close,.service-row__action-button i.react-tagsinput-remove,.service-row__action-button .form-builder-header__button.form-builder-header__button--savepending>i,.service-row__action-button .form-builder-header__button.form-builder-header__button--create-pending>i,.service-row__action-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .service-row__action-button i{font-size:26px}.service-row__action-button[disabled]{opacity:.5;pointer-events:none}.service-row__action-button:hover{color:#259af4}.service-row-button{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;margin-top:9px;width:100%;min-height:36px;box-sizing:content-box;line-height:18px;border:0;padding:0;text-transform:uppercase;cursor:pointer;color:#565e76}.service-row-button:hover{color:#333847}.service-row-button:active{transform:translateY(1px)}.service-row-button.service-row-button--loading{pointer-events:none;color:#565e76}.empty-content{text-align:center;padding:0 30px 30px}.empty-content__icon{display:block;font-size:180px;opacity:.25}.empty-content__title{font-weight:400;font-size:20px;margin:0}.empty-content__message{margin:1em 0 0}.empty-content__message+button{display:block;margin:2em auto 0}.simple-table{width:100%;border-spacing:0;border-collapse:collapse}.simple-table .simple-table__header .simple-table__row:nth-child(1) .simple-table__cell{background-color:#f3f4f6;border-bottom:2px solid #e7e9ee;font-weight:600}.simple-table .simple-table__body .simple-table__cell{border-bottom:1px solid #f3f4f6}.simple-table .simple-table__cell{padding:10px;background-color:#fff}.simple-table .simple-table__message-row .simple-table__cell{padding:20px;text-align:center}.background-audio-player{text-align:left}.background-audio-player .background-audio-player__label{display:block;margin-bottom:6px;font-weight:500;color:#333847}.background-audio-player .background-audio-player__audio{display:block}.kobo-dropzone{background:#f3f4f6;padding:30px;border:2px dashed #e7e9ee;cursor:pointer;border-radius:6px;text-align:center}.kobo-dropzone .dropzone-description{padding-top:6px;font-size:14px}.kobo-dropzone .dropzone-description a{text-decoration:underline}.kobo-dropzone i{display:block;margin:0 auto;font-size:32px;opacity:.5}.kobo-dropzone .loading{font-size:inherit}.kobo-dropzone .loading i{font-size:36px;margin-top:20px;margin-bottom:16px}.kobo-dropzone:hover{border-color:#259af4}.kobo-dropzone.dropzone-active{border-color:#259af4}.kobo-dropzone.dropzone-reject{border-color:#e84a5f}.kobo-dropzone--form-media{background:#fff;padding:40px;border:6px dashed #e7e9ee;font-size:18px;font-weight:500;color:#565e76}.card__kobomatrix{border:1px solid #979fb4;border-top:none}.survey__row--selected>.survey__row__item>.card__kobomatrix{border-color:#3da5f5;border-top:none}.kobomatrix{width:100%;padding:23px 50px 23px 20px;position:relative;background:#fff}.kobomatrix .matrix-items-new{margin:23px 0px;overflow:hidden;position:absolute;right:0px;top:0px;bottom:0px;width:50px;text-align:center;padding-top:10px}.kobomatrix .matrix-items-new i{font-size:18px;cursor:pointer}.kobomatrix .matrix-items-new i:hover{color:#259af4}.matrix-cols--header{display:flex;flex-wrap:nowrap;border-top:1px solid #e7e9ee;border-left:1px solid #e7e9ee}.matrix-cols--header .matrix-cols__col{flex-grow:1;flex-basis:0;padding:10px 20px;text-align:center;border-right:1px solid #e7e9ee;position:relative;padding-right:30px;vertical-align:middle;border-top:1px solid transparent;margin-bottom:-1px}.matrix-cols--header .matrix-cols__col.active{background:#f3f4f6;border-bottom:1px solid #f3f4f6}.matrix-cols--header .matrix-cols__col .matrix-cols__colattr--type{opacity:.3;display:none}.matrix-cols--header .matrix-cols__col i{font-size:20px;opacity:.75;position:absolute;right:8px;top:9px;vertical-align:middle;cursor:pointer}.matrix-cols--header .matrix-cols__col i:hover{color:#259af4}.matrix-cols__settings{width:100%;background:#f3f4f6;border:1px solid #e7e9ee;border-bottom:none;padding:15px;display:none}.matrix-cols__settings.expanded{display:block}.matrix-cols__settings_inner{text-align:left;width:500px;margin:0 auto;padding:0px 20px}.matrix-cols__settings_inner .checkbox{display:inline-block}.matrix-cols__settings_inner label{display:block;margin-bottom:10px}.matrix-cols__settings_inner label>span{display:inline-block;width:150px;vertical-align:middle}.matrix-cols__settings_inner label>.kobo-select,.matrix-cols__settings_inner label>input{width:310px;display:inline-block;vertical-align:middle}.matrix-cols__settings_inner label>input[type=text]{padding:4px 8px;border:1px solid #979fb4;border-radius:4px}.matrix-cols__settings_inner label>label{display:inline-block}.matrix-cols__settings_inner .matrix-cols__delete{width:100%;text-align:right;padding:10px 0px 10px}.matrix-cols__settings_inner .matrix-cols__delete span{color:#e84a5f;cursor:pointer}.matrix-cols__settings_inner .matrix-cols__delete i{font-size:20px;color:#e84a5f;cursor:pointer;vertical-align:-5px}.matrix-cols__options{background:#f3f4f6;border:1px solid #e7e9ee;padding:10px;margin:20px 0px;clear:both}.matrix-cols__options--row-head span,.matrix-cols__options--row span{width:44%;display:inline-block;margin:5px}.matrix-cols__options--row-head span input,.matrix-cols__options--row span input{padding:4px 8px;border-radius:4px;border:1px solid #e7e9ee}.matrix-cols__options--row-head span.matrix-options__value,.matrix-cols__options--row span.matrix-options__value{opacity:.75}.matrix-cols__options--row-head span.matrix-options__delete,.matrix-cols__options--row span.matrix-options__delete{width:5%;text-align:right;margin-right:0px}.matrix-cols__options--row-head span.matrix-options__delete i,.matrix-cols__options--row span.matrix-options__delete i{font-size:24px;color:#e84a5f;cursor:pointer}.matrix-cols__options--row-foot i{font-size:18px;cursor:pointer}.matrix-cols__options--row-foot i:hover{color:#259af4}.matrix-items__item .matrix-items__itemrow{display:flex;flex-wrap:nowrap}.matrix-items__item .matrix-items__itemattr,.matrix-items__item .matrix-cols__col{flex-grow:1;flex-basis:0;padding:5px;border-top:1px solid #e7e9ee;vertical-align:middle;position:relative}.matrix-items__item .matrix-cols__col{border-right:1px solid #e7e9ee;text-align:center}.matrix-items__item .matrix-items__itemattr{border-right:1px solid #e7e9ee;border-left:1px solid #e7e9ee;position:relative;line-height:28px}.matrix-items__item .matrix-items__itemattr label{margin-left:5px;width:calc(100% - 40px);display:inline-block}.matrix-items__item .matrix-items__itemattr i{font-size:20px;opacity:.75;position:absolute;right:4px;top:6px;vertical-align:middle;cursor:pointer}.matrix-items__item .matrix-items__itemattr i:hover{color:#259af4}.matrix-items__item--new{border-top:1px solid #e7e9ee}.matrix-items__item--new i{font-size:20px;margin:4px;opacity:.75;display:inline-block;cursor:pointer;color:#565e76}.matrix-items__item--new i:hover{color:#259af4}.matrix-items__item .matrix-items__itemsettings{width:100%;background:#f3f4f6;border:1px solid #e7e9ee;border-bottom:none;padding:15px;display:none}.matrix-items__item .matrix-items__itemsettings.expanded{display:block}.k-invisible{visibility:hidden}@media print{body{background:transparent !important;overflow:visible !important}body .kpiapp,body .mdl-wrapper,body .mdl-layout,body .ui-panel,body .ui-panel__body,body .mdl-layout__content,body .mdl-layout__content>div{height:auto !important;overflow:visible}body .mdl-layout{display:block;overflow:visible;max-width:auto}body .mdl-layout__content{display:block;margin-left:0px}.k-drawer,.mdl-layout__header{display:none}.form-view__reportButtons{display:none}.report-view__chart{padding-left:0px;padding-right:0px}a[href]:after,abbr[title]:after{content:""}.form-view__row{display:block}.form-view__cell{width:auto}.report-view__chart{page-break-inside:avoid}.report-view__itemContent table{margin-left:0%;width:100%;page-break-inside:avoid}.report-view__item{-moz-column-break-inside:avoid;break-inside:avoid}thead{display:table-row-group}.form-view__sidetabs,.form-view__toptabs{display:none}.form-view__sidetabs+.report-view{width:100%}.modal__backdrop{position:static}.modal__backdrop .modal{width:100%;height:100%;max-width:none;box-shadow:none;border-radius:initial;position:static;top:auto;left:auto;transform:none;max-height:none}.page-wrapper.page-wrapper--is-modal-visible.page-wrapper--is-modal-submission .form-view.form-view--table{display:none}}@media only screen{.print-only{display:none}}',""])},,,,,function(e,t,o){e.exports=o.p+"roboto-latin-ext-100-normal.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-100-normal.woff"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-300-normal.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-300-normal.woff"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-300-italic.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-300-italic.woff"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-400-normal.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-400-normal.woff"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-400-italic.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-400-italic.woff"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-500-normal.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-500-normal.woff"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-500-italic.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-500-italic.woff"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-700-normal.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-700-normal.woff"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-700-italic.woff2"},function(e,t,o){e.exports=o.p+"roboto-latin-ext-700-italic.woff"},function(e,t,o){e.exports=o.p+"roboto-mono-latin-ext-400-normal.woff2"},function(e,t,o){e.exports=o.p+"roboto-mono-latin-ext-400-normal.woff"},function(e,t,o){e.exports=o.p+"roboto-mono-latin-ext-700-normal.woff2"},function(e,t,o){e.exports=o.p+"roboto-mono-latin-ext-700-normal.woff"},function(e,t,o){e.exports=o.p+"k-icons.1637612034176.woff2"},function(e,t,o){e.exports=o.p+"k-icons.1637612034176.woff"},function(e,t,o){e.exports=o.p+"k-icons.1637612034176.ttf"},function(e,t,o){e.exports=o.p+"k-icons.1637612034176.eot"},function(e,t,o){e.exports=o.p+"k-icons.1637612034176.svg"},function(e,t,o){e.exports=o.p+"signup_photo.jpg"},function(e,t,o){e.exports=o.p+"kobologo.svg"},function(e,t,o){e.exports=o.p+"kobologoS.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,o,r){"use strict";r.r(o),r.d(o,"renderKobomatrix",(function(){return G}));var n=r(0),a=r.n(n),i=r(51),l=r.n(i),s=r(20),c=r(9),d=r.n(c),u=r(33),p=r.n(u),m=r(90),f=r.n(m),_=r(5),h=r.n(_);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,o){return t&&y(e.prototype,t),o&&y(e,o),e}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=S(e);if(t){var n=S(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return E(this,o)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";o.match&&(t=o.match(/\<(\w+)\s?\/?\>/))&&(o=t[1]);var r=function(t,o){return"[object Object]"===Object.prototype.toString.call(o)?Object.keys(o).forEach((function(r){o[r]&&(t["".concat(e,"--").concat(r)]=!0)})):o&&(t["".concat(e,"--").concat(o)]=!0),t},n=function(t){k(i,t);var n=x(i);function i(){return g(this,i),n.apply(this,arguments)}return v(i,[{key:"render",value:function(){var t=f()({},this.props),n=[].concat(t.m).reduce(r,{});return delete t.m,t.className=p()(e,n,t.classNames,t.className),delete t.classNames,a.a.createElement(o,t)}}]),i}(a.a.Component);return n.propTypes={m:h.a.any,className:h.a.string,classNames:h.a.any},n.displayName="BEM.".concat(e),n};function T(e){var t=Object.keys(e);return Object.freeze(t.reduce((function(t,o){var r=e[o];return t[o]=r instanceof Array?O.apply(null,r):O(r),t}),{}))}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"reactCreateBemElement","/srv/src/kpi/jsapp/js/libs/reactBemComponents.es6"),__REACT_HOT_LOADER__.register(T,"bemComponents","/srv/src/kpi/jsapp/js/libs/reactBemComponents.es6"));var R=r(40),A=r(112),C=r(36),j=r(14),P=r.n(j),L=r(34);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,r=H(e);if(t){var n=H(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return F(this,o)}}function F(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?U(e):t}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=T({Matrix:"kobomatrix",MatrixCols:"matrix-cols",MatrixCols__col:"matrix-cols__col",MatrixCols__settings:"matrix-cols__settings",MatrixCols__settings_inner:"matrix-cols__settings_inner",MatrixCols__colattr:["matrix-cols__colattr","<span>"],MatrixItems:["matrix-items","<ul>"],MatrixItemsNewCol:["matrix-items-new"],MatrixItems__item:["matrix-items__item","<li>"],MatrixItems__itemrow:["matrix-items__itemrow"],MatrixItems__itemattr:["matrix-items__itemattr","<span>"],MatrixItems__itemsettings:["matrix-items__itemsettings"],MatrixButton:["kobomatrix-button","<button>"]}),V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(l,e);var o,r,n,i=I(l);function l(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(o=i.call(this,e))._listDetails={},o.state={data:e.model.data,kuid:e.model.kuid,kobomatrix_list:e.model.kobomatrix_list,expandedColKuid:!1,expandedRowKuid:!1,typeChoices:[{value:"select_one",label:t("Select One")},{value:"select_many",label:t("Select Many")},{value:"text",label:t("Text")},{value:"integer",label:t("Number")}]},d()(U(o)),o}return o=l,(r=[{key:"componentDidMount",value:function(){var e=this.state.data,t=this.state.kuid;localStorage.setItem("koboMatrix.".concat(t),JSON.stringify(e.toJS())),e.get("cols").size<1&&e.get("choices").size<1&&this.generateDefault()}},{key:"generateDefault",value:function(){var e=this;this.newColumn(),window.setTimeout((function(){e.newColumn(),window.setTimeout((function(){e.newChoiceOption(!1)}),500)}),500)}},{key:"expandColumn",value:function(e){this.state.expandedColKuid===e?this.setState({expandedColKuid:!1}):this.setState({expandedColKuid:e,expandedRowKuid:!1})}},{key:"expandRow",value:function(e){this.state.expandedRowKuid===e?this.setState({expandedRowKuid:!1}):this.setState({expandedRowKuid:e,expandedColKuid:!1})}},{key:"autoName",value:function(e,t,o){var r=[],n=this.state.data;return"column"===t?n.get("cols").forEach((function(e){r.push(n.getIn([e,"$autoname"]))})):n.get("choices").forEach((function(e){e.get("list_name")===o&&r.push(e.get("$autovalue"))})),Object(R.sluggify)(e,{preventDuplicates:r,lowerCase:!0,lrstrip:!0,preventDuplicateUnderscores:!0,characterLimit:40,incrementorPadding:!1,validXmlTag:!1,replaceNonWordCharacters:!0})}},{key:"onRowChange",value:function(e,t){var o=this.state.expandedRowKuid,r=t.target.value;this.setRow(this.state.expandedRowKuid,e,r),clearTimeout(this.typingTimer),this.typingTimer=setTimeout(this.setRow.bind(this,o,e,r,!0),1500)}},{key:"onRowBlur",value:function(e,t){this.setRow(this.state.expandedRowKuid,e,t.target.value,!0),clearTimeout(this.typingTimer)}},{key:"setRow",value:function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=this.state.data,a=o;"label"===t&&(n=n.setIn(["choices",e,t],o)),"name"===t&&(r&&(a=this.autoName(a,!1,this.state.kobomatrix_list)),n=(n=n.setIn(["choices",e,"name"],a)).setIn(["choices",e,"$autovalue"],a)),this.setState({data:n}),this.toLocalStorage(n)}},{key:"onColumnChange",value:function(e,t){var o=this.state.expandedColKuid,r=t.target.value;this.setColumn(o,e,r),clearTimeout(this.typingTimer),this.typingTimer=setTimeout(this.setColumn.bind(this,o,e,r,!0),1500)}},{key:"onColumnBlur",value:function(e,t){this.setColumn(this.state.expandedColKuid,e,t.target.value,!0),clearTimeout(this.typingTimer)}},{key:"setColumn",value:function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=this.state.data,a=o;r&&"name"===t&&(a=this.autoName(a,"column")),n=n.setIn([e,t],a),this.setState({data:n}),this.toLocalStorage(n)}},{key:"requiredChange",value:function(e){var t=this.state.expandedColKuid,o=this.state.data;o=o.setIn([t,"required"],e),this.setState({data:o}),this.toLocalStorage(o)}},{key:"colChangeType",value:function(e){var o=this.state.expandedColKuid,r=this.state.data,n=e.value,a=r.getIn([o,"type"]),i=this;if(["select_one","select_many"].includes(a)&&!["select_one","select_many"].includes(n)){var l=P.a.dialog("confirm"),s={title:t("Change column type?"),message:t("Are you sure you want to change the type? This action is irreversible, your existing option choices will be erased."),labels:{ok:t("Change type"),cancel:t("Cancel")},onok:function(){r=(r=r.setIn([o,"type"],n)).deleteIn([o,"select_from_list_name"]),i.setState({data:r}),i.toLocalStorage(r)},oncancel:l.destroy};l.set(s).show()}else{var c=(r=r.setIn([o,"type"],n)).getIn([o,"select_from_list_name"]);if(["select_one","select_many"].includes(n)&&void 0===c){var d=Object(R.txtid)();r=(r=i._addDefaultList(r,d)).setIn([o,"select_from_list_name"],d)}i.setState({data:r}),i.toLocalStorage(r)}}},{key:"_addDefaultList",value:function(e,o){var r=Object(R.txtid)(),n=this.autoName(t("Option 1"),!1,o),a=Object(A.Map)({label:t("Option 1"),$autovalue:n,name:n,$kuid:r,list_name:o});e=e.setIn(["choices",r],a);var i=this.autoName(t("Option 2"),!1,o),l=Object(R.txtid)(),s=Object(A.Map)({label:t("Option 2"),$autovalue:i,name:i,$kuid:l,list_name:o});return e=e.setIn(["choices",l],s)}},{key:"choiceChange",value:function(e){var t=e.target.getAttribute("data-kuid"),o=e.target.getAttribute("data-type"),r=this.state.data,n=e.target.value;"label"===o&&(r=r.setIn(["choices",t,o],n)),"name"===o&&(n=this.autoName(n,!1,t),r=(r=r.setIn(["choices",t,"name"],n)).setIn(["choices",t,"$autovalue"],n)),this.setState({data:r}),this.toLocalStorage(r)}},{key:"getCol",value:function(e,t){return this.state.data.getIn([e,t])}},{key:"getSelectTypeVal",value:function(e){var t=this.getCol(e,"type");return s.default.find(this.state.typeChoices,(function(e){return e.value===t}))}},{key:"getChoiceField",value:function(e,t){return this.state.data.getIn(["choices",e,t])}},{key:"getRequiredStatus",value:function(e){var t=this.state.data.getIn([e,"required"]);return!0===t||"true"===t}},{key:"newChoiceOption",value:function(e){var o=this.state.data,r=null;r=e&&e.target?e.target.getAttribute("data-list-name"):this.state.kobomatrix_list;var n=this.autoName(t("Row"),!1,r),a=Object(R.txtid)(),i=Object(A.Map)({label:t("Row"),$autovalue:n,name:n,$kuid:a,list_name:r});o=o.setIn(["choices",a],i),this.setState({data:o}),this.toLocalStorage(o)}},{key:"newColumn",value:function(){var e=this.state.data,o=Object(R.txtid)(),r=this.autoName(t("Column"),"column"),n=Object(A.Map)({$autoname:r,$kuid:o,appearance:"w1",constraint:"",constraint_message:"",default:"",hint:"",label:t("Column"),name:r,relevant:"",required:"false",type:"text"});e=(e=e.set(o,n)).update("cols",(function(e){return e.push(o)})),this.setState({data:e}),this.toLocalStorage(e)}},{key:"deleteRow",value:function(e){var o=e.target.getAttribute("data-kuid"),r=this,n=P.a.dialog("confirm"),a={title:t("Delete row?"),message:t("Are you sure you want to delete this row? This action cannot be undone."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){var e=r.state.data.deleteIn(["choices",o]);r.setState({data:e}),r.toLocalStorage(e)},oncancel:n.destroy};n.set(a).show()}},{key:"deleteColumn",value:function(){var e=this.state.expandedColKuid,o=this.state.data,r=this,n=P.a.dialog("confirm"),a={title:t("Delete column?"),message:t("Are you sure you want to delete this column? This action cannot be undone."),labels:{ok:t("Delete"),cancel:t("Cancel")},onok:function(){o=o.update("cols",(function(t){return t.filterNot((function(t){return t===e}))})),r.setState({data:o,expandedColKuid:!1}),r.toLocalStorage(o)},oncancel:n.destroy};n.set(a).show()}},{key:"toLocalStorage",value:function(e){var t=e.toJS();localStorage.setItem("koboMatrix.".concat(this.state.kuid),JSON.stringify(t))}},{key:"getListDetails",value:function(e){var t=this.state.data.get("choices"),o=[];return t.forEach((function(t){t.get("list_name")===e&&o.push(t.toJS())})),o}},{key:"render",value:function(){var e=this,o=this.state.data,r=o.get("cols"),n=o.get("choices").toArray(),i=this.state.expandedColKuid,l=this.state.expandedRowKuid,s=this,c=this.getListDetails(this.state.kobomatrix_list);return a.a.createElement(B.Matrix,null,a.a.createElement(B.MatrixCols,{m:"header"},a.a.createElement(B.MatrixCols__col,{m:"label",key:"label"}),r.map((function(t,r){var n=o.get(t);return a.a.createElement(B.MatrixCols__col,{key:r,m:"header",className:i===t?"active":""},a.a.createElement(B.MatrixCols__colattr,{m:"label"},n.get("label")),a.a.createElement(B.MatrixCols__colattr,{m:"type"},n.get("type")),a.a.createElement("i",{className:"k-icon k-icon-settings",onClick:s.expandColumn.bind(e,t)}))}))),a.a.createElement(B.MatrixCols__settings,{className:i?"expanded":""},i&&a.a.createElement(B.MatrixCols__settings_inner,null,a.a.createElement("label",null,a.a.createElement("span",null,t("Response Type")),a.a.createElement(C.a,{value:this.getSelectTypeVal(i),isClearable:!1,options:this.state.typeChoices,onChange:this.colChangeType,className:"kobo-select",classNamePrefix:"kobo-select",menuPlacement:"auto",isSearchable:!1})),a.a.createElement("label",null,a.a.createElement("span",null,t("Label")),a.a.createElement("input",{type:"text",value:this.getCol(i,"label"),onChange:this.onColumnChange.bind(this,"label"),onBlur:this.onColumnBlur.bind(this,"label"),className:"js-cancel-sort"})),a.a.createElement("label",null,a.a.createElement("span",null,t("Data Column Suffix")),a.a.createElement("input",{type:"text",value:this.getCol(i,"name"),onChange:this.onColumnChange.bind(this,"name"),onBlur:this.onColumnBlur.bind(this,"name"),className:"js-cancel-sort"})),a.a.createElement("label",null,a.a.createElement("span",null,t("Required")),a.a.createElement(L.a,{checked:this.getRequiredStatus(i),onChange:this.requiredChange,className:"js-cancel-sort"})),this.getCol(i,"select_from_list_name")&&a.a.createElement("div",{className:"matrix-cols__options"},a.a.createElement("div",{className:"matrix-cols__options--row-head"},a.a.createElement("span",null,t("Label")),a.a.createElement("span",null,t("Data Column Name"))),n.map((function(t){if(t.get("list_name")===e.getCol(i,"select_from_list_name")){var o=t.get("$kuid");return a.a.createElement("div",{className:"matrix-cols__options--row",key:o},a.a.createElement("span",null,a.a.createElement("input",{type:"text",value:s.getChoiceField(o,"label"),onChange:s.choiceChange,className:"js-cancel-sort","data-type":"label","data-kuid":o})),a.a.createElement("span",{className:"matrix-options__value"},a.a.createElement("input",{type:"text",value:s.getChoiceField(o,"name"),onChange:s.choiceChange,className:"js-cancel-sort","data-type":"name","data-kuid":o})),a.a.createElement("span",{className:"matrix-options__delete"},a.a.createElement("i",{className:"k-icon k-icon-trash",onClick:s.deleteRow,"data-kuid":o})))}})),a.a.createElement("div",{className:"matrix-cols__options--row-foot"},a.a.createElement("i",{className:"k-icon k-icon-plus",onClick:this.newChoiceOption,"data-list-name":this.getCol(i,"select_from_list_name")}))),a.a.createElement("div",{className:"matrix-cols__delete"},a.a.createElement("span",{className:"matrix-cols__delete-action",onClick:s.deleteColumn},t("Delete column")," ",a.a.createElement("i",{className:"k-icon k-icon-trash"}))))),a.a.createElement(B.MatrixItems,null,c.map((function(n,i){return a.a.createElement(B.MatrixItems__item,{key:i},a.a.createElement(B.MatrixItems__itemrow,null,a.a.createElement(B.MatrixItems__itemattr,{m:"label"},a.a.createElement("label",null,n.label),a.a.createElement("i",{className:"k-icon k-icon-settings",onClick:s.expandRow.bind(e,n.$kuid)})),r.map((function(e){var t=o.get(e).get("select_from_list_name"),r=!1,n=[];if(t){var i=s.getListDetails(t);i.forEach((function(e){n.push("".concat("ðŸ”˜"," ").concat(e.label))}))}else r=!0,n=["_________"];return a.a.createElement(B.MatrixCols__col,{key:e,m:{list:!!t,underscores:r}},n.join(" "))}))),a.a.createElement(B.MatrixItems__itemsettings,{className:l===n.$kuid?"expanded":""},l&&a.a.createElement(B.MatrixCols__settings_inner,null,a.a.createElement("label",null,a.a.createElement("span",null,t("Label")),a.a.createElement("input",{type:"text",value:n.label,onChange:s.onRowChange.bind(e,"label"),className:"js-cancel-sort"})),a.a.createElement("label",null,a.a.createElement("span",null,t("Data Column Prefix")),a.a.createElement("input",{type:"text",value:n.name,onChange:s.onRowChange.bind(e,"name"),className:"js-cancel-sort"})),a.a.createElement("div",{className:"matrix-cols__delete"},a.a.createElement("span",{className:"matrix-cols__delete-action",onClick:s.deleteRow,"data-kuid":n.$kuid},t("Delete row")," ",a.a.createElement("i",{className:"k-icon k-icon-trash"}))))))})),a.a.createElement(B.MatrixItems__item,{key:"new",m:"new"},a.a.createElement("i",{className:"k-icon k-icon-plus",onClick:this.newChoiceOption,"data-list-name":this.state.kobomatrix_list}))),a.a.createElement(B.MatrixItemsNewCol,null,a.a.createElement("i",{className:"k-icon k-icon-plus",onClick:this.newColumn})))}}])&&N(o.prototype,r),n&&N(o,n),l}(a.a.Component),z=V,q=z;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(B,"bem","/srv/src/kpi/jsapp/js/formbuild/containers/KoboMatrix.es6"),__REACT_HOT_LOADER__.register(V,"KoboMatrix","/srv/src/kpi/jsapp/js/formbuild/containers/KoboMatrix.es6"),__REACT_HOT_LOADER__.register(z,"default","/srv/src/kpi/jsapp/js/formbuild/containers/KoboMatrix.es6"));var Y=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o={},r=t;o.label=r.getValue("label");var n={};Object.keys(r.items).forEach((function(e){r.items[e]&&r.items[e].options&&r.items[e].options.map((function(t){var o=t.attributes.$kuid;t.attributes.list_name=e,n[o]=t.attributes}))})),o.cols=r._kobomatrix_cols().map((function(e){var t=e.get("type").get("typeId"),r=Object.assign(e.toJSON(),{type:t}),n=r.$kuid;return o[n]=r,n}));var a=r.toJSON();this.kobomatrix_list=a["kobo--matrix_list"],this.data=Object(A.fromJS)(o);var i=Object(A.fromJS)(n);this.data=this.data.set("choices",i.toOrderedMap()),this.kuid=a.$kuid};function G(e,t){var o=new Y(e.model);l.a.render(a.a.createElement(q,{model:o}),t.get(0))}"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(Y,"KoboMatrixRow","/srv/src/kpi/jsapp/js/formbuild/renderInBackbone.es6"),__REACT_HOT_LOADER__.register(G,"renderKobomatrix","/srv/src/kpi/jsapp/js/formbuild/renderInBackbone.es6"))}]);
//# sourceMappingURL=app-d72f2cc7e86e4413c7f7.js.map