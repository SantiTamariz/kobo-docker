{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./jsapp/js/bem.ts","webpack:///./jsapp/js/constants.ts","webpack:///./jsapp/js/libs/reflux-promise.js","webpack:///./jsapp/js/actions/permissions.es6","webpack:///./jsapp/js/actions/help.es6","webpack:///./jsapp/js/actions/library.es6","webpack:///./jsapp/js/actions/submissions.es6","webpack:///./jsapp/js/actions/mediaActions.es6","webpack:///./jsapp/js/actions/exportsActions.es6","webpack:///./jsapp/js/actions/dataShareActions.es6","webpack:///./jsapp/js/actions.es6","webpack:///./jsapp/js/utils.ts","webpack:///./jsapp/js/stores.es6","webpack:///./jsapp/js/dataInterface.es6","webpack:///./jsapp/js/router/routerConstants.ts","webpack:///./jsapp/js/assetUtils.ts","webpack:///./jsapp/js/components/submissions/tableConstants.es6","webpack:///./jsapp/js/mixins.es6","webpack:///./jsapp/js/components/permissions/permConstants.es6","webpack:///./jsapp/js/envStore.ts","webpack:///./jsapp/js/components/locking/lockingUtils.es6","webpack:///./jsapp/js/components/locking/lockingConstants.es6","webpack:///./jsapp/js/components/permissions/permConfig.ts","webpack:///./jsapp/js/components/common/icon.tsx","webpack:///./jsapp/js/components/common/loadingSpinner.tsx","webpack:///./jsapp/js/components/library/libraryConstants.es6","webpack:///./jsapp/js/components/common/textBox.tsx","webpack:///./jsapp/js/components/common/checkbox.tsx","webpack:///./jsapp/js/components/formBuilder/formBuilderUtils.es6","webpack:///./jsapp/js/router/routerUtils.ts","webpack:///./jsapp/js/components/submissions/tableStore.es6","webpack:///./jsapp/xlform/src/model.utils.coffee","webpack:///./jsapp/js/assetStore.ts","webpack:///./jsapp/js/components/common/modal.es6","webpack:///./jsapp/js/components/library/myLibraryStore.es6","webpack:///./jsapp/js/searches.es6","webpack:///./jsapp/js/components/permissions/permParser.es6","webpack:///./jsapp/js/components/header/searchBoxStore.es6","webpack:///./jsapp/xlform/src/model.configs.coffee","webpack:///./jsapp/js/popoverMenu.es6","webpack:///./jsapp/js/components/submissions/submissionUtils.ts","webpack:///./jsapp/xlform/src/mv.skipLogicHelpers.coffee","webpack:///./jsapp/xlform/src/model.base.coffee","webpack:///./jsapp/xlform/src/model.aliases.coffee","webpack:///./jsapp/js/assetParserUtils.ts","webpack:///./jsapp/xlform/src/model.rowDetails.skipLogic.coffee","webpack:///./jsapp/js/components/common/toggleSwitch.es6","webpack:///./jsapp/xlform/src/_xlform.init.coffee","webpack:///./jsapp/xlform/src/view.utils.coffee","webpack:///./jsapp/xlform/src/model.choices.coffee","webpack:///./jsapp/xlform/src/csv.coffee","webpack:///./jsapp/xlform/src/view.templates.coffee","webpack:///./jsapp/js/components/common/assetName.es6","webpack:///./jsapp/xlform/src/model.survey.coffee","webpack:///./jsapp/xlform/src/view.rowDetail.SkipLogic.coffee","webpack:///./jsapp/xlform/src/model.surveyDetail.coffee","webpack:///./jsapp/js/components/common/radio.tsx","webpack:///./jsapp/js/components/templatesList.es6","webpack:///./jsapp/js/components/modalForms/projectSettings.es6","webpack:///./jsapp/js/components/list.es6","webpack:///./jsapp/js/components/common/koboDropdown.tsx","webpack:///./jsapp/js/components/submissions/tableUtils.es6","webpack:///./jsapp/xlform/src/model.row.coffee","webpack:///./jsapp/xlform/src/view.pluggedIn.backboneView.coffee","webpack:///./jsapp/js/components/common/koboTagsInput.es6","webpack:///./jsapp/xlform/src/model.skipLogicParser.coffee","webpack:///./jsapp/xlform/src/model.validationLogicParserFactory.js","webpack:///./jsapp/xlform/src/model.validationLogicParser.coffee","webpack:///./jsapp/xlform/src/view.widgets.coffee","webpack:///./jsapp/xlform/src/model.inputDeserializer.coffee","webpack:///./jsapp/xlform/src/model.inputParser.coffee","webpack:///./jsapp/js/components/formViewTabs.es6","webpack:///./jsapp/js/enketoHandler.es6","webpack:///./jsapp/xlform/src/_model.coffee","webpack:///./jsapp/js/components/intercomHandler.es6","webpack:///./jsapp/js/components/common/koboDropdownActions.ts","webpack:///./jsapp/js/components/passwordStrength.es6","webpack:///./jsapp/js/components/submissions/validationStatusDropdown.es6","webpack:///./jsapp/xlform/src/view.utils.validator.js","webpack:///./jsapp/xlform/src/model.rowDetailMixins.coffee","webpack:///./jsapp/xlform/src/mv.validationLogicHelpers.coffee","webpack:///./jsapp/xlform/src/model.rowDetail.validationLogic.coffee","webpack:///./jsapp/xlform/src/view.rowDetail.ValidationLogic.coffee","webpack:///./jsapp/xlform/src/model.surveyFragment.coffee","webpack:///./jsapp/xlform/src/model.rowDetail.coffee","webpack:///./jsapp/xlform/src/model.utils.markdownTable.coffee","webpack:///./jsapp/xlform/src/view.icons.coffee","webpack:///./jsapp/js/components/helpBubbles.es6","webpack:///./jsapp/js/editorMixins/editableForm.es6","webpack:///./jsapp/js/components/submissions/tableColumnSortDropdown.es6","webpack:///./jsapp/js/components/formXform.es6","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./jsapp/xlform/src/view.rowSelector.coffee","webpack:///./jsapp/js/components/submissions/columnsHideDropdown.scss?8b66","webpack:///./jsapp/js/components/header.es6","webpack:///./jsapp/js/components/header/headerTitleEditor.es6","webpack:///./jsapp/js/components/header/searchBox.es6","webpack:///./jsapp/js/components/RESTServices/RESTServicesForm.es6","webpack:///./jsapp/js/models/surveyScope.es6","webpack:///./jsapp/js/editorMixins/cascadeMixin.es6","webpack:///./jsapp/js/editorMixins/assetNavigator.es6","webpack:///./jsapp/js/components/metadataEditor.es6","webpack:///./jsapp/js/components/locking/formLockedMessage.es6","webpack:///./jsapp/js/components/submissions/table.es6","webpack:///./jsapp/js/components/submissions/tableBulkOptions.es6","webpack:///./jsapp/js/components/submissions/tableBulkCheckbox.es6","webpack:///./jsapp/js/components/submissions/mediaCell.es6","webpack:///./jsapp/js/components/mapSettings.es6","webpack:///./jsapp/js/components/RESTServices/RESTServiceLogs.es6","webpack:///./jsapp/js/components/accountSettings.es6","webpack:///./jsapp/js/components/apiTokenDisplay.es6","webpack:///./jsapp/js/components/searchcollectionlist.es6","webpack:///./jsapp/js/components/assetrow.es6","webpack:///./jsapp/js/components/tagInput.es6","webpack:///./jsapp/js/registrationPasswordApp.es6","webpack:///./jsapp/js/surveyCompanionStore.es6","webpack:///./jsapp/js/bemComponents.ts","webpack:///./jsapp/js/components/library/librarySidebar.es6","webpack:///./jsapp/js/lists/sidebarForms.es6","webpack:///./jsapp/js/components/drawer.es6","webpack:///./jsapp/js/components/permissions/permValidator.es6","webpack:///./jsapp/js/components/modalForms/assetTagsForm.es6","webpack:///./jsapp/js/components/modalForms/modalHelpers.es6","webpack:///./jsapp/js/components/library/ownedCollectionsStore.es6","webpack:///./jsapp/js/components/modalForms/libraryAssetForm.es6","webpack:///./jsapp/js/components/modalForms/libraryNewItemForm.es6","webpack:///./jsapp/js/components/modalForms/libraryUploadForm.es6","webpack:///./jsapp/js/components/modalForms/encryptForm.es6","webpack:///./jsapp/js/components/modalForms/bulkEditSubmissionsForm.es6","webpack:///./jsapp/js/components/permissions/copyTeamPermissions.es6","webpack:///./jsapp/js/components/permissions/userAssetPermsEditor.es6","webpack:///./jsapp/js/components/permissions/publicShareSettings.es6","webpack:///./jsapp/js/components/permissions/userPermissionRow.es6","webpack:///./jsapp/js/components/permissions/sharingForm.es6","webpack:///./jsapp/js/components/dataAttachments/dataAttachmentsUtils.es6","webpack:///./jsapp/js/components/common/multiCheckbox.es6","webpack:///./jsapp/js/components/dataAttachments/dataAttachmentColumnsForm.es6","webpack:///./jsapp/js/components/submissions/submissionDataTable.es6","webpack:///./jsapp/js/components/submissions/submissionModal.es6","webpack:///./jsapp/js/components/submissions/tableSettings.es6","webpack:///./jsapp/js/components/common/koboRange.tsx","webpack:///./jsapp/js/components/common/audioPlayer.tsx","webpack:///./jsapp/js/components/submissions/tableMediaPreview.es6","webpack:///./jsapp/js/components/modalForms/languageForm.es6","webpack:///./jsapp/js/components/modalForms/translationSettings.es6","webpack:///./jsapp/js/components/modalForms/translationTable.es6","webpack:///./jsapp/js/components/bigModal/bigModal.es6","webpack:///./jsapp/js/app.es6","webpack:///./jsapp/js/components/formEditors.es6","webpack:///./jsapp/js/components/library/assetActionButtons.es6","webpack:///./jsapp/js/components/library/assetsTableRow.es6","webpack:///./jsapp/js/components/library/assetsTable.es6","webpack:///./jsapp/js/components/library/myLibraryRoute.es6","webpack:///./jsapp/js/components/library/publicCollectionsStore.es6","webpack:///./jsapp/js/components/library/publicCollectionsRoute.es6","webpack:///./jsapp/js/components/library/assetInfoBox.es6","webpack:///./jsapp/js/components/library/assetPublicButton.es6","webpack:///./jsapp/js/components/library/assetBreadcrumbs.es6","webpack:///./jsapp/js/components/library/assetContentSummary.es6","webpack:///./jsapp/js/components/library/singleCollectionStore.es6","webpack:///./jsapp/js/components/library/collectionAssetsTable.es6","webpack:///./jsapp/js/components/library/assetRoute.es6","webpack:///./jsapp/js/components/reports/reportsConstants.es6","webpack:///./jsapp/js/components/reports/customReportForm.es6","webpack:///./jsapp/js/components/reports/chartTypePicker.es6","webpack:///./jsapp/js/components/reports/chartColorsPicker.es6","webpack:///./jsapp/js/components/reports/questionGraphSettings.es6","webpack:///./jsapp/js/components/reports/reportTable.es6","webpack:///./jsapp/js/components/reports/reportViewItem.es6","webpack:///./jsapp/js/components/reports/reportContents.es6","webpack:///./jsapp/js/components/reports/reportStyleSettings.es6","webpack:///./jsapp/js/components/reports/reports.es6","webpack:///./jsapp/js/components/formLanding.es6","webpack:///./jsapp/js/components/formSummary.es6","webpack:///./jsapp/js/components/dataAttachments/connectProjects.es6","webpack:///./jsapp/js/components/modalForms/formMedia.es6","webpack:///./jsapp/js/components/projectDownloads/exportsConstants.es6","webpack:///./jsapp/js/components/projectDownloads/exportsUtils.es6","webpack:///./jsapp/js/components/projectDownloads/exportsStore.es6","webpack:///./jsapp/js/components/projectDownloads/exportTypeSelector.es6","webpack:///./jsapp/js/components/projectDownloads/projectExportsCreator.es6","webpack:///./jsapp/js/components/projectDownloads/projectExportsList.es6","webpack:///./jsapp/js/components/projectDownloads/legacyExports.es6","webpack:///./jsapp/js/components/projectDownloads/anonymousExports.es6","webpack:///./jsapp/js/components/projectDownloads/projectDownloads.es6","webpack:///./jsapp/js/components/map.es6","webpack:///./jsapp/js/components/RESTServices/RESTServicesList.es6","webpack:///./jsapp/js/components/RESTServices.es6","webpack:///./jsapp/js/components/formSubScreens.es6","webpack:///./jsapp/js/components/changePassword.es6","webpack:///./jsapp/js/components/sectionNotFound.es6","webpack:///./jsapp/js/components/formNotFound.es6","webpack:///./jsapp/js/components/formJson.es6","webpack:///./jsapp/js/lists/forms.es6","webpack:///./jsapp/js/router/accessDenied.es6","webpack:///./jsapp/js/router/authProtectedRoute.es6","webpack:///./jsapp/js/router/permProtectedRoute.es6","webpack:///./jsapp/js/router/allRoutes.es6","webpack:///./jsapp/js/components/submissions/columnsHideForm.es6","webpack:///./jsapp/js/components/submissions/columnsHideDropdown.es6","webpack:///./jsapp/js/main.es6","webpack:///./jsapp/xlform/src/_view.coffee","webpack:///./jsapp/xlform/src/view.surveyApp.coffee","webpack:///./jsapp/xlform/src/view.choices.templates.coffee","webpack:///./jsapp/xlform/src/view.acceptedFiles.templates.coffee","webpack:///./jsapp/xlform/src/view.params.templates.coffee","webpack:///./jsapp/xlform/src/view.row.templates.coffee","webpack:///./jsapp/xlform/src/view.rowDetail.templates.coffee","webpack:///./jsapp/xlform/src/view.rowSelector.templates.coffee","webpack:///./jsapp/xlform/src/view.surveyApp.templates.coffee","webpack:///./jsapp/xlform/src/view.row.coffee","webpack:///./jsapp/xlform/src/view.choices.coffee","webpack:///./jsapp/xlform/src/view.params.coffee","webpack:///./jsapp/xlform/src/view.mandatorySetting.coffee","webpack:///./jsapp/xlform/src/view.acceptedFiles.coffee","webpack:///./jsapp/xlform/src/view.rowDetail.coffee","webpack:///./jsapp/xlform/src/view.rowDetail.hxlDict.coffee","webpack:///./jsapp/js/components/common/checkbox-and-radio.scss?fadd","webpack:///./jsapp/js/components/common/checkbox-and-radio.scss","webpack:///./jsapp/js/alertify.es6","webpack:///./jsapp/js/components/helpBubbles.scss?5ad7","webpack:///./jsapp/js/components/helpBubbles.scss","webpack:///./jsapp/js/components/common/loadingSpinner.scss?122a","webpack:///./jsapp/js/components/common/loadingSpinner.scss","webpack:///./jsapp/js/components/common/icon.scss?ab73","webpack:///./jsapp/js/components/common/icon.scss","webpack:///./jsapp/js/components/common/assetName.scss?b6e2","webpack:///./jsapp/js/components/common/assetName.scss","webpack:///./jsapp/js/components/common/modal.scss?bb3e","webpack:///./jsapp/js/components/common/modal.scss","webpack:///./jsapp/js/components/common/textBox.scss?3eff","webpack:///./jsapp/js/components/common/textBox.scss","webpack:///./jsapp/js/components/modalForms/bulkEditSubmissionsForm.scss?4544","webpack:///./jsapp/js/components/modalForms/bulkEditSubmissionsForm.scss","webpack:///./jsapp/js/components/templatesList.scss?7418","webpack:///./jsapp/js/components/templatesList.scss","webpack:///./jsapp/js/components/permissions/sharingForm.scss?bd18","webpack:///./jsapp/js/components/permissions/sharingForm.scss","webpack:///./jsapp/js/components/common/multiCheckbox.scss?0e40","webpack:///./jsapp/js/components/common/multiCheckbox.scss","webpack:///./jsapp/js/components/submissions/submissionDataTable.scss?75a3","webpack:///./jsapp/js/components/submissions/submissionDataTable.scss","webpack:///./jsapp/js/components/submissions/tableSettings.scss?d020","webpack:///./jsapp/js/components/submissions/tableSettings.scss","webpack:///./jsapp/js/components/common/koboRange.scss?0776","webpack:///./jsapp/js/components/common/koboRange.scss","webpack:///./jsapp/js/components/common/audioPlayer.scss?0058","webpack:///./jsapp/js/components/common/audioPlayer.scss","webpack:///./jsapp/js/components/common/toggleSwitch.scss?8be2","webpack:///./jsapp/js/components/common/toggleSwitch.scss","webpack:///./jsapp/js/components/library/assetActionButtons.scss?84ee","webpack:///./jsapp/js/components/library/assetActionButtons.scss","webpack:///./jsapp/js/components/library/assetsTable.scss?51e9","webpack:///./jsapp/js/components/library/assetsTable.scss","webpack:///./jsapp/js/components/library/assetInfoBox.scss?ffc0","webpack:///./jsapp/js/components/library/assetInfoBox.scss","webpack:///./jsapp/js/components/library/assetBreadcrumbs.scss?6cc8","webpack:///./jsapp/js/components/library/assetBreadcrumbs.scss","webpack:///./jsapp/js/components/reports/reports.scss?08b4","webpack:///./jsapp/js/components/reports/reports.scss","webpack:///./jsapp/img/chart-vertical.png","webpack:///./jsapp/img/chart-horizontal.png","webpack:///./jsapp/img/chart-donut.png","webpack:///./jsapp/img/chart-area.png","webpack:///./jsapp/img/chart-pie.png","webpack:///./jsapp/img/chart-line.png","webpack:///./jsapp/js/components/formSummary.scss?f162","webpack:///./jsapp/js/components/formSummary.scss","webpack:///./jsapp/js/components/dataAttachments/connect-projects.scss?3189","webpack:///./jsapp/js/components/dataAttachments/connect-projects.scss","webpack:///./jsapp/js/components/modalForms/formMedia.scss?9f11","webpack:///./jsapp/js/components/modalForms/formMedia.scss","webpack:///./jsapp/js/components/submissions/validationStatusDropdown.scss?9a10","webpack:///./jsapp/js/components/submissions/validationStatusDropdown.scss","webpack:///./jsapp/js/components/submissions/tableBulkCheckbox.scss?fb9d","webpack:///./jsapp/js/components/submissions/tableBulkCheckbox.scss","webpack:///./jsapp/js/components/common/koboDropdown.scss?b49d","webpack:///./jsapp/js/components/common/koboDropdown.scss","webpack:///./jsapp/js/components/submissions/tableColumnSortDropdown.scss?449e","webpack:///./jsapp/js/components/submissions/tableColumnSortDropdown.scss","webpack:///./jsapp/js/components/submissions/columnsHideDropdown.scss","webpack:///./jsapp/js/components/submissions/table.scss?147e","webpack:///./jsapp/js/components/submissions/table.scss","webpack:///./jsapp/js/components/submissions/mediaCell.scss?5442","webpack:///./jsapp/js/components/submissions/mediaCell.scss","webpack:///./jsapp/js/components/map.scss?5467","webpack:///./jsapp/js/components/map.scss","webpack:///./jsapp/js/components/map.marker-colors.scss?e2f7","webpack:///./jsapp/js/components/map.marker-colors.scss","webpack:///./jsapp/js/components/RESTServices.scss?b4eb","webpack:///./jsapp/js/components/RESTServices.scss","webpack:///./jsapp/js/components/accountSettings.scss?cdfb","webpack:///./jsapp/js/components/accountSettings.scss","webpack:///./jsapp/js/components/passwordStrength.scss?76ad","webpack:///./jsapp/js/components/passwordStrength.scss","webpack:///./jsapp/js/router/accessDenied.scss?8be3","webpack:///./jsapp/js/router/accessDenied.scss","webpack:///./jsapp/scss/main.scss?c13c","webpack:///./jsapp/scss/main.scss","webpack:///./jsapp/fonts/roboto-latin-ext-100-normal.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-100-normal.woff","webpack:///./jsapp/fonts/roboto-latin-ext-300-normal.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-300-normal.woff","webpack:///./jsapp/fonts/roboto-latin-ext-300-italic.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-300-italic.woff","webpack:///./jsapp/fonts/roboto-latin-ext-400-normal.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-400-normal.woff","webpack:///./jsapp/fonts/roboto-latin-ext-400-italic.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-400-italic.woff","webpack:///./jsapp/fonts/roboto-latin-ext-500-normal.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-500-normal.woff","webpack:///./jsapp/fonts/roboto-latin-ext-500-italic.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-500-italic.woff","webpack:///./jsapp/fonts/roboto-latin-ext-700-normal.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-700-normal.woff","webpack:///./jsapp/fonts/roboto-latin-ext-700-italic.woff2","webpack:///./jsapp/fonts/roboto-latin-ext-700-italic.woff","webpack:///./jsapp/fonts/roboto-mono-latin-ext-400-normal.woff2","webpack:///./jsapp/fonts/roboto-mono-latin-ext-400-normal.woff","webpack:///./jsapp/fonts/roboto-mono-latin-ext-700-normal.woff2","webpack:///./jsapp/fonts/roboto-mono-latin-ext-700-normal.woff","webpack:///./jsapp/fonts/k-icons.1637612034176.woff2","webpack:///./jsapp/fonts/k-icons.1637612034176.woff","webpack:///./jsapp/fonts/k-icons.1637612034176.ttf","webpack:///./jsapp/fonts/k-icons.1637612034176.eot","webpack:///./jsapp/fonts/k-icons.1637612034176.svg","webpack:///./jsapp/img/signup_photo.jpg","webpack:///./jsapp/img/kobologo.svg","webpack:///./jsapp/img/kobologoS.svg","webpack:///./jsapp/js/libs/reactBemComponents.es6","webpack:///./jsapp/js/formbuild/containers/KoboMatrix.es6","webpack:///./jsapp/js/formbuild/renderInBackbone.es6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","bem","makeBem","parent","htmlTagName","BemComponent","props","classNames","this","className","Array","isArray","join","wholeName","blockName","modifiersList","split","forEach","modifier","newProps","entries","propEntry","createElement","Component","createEnum","values","newEnum","Set","freeze","rootPathEl","rootPath","AssetTypeName","ROOT_URL","document","head","querySelector","console","error","content","replace","location","protocol","host","ANON_USERNAME","PERMISSIONS_CODENAMES","ENKETO_ACTIONS","HOOK_LOG_STATUSES","SUCCESS","PENDING","FAILED","KEY_CODES","TAB","ENTER","ESC","SPACE","NBSP","MODAL_TYPES","SHARING","UPLOADING_XLS","NEW_FORM","LIBRARY_NEW_ITEM","LIBRARY_TEMPLATE","LIBRARY_COLLECTION","LIBRARY_UPLOAD","ENKETO_PREVIEW","SUBMISSION","REPLACE_PROJECT","TABLE_SETTINGS","REST_SERVICES","FORM_LANGUAGES","FORM_TRANSLATIONS_TABLE","ASSET_TAGS","ENCRYPT_FORM","BULK_EDIT_SUBMISSIONS","TABLE_MEDIA_PREVIEW","DATA_ATTACHMENT_COLUMNS","PROJECT_SETTINGS_CONTEXTS","NEW","EXISTING","REPLACE","BUILDER","update_states","UNSAVED_CHANGES","UP_TO_DATE","PENDING_UPDATE","SAVE_FAILED","AVAILABLE_FORM_STYLES","label","VALIDATION_STATUSES","no_status","validation_status_not_approved","validation_status_approved","validation_status_on_hold","VALIDATION_STATUSES_LIST","QuestionTypeName","ASSET_TYPES","question","id","block","template","survey","collection","ASSET_FILE_TYPES","map_layer","form_media","MetaQuestionTypeName","QUESTION_TYPES","acknowledge","icon","audio","barcode","calculate","date","datetime","decimal","file","geopoint","geoshape","geotrace","hidden","image","integer","kobomatrix","note","range","rank","score","select_multiple","select_one","text","time","video","GroupTypeBeginName","META_QUESTION_TYPES","start","end","today","username","simserial","subscriberid","deviceid","phonenumber","audit","ADDITIONAL_SUBMISSION_PROPS","NAME_MAX_LENGTH","COMMON_QUERIES","b","q","qb","qbt","qbtc","ACCESS_TYPES","GroupTypeEndName","GROUP_TYPES_BEGIN","begin_group","begin_score","begin_rank","begin_kobomatrix","begin_repeat","MiscRowTypeName","GROUP_TYPES_END","SCORE_ROW_TYPE","score__row","RANK_LEVEL_TYPE","rank__level","ANY_ROW_TYPE_NAMES","CHOICE_LISTS","SELECT","MATRIX","SCORE","RANK","MATRIX_PAIR_PROPS","inSurvey","inChoices","DEPLOYMENT_CATEGORIES","Deployed","Draft","Archived","QUERY_LIMIT_DEFAULT","MAX_DISPLAYED_STRING_LENGTH","connect_projects","COLLECTION_METHODS","offline_url","desc","url","single_url","single_once_url","iframe_url","preview_url","android","SURVEY_DETAIL_ATTRIBUTES","parameters","FUNCTION_TYPE","function","FUSE_OPTIONS","isCaseSensitive","includeScore","minMatchCharLength","shouldSort","ignoreFieldNorm","threshold","ignoreLocation","constants","createFunctions","Reflux","PromiseFactory","_","utils","triggerPromise","me","args","arguments","canHandlePromise","children","indexOf","createdPromise","resolve","reject","willCallPromise","nextTick","previousPromise","promise","inputPromise","then","trigger","removeSuccess","completed","listen","removeFailed","failed","catch","Error","response","listenAndPromise","callback","bindContext","removeListen","returnedPromise","promiseFactory","PublisherMethods","triggerAsync","use","RefluxPromise","Promise","permissionsActions","createActions","getConfig","getAssetPermissions","bulkSetAssetPermissions","assignAssetPermission","removeAssetPermission","setAssetPublic","copyPermissionsFrom","dataInterface","getPermissionsConfig","done","fail","notify","assetUid","perms","permissionAssignments","perm","isNonOwner","removePermission","asset","shouldSetAnonPerms","permsToSet","permissions","filter","permissionAssignment","user","owner","buildUserUrl","permission","permConfig","getPermissionByCodename","view_asset","discover_asset","uid","permToRemove","find","sourceUid","targetUid","helpActions","getInAppMessages","setMessageAcknowledged","setMessageReadTime","getHelpInAppMessages","readTime","patchHelpInAppMessage","interactions","acknowledged","isAcknowledged","libraryActions","searchMyCollectionAssets","searchMyLibraryAssets","searchMyCollectionMetadata","searchMyLibraryMetadata","searchPublicCollections","searchPublicCollectionsMetadata","subscribeToCollection","unsubscribeFromCollection","moveToCollection","getCollections","params","xhr","started","abort","assetUrl","collectionUrl","patchAsset","onAnySearchFailed","statusText","responseJSON","detail","library","submissionsActions","getSubmissions","bulkDeleteStatus","bulkPatchStatus","bulkPatchValues","bulkDelete","options","pageSize","page","sort","fields","bulkRemoveSubmissionsValidationStatus","bulkPatchSubmissionsValidationStatus","submissionIds","bulkPatchSubmissionsValues","failures","bulkDeleteSubmissions","submissions","formMediaActions","loadMedia","uploadMedia","deleteMedia","formMediaJSON","postFormMedia","alertify","getAssetFiles","deleteFormMedia","success","exportsActions","getExport","getExports","createExport","deleteExport","getExportSettings","getExportSetting","updateExportSetting","createExportSetting","deleteExportSetting","getAssetExports","exportUid","getAssetExport","createAssetExport","deleteAssetExport","passData","settingUid","cleanData","export_settings","JSON","stringify","dataShareActions","attachToSource","detachSource","patchSource","getAttachedSources","getSharingEnabledAssets","toggleDataSharing","updateColumnFilters","filename","attachmentUrl","allSources","results","source","getAssetUIDFromUrl","sourceName","truncateString","source__name","sourceUrl","linkedFields","truncateFile","patchDataSharing","actions","help","media","dataShare","navigation","auth","verifyLogin","logout","changePassword","getEnvironment","getApiToken","addExternalItemAtPosition","search","assets","resources","createImport","loadAsset","deployAsset","setDeploymentActive","createSnapshot","cloneAsset","deleteAsset","listTags","createResource","asyncResult","updateAsset","updateSubmissionValidationStatus","removeSubmissionValidationStatus","deleteSubmission","duplicateSubmission","refreshTableSubmissions","hooks","getAll","add","update","delete","getLogs","retryLog","retryLogs","misc","getUser","checkUsername","updateProfile","userUrl","queryUserExistence","callbacks","patchProfile","onComplete","onFail","hadFieldsErrors","errorProp","onCompleted","onFailed","details","createAssetSnapshot","next","Raven","captureMessage","resp","redeployment","onDone","msg","failure_message","xform_id_string","replaceSupportEmail","status","responseText","alert","deployment__active","assetId","fileType","reports","setStyle","setCustom","report_styles","report_custom","table","updateSettings","settings","map","setMapStyles","mapStyles","map_styles","err","searchData","searchAssets","setTimeout","selfProfile","loggedin","anonymous","currentPassword","newPassword","current_password","new_password","environment","apiToken","token","getAsset","sid","duplicatedSubmission","_id","getHooks","addExternalService","hookUid","updateExternalService","deleteExternalService","getHookLogs","lid","retryExternalServiceLog","retryExternalServiceLogs","LANGUAGE_COOKIE_NAME","assign","a","defaults","notifier","delay","position","closeButton","cookies","atype","formatTime","timeStr","calendar","sameElse","formatTimeDate","format","formatTimeDateShort","formatDate","getUsernameFromUrl","matched","match","startsWith","_log","log","profileSeconds","profile","profileEnd","str","newEmail","replaceBracketsWithLink","bracketRegex","linkHtml","currentLang","getLangAsObject","langString","openingIndex","closingIndex","langCode","substring","langName","trim","code","getLangString","obj","stringToColor","prc","color","num","parseInt","amt","Math","round","R","G","B","toString","shade","int_to_rgba","word","h","charCodeAt","hash","isAValidUrl","URL","e","checkLatLng","geolocation","validFileTypes","escapeHtml","div","appendChild","createTextNode","innerHTML","renderCheckbox","isImportant","additionalClass","hasLongWords","limit","textArr","maxLength","max","el","hasVerticalScrollbar","element","scrollHeight","offsetHeight","getScrollbarWidth","outer","style","visibility","overflow","msOverflowStyle","body","inner","scrollbarWidth","offsetWidth","parentNode","removeChild","toTitleCase","toUpperCase","launchPrinting","print","truncatedString","halfway","trunc","truncatedStringFront","truncatedStringBack","truncateUrl","generateAutoname","startIndex","endIndex","toLowerCase","csrfSafeMethod","method","test","Cookies","changes","orig_obj","new_obj","out","any","keys","stores","tags","createStore","init","queries","listenTo","listTagsCompleted","surveyState","state","setState","chz","assetSearch","onSearchAssetsCompleted","getRecentSearch","queryString","Date","getTime","MAX_SEARCH_AGE","query","count","translations","isTranslationTableUnsaved","change","changed","setTranslationTableUnsaved","isUnsaved","pageState","assetNavExpanded","showFixedDrawer","toggleFixedDrawer","_changes","newval","showModal","modal","hideModal","_onHideModal","switchModal","switchToPreviousModal","type","previousType","hasPreviousModal","snapshots","snapshotCreated","snapshotCreationFailed","snapshot","jqxhr","session","currentAccount","isAuthStateKnown","isLoggedIn","onUpdateProfileCompleted","onLoggedIn","onNotLoggedIn","onVerifyLoginFailed","account","message","allAssets","byUid","_waitingOn","onListAssetsCompleted","onListAssetsFailed","onUpdateAssetCompleted","onDeleteAssetCompleted","onCloneAssetCompleted","onLoadAssetCompleted","onDeletePermissionCompleted","whenLoaded","cb","registerAsset","dataAsset","index","unshift","deleted","item","parsedObj","parseTags","callCallbacks","pop","selectedAsset","toggleSelect","forceSelect","set","selectedAssetUid","userExists","checked","usernameExists","usernameDoesntExist","$ajax","$","ajax","dataType","assetMapping","Deferred","listTemplates","createTemporaryAssetSnapshot","getHook","contentType","getHookLog","getReportData","identifierString","identifiers","group_by","version_id","new_asset_type","clone_from","clone_from_version_id","asset_type","permUrl","asset__uid","getImportDetails","getJSON","ordering","getAssetXformView","_searchAssetsWithPredefinedQuery","predefinedQuery","offset","searchPhrase","filterProperty","filterValue","metadata","collectionsFirst","collections_first","_searchMetadataWithPredefinedQuery","assetsHash","loadNextPageUrl","nextPageUrl","active","contents","formData","FormData","append","processData","getResource","assetType","f","getSubmission","submission_ids","getSubmissionsQuery","getEnketoEditLink","getEnketoViewLink","uploadAssetFile","deleteAssetFile","setLanguage","login","creds","PATHS","LOGIN","ROUTES","ROOT","ACCOUNT_SETTINGS","CHANGE_PASSWORD","LIBRARY","MY_LIBRARY","PUBLIC_COLLECTIONS","NEW_LIBRARY_ITEM","LIBRARY_ITEM","EDIT_LIBRARY_ITEM","NEW_LIBRARY_CHILD","LIBRARY_ITEM_JSON","LIBRARY_ITEM_XFORM","FORMS","FORM","FORM_JSON","FORM_XFORM","FORM_EDIT","FORM_SUMMARY","FORM_LANDING","FORM_DATA","FORM_REPORT","FORM_TABLE","FORM_DOWNLOADS","FORM_GALLERY","FORM_MAP","FORM_MAP_BY","FORM_SETTINGS","FORM_MEDIA","FORM_SHARING","FORM_RECORDS","FORM_REST","FORM_REST_HOOK","FORM_KOBOCAT","FORM_RESET","cleanupTags","tag","getAssetOwnerDisplayName","getOrganizationDisplayString","organization","getLanguageIndex","foundIndex","summary","languages","language","getLanguagesDisplayString","getSectorDisplayString","sector","getCountryDisplayString","showLongName","country","getAssetDisplayName","emptyName","output","final","original","labels","empty","getQuestionOrChoiceDisplayName","questionOrChoice","translationIndex","$autoname","isLibraryAsset","getAssetIcon","lock_any","has_deployment","access_types","includes","subscribed","isAssetPublic","shared","modifyDetails","modalType","share","assetid","editLanguages","editTags","replaceForm","getSurveyFlatPaths","includeGroups","includeMeta","openedGroups","row","rowName","getRowName","groupsPath","$kuid","getTranslatedRowLabel","foundRowIndex","foundRow","rowIndex","getRowLabelAtIndex","possibleRow","isRowSpecialLabelHolder","mainRow","holderRow","mainRowName","holderRowName","renderQuestionTypeIcon","rowType","iconClassName","rowTypeAsQuestionType","title","getFlatQuestionsList","flatPaths","openedRepeatGroupsCount","isRequired","Boolean","required","path","parents","hasRepatParent","isAssetPublicReady","errors","isDiscoverableByAnonymous","foundPerm","undefined","isSelfOwned","owner__username","buildAssetUrl","removeInvalidChars","String","SUBMISSION_ACTIONS_ID","VALIDATION_STATUS_ID_PROP","EXCLUDED_COLUMNS","SORT_VALUES","DATA_TABLE_SETTING","DATA_TABLE_SETTINGS","SELECTED_COLUMNS","FROZEN_COLUMN","SHOW_GROUP","TRANSLATION","SHOW_HXL","SORT_BY","TABLE_MEDIA_TYPES","DEFAULT_DATA_CELL_WIDTH","CELLS_WIDTH_OVERRIDES","mixins","dmix","afterCopy","saveCloneAs","evt","currentTarget","dataset","versionId","dialog","opts","ok","cancel","onok","destroy","hashHistory","oncancel","show","cloneAsTemplate","assetName","cloneAssetAsNewType","targetType","promptTitle","promptMessage","_deployAssetFirstTime","deployment_alert","warning","dismiss","_redeployAsset","val","ok_button","elements","buttons","primary","firstChild","disabled","innerText","archiveAsset","clickAssets","click","archive","unarchiveAsset","unarchive","assetOrUid","toggleDeploymentHistory","historyExpanded","summaryDetails","asJson","dmixAssetStoreChange","_getAssetUid","formAsset","componentWillUpdate","componentDidMount","assetStore","initialAssetLoadNotNeeded","removeSharing","applyImport","doneCheckInterval","setInterval","importData","finalData","messages","updated","created","clearInterval","failData","droppable","applyFileToAsset","reader","FileReader","onload","destination","base64Encoded","target","lastModified","totalFiles","readAsDataURL","applyUrlToAsset","_forEachDroppedFile","router","context","isProjectReplaceInForm","isActive","isLibrary","multipleFiles","assetData","searchDefault","errLines","error_type","dropFiles","files","rejectedFiles","pms","errMsg","onActionButtonClick","action","clone","newName","assetTypeLabel","displayName","assetUtils","canAddToParent","foundParentAsset","myLibraryStore","findAssetByUrl","userCan","change_asset","goToUrl","cloneAsSurvey","edit","onshow","safeName","escape","deployment__submission_count","$els","each","prop","deploy","sharing","refresh","encryption","userViewAssetPerm","permUserUrl","_doesPermMatch","permName","partialPermName","partial_submissions","partial_permissions","some","partialPerm","isSubmissionWritable","submission","userCanPartially","currentUsername","nestedPerm","submittedBy","_submitted_by","allowedUsers","filters","concat","$in","anonAccess","contextRouter","isFormList","currentAssetID","isMyLibrary","isPublicCollections","isLibraryList","isLibrarySingle","isFormSingle","currentAsset","isActiveRoute","indexOnly","isFormBuilder","setAttribute","SUFFIX_PARTIAL","SUFFIX_USERS","CHECKBOX_NAMES","PARTIAL_CHECKBOX_PAIRS","submissionsView","submissionsViewPartial","submissionsEdit","submissionsEditPartial","submissionsValidate","submissionsValidatePartial","submissionsDelete","submissionsDeletePartial","PARTIAL_PERM_PAIRS","view_submissions","change_submissions","validate_submissions","delete_submissions","CHECKBOX_PERM_PAIRS","formView","formEdit","formManage","manage_asset","submissionsAdd","add_submissions","PERM_CHECKBOX_PAIRS","checkboxName","PARTIAL_IMPLIED_CHECKBOX_PAIRS","EnvStore","terms_of_service_url","privacy_policy_url","source_code_url","support_email","support_url","community_url","available_sectors","available_countries","all_languages","interface_languages","submission_placeholder","isReady","nestedArrToChoiceObjs","onGetEnvCompleted","displayLabel","envStoreLanguage","envStore","getLanguage","toLocaleLowerCase","Store","hasRowRestriction","assetContent","restrictionName","isAssetAllLocked","LOCK_ALL_RESTRICTION_NAMES","foundProfile","getRowLockingProfile","restrictions","hasAssetRestriction","getAssetLockingProfile","getLockingProfile","profileName","found","LOCKING_PROFILES_PROP_NAME","LOCKING_PROFILE_PROP_NAME","isRowLocked","isAssetLocked","hasAssetAnyLocking","LOCK_ALL_PROP_NAME","isAssetLockable","getQuestionFeatures","_getFeatures","QUESTION_RESTRICTIONS","getGroupFeatures","GROUP_RESTRICTIONS","getFormFeatures","FORM_RESTRICTIONS","sourceList","isAllLocked","outcome","cans","cants","restriction","LOCKING_RESTRICTIONS","choice_add","choice_delete","choice_label_edit","choice_order_edit","choice_value_edit","question_delete","question_label_edit","question_settings_edit","question_skip_logic_edit","question_validation_edit","group_delete","group_label_edit","group_question_add","group_question_delete","group_question_order_edit","group_settings_edit","group_skip_logic_edit","group_split","form_appearance","form_meta_edit","form_replace","group_add","question_add","question_order_edit","language_edit","LOCKING_UI_CLASSNAMES","HIDDEN","DISABLED","PermConfigStore","wantedCodename","verifyReady","codename","wantedUrl","size","Loading","Loading__inner","ROOT_BREADCRUMBS","PROJECTS","href","ASSETS_TABLE_CONTEXTS","ORDER_DIRECTIONS","ASSETS_TABLE_COLUMNS","orderBy","defaultValue","ascending","descending","filterBy","filterByPath","filterByMetadataName","AvailableType","DefaultType","TextBox","readOnly","onChange","onBlur","onKeyPress","modifiers","customModifiers","inputProps","placeholder","TextBox__label","TextBox__input","description","TextBox__description","TextBox__error","Checkbox","wrapperModifiers","Checkbox__wrapper","Checkbox__input","Checkbox__label","getFormBuilderAssetType","desiredAssetType","surveyToValidJson","toFlatJSON","unnullifyTranslations","surveyDataJSON","surveyData","parse","translatedProps","translated","defaultLang","translations_0","default_language","choices","choice","translatedProp","surveyRow","nullifyTranslations","baseSurvey","clonedeep","formDefaultLang","_initialParams","defaultLangIndex","transletedPropArr","propVal","koboMatrixParser","hasMatrix","surveyLength","appearance","matrix","localStorage","getItem","cols","kuid","k","readParameters","separator","otherSeparators","RegExp","part","writeParameters","redirectToLogin","getLoginUrl","currentLoc","getCurrentLocation","pathname","nextUrl","encodeURIComponent","getCurrentPath","isRootRoute","isAccountSettingsRoute","isChangePasswordRoute","isLibraryRoute","isMyLibraryRoute","isPublicCollectionsRoute","isNewLibraryItemRoute","isLibraryItemRoute","isEditLibraryItemRoute","isNewLibraryChildRoute","isLibraryItemJsonRoute","isLibraryItemXformRoute","isFormsRoute","isFormRoute","isFormJsonRoute","isFormXformRoute","isFormEditRoute","isFormSummaryRoute","isFormLandingRoute","isFormDataRoute","isFormReportRoute","isFormTableRoute","isFormDownloadsRoute","isFormGalleryRoute","isFormMapRoute","isFormMapByRoute","viewby","isFormSettingsRoute","isFormMediaRoute","isFormSharingRoute","isFormRestRoute","isFormRestHookRoute","isFormKobocatRoute","isFormResetRoute","isAnyFormsRoute","isAnyLibraryRoute","isAnyLibraryItemRoute","isAnyFormRoute","getRouteAssetUid","tableStore","overrides","getTableSettings","tableSettings","getCurrentAsset","saveTableSettings","newTableSettings","newSettings","setOverrides","newOverrides","prevData","getAllColumns","dataKeys","reduce","foundPathKey","pathKey","excludedMatrixKeys","isInsideKoboMatrix","end_kobomatrix","rowPath","excludedRepeatGroups","flatPathsWithGroups","getHideableColumns","columns","getSelectedColumns","getFrozenColumn","frozenColumn","isFieldVisible","fieldId","isFieldFrozen","selectedColumns","setFrozenColumn","isFrozen","newVal","settingsObj","getFieldSortValue","sortBy","getSortBy","setSortBy","sortValue","newSortBy","showAllFields","showField","newSelectedColumns","setFieldsVisibility","hideField","hideableColumns","columnsToBeVisible","getShowGroupName","showGroupName","getTranslationIndex","getShowHXLTags","showHXLTags","$skipLogicParser","$validationLogicParser","_trim","skipLogicParser","validationLogicParser","split_paste","trimmed","out_out","orow","txtid","randChar","charI","floor","random","fromCharCode","newI","parseHelper","parseSkipLogic","parent_row","meta","parsedValues","reset","parseable","expressionCode","crit","operator","criterionOption","getSurvey","findRowByName","getList","response_value","criterion","silent","_parent","sluggifyLabel","other_names","sluggify","preventDuplicates","lowerCase","preventDuplicateUnderscores","stripSpaces","lrstrip","incrementorPadding","validXmlTag","isValidXmlTag","lstrip","rstrip","descriptor","replaceNonWordCharacters","nonWordCharsExceptions","underscores","characterLimit","regex","isNumber","names_lc","attempt_base","attempt","increment","increment_str","pow","AssetStore","Modal","autoBind","addEventListener","escFunction","removeEventListener","keyCode","onClose","small","Modal__title","isDuplicated","onClick","Modal__backdrop","backdropClick","open","large","Modal__content","Modal__header","customModalHeader","renderTitle","renderClose","React","Footer","Modal__footer","Body","Modal__body","Tabs","Modal__tabs","abortFetchData","previousPath","previousSearchPhrase","searchBoxStore","getSearchPhrase","PAGE_SIZE","DEFAULT_ORDER_COLUMN","isInitialised","isFetchingData","currentPage","totalPages","totalUserAssets","totalSearchAssets","fetchDataDebounced","debounce","fetchData","setDefaultColumns","onRouteChange","searchBoxStoreChanged","onMoveToCollectionCompleted","onSearchStarted","onSearchCompleted","onSearchFailed","onSearchMetadataCompleted","onAssetChanged","onAssetCreated","startupStore","orderColumnId","orderValue","filterColumnId","getSearchParams","filterColumn","fetchMetadata","needsMetadata","orderColumn","direction","getContext","SEARCH_CONTEXTS","ceil","wasUpdated","loopAsset","date_modified","findAsset","setCurrentPage","newCurrentPage","setOrder","setFilter","resetOrderAndFilter","hasAllDefaultValues","getCurrentUserTotalAssets","emptySearchState","searchState","searchResults","searchResultsList","searchFilterParams","searchResultsDisplayed","searchResultsFor","searchResultsSuccess","searchDebugQuery","searchResultsCount","parentUid","parentName","allPublic","initialState","cleared","defaultQueryState","defaultQueryFor","defaultQueryDebug","defaultQueryFilterParams","defaultQueryResults","defaultQueryResultsList","defaultQueryCount","SearchContext","latestSearchData","ctx","debounceTime","jqxhrs","createAction","searchStore","store","filterParams","setAsset","removeAsset","setAssetInList","rebuildCategorizedList","listName","list","updateObj","isNewAsset","sourceResults","catList","splitResultsToCategorized","removeAssetFromList","items","quietUpdate","triggerState","filterTagQueryData","filterTags","removeItem","toDataObject","searchTags","searchString","string","toQueryData","dataObject","searchParams","paramGroups","queryData","all_public","assetVersionIds","SparkMD5","_opts","_dataObjectClone","qData","isSearch","cacheAsDefaultSearch","searchAborted","req","searchFor","parsed","newState","__builtQueryString","defaultQueryCategorizedResultsLists","searchBaseFilterParams","searchResultsCategorizedResultsLists","mixin","debouncedSearch","searchValue","updateStore","vals","quietUpdateStore","searchSemaphore","getSearchActions","commonMethods","getInitialState","extendSearchContext","passedCtx","searchContext","getSearchContext","searchTagsChange","searchCollectionChange","searchChangeEvent","searchClear","isSearchContext","contexts","showDefault","searches","common","parseFormData","partialPerms","partialCheckboxName","permCodename","buildBackendPerm","permObj","removeImpliedPerms","removeContradictoryPerms","contraPerms","backendPerm","getPermission","contradictory","contraPerm","has","impliedPerms","implied","impliedPerm","permissionCodename","buildFormData","partial","permDef","parseUserWithPermsList","itemPerm","outputPerm","parseBackendData","ownerUrl","includeAnon","groupedData","isOwner","sortParseBackendOutput","permParser","resetContext","clear","setSearchPhrase","newContext","configs","typeLabels","Backbone","$utils","defaultSurveyDetails","start_time","default","end_time","aliases","phoneNumber","bg_aud","SurveyDetailSchemaItem","_forSurvey","Model","SurveyDetailSchema","model","typeList","_typeList","Collection","surveyDetailSchema","defaultsGeneral","defaultsForType","_hideUnlessChanged","calculation","paramTypes","number","boolean","questionParams","step","randomize","seed","lookupRowType","preventRequired","isMedia","orOtherOption","specifyChoice","Type","extend","types","arr","exp","typeId","tp","typeSelectList","autoset_kuid","columnOrder","newRowDetails","hint","guidance_hint","relevant","constraint","constraint_message","newGroupDetails","_isRepeat","question_types","truthyValues","falsyValues","boolOutputs","PopoverMenu","popoverVisible","popoverHiding","placement","_mounted","nextProps","clearPopover","isBlur","blurEventDisabled","relatedTarget","popoverMenuStopBlur","focus","$assetRow","$popoverMenu","top","outerHeight","popoverSetVisible","wrapperMods","additionalModifiers","menuMods","PopoverMenu__toggle","toggle","tabIndex","triggerLabel","PopoverMenu__content","DisplayGroupTypeName","DISPLAY_GROUP_TYPES","group_root","group_repeat","group_regular","group_matrix","group_matrix_row","DisplayGroup","child","DisplayResponse","getSubmissionDisplayData","submissionData","traverseSurvey","parentGroup","parentData","repeatIndex","rowListName","getRowListName","rowLabel","parentGroupPath","isRowFromCurrentGroupLevel","rowData","getRowData","itemIndex","itemObj","addChild","matrixGroupObj","populateMatrixData","rowObj","matrixGroup","matrixRowName","matrixRowLabel","matrixRowGroupObj","matrixGroupPath","questionName","questionSurveyObj","questionData","dataProp","questionObj","repeatRowData","getRepeatGroupAnswers","getRegularGroupAnswers","groupPath","targetKey","answers","lookForAnswers","levelIndex","levelKey","objKey","returnVal","getMediaAttachment","fileName","fileNameNoSpaces","mediaAttachment","_attachments","attachment","skipLogicHelpers","SkipLogicHelperFactory","model_factory","view_factory","current_question","serialized_criteria","create_presenter","criterion_model","criterion_view","SkipLogicPresenter","create_builder","SkipLogicBuilder","create_context","SkipLogicHelperContext","SkipLogicPresentationFacade","helper_factory","initialize","serialize","render","view","presenter","update_choice_list","choicelist_cid","_get_question","_isSelectQuestion","cid","current_response_value","models","response_value_view","$el","change_response","dispatcher","on","change_question","question_name","question_type","get_type","change_operator","create_operator_picker","operator_picker_view","get_value","attach_operator","change_response_view","finish_changing","operator_id","response_text","operator_type","response_view","create_response_value_view","attach_response","rV","option","is_valid","isValid","question_picker_view","detach","create_question_picker","attach_to","build_criterion_builder","build_empty_criterion","_parse_skip_logic_criteria","criteria","build_criterion","captureException","extra","build_operator_logic","build_operator_model","_operator_type","symbol","create_operator","equality_operator_type","operator_types","op_type","parser_name","build_criterion_logic","operator_model","create_criterion_model","create_criterion_view","questions","selectable","selectableRows","use_mode_selector_helper","use_criterion_builder_helper","use_hand_code_helper","builder","presenters","SkipLogicCriterionBuilderHelper","SkipLogicHandCodeHelper","off","SkipLogicModeSelectorHelper","create_criterion_builder_view","criterion_delimiter","facade","Events","remove","determine_add_new_criterion_visibility","removeInvalidPresenters","presenters_to_be_removed","serialize_all","determine_criterion_delimiter_visibility","$criterion_delimiter","hide","$add_new_criterion_button","serialized","add_empty","all_presenters_are_valid","switch_editing_mode","build_hand_code_criteria","$parent","textarea","create_textarea","button","create_button","$destination","bind_event","criterion_builder_button","handcode_button","ops","EX","operators","EXISTENCE","EQUALITY","GREATER_THAN","GREATER_THAN_EQ","EQ","GT","GE","response_type","negated_label","abbreviated_label","abbreviated_negated_label","ans_notnull","ans_null","resp_equals","resp_notequals","multiplechoice_selected","multiplechoice_notselected","resp_greater","resp_less","resp_greaterequals","resp_lessequals","validation","$viewUtils","$configs","$rowDetailMixins","validators","invalidChars","attr","customValue","Validator","__validators","unique","rows","pluck","rd","base","BaseCollection","arg","BaseModel","linkUp","finalize","getValue","what","setDetail","constructor","RowDetail","parentRow","precedingRow","ii","at","nextRow","vals2set","isString","isObject","_order","postInitialize","idAttribute","_oValue","ctxt","aliases_dict","group","repeat","groupable","flatten","groupsOrRepeats","requiredSheetNameList","testGroupable","begin","testGroupOrRepeat","hiddenTypes","custom","tag_string","tg","parseSettings","foundSettings","unparsed__settings","settings__style","settings__form_id","form_id","settings__title","$skipLogicHelpers","rowDetailsSkipLogic","SkipLogicFactory","TextOperator","DateOperator","SkipLogicOperator","ExistenceSkipLogicOperator","SelectMultipleSkipLogicOperator","EmptyOperator","SkipLogicCriterion","create_response_model","IntegerResponseModel","DecimalResponseModel","ResponseModel","factory","response_model","findRowByCid","old_question_type","get_id","is_negated","get_correct_type","set_option_names","current_value","choicelist","choice_cids","set_value","Operator","selected","_set_value","validate","pattern","value_is_not_number","lastIndexOf","DateResponseModel","ToggleSwitch","ToggleSwitch__wrapper","ToggleSwitch__input","ToggleSwitch__slider","ToggleSwitch__label","htmlFor","$model","$view","helper","skipLogic","viewUtils","$div","enketoServer","normalizeEventName","eventName","reorderElemsByData","selector","dataAttribute","parentEl","parentElement","appendTo","cleanStringify","atts","attArr","debugFrame","debugFrameStyle","width","height","bottom","left","zIndex","backgroundColor","showFn","txt","html","class","css","close","launchQuestionLibrary","wrap","enketoIframe","enketoPreviewUri","buildUrl","previewUrl","_loadConfigs","launch","src","load","fromCsv","surveyCsv","holder","previewServer","onError","complete","jqhr","unique_string","onSuccess","informative_message","$modelUtils","Option","unset","getKeys","with_val","toJSON","attributes","Options","ChoiceList","summaryObj","__cascadedList","_get_previous_linked_choice_list","cl","_get_last_linked_choice_list","prev","_get_first_linked_choice_list","_has_corresponding_row","_name","_create_corresponding_row_data","full_path","_full_path_choice_filter","prevs","rows_data","build_row_data","curlist","choice_filter","compact","last","cl_name","next_list","create_corresponding_rows","_index","addRowAtIndex","row_data","getOptionKeys","option_key","option_keys","uniq","names","json","invoke","getNames","opt","ChoiceLists","getListNames","shorter","Csv","param","_isString","csv","toArray","arrayToObjects","rowArray","_isArray","buildRowArray","rowObjects","kind","cell","column","addRow","colsChanged","toObjects","toObject","toArrays","asCsvCellValue","delimiter","_remove_extra_escape_chars","ss","outstr","fromStringArray","outpArr","fromArray","headRow","col","csvString","arrayToObject","sortByKey","includeSortByKey","sortByKeyI","sbKeyVal","removeTrailingNewlines","_parse_string","strData","strDelimiter","_objPattern","arrMatches","exec","strMatchedDelimiter","strMatchedValue","parseFloat","isNaN","parsedMatch","SheetedCsv","_sheetIds","_sheets","parseSheetedCsv","osids","sheets","sheet","sheetId","outp","rowA","headRowStr","sheeted","shcsv","orderedSheetIds","cell1","remaining","curSheet","shCsv","substr","_nativeIsArray","callee","templates","choices_templates","accepted_files_templates","params_templates","row_templates","rowDetail_templates","rowSelector_templates","surveyApp_templates","rowDetail","rowSelector","surveyApp","acceptedFilesInput","numberParam","booleanParam","addOptionButton","mandatorySettingSelector","rowErrorView","xlfRowView","scoreView","rankView","line","namer","$$render","AssetName","row_count","$base","$choices","$surveyFragment","$surveyDetail","$inputDeserializer","$inputParser","$markdownTable","Survey","addlOpts","Settings","enable_auto_name","sname","lockingProfiles","surveyDetails","SurveyDetails","loadSchema","surveyDetailsSchema","loadChoiceLists","hasBeenParsed","parseArr","importDetail","importDefaults","warnings","forEachRow","linkUpChoiceLists","choiceKeys","overlapping_choice_keys","intersection","choiceList","insert_row","_isCloned","new_row","rowlist","name_detail","deduplicate","_ensure_row_list_is_copied","insertSurvey","targetGroupId","foundGroup","index_incr","row_i","_insertRowInPlace","noDetach","spaces","flattened_choices","_c","list_name","list_item","setManually","addlSheets","fn","export_relevant_values","includeGroupEnds","sd","shtName","logFn","tabs","logr","flat","summarize","rowCount","hasGps","previous","event","prepCols","exclude","toSsStructure","toCsvJson","oCols","oRows","addRowToORows","colJson","includeErrors","choicesCsvJson","lists","_getSubLists","clName","clAtts","toMarkdown","csvJsonToMarkdown","toCSV","SurveyFragment","csv_repr","_usingSurveyLoadCsv","_is_csv","_deserialized","deserialize","_parsed","md","sObj","mdSurveyStructureToObject","loadDict","auto_name","changing_form_title","viewRowDetailSkipLogic","$viewWidgets","SkipLogicCriterionBuilderView","events","uniqueId","addCriterion","deleteCriterion","modelId","$target","markChangedDelimSelector","Base","tagName","alreadyRendered","mark_question_specified","is_specified","toggleClass","bind_question_picker","questionVal","$question_picker","disable_placeholder_option","bind_operator_picker","$operator_picker","select2","bind_response_value","response_value_handler","$response_value","QuestionPicker","$firstChild","DropDown","OperatorPicker","minimumResultsForSearch","_set_style","numValue","Number","absolute_value","abs","SkipLogicEmptyResponse","EmptyView","SkipLogicTextResponse","handler","SkipLogicValidatingTextResponseView","setElement","$error_message","show_invalid_view","clear_invalid_view","$input","addClass","removeClass","SkipLogicDropDownResponse","responses","handle_model_cid_change","SkipLogicViewFactory","target_question","DropDownModel","set_options","TextArea","Button","create_textbox","create_label","Label","create_empty","SurveyDetail","schema","_schema","dtobj","Radio","Radio__row","Radio__input","Radio__label","TemplatesList","isLoading","templatesCount","selectedTemplateUid","currentAccountUsername","fetchTemplates","onSelectTemplate","FormView__cell","TemplatesList__header","TemplatesList__column","htmlId","TemplatesList__template","TemplatesList__templateRadio","onSelectedTemplateChange","reactMixin","ListenerMixin","ProjectSettings","STEPS","FORM_SOURCE","CHOOSE_TEMPLATE","UPLOAD_FILE","IMPORT_URL","PROJECT_DETAILS","unlisteners","isSessionLoaded","isSubmitPending","currentStep","previousStep","isImportFromURLPending","importUrl","importUrlButtonEnabled","importUrlButton","isApplyTemplatePending","applyTemplateButton","chosenTemplateUid","isUploadFilePending","isAwaitingArchiveCompleted","isAwaitingUnarchiveCompleted","setInitialStep","onUpdateAssetFailed","onCloneAssetFailed","onSetDeploymentActiveFailed","onSetDeploymentActiveCompleted","clb","displayStep","decodeURIComponent","fieldName","fieldValue","onProjectDetailsChange","onAnyDataChange","isChecked","templateUid","preventDefault","goToProjectsList","onArchiveProjectStarted","onUnarchiveProjectStarted","goToFormLanding","targetStep","onSetModalTitle","stepTitle","getStepTitle","baseTitle","getBaseTitle","resetApplyTemplateButton","goToFormBuilder","getOrCreateFormAsset","finalAsset","resetImportUrlButton","getFilenameFromURI","updateAndOpenAsset","createAssetAndOpenInBuilder","nameVal","FormModal__form","Modal__subheader","FormModal__item","renderChooseTemplateButton","onTemplateChange","renderBackButton","KoboButton","applyTemplate","onDrop","onFileDrop","multiple","activeClassName","rejectClassName","accept","onImportUrlChange","importFromURL","sectors","countries","onSubmit","handleSubmit","onProjectDetailsFormChange","getNameInputLabel","onNameChange","onDescriptionChange","onSectorChange","classNamePrefix","menuPlacement","isClearable","onCountryChange","onShareMetadataChange","isArchived","unarchiveProject","archiveProject","deleteProject","isBackButtonDisabled","displayPreviousStep","isReplacingFormLocked","renderStepFormSource","renderStepChooseTemplate","renderStepUploadFile","renderStepImportUrl","renderStepProjectDetails","contextTypes","PropTypes","ListSearch","searchStoreChanged","searchStoreState","setValue","ReactDOM","findDOMNode","refs","v","Search","Search__icon","SearchInput","ref","placeholderText","Search__cancel","defaultProps","ListTagFilter","availableTags","tagsLoaded","selectedTags","tagsList","tagSelect","isMulti","loadingMessage","noOptionsMessage","onTagsChange","ListCollectionFilter","availableCollections","collectionsLoaded","onGetCollectionsCompleted","queryCollections","collections","owned","superuser","selectedCollection","collectionFilter","onCollectionChange","ListExpandToggle","LibNav__expanded","LibNav__count","LibNav__expandedToggle","onExpandedToggleChange","KoboDropdownThemes","KoboDropdownPlacements","KoboDropdown","KoboDropdown__trigger","KoboDropdown__menu","KoboDropdown__menuButton","checkOutsideClickBound","checkOutsideClick","onAnyKeyWhileOpenBound","onAnyKeyWhileOpen","isMenuVisible","hideAnyDropdown","requested","hideMenu","cancelEscKeyListener","cancelOutsideClickListener","toggleMenu","hideOnMenuClick","showMenu","hideOnEsc","registerEscKeyListener","hideOnMenuOutsideClick","registerOutsideClickListener","which","isOutsideClick","dropdownWrapperEl","loopEl","parentsLookupLimit","isEqualNode","theme","light","isDisabled","additionalWrapperAttributes","getWrapperModifiers","onTriggerClick","triggerContent","onMenuClick","menuContent","getColumnLabel","questionPath","showLabels","splitK","gLabels","gT","g","x","getColumnHXLTags","colQuestion","HXLTags","getBackgroundAudioQuestionName","$rowDetail","BaseRow","kls","ensureKuid","convertAttributesToRowDetails","isError","attributesArray","isGroup","isInGroup","non_selectable","survey_arr","additionalSheets","toJSON2","outObj","isBoolean","SimpleRow","simpleEnsureKuid","getTypeId","RankRow","surv","ScoreRankMixin","_extendAll","rr","extend_to_row","isFunction","_begin_kuid","_end_json","end_json","_afterIterator","addl","_toJSON","merge","r2","Row","_rankRows","rankRow","_rankLevels","_scoreRows","scoreRow","_scoreChoices","_beginEndKey","_additionalJson","__rows","_rowAttributeName","subrow","mrg","RankRows","RankMixin","rank_list_id","begin_xlsformrow","ScoreRow","ScoreRows","ScoreMixin","score_list_id_item","score_list_id","score_list","defaultsUnlessDefined","curTypeDefaults","newVals","vk","vv","_type","tpVal","typeDetail","select_from_list_name","processType","newType","tpid","p2","p3","matchedList","rtp","typeStr","clname","newRowType","newRow","getAcceptedFiles","setAcceptedFiles","bodyAcceptString","getParameters","setParameters","paramObject","paramString","_list","setList","listToSet","RowError","_error","xlfHideWarnings","jQuery","missingPlugins","View","DEFAULT_PLACEHOLDER","KoboTagsInput","cleanTags","from","encodeURI","now","tagsArray","onlyUnique","addOnBlur","addOnPaste","pasteSplit","$factory","equalityCriterionPattern","existenceCriterionPattern","criteriaJoinPattern","require","selectMultiplePattern","parseCriterion","matches","parseMultiselectCriterion","res","criteriaLength","joinOperators","viewWidgets","input","stopPropagation","options_html","inputDeserializer","_csv_to_params","$aliases","inp","validateParse","cobj","sht","_parse_sheets","repr","out_sheet","valid_with_sheet","surveyType","sn","inputParser","cloneDeep","formBuilderUtils","ParsedStruct","flatten_translated_fields","_t","_translated_val","sArr","counts","count_att","opn_cls","att","grpStack","_pushGrp","grp","_curGrp","_popGrp","closedByAtts","_l","_groupAtts","normalizeRequiredValues","normalizedSurvey","nullified","passedChoices","tmp","choiceNames","lName","choiceRow","cn","getFormDataTabs","hasPartialView","FormViewTabs","assetLoad","hasClass","getAttribute","deployment__identifier","dataTabClassNames","isDataTabEnabled","summaryTabClassNames","settingsTabClassNames","FormView__toptabs","to","sideTabs","deployed_versions","FormView__sidetabs","ind","onlyActiveOnIndex","data-path","triggerRefresh","renderTopTabs","renderFormSideTabs","enketoHandler","enketoUrls","Map","winTab","_getUrlId","aid","_hasEnketoUrl","urlId","_openEnketoUrl","_saveEnketoUrl","_removeEnketoUrl","openSubmission","dataIntMethod","enketoData","errorMsg","$survey","$row","$rowDetailsSkipLogic","_keys","USE_CUSTOM_INTERCOM_LAUNCHER","DEFAULT_SETTINGS","action_color","background_color","IntercomHandler","currentSettings","updateHorizontalPaddingDebounced","updateHorizontalPadding","IntercomAppId","routeUpdate","onRouteUpdate","onLogIn","onLogOut","info","Intercom","isEmailValid","email","injectIntercomScripts","bootIntercom","custom_launcher_selector","hide_default_launcher","alignment","extra_details","legacyName","first_name","last_name","app_id","user_id","created_at","date_joined","$launcherEl","leftPos","getBoundingClientRect","horizontal_padding","w","ic","async","getElementsByTagName","insertBefore","attachEvent","endsWith","koboDropdownActions","PasswordStrength","feedbackTranslations","report","zxcvbn","password","barModifier","PasswordStrength__title","PasswordStrength__bar","PasswordStrength__indicator","feedback","suggestions","PasswordStrength__messages","PasswordStrength__message","suggestion","SHOW_ALL_OPTION","ValidationStatusDropdown","optionsArray","isForHeaderFilter","selectClassNames","components","badgeModifiers","isSelected","KoboSelect__optionWrapper","KoboSelect__optionBadge","SingleValue","valueArray","DropdownIndicator","isSearchable","currentValue","singleton","chars","validationsLength","validations","currentValidation","failureMessage","$modelRowDetailsSkipLogic","$viewRowDetailSkipLogic","$validationLogicHelpers","$modelRowDetailValidationLogic","$viewRowDetailValidationLogic","ValidationLogicModelFactory","ValidationLogicViewFactory","ValidationLogicHelperFactory","validationLogicHelpers","ValidationLogicPresenter","ValidationLogicBuilder","ValidationLogicHelperContext","operator_type_id","questionTypeHasNoValidationOperators","ValidationLogicModeSelectorHelper","ValidationLogicHandCodeHelper","$handCode","replaceWith","rowDetailValidationLogic","$skipLogicModel","ValidationLogicTextOperator","ValidationLogicDateOperator","ValidationLogicBasicOperator","ValidationLogicExistenceOperator","ValidationLogicSelectMultipleOperator","ValidationLogicCriterion","viewRowDetailValidationLogic","$skipLogicView","ValidationLogicCriterionBuilder","ValidationLogicQuestionPicker","surveyFragment","KobomatrixRow","KobomatrixRows","KobomatrixMixin","_kobomatrix_columns","_kobomatrix_cols","kobomatrix_list","passFunctionToMetaModel","fname","_meta","_forEachRow","_beforeIterator","Rows","_validate","clearErrors","addError","getRowDescriptors","descriptors","afterRow","after","beforeRow","before","_addGroup","rowCids","lowest_i","first_row","addOpts","Group","_allRows","grpDefaults","typeIsRepeat","autoname","slgOpts","new_name","splitApart","startingIndex","groupStart","groupEnd","_groupOrRepeatKey","shts","_kuid","_as_json","INVALID_TYPES_AT_THIS_STAGE","_determineConstructorByParams","formSettingsTypes","RowConstructor","comparator","ordinal","markdownTable","_pushSheet","sheetObjs","_r","rcells","csvJson","_lengths","_record_max","_ljust","diff","_append_line_arr","_arr","preceding","_sht","addIconToRow","typeDef","iconDetails","iconClassNameLocked","grouping","QtypeIcon","iconClassname","grouped","_groups","grp_keys","grping","zip","HelpBubble","isOpen","isOutsideCloseEnabled","cancelOutsideCloseWatch","Function","cancelHelpBubbleEventCloseWatch","bubbleOpenedEvt","CustomEvent","bubbleName","dispatchEvent","watchOutsideClose","watchHelpBubbleEventClose","helpBubbleEventHandler","outsideClickHandler","$targetEl","escHandler","HelpBubbleTrigger","iconClass","hasCounter","counter","attrs","HelpBubble__trigger","data-tip","tooltipLabel","HelpBubble__triggerCounter","HelpBubbleClose","messageUid","HelpBubble__close","IntercomHelpBubble","intercomUnreadCount","onIntercomUnreadCountChange","onIntercomHide","unreadCount","SupportHelpBubble","selectedMessageUid","hasUnacknowledgedMessages","actionsUnlisteners","refreshMessagesThrottled","throttle","onHelpGetInAppMessagesCompleted","onHelpGetInAppMessagesFailed","onHelpPatchMessage","checkForUnacknowledgedMessages","newMessages","clearSelectedMessage","unacknowledgedMessages","selectMessage","onSelectMessage","isMessageRead","markMessageRead","findMessage","currentTime","toISOString","clickCallback","HelpBubble__row","data-message-uid","dangerouslySetInnerHTML","__html","snippet","popupModifiers","HelpBubble__popup","HelpBubble__popupContent","HelpBubble__rowAnchor","renderSnippetRow","HelpBubble__rowWrapper","markMessageAcknowledged","onSelectUnacknowledgedListMessage","HelpBubble__back","popupRenderFn","renderMessagePopup","renderDefaultPopup","renderUnacknowledgedListPopup","getUnreadMessagesCount","ErrorMessage","ErrorMessage__strong","UNSAVED_CHANGES_WARNING","setRouteLeaveHook","route","routerWillLeave","loadAsideSettings","launchAppForSurveyContent","originalAsset","asset_uid","handleScroll","surveyStateChanged","componentWillUnmount","app","unpreventClosingTab","preventNavigatingOut","asideSettings","sessionStorage","saveAsideSettings","setItem","onMetadataEditorChange","onSurveyChange","settingsNew","onStyleChange","settingsStyle","getStyleSelectVal","optionVal","asset_updated","preventClosingTab","nameChange","groupQuestions","groupSelectedRows","showAll","blur","expandMultioptions","hasMetadataAndDetails","needsSave","previewForm","surveyJSON","enketopreviewOverlay","enketopreviewlink","enketopreviewError","saveForm","surveyJSONWithMatrix","parentAsset","backRoute","surveySaveFail","scrollTop","formHeaderFixed","fhfh","formHeaderFixedHeight","buttonStates","hasSelect","ooo","previewDisabled","groupButtonIsActive","showAllOpen","multioptionsExpanded","showAllAvailable","hasSettings","styleValue","allButtonsDisabled","saveButtonText","toggleAsideLibrarySearch","asideLayoutSettingsVisible","asideLibrarySearchVisible","toggleAsideLayoutSettings","hidePreview","hideCascade","showCascadePopup","_state","savedName","rawAssetContent","isEmptySurvey","dkobo_xlform","surveyLoadError","surveyAppRendered","skp","SurveyScope","rawSurvey","SurveyApp","stateStore","ngScope","clearPreviewError","safeNavigateToRoute","safeNavigateToList","safeNavigateToAsset","targetRoute","isAddingQuestionsRestricted","isAddingGroupsRestricted","isChangingAppearanceRestricted","isChangingMetaQuestionsRestricted","hasBackgroundAudio","renderFormBuilderHeader","FormBuilderHeader","FormBuilderHeader__row","FormBuilderHeader__cell","renderAssetLabel","FormBuilderHeader__button","savepending","savefailed","saveneeded","FormBuilderHeader__close","previewdisabled","toggleCascade","renderBackgroundAudioWarning","FormBuilderMessageBox","TextBox__labelLink","renderAside","isAsideVisible","FormBuilderAside","FormBuilderAside__content","FormBuilderAside__row","FormBuilderAside__header","renderNotLoadedMessage","lockedLabel","docTitle","uiPanel","uiPanel__body","FormBuilder","FormBuilder__contents","renderCascadePopup","cascadeMixin","TableColumnSortDropdown","sortIcon","ASCENDING","DESCENDING","additionalTriggerContent","onSortChange","classList","contains","onHide","onFrozenChange","buttonSortValue","changeSort","clearSort","dark","renderTrigger","Fragment","renderSortButton","changeFieldFrozen","FormXform","xformLoaded","xformHtml","FormView","webpackContext","webpackContextResolve","viewRowSelector","$baseView","$viewTemplates","$icons","RowSelector","reversible","eq","expand","show_namer","$namer_form","show_picker","submit","$surveyViewEl","surveyView","scrollFormBuilder","features","multipleQuestions","shrink","closest","$menu","menurow","mitem","onSelectNewQuestionType","columnIndex","currentListRow","fadeOut","animate","$rowSelect","questionLabelValue","rowDetails","rowBefore","scrollBy","$fbC","api","locals","MainHeader","isLanguageSelectorVisible","formFiltersContext","onAssetLoad","forceRender","prevProps","always","reload","lang","AccountBox__menuLI","AccountBox__menuLink","languageChange","data-key","LoginBox","shouldDisplayUrls","langs","accountName","accountEmail","initialsStyle","background","accountMenuLabel","AccountBox__initials","charAt","AccountBox","buttonType","AccountBox__menu","AccountBox__menuItem","accountSettings","toggleLanguageSelector","data-popover-menu-stop-blur","renderLangItem","git_rev","gitRev","GitRev","GitRev__item","branch","short","userCanEditAsset","librarySearchBoxPlaceholder","Header__logo","isSearchBoxDisabled","MainHeader__icon","isEditable","MainHeader__counter","renderAccountNavMenu","renderLoginButton","renderGitRevInfo","HeaderTitleEditor","typingTimer","isPending","clearTimeout","updateAssetTitle","MainHeader__title","assetTitleChange","onKeyDown","assetTitleKeyDown","SearchBox","inputVal","setSearchPhraseDebounced","onInputChange","onKeyUp","onInputKeyUp","EXPORT_TYPES","xml","AUTH_OPTIONS","no_auth","basic_auth","RESTServicesForm","isLoadingHook","nameError","endpoint","endpointError","typeOptions","emailNotification","authLevel","authOptions","authUsername","authPassword","subsetFields","customHeaders","getEmptyHeaderRow","payloadTemplate","payloadTemplateErrors","stateUpdate","email_notification","subset_fields","export_type","auth_level","headersObjToArr","custom_headers","payload_template","headersObj","headersArr","header","newEndpoint","newUsername","propName","propValue","newCustomHeaders","headersArrToObj","validateForm","getDataForBackend","addNewCustomHeaderRow","data-index","handleCustomHeaderChange","onCustomHeaderInputKeyPress","removeCustomHeaderRow","newValue","onSubsetFieldsChange","isEditingExistingHook","submissionPlaceholder","handleNameChange","handleEndpointChange","handleActiveChange","handleEmailNotificationChange","handleTypeRadioChange","handleAuthTypeChange","handleAuthUsernameChange","handleAuthPasswordChange","renderFieldsSelector","renderCustomHeaders","handleCustomWrapperChange","rowJSON","unnullifiedContent","surveyObj","itemUid","groupId","CascadePopup","CascadePopup__message","CascadePopup__buttonWrapper","CascadePopup__button","lastSelectedRow","selectedRows","lastSelectedRowIndex","cascadeTextareaValue","cascadeLastSelectedRowIndex","cancelCascade","cascadeError","cascadeReady","cascadeReadySurvey","addCascadePopup","cascadeStr","cascadePopopChange","cascade","tmpSurvey","cascadeMessage","msgType","addCascadeMessage","AssetNavigatorListView","liblist","sortable","cursor","distance","connectWith","opacity","scroll","deactivate","LibList","LibList__item","activateSortable","summ","data-uid","LibList__dragbox","LibList__label","LibList__qtype","lbl","LibList__tags","LibList__tag","AssetNavigator","imports","handlePageStateStore","searchFieldValue","navigatorSearchBox","_ti","LibNav","LibNav__header","LibNav__search","LibNav__content","LibNav__footer","connectFilter","filterSearchResults","AUDIO_QUALITY_OPTIONS","ODK_DEFAULT_AUDIO_QUALITY","MetadataEditor","metaProperties","rebuildState","metaType","getSurveyDetail","metaProp","sdId","getMetaProperty","foundParams","leftColumn","rightColumn","backgroundAudioProp","FormBuilderMeta","FormBuilderMeta__columns","FormBuilderMeta__column","onCheckboxChange","FormBuilderMeta__row","renderBackgroundAudioLabel","isAuditEnabled","renderAuditInputLabel","getAuditParameters","onAuditParametersChange","isBackgroundAudioEnabled","getBackgroundAudioParameters","onBackgroundAudioParametersChange","FormLockedMessage","FormBuilderMessageBox__toggle","toggleMoreInfo","FormBuilderMessageBox__details","cant","can","getMessageText","renderSeeMore","DataTable","isInitialized","loading","sids","isFullscreen","resultsTotal","selectAll","fetchState","submissionPager","tableScrollTop","onTableStoreChange","onPageStateUpdated","onSubmissionValidationStatusChange","onTableUpdateSettingsCompleted","refreshSubmissions","onDuplicateSubmissionCompleted","onGetSubmissionsCompleted","onGetSubmissionsFailed","onBulkChangeCompleted","prevSettings","_prepColumns","instance","filtered","filterQuery","submissionModalProcessing","originalRow","_validation_status","newValidationStatus","columnId","maxPageRes","userCanSeeEditIcon","userCanSeeCheckbox","res1","res2","min","columnWidth","elClassNames","Header","accessor","filterable","resizable","headerClassName","Filter","visibleRowsCount","selectedRowsCount","totalRowsCount","onSelectAllPages","bulkSelectAll","onSelectCurrentPage","bulkSelectAllRows","onClearSelection","bulkClearSelection","Cell","bulkUpdateChange","launchSubmissionModal","data-sid","launchEditSubmission","onFieldSortChange","onHideField","onFieldFrozenChange","_getColumnWidth","currentOption","selectedOption","onValidationStatusChange","getValidationStatusOption","allColumns","columnsToRender","columnSubmissionActions","_getColumnSubmissionActions","columnValidation","_getColumnValidation","qParentG","backgroundAudioName","_uuid","_submission_time","kArray","columnIcon","columnName","columnHXLTags","questionType","mediaName","submissionIndex","submissionTotal","repeatGroupAnswers","columnA","columnB","localeCompare","numeric","textFilterQuestionTypes","textFilterQuestionIds","debounceTimeout","selectedColumnsIds","subIndex","findIndex","newData","fetchSubmissions","fetchInstance","backgroundAudioUrl","download_medium_url","ids","tableInfo","TableMeta","selectedAllPages","scrollLeft","$frozenColumnCells","pages","tableClasses","formViewModifiers","FormView__group","renderBulkSelectUI","FormView__item","toggleFullscreen","showTableColumnsOptionsModal","defaultPageSize","pageSizeOptions","minRows","manual","onFetchData","previousText","nextText","loadingText","noDataText","pageText","ofText","rowsText","getTableProps","onScroll","onTableScroll","TableBulkOptions","currentDialog","closeCurrentDialog","newStatus","selectedCount","apiFn","filteredItem","confirm","totalSubmissions","selectedSubmissions","selectedLabel","isSelectAllAvailable","TableMeta__bulkOptions","KoboLightBadge","PopoverMenu__link","onUpdateStatus","KoboLightButton","onEdit","onDelete","TableBulkCheckbox","onToggleCurrentPage","TableMediaPreviewHeader","TableMediaPreviewHeader__title","TableMediaPreviewHeader__label","TableMediaPreviewHeader__options","MediaCell","MediaCell__duration","MediaCell__text","MediaCellIconWrapper","MediaCellIconWrapper__icon","questionIcon","getQuestionIcon","iconClassNames","renderMediaModalCustomHeader","download_url","mediaURL","titleText","isTextQuestion","launchMediaModal","COLOR_SETS","TABS","MapColorPicker","mapSettings","colorSet","colorRows","radioButtons","GraphSettings__radio","GraphSettings__colors","MapSettings","geoQuestions","queryCount","defaultActiveTab","overridenStyles","activeModalTab","layerName","updateFileList","saveMapSettings","overrideStyles","toggleMapSettings","selectedQuestion","querylimit","_this","file_type","activeTab","queryLimit","modalTabs","tabId","switchTab","data-tabid","GraphSettings","onGeoPointQuestionChange","deleteFile","onLayerNameChange","onColorChange","onQueryLimitChange","resetMapSettings","onSave","RESTServiceLogs","hookName","isHookActive","isLoadingLogs","logs","onLogsUpdated","totalLogsCount","newLogs","failedLogUids","overrideLogsStatus","pending_uids","overrideLogMessage","logUid","newMessage","currentLogs","currentLog","logUids","submission_id","escapedMessage","hasAny","ServiceRowButton","loadMore","renderHeader","EmptyContent","EmptyContent__message","ServiceRow","ServiceRow__column","hasAnyFailedLogs","ServiceRow__actionButton","retryAll","rowProps","statusMod","statusLabel","openSubmissionModal","tries","hasInfoToDisplay","showLogInfo","renderLoadMoreButton","renderEmptyView","renderListView","AccountSettings","isPristine","requireAuth","fieldsErrors","setStateFromSession","organizationWebsite","organization_website","primarySector","gender","bio","phone_number","address","city","defaultLanguage","require_auth","twitter","linkedin","instagram","languageChoices","countryChoices","sectorChoices","genderChoices","goBack","onUpdateComplete","onUpdateFail","handleChange","AccountSettings__actions","safeClose","AccountSettings__item","requireAuthChange","emailChange","organizationChange","organizationWebsiteChange","primarySectorChange","AccountSettings__desc","genderChange","bioChange","phoneNumberChange","addressChange","cityChange","countryChange","twitterChange","linkedinChange","instagramChange","metadataChange","connect","ApiTokenDisplay","HIDDEN_VAL","isLoadingToken","onGetApiTokenCompleted","onGetApiTokenFailed","isTokenVisible","select","onFocus","onInputFocus","toggleApiTokenVisibility","SearchCollectionList","ownedCollections","fixedHeadings","fixedHeadingsWidth","searchChanged","resource","firstQuestionLabel","assetRowClass","deleting","List__heading","AssetListSorts","AssetListSorts__item","searchResultsBucket","category","List__subheading","AssetItems","renderGroupedHeadings","renderAssetRow","display","disableClick","List","renderHeadings","AssetList","renderGroupedResults","AssetRow","isTagsInputVisible","clickedActionIcon","clickTagsToggle","collid","_rc","hrefTo","isDeployable","deployed_version_id","userCanEdit","hasParent","onMouseLeave","forceClosePopover","AssetRow__cell","clickAssetButton","data-asset-type","data-kind","draggable","AssetRow__description","date_created","AssetRow__buttons","AssetRow__actionIcon","data-action","data-disabled","data-asset-name","actn","data-asset-uid","downloads","dl","PopoverMenu__heading","PopoverMenu__moveTo","PopoverMenu__item","data-collid","data-parent","TagInput","transformed","inputValue","onChangeInput","handleChangeInput","RegistrationPasswordApp","currentPass","watchInput","inputId","inputEl","getElementById","surveyCompanionStore","assetCopy","_s","KoboTextButton","KoboSelect","PageWrapper","PageWrapper__content","Loading__msg","EmptyContent__icon","EmptyContent__title","EmptyContent__button","AssetRow__cellmeta","AssetRow__tags","AssetRow__tags__tag","AssetRow__tags__notags","AssetRow__typeIcon","ServiceRow__linkOverlay","FormBuilderHeader__item","FormMedia","FormMedia__title","FormMedia__upload","FormMedia__list","FormMedia__label","FormMedia__listItem","FormMediaUploadUrl","FormMediaUploadUrl__label","FormMediaUploadUrl__form","Search__summary","SubmissionDataTable","SubmissionDataTable__row","SubmissionDataTable__column","SubmissionDataTable__XMLName","SubmissionDataTable__value","TableMeta__counter","TableMeta__additionalText","CollectionsWrapper","CollectionNav","CollectionNav__search","CollectionNav__searchcriteria","CollectionNav__searchcriterion","CollectionNav__actions","CollectionNav__button","CollectionNav__link","CollectionNav__searchcancel","CollectionNav__searchicon","Library","Library__typeFilter","FormView__title","FormView__name","FormView__description","FormView__subs","FormView__label","FormView__iconButton","FormView__row","FormView__cellLabel","FormView__column","FormView__banner","FormView__link","FormView__secondaryButtons","FormView__secondaryButton","FormView__reportButtons","FormView__form","FormView__map","FormView__mapButton","FormView__mapList","ReportView","ReportView__wrap","ReportView__item","ReportView__itemHeading","ReportView__headingMeta","ReportView__itemContent","ReportView__headingButton","ReportView__chart","GraphSettings__buttons","GraphSettings__charttype","FormModal","FormModal__group","Modal__hr","AccountBox__name","AccountSettings__left","AccountSettings__right","UserRow","UserRow__info","UserRow__avatar","UserRow__name","UserRow__email","UserRow__perms","UserRow__perm","UserRow__editor","FormSidebar","FormSidebar__item","FormSidebar__itemText","FormSidebar__label","FormSidebar__labelText","FormSidebar__labelCount","FormSidebar__grouping","KDrawer","KDrawer__primaryIcons","KDrawer__secondaryIcons","KDrawer__sidebar","SimpleTable","SimpleTable__header","SimpleTable__body","SimpleTable__footer","SimpleTable__row","SimpleTable__messageRow","SimpleTable__cell","AssetsTable","AssetsTable__header","AssetsTable__body","AssetsTable__footer","AssetsTableRow","AssetsTableRow__link","AssetsTableRow__buttons","AssetsTableRow__column","AssetsTableRow__headerLabel","AssetsTableRow__tags","AssetsTableRow__tag","AssetsTablePagination","AssetsTablePagination__button","AssetsTablePagination__index","AssetActionButtons","AssetActionButtons__button","AssetActionButtons__iconButton","MultiCheckbox","MultiCheckbox__item","Breadcrumbs","Breadcrumbs__crumb","Breadcrumbs__divider","AssetInfoBox","AssetInfoBox__column","AssetInfoBox__cell","AssetInfoBox__toggle","PrintOnly","ProjectDownloads","ProjectDownloads__advancedView","ProjectDownloads__column","ProjectDownloads__columnRow","ProjectDownloads__title","ProjectDownloads__textButton","ProjectDownloads__selectorRow","ProjectDownloads__anonymousRow","ProjectDownloads__legacyIframeWrapper","ProjectDownloads__submitRow","ProjectDownloads__exportsSelector","ProjectDownloads__deleteSettingsButton","ProjectDownloads__exportsCreator","BackgroundAudioPlayer","BackgroundAudioPlayer__label","BackgroundAudioPlayer__audio","LibrarySidebar","myLibraryCount","myLibraryStoreChanged","sidebarModifier","showLibraryNewModal","isMyLibrarySelected","isPublicCollectionsSelected","SidebarFormsList","selectedCategories","activeItems","categoryId","categoryVisible","toggleCategory","renderMiniAssetRow","INITIAL_STATE","headerFilters","currentAssetId","newFormModal","DrawerLink","linkto","Drawer","k-icon","projects_url","INVALID_PERMS_ERROR","PermValidator","validateBackendData","allImplied","allContradictory","appendUserUrl","appendUserUrls","assignment","union","hasAnyContradictory","AssetTagsForm","getSubmitButtonLabel","ownedCollectionsStore","onGetCollectionsFailed","onAssetChangedOrCreated","LibraryAssetForm","applyPropsData","onCreateResourceCompleted","onCreateResourceFailed","getFormAssetType","onPropertyChange","SECTORS","COUNTRIES","onOrganizationChange","isSubmitEnabled","LibraryNewItemForm","targetPath","goToAssetCreator","goToTemplate","goToUpload","goToCollection","DESIRED_TYPES","LibraryUploadForm","desiredType","currentFile","desired_type","onDesiredTypeChange","EncryptForm","submissionURL","publicKey","submission_url","public_key","clearEncryption","onAssetsChange","onAssetChange","assetsList","newSubmissionURL","newPublicKey","onSubmissionURLChange","onPublicKeyChange","onRemove","openEncryptionHelp","EMPTY_VALUE_LABEL","MULTIPLE_VALUES_LABEL","BulkEditSubmissionsForm","selectedQuestionOverride","filterByName","filterByValue","onBulkPatchValuesCompleted","onBulkPatchValuesFailed","setModalTitleToList","onModalClose","overridesWithPaths","newFilter","setModalTitleToSingleQuestion","goBackToList","selectedData","refIndex","renderRowDataValues","selectQuestion","overrideValue","uniqueValues","uniqueValuesArray","getDisplayData","Fuse","renderSupportUrlLink","onFilterByNameChange","onFilterByValueChange","renderRow","onReset","overrideData","originalData","onRowOverrideChange","saveOverride","renderList","renderSelectedQuestion","BulkEditRowForm","placeholderValue","uniqueResponses","responseLabel","responseValue","percentage","toFixed","getPlaceholderValue","getUniqueResponses","renderResponseRow","CopyTeamPermissions","isAwaitingAssetChange","isCopyFormVisible","targetName","onPermissionsCopied","finalMessage","dialogOptions","isImportButtonEnabled","availableOptions","rootButtonClasses","toggleCopyForm","getSelectedProjectOption","onSelectedProjectChange","safeCopyPermissionsFrom","PARTIAL_PLACEHOLDER","UserAssetPermsEditor","usernamesBeingChecked","isEditingUsername","setupStateCheckbox","applyValidityRules","applySubmissionsAddRules","onBulkSetAssetPermissionCompleted","onBulkSetAssetPermissionFailed","onUserExistsStoreChange","notifyParentAboutSubmitEnd","isSuccess","onSubmitEnd","stateObj","applyValidityRulesForCheckbox","isAssignable","permissionPair","getImpliedPermissions","contradictoryPerms","getContradictoryPermissions","impliedPermDef","impliedCheckboxes","getPermissionCheckboxPairs","impliedCheckbox","contradictoryPermDef","contradictoryCheckbox","userCheck","checkUsernameSync","checkUsernameAsync","notifyUnknownUser","users","navigator","onLine","assignablePerms","isAnyCheckboxChecked","isPartialValid","getFormData","parsedPerms","otherUserPerms","nonOwnerPerms","getCheckboxLabel","onPartialUsersChange","onInputKeyPress","renderTextbox","isNew","formModifiers","onUsernameChange","onUsernameChangeEnd","renderPartialRow","PublicShareSettings","anonCanViewPermUrl","anonCanViewDataPermUrl","publicPerms","anonCanView","anonCanViewData","togglePerms","deploymentActive","UserPermissionRow","isEditFormVisible","isBeingDeleted","removeAllPermissions","permUsers","permLabel","friendlyPermName","maxParentheticalUsernames","renderPermissions","toggleEditForm","removePermissions","onPermissionsEditorSubmitEnd","SharingForm","allAssetsCount","isAddUserEditorVisible","onAllAssetsChange","onAssetPermissionsUpdated","anonUserUrl","getAssignablePermsMap","assignable_permissions","backendPerms","objectUrl","toggleAddUserEditor","generateColumnFilters","selectableQuestions","selectableColumns","columnsToDisplay","updatedList","DataAttachmentColumnsForm","isInitalised","markComponentAsLoading","onAttachToSourceCompleted","stopLoading","onPatchSourceCompleted","onLoadAssetContentCompleted","setModalTitle","newList","data_sharing","dataAttachmentsUtils","onBulkSelect","onBulkDeselect","onColumnSelected","showXMLNames","renderGroup","renderResponse","renderResponseData","findChoice","answer","answerIndex","renderPointData","renderAttachment","renderMultiplePointsData","choiceName","targetFilename","parts","pointData","pointIndex","findAttachmentData","dataName","displayData","renderMetaResponse","SubmissionModal","translationOptions","trns","showBetaFieldsWarning","isEditLoading","isViewLoading","isEditingDuplicate","promptRefresh","refreshSubmissionValidationStatus","onDeletedSubmissionCompleted","nextAvailable","error_message","isSubmissionEditable","validationStatusChange","controls","switchSubmission","prevTablePage","nextTablePage","onShowXMLNamesChange","launchViewSubmission","TableSettings","onUpdateSettingsFailed","getDisplayedLabelOptions","onLabelChange","updateGroupHeaderDisplay","onHXLTagsChange","KoboRangeColours","KoboRange","KoboRange__values","KoboRange__maxValue","KoboRange__currentValue","KoboRange__number","KoboRange__unit","KoboRange__progress","KoboRange__input","minutes","seconds","isDataLoaded","isTime","convertToClock","currentLabel","totalLabel","AudioPlayer","AudioPlayer__controls","AudioPlayer__progress","AudioPlayer__time","AudioPlayer__timeCurrent","AudioPlayer__timeTotal","AudioPlayer__seek","isPlaying","totalTime","audioInterface","Audio","onloadedmetadata","duration","ontimeupdate","onPlayStatusChange","pause","play","newTime","getControlIcon","onSeekChange","TableMediaPreview","TableMediaPreview__image","TableMediaPreview__audio","TableMediaPreview__video","TableMediaPreview__text","autoPlay","renderPreviewByType","LanguageForm","codeError","existingLanguages","isNameUnique","langObj","isCodeUnique","isNameValid","isLanguageNameValid","isCodeValid","isLanguageCodeValid","langIndex","isDefault","onLanguageChange","newCode","isAnyFieldEmpty","onCodeChange","TranslationSettings","showAddLanguageForm","isUpdatingDefaultLanguage","renameLanguageIndex","prepareTranslations","isEditingLanguagesLocked","canAddLanguages","deleteTranslations","translationsLength","len","len2","getAllLanguages","changeDefaultLanguage","canEditLanguages","toggleRenameLanguageForm","data-string","launchTranslationTableModal","deleteLanguage","hideAddLanguageForm","renderEmptyMessage","renderUndefinedDefaultSettings","renderTranslationsSettings","SAVE_BUTTON_TEXT","DEFAULT","UNSAVED","TranslationTable","saveChangesButtonText","isSaveChangesButtonPending","tableData","showLanguageForm","editableColTitle","lockedChoiceLists","isLabelLocked","isRowLabelLocked","isChoiceLabelLocked","itemProp","contentProp","$autovalue","minWidth","cellInfo","markFormUnsaved","markFormPending","markFormIdle","showManageLanguagesModal","updateHeader","showPageSizeOptions","onBack","saveChanges","getSubmissionTitle","BigModal","modalClass","prevType","enketoSnapshotCreation","displaySafeCloseConfirm","App","pageWrapperContentModifiers","pageWrapperModifiers","FormPage","editableFormMixin","LibraryAssetEditor","back","assetActions","shouldHidePopover","isPopoverVisible","isSubscribePending","hidePopoverDebounced","onOwnedCollectionsStoreChanged","onSubscribingCompleted","storeData","onDeleteComplete","parentArr","parentAssetUid","link","currentAssetUid","backPath","renderMoreActionsTrigger","onPopoverSetVisible","isAssetParent","isPublic","isUserSubscribed","hasDetailsEditable","onMouseEnter","renderSubButton","getFormBuilderLink","showTagsModal","viewContainingCollection","renderMoreActions","subscribers_count","bodyRef","createRef","updateScrollbarWidth","current","newPageNumber","onSwitchPage","onOrderChange","onFilterChange","columnDef","renderOrderableHeader","renderFilterableHeader","COLLECTION_CONTENT","onClearFilter","optionValue","optionLabel","onChangeFilter","hideIcon","hideLabel","onChangeOrder","hasPagination","naturalCurrentPage","switchPage","totalAssets","renderPagination","emptyMessage","renderFooter","MyLibraryRoute","getFreshState","pageNumber","contextualEmptyMessage","onAssetsTableOrderChange","onAssetsTableFilterChange","onAssetsTableSwitchPage","publicCollectionsStore","onSubscribeCompleted","onUnsubscribeCompleted","subscriptionData","onAssetAccessTypeChanged","assetUidOrUrl","setSubscribed","PublicCollectionsRoute","publicCollectionsStoreChanged","areDetailsVisible","ownerData","onGetUserCompleted","onGetUserFailed","userData","toggleDetails","AssetPublicButton","isPublicPending","isAwaitingFreshPermissions","onSetAssetPublicCompleted","onSetAssetPublicFailed","publicReadyErrors","isPublicable","makePublic","isSetPublicButtonDisabled","makePrivate","AssetBreadcrumbs","parentAssetData","getParentAssetData","public","foundParent","getParentUid","rootBreadcrumb","getRootBreadcrumb","getParentHref","getParentName","AssetContentSummary","isExpanded","isExpandable","renderQuestion","toggleExpanded","singleCollectionStore","CollectionAssetsTable","singleCollectionStoreChanged","AssetRoute","onSubscribeToCollectionCompleted","onUnsubscribeFromCollectionCompleted","loadCurrentAsset","newAsset","onAssetRemoved","REPORT_STYLES","vertical","chartJsType","donut","area","horizontal","pie","REPORT_COLOR_SETS","colors","CustomReportForm","customReport","crid","questionList","reportData","customReportQuestionChange","customReportNameChange","deleteCustomReport","saveCustomReport","ChartTypePicker","report_type","defaultStyle","defaultReportStyleChange","ChartColorsPicker","newColors","report_colors","defaultReportColorsChange","QuestionGraphSettings","rStyle","_qn","specificSettings","parentState","currentCustomReport","specified","reportStyles","sett_","styles","reportStyle","tab","tabClassNames","toggleTab","questionStyleChange","saveQS","ReportTable","th","formatNumber","mean","median","stdev","rowsB","responseLabels","rowitem","percentages","getPreparedTable","reportTable","frequencies","ReportViewItem","itemChart","show_graph","loadChart","canvas","buildChartOptions","Chart","chartType","maxPercentage","barPercentage","showLegend","buildChartColors","baseColor","global","rectangle","borderColor","point","radius","arc","maintainAspectRatio","datasets","truncateLabel","allPercentages","choiceLabel","itemPerc","legend","animation","scales","xAxes","ticks","autoSkip","beginAtZero","yAxes","cutoutPercentage","c1","c2","provided","total_count","not_provided","triggerQuestionSettings","data-question","graphWidth","ReportContents","showReportGraphSettings","showCustomReportModal","currentQuestionGraph","tnslIndex","defaultRS","groupBy","_defSpec","z","resps","respValues","qGB","vD","rowContent","ReportStyleSettings","groupDataBy","ReportStyle","rowsByIdentifier","groupByOptions","selectedTranslationOptions","reportStyleChange","onGroupByChange","translationIndexChange","saveReportStyles","Reports","graphHeight","reportLimit","customReports","loadReportData","reportStyleListener","reportCustomListener","prevState","refreshReportData","rowsByKuid","reportCustom","$identifier","dataWithResponses","newGroupBy","triggerDefaultReport","setCustomReport","customReportsList","menuLabel","data-name","itemClassName","data-crid","toggleCustomReportModal","editCustomReport","toggleReportGraphSettings","renderLoadingOrError","currentQuestions","hasAnyProvidedData","hasGroupBy","renderReportButtons","resetReportLimit","renderCustomReportModal","closeQuestionSettings","FormLanding","selectedCollectMethod","DVCOUNT_LIMIT","nextPagesVersions","resetLoadedVersions","undeployedVersion","dvcount","isCurrentVersionDeployed","callUnarchiveAsset","version","content_hash","version__content_hash","urlToLoad","newNextPagesVersions","versionsToDisplay","date_deployed","data-version-id","loadMoreVersions","deployment__links_list","methodId","methodDef","chosenMethod","chosenMethodLink","deployment__links","kc_server","kobocollect_url","origin","data-method","setCollectMethod","renderCollectLink","onCopy","nonOwnerSelfRemovalListener","nonOwnerSelfRemovalCompleted","stopListeningTo","enketoPreviewModal","showReplaceProjectModal","showSharingModal","nonOwnerSelfRemoval","showLanguagesModal","canEdit","hasLanguagesDefined","renderButtons","isFormRedeploymentNeeded","renderFormInfo","renderLanguages","renderHistory","renderCollectData","FormSummary","subsCurrentPeriod","subsPreviousPeriod","lastSubmission","chartVisible","chart","chartPeriod","submissionsChart","createChart","prep","getLatestSubmissionTime","prepSubmissions","responsive","userCallback","wkStart","moment","startOf","subtract","lastWeekStart","thisWeekSubs","q2","subsPerDay","valueOf","getTimezoneOffset","dayLabels","day","showGraphWeek","showGraphMonth","sharingModal","team","renderSubmissionsGraph","renderQuickLinks","renderDataTabs","renderTeam","ConnectProjects","isShared","enabled","isSharingAnyQuestions","attachedSources","sharingEnabledAssets","newSource","newFilename","refreshAttachmentList","onAttachToSourceFailed","onGetSharingEnabledAssetsCompleted","onGetAttachedSourcesCompleted","onToggleDataSharingCompleted","onUpdateColumnFiltersCompleted","showColumnFilterModal","replaceAll","columnList","attachedSourceUids","generateFilteredAssetList","getOptionLabel","getOptionValue","onSourceChange","onToggleSharingData","onSharingCheckboxChange","renderSelect","onFilenameChange","onConfirmAttachment","onRemoveAttachment","renderExports","renderImports","uploadedAssets","inputURL","isUploadURLPending","onGetMediaCompleted","onUploadFailed","onerror","toBase64","base64File","redirect_url","buttonClassNames","onSubmitURL","download","onInputURLChange","renderButton","renderIcon","renderFileName","onDeleteMedia","csv_legacy","isLegacy","geojson","kml_legacy","spss_labels","xls_legacy","xls","zip_legacy","EXPORT_FORMATS","_default","_xml","EXPORT_MULTIPLE_OPTIONS","both","EXPORT_STATUSES","DEFAULT_EXPORT_SETTINGS","CUSTOM_EXPORT_NAME","CUSTOM_SELECTION","EXPORT_FORMAT","EXPORT_MULTIPLE","EXPORT_TYPE","FLATTEN_GEO_JSON","XLS_TYPES_AS_TEXT","INCLUDE_MEDIA_URL","GROUP_SEPARATOR","INCLUDE_ALL_VERSIONS","INCLUDE_GROUPS","SAVE_CUSTOM_EXPORT","SELECTED_ROWS","getContextualDefaultExportFormat","exportFormatOptions","getExportFormatOptions","defaultAssetLanguage","default_translation","exportsStore","exportType","isOnProjectDownloadsRoute","setExportType","newExportType","needsUpdating","getExportType","ExportTypeSelector","selectedExportType","onExportsStoreChange","exportTypesOptions","noLegacy","onSelectedExportTypeChange","NAMELESS_EXPORT_NAME","ProjectExportsCreator","isComponentReady","selectedExportFormat","groupSeparator","selectedExportMultiple","isIncludeGroupsEnabled","isIncludeAllVersionsEnabled","isAdvancedViewVisible","isSaveCustomExportEnabled","customExportName","isCustomSelectionEnabled","isFlattenGeoJsonEnabled","isXlsTypesAsTextEnabled","isIncludeMediaUrlEnabled","selectableRowsCount","selectedDefinedExport","definedExports","isUpdatingDefinedExportsList","allSelectableRows","getAllSelectableRows","onGetExportSettingsCompleted","fetchExportSettings","onDeleteExportSettingCompleted","newStateObj","preselectLastSettings","applyExportSettingToState","clearSelectedDefinedExport","allRows","submissionProp","clearScheduledExport","exportParams","exportSettingUid","newDefinedExport","setDefaultExportSettings","statePropName","newRowsArray","newSelectedRows","customSelectionEnabled","group_sep","multiple_select","hierarchy_in_labels","fields_from_all_versions","xls_types_as_text","include_media_url","definedExport","payload","generateExportName","foundDefinedExport","handleScheduledExport","getQuestionsList","checkboxLabel","onSelectedRowsChange","includeAllVersionsLabel","exportMultipleOptions","onAnyInputChange","selectAllRows","clearSelectedRows","renderRowsSelector","formClassNames","toggleAdvancedView","renderAdvancedView","getSelectedDefinedExportOptions","onSelectedDefinedExportChange","onDeleteExportSetting","ProjectExportsList","fetchIntervals","onGetExports","onCreateExport","onDeleteExport","onGetExport","fetchExports","removeAllFetchIntervals","exportData","prepareFetchInterval","fetchExport","wasAdded","exportStatus","intervalId","removeFetchInterval","isTrue","exportLang","languageDisplay","renderLanguage","renderBooleanAnswer","colSpan","LegacyExports","deployment__data_download_links","AnonymousExports","exportUrl","fetchIntervalId","onCreateExportCompleted","onGetExportCompleted","downloadUrl","defaultExportFormat","aEl","splitUrl","buttonModifiers","renderLoggedInExports","streets","L","tileLayer","attribution","subdomains","baseLayers","OpenStreetMap","OpenTopoMap","Humanitarian","control","layers","FormMap","hasGeoPoint","markers","heatmap","markersVisible","markerMap","showExpandedLegend","filteredByMarker","componentRefreshed","showMapSettings","clearDisaggregatedPopover","noData","previousViewby","fieldTypes","Marker","divIcon","iconSize","maxZoom","scrollWheelZoom","preferCanvas","addTo","requestData","onSetMapStylesStarted","onSetMapStylesCompleted","updateOverlayList","_layers","controlLayer","overlay","removeLayer","layer","overlayLayer","omnivore","kml","wkt","fetch","blob","JSZip","loadAsync","addOverlay","eachLayer","fprops","feature","properties","NAME","TITLE","bindPopup","upcomingMapSettings","nextViewBy","fq","nameOfFieldInGroup","coordsArray","_geolocation","buildMarkers","buildHeatMap","zoom","ms","prepPoints","calcColorSet","currentQuestionChoices","mapMarkers","prepFilteredMarkers","mM","ch","reverse","emptyEl","markerProps","itemId","calculateIconIndex","buildIcon","sId","marker","featureGroup","markerClusterGroup","maxClusterRadius","calculateClusterRadius","disableClusteringAtZoom","iconCreateFunction","cluster","childCount","getChildCount","markerClass","Point","addLayers","fitBounds","getBounds","vb","idcounter","listitem","heatmapPoints","heatLayer","minOpacity","addLayer","refreshMap","td","invalidateSize","_icon","showMarkers","showLayerControls","showHeatmap","filterLanguage","filterMap","resetFilterByMarker","markerItemClass","filterByMarker","data-id","toggleLegend","RESTServicesList","isLoadingHooks","onHooksUpdate","openNewRESTServiceModal","getSupportUrl","renderModalButton","hook","logsUrl","success_count","pending_count","failed_count","editHook","data-hook-uid","deleteHookSafe","data-hook-name","RESTServices","FormSubScreens","iframeUrl","renderSettingsEditor","renderUpload","renderSharing","renderRecords","renderReset","ChangePassword","verifyPassword","onChangePasswordFailed","onChangePasswordCompleted","validateRequired","jqXHR","currentPasswordChange","newPasswordChange","verifyPasswordChange","SectionNotFound","FormNotFound","FormJson","assetStoreTriggered","FormsSearchableList","AccessDenied","AccessDenied__body","AccessDenied__header","AccessDenied__text","messageText","messageHtml","errorMessage","AuthProtectedRoute","protectedComponent","PermProtectedRoute","isLoadAssetFinished","userHasRequiredPermission","onLoadAssetFailed","requiredPermission","getUserHasRequiredPermission","AllRoutes","isPermsConfigReady","isSessionReady","onGetConfigCompleted","onSessionChange","setPermissions","setReady","component","FORM_REPORT_OLD","history","routes","getRoutes","ColumnsHideForm","ColumnsHideForm__message","ColumnsHideForm__list","ColumnsHideForm__listItem","ColumnsHideForm__footer","filterPhrase","prepareColumns","allColumnsIds","newPhrase","filteredFieldsList","getFilteredFieldsList","onFilterPhraseChange","fieldObj","onFieldToggleChange","onApply","ColumnsHideDropdown","locale","ga","ajaxSetup","beforeSend","csrfToken","cookie","crossDomain","setRequestHeader","$d","prepend","registrationPasswordAppEl","$surveyApp","rowDetailSkipLogic","$viewRowSelector","$rowView","orderfail","elIds","rIds","gatherId","err_message","_notifyIfRowsOutOfOrder","SurveyFragmentApp","$et","surveyRowSortableStop","survey_findRowByCid","_prev","_getRelatedElIds","_par","newlyAddedRow","_timedReset","_reset","__rowViews","surveyStateStore","noop","deselect_rows","evtCode","clId","onPublish","publish","save","onPreview","preview","expand_all_multioptions","hoverOver","focusedElement","onEscapeKeydown","getView","updateSort","forceSelectRow","selectRow","deselect_all_rows","activateGroupButton","$ect","ctrlKey","metaKey","selected_rows","siblings","$group","select_group_if_all_items_selected","questionSelect","$rows","getApp","_getViewForTarget","toggleCardSettings","toggleSettings","toggleGroupExpansion","groupsAreShrunk","groupShrunk","toggleRowMultioptions","toggleMultioptions","expandRowSelector","null_top_row_view_selector","$spacer","rowId","getViewForRow","spawnedFromView","_render_html","formEditorEl","_render_attachEvents","hasRestriction","isLockable","applyLocking","_render_addSubViews","_render_hideConditionallyDisplayedContent","copyToLibrary","shrinkAllGroups","expandAllGroups","depth","hideMultioptions","_expanded","showMultioptions","closeWarningBox","getItemPosition","sortable_activate_deactivate","ui","isActivateEvt","sortable_stop","stop","activate","receive","handleItem","prevItemPosition","sender","group_rows","uiItemParentWithId","_preventSortableIfGroupTooSmall","$element","class_name_matches","validateSurvey","ensureElInView","parentView","$parentEl","prevRow","prevRowEl","requiresInsertion","detachRowEl","not","insertAfter","xlfrv","rv","KoboMatrixView","GroupView","ScoreView","RankView","RowView","isEmpty","newlyAddedEl","newlyAddedType","closestAddrow","one","clickDeleteGroup","deleteGroup","clickAddRowToQuestionLibrary","add_row_to_question_library","clickCloneQuestion","clickRemoveRow","rowEl","matchingRow","findMatch","slideUp","parent_view","_deleteGroup","$q","buttonHoverIn","buttonName","$header","card_hover_text","buttonHoverOut","checkedAttr","defaultValueAttr","valueAttr","expandingSpacerHtml","expandChoiceList","uniqueName","paramsSettingsField","paramsSimple","selectQuestionExpansion","groupView","koboMatrixView","template_args","fillers","autoname_class","autoname_attr","namecell","thead_html","scorelabel__name","rank_levels_lis","autoclass","autoattr","automatic","set_automatic","rank_rows_lis","rank_constraint_message_li","rank_constraint_msg","groupSettingsView","rowSettingsView","iconTooltip","lockedFeatures","cantsString","cansString","cansHtml","that","xlfRowSelector","closeRowSelectorButton","warnings_html","$viewChoices","$viewParams","$viewMandatorySetting","$acceptedFilesView","$viewRowDetail","renderKobomatrix","multiConfirm","_shrunk","shrunk","_deleteGroupWithContent","already_rendered","$card","$label","DetailView","rowView","insertInDOM","$settings","$lockedFeaturesContent","$groupIcon","tooltipMsg","hasNestedGroups","_expandedRender","cardSettingsWrap","defaultRowDetailParent","$appearanceField","appearanceModel","BaseRowView","drop","customEventName","getRawType","modelName","modelAutoname","fixScroll","_renderError","_renderRow","is_expanded","$hint","paramsView","ParamsView","insertInDOMAfter","isSortableDisabled","listView","ListView","_settingsExpanded","_cleanupExpandedRender","hiddenFields","mandatorySetting","MandatorySettingView","acceptedFilesView","AcceptedFilesView","acceptedFiles","profileDef","iconDef","$indicatorIcon","score_choices","sc","score_rows","sr","extra_score_contents","offOn","evtName","get_row","get_choice","row_cid","_inpText","_text","RankScoreView","min_rank_levels_count","rank_levels","_label","_automatic","rank_rows","editRanks","get_item","parli","_slugtext","_inptext","needs_valid_xml","textContent","parseHTML","ulClasses","cardText","ul","OptionView","addEmptyOption","axis","hasReordered","reordered","btn","emptyOpt","lis","li","pw","nval","saveValue","is","keyupinput","ifield","keydowninput","localListViewIndex","localOptionView","activeElement","sluggifyOpts","typeConfig","$paramsViewEl","ParamOption","paramName","paramConfig","onParamChange","paramValue","paramType","paramDefault","reqVal","getChangedValue","customTextEl","onRadioChange","setNewValue","onCustomTextKeyup","onCustomTextBlur","changedVal","viewRowDetail","$hxl","extraClass","DetailViewMixins","rendered","afterRender","listenForCheckboxChange","changing","_requiredBox","reflectValueInEl","listenForInputChange","transformFn","inputType","inTransition","changeModelValue","$elVal","force","modelVal","_insertInDOM","where","how","Templates","textbox","key_label","input_class","field","checkbox","input_label","dropdown","hxlTags","hxlTag","hxlAttrs","target_element","fieldTab","value_chars","update_view","hxlAttrsString","dict","maximumSelectionSize","tokenSeparators","formatSelectionTooBig","createSearchChoice","_hxlTagCleanup","formatNoMatches","_hxlAttrCleanup","allowClear","_hxlUpdate","_hxlTagSelecting","_hxlTagSanitize","hxlArray","aA","_a","term","getTypes","model_is_group","appearances","$select","modelValue","confirmId","setup","buttonsArray","buttonLabel","buttonClass","scope","basic","movable","closable","maximizable","pinnable","prepare","setContent","onclick","closeEvent","killMe","onclose","buttonEl","reactCreateBemElement","elUnwrap","reduceModify","propTypes","bemComponents","hsh","Matrix","MatrixCols","MatrixCols__col","MatrixCols__settings","MatrixCols__settings_inner","MatrixCols__colattr","MatrixItems","MatrixItemsNewCol","MatrixItems__item","MatrixItems__itemrow","MatrixItems__itemattr","MatrixItems__itemsettings","MatrixButton","KoboMatrix","_listDetails","expandedColKuid","expandedRowKuid","typeChoices","toJS","generateDefault","newColumn","newChoiceOption","colKuid","rowKuid","ln","getIn","setRow","applyAutoName","setIn","autoName","toLocalStorage","setColumn","deleteIn","prevListName","newListId","_addDefaultList","choice1kuid","val1","choice1","val2","choice2kuid","choice2","expandedCol","typeVal","getCol","newRowKuid","newColKuid","cname","newCol","filterNot","dataJS","expandedRow","getListDetails","expandColumn","getSelectTypeVal","colChangeType","onColumnChange","onColumnBlur","getRequiredStatus","requiredChange","getChoiceField","choiceChange","data-type","data-kuid","deleteRow","data-list-name","deleteColumn","expandRow","_listName","_isUnderscores","onRowChange","KoboMatrixRow","obj2","_o","_b","fromJS","toOrderedMap"],"mappings":"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","file":"app-d72f2cc7e86e4413c7f7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/compiled/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([478,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react'\nimport classnames from 'classnames'\n\n/**\n * USAGE:\n *\n * There are two exports here:\n * - bem - an object that holds all defined components (default export)\n * - makeBem - for creating the block or element component\n */\n\ninterface bemInstances {\n  [bemName: string]: BemInstance\n}\n\n/**\n * Container for holding all BEM definitions.\n */\nconst bem: bemInstances = {}\n\nexport default bem\n\ntype BemModifiersObject = {\n  [modifierName: string]: boolean\n}\n\ninterface BemComponentProps extends React.ComponentProps<any> {\n  /**\n   * Pass a string, or array of strings. Pass `null` for nothing. For complex\n   * modifiers, pass an object:\n   * {\n   *   'modifier-name': <boolean value whether the modifier should be applied>,\n   *   'another-modifier': <boolean>,\n   * }\n   */\n  m?: null | string | string[] | BemModifiersObject | (string | BemModifiersObject)[]\n}\n\ninterface BemInstance extends React.ComponentClass<BemComponentProps, {}> {\n  blockName: string\n}\n\n/**\n * Creates a BEM class for block or element.\n * For first parameter pass `null` to create a Block component,\n * or pass existing Block component to create Element component (a child).\n * Please no angle brackets for `htmlTagName`.\n */\nexport function makeBem(\n  parent: BemInstance | null,\n  name: string,\n  htmlTagName: string = 'div'\n): BemInstance {\n  class BemComponent extends React.Component<BemComponentProps, {}> {\n    static blockName: string = parent ? parent.blockName : name\n\n    constructor(props: BemComponentProps) {\n      super(props)\n    }\n\n    render() {\n      let classNames: string[] = []\n\n      // Keep existing className attribute if given (either string or array)\n      if (typeof this.props.className === 'string') {\n        classNames.push(this.props.className)\n      } else if (Array.isArray(this.props.className)) {\n        classNames.push(this.props.className.join(' '))\n      }\n\n      // wholeName includes parent, e.g. `parent-block__child-element`\n      const wholeName = parent ? `${parent.blockName}__${name}` : name\n      classNames.push(wholeName)\n\n      const modifiersList = classnames(this.props.m)\n      if (modifiersList !== '') {\n        modifiersList.split(' ').forEach((modifier) => {\n          classNames.push(`${wholeName}--${modifier}`)\n        })\n      }\n\n      const newProps: {[propName: string]: any} = {\n        className: classNames.join(' ')\n      }\n\n      // Keep all the original props expect for modifiers (don't need it) and\n      // className (we use our own).\n      Object.entries(this.props).forEach((propEntry) => {\n        if (propEntry[0] !== 'm' && propEntry[0] !== 'className') {\n          newProps[propEntry[0]] = propEntry[1]\n        }\n      })\n\n      return React.createElement(htmlTagName, newProps)\n    }\n  }\n\n  return BemComponent\n}\n","/**\n * A list of all shareable constants for the application.\n */\n\ninterface IEnum {\n  [val: string]: string\n}\n\n/**\n * An enum creator function. Will create a frozen object of `foo: \"foo\"` pairs.\n * Will make sure the returned values are unique.\n */\nexport function createEnum(values: string[]): IEnum {\n  const newEnum: IEnum = {}\n  new Set(values).forEach((value) => {newEnum[value] = value})\n  return Object.freeze(newEnum)\n}\n\nexport const ROOT_URL = (() => {\n  // This is an \"absolute path reference (a URL without the domain name)\"\n  // according to the Django docs\n  let rootPathEl = document.head.querySelector<HTMLMetaElement>('meta[name=kpi-root-path]');\n  let rootPath = '';\n  if (rootPathEl === null) {\n    console.error('no kpi-root-path meta tag set. defaulting to \"\"');\n    rootPath = '';\n  } else {\n    // Strip trailing slashes\n    rootPath = rootPathEl.content.replace(/\\/*$/, '');\n  }\n  return `${window.location.protocol}//${window.location.host}${rootPath}`;\n})();\n\nexport const ANON_USERNAME = 'AnonymousUser';\n\n/**\n * BAD CODE™ A hardcoded list of permissions codenames.\n *\n * All of them are really defined on backend, and we get them through the\n * permissions config endpoint, but as we need these names to reference them in\n * the code to build the UI it's a necessary evil.\n *\n * NOTE: to know what these permissions permit see `kpi/permissions.py` file,\n * where you have to match the classes with endpoints and their HTTP methods.\n */\nexport const PERMISSIONS_CODENAMES = createEnum([\n  // Is user able to view asset - mostly handled by Backend just not returning\n  // asset in the results or direct endpoint.\n  'view_asset',\n\n  // Is user able to edit asset, i.e. to change anything in the asset endpoint,\n  // so: editing in Form Builder, changing tags, changing settings, replace XLS,\n  // change translations, move between collection, archive, unarchive, delete…\n  'change_asset',\n\n  // Is asset discoverable in public lists.\n  'discover_asset',\n\n  // Is user able to manage some aspects of asset (it is different from editing)\n  // such as: saving export settings, sharing asset (TODO)…\n  'manage_asset',\n\n  // Is user able to add submissions - handled by Backend submissions endpoint.\n  'add_submissions',\n\n  // Is user able to see submissions, i.e. the Table View.\n  'view_submissions',\n\n  // Used for partially permissing user actions on submissions.\n  'partial_submissions',\n\n  // Is user able to edit existing submissions.\n  'change_submissions',\n\n  // Is user able to delete submissions.\n  'delete_submissions',\n\n  // Is user able to change the validation status of submissions.\n  'validate_submissions',\n]);\n\nexport const ENKETO_ACTIONS = createEnum([\n  'edit',\n  'view',\n])\n\nexport const HOOK_LOG_STATUSES = {\n  SUCCESS: 2,\n  PENDING: 1,\n  FAILED: 0,\n};\n\nexport const KEY_CODES = Object.freeze({\n  TAB: 9,\n  ENTER: 13,\n  ESC: 27,\n  SPACE: 32,\n  NBSP: 160, // non-breakable space\n});\n\nexport const MODAL_TYPES = {\n  SHARING: 'sharing',\n  UPLOADING_XLS: 'uploading-xls',\n  NEW_FORM: 'new-form',\n  LIBRARY_NEW_ITEM: 'library-new-item',\n  LIBRARY_TEMPLATE: 'library-template',\n  LIBRARY_COLLECTION: 'library-collection',\n  LIBRARY_UPLOAD: 'library-upload',\n  ENKETO_PREVIEW: 'enketo-preview',\n  SUBMISSION: 'submission',\n  REPLACE_PROJECT: 'replace-project',\n  TABLE_SETTINGS: 'table-settings',\n  REST_SERVICES: 'rest-services',\n  FORM_LANGUAGES: 'form-languages',\n  FORM_TRANSLATIONS_TABLE: 'form-translation-table',\n  ASSET_TAGS: 'asset-tags',\n  ENCRYPT_FORM: 'encrypt-form',\n  BULK_EDIT_SUBMISSIONS: 'bulk-edit-submissions',\n  TABLE_MEDIA_PREVIEW: 'table-media-preview',\n  DATA_ATTACHMENT_COLUMNS: 'data-attachment-columns',\n};\n\nexport const PROJECT_SETTINGS_CONTEXTS = Object.freeze({\n  NEW: 'newForm',\n  EXISTING: 'existingForm',\n  REPLACE: 'replaceProject',\n  BUILDER: 'formBuilderAside',\n});\n\nexport const update_states = {\n  UNSAVED_CHANGES: -1,\n  UP_TO_DATE: true,\n  PENDING_UPDATE: false,\n  SAVE_FAILED: 'SAVE_FAILED',\n};\n\nexport const AVAILABLE_FORM_STYLES = [\n  {value: '', label: t('Default - single page')},\n  {value: 'theme-grid no-text-transform', label: t('Grid theme')},\n  {value: 'theme-grid', label: t('Grid theme with headings in ALL CAPS')},\n  {value: 'pages', label: t('Multiple pages')},\n  {value: 'theme-grid pages no-text-transform', label: t('Grid theme + Multiple pages')},\n  {value: 'theme-grid pages', label: t('Grid theme + Multiple pages + headings in ALL CAPS')},\n];\n\nexport const VALIDATION_STATUSES = {\n  no_status: {\n    value: null,\n    label: '—',\n  },\n  validation_status_not_approved: {\n    value: 'validation_status_not_approved',\n    label: t('Not approved'),\n  },\n  validation_status_approved: {\n    value: 'validation_status_approved',\n    label: t('Approved'),\n  },\n  validation_status_on_hold: {\n    value: 'validation_status_on_hold',\n    label: t('On hold'),\n  },\n};\n\nexport const VALIDATION_STATUSES_LIST = [\n  VALIDATION_STATUSES.no_status,\n  VALIDATION_STATUSES.validation_status_not_approved,\n  VALIDATION_STATUSES.validation_status_approved,\n  VALIDATION_STATUSES.validation_status_on_hold,\n];\n\n/**\n * All possible asset types.\n */\nexport enum AssetTypeName {\n  question = 'question',\n  block = 'block',\n  template = 'template',\n  survey = 'survey',\n  collection = 'collection',\n}\n\ninterface AssetTypeDefinition {\n  id: AssetTypeName\n  label: string\n}\n\ntype AssetTypes = {\n  [P in AssetTypeName]: AssetTypeDefinition\n}\n\nexport const ASSET_TYPES: AssetTypes = {\n  question: {\n    id: AssetTypeName.question,\n    label: t('question'),\n  },\n  block: {\n    id: AssetTypeName.block,\n    label: t('block'),\n  },\n  template: {\n    id: AssetTypeName.template,\n    label: t('template'),\n  },\n  survey: {\n    id: AssetTypeName.survey,\n    label: t('project'),\n  },\n  collection: {\n    id: AssetTypeName.collection,\n    label: t('collection'),\n  },\n};\n\nexport const ASSET_FILE_TYPES = {\n  map_layer: {\n    id: 'map_layer',\n    label: t('map layer'),\n  },\n  form_media: {\n    id: 'form_media',\n    label: t('form media'),\n  },\n};\n\n/**\n * These are the types of survey rows that users can create in FormBuilder and\n * ones that require manual data submission.\n */\nexport enum QuestionTypeName {\n  acknowledge = 'acknowledge',\n  audio = 'audio',\n  barcode = 'barcode',\n  calculate = 'calculate',\n  date = 'date',\n  datetime = 'datetime',\n  decimal = 'decimal',\n  'xml-external' = 'xml-external',\n  file = 'file',\n  geopoint = 'geopoint',\n  geoshape = 'geoshape',\n  geotrace = 'geotrace',\n  hidden = 'hidden',\n  image = 'image',\n  integer = 'integer',\n  kobomatrix = 'kobomatrix',\n  note = 'note',\n  range = 'range',\n  rank = 'rank',\n  score = 'score',\n  select_multiple = 'select_multiple',\n  select_one = 'select_one',\n  text = 'text',\n  time = 'time',\n  video = 'video',\n}\n\ninterface QuestionTypeDefinition {\n  label: string\n  icon: string\n  id: QuestionTypeName\n}\n\ntype QuestionTypes = {\n  [P in QuestionTypeName]: QuestionTypeDefinition\n}\n\n/*\n * When adding new question type please remember to update those places:\n * 1. Add question type here\n * 2. Add new SVG icon to jsapp/svg-icons\n * 3. Add icon to row view.icons.coffee\n * 4. If it's non-regular type, you might need to update:\n *   - isRowSpecialLabelHolder in assetUtils.es6\n *   - renderQuestionTypeIcon in assetUtils.es6\n * 5. If question doesn't hold data, update:\n *   - getDisplayData in bulkEditSubmissionsForm.es6\n *   - getDisplayedColumns in table.es6\n * 6. Update renderResponseData in submissionDataTable.es6\n * 7. Update getSubmissionDisplayData in submissionUtils.es6\n * 8. If it's media type update renderAttachment in submissionDataTable.es6\n */\n\n/**\n * Definitions of user oriented question types.\n */\nexport const QUESTION_TYPES: QuestionTypes = Object.freeze({\n  acknowledge: {label: t('Acknowledge'), icon: 'qt-acknowledge', id: QuestionTypeName.acknowledge},\n  audio: {label: t('Audio'), icon: 'qt-audio', id: QuestionTypeName.audio},\n  barcode: {label: t('Barcode / QR Code'), icon: 'qt-barcode', id: QuestionTypeName.barcode},\n  calculate: {label: t('Calculate'), icon: 'qt-calculate', id: QuestionTypeName.calculate},\n  date: {label: t('Date'), icon: 'qt-date', id: QuestionTypeName.date},\n  datetime: {label: t('Date & time'), icon: 'qt-date-time', id: QuestionTypeName.datetime},\n  decimal: {label: t('Decimal'), icon: 'qt-decimal', id: QuestionTypeName.decimal},\n  'xml-external': {label: t('External XML'), icon: 'qt-external-xml', id: QuestionTypeName['xml-external']},\n  file: {label: t('File'), icon: 'qt-file', id: QuestionTypeName.file},\n  geopoint: {label: t('Point'), icon: 'qt-point', id: QuestionTypeName.geopoint},\n  geoshape: {label: t('Area'), icon: 'qt-area', id: QuestionTypeName.geoshape},\n  geotrace: {label: t('Line'), icon: 'qt-line', id: QuestionTypeName.geotrace},\n  hidden: {label: t('Hidden'), icon: 'qt-hidden', id: QuestionTypeName.hidden},\n  image: {label: t('Photo'), icon: 'qt-photo', id: QuestionTypeName.image},\n  integer: {label: t('Number'), icon: 'qt-number', id: QuestionTypeName.integer},\n  kobomatrix: {label: t('Question Matrix'), icon: 'qt-question-matrix', id: QuestionTypeName.kobomatrix},\n  note: {label: t('Note'), icon: 'qt-note', id: QuestionTypeName.note},\n  range: {label: t('Range'), icon: 'qt-range', id: QuestionTypeName.range},\n  rank: {label: t('Ranking'), icon: 'qt-ranking', id: QuestionTypeName.rank},\n  score: {label: t('Rating'), icon: 'qt-rating', id: QuestionTypeName.score},\n  select_multiple: {label: t('Select Many'), icon: 'qt-select-many', id: QuestionTypeName.select_multiple},\n  select_one: {label: t('Select One'), icon: 'qt-select-one', id: QuestionTypeName.select_one},\n  text: {label: t('Text'), icon: 'qt-text', id: QuestionTypeName.text},\n  time: {label: t('Time'), icon: 'qt-time', id: QuestionTypeName.time},\n  video: {label: t('Video'), icon: 'qt-video', id: QuestionTypeName.video},\n});\n\n/**\n * These are the types of survey rows that users can create in FormBuilder (as\n * checkboxes) and ones that have data submitted automatically.\n */\nexport enum MetaQuestionTypeName {\n  start = 'start',\n  end = 'end',\n  today = 'today',\n  username = 'username',\n  simserial = 'simserial',\n  subscriberid = 'subscriberid',\n  deviceid = 'deviceid',\n  phonenumber = 'phonenumber',\n  audit = 'audit',\n  'background-audio' = 'background-audio',\n}\nexport const META_QUESTION_TYPES = createEnum([\n  MetaQuestionTypeName.start,\n  MetaQuestionTypeName.end,\n  MetaQuestionTypeName.today,\n  MetaQuestionTypeName.username,\n  MetaQuestionTypeName.simserial,\n  MetaQuestionTypeName.subscriberid,\n  MetaQuestionTypeName.deviceid,\n  MetaQuestionTypeName.phonenumber,\n  MetaQuestionTypeName.audit,\n  MetaQuestionTypeName['background-audio'],\n]) as {[P in MetaQuestionTypeName]: MetaQuestionTypeName};\n\n// submission data extras being added by backend. see both of these:\n// 1. https://github.com/kobotoolbox/kobocat/blob/78133d519f7b7674636c871e3ba5670cd64a7227/onadata/apps/viewer/models/parsed_instance.py#L242-L260\n// 2. https://github.com/kobotoolbox/kpi/blob/7db39015866c905edc645677d72b9c1ea16067b1/jsapp/js/constants.es6#L284-L294\nexport const ADDITIONAL_SUBMISSION_PROPS = createEnum([\n  // match the ordering of (Python) kpi.models.import_export_task.ExportTask.COPY_FIELDS\n  '_id',\n  '_uuid',\n  '_submission_time',\n  '_validation_status',\n  '_notes',\n  '_status',\n  '_submitted_by',\n  '_tags',\n  '_index',\n]);\n\nexport const NAME_MAX_LENGTH = 255;\n\n/**\n * for Backend calls, see their definitions at `kpi/filters.py`\n * NOTE: ORs require a parenthesis to work\n */\nexport const COMMON_QUERIES = Object.freeze({\n  b: 'asset_type:block',\n  q: 'asset_type:question',\n  t: 'asset_type:template',\n  s: 'asset_type:survey',\n  c: 'asset_type:collection',\n  qb: '(asset_type:question OR asset_type:block)',\n  qbt: '(asset_type:question OR asset_type:block OR asset_type:template)',\n  qbtc: '(asset_type:question OR asset_type:block OR asset_type:template OR asset_type:collection)',\n});\n\nexport const ACCESS_TYPES = createEnum([\n  'owned',\n  'shared',\n  'public',\n  'subscribed',\n  'superuser',\n]);\n\n/**\n * These are the types of survey rows that mark the beginning of a group. They\n * don't carry any submission data.\n */\nexport enum GroupTypeBeginName {\n  begin_group = 'begin_group',\n  begin_score = 'begin_score',\n  begin_rank = 'begin_rank',\n  begin_kobomatrix = 'begin_kobomatrix',\n  begin_repeat = 'begin_repeat',\n}\nexport const GROUP_TYPES_BEGIN = createEnum([\n  GroupTypeBeginName.begin_group,\n  GroupTypeBeginName.begin_score,\n  GroupTypeBeginName.begin_rank,\n  GroupTypeBeginName.begin_kobomatrix,\n  GroupTypeBeginName.begin_repeat,\n]) as {[P in GroupTypeBeginName]: GroupTypeBeginName};\n\n/**\n * These are the types of survey rows that mark the ending of a group. They\n * don't carry any submission data.\n */\nexport enum GroupTypeEndName {\n  end_group = 'end_group',\n  end_score = 'end_score',\n  end_rank = 'end_rank',\n  end_kobomatrix = 'end_kobomatrix',\n  end_repeat = 'end_repeat',\n}\nexport const GROUP_TYPES_END = createEnum([\n  'end_group',\n  'end_score',\n  'end_rank',\n  'end_kobomatrix',\n  'end_repeat',\n]) as {[P in GroupTypeEndName]: GroupTypeEndName};\n\n/**\n * These are some special types of survey rows.\n */\nexport enum MiscRowTypeName {\n  score__row = 'score__row',\n  rank__level = 'rank__level',\n}\n\n// a custom question type for score\nexport const SCORE_ROW_TYPE = MiscRowTypeName.score__row;\n\n// a custom question type for rank\nexport const RANK_LEVEL_TYPE = MiscRowTypeName.rank__level;\n\nexport const ANY_ROW_TYPE_NAMES = {\n  ...QuestionTypeName,\n  ...MetaQuestionTypeName,\n  ...GroupTypeBeginName,\n  ...GroupTypeEndName,\n  ...MiscRowTypeName\n};\n/**\n * These are all possible types of asset survey rows.\n */\nexport type AnyRowTypeName = QuestionTypeName | MetaQuestionTypeName | GroupTypeBeginName | GroupTypeEndName | MiscRowTypeName\n\nexport const CHOICE_LISTS = Object.freeze({\n  SELECT: 'select_from_list_name',\n  MATRIX: 'kobo--matrix_list',\n  SCORE: 'kobo--score-choices',\n  RANK: 'kobo--rank-items',\n});\n\nexport const MATRIX_PAIR_PROPS = {\n  inSurvey: CHOICE_LISTS.MATRIX,\n  inChoices: 'list_name',\n};\n\nexport const DEPLOYMENT_CATEGORIES = Object.freeze({\n  Deployed: {id: 'Deployed', label: t('Deployed')},\n  Draft: {id: 'Draft', label: t('Draft')},\n  Archived: {id: 'Archived', label: t('Archived')},\n});\n\nexport const QUERY_LIMIT_DEFAULT = 5000;\n\nexport const MAX_DISPLAYED_STRING_LENGTH = Object.freeze({\n  form_media: 50,\n  connect_projects: 30,\n});\n\nexport const COLLECTION_METHODS = Object.freeze({\n  offline_url: {\n    id: 'offline_url',\n    label: t('Online-Offline (multiple submission)'),\n    desc: t('This allows online and offline submissions and is the best option for collecting data in the field.'),\n  },\n  url: {\n    id: 'url',\n    label: t('Online-Only (multiple submissions)'),\n    desc: t('This is the best option when entering many records at once on a computer, e.g. for transcribing paper records.'),\n  },\n  single_url: {\n    id: 'single_url',\n    label: t('Online-Only (single submission)'),\n    desc: t('This allows a single submission, and can be paired with the \"return_url\" parameter to redirect the user to a URL of your choice after the form has been submitted.'),\n  },\n  single_once_url: {\n    id: 'single_once_url',\n    label: t('Online-only (once per respondent)'),\n    desc: t('This allows your web form to only be submitted once per user, using basic protection to prevent the same user (on the same browser & device) from submitting more than once.'),\n  },\n  iframe_url: {\n    id: 'iframe_url',\n    label: t('Embeddable web form code'),\n    desc: t('Use this html5 code snippet to integrate your form on your own website using smaller margins.'),\n  },\n  preview_url: {\n    id: 'preview_url',\n    label: t('View only'),\n    desc: t('Use this version for testing, getting feedback. Does not allow submitting data.'),\n  },\n  android: {\n    id: 'android',\n    label: t('Android application'),\n    desc: t('Use this option to collect data in the field with your Android device.'),\n    url: 'https://play.google.com/store/apps/details?id=org.koboc.collect.android&hl=en',\n  },\n});\n\n\nexport const SURVEY_DETAIL_ATTRIBUTES = Object.freeze({\n  value: {\n    id: 'value',\n  },\n  parameters: {\n    id: 'parameters',\n  },\n});\n\nexport const FUNCTION_TYPE = Object.freeze({\n  function: {\n    id: 'function',\n  },\n});\n\nexport const FUSE_OPTIONS = {\n  isCaseSensitive: false,\n  includeScore: true,\n  minMatchCharLength: 1,\n  shouldSort: false,\n  ignoreFieldNorm: true,\n  threshold: 0.2,\n  ignoreLocation: true,\n};\n\n// NOTE: The default export is mainly for tests\nconst constants = {\n  ROOT_URL,\n  ANON_USERNAME,\n  PERMISSIONS_CODENAMES,\n  HOOK_LOG_STATUSES,\n  KEY_CODES,\n  MODAL_TYPES,\n  PROJECT_SETTINGS_CONTEXTS,\n  update_states,\n  AVAILABLE_FORM_STYLES,\n  VALIDATION_STATUSES,\n  VALIDATION_STATUSES_LIST,\n  ASSET_TYPES,\n  ASSET_FILE_TYPES,\n  QUESTION_TYPES,\n  META_QUESTION_TYPES,\n  ADDITIONAL_SUBMISSION_PROPS,\n  NAME_MAX_LENGTH,\n  COMMON_QUERIES,\n  ACCESS_TYPES,\n  GROUP_TYPES_BEGIN,\n  GROUP_TYPES_END,\n  SCORE_ROW_TYPE,\n  RANK_LEVEL_TYPE,\n  DEPLOYMENT_CATEGORIES,\n  QUERY_LIMIT_DEFAULT,\n  CHOICE_LISTS,\n  MAX_DISPLAYED_STRING_LENGTH,\n  SURVEY_DETAIL_ATTRIBUTES,\n  FUNCTION_TYPE,\n};\n\nexport default constants;\n","function createFunctions(Reflux, PromiseFactory) {\n\n    const _ = Reflux.utils;\n\n    /**\n     * Returns a Promise for the triggered action\n     *\n     * @return {Promise}\n     *   Resolved by completed child action.\n     *   Rejected by failed child action.\n     *   If listenAndPromise'd, then promise associated to this trigger.\n     *   Otherwise, the promise is for next child action completion.\n     */\n    function triggerPromise() {\n        var me = this;\n        var args = arguments;\n\n        var canHandlePromise =\n            this.children.indexOf('completed') >= 0 &&\n            this.children.indexOf('failed') >= 0;\n\n        var createdPromise = new PromiseFactory(function(resolve, reject) {\n            // If `listenAndPromise` is listening\n            // patch `promise` w/ context-loaded resolve/reject\n            if (me.willCallPromise) {\n                _.nextTick(function() {\n                    var previousPromise = me.promise;\n                    me.promise = function (inputPromise) {\n                        inputPromise.then(resolve, reject);\n                        // Back to your regularly schedule programming.\n                        me.promise = previousPromise;\n                        return me.promise.apply(me, arguments);\n                    };\n                    me.trigger.apply(me, args);\n                });\n                return;\n            }\n\n            if (canHandlePromise) {\n                var removeSuccess = me.completed.listen(function () {\n                    var args = Array.prototype.slice.call(arguments);\n                    removeSuccess();\n                    removeFailed();\n                    resolve(args.length > 1 ? args : args[0]);\n                });\n\n                var removeFailed = me.failed.listen(function () {\n                    var args = Array.prototype.slice.call(arguments);\n                    removeSuccess();\n                    removeFailed();\n                    reject(args.length > 1 ? args : args[0]);\n                });\n            }\n\n            _.nextTick(function () {\n                me.trigger.apply(me, args);\n            });\n\n            if (!canHandlePromise) {\n                resolve();\n            }\n        });\n\n        // Ensure that the promise does trigger \"Uncaught (in promise)\" errors in console if no error handler is added\n        // See: https://github.com/reflux/reflux-promise/issues/4\n        createdPromise.catch(function() {});\n\n        return createdPromise;\n    }\n\n    /**\n     * Attach handlers to promise that trigger the completed and failed\n     * child publishers, if available.\n     *\n     * @param {Object} p The promise to attach to\n     */\n    function promise(p) {\n        var me = this;\n\n        var canHandlePromise =\n            this.children.indexOf('completed') >= 0 &&\n            this.children.indexOf('failed') >= 0;\n\n        if (!canHandlePromise){\n            throw new Error('Publisher must have \"completed\" and \"failed\" child publishers');\n        }\n\n        p.then(function(response) {\n            return me.completed(response);\n        }, function(error) {\n            return me.failed(error);\n        });\n    }\n\n    /**\n     * Subscribes the given callback for action triggered, which should\n     * return a promise that in turn is passed to `this.promise`\n     *\n     * @param {Function} callback The callback to register as event handler\n     */\n    function listenAndPromise(callback, bindContext) {\n        var me = this;\n        bindContext = bindContext || this;\n        this.willCallPromise = (this.willCallPromise || 0) + 1;\n\n        var removeListen = this.listen(function() {\n\n            if (!callback) {\n                throw new Error('Expected a function returning a promise but got ' + callback);\n            }\n\n            var args = arguments,\n                returnedPromise = callback.apply(bindContext, args);\n            return me.promise.call(me, returnedPromise);\n        }, bindContext);\n\n        return function () {\n          me.willCallPromise--;\n          removeListen.call(me);\n        };\n\n    }\n\n    return {\n        triggerPromise: triggerPromise,\n        promise: promise,\n        listenAndPromise: listenAndPromise\n    };\n}\n\n/**\n * Sets up reflux with Promise functionality\n */\nexport default function(promiseFactory) {\n    return function(Reflux) {\n        const { triggerPromise, promise, listenAndPromise } = createFunctions(Reflux, promiseFactory);\n        Reflux.PublisherMethods.triggerAsync = triggerPromise;\n        Reflux.PublisherMethods.promise = promise;\n        Reflux.PublisherMethods.listenAndPromise = listenAndPromise;\n    };\n}\n","/**\n * permissions related actions\n */\n\nimport Reflux from 'reflux';\nimport RefluxPromise from 'js/libs/reflux-promise';\nReflux.use(RefluxPromise(window.Promise));\nimport {dataInterface} from 'js/dataInterface';\nimport {\n  notify,\n  buildUserUrl,\n} from 'utils';\nimport {\n  ANON_USERNAME,\n  PERMISSIONS_CODENAMES,\n} from 'js/constants';\nimport permConfig from 'js/components/permissions/permConfig';\n\nexport const permissionsActions = Reflux.createActions({\n  getConfig: {children: ['completed', 'failed']},\n  getAssetPermissions: {children: ['completed', 'failed']},\n  bulkSetAssetPermissions: {children: ['completed', 'failed']},\n  assignAssetPermission: {children: ['completed', 'failed']},\n  removeAssetPermission: {children: ['completed', 'failed']},\n  setAssetPublic: {children: ['completed', 'failed']},\n  copyPermissionsFrom: {children: ['completed', 'failed']},\n});\n\n/**\n * New actions\n */\n\npermissionsActions.getConfig.listen(() => {\n  dataInterface.getPermissionsConfig()\n    .done(permissionsActions.getConfig.completed)\n    .fail(permissionsActions.getConfig.failed);\n});\n\npermissionsActions.getConfig.failed.listen(() => {\n  notify('Failed to get permissions config!', 'error');\n});\n\npermissionsActions.getAssetPermissions.listen((assetUid) => {\n  dataInterface.getAssetPermissions(assetUid)\n    .done(permissionsActions.getAssetPermissions.completed)\n    .fail(permissionsActions.getAssetPermissions.failed);\n});\n\n/**\n * For bulk setting permissions - wipes all current permissions, sets given ones\n *\n * @param {string} assetUid\n * @param {Object[]} perms - permissions to set\n */\npermissionsActions.bulkSetAssetPermissions.listen((assetUid, perms) => {\n  dataInterface.bulkSetAssetPermissions(assetUid, perms)\n    .done((permissionAssignments) => {\n      permissionsActions.bulkSetAssetPermissions.completed(permissionAssignments);\n    })\n    .fail(() => {\n      permissionsActions.getAssetPermissions(assetUid);\n      permissionsActions.bulkSetAssetPermissions.failed();\n    });\n});\n\n/**\n * For adding single asset permission\n *\n * @param {string} assetUid\n * @param {Object} perm - permission to add\n */\npermissionsActions.assignAssetPermission.listen((assetUid, perm) => {\n  dataInterface.assignAssetPermission(assetUid, perm)\n    .done(() => {\n      permissionsActions.getAssetPermissions(assetUid);\n      permissionsActions.assignAssetPermission.completed(assetUid);\n    })\n    .fail(() => {\n      permissionsActions.getAssetPermissions(assetUid);\n      permissionsActions.assignAssetPermission.failed(assetUid);\n    });\n});\n\n/**\n * For removing single permission\n *\n * @param {string} assetUid\n * @param {string} perm - permission url\n */\npermissionsActions.removeAssetPermission.listen((assetUid, perm, isNonOwner) => {\n  dataInterface.removePermission(perm)\n    .done(() => {\n      // Avoid this call if a non-owner removed their own permissions as it will fail\n      if (!isNonOwner) {\n        permissionsActions.getAssetPermissions(assetUid);\n      }\n      permissionsActions.removeAssetPermission.completed(assetUid, isNonOwner);\n    })\n    .fail(() => {\n      permissionsActions.getAssetPermissions(assetUid);\n      permissionsActions.removeAssetPermission.failed(assetUid);\n    });\n});\n\n/**\n * Makes asset public or private. This is a special action that mixes\n * bulkSetAssetPermissions and removeAssetPermission to elegantly solve a\n * particular problem.\n *\n * @param {Object} asset - BE asset data\n * @param {boolean} shouldSetAnonPerms\n */\npermissionsActions.setAssetPublic.listen((asset, shouldSetAnonPerms) => {\n  if (shouldSetAnonPerms) {\n    const permsToSet = asset.permissions.filter((permissionAssignment) => {\n      return permissionAssignment.user !== asset.owner;\n    });\n    permsToSet.push({\n      user: buildUserUrl(ANON_USERNAME),\n      permission: permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.view_asset).url\n    });\n    permsToSet.push({\n      user: buildUserUrl(ANON_USERNAME),\n      permission: permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.discover_asset).url\n    });\n    dataInterface.bulkSetAssetPermissions(asset.uid, permsToSet)\n      .done(() => {permissionsActions.setAssetPublic.completed(asset.uid, shouldSetAnonPerms);})\n      .fail(() => {permissionsActions.setAssetPublic.failed(asset.uid, shouldSetAnonPerms);});\n  } else {\n    const permToRemove = asset.permissions.find((permissionAssignment) => {\n      return (\n        permissionAssignment.user === buildUserUrl(ANON_USERNAME) &&\n        permissionAssignment.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.view_asset).url\n      );\n    });\n    dataInterface.removePermission(permToRemove.url)\n      .done(() => {permissionsActions.setAssetPublic.completed(asset.uid, shouldSetAnonPerms);})\n      .fail(() => {permissionsActions.setAssetPublic.failed(asset.uid, shouldSetAnonPerms);});\n  }\n});\n\n// copies permissions from one asset to other\npermissionsActions.copyPermissionsFrom.listen(function(sourceUid, targetUid) {\n  dataInterface.copyPermissionsFrom(sourceUid, targetUid)\n    .done(() => {\n      permissionsActions.getAssetPermissions(targetUid);\n      permissionsActions.copyPermissionsFrom.completed(sourceUid, targetUid);\n    })\n    .fail(permissionsActions.copyPermissionsFrom.failed);\n});\n","/**\n * help related actions\n */\n\nimport Reflux from 'reflux';\nimport {dataInterface} from '../dataInterface';\nimport {notify} from 'utils';\n\nexport const helpActions = Reflux.createActions({\n  getInAppMessages: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n  setMessageAcknowledged: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n  setMessageReadTime: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  }\n});\n\nhelpActions.getInAppMessages.listen(() => {\n  dataInterface.getHelpInAppMessages()\n    .done(helpActions.getInAppMessages.completed)\n    .fail(helpActions.getInAppMessages.failed);\n});\nhelpActions.getInAppMessages.failed.listen(() => {\n  notify(t('Failed to get in app messages.'), 'error');\n});\n\nhelpActions.setMessageReadTime.listen((uid, readTime) => {\n  dataInterface.patchHelpInAppMessage(uid, {interactions: {\n    readTime: readTime,\n    // we assume that reading messages is a conscious action\n    acknowledged: true\n  }})\n    .done(helpActions.setMessageReadTime.completed)\n    .fail(helpActions.setMessageReadTime.failed);\n});\nhelpActions.setMessageReadTime.failed.listen(() => {\n  notify(t('Failed to set message readTime.'), 'error');\n});\n\nhelpActions.setMessageAcknowledged.listen((uid, isAcknowledged) => {\n  dataInterface.patchHelpInAppMessage(uid, {interactions: {acknowledged: isAcknowledged}})\n    .done(helpActions.setMessageAcknowledged.completed)\n    .fail(helpActions.setMessageAcknowledged.failed);\n});\nhelpActions.setMessageAcknowledged.failed.listen(() => {\n  notify(t('Failed to set message acknowledged.'), 'error');\n});\n","/**\n * library specific actions\n */\n\nimport Reflux from 'reflux';\nimport {dataInterface} from 'js/dataInterface';\nimport {notify} from 'utils';\n\nconst libraryActions = Reflux.createActions({\n  searchMyCollectionAssets: {\n    children: [\n      'started',\n      'completed',\n      'failed'\n    ]\n  },\n  searchMyLibraryAssets: {\n    children: [\n      'started',\n      'completed',\n      'failed'\n    ]\n  },\n\n  searchMyCollectionMetadata: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n\n  searchMyLibraryMetadata: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n\n  searchPublicCollections: {\n    children: [\n      'started',\n      'completed',\n      'failed'\n    ]\n  },\n\n  searchPublicCollectionsMetadata: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n\n  subscribeToCollection: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n\n  unsubscribeFromCollection: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n\n  moveToCollection: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n\n  getCollections: {\n    children: [\n      'completed',\n      'failed'\n    ]\n  },\n});\n\n/**\n * Gets single collection's assets\n *\n * @param {object} params\n */\nlibraryActions.searchMyCollectionAssets.listen((params) => {\n  const xhr = dataInterface.searchMyCollectionAssets(params)\n    .done(libraryActions.searchMyCollectionAssets.completed)\n    .fail(libraryActions.searchMyCollectionAssets.failed);\n  libraryActions.searchMyCollectionAssets.started(xhr.abort);\n});\n\n/**\n * Gets library assets and metadata (with a flag)\n * Note: `started` callback returns abort method immediately\n * @param {object} params\n */\nlibraryActions.searchMyLibraryAssets.listen((params) => {\n  const xhr = dataInterface.searchMyLibraryAssets(params)\n    .done(libraryActions.searchMyLibraryAssets.completed)\n    .fail(libraryActions.searchMyLibraryAssets.failed);\n  libraryActions.searchMyLibraryAssets.started(xhr.abort);\n});\n\n\n/**\n * Gets metadata for a single collection's assets\n * @param {object} params\n */\nlibraryActions.searchMyCollectionMetadata.listen((params) => {\n  dataInterface.searchMyCollectionMetadata(params)\n    .done(libraryActions.searchMyCollectionMetadata.completed)\n    .fail(libraryActions.searchMyCollectionMetadata.failed);\n});\n\n/**\n * Gets metadata for library assets\n * @param {object} params\n */\nlibraryActions.searchMyLibraryMetadata.listen((params) => {\n  dataInterface.searchMyLibraryMetadata(params)\n    .done(libraryActions.searchMyLibraryMetadata.completed)\n    .fail(libraryActions.searchMyLibraryMetadata.failed);\n});\n\n/**\n * Gets public collections and metadata (with a flag)\n * Note: `started` callback returns abort method immediately\n * @param {object} params\n */\nlibraryActions.searchPublicCollections.listen((params) => {\n  const xhr = dataInterface.searchPublicCollections(params)\n    .done(libraryActions.searchPublicCollections.completed)\n    .fail(libraryActions.searchPublicCollections.failed);\n  libraryActions.searchPublicCollections.started(xhr.abort);\n});\n\n/**\n * Gets metadata for public collections\n * @param {object} params\n */\nlibraryActions.searchPublicCollectionsMetadata.listen((params) => {\n  dataInterface.searchPublicCollectionsMetadata(params)\n    .done(libraryActions.searchPublicCollectionsMetadata.completed)\n    .fail(libraryActions.searchPublicCollectionsMetadata.failed);\n});\n\n/**\n * @param {string} assetUrl - url of target collection.\n */\nlibraryActions.subscribeToCollection.listen((assetUrl) => {\n  dataInterface.subscribeToCollection(assetUrl)\n    .done(libraryActions.subscribeToCollection.completed)\n    .fail(libraryActions.subscribeToCollection.failed);\n});\n\n/**\n * @param {string} assetUid - uid of target collection.\n */\nlibraryActions.unsubscribeFromCollection.listen((assetUid) => {\n  dataInterface.unsubscribeFromCollection(assetUid)\n    .done(libraryActions.unsubscribeFromCollection.completed)\n    .fail(libraryActions.unsubscribeFromCollection.failed);\n});\n\n/**\n * Moves asset to a collection.\n * @param {string} assetUid\n * @param {string} collectionUrl\n */\nlibraryActions.moveToCollection.listen((assetUid, collectionUrl) => {\n  dataInterface.patchAsset(assetUid, {parent: collectionUrl})\n    .done(libraryActions.moveToCollection.completed)\n    .fail(libraryActions.moveToCollection.failed);\n});\n\n/**\n * Gets a list of collections.\n * @param {object} params\n * @param {string} [params.owner]\n * @param {number} [params.pageSize]\n * @param {number} [params.page]\n */\nlibraryActions.getCollections.listen((params) => {\n  dataInterface.getCollections(params)\n    .done(libraryActions.getCollections.completed)\n    .fail(libraryActions.getCollections.failed);\n});\n\n// global notifications for actions\n\nlibraryActions.moveToCollection.completed.listen((asset) => {\n  if (asset.parent === null) {\n    notify(t('Successfuly removed from collection'));\n  } else {\n    notify(t('Successfuly moved to collection'));\n  }\n});\nlibraryActions.moveToCollection.failed.listen(() => {\n  notify(t('Move to collection failed'), 'error');\n});\n\nconst onAnySearchFailed = (response) => {\n  if (response.statusText !== 'abort') {\n    notify(response.responseJSON?.detail || t('Failed to get the results'), 'error');\n  }\n};\n\nlibraryActions.searchMyLibraryAssets.failed.listen(onAnySearchFailed);\nlibraryActions.searchMyLibraryMetadata.failed.listen(onAnySearchFailed);\nlibraryActions.searchPublicCollections.failed.listen(onAnySearchFailed);\nlibraryActions.searchPublicCollectionsMetadata.failed.listen(onAnySearchFailed);\n\nexport default libraryActions;\n","/**\n * submissions related actions\n */\n\nimport Reflux from 'reflux';\nimport {dataInterface} from 'js/dataInterface';\nimport {notify} from 'utils';\n\nconst submissionsActions = Reflux.createActions({\n  getSubmissions: {children: ['completed', 'failed']},\n  bulkDeleteStatus: {children: ['completed', 'failed']},\n  bulkPatchStatus: {children: ['completed', 'failed']},\n  bulkPatchValues: {children: ['completed', 'failed']},\n  bulkDelete: {children: ['completed', 'failed']},\n});\n\n/**\n * @typedef SortObj\n * @param {string} id - column name\n * @param {boolean} desc - `true` for descending and `false` for ascending\n */\n\n/**\n * NOTE: all of the parameters have their default values defined for\n * `dataInterface` function.\n *\n * @param {object} options\n * @param {string} options.uid - the asset uid\n * @param {number} [options.pageSize]\n * @param {number} [options.page]\n * @param {SortObj[]} [options.sort]\n * @param {string[]} [options.fields]\n * @param {string} [options.filter]\n */\nsubmissionsActions.getSubmissions.listen((options) => {\n  dataInterface.getSubmissions(\n    options.uid,\n    options.pageSize,\n    options.page,\n    options.sort,\n    options.fields,\n    options.filter\n  )\n    .done((response) => {\n      submissionsActions.getSubmissions.completed(response, options);\n    })\n    .fail((response) => {\n      submissionsActions.getSubmissions.failed(response, options);\n    });\n});\n\nsubmissionsActions.bulkDeleteStatus.listen((uid, data) => {\n  dataInterface.bulkRemoveSubmissionsValidationStatus(uid, data)\n    .done(submissionsActions.bulkDeleteStatus.completed)\n    .fail(submissionsActions.bulkDeleteStatus.failed);\n});\nsubmissionsActions.bulkDeleteStatus.failed.listen(() => {\n  notify(t('Failed to update submissions.'), 'error');\n});\n\nsubmissionsActions.bulkPatchStatus.listen((uid, data) => {\n  dataInterface.bulkPatchSubmissionsValidationStatus(uid, data)\n    .done(submissionsActions.bulkPatchStatus.completed)\n    .fail(submissionsActions.bulkPatchStatus.failed);\n});\nsubmissionsActions.bulkPatchStatus.failed.listen(() => {\n  notify(t('Failed to update submissions.'), 'error');\n});\n\n/**\n * @param {string} uid - project unique id\n * @param {string[]} submissionIds - selected submissions\n * @param {object} data\n * @param {string} data.<field_name_to_update> - with a new value, repeat with different fields if necessary\n */\nsubmissionsActions.bulkPatchValues.listen((uid, submissionIds, data) => {\n  dataInterface.bulkPatchSubmissionsValues(uid, submissionIds, data)\n    .done(submissionsActions.bulkPatchValues.completed)\n    .fail(submissionsActions.bulkPatchValues.failed);\n});\nsubmissionsActions.bulkPatchValues.completed.listen((response) => {\n  if (response.failures !== 0) {\n    notify(t('Failed to update some submissions values.'), 'error');\n  }\n});\nsubmissionsActions.bulkPatchValues.failed.listen(() => {\n  notify(t('Failed to update submissions values.'), 'error');\n});\n\nsubmissionsActions.bulkDelete.listen((uid, data) => {\n  dataInterface.bulkDeleteSubmissions(uid, data)\n    .done(submissionsActions.bulkDelete.completed)\n    .fail(submissionsActions.bulkDelete.failed);\n});\nsubmissionsActions.bulkDelete.failed.listen(() => {\n  notify(t('Failed to delete submissions.'), 'error');\n});\n\nexport default submissionsActions;\n","/**\n * Form Media related actions\n */\n\nimport alertify from 'alertifyjs';\nimport Reflux from 'reflux';\nimport {dataInterface} from 'js/dataInterface';\n\nconst FORM_MEDIA_FILE_TYPE = 'form_media';\n\nconst formMediaActions = Reflux.createActions({\n  loadMedia: {children: ['completed', 'failed']},\n  uploadMedia: {children: ['completed', 'failed']},\n  deleteMedia: {children: ['completed', 'failed']},\n});\n\nformMediaActions.uploadMedia.listen((uid, formMediaJSON) => {\n  dataInterface.postFormMedia(uid, formMediaJSON)\n    .done(() => {\n      formMediaActions.uploadMedia.completed(uid);\n    })\n    .fail(formMediaActions.uploadMedia.failed);\n});\nformMediaActions.uploadMedia.completed.listen((uid) => {\n  formMediaActions.loadMedia(uid);\n});\nformMediaActions.uploadMedia.failed.listen(() => {\n  alertify.error(t('Could not upload your media'));\n});\n\nformMediaActions.loadMedia.listen((uid) => {\n  dataInterface.getAssetFiles(uid, FORM_MEDIA_FILE_TYPE)\n    .done(formMediaActions.loadMedia.completed)\n    .fail(formMediaActions.loadMedia.failed);\n});\nformMediaActions.loadMedia.failed.listen(() => {\n  alertify.error(t('Something went wrong with getting your media'));\n});\n\nformMediaActions.deleteMedia.listen((uid, url) => {\n  dataInterface.deleteFormMedia(url)\n    .done(() => {\n      formMediaActions.deleteMedia.completed(uid);\n    })\n    .fail(formMediaActions.deleteMedia.failed);\n});\nformMediaActions.deleteMedia.completed.listen((uid) => {\n  alertify.success(t('Successfully deleted media'));\n  formMediaActions.loadMedia(uid);\n});\nformMediaActions.deleteMedia.failed.listen(() => {\n  alertify.error(t('Failed to delete media!'));\n});\n\nexport default formMediaActions;\n","/**\n * exports related actions\n */\n\nimport Reflux from 'reflux';\nimport {dataInterface} from 'js/dataInterface';\nimport {notify} from 'utils';\n\nconst exportsActions = Reflux.createActions({\n  getExport: {children: ['completed', 'failed']},\n  getExports: {children: ['completed', 'failed']},\n  createExport: {children: ['completed', 'failed']},\n  deleteExport: {children: ['completed', 'failed']},\n  getExportSettings: {children: ['completed', 'failed']},\n  getExportSetting: {children: ['completed', 'failed']},\n  updateExportSetting: {children: ['completed', 'failed']},\n  createExportSetting: {children: ['completed', 'failed']},\n  deleteExportSetting: {children: ['completed', 'failed']},\n});\n\n/**\n * @param {string} assetUid\n */\nexportsActions.getExports.listen((assetUid) => {\n  dataInterface.getAssetExports(assetUid)\n    .done(exportsActions.getExports.completed)\n    .fail(exportsActions.getExports.failed);\n});\n\n/**\n * @param {string} assetUid\n * @param {string} exportUid\n */\nexportsActions.getExport.listen((assetUid, exportUid) => {\n  dataInterface.getAssetExport(assetUid, exportUid)\n    .done(exportsActions.getExport.completed)\n    .fail(exportsActions.getExport.failed);\n});\n\n/**\n * @param {string} assetUid\n * @param {object} data\n * @param {string} data.source - asset uid\n * …and the rest of parameters should match export_settings\n */\nexportsActions.createExport.listen((assetUid, data) => {\n  dataInterface.createAssetExport(assetUid, data)\n    .done(exportsActions.createExport.completed)\n    .fail(exportsActions.createExport.failed);\n});\nexportsActions.createExport.failed.listen(() => {\n  notify(t('Failed to create export'), 'error');\n});\n\n/**\n * @param {string} assetUid\n * @param {string} exportUid\n */\nexportsActions.deleteExport.listen((assetUid, exportUid) => {\n  dataInterface.deleteAssetExport(assetUid, exportUid)\n    .done(exportsActions.deleteExport.completed)\n    .fail(exportsActions.deleteExport.failed);\n});\nexportsActions.deleteExport.failed.listen(() => {\n  notify(t('Failed to delete export'), 'error');\n});\n\n/**\n * @param {string} assetUid\n * @param {object} [passData] - object with custom properties to be passed to\n *                              success response\n */\nexportsActions.getExportSettings.listen((assetUid, passData = {}) => {\n  dataInterface.getExportSettings(assetUid)\n    .done((response) => {\n      exportsActions.getExportSettings.completed(response, passData);\n    })\n    .fail(exportsActions.getExportSettings.failed);\n});\n\n/**\n * @param {string} assetUid\n * @param {string} settingUid\n */\nexportsActions.getExportSetting.listen((assetUid, settingUid) => {\n  dataInterface.getExportSetting(assetUid, settingUid)\n    .done(exportsActions.getExportSetting.completed)\n    .fail(exportsActions.getExportSetting.failed);\n});\n\n/**\n * @param {string} assetUid\n * @param {string} settingUid\n * @param {object} data\n */\nexportsActions.updateExportSetting.listen((assetUid, settingUid, data) => {\n  const cleanData = {\n    name: data.name,\n    export_settings: JSON.stringify(data.export_settings),\n  };\n  dataInterface.updateExportSetting(assetUid, settingUid, cleanData)\n    .done(exportsActions.updateExportSetting.completed)\n    .fail(exportsActions.updateExportSetting.failed);\n});\nexportsActions.updateExportSetting.failed.listen(() => {\n  notify(t('Failed to update export setting'), 'error');\n});\n\n/**\n * @param {string} assetUid\n * @param {object} data\n */\nexportsActions.createExportSetting.listen((assetUid, data) => {\n  const cleanData = {\n    name: data.name,\n    export_settings: JSON.stringify(data.export_settings),\n  };\n  dataInterface.createExportSetting(assetUid, cleanData)\n    .done(exportsActions.createExportSetting.completed)\n    .fail(exportsActions.createExportSetting.failed);\n});\nexportsActions.createExportSetting.failed.listen(() => {\n  notify(t('Failed to create export setting'), 'error');\n});\n\n/**\n * @param {string} assetUid\n * @param {string} settingUid\n */\nexportsActions.deleteExportSetting.listen((assetUid, settingUid) => {\n  dataInterface.deleteExportSetting(assetUid, settingUid)\n    .done(exportsActions.deleteExportSetting.completed)\n    .fail(exportsActions.deleteExportSetting.failed);\n});\nexportsActions.deleteExportSetting.failed.listen(() => {\n  notify(t('Failed to delete export setting'), 'error');\n});\n\nexport default exportsActions;\n","/**\n * Dynamic data attachment related actions\n */\n\nimport Reflux from 'reflux';\nimport alertify from 'alertifyjs';\nimport {dataInterface} from 'js/dataInterface';\nimport {MAX_DISPLAYED_STRING_LENGTH} from 'js/constants';\nimport {\n  getAssetUIDFromUrl,\n  truncateFile,\n  truncateString,\n} from 'js/utils';\n\nconst dataShareActions = Reflux.createActions({\n  attachToSource: {children: ['started', 'completed', 'failed']},\n  detachSource: {children: ['completed', 'failed']},\n  patchSource: {children: ['started', 'completed', 'failed']},\n  getAttachedSources: {children: ['completed', 'failed']},\n  getSharingEnabledAssets: {children: ['completed', 'failed']},\n  toggleDataSharing: {children: ['completed', 'failed']},\n  updateColumnFilters: {children: ['completed', 'failed']},\n});\n\ndataShareActions.attachToSource.listen((assetUid, data) => {\n  dataInterface.attachToSource(assetUid, data)\n    .done(dataShareActions.attachToSource.completed)\n    .fail(dataShareActions.attachToSource.failed);\n  dataShareActions.attachToSource.started();\n});\ndataShareActions.attachToSource.failed.listen((response) => {\n  alertify.error(\n    response?.responseJSON?.filename[0] ||\n      response?.responseJSON ||\n      t('Failed to attach to source')\n  );\n});\n\ndataShareActions.detachSource.listen((attachmentUrl) => {\n  dataInterface.detachSource(attachmentUrl)\n    .done(dataShareActions.detachSource.completed)\n    .fail(dataShareActions.detachSource.failed);\n});\ndataShareActions.detachSource.failed.listen((response) => {\n  alertify.error(response?.responseJSON || t('Failed to detach from source'));\n});\n\ndataShareActions.patchSource.listen((attachmentUrl, data) => {\n  dataInterface.patchSource(attachmentUrl, data)\n    .done(dataShareActions.patchSource.completed)\n    .fail(dataShareActions.patchSource.failed);\n  dataShareActions.patchSource.started();\n});\ndataShareActions.patchSource.failed.listen((response) => {\n  alertify(response?.responseJSON || t('Failed to patch source'));\n});\n\ndataShareActions.getAttachedSources.listen((assetUid) => {\n  dataInterface.getAttachedSources(assetUid)\n    .done((response) => {\n      // We create our own object from backend response because:\n      // 1. We need to truncate the filename and display this instead\n      // 2. We need both the current asset URL as well as it's source data URL\n      let allSources = [];\n\n      // TODO: Check is pagination is an issue, if so we should try to use the\n      //       backend response directly\n      response.results.forEach((source) => {\n        let sourceUid = getAssetUIDFromUrl(source.source);\n        allSources.push({\n          sourceName: truncateString(\n            source.source__name,\n            MAX_DISPLAYED_STRING_LENGTH.connect_projects,\n          ),\n          // Source's asset url\n          sourceUrl: source.source,\n          sourceUid: sourceUid,\n          // Fields that the connecting project has selected to import\n          linkedFields: source.fields,\n          filename: truncateFile(\n            source.filename,\n            MAX_DISPLAYED_STRING_LENGTH.connect_projects,\n          ),\n          // Source project attachment endpoint\n          attachmentUrl: source.url,\n        });\n      });\n\n      dataShareActions.getAttachedSources.completed(allSources);\n    })\n    .fail(dataShareActions.getAttachedSources.failed);\n});\n\ndataShareActions.getSharingEnabledAssets.listen(() => {\n  dataInterface.getSharingEnabledAssets()\n    .done(dataShareActions.getSharingEnabledAssets.completed)\n    .fail(dataShareActions.getSharingEnabledAssets.failed);\n});\ndataShareActions.getSharingEnabledAssets.failed.listen(() => {\n  alertify.error(t('Failed to retrieve sharing enabled assets'));\n});\n\n// The next two actions have the same endpoint but must be handled very\n// differently so we leave them as seperate actions\n\n// TODO: Improve the parameters so these functions are clearly different from\n//       each other\ndataShareActions.toggleDataSharing.listen((uid, data) => {\n  dataInterface.patchDataSharing(uid, data)\n    .done(dataShareActions.toggleDataSharing.completed)\n    .fail(dataShareActions.toggleDataSharing.failed);\n});\ndataShareActions.toggleDataSharing.failed.listen((response) => {\n  alertify.error(response?.responseJSON?.detail || t('Failed to toggle sharing'))\n});\n\ndataShareActions.updateColumnFilters.listen((uid, data) => {\n  dataInterface.patchDataSharing(uid, data)\n    .done(dataShareActions.updateColumnFilters.completed)\n    .fail(dataShareActions.updateColumnFilters.failed);\n});\ndataShareActions.updateColumnFilters.failed.listen((response) => {\n  alertify.error(response?.responseJSON || t('Failed to update column filters'));\n});\n\nexport default dataShareActions;\n","/**\n * A bundle file for all Reflux actions. This is the only place that React\n * components should be talking to Backend.\n *\n * You can observe action result through Reflux callbacks in your component, or\n * more preferably (where applicable) use the update eveont of one of the stores\n * from `jsapp/js/stores.es6`\n *\n * TODO: Group and split actions to separate files. For a working example see `./actions/help`.\n */\n\nimport alertify from 'alertifyjs';\nimport Reflux from 'reflux';\nimport RefluxPromise from './libs/reflux-promise';\nimport {dataInterface} from './dataInterface';\nimport {permissionsActions} from './actions/permissions';\nimport {helpActions} from './actions/help';\nimport libraryActions from './actions/library';\nimport submissionsActions from './actions/submissions';\nimport formMediaActions from './actions/mediaActions';\nimport exportsActions from './actions/exportsActions';\nimport dataShareActions from './actions/dataShareActions';\nimport {\n  notify,\n  replaceSupportEmail,\n} from 'utils';\n\n// Configure Reflux\nReflux.use(RefluxPromise(window.Promise));\n\nexport const actions = {\n  permissions: permissionsActions,\n  help: helpActions,\n  library: libraryActions,\n  submissions: submissionsActions,\n  media: formMediaActions,\n  exports: exportsActions,\n  dataShare: dataShareActions,\n};\n\nactions.navigation = Reflux.createActions([\n  'transitionStart',\n  'transitionEnd',\n  'routeUpdate',\n  'documentTitleUpdate'\n]);\n\nactions.auth = Reflux.createActions({\n  verifyLogin: {children: ['loggedin', 'anonymous', 'failed']},\n  logout: {children: ['completed', 'failed']},\n  changePassword: {children: ['completed', 'failed']},\n  getEnvironment: {children: ['completed', 'failed']},\n  getApiToken: {children: ['completed', 'failed']},\n});\n\nactions.survey = Reflux.createActions({\n  addExternalItemAtPosition: {children: ['completed', 'failed']}\n});\n\nactions.search = Reflux.createActions({\n  assets: {children: ['completed', 'failed']}\n});\n\nactions.resources = Reflux.createActions({\n  createImport: {children: ['completed', 'failed']},\n  loadAsset: {children: ['completed', 'failed']},\n  deployAsset: {children: ['completed', 'failed']},\n  setDeploymentActive: {children: ['completed', 'failed']},\n  createSnapshot: {children: ['completed', 'failed']},\n  cloneAsset: {children: ['completed', 'failed']},\n  deleteAsset: {children: ['completed', 'failed']},\n  listTags: {children: ['completed', 'failed']},\n  createResource: {asyncResult: true},\n  updateAsset: {asyncResult: true},\n  updateSubmissionValidationStatus: {children: ['completed', 'failed']},\n  removeSubmissionValidationStatus: {children: ['completed', 'failed']},\n  deleteSubmission: {children: ['completed', 'failed']},\n  duplicateSubmission: {children: ['completed', 'failed',]},\n  refreshTableSubmissions: {children: ['completed', 'failed',]},\n  getAssetFiles: {children: ['completed', 'failed']},\n});\n\nactions.hooks = Reflux.createActions({\n  getAll: {children: ['completed', 'failed']},\n  add: {children: ['completed', 'failed']},\n  update: {children: ['completed', 'failed']},\n  delete: {children: ['completed', 'failed']},\n  getLogs: {children: ['completed', 'failed']},\n  retryLog: {children: ['completed', 'failed']},\n  retryLogs: {children: ['completed', 'failed']},\n});\n\nactions.misc = Reflux.createActions({\n  getUser: {children: ['completed', 'failed']},\n  checkUsername: {asyncResult: true, children: ['completed', 'failed']},\n  updateProfile: {children: ['completed', 'failed']},\n});\n\n// TODO move these callbacks to `actions/permissions.es6` after moving\n// `actions.resources` to separate file (circular dependency issue)\npermissionsActions.assignAssetPermission.failed.listen(() => {\n  notify(t('Failed to update permissions'), 'error');\n});\npermissionsActions.removeAssetPermission.failed.listen(() => {\n  notify(t('Failed to remove permissions'), 'error');\n});\npermissionsActions.bulkSetAssetPermissions.failed.listen(() => {\n  notify(t('Failed to update permissions'), 'error');\n});\npermissionsActions.assignAssetPermission.completed.listen((uid) => {\n  // needed to update publicShareSettings after enabling link sharing\n  actions.resources.loadAsset({id: uid});\n});\npermissionsActions.copyPermissionsFrom.completed.listen((sourceUid, targetUid) => {\n  actions.resources.loadAsset({id: targetUid});\n});\npermissionsActions.setAssetPublic.completed.listen((uid) => {\n  actions.resources.loadAsset({id: uid});\n});\npermissionsActions.removeAssetPermission.completed.listen((uid, isNonOwner) => {\n  // Avoid this call if a non-owner removed their own permissions as it will fail\n  if (!isNonOwner) {\n    // needed to update publicShareSettings after disabling link sharing\n    actions.resources.loadAsset({id: uid});\n  }\n});\n\nactions.misc.getUser.listen((userUrl) => {\n  dataInterface.getUser(userUrl)\n    .done(actions.misc.getUser.completed)\n    .fail(actions.misc.getUser.failed);\n});\n\nactions.misc.checkUsername.listen(function(username){\n  dataInterface.queryUserExistence(username)\n    .done(actions.misc.checkUsername.completed)\n    .fail(actions.misc.checkUsername.failed);\n});\n\nactions.misc.updateProfile.listen(function(data, callbacks={}){\n  dataInterface.patchProfile(data)\n    .done((...args) => {\n      actions.misc.updateProfile.completed(...args)\n      if (callbacks.onComplete) {\n        callbacks.onComplete(...args);\n      }\n    })\n    .fail((...args) => {\n      actions.misc.updateProfile.failed(...args)\n      if (callbacks.onFail) {\n        callbacks.onFail(...args);\n      }\n    });\n});\nactions.misc.updateProfile.completed.listen(function(){\n  notify(t('updated profile successfully'));\n});\nactions.misc.updateProfile.failed.listen(function(data) {\n  let hadFieldsErrors = false;\n  for (const [errorProp, errorValue] of Object.entries(data.responseJSON)){\n    if (errorProp !== 'non_fields_error') {\n      hadFieldsErrors = true;\n    }\n  }\n\n  if (hadFieldsErrors) {\n    notify(t('Some fields contain errors'), 'error');\n  } else {\n    notify(t('failed to update profile'), 'error');\n  }\n});\n\nactions.resources.createImport.listen((params, onCompleted, onFailed) => {\n  dataInterface.createImport(params)\n    .done((response) => {\n      actions.resources.createImport.completed(response);\n      if (typeof onCompleted === 'function') {onCompleted(response);}\n    })\n    .fail((response) => {\n      actions.resources.createImport.failed(response);\n      if (typeof onFailed === 'function') {onFailed(response);}\n    });\n});\n\nactions.resources.createSnapshot.listen(function(details){\n  dataInterface.createAssetSnapshot(details)\n    .done(actions.resources.createSnapshot.completed)\n    .fail(actions.resources.createSnapshot.failed);\n});\n\nactions.resources.listTags.listen(function(data){\n  dataInterface.listTags(data)\n    .done(actions.resources.listTags.completed)\n    .fail(actions.resources.listTags.failed);\n});\n\nactions.resources.listTags.completed.listen(function(results){\n  if (results.next && window.Raven) {\n    Raven.captureMessage('MAX_TAGS_EXCEEDED: Too many tags');\n  }\n});\n\nactions.resources.updateAsset.listen(function(uid, values, params={}) {\n  dataInterface.patchAsset(uid, values)\n    .done((asset) => {\n      actions.resources.updateAsset.completed(asset);\n      if (typeof params.onComplete === 'function') {\n        params.onComplete(asset, uid, values);\n      }\n      notify(t('successfully updated'));\n    })\n    .fail(function(resp){\n      actions.resources.updateAsset.failed(resp);\n      if (params.onFailed) {\n        params.onFailed(resp);\n      }\n    });\n});\n\nactions.resources.deployAsset.listen(function(asset, redeployment, params={}){\n  dataInterface.deployAsset(asset, redeployment)\n    .done((data) => {\n      actions.resources.deployAsset.completed(data.asset);\n      if (typeof params.onDone === 'function') {\n        params.onDone(data, redeployment);\n      }\n    })\n    .fail((data) => {\n      actions.resources.deployAsset.failed(data, redeployment);\n      if (typeof params.onFail === 'function') {\n        params.onFail(data,  redeployment);\n      }\n    });\n});\n\nactions.resources.deployAsset.failed.listen(function(data, redeployment){\n  // report the problem to the user\n  let failure_message = null;\n\n  if(!data.responseJSON || (!data.responseJSON.xform_id_string &&\n                            !data.responseJSON.detail)) {\n    // failed to retrieve a valid response from the server\n    // setContent() removes the input box, but the value is retained\n    var msg;\n    if (data.status == 500 && data.responseJSON && data.responseJSON.error) {\n      msg = `<pre>${data.responseJSON.error}</pre>`;\n    } else if (data.status == 500 && data.responseText) {\n      msg = `<pre>${data.responseText}</pre>`;\n    } else {\n      msg = t('please check your connection and try again.');\n    }\n    failure_message = `\n      <p>${replaceSupportEmail(t('if this problem persists, contact help@kobotoolbox.org'))}</p>\n      <p>${msg}</p>\n    `;\n  } else if(!!data.responseJSON.xform_id_string){\n    // TODO: now that the id_string is automatically generated, this failure\n    // mode probably doesn't need special handling\n    failure_message = `\n      <p>${t('your form id was not valid:')}</p>\n      <p><pre>${data.responseJSON.xform_id_string}</pre></p>\n      <p>${replaceSupportEmail(t('if this problem persists, contact help@kobotoolbox.org'))}</p>\n    `;\n  } else if(!!data.responseJSON.detail) {\n    failure_message = `\n      <p>${t('your form cannot be deployed because it contains errors:')}</p>\n      <p><pre>${data.responseJSON.detail}</pre></p>\n    `;\n  }\n  alertify.alert(t('unable to deploy'), failure_message);\n});\n\nactions.resources.setDeploymentActive.listen(function(details) {\n  dataInterface.setDeploymentActive(details)\n    .done((data) => {\n      actions.resources.setDeploymentActive.completed(data.asset);\n    })\n    .fail(actions.resources.setDeploymentActive.failed);\n});\nactions.resources.setDeploymentActive.completed.listen((result) => {\n  if (result.deployment__active) {\n    notify(t('Project unarchived successfully'));\n  } else {\n    notify(t('Project archived successfully'));\n  }\n});\n\nactions.resources.getAssetFiles.listen(function(assetId, fileType) {\n  dataInterface\n    .getAssetFiles(assetId, fileType)\n    .done(actions.resources.getAssetFiles.completed)\n    .fail(actions.resources.getAssetFiles.failed);\n});\n\n\nactions.reports = Reflux.createActions({\n  setStyle: {\n    children: [\n      'completed',\n      'failed',\n    ]\n  },\n  setCustom: {\n    children: [\n      'completed',\n      'failed',\n    ]\n  }\n});\n\nactions.reports.setStyle.listen(function(assetId, details){\n  dataInterface.patchAsset(assetId, {report_styles: details})\n    .done((asset) => {\n      actions.reports.setStyle.completed(asset);\n      actions.resources.updateAsset.completed(asset);\n    })\n    .fail(actions.reports.setStyle.failed);\n});\n\nactions.reports.setCustom.listen(function(assetId, details){\n  dataInterface.patchAsset(assetId, {report_custom: details})\n    .done((asset) => {\n      actions.reports.setCustom.completed(asset);\n      actions.resources.updateAsset.completed(asset);\n    })\n    .fail(actions.reports.setCustom.failed);\n});\n\nactions.table = Reflux.createActions({\n  updateSettings: {children: ['completed', 'failed']},\n});\n\n/**\n * @param {string} assetUid\n * @param {object} settings\n * @param {string[]} [settings.selected-columns]\n * @param {string} [settings.frozen-column]\n * @param {boolean} [settings.show-group-name]\n * @param {number} [settings.translation-index]\n * @param {boolean} [settings.show-hxl-tags]\n * @param {object} [settings.sort-by]\n * @param {string} [settings.sort-by.fieldId]\n * @param {string} [settings.sort-by.sortValue]\n */\nactions.table.updateSettings.listen((assetUid, settings) => {\n  dataInterface.patchAsset(assetUid, {settings: settings})\n    .done((asset) => {\n      actions.table.updateSettings.completed(asset);\n      actions.resources.updateAsset.completed(asset);\n    })\n    .fail(actions.table.updateSettings.failed);\n});\n\n\nactions.map = Reflux.createActions({\n  setMapStyles: {\n    children: ['started', 'completed', 'failed']\n  }\n});\n\n/**\n * Note: `started` callback returns parameters with wich the action was called\n * @param {string} assetUid\n * @param {object} mapStyles\n */\nactions.map.setMapStyles.listen(function(assetUid, mapStyles) {\n  dataInterface.patchAsset(assetUid, {map_styles: mapStyles})\n    .done((asset) => {\n      actions.map.setMapStyles.completed(asset);\n      actions.resources.updateAsset.completed(asset);\n    })\n    .fail(actions.map.setMapStyles.failed);\n  actions.map.setMapStyles.started(assetUid, mapStyles);\n});\n\n\nactions.resources.createResource.listen(function(details){\n  dataInterface.createResource(details)\n    .done(function(asset){\n      actions.resources.createResource.completed(asset);\n    })\n    .fail(function(...args){\n      actions.resources.createResource.failed(...args);\n    });\n});\n\nactions.resources.deleteAsset.listen(function(details, params={}){\n  dataInterface.deleteAsset(details)\n    .done(() => {\n      actions.resources.deleteAsset.completed(details);\n      if (typeof params.onComplete === 'function') {\n        params.onComplete(details);\n      }\n    })\n    .fail((err) => {\n      actions.resources.deleteAsset.failed(details);\n      alertify.alert(\n        t('Unable to delete asset!'),\n        `<p>${t('Error details:')}</p><pre style='max-height: 200px;'>${err.responseText}</pre>`\n      );\n    });\n});\n\nactions.resources.cloneAsset.listen(function(details, params={}){\n  dataInterface.cloneAsset(details)\n    .done((asset) => {\n      actions.resources.cloneAsset.completed(asset);\n      if (typeof params.onComplete === 'function') {\n        params.onComplete(asset);\n      }\n    })\n    .fail(actions.resources.cloneAsset.failed);\n});\nactions.resources.cloneAsset.failed.listen(() => {\n  notify(t('Could not create project!'), 'error');\n});\n\nactions.search.assets.listen(function(searchData, params = {}){\n  dataInterface.searchAssets(searchData)\n    .done(function(response){\n      actions.search.assets.completed(searchData, response);\n      if (typeof params.onComplete === 'function') {\n        params.onComplete(searchData, response);\n      }\n    })\n    .fail(function(response){\n      actions.search.assets.failed(searchData, response);\n      if (typeof params.onFailed === 'function') {\n        params.onFailed(searchData, response);\n      }\n    });\n});\n\n// reload so a new csrf token is issued\nactions.auth.logout.completed.listen(function(){\n  window.setTimeout(function(){\n    window.location.replace('', '');\n  }, 1);\n});\n\nactions.auth.logout.listen(function(){\n  dataInterface.logout().done(actions.auth.logout.completed).fail(function(){\n    console.error('logout failed for some reason. what should happen now?');\n  });\n});\nactions.auth.verifyLogin.listen(function(){\n    dataInterface.selfProfile()\n        .done((data/*, msg, req*/)=>{\n          if (data.username) {\n            actions.auth.verifyLogin.loggedin(data);\n          } else {\n            actions.auth.verifyLogin.anonymous(data);\n          }\n        })\n        .fail(actions.auth.verifyLogin.failed);\n});\n\nactions.auth.changePassword.listen((currentPassword, newPassword) => {\n  dataInterface.patchProfile({\n    current_password: currentPassword,\n    new_password: newPassword\n  })\n  .done(actions.auth.changePassword.completed)\n  .fail(actions.auth.changePassword.failed);\n});\nactions.auth.changePassword.completed.listen(() => {\n  notify(t('changed password successfully'));\n});\nactions.auth.changePassword.failed.listen(() => {\n  notify(t('failed to change password'), 'error');\n});\n\nactions.auth.getEnvironment.listen(function(){\n  dataInterface.environment()\n    .done((data)=>{\n      actions.auth.getEnvironment.completed(data);\n    })\n    .fail(actions.auth.getEnvironment.failed);\n});\nactions.auth.getEnvironment.failed.listen(() => {\n  notify(t('failed to load environment data'), 'error');\n});\n\nactions.auth.getApiToken.listen(() => {\n  dataInterface.apiToken()\n    .done((response) => {\n      actions.auth.getApiToken.completed(response.token);\n    })\n    .fail(actions.auth.getApiToken.failed);\n});\nactions.auth.getApiToken.failed.listen(() => {\n  notify(t('failed to load API token'), 'error');\n});\n\nactions.resources.loadAsset.listen(function(params){\n  dataInterface.getAsset(params)\n    .done(actions.resources.loadAsset.completed)\n    .fail(actions.resources.loadAsset.failed);\n});\n\nactions.resources.updateSubmissionValidationStatus.listen(function(uid, sid, data){\n  dataInterface.updateSubmissionValidationStatus(uid, sid, data).done((result) => {\n    actions.resources.updateSubmissionValidationStatus.completed(result, sid);\n  }).fail((error)=>{\n    console.error(error);\n    actions.resources.updateSubmissionValidationStatus.failed(error);\n  });\n});\n\nactions.resources.removeSubmissionValidationStatus.listen((uid, sid) => {\n  dataInterface.removeSubmissionValidationStatus(uid, sid).done((result) => {\n    actions.resources.removeSubmissionValidationStatus.completed(result, sid);\n  }).fail((error)=>{\n    console.error(error);\n    actions.resources.removeSubmissionValidationStatus.failed(error);\n  });\n});\n\nactions.resources.deleteSubmission.listen((uid, sid) => {\n  dataInterface.deleteSubmission(uid, sid)\n    .done(() => {\n      notify(t('submission deleted'));\n      actions.resources.deleteSubmission.completed();\n      actions.resources.loadAsset({id: uid});\n    })\n    .fail(() => {\n      alertify.error(t('failed to delete submission'));\n      actions.resources.deleteSubmission.failed();\n    });\n});\n\nactions.resources.duplicateSubmission.listen((uid, sid, duplicatedSubmission) => {\n  dataInterface.duplicateSubmission(uid, sid)\n    .done((response) => {\n      notify(t('Successfully duplicated submission'));\n      actions.resources.duplicateSubmission.completed(uid, response._id, duplicatedSubmission);\n      actions.resources.loadAsset({id: uid});\n    })\n    .fail((response) => {\n      alertify.error(t('Failed to duplicate submission'));\n      actions.resources.duplicateSubmission.failed(response);\n    });\n});\n\nactions.hooks.getAll.listen((assetUid, callbacks = {}) => {\n  dataInterface.getHooks(assetUid)\n    .done((...args) => {\n      actions.hooks.getAll.completed(...args);\n      if (typeof callbacks.onComplete === 'function') {\n        callbacks.onComplete(...args);\n      }\n    })\n    .fail((...args) => {\n      actions.hooks.getAll.failed(...args);\n      if (typeof callbacks.onFail === 'function') {\n        callbacks.onFail(...args);\n      }\n    });\n});\n\nactions.hooks.add.listen((assetUid, data, callbacks = {}) => {\n  dataInterface.addExternalService(assetUid, data)\n    .done((...args) => {\n      actions.hooks.getAll(assetUid);\n      actions.hooks.add.completed(...args);\n      if (typeof callbacks.onComplete === 'function') {\n        callbacks.onComplete(...args);\n      }\n    })\n    .fail((...args) => {\n      actions.hooks.add.failed(...args);\n      if (typeof callbacks.onFail === 'function') {\n        callbacks.onFail(...args);\n      }\n    });\n});\nactions.hooks.add.completed.listen((response) => {\n  notify(t('REST Service added successfully'));\n});\nactions.hooks.add.failed.listen((response) => {\n  notify(t('Failed adding REST Service'), 'error');\n});\n\nactions.hooks.update.listen((assetUid, hookUid, data, callbacks = {}) => {\n  dataInterface.updateExternalService(assetUid, hookUid, data)\n    .done((...args) => {\n      actions.hooks.getAll(assetUid);\n      actions.hooks.update.completed(...args);\n      if (typeof callbacks.onComplete === 'function') {\n        callbacks.onComplete(...args);\n      }\n    })\n    .fail((...args) => {\n      actions.hooks.update.failed(...args);\n      if (typeof callbacks.onFail === 'function') {\n        callbacks.onFail(...args);\n      }\n    });\n});\nactions.hooks.update.completed.listen(() => {\n  notify(t('REST Service updated successfully'));\n});\nactions.hooks.update.failed.listen(() => {\n  alertify.error(t('Failed saving REST Service'));\n});\n\nactions.hooks.delete.listen((assetUid, hookUid, callbacks = {}) => {\n  dataInterface.deleteExternalService(assetUid, hookUid)\n    .done((...args) => {\n      actions.hooks.getAll(assetUid);\n      actions.hooks.delete.completed(...args);\n      if (typeof callbacks.onComplete === 'function') {\n        callbacks.onComplete(...args);\n      }\n    })\n    .fail((...args) => {\n      actions.hooks.delete.failed(...args);\n      if (typeof callbacks.onFail === 'function') {\n        callbacks.onFail(...args);\n      }\n    });\n});\nactions.hooks.delete.completed.listen((response) => {\n  notify(t('REST Service deleted permanently'));\n});\nactions.hooks.delete.failed.listen((response) => {\n  notify(t('Could not delete REST Service'), 'error');\n});\n\nactions.hooks.getLogs.listen((assetUid, hookUid, callbacks = {}) => {\n  dataInterface.getHookLogs(assetUid, hookUid)\n    .done((...args) => {\n      actions.hooks.getLogs.completed(...args);\n      if (typeof callbacks.onComplete === 'function') {\n        callbacks.onComplete(...args);\n      }\n    })\n    .fail((...args) => {\n      actions.hooks.getLogs.failed(...args);\n      if (typeof callbacks.onFail === 'function') {\n        callbacks.onFail(...args);\n      }\n    });\n});\n\nactions.hooks.retryLog.listen((assetUid, hookUid, lid, callbacks = {}) => {\n  dataInterface.retryExternalServiceLog(assetUid, hookUid, lid)\n    .done((...args) => {\n      actions.hooks.getLogs(assetUid, hookUid);\n      actions.hooks.retryLog.completed(...args);\n      if (typeof callbacks.onComplete === 'function') {\n        callbacks.onComplete(...args);\n      }\n    })\n    .fail((...args) => {\n      actions.hooks.retryLog.failed(...args);\n      if (typeof callbacks.onFail === 'function') {\n        callbacks.onFail(...args);\n      }\n    });\n});\nactions.hooks.retryLog.completed.listen((response) => {\n  notify(t('Submission retry requested successfully'));\n});\nactions.hooks.retryLog.failed.listen((response) => {\n  notify(t('Submission retry request failed'), 'error');\n});\n\nactions.hooks.retryLogs.listen((assetUid, hookUid, callbacks = {}) => {\n  dataInterface.retryExternalServiceLogs(assetUid, hookUid)\n    .done((...args) => {\n      actions.hooks.retryLogs.completed(...args);\n      if (typeof callbacks.onComplete === 'function') {\n        callbacks.onComplete(...args);\n      }\n    })\n    .fail((...args) => {\n      actions.hooks.getLogs(assetUid, hookUid);\n      actions.hooks.retryLogs.failed(...args);\n      if (typeof callbacks.onFail === 'function') {\n        callbacks.onFail(...args);\n      }\n    });\n});\nactions.hooks.retryLogs.completed.listen((response) => {\n  notify(response.detail, 'warning');\n});\nactions.hooks.retryLogs.failed.listen((response) => {\n  notify(t('Retrying all submissions failed'), 'error');\n});\n","/**\n * A collection of miscellaneous utility functions.\n *\n * NOTE: these are used also by the Form Builder coffee code (see\n * `jsapp/xlform/src/view.surveyApp.coffee`)\n *\n * TODO: group these functions by what are they doing or where are they mostly\n * (or uniquely) used, and split to smaller files.\n */\n\nimport moment from 'moment';\nimport alertify from 'alertifyjs';\nimport {Cookies} from 'react-cookie';\nimport { hashHistory } from 'react-router';\n// importing whole constants, as we override ROOT_URL in tests\nimport constants from 'js/constants';\n\nexport const LANGUAGE_COOKIE_NAME = 'django_language';\n\nexport var assign = require('object-assign');\n\nalertify.defaults.notifier.delay = 10;\nalertify.defaults.notifier.position = 'bottom-left';\nalertify.defaults.notifier.closeButton = true;\n\nconst cookies = new Cookies();\n\nexport function notify(msg: string, atype='success') {\n  alertify.notify(msg, atype);\n}\n\n/**\n * Returns something like \"Today at 4:06 PM\", \"Yesterday at 5:46 PM\", \"Last Saturday at 5:46 PM\" or \"February 11, 2021\"\n */\nexport function formatTime(timeStr: string): string {\n  var _m = moment(timeStr);\n  return _m.calendar(null, {sameElse: 'LL'});\n}\n\n/**\n * Returns something like \"March 15, 2021 4:06 PM\"\n */\nexport function formatTimeDate(timeStr: string): string {\n  var _m = moment(timeStr);\n  return _m.format('LLL');\n}\n\n/**\n * Returns something like \"Sep 4, 1986 8:30 PM\"\n */\nexport function formatTimeDateShort(timeStr: string): string {\n  const _m = moment(timeStr)\n  return _m.format('lll')\n}\n\n/**\n * Returns something like \"Mar 15, 2021\"\n */\nexport function formatDate(timeStr: string): string {\n  var _m = moment(timeStr);\n  return _m.format('ll');\n}\n\n// works universally for v1 and v2 urls\nexport function getUsernameFromUrl(userUrl: string): string | null {\n  const matched = userUrl.match(/\\/users\\/(.*)\\//);\n  if (matched !== null) {\n    return matched[1];\n  }\n  return null;\n}\n\n// TODO: Test if works for both form and library routes, if not make it more general\nexport function getAssetUIDFromUrl(assetUrl: string): string | null {\n  const matched = assetUrl.match(/.*\\/([^/]+)\\//);\n  if (matched !== null) {\n    return matched[1];\n  }\n  return null\n}\n\nexport function buildUserUrl(username: string): string {\n  if (username.startsWith(window.location.protocol)) {\n    console.error(\"buildUserUrl() called with URL instead of username (incomplete v2 migration)\");\n    return username;\n  }\n  return `${constants.ROOT_URL}/api/v2/users/${username}/`;\n}\n\ndeclare global {\n  interface Window {\n    log: any\n  }\n}\n\nexport var log = (function(){\n  var _log: any = function(...args: any[]) {\n    console.log.apply(console, args);\n    return args[0];\n  };\n  _log.profileSeconds = function(n=1) {\n    console.profile();\n    window.setTimeout(function(){\n      console.profileEnd();\n    }, n * 1000);\n  };\n  return _log;\n})();\nwindow.log = log;\n\nconst originalSupportEmail = 'help@kobotoolbox.org';\n\n// use this utility function to replace hardcoded email in transifex translations\n//\n// TODO: make this use environment endpoint's `support_email` property.\n// Currently no place is using this correctly.\nexport function replaceSupportEmail(str: string, newEmail?: string): string {\n  if (typeof newEmail === 'string') {\n    return str.replace(originalSupportEmail, newEmail);\n  } else {\n    return str;\n  }\n}\n\n// returns an HTML string where [bracket] notation is replaced with a hyperlink\nexport function replaceBracketsWithLink(str: string, url?: string): string {\n  const bracketRegex = /\\[([^\\]]+)\\]/g;\n  if (!url) {\n    return str.replace(bracketRegex, '$1');\n  }\n  const linkHtml = `<a href=\"${url}\" target=\"_blank\">$1</a>`;\n  return str.replace(bracketRegex, linkHtml);\n}\n\nexport function currentLang(): string {\n  return cookies.get(LANGUAGE_COOKIE_NAME) || 'en';\n}\n\ninterface LangObject {\n  code: string\n  name: string\n}\n\n// langString contains name and code e.g. \"English (en)\"\nexport function getLangAsObject(langString: string): LangObject | undefined {\n  const openingIndex = langString.indexOf('(');\n  const closingIndex = langString.indexOf(')');\n\n  const langCode = langString.substring(openingIndex + 1, closingIndex);\n\n  const langName = langString.substring(0, openingIndex).trim();\n\n  if (\n    langCode &&\n    langName &&\n    // make sure langString contains just name and bracket-wrapped code\n    langName.length + langCode.length + 3 === langString.length\n  ) {\n    return {\n      code: langCode,\n      name: langName\n    };\n  } else {\n    return undefined;\n  }\n}\n\nexport function getLangString(obj: LangObject): string | undefined {\n  if (typeof obj === 'object' && obj.name && obj.code) {\n    return `${obj.name} (${obj.code})`;\n  } else {\n    return undefined;\n  }\n}\n\nexport function stringToColor(str: string, prc: number) {\n  // Higher prc = lighter color, lower = darker\n  prc = typeof prc === 'number' ? prc : -15;\n  var hash = function(word: string) {\n      var h = 0;\n      for (var i = 0; i < word.length; i++) {\n          h = word.charCodeAt(i) + ((h << 5) - h);\n      }\n      return h;\n  };\n  var shade = function(color: string, prc: number) {\n      var num = parseInt(color, 16),\n          amt = Math.round(2.55 * prc),\n          R = (num >> 16) + amt,\n          G = (num >> 8 & 0x00FF) + amt,\n          B = (num & 0x0000FF) + amt;\n      return (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +\n          (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +\n          (B < 255 ? B < 1 ? 0 : B : 255))\n          .toString(16)\n          .slice(1);\n  };\n  var int_to_rgba = function(i: number) {\n      var color = ((i >> 24) & 0xFF).toString(16) +\n          ((i >> 16) & 0xFF).toString(16) +\n          ((i >> 8) & 0xFF).toString(16) +\n          (i & 0xFF).toString(16);\n      return color;\n  };\n  return shade(int_to_rgba(hash(str)), prc);\n}\n\nexport function isAValidUrl(url: string) {\n  try {\n    new URL(url);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\nexport function checkLatLng(geolocation: any[]) {\n  if (geolocation && geolocation[0] && geolocation[1]) return true;\n  else return false;\n}\n\n\nexport function validFileTypes() {\n  const VALID_ASSET_UPLOAD_FILE_TYPES = [\n    '.xls',\n    '.xlsx',\n    'application/xls',\n    'application/vnd.ms-excel',\n    'application/octet-stream',\n    'application/vnd.openxmlformats',\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n    '' // Keep this to fix issue with IE Edge sending an empty MIME type\n  ];\n  return VALID_ASSET_UPLOAD_FILE_TYPES.join(',');\n}\n\nexport function escapeHtml(str: string): string {\n  const div = document.createElement('div');\n  div.appendChild(document.createTextNode(str));\n  return div.innerHTML;\n}\n\nexport function renderCheckbox(id: string, label: string, isImportant: boolean) {\n  let additionalClass = '';\n  if (isImportant) {\n    additionalClass += 'alertify-toggle-important';\n  }\n  return `<div class=\"alertify-toggle checkbox ${additionalClass}\"><label class=\"checkbox__wrapper\"><input type=\"checkbox\" class=\"checkbox__input\" id=\"${id}\"><span class=\"checkbox__label\">${label}</span></label></div>`;\n}\n\nexport function hasLongWords(text: string, limit: number = 25): boolean {\n  const textArr = text.split(' ');\n  const maxLength = Math.max(...(textArr.map((el) => {return el.length;})));\n  return maxLength >= limit;\n}\n\nexport function hasVerticalScrollbar(element: HTMLElement): boolean {\n  return element.scrollHeight > element.offsetHeight;\n}\n\nexport function getScrollbarWidth(): number {\n  // Creating invisible container\n  const outer: any = document.createElement('div');\n  outer.style.visibility = 'hidden';\n  outer.style.overflow = 'scroll'; // forcing scrollbar to appear\n  outer.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n  document.body.appendChild(outer);\n\n  // Creating inner element and placing it in the container\n  const inner = document.createElement('div');\n  outer.appendChild(inner);\n\n  // Calculating difference between container's full width and the child width\n  const scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n\n  // Removing temporary elements from the DOM\n  if (outer.parentNode !== null) {\n    outer.parentNode.removeChild(outer);\n  }\n\n  return scrollbarWidth;\n}\n\nexport function toTitleCase(str: string): string {\n  return str.replace(/(^|\\s)\\S/g, (t) => {return t.toUpperCase();});\n}\n\nexport function launchPrinting() {\n  window.print();\n}\n\n/**\n * Trunactes strings to specified length\n */\nexport function truncateString(str: string, length: number): string {\n  let truncatedString = str;\n  const halfway = Math.trunc(length / 2);\n\n  if (length < truncatedString.length) {\n    let truncatedStringFront = truncatedString.substring(0, halfway);\n    let truncatedStringBack = truncatedString.slice(\n      truncatedString.length - halfway\n    );\n    truncatedString = truncatedStringFront + '…' + truncatedStringBack;\n  }\n\n  return truncatedString;\n}\n\n/**\n * Removes protocol then calls truncateString()\n */\nexport function truncateUrl(str: string, length: number): string {\n  let truncatedString = str.replace('https://', '').replace('http://', '');\n\n  return truncateString(truncatedString, length);\n}\n\n/**\n * Removes file extension then calls truncateString()\n */\nexport function truncateFile(str: string, length: number) {\n  // Remove file extension with simple regex that truncates everything past\n  // the last occurance of `.` inclusively\n  let truncatedString = str.replace(/\\.[^/.]+$/, '');\n\n  return truncateString(truncatedString, length);\n}\n\n/**\n * Generates a simple lowercase, underscored version of a string. Useful for\n * quick filename generation\n *\n * Inspired by the way backend handles generating autonames for translations:\n * https://github.com/kobotoolbox/kpi/blob/27220c2e65b47a7f150c5bef64db97226987f8fc/kpi/utils/autoname.py#L132-L138\n */\nexport function generateAutoname(str: string, startIndex: number = 0, endIndex: number = str.length) {\n  return str\n  .toLowerCase()\n  .substring(startIndex, endIndex)\n  .replace(/(\\ |\\.)/g, \"_\");\n}\n\nexport function csrfSafeMethod(method: string) {\n  // these HTTP methods do not require CSRF protection\n  return /^(GET|HEAD|OPTIONS|TRACE)$/.test(method);\n}\n","/**\n * Reflux stores for keeping all the user data.\n *\n * Using it in multiple components helps with keeping whole application up to\n * date and avoids making unnecessary calls to Backend.\n *\n * It is tightly connected to actions and the most kosher way of handling data\n * would be to trigger Backend calls through actions but to observe the results\n * throught stores not actions callbacks (for applicable stores of course - not\n * every action is connected to a store).\n *\n * TODO: it would be best to split these to separate files within `jsapp/js/stores`\n * directory and probably import all of them here and keep this file as a single\n * source for all stores(?).\n */\n\nimport Reflux from 'reflux';\nimport {Cookies} from 'react-cookie';\nimport {parsed, parseTags} from './assetParserUtils';\nimport {actions} from './actions';\nimport {\n  log,\n  notify,\n  assign,\n} from 'utils';\nimport {ANON_USERNAME} from 'js/constants';\n\nconst cookies = new Cookies();\n\nfunction changes(orig_obj, new_obj) {\n  var out = {},\n      any = false;\n  Object.keys(new_obj).forEach(function(key) {\n    if (orig_obj[key] !== new_obj[key]) {\n      out[key] = new_obj[key];\n      any = true;\n    }\n  });\n  if (!any) {\n    return false;\n  }\n  return out;\n}\n\nexport var stores = {};\n\nstores.tags = Reflux.createStore({\n  init () {\n    this.queries = {};\n    this.listenTo(actions.resources.listTags.completed, this.listTagsCompleted);\n  },\n  listTagsCompleted (data) {\n    this.trigger(data.results);\n  }\n});\n\nconst MAX_SEARCH_AGE = (5 * 60); // seconds\n\nstores.surveyState = Reflux.createStore({\n  init () {\n    this.state = {};\n  },\n  setState (state) {\n    var chz = changes(this.state, state);\n    if (chz) {\n      assign(this.state, state);\n      this.trigger(chz);\n    }\n  },\n});\n\nstores.assetSearch = Reflux.createStore({\n  init () {\n    this.queries = {};\n    this.listenTo(actions.search.assets.completed, this.onSearchAssetsCompleted);\n  },\n  getRecentSearch (queryString) {\n    if (queryString in this.queries) {\n      var age = new Date().getTime() - this.queries[queryString][1].getTime();\n      if (age < MAX_SEARCH_AGE * 1000) {\n        return this.queries[queryString][0];\n      }\n    }\n    return false;\n  },\n  onSearchAssetsCompleted (searchData, response) {\n    response.query = searchData.q;\n    this.queries[searchData.q] = [response, new Date()];\n    if(response.count > 0) {\n      this.trigger(response);\n    }\n  }\n});\n\nstores.translations = Reflux.createStore({\n  init() {\n    this.state = {\n      isTranslationTableUnsaved: false\n    }\n  },\n  setState (change) {\n    const changed = changes(this.state, change);\n    if (changed) {\n      assign(this.state, changed);\n      this.trigger(changed);\n    }\n  },\n  setTranslationTableUnsaved (isUnsaved) {\n    this.setState({\n      isTranslationTableUnsaved: isUnsaved\n    });\n  },\n});\n\nstores.pageState = Reflux.createStore({\n  init () {\n    this.state = {\n      assetNavExpanded: false,\n      showFixedDrawer: false\n    };\n  },\n  setState (chz) {\n    var changed = changes(this.state, chz);\n    if (changed) {\n      assign(this.state, changed);\n      this.trigger(changed);\n    }\n  },\n  toggleFixedDrawer () {\n    var _changes = {};\n    var newval = !this.state.showFixedDrawer;\n    _changes.showFixedDrawer = newval;\n    assign(this.state, _changes);\n    this.trigger(_changes);\n  },\n  showModal (params) {\n    this.setState({\n      modal: params\n    });\n  },\n  hideModal () {\n    if (this._onHideModal) {\n      this._onHideModal();\n    }\n    this.setState({\n      modal: false\n    });\n  },\n  // use it when you have one modal opened and want to display different one\n  // because just calling showModal has weird outcome\n  switchModal (params) {\n    this.hideModal();\n    // HACK switch to setState callback after updating to React 16+\n    window.setTimeout(() => {\n      this.showModal(params);\n    }, 0);\n  },\n  switchToPreviousModal() {\n    this.switchModal({\n      type: this.state.modal.previousType\n    });\n  },\n  hasPreviousModal() {\n    return this.state.modal && this.state.modal.previousType;\n  }\n});\n\nstores.snapshots = Reflux.createStore({\n  init () {\n    this.listenTo(actions.resources.createSnapshot.completed, this.snapshotCreated);\n    this.listenTo(actions.resources.createSnapshot.failed, this.snapshotCreationFailed);\n  },\n  snapshotCreated (snapshot) {\n    this.trigger(assign({success: true}, snapshot));\n  },\n  snapshotCreationFailed (jqxhr) {\n    this.trigger(assign({success: false}, jqxhr.responseJSON));\n  },\n});\n\nstores.session = Reflux.createStore({\n  // start up with \"fake\" current account\n  currentAccount: {\n    username: ANON_USERNAME,\n  },\n  isAuthStateKnown: false,\n  isLoggedIn: false,\n\n  init() {\n    actions.misc.updateProfile.completed.listen(this.onUpdateProfileCompleted);\n    this.listenTo(actions.auth.verifyLogin.loggedin, this.onLoggedIn);\n    this.listenTo(actions.auth.verifyLogin.anonymous, this.onNotLoggedIn);\n    this.listenTo(actions.auth.verifyLogin.failed, this.onVerifyLoginFailed);\n    actions.auth.verifyLogin();\n  },\n\n  onUpdateProfileCompleted(response) {\n    this.currentAccount = response;\n    this.trigger({currentAccount: this.currentAccount});\n  },\n\n  onLoggedIn(account) {\n    this.isAuthStateKnown = true;\n    this.isLoggedIn = true;\n    this.currentAccount = account;\n    this.trigger();\n  },\n\n  onNotLoggedIn(data) {\n    log('login confirmed anonymous', data.message);\n    this.isAuthStateKnown = true;\n    this.trigger();\n  },\n\n  onVerifyLoginFailed(xhr) {\n    log('login not verified', xhr.status, xhr.statusText);\n  },\n});\n\n/**\n * NOTE: this is not a reliable source of complete assets (i.e. ones with\n * `content`) as `onListAssetsCompleted` will overwrite asset-with-content with\n * one without it.\n */\nstores.allAssets = Reflux.createStore({\n  init() {\n    this.data = [];\n    this.byUid = {};\n    this._waitingOn = {};\n\n    this.listenTo(actions.search.assets.completed, this.onListAssetsCompleted);\n    this.listenTo(actions.search.assets.failed, this.onListAssetsFailed);\n    this.listenTo(actions.resources.updateAsset.completed, this.onUpdateAssetCompleted);\n    this.listenTo(actions.resources.deleteAsset.completed, this.onDeleteAssetCompleted);\n    this.listenTo(actions.resources.cloneAsset.completed, this.onCloneAssetCompleted);\n    this.listenTo(actions.resources.loadAsset.completed, this.onLoadAssetCompleted);\n    this.listenTo(actions.permissions.removeAssetPermission.completed, this.onDeletePermissionCompleted);\n  },\n  /**\n   * Either calls immediately if data already exists, or makes a call to get\n   * asset and then calls.\n   *\n   * @param {string} uid\n   * @param {function} cb\n   */\n  whenLoaded(uid, cb) {\n    if (typeof uid !== 'string' || typeof cb !== 'function') {\n      return;\n    }\n\n    if (this.byUid[uid] && this.byUid[uid].content) {\n      cb.call(this, this.byUid[uid]);\n    } else {\n      if (!this._waitingOn[uid]) {\n        this._waitingOn[uid] = [];\n      }\n      this._waitingOn[uid].push(cb);\n      actions.resources.loadAsset({id: uid});\n    }\n  },\n\n  /**\n   * @param {string} assetUid\n   * @returns {object|undefined}\n   */\n  getAsset(assetUid) {\n    return this.byUid[assetUid];\n  },\n\n  onUpdateAssetCompleted (asset) {\n    this.registerAsset(asset);\n    this.data.forEach((dataAsset, index) => {\n      if (dataAsset.uid === asset.uid) {\n        this.data[index] = asset;\n      }\n    });\n  },\n  onLoadAssetCompleted (asset) {\n    this.registerAsset(asset);\n  },\n  onCloneAssetCompleted (asset) {\n    this.registerAsset(asset);\n    this.byUid[asset.uid] = asset;\n    this.data.unshift(asset);\n    this.trigger(this.data);\n  },\n  onDeleteAssetCompleted (asset) {\n    if (this.byUid[asset.uid]) {\n      // We append `deleted: true` to the asset after the asset is removed in\n      // the backend because the asset still exists in the frontend,\n      // specifically in the search store's lists.\n      // We do this so that the deleted asset doesn't show up in the asset list\n      // during the same search store instance\n      this.byUid[asset.uid].deleted = 'true';\n      this.trigger(this.data);\n      window.setTimeout(()=> {\n        this.data = this.data.filter(function(item){\n          return item.uid !== asset.uid;\n        });\n        this.trigger(this.data);\n      }, 500);\n    }\n  },\n  onDeletePermissionCompleted (assetUid, isNonOwner) {\n    // When non owner self removes all his asset permissions, it's as if the\n    // asset was deleted for them\n    if (isNonOwner) {\n      this.onDeleteAssetCompleted({uid: assetUid});\n    }\n  },\n  registerAsset (asset) {\n    const parsedObj = parseTags(asset);\n    asset.tags = parsedObj.tags;\n    this.byUid[asset.uid] = asset;\n    if (asset.content) {\n      this.callCallbacks(asset);\n    }\n  },\n  callCallbacks (asset) {\n    if (this._waitingOn[asset.uid]) {\n      while (this._waitingOn[asset.uid].length > 0) {\n        var cb = this._waitingOn[asset.uid].pop();\n        cb.call(this, asset);\n      }\n    }\n  },\n  onListAssetsCompleted: function(searchData, response) {\n    response.results.forEach(this.registerAsset);\n    this.data = response.results;\n    this.trigger(this.data);\n  },\n  onListAssetsFailed: function (searchData, response) {\n    notify(response?.responseJSON?.detail || t('failed to list assets'));\n  }\n});\n\nstores.selectedAsset = Reflux.createStore({\n  init () {\n    this.uid = cookies.get('selectedAssetUid');\n    this.listenTo(actions.resources.cloneAsset.completed, this.onCloneAssetCompleted);\n  },\n  onCloneAssetCompleted (asset) {\n    this.uid = asset.uid;\n    this.asset = stores.allAssets.byUid[asset.uid];\n    if (!this.asset) {\n      console.error('selectedAssetStore error');\n    }\n    this.trigger(this.asset);\n  },\n  toggleSelect (uid, forceSelect=false) {\n    if (forceSelect || this.uid !== uid) {\n      this.uid = uid;\n      this.asset = stores.allAssets.byUid[uid];\n    } else {\n      this.uid = false;\n      this.asset = {};\n    }\n    cookies.set('selectedAssetUid', this.uid);\n    this.trigger({\n      selectedAssetUid: this.uid,\n    });\n    return this.uid !== false;\n  }\n});\n\nstores.userExists = Reflux.createStore({\n  init () {\n    this.checked = {};\n    this.listenTo(actions.misc.checkUsername.completed, this.usernameExists);\n    this.listenTo(actions.misc.checkUsername.failed, this.usernameDoesntExist);\n  },\n  checkUsername (username) {\n    if (username in this.checked) {\n      return this.checked[username];\n    }\n  },\n  usernameExists (username) {\n    this.checked[username] = true;\n    this.trigger(this.checked, username);\n  },\n  usernameDoesntExist (username) {\n    this.checked[username] = false;\n    this.trigger(this.checked, username);\n  }\n});\n","/**\n * The only file that is making calls to Backend. You shouldn't use it directly,\n * but through proper actions in `jsapp/js/actions.es6`.\n *\n * TODO: Instead of splitting this huge file it could be a good idead to move\n * all the calls from here to appropriate actions and drop this file entirely.\n * And make actions for calls that doesn't have them.\n */\n\nimport alertify from 'alertifyjs';\nimport {assign} from 'utils';\nimport {\n  ROOT_URL,\n  COMMON_QUERIES\n} from './constants';\n\nconst DEFAULT_PAGE_SIZE = 100;\n\nexport var dataInterface;\n(function(){\n  var $ajax = (o)=> {\n    return $.ajax(assign({}, {dataType: 'json', method: 'GET'}, o));\n  };\n  const assetMapping = {\n    'a': 'assets',\n    'c': 'collections',\n    'p': 'permissions',\n  };\n\n  assign(this, {\n    selfProfile: ()=> $ajax({ url: `${ROOT_URL}/me/` }),\n    apiToken: () => {\n      return $ajax({\n        url: `${ROOT_URL}/token/?format=json`\n      });\n    },\n    getUser: (userUrl) => {\n      return $ajax({\n        url: userUrl\n      });\n    },\n    queryUserExistence: (username)=> {\n      var d = new $.Deferred();\n      $ajax({ url: `${ROOT_URL}/api/v2/users/${username}/` })\n        .done(()=>{ d.resolve(username, true); })\n        .fail(()=>{ d.reject(username, false); });\n      return d.promise();\n    },\n    logout: ()=> {\n      var d = new $.Deferred();\n      $ajax({ url: `${ROOT_URL}/api-auth/logout/` }).done(d.resolve).fail(function (/*resp, etype, emessage*/) {\n        // logout request wasn't successful, but may have logged the user out\n        // querying '/me/' can confirm if we have logged out.\n        dataInterface.selfProfile().done(function(data){\n          if (data.message === 'user is not logged in') {\n            d.resolve(data);\n          } else {\n            d.fail(data);\n          }\n        }).fail(d.fail);\n      });\n      return d.promise();\n    },\n    patchProfile (data) {\n      return $ajax({\n        url: `${ROOT_URL}/me/`,\n        method: 'PATCH',\n        data: data\n      });\n    },\n    listTemplates () {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/?q=${COMMON_QUERIES.t}`\n      });\n    },\n    getCollections(params = {}) {\n      let q = COMMON_QUERIES.c;\n      if (params.owner) {\n        q += ` AND owner__username__exact:${params.owner}`;\n      }\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/`,\n        dataType: 'json',\n        data: {\n          q: q,\n          limit: params.pageSize || DEFAULT_PAGE_SIZE,\n          page: params.page || 0\n        },\n        method: 'GET'\n      });\n    },\n    createAssetSnapshot (data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/asset_snapshots/`,\n        method: 'POST',\n        data: data\n      });\n    },\n    createTemporaryAssetSnapshot ({source}) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/asset_snapshots/`,\n        method: 'POST',\n        data: {\n          source: source\n        }\n      });\n    },\n\n    /*\n     * external services\n     */\n\n    getHooks(uid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/`,\n        method: 'GET'\n      });\n    },\n    getHook(uid, hookUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/${hookUid}/`,\n        method: 'GET'\n      });\n    },\n    addExternalService(uid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/`,\n        method: 'POST',\n        data: JSON.stringify(data),\n        dataType: 'json',\n        contentType: 'application/json'\n      });\n    },\n    updateExternalService(uid, hookUid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/${hookUid}/`,\n        method: 'PATCH',\n        data: JSON.stringify(data),\n        dataType: 'json',\n        contentType: 'application/json'\n      });\n    },\n    deleteExternalService(uid, hookUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/${hookUid}/`,\n        method: 'DELETE'\n      });\n    },\n    getHookLogs(uid, hookUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/${hookUid}/logs/`,\n        method: 'GET'\n      });\n    },\n    getHookLog(uid, hookUid, lid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/${hookUid}/logs/${lid}/`,\n        method: 'GET'\n      });\n    },\n    retryExternalServiceLogs(uid, hookUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/${hookUid}/retry/`,\n        method: 'PATCH'\n      });\n    },\n    retryExternalServiceLog(uid, hookUid, lid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/hooks/${hookUid}/logs/${lid}/retry/`,\n        method: 'PATCH'\n      });\n    },\n\n    getReportData (data) {\n      let identifierString;\n      if (data.identifiers) {\n        identifierString = `?names=${data.identifiers.join(',')}`\n      }\n      if (data.group_by != '')\n        identifierString += `&split_by=${data.group_by}`;\n\n      return $ajax({\n        url: `${ROOT_URL}/reports/${data.uid}/${identifierString}`,\n      });\n    },\n    cloneAsset ({uid, name, version_id, new_asset_type, parent}) {\n      let data = {\n        clone_from: uid,\n      };\n      if (name) { data.name = name; }\n      if (version_id) { data.clone_from_version_id = version_id; }\n      if (new_asset_type) { data.asset_type = new_asset_type; }\n      if (parent) { data.parent = parent; }\n      return $ajax({\n        method: 'POST',\n        url: `${ROOT_URL}/api/v2/assets/`,\n        data: data,\n      });\n    },\n\n    /*\n     * form media\n     */\n    postFormMedia(uid, data) {\n      return $ajax({\n        method: 'POST',\n        url: `${ROOT_URL}/api/v2/assets/${uid}/files/`,\n        data: data,\n      });\n    },\n    deleteFormMedia(url) {\n      return $ajax({\n        method: 'DELETE',\n        url: url,\n      });\n    },\n\n    /*\n     * Dynamic data attachments\n     */\n    attachToSource(assetUid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/paired-data/`,\n        method: 'POST',\n        data: JSON.stringify(data),\n        contentType: 'application/json'\n      });\n    },\n    detachSource(attachmentUrl) {\n      return $ajax({\n        url: attachmentUrl,\n        method: 'DELETE',\n      });\n    },\n    patchSource(attachmentUrl, data) {\n      return $ajax({\n        url: attachmentUrl,\n        method: 'PATCH',\n        data: JSON.stringify(data),\n        contentType: 'application/json'\n      });\n    },\n    getAttachedSources(assetUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/paired-data/`,\n        method: 'GET',\n      });\n    },\n    getSharingEnabledAssets() {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/?q=data_sharing__enabled:true`,\n        method: 'GET',\n      });\n    },\n    patchDataSharing(assetUid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/`,\n        method: 'PATCH',\n        data: JSON.stringify(data),\n        contentType: 'application/json'\n      });\n    },\n\n    /*\n     * permissions\n     */\n\n    getPermissionsConfig() {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/permissions/`,\n        method: 'GET'\n      });\n    },\n\n    getAssetPermissions(assetUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/permission-assignments/`,\n        method: 'GET'\n      });\n    },\n\n    bulkSetAssetPermissions(assetUid, perms) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/permission-assignments/bulk/`,\n        method: 'POST',\n        data: JSON.stringify(perms),\n        dataType: 'json',\n        contentType: 'application/json'\n      });\n    },\n\n    assignAssetPermission(assetUid, perm) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/permission-assignments/`,\n        method: 'POST',\n        data: JSON.stringify(perm),\n        dataType: 'json',\n        contentType: 'application/json'\n      });\n    },\n\n    removePermission (permUrl) {\n      return $ajax({\n        method: 'DELETE',\n        url: permUrl\n      });\n    },\n\n    copyPermissionsFrom(sourceUid, targetUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${targetUid}/permission-assignments/clone/`,\n        method: 'PATCH',\n        data: {\n          clone_from: sourceUid\n        }\n      });\n    },\n    deleteAsset ({uid}) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/`,\n        method: 'DELETE'\n      });\n    },\n    subscribeToCollection(assetUrl) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/asset_subscriptions/`,\n        data: {\n          asset: assetUrl\n        },\n        method: 'POST'\n      });\n    },\n    unsubscribeFromCollection(uid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/asset_subscriptions/`,\n        data: {\n          asset__uid: uid\n        },\n        method: 'GET'\n      }).then((data) => {\n        return $ajax({\n          url: data.results[0].url,\n          method: 'DELETE'\n        });\n      });\n    },\n    getImportDetails ({uid}) {\n      return $.getJSON(`${ROOT_URL}/api/v2/imports/${uid}/`);\n    },\n    getAsset (params={}) {\n      if (params.url) {\n        return $.getJSON(params.url);\n      } else {\n        // limit is for collections children\n        return $.getJSON(`${ROOT_URL}/api/v2/assets/${params.id}/?limit=${DEFAULT_PAGE_SIZE}`);\n      }\n    },\n\n    getAssetExports(assetUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/exports/`,\n        data: {\n          ordering: '-date_created',\n          // TODO: handle pagination of this in future, for now we get \"all\"\n          limit: 9999,\n        },\n      });\n    },\n\n    createAssetExport(assetUid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/exports/`,\n        method: 'POST',\n        data: JSON.stringify(data),\n        dataType: 'json',\n        contentType: 'application/json',\n      });\n    },\n\n    getAssetExport(assetUid, exportUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/exports/${exportUid}/`,\n        method: 'GET',\n      });\n    },\n\n    deleteAssetExport(assetUid, exportUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/exports/${exportUid}/`,\n        method: 'DELETE',\n      });\n    },\n\n    getExportSettings(assetUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/export-settings/`,\n        // TODO: handle pagination of this in future, for now we get \"all\"\n        data: {limit: 9999},\n      });\n    },\n\n    getExportSetting(assetUid, settingUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/export-settings/${settingUid}/`,\n      });\n    },\n\n    updateExportSetting(assetUid, settingUid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/export-settings/${settingUid}/`,\n        method: 'PATCH',\n        data: data,\n      });\n    },\n\n    createExportSetting(assetUid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/export-settings/`,\n        method: 'POST',\n        data: data,\n      });\n    },\n\n    deleteExportSetting(assetUid, settingUid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/export-settings/${settingUid}/`,\n        method: 'DELETE',\n      });\n    },\n\n    getAssetXformView (uid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/xform/`,\n        dataType: 'html'\n      });\n    },\n    searchAssets(searchData) {\n      // TODO https://github.com/kobotoolbox/kpi/issues/1983\n      // force set limit to get hacky \"all\" assets\n      searchData.limit = 200;\n      return $.ajax({\n        url: `${ROOT_URL}/api/v2/assets/`,\n        dataType: 'json',\n        data: searchData,\n        method: 'GET'\n      });\n    },\n    _searchAssetsWithPredefinedQuery(params, predefinedQuery) {\n      const searchData = {\n        q: predefinedQuery,\n        limit: params.pageSize || DEFAULT_PAGE_SIZE,\n        offset: params.page * params.pageSize || 0\n      };\n\n      if (params.searchPhrase) {\n        searchData.q += ` AND (${params.searchPhrase})`;\n      }\n\n      if (params.filterProperty && params.filterValue) {\n        searchData.q += ` AND ${params.filterProperty}:${params.filterValue}`;\n      }\n\n      if (params.ordering) {\n        searchData.ordering = params.ordering;\n      }\n\n      if (params.metadata === true) {\n        searchData.metadata = 'on';\n      }\n\n      if (params.collectionsFirst === true) {\n        searchData.collections_first = 'true';\n      }\n\n      if (params.status) {\n        searchData.status = params.status;\n      }\n\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/`,\n        dataType: 'json',\n        data: searchData,\n        method: 'GET'\n      });\n    },\n    _searchMetadataWithPredefinedQuery(params, predefinedQuery) {\n      const searchData = {\n        q: predefinedQuery,\n        limit: params.pageSize || DEFAULT_PAGE_SIZE,\n        offset: params.page * params.pageSize || 0\n      };\n\n      if (params.searchPhrase) {\n        searchData.q += ` AND (${params.searchPhrase})`;\n      }\n\n      if (params.filterProperty && params.filterValue) {\n        searchData.q += ` AND ${params.filterProperty}:\"${params.filterValue}\"`;\n      }\n\n      if (params.ordering) {\n        searchData.ordering = params.ordering;\n      }\n\n      if (params.status) {\n        searchData.status = params.status;\n      }\n\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/metadata/`,\n        dataType: 'json',\n        data: searchData,\n        method: 'GET'\n      });\n    },\n    searchMyCollectionAssets(params = {}) {\n      return this._searchAssetsWithPredefinedQuery(\n        params,\n        // we only want the currently viewed collection's assets\n        `${COMMON_QUERIES.qbtc} AND parent__uid:${params.uid}`,\n      );\n    },\n    searchMyLibraryAssets(params = {}) {\n      // we only want orphans (assets not inside collection)\n      // unless it's a search\n      let query = COMMON_QUERIES.qbtc;\n      if (!params.searchPhrase) {\n        query += ' AND parent:null';\n      }\n\n      return this._searchAssetsWithPredefinedQuery(params, query);\n    },\n    searchMyCollectionMetadata(params = {}) {\n      return this._searchMetadataWithPredefinedQuery(\n        params,\n        // we only want the currently viewed collection's assets\n        `${COMMON_QUERIES.qbtc} AND parent__uid:${params.uid}`,\n      );\n    },\n    searchMyLibraryMetadata(params = {}) {\n      // we only want orphans (assets not inside collection)\n      // unless it's a search\n      let query = COMMON_QUERIES.qbtc;\n      if (!params.searchPhrase) {\n        query += ' AND parent:null';\n      }\n\n      return this._searchMetadataWithPredefinedQuery(params, query);\n    },\n    searchPublicCollections(params = {}) {\n      params.status = 'public-discoverable';\n      return this._searchAssetsWithPredefinedQuery(\n        params,\n        COMMON_QUERIES.c,\n      );\n    },\n    searchPublicCollectionsMetadata(params = {}) {\n      params.status = 'public-discoverable';\n      return this._searchMetadataWithPredefinedQuery(\n        params,\n        COMMON_QUERIES.c,\n      );\n    },\n    assetsHash () {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/hash/`,\n        method: 'GET'\n      });\n    },\n    createResource (details) {\n      return $ajax({\n        method: 'POST',\n        url: `${ROOT_URL}/api/v2/assets/`,\n        data: details\n      });\n    },\n    patchAsset (uid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/`,\n        method: 'PATCH',\n        data: JSON.stringify(data),\n        dataType: 'json',\n        contentType: 'application/json'\n      });\n    },\n    listTags (data) {\n      return $ajax({\n        url: `${ROOT_URL}/tags/`,\n        method: 'GET',\n        data: assign({\n          // If this number is too big (e.g. 9999) it causes a deadly timeout\n          // whenever Form Builder displays the aside Library search\n          limit: 100,\n        }, data),\n      });\n    },\n    loadNextPageUrl(nextPageUrl){\n      return $ajax({\n        url: nextPageUrl,\n        method: 'GET'\n      });\n    },\n    deployAsset (asset, redeployment) {\n      var data = {\n        'active': true,\n      };\n      var method = 'POST';\n      if (redeployment) {\n        method = 'PATCH';\n        data.version_id = asset.version_id;\n      }\n      return $ajax({\n        method: method,\n        url: `${asset.url}deployment/`,\n        data: data\n      });\n    },\n    setDeploymentActive ({asset, active}) {\n      return $ajax({\n        method: 'PATCH',\n        url: `${asset.url}deployment/`,\n        data: {\n          active: active\n        }\n      });\n    },\n    createImport(contents) {\n      var formData = new FormData();\n      Object.keys(contents).forEach((key) => {\n        formData.append(key, contents[key]);\n      });\n      return $ajax({\n        method: 'POST',\n        url: `${ROOT_URL}/api/v2/imports/`,\n        data: formData,\n        processData: false,\n        contentType: false\n      });\n    },\n    getResource ({id}) {\n      // how can we avoid pulling asset type from the 1st character of the uid?\n      var assetType = assetMapping[id[0]];\n      return $.getJSON(`${ROOT_URL}/${assetType}/${id}/`);\n    },\n\n    getSubmissions(\n      uid,\n      pageSize = DEFAULT_PAGE_SIZE,\n      page = 0,\n      sort = [],\n      fields = [],\n      filter = ''\n    ) {\n      const query = `limit=${pageSize}&start=${page}`;\n      var s = '&sort={\"_id\":-1}'; // default sort\n      var f = '';\n      if (sort.length) {\n        s = sort[0].desc === true ? `&sort={\"${sort[0].id}\":-1}` : `&sort={\"${sort[0].id}\":1}`;\n      }\n      if (fields.length) {\n        f = `&fields=${JSON.stringify(fields)}`;\n      }\n\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/?${query}${s}${f}${filter}`,\n        method: 'GET',\n      });\n    },\n\n    getSubmission(uid, sid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/${sid}/`,\n        method: 'GET'\n      });\n    },\n    duplicateSubmission(uid, sid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/${sid}/duplicate/`,\n        method: 'POST'\n      });\n    },\n    bulkPatchSubmissionsValues(uid, submissionIds, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/bulk/`,\n        method: 'PATCH',\n        data: {'payload': JSON.stringify({\n          submission_ids: submissionIds,\n          data: data,\n        })}\n      });\n    },\n    bulkPatchSubmissionsValidationStatus(uid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/validation_statuses/`,\n        method: 'PATCH',\n        data: {'payload': JSON.stringify(data)}\n      });\n    },\n    bulkRemoveSubmissionsValidationStatus(uid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/validation_statuses/`,\n        method: 'DELETE',\n        data: {'payload': JSON.stringify(data)}\n      });\n    },\n    updateSubmissionValidationStatus(uid, sid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/${sid}/validation_status/`,\n        method: 'PATCH',\n        data: data\n      });\n    },\n    removeSubmissionValidationStatus(uid, sid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/${sid}/validation_status/`,\n        method: 'DELETE'\n      });\n    },\n    getSubmissionsQuery(uid, query='') {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/?${query}`,\n        method: 'GET'\n      });\n    },\n    deleteSubmission(uid, sid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/${sid}/`,\n        method: 'DELETE'\n      });\n    },\n    bulkDeleteSubmissions(uid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/bulk/`,\n        method: 'DELETE',\n        data: {'payload': JSON.stringify(data)}\n      });\n    },\n    getEnketoEditLink(uid, sid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/${sid}/enketo/edit/?return_url=false`,\n        method: 'GET'\n      });\n    },\n    getEnketoViewLink(uid, sid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/data/${sid}/enketo/view/`,\n        method: 'GET'\n      });\n    },\n    uploadAssetFile(uid, data) {\n      var formData = new FormData();\n      Object.keys(data).forEach(function(key) {\n        formData.append(key, data[key]);\n      });\n\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/files/`,\n        method: 'POST',\n        data: formData,\n        processData: false,\n        contentType: false\n      });\n    },\n    getAssetFiles(uid, fileType) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${uid}/files/?file_type=${fileType}`,\n        method: 'GET'\n      });\n    },\n    deleteAssetFile(assetUid, uid) {\n      return $ajax({\n        url: `${ROOT_URL}/api/v2/assets/${assetUid}/files/${uid}/`,\n        method: 'DELETE'\n      });\n    },\n\n    getHelpInAppMessages() {\n      return $ajax({\n        url: `${ROOT_URL}/help/in_app_messages/`,\n        method: 'GET'\n      });\n    },\n    patchHelpInAppMessage(uid, data) {\n      return $ajax({\n        url: `${ROOT_URL}/help/in_app_messages/${uid}/`,\n        method: 'PATCH',\n        data: JSON.stringify(data),\n        dataType: 'json',\n        contentType: 'application/json'\n      });\n    },\n\n    setLanguage(data) {\n      return $ajax({\n        url: `${ROOT_URL}/i18n/setlang/`,\n        method: 'POST',\n        data: data\n      });\n    },\n    environment() {\n      return $ajax({url: `${ROOT_URL}/environment/`});\n    },\n    login: (creds)=> {\n      return $ajax({ url: `${ROOT_URL}/api-auth/login/?next=/me/`, data: creds, method: 'POST'});\n    }\n  });\n}).call(dataInterface = {});\n","// List of server routes\nexport const PATHS = Object.freeze({\n  LOGIN: '/accounts/login',\n});\n\n// List of React app routes (the # ones)\nexport const ROUTES = Object.freeze({\n  ROOT: '/',\n  ACCOUNT_SETTINGS: '/account-settings',\n  CHANGE_PASSWORD: '/change-password',\n  LIBRARY: '/library',\n  MY_LIBRARY: '/library/my-library',\n  PUBLIC_COLLECTIONS: '/library/public-collections',\n  NEW_LIBRARY_ITEM: '/library/asset/new',\n  LIBRARY_ITEM: '/library/asset/:uid',\n  EDIT_LIBRARY_ITEM: '/library/asset/:uid/edit',\n  NEW_LIBRARY_CHILD: '/library/asset/:uid/new',\n  LIBRARY_ITEM_JSON: '/library/asset/:uid/json',\n  LIBRARY_ITEM_XFORM: '/library/asset/:uid/xform',\n  FORMS: '/forms',\n  FORM: '/forms/:uid',\n  FORM_JSON: '/forms/:uid/json',\n  FORM_XFORM: '/forms/:uid/xform',\n  FORM_EDIT: '/forms/:uid/edit',\n  FORM_SUMMARY: '/forms/:uid/summary',\n  FORM_LANDING: '/forms/:uid/landing',\n  FORM_DATA: '/forms/:uid/data',\n  FORM_REPORT: '/forms/:uid/data/report',\n  FORM_TABLE: '/forms/:uid/data/table',\n  FORM_DOWNLOADS: '/forms/:uid/data/downloads',\n  FORM_GALLERY: '/forms/:uid/data/gallery',\n  FORM_MAP: '/forms/:uid/data/map',\n  FORM_MAP_BY: '/forms/:uid/data/map/:viewby',\n  FORM_SETTINGS: '/forms/:uid/settings',\n  FORM_MEDIA: '/forms/:uid/settings/media',\n  FORM_SHARING: '/forms/:uid/settings/sharing',\n  FORM_RECORDS: '/forms/:uid/settings/records',\n  FORM_REST: '/forms/:uid/settings/rest',\n  FORM_REST_HOOK: '/forms/:uid/settings/rest/:hookUid',\n  FORM_KOBOCAT: '/forms/:uid/settings/kobocat',\n  FORM_RESET: '/forms/:uid/reset',\n});\n","import React from 'react'\nimport {AssetTypeName} from 'js/constants'\nimport {stores} from 'js/stores'\nimport permConfig from 'js/components/permissions/permConfig'\nimport {buildUserUrl} from 'js/utils'\nimport {\n  ASSET_TYPES,\n  MODAL_TYPES,\n  QUESTION_TYPES,\n  META_QUESTION_TYPES,\n  GROUP_TYPES_BEGIN,\n  GROUP_TYPES_END,\n  SCORE_ROW_TYPE,\n  RANK_LEVEL_TYPE,\n  ANON_USERNAME,\n  PERMISSIONS_CODENAMES,\n  ACCESS_TYPES,\n  ROOT_URL,\n  AnyRowTypeName,\n  QuestionTypeName,\n} from 'js/constants';\n\n/**\n * Removes whitespace from tags. Returns list of cleaned up tags.\n * NOTE: Behavior should match KpiTaggableManager.add()\n */\nexport function cleanupTags(tags: string[]) {\n  return tags.map(function(tag) {\n    return tag.trim().replace(/ /g, '-');\n  });\n}\n\n/**\n * Returns nicer \"me\" label for your own assets.\n */\nexport function getAssetOwnerDisplayName(username: string) {\n  if (\n    stores.session.currentAccount &&\n    stores.session.currentAccount.username &&\n    stores.session.currentAccount.username === username\n  ) {\n    return t('me');\n  } else {\n    return username;\n  }\n}\n\nexport function getOrganizationDisplayString(asset: AssetResponse) {\n  if (asset.settings.organization) {\n    return asset.settings.organization;\n  } else {\n    return '-';\n  }\n}\n\n/**\n * Note: `langString` is language string (the de facto \"id\").\n * Returns the index of language or null if not found.\n */\nexport function getLanguageIndex(asset: AssetResponse, langString: string) {\n  let foundIndex = null;\n\n  if (\n    Array.isArray(asset.summary?.languages) &&\n    asset.summary?.languages.length >= 1\n  ) {\n    asset.summary.languages.forEach((language, index) => {\n      if (language === langString) {\n        foundIndex = index;\n      }\n    });\n  }\n\n  return foundIndex;\n}\n\nexport function getLanguagesDisplayString(asset: AssetResponse) {\n  if (\n    asset.summary &&\n    asset.summary.languages &&\n    asset.summary.languages.length >= 1\n  ) {\n    return asset.summary.languages.join(', ');\n  } else {\n    return '-';\n  }\n}\n\nexport function getSectorDisplayString(asset: AssetResponse) {\n  if (asset.settings.sector) {\n    return asset.settings.sector.label;\n  } else {\n    return '-';\n  }\n}\n\nexport function getCountryDisplayString(asset: AssetResponse, showLongName: boolean = false) {\n  if (asset.settings.country) {\n    return showLongName ? asset.settings.country.label : asset.settings.country.value;\n  } else {\n    return '-';\n  }\n}\n\ninterface DisplayNameObj {\n  original?: string // Name typed in by user.\n  question?: string // First question name.\n  empty?: string // Set when no other is available.\n  final: string // original, question or empty name - the one to be displayed.\n}\n\n/**\n * Returns a name to be displayed for asset (especially unnamed ones) - an object\n * containing final name and all useful data. Most of the times you should use\n * `getAssetDisplayName(…).final`.\n */\nexport function getAssetDisplayName(asset: AssetResponse): DisplayNameObj {\n  const emptyName = t('untitled');\n\n  const output: DisplayNameObj = {\n    // empty name is a fallback\n    final: emptyName\n  };\n\n  if (asset.name) {\n    output.original = asset.name;\n  }\n  if (asset.summary && asset.summary.labels && asset.summary.labels.length > 0) {\n    // for unnamed assets, we try to display first question name\n    output.question = asset.summary.labels[0];\n  }\n  if (!output.original && !output.question) {\n    output.empty = emptyName;\n  }\n\n  // We prefer original name over question name\n  if (output.original) {\n    output.final = output.original;\n  } else if (output.question) {\n    output.final = output.question;\n  }\n\n  return output;\n}\n\n/**\n * Returns usable name of the question or choice when possible, fallbacks to\n * \"Unlabelled\". `translationIndex` defaults to first (default) language.\n */\nexport function getQuestionOrChoiceDisplayName(\n  questionOrChoice: SurveyRow | SurveyChoice,\n  translationIndex: number = 0\n): string {\n  if (questionOrChoice.label && Array.isArray(questionOrChoice.label)) {\n    return questionOrChoice.label[translationIndex];\n  } else if (questionOrChoice.label && !Array.isArray(questionOrChoice.label)) {\n    // in rare cases the label could be a string\n    return questionOrChoice.label;\n  } else if (questionOrChoice.name) {\n    return questionOrChoice.name;\n  // the \"string in obj\" is needed because choice type doesn't have $autoname\n  } else if ('$autoname' in questionOrChoice && questionOrChoice.$autoname) {\n    return questionOrChoice.$autoname;\n  } else {\n    return t('Unlabelled');\n  }\n}\n\nexport function isLibraryAsset(assetType: AssetTypeName) {\n  return (\n    assetType === ASSET_TYPES.question.id ||\n    assetType === ASSET_TYPES.block.id ||\n    assetType === ASSET_TYPES.template.id ||\n    assetType === ASSET_TYPES.collection.id\n  );\n}\n\n/**\n * For getting the icon class name for given asset type. Returned string always\n * contains two class names: base `k-icon` and respective CSS class name.\n */\nexport function getAssetIcon(asset: AssetResponse) {\n  switch (asset.asset_type) {\n    case ASSET_TYPES.template.id:\n      if (asset.summary?.lock_any) {\n        return 'k-icon k-icon-template-locked';\n      } else {\n        return 'k-icon k-icon-template';\n      }\n    case ASSET_TYPES.question.id:\n      return 'k-icon k-icon-question';\n    case ASSET_TYPES.block.id:\n      return 'k-icon k-icon-block';\n    case ASSET_TYPES.survey.id:\n      if (asset.summary?.lock_any) {\n        return 'k-icon k-icon-form-locked';\n      } else if (asset.has_deployment && !asset.deployment__active) {\n        return 'k-icon k-icon-form-archived';\n      } else if (asset.has_deployment) {\n        return 'k-icon k-icon-form-deployed';\n      } else {\n        return 'k-icon k-icon-form-draft';\n      }\n    case ASSET_TYPES.collection.id:\n      if (asset.access_types && asset.access_types.includes(ACCESS_TYPES.subscribed)) {\n        return 'k-icon k-icon-folder-subscribed';\n      } else if (isAssetPublic(asset.permissions)) {\n        return 'k-icon k-icon-folder-public';\n      } else if (asset.access_types && asset.access_types.includes(ACCESS_TYPES.shared)) {\n        return 'k-icon k-icon-folder-shared';\n      } else {\n        return 'k-icon k-icon-folder';\n      }\n    default:\n      return 'k-icon k-icon-form';\n  }\n}\n\n/**\n * Opens a modal for editing asset details.\n */\nexport function modifyDetails(asset: AssetResponse) {\n  let modalType;\n  if (asset.asset_type === ASSET_TYPES.template.id) {\n    modalType = MODAL_TYPES.LIBRARY_TEMPLATE;\n  } else if (asset.asset_type === ASSET_TYPES.collection.id) {\n    modalType = MODAL_TYPES.LIBRARY_COLLECTION;\n  }\n  if (modalType) {\n    stores.pageState.showModal({\n      type: modalType,\n      asset: asset,\n    });\n  } else {\n    throw new Error(`Unsupported asset type: ${asset.asset_type}.`)\n  }\n}\n\n/**\n * Opens a modal for sharing asset.\n */\nexport function share(asset: AssetResponse) {\n  stores.pageState.showModal({\n    type: MODAL_TYPES.SHARING,\n    assetid: asset.uid,\n  });\n}\n\n/**\n * Opens a modal for modifying asset languages and translation strings.\n */\nexport function editLanguages(asset: AssetResponse) {\n  stores.pageState.showModal({\n    type: MODAL_TYPES.FORM_LANGUAGES,\n    asset: asset,\n  });\n}\n\n/**\n * Opens a modal for modifying asset tags (also editable in Details Modal).\n */\nexport function editTags(asset: AssetResponse) {\n  stores.pageState.showModal({\n    type: MODAL_TYPES.ASSET_TAGS,\n    asset: asset,\n  });\n}\n\n/**\n * Opens a modal for replacing an asset using a file.\n */\nexport function replaceForm(asset: AssetResponse) {\n  stores.pageState.showModal({\n    type: MODAL_TYPES.REPLACE_PROJECT,\n    asset: asset,\n  });\n}\n\ntype SurveyFlatPaths = {\n  [P in string]: string\n}\n\n/**\n * NOTE: this works based on a fact that all questions have unique names.\n * @param includeGroups - wheter to put groups into output\n * @param includeMeta - whether to include meta question types (false on default)\n * Returns object with pairs of quesion names and their full paths\n */\nexport function getSurveyFlatPaths(\n  survey: SurveyRow[],\n  includeGroups: boolean = false,\n  includeMeta: boolean = false\n): SurveyFlatPaths {\n  const output: SurveyFlatPaths = {};\n  const openedGroups: string[] = [];\n\n  survey.forEach((row) => {\n    const rowName = getRowName(row);\n    if (GROUP_TYPES_BEGIN.hasOwnProperty(row.type)) {\n      openedGroups.push(rowName);\n      if (includeGroups) {\n        output[rowName] = openedGroups.join('/');\n      }\n    } else if (GROUP_TYPES_END.hasOwnProperty(row.type)) {\n      openedGroups.pop();\n    } else if (\n      QUESTION_TYPES.hasOwnProperty(row.type) ||\n      row.type === SCORE_ROW_TYPE ||\n      row.type === RANK_LEVEL_TYPE ||\n      (includeMeta && META_QUESTION_TYPES.hasOwnProperty(row.type))\n    ) {\n      let groupsPath = '';\n      if (openedGroups.length >= 1) {\n        groupsPath = openedGroups.join('/') + '/';\n      }\n      output[rowName] = `${groupsPath}${rowName}`;\n    }\n  });\n\n  return output;\n}\n\nexport function getRowName(row: SurveyRow | SurveyChoice) {\n  return row.name || ('$autoname' in row && row.$autoname) || row.$kuid;\n}\n\n/**\n * @param rowName - could be either a survey row name or choices row name\n * @param data - is either a survey or choices\n * Returns null for not found\n */\nexport function getTranslatedRowLabel(\n  rowName: string,\n  data: SurveyRow[] | SurveyChoice[],\n  translationIndex: number\n): string | null {\n  let foundRowIndex: number | undefined;\n  let foundRow: SurveyRow | SurveyChoice | undefined;\n\n  data.forEach((row, rowIndex) => {\n    if (getRowName(row) === rowName) {\n      foundRow = row;\n      foundRowIndex = rowIndex;\n    }\n  });\n\n  if (typeof foundRow === 'object' && foundRow.hasOwnProperty('label')) {\n    return getRowLabelAtIndex(foundRow, translationIndex);\n  } else if (typeof foundRow === 'object' && typeof foundRowIndex === 'number') {\n    // that mysterious row always comes as a next row\n    let possibleRow = data[foundRowIndex + 1];\n    if (isRowSpecialLabelHolder(foundRow, possibleRow)) {\n      return getRowLabelAtIndex(possibleRow, translationIndex);\n    }\n  }\n\n  return null;\n}\n\n/**\n * If a row doesn't have a label it is very possible that this is\n * a complex type of form item (e.g. ranking, matrix) that was constructed\n * as a group and a row by Backend. This function detects if this is the case.\n */\nexport function isRowSpecialLabelHolder(\n  mainRow: SurveyRow | SurveyChoice,\n  holderRow: SurveyRow | SurveyChoice\n): boolean {\n  if (!mainRow || !holderRow || !Object.prototype.hasOwnProperty.call(holderRow, 'label')) {\n    return false;\n  } else {\n    let mainRowName = getRowName(mainRow);\n    let holderRowName = getRowName(holderRow);\n    return (\n      (\n        // this handles ranking questions\n        'type' in holderRow &&\n        holderRowName === `${mainRowName}_label` &&\n        holderRow.type === QUESTION_TYPES.note.id\n      ) ||\n      (\n        // this handles matrix questions (partially)\n        'type' in holderRow &&\n        holderRowName === `${mainRowName}_note` &&\n        holderRow.type === QUESTION_TYPES.note.id\n      ) ||\n      (\n        // this handles rating questions\n        'type' in holderRow &&\n        holderRowName === `${mainRowName}_header` &&\n        holderRow.type === QUESTION_TYPES.select_one.id // rating\n      )\n    );\n  }\n}\n\n/**\n * An internal helper function for DRY code\n */\nfunction getRowLabelAtIndex(\n  row: SurveyRow | SurveyChoice,\n  index: number\n): string | null {\n  if (Array.isArray(row.label)) {\n    return row.label[index] || null;\n  } else {\n    return row.label || null;\n  }\n}\n\nexport function renderQuestionTypeIcon(\n  rowType: AnyRowTypeName\n): React.DetailedReactHTMLElement<{}, HTMLElement> | null {\n  let iconClassName: string = '';\n\n  if (rowType === SCORE_ROW_TYPE) {\n    iconClassName = QUESTION_TYPES.score.icon;\n  } else if (rowType === RANK_LEVEL_TYPE) {\n    iconClassName = QUESTION_TYPES.rank.icon;\n  } else if (QUESTION_TYPES.hasOwnProperty(rowType)) {\n    // We need to cast with `as` operator to avoid typescript complaining that\n    // we can't use AnyRowTypeName as index for QuestionTypes.\n    const rowTypeAsQuestionType = rowType as QuestionTypeName;\n    iconClassName = QUESTION_TYPES[rowTypeAsQuestionType].icon;\n  }\n\n  if (rowType === META_QUESTION_TYPES['background-audio']) {\n    iconClassName = 'k-icon-qt-audio';\n  } else if (META_QUESTION_TYPES.hasOwnProperty(rowType)) {\n    iconClassName = 'qt-meta-default';\n  }\n\n  if (iconClassName) {\n    return React.createElement(\n      'i',\n      {\n        className: `k-icon k-icon-${iconClassName}`,\n        title: rowType\n      }\n    );\n  } else {\n    return null;\n  }\n}\n\ninterface FlatQuestion {\n  type: AnyRowTypeName\n  name: string\n  isRequired: boolean\n  label: string\n  path: string\n  parents: string[]\n  hasRepatParent: boolean\n}\n\n/**\n * Use this to get a nice parsed list of survey questions (optionally with meta\n * questions included). Useful when you need to render form questions to users.\n *\n * @param {Object} survey\n * @param {number} [translationIndex] - defaults to first (default) language\n * @param {boolean} [includeMeta] - whether to include meta question types (false on default)\n * @returns {Array<object>} a list of parsed questions\n */\nexport function getFlatQuestionsList(\n  survey: SurveyRow[],\n  translationIndex: number = 0,\n  includeMeta: boolean = false\n): FlatQuestion[] {\n  const flatPaths = getSurveyFlatPaths(survey, false, true);\n  const output: FlatQuestion[] = [];\n  const openedGroups: string[] = [];\n  let openedRepeatGroupsCount = 0;\n\n  survey.forEach((row) => {\n    if (row.type === 'begin_group' || row.type === 'begin_repeat') {\n      openedGroups.push(getQuestionOrChoiceDisplayName(row, translationIndex));\n    }\n    if (row.type === 'end_group' || row.type === 'end_repeat') {\n      openedGroups.pop();\n    }\n\n    if (row.type === 'begin_repeat') {\n      openedRepeatGroupsCount++;\n    } else if (row.type === 'end_repeat') {\n      openedRepeatGroupsCount--;\n    }\n\n    if (\n      QUESTION_TYPES.hasOwnProperty(row.type) ||\n      (includeMeta && META_QUESTION_TYPES.hasOwnProperty(row.type))\n    ) {\n      const rowName = getRowName(row);\n      output.push({\n        type: row.type,\n        name: rowName,\n        isRequired: Boolean(row.required),\n        label: getQuestionOrChoiceDisplayName(row, translationIndex),\n        path: flatPaths[rowName],\n        parents: openedGroups.slice(0),\n        hasRepatParent: openedRepeatGroupsCount >= 1,\n      });\n    }\n  });\n\n  return output;\n}\n\n/**\n * Validates asset data to see if ready to be made public.\n * NOTE: currently we assume the asset type is `collection`.\n *\n * Returns an array of errors (empty array means no errors)\n */\nexport function isAssetPublicReady(asset: AssetResponse): string[] {\n  const errors = [];\n\n  if (asset.asset_type === ASSET_TYPES.collection.id) {\n    if (!asset.name || !asset.settings.organization || !asset.settings.sector) {\n      errors.push(t('Name, organization and sector are required to make collection public.'));\n    }\n    if (asset.children.count === 0) {\n      errors.push(t('Empty collection is not allowed to be made public.'));\n    }\n  } else {\n    errors.push(t('Only collections are allowed to be made public!'));\n  }\n\n  return errors;\n}\n\n/**\n * Checks whether the asset is public - i.e. visible and discoverable by anyone.\n * Note that `view_asset` is implied when you have `discover_asset`.\n */\nexport function isAssetPublic(permissions: Permission[]) {\n  let isDiscoverableByAnonymous = false;\n  permissions.forEach((perm) => {\n    const foundPerm = permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.discover_asset);\n    if (\n      perm.user === buildUserUrl(ANON_USERNAME) &&\n      foundPerm !== undefined &&\n      perm.permission === foundPerm.url\n    ) {\n      isDiscoverableByAnonymous = true;\n    }\n  });\n  return isDiscoverableByAnonymous;\n}\n\nexport function isSelfOwned(asset: AssetResponse) {\n  return (\n    asset &&\n    stores.session.currentAccount &&\n    asset.owner__username === stores.session.currentAccount.username\n  );\n}\n\nexport function buildAssetUrl(assetUid: string) {\n  return `${ROOT_URL}/api/v2/assets/${assetUid}/`;\n}\n\n/*\n* Inspired by https://gist.github.com/john-doherty/b9195065884cdbfd2017a4756e6409cc\n* Remove everything forbidden by XML 1.0 specifications, plus the unicode replacement character U+FFFD\n* @param {string} str\n*/\nexport function removeInvalidChars(str: string) {\n  var regex = /((?:[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFD\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))/g;\n  return str = String(str || '').replace(regex, '');\n}\n\nexport default {\n  buildAssetUrl,\n  cleanupTags,\n  editLanguages,\n  editTags,\n  getAssetDisplayName,\n  getAssetIcon,\n  getAssetOwnerDisplayName,\n  getCountryDisplayString,\n  getFlatQuestionsList,\n  getLanguageIndex,\n  getLanguagesDisplayString,\n  getOrganizationDisplayString,\n  getQuestionOrChoiceDisplayName,\n  getRowName,\n  getSectorDisplayString,\n  getSurveyFlatPaths,\n  getTranslatedRowLabel,\n  isAssetPublic,\n  isAssetPublicReady,\n  isLibraryAsset,\n  isRowSpecialLabelHolder,\n  isSelfOwned,\n  modifyDetails,\n  renderQuestionTypeIcon,\n  replaceForm,\n  share,\n  removeInvalidChars,\n};\n","import {\n  createEnum,\n  QUESTION_TYPES,\n  META_QUESTION_TYPES,\n  ADDITIONAL_SUBMISSION_PROPS,\n} from 'js/constants';\n\nexport const SUBMISSION_ACTIONS_ID = '__SubmissionActions';\n\nexport const VALIDATION_STATUS_ID_PROP = '_validation_status.uid';\n\n// Columns that will be ALWAYS excluded from the view\nexport const EXCLUDED_COLUMNS = [\n  '_xform_id_string',\n  '_attachments',\n  '_notes',\n  '_bamboo_dataset_id',\n  // '_status' is always 'submitted_via_web' unless submitted in bulk;\n  // in that case, it's 'zip'\n  '_status',\n  'formhub/uuid',\n  '_tags',\n  '_geolocation',\n  'meta/instanceID',\n  'meta/deprecatedID',\n  '_validation_status',\n];\n\nexport const SORT_VALUES = createEnum([\n  'ASCENDING',\n  'DESCENDING',\n]);\n\n// This is the setting object name from `asset.settings`\nexport const DATA_TABLE_SETTING = 'data-table';\n// These are all possible settings of the above\nexport const DATA_TABLE_SETTINGS = Object.freeze({\n  SELECTED_COLUMNS: 'selected-columns',\n  FROZEN_COLUMN: 'frozen-column',\n  SHOW_GROUP: 'show-group-name',\n  TRANSLATION: 'translation-index',\n  SHOW_HXL: 'show-hxl-tags',\n  SORT_BY: 'sort-by',\n});\n\n// TODO: Append this list with transcriptions/translations when they get added (NLP)\nexport const TABLE_MEDIA_TYPES = createEnum([\n  QUESTION_TYPES.image.id,\n  QUESTION_TYPES.audio.id,\n  QUESTION_TYPES.video.id,\n  QUESTION_TYPES.text.id,\n  META_QUESTION_TYPES['background-audio'],\n]);\n\nexport const DEFAULT_DATA_CELL_WIDTH = 140;\n\nexport const CELLS_WIDTH_OVERRIDES = {};\nCELLS_WIDTH_OVERRIDES[VALIDATION_STATUS_ID_PROP] = 125;\nCELLS_WIDTH_OVERRIDES[META_QUESTION_TYPES.start] = 110;\nCELLS_WIDTH_OVERRIDES[META_QUESTION_TYPES.end] = 110;\nCELLS_WIDTH_OVERRIDES[ADDITIONAL_SUBMISSION_PROPS._id] = 100;\nCELLS_WIDTH_OVERRIDES[QUESTION_TYPES.image.id] = 110;\nCELLS_WIDTH_OVERRIDES[QUESTION_TYPES.audio.id] = 110;\nCELLS_WIDTH_OVERRIDES[QUESTION_TYPES.video.id] = 110;\nCELLS_WIDTH_OVERRIDES[META_QUESTION_TYPES['background-audio']] = 110;\nObject.freeze(CELLS_WIDTH_OVERRIDES);\n","/**\n * Mixins to be used via react-mixin plugin. These extend components with the\n * methods defined within the given mixin, using the component as `this`.\n *\n * NOTE: please try using mixins as less as possible - when needing a method\n * from here, move it out to separete file (utils?), import here to avoid\n * breaking the code and use the separete file instead of mixin.\n *\n * TODO: think about moving out of mixins, as they are deprecated in new React\n * versions and considered harmful (see\n * https://reactjs.org/blog/2016/07/13/mixins-considered-harmful.html).\n */\n\nimport _ from 'underscore';\nimport React from 'react';\nimport alertify from 'alertifyjs';\nimport {hashHistory} from 'react-router';\nimport assetUtils from 'js/assetUtils';\nimport {\n  PROJECT_SETTINGS_CONTEXTS,\n  MODAL_TYPES,\n  ASSET_TYPES,\n  ANON_USERNAME,\n  PERMISSIONS_CODENAMES,\n} from './constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport {dataInterface} from './dataInterface';\nimport {stores} from './stores';\nimport assetStore from 'js/assetStore';\nimport {actions} from './actions';\nimport permConfig from 'js/components/permissions/permConfig';\nimport {\n  log,\n  assign,\n  notify,\n  escapeHtml,\n  buildUserUrl,\n  renderCheckbox\n} from 'utils';\nimport myLibraryStore from 'js/components/library/myLibraryStore';\n\nconst IMPORT_CHECK_INTERVAL = 1000;\n\nvar mixins = {};\n\nmixins.dmix = {\n  afterCopy() {\n    notify(t('copied to clipboard'));\n  },\n  saveCloneAs (evt) {\n    let version_id = evt.currentTarget.dataset.versionId;\n    let name = `${t('Clone of')} ${this.state.name}`;\n\n    let dialog = alertify.dialog('prompt');\n    let opts = {\n      title: `${t('Clone')} ${ASSET_TYPES.survey.label}`,\n      message: t('Enter the name of the cloned ##ASSET_TYPE##. Leave empty to keep the original name.').replace('##ASSET_TYPE##', ASSET_TYPES.survey.label),\n      value: name,\n      labels: {ok: t('Ok'), cancel: t('Cancel')},\n      onok: (evt, value) => {\n        const uid = this.props.params.assetid || this.props.params.uid;\n        actions.resources.cloneAsset({\n          uid: uid,\n          name: value,\n          version_id: version_id,\n        }, {\n          onComplete: (asset) => {\n            dialog.destroy();\n            hashHistory.push(`/forms/${asset.uid}`);\n          }\n        });\n\n        // keep the dialog open\n        return false;\n      },\n      oncancel: () => {\n        dialog.destroy();\n      }\n    };\n    dialog.set(opts).show();\n  },\n  cloneAsTemplate: function(evt) {\n    const sourceUid = evt.currentTarget.dataset.assetUid;\n    const sourceName = evt.currentTarget.dataset.assetName;\n    mixins.cloneAssetAsNewType.dialog({\n      sourceUid: sourceUid,\n      sourceName: sourceName,\n      targetType: ASSET_TYPES.template.id,\n      promptTitle: t('Create new template from this project'),\n      promptMessage: t('Enter the name of the new template.')\n    });\n  },\n  _deployAssetFirstTime (asset) {\n    let deployment_alert = alertify.warning(t('deploying to kobocat...'), 60);\n    actions.resources.deployAsset(asset, false, {\n      onDone: () => {\n        notify(t('deployed form'));\n        actions.resources.loadAsset({id: asset.uid});\n        hashHistory.push(`/forms/${asset.uid}`);\n        if (deployment_alert && typeof deployment_alert.dismiss === 'function') {\n          deployment_alert.dismiss();\n        }\n      },\n      onFail: () => {\n        if (deployment_alert && typeof deployment_alert.dismiss === 'function') {\n          deployment_alert.dismiss();\n        }\n      }\n    });\n  },\n  _redeployAsset (asset) {\n    const dialog = alertify.dialog('confirm');\n    let opts = {\n      title: t('Overwrite existing deployment'),\n      message: t(\n        'This form has already been deployed. Are you sure you ' +\n        'want overwrite the existing deployment? ' +\n        '<br/><br/><strong>This action cannot be undone.</strong>'\n      ),\n      labels: {ok: t('Ok'), cancel: t('Cancel')},\n      onok: (evt, val) => {\n        let ok_button = dialog.elements.buttons.primary.firstChild;\n        ok_button.disabled = true;\n        ok_button.innerText = t('Deploying...');\n        actions.resources.deployAsset(asset, true, {\n          onDone: () => {\n            notify(t('redeployed form'));\n            actions.resources.loadAsset({id: asset.uid});\n            if (dialog && typeof dialog.destroy === 'function') {\n              dialog.destroy();\n            }\n          },\n          onFail: () => {\n            if (dialog && typeof dialog.destroy === 'function') {\n              dialog.destroy();\n            }\n          }\n        });\n        // keep the dialog open\n        return false;\n      },\n      oncancel: () => {\n        dialog.destroy();\n      }\n    };\n    dialog.set(opts).show();\n  },\n  deployAsset (asset) {\n    if (!asset || asset.asset_type !== ASSET_TYPES.survey.id) {\n        if (this.state && this.state.asset_type === ASSET_TYPES.survey.id) {\n          asset = this.state;\n        } else {\n          console.error('Neither the arguments nor the state supplied an asset.');\n          return;\n        }\n    }\n    if (!asset.has_deployment) {\n      this._deployAssetFirstTime(asset);\n    } else {\n      this._redeployAsset(asset);\n    }\n  },\n  archiveAsset (uid, callback) {\n    mixins.clickAssets.click.asset.archive(uid, callback);\n  },\n  unarchiveAsset (uid = null, callback) {\n    if (uid === null) {\n      mixins.clickAssets.click.asset.unarchive(this.state, callback);\n    } else {\n      mixins.clickAssets.click.asset.unarchive(uid, callback);\n    }\n  },\n  deleteAsset(assetOrUid, name, callback) {\n    mixins.clickAssets.click.asset.delete(assetOrUid, name, callback);\n  },\n  toggleDeploymentHistory () {\n    this.setState({\n      historyExpanded: !this.state.historyExpanded,\n    });\n  },\n  summaryDetails () {\n    return (\n      <pre>\n        <code>\n          {this.state.asset_type}\n          <br />\n          {`[${Object.keys(this.state).join(', ')}]`}\n          <br />\n          {JSON.stringify(this.state.summary, null, 4)}\n        </code>\n      </pre>\n      );\n  },\n  asJson(){\n    return (\n        <pre>\n          <code>\n            {JSON.stringify(this.state, null, 4)}\n          </code>\n        </pre>\n      );\n  },\n  dmixAssetStoreChange (data) {\n    const uid = this._getAssetUid();\n    const asset = data[uid];\n    if (asset) {\n      this.setState(assign({}, data[uid]));\n    }\n  },\n  _getAssetUid () {\n    if (this.props.params) {\n      return this.props.params.assetid || this.props.params.uid;\n    } else if (this.props.formAsset) {\n      // formAsset case is being used strictly for projectSettings component to\n      // cause the componentDidMount callback to load the full asset (i.e. one\n      // that includes `content`).\n      return this.props.formAsset.uid;\n    } else {\n      return this.props.uid;\n    }\n  },\n  // TODO 1/2\n  // Fix `componentWillUpdate` and `componentDidMount` asset loading flow.\n  // Ideally we should build a single overaching component or store that would\n  // handle loading of the asset in all necessary cases in a way that all\n  // interested parties could use without duplication or confusion and with\n  // indication when the loading starts and when ends.\n  componentWillUpdate(newProps) {\n    if (\n      this.props.params?.uid !== newProps.params?.uid\n    ) {\n      // This case is used by other components (header.es6 is one such component)\n      // in a not clear way to gain a data on new asset.\n      actions.resources.loadAsset({id: newProps.params.uid});\n    }\n  },\n\n  componentDidMount() {\n    assetStore.listen(this.dmixAssetStoreChange);\n\n    // TODO 2/2\n    // HACK FIX: for when we use `PermProtectedRoute`, we don't need to make the\n    // call to get asset, as it is being already made. Ideally we want to have\n    // this nice SSOT as described in TODO comment above.\n    const uid = this._getAssetUid();\n    if (uid && this.props.initialAssetLoadNotNeeded) {\n      this.setState(assign({}, assetStore.data[uid]));\n    } else if (uid) {\n      actions.resources.loadAsset({id: uid});\n    }\n  },\n\n  removeSharing: function() {\n    mixins.clickAssets.click.asset.removeSharing(this.props.params.uid);\n  },\n};\n\n/*\n * helper function for apply*ToAsset droppable mixin methods\n * returns an interval-driven promise\n */\nconst applyImport = (params) => {\n  const applyPromise = new Promise((resolve, reject) => {\n    actions.resources.createImport(params, (data) => {\n      const doneCheckInterval = setInterval(() => {\n        dataInterface.getImportDetails({\n          uid: data.uid,\n        }).done((importData) => {\n          switch (importData.status) {\n            case 'complete': {\n              const finalData = importData.messages.updated || importData.messages.created;\n              if (finalData && finalData.length > 0 && finalData[0].uid) {\n                clearInterval(doneCheckInterval);\n                resolve(finalData[0]);\n              } else {\n                clearInterval(doneCheckInterval);\n                reject(importData);\n              }\n              break;\n            }\n            case 'processing':\n            case 'created': {\n              // TODO: notify promise awaiter about delay (after multiple interval rounds)\n              break;\n            }\n            case 'error':\n            default: {\n              clearInterval(doneCheckInterval);\n              reject(importData);\n            }\n          }\n        }).fail((failData) => {\n          clearInterval(doneCheckInterval);\n          reject(failData);\n        });\n      }, IMPORT_CHECK_INTERVAL);\n    });\n  });\n  return applyPromise;\n};\n\nmixins.droppable = {\n  /*\n   * returns an interval-driven promise\n   */\n  applyFileToAsset(file, asset) {\n    const applyPromise = new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (evt) => {\n        const params = {\n          destination: asset.url,\n          assetUid: asset.uid,\n          name: file.name,\n          base64Encoded: evt.target.result,\n          lastModified: file.lastModified,\n          totalFiles: 1\n        };\n\n        applyImport(params).then(\n          (data) => {resolve(data);},\n          (data) => {reject(data);}\n        );\n      };\n      reader.readAsDataURL(file);\n    });\n    return applyPromise;\n  },\n\n  /*\n   * returns an interval-driven promise\n   */\n  applyUrlToAsset(url, asset) {\n    const applyPromise = new Promise((resolve, reject) => {\n      const params = {\n        destination: asset.url,\n        url: url,\n        name: asset.name,\n        assetUid: asset.uid\n      };\n\n      applyImport(params).then(\n        (data) => {resolve(data);},\n        (data) => {reject(data);}\n      );\n    });\n    return applyPromise;\n  },\n\n  _forEachDroppedFile(params = {}) {\n    let router = this.context.router;\n    let isProjectReplaceInForm = (\n      this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE\n      && router.isActive('forms')\n      && router.params.uid !== undefined\n    );\n    var isLibrary = router.isActive('library');\n    var multipleFiles = params.totalFiles > 1 ? true : false;\n    params = assign({library: isLibrary}, params);\n\n    if (params.base64Encoded) {\n      stores.pageState.showModal({\n        type: MODAL_TYPES.UPLOADING_XLS,\n        filename: multipleFiles ? t('## files').replace('##', params.totalFiles) : params.name\n      });\n    }\n\n    delete params.totalFiles;\n\n    if (!isLibrary && params.base64Encoded) {\n      let destination = params.destination || this.state.url;\n      if (destination) {\n        params = assign({ destination: destination }, params);\n      }\n    }\n\n    actions.resources.createImport(params, (data) => {\n      // TODO get rid of this barbaric method of waiting a magic number of seconds\n      // to check if import was done - possibly while doing\n      // https://github.com/kobotoolbox/kpi/issues/476\n      window.setTimeout(() => {\n        dataInterface.getImportDetails({\n          uid: data.uid,\n        }).done((importData) => {\n          if (importData.status === 'complete') {\n            var assetData = importData.messages.updated || importData.messages.created;\n            var assetUid = assetData && assetData.length > 0 && assetData[0].uid;\n            if (!isLibrary && multipleFiles) {\n              this.searchDefault();\n              // No message shown for multiple files when successful, to avoid overloading screen\n            } else if (!assetUid) {\n              // TODO: use a more specific error message here\n              alertify.error(t('XLSForm Import failed. Check that the XLSForm and/or the URL are valid, and try again using the \"Replace form\" icon.'));\n              if (params.assetUid) {\n                hashHistory.push(`/forms/${params.assetUid}`);\n              }\n            } else {\n              if (isProjectReplaceInForm) {\n                actions.resources.loadAsset({id: assetUid});\n              } else if (!isLibrary) {\n                hashHistory.push(`/forms/${assetUid}`);\n              }\n              notify(t('XLS Import completed'));\n            }\n          } else if (importData.status === 'processing') {\n            // If the import task didn't complete immediately, inform the user accordingly.\n            alertify.warning(t('Your upload is being processed. This may take a few moments.'));\n          } else if (importData.status === 'created') {\n            alertify.warning(t('Your upload is queued for processing. This may take a few moments.'));\n          } else if (importData.status === 'error') {\n            const errLines = [];\n            errLines.push(t('Import Failed!'));\n            if (params.name) {\n              errLines.push(`<code>Name: ${params.name}</code>`);\n            }\n            if (importData.messages.error) {\n              errLines.push(`<code>${importData.messages.error_type}: ${escapeHtml(importData.messages.error)}</code>`);\n            }\n            alertify.error(errLines.join('<br/>'));\n          } else {\n            alertify.error(t('Import Failed!'));\n          }\n        }).fail((failData) => {\n          alertify.error(t('Import Failed!'));\n          log('import failed', failData);\n        });\n        stores.pageState.hideModal();\n      }, 2500);\n    }, (jqxhr) => {\n      log('Failed to create import: ', jqxhr);\n      alertify.error(t('Failed to create import.'));\n    });\n  },\n\n  dropFiles(files, rejectedFiles, evt, pms = {}) {\n    files.map((file) => {\n      var reader = new FileReader();\n      reader.onload = (e) => {\n        let params = assign({\n          name: file.name,\n          base64Encoded: e.target.result,\n          lastModified: file.lastModified,\n          totalFiles: files.length,\n        }, pms);\n\n        this._forEachDroppedFile(params);\n      };\n      reader.readAsDataURL(file);\n    });\n\n    for (var i = 0; i < rejectedFiles.length; i++) {\n      if (rejectedFiles[i].type && rejectedFiles[i].name) {\n        var errMsg = t('Upload error: could not recognize Excel file.');\n        errMsg += ` (${t('Uploaded file name: ')} ${rejectedFiles[i].name})`;\n        alertify.error(errMsg);\n      } else {\n        alertify.error(t('Could not recognize the dropped item(s).'));\n        break;\n      }\n    }\n  },\n};\n\nmixins.clickAssets = {\n  onActionButtonClick (action, uid, name) {\n    this.click.asset[action].call(this, uid, name);\n  },\n  click: {\n    asset: {\n      clone: function(assetOrUid) {\n        let asset;\n        if (typeof assetOrUid === 'object') {\n          asset = assetOrUid;\n        } else {\n          asset = stores.selectedAsset.asset || stores.allAssets.byUid[assetOrUid];\n        }\n        let assetTypeLabel = ASSET_TYPES[asset.asset_type].label;\n\n        let newName;\n        const displayName = assetUtils.getAssetDisplayName(asset);\n        // propose new name only if source asset name is not empty\n        if (displayName.original) {\n          newName = `${t('Clone of')} ${displayName.original}`;\n        }\n\n        let dialog = alertify.dialog('prompt');\n        let ok_button = dialog.elements.buttons.primary.firstChild;\n        let opts = {\n          title: `${t('Clone')} ${assetTypeLabel}`,\n          message: t('Enter the name of the cloned ##ASSET_TYPE##. Leave empty to keep the original name.').replace('##ASSET_TYPE##', assetTypeLabel),\n          value: newName,\n          labels: {ok: t('Ok'), cancel: t('Cancel')},\n          onok: (evt, value) => {\n            ok_button.disabled = true;\n            ok_button.innerText = t('Cloning...');\n\n            let canAddToParent = false;\n            if (asset.parent) {\n              const foundParentAsset = myLibraryStore.findAssetByUrl(asset.parent);\n              canAddToParent = (\n                typeof foundParentAsset !== 'undefined' &&\n                mixins.permissions.userCan(PERMISSIONS_CODENAMES.change_asset, foundParentAsset)\n              );\n            }\n\n            actions.resources.cloneAsset({\n              uid: asset.uid,\n              name: value,\n              parent: canAddToParent ? asset.parent : undefined\n            }, {\n            onComplete: (asset) => {\n              ok_button.disabled = false;\n              dialog.destroy();\n\n              // TODO when on collection landing page and user clones this\n              // collection's child asset, instead of navigating to cloned asset\n              // landing page, it would be better to stay here and refresh data\n              // (if the clone will keep the parent asset)\n              let goToUrl;\n              if (asset.asset_type === ASSET_TYPES.survey.id) {\n                goToUrl = `/forms/${asset.uid}/landing`;\n              } else {\n                goToUrl = `/library/asset/${asset.uid}`;\n              }\n\n              hashHistory.push(goToUrl);\n              notify(t('cloned ##ASSET_TYPE## created').replace('##ASSET_TYPE##', assetTypeLabel));\n            }\n            });\n            // keep the dialog open\n            return false;\n          },\n          oncancel: () => {\n            dialog.destroy();\n          }\n        };\n        dialog.set(opts).show();\n      },\n      cloneAsTemplate: function(sourceUid, sourceName) {\n        mixins.cloneAssetAsNewType.dialog({\n          sourceUid: sourceUid,\n          sourceName: sourceName,\n          targetType: ASSET_TYPES.template.id,\n          promptTitle: t('Create new template from this project'),\n          promptMessage: t('Enter the name of the new template.')\n        });\n      },\n      cloneAsSurvey: function(sourceUid, sourceName) {\n        mixins.cloneAssetAsNewType.dialog({\n          sourceUid: sourceUid,\n          sourceName: sourceName,\n          targetType: ASSET_TYPES.survey.id,\n          promptTitle: t('Create new project from this template'),\n          promptMessage: t('Enter the name of the new project.')\n        });\n      },\n      edit: function (uid) {\n        if (this.context.router.isActive('library')) {\n          hashHistory.push(`/library/asset/${uid}/edit`);\n        } else {\n          hashHistory.push(`/forms/${uid}/edit`);\n        }\n      },\n      delete: function(assetOrUid, name, callback) {\n        let asset;\n        if (typeof assetOrUid === 'object') {\n          asset = assetOrUid;\n        } else {\n          asset = stores.selectedAsset.asset || stores.allAssets.byUid[assetOrUid];\n        }\n        let assetTypeLabel = ASSET_TYPES[asset.asset_type].label;\n\n        const safeName = _.escape(name);\n\n        let dialog = alertify.dialog('confirm');\n        let deployed = asset.has_deployment;\n        let msg, onshow;\n        let onok = (evt, val) => {\n          actions.resources.deleteAsset({uid: asset.uid, assetType: asset.asset_type}, {\n            onComplete: ()=> {\n              notify(t('##ASSET_TYPE## deleted permanently').replace('##ASSET_TYPE##', assetTypeLabel));\n              if (typeof callback === 'function') {\n                callback();\n              }\n            }\n          });\n        };\n\n        if (!deployed) {\n          if (asset.asset_type !== ASSET_TYPES.survey.id) {\n            msg = t('You are about to permanently delete this item from your library.');\n          } else {\n            msg = t('You are about to permanently delete this draft.');\n          }\n        } else {\n          msg = `${t('You are about to permanently delete this form.')}`;\n          if (asset.deployment__submission_count !== 0) {\n            msg += `${renderCheckbox('dt1', t('All data gathered for this form will be deleted.'))}`;\n          }\n          msg += `${renderCheckbox('dt2', t('The form associated with this project will be deleted.'))}\n            ${renderCheckbox('dt3', t('I understand that if I delete this project I will not be able to recover it.'), true)}\n          `;\n          onshow = (evt) => {\n            let ok_button = dialog.elements.buttons.primary.firstChild;\n            let $els = $('.alertify-toggle input');\n\n            ok_button.disabled = true;\n            $els.each(function () {$(this).prop('checked', false);});\n\n            $els.change(function () {\n              ok_button.disabled = false;\n              $els.each(function () {\n                if (!$(this).prop('checked')) {\n                  ok_button.disabled = true;\n                }\n              });\n            });\n          };\n        }\n        let opts = {\n          title: `${t('Delete')} ${assetTypeLabel} \"${safeName}\"`,\n          message: msg,\n          labels: {\n            ok: t('Delete'),\n            cancel: t('Cancel')\n          },\n          onshow: onshow,\n          onok: onok,\n          oncancel: () => {\n            dialog.destroy();\n            $('.alertify-toggle input').prop('checked', false);\n          }\n        };\n        dialog.set(opts).show();\n      },\n      deploy: function(uid){\n        let asset = stores.selectedAsset.asset;\n        mixins.dmix.deployAsset(asset);\n      },\n      archive: function(assetOrUid, callback) {\n        let asset;\n        if (typeof assetOrUid === 'object') {\n          asset = assetOrUid;\n        } else {\n          asset = stores.selectedAsset.asset || stores.allAssets.byUid[assetOrUid];\n        }\n        let dialog = alertify.dialog('confirm');\n        let opts = {\n          title: t('Archive Project'),\n          message: `${t('Are you sure you want to archive this project?')} <br/><br/>\n            <strong>${t('Your form will not accept submissions while it is archived.')}</strong>`,\n          labels: {ok: t('Archive'), cancel: t('Cancel')},\n          onok: (evt, val) => {\n            actions.resources.setDeploymentActive({\n              asset: asset,\n              active: false\n            });\n            if (typeof callback === 'function') {\n              callback();\n            }\n          },\n          oncancel: () => {\n            dialog.destroy();\n          }\n        };\n        dialog.set(opts).show();\n      },\n      unarchive: function(assetOrUid, callback) {\n        let asset;\n        if (typeof assetOrUid === 'object') {\n          asset = assetOrUid;\n        } else {\n          asset = stores.selectedAsset.asset || stores.allAssets.byUid[assetOrUid];\n        }\n        let dialog = alertify.dialog('confirm');\n        let opts = {\n          title: t('Unarchive Project'),\n          message: `${t('Are you sure you want to unarchive this project?')}`,\n          labels: {ok: t('Unarchive'), cancel: t('Cancel')},\n          onok: (evt, val) => {\n            actions.resources.setDeploymentActive({\n              asset: asset,\n              active: true\n            });\n            if (typeof callback === 'function') {\n              callback();\n            }\n          },\n          oncancel: () => {\n            dialog.destroy();\n          }\n        };\n        dialog.set(opts).show();\n      },\n      sharing: function(uid){\n        stores.pageState.showModal({\n          type: MODAL_TYPES.SHARING,\n          assetid: uid\n        });\n      },\n      refresh: function(uid) {\n        stores.pageState.showModal({\n          type: MODAL_TYPES.REPLACE_PROJECT,\n          asset: stores.selectedAsset.asset\n        });\n      },\n      translations: function(uid) {\n        stores.pageState.showModal({\n          type: MODAL_TYPES.FORM_LANGUAGES,\n          assetUid: uid\n        });\n      },\n      encryption: function(uid) {\n        stores.pageState.showModal({\n          type: MODAL_TYPES.ENCRYPT_FORM,\n          assetUid: uid\n        });\n      },\n      removeSharing: function(uid) {\n        /**\n         * Extends `removeAllPermissions` from `userPermissionRow.es6`:\n         * Checks for permissions from current user before finding correct\n         * \"most basic\" permission to remove.\n         */\n        const asset = stores.selectedAsset.asset || stores.allAssets.byUid[uid];\n        const userViewAssetPerm = asset.permissions.find((perm) => {\n          // Get permissions url related to current user\n          var permUserUrl = perm.user.split('/');\n          return (\n            permUserUrl[permUserUrl.length - 2] === stores.session.currentAccount.username &&\n            perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.view_asset).url\n          );\n        });\n\n        let dialog = alertify.dialog('confirm');\n        let opts = {\n          title: t('Remove shared form'),\n          message: `${t('Are you sure you want to remove this shared form?')}`,\n          labels: {ok: t('Remove'), cancel: t('Cancel')},\n          onok: (evt, val) => {\n            // Only non-owners should have the asset removed from their asset list.\n            // This menu option is only open to non-owners so we don't need to check again.\n            let isNonOwner = true;\n            actions.permissions.removeAssetPermission(uid, userViewAssetPerm.url, isNonOwner);\n          },\n          oncancel: () => {\n            dialog.destroy();\n          }\n        };\n        dialog.set(opts).show();\n      },\n\n    }\n  },\n};\n\nmixins.permissions = {\n  /**\n   * For `.find`-ing the permissions\n   *\n   * @param {Object} perm\n   * @param {string} permName\n   * @param {string} [partialPermName]\n   *\n   * @returns {boolean}\n   */\n  _doesPermMatch(perm, permName, partialPermName = null) {\n    // Case 1: permissions don't match, stop looking\n    if (perm.permission !== permConfig.getPermissionByCodename(permName).url) {\n      return false;\n    }\n\n    // Case 2: permissions match, and we're not looking for partial one\n    if (permName !== PERMISSIONS_CODENAMES.partial_submissions) {\n      return true;\n    }\n\n    // Case 3a: we are looking for partial permission, but the name was no given\n    if (!partialPermName) {\n      return false;\n    }\n\n    // Case 3b: we are looking for partial permission, check if there are some that match\n    return perm.partial_permissions.some((partialPerm) => {\n      return partialPerm.url === permConfig.getPermissionByCodename(partialPermName).url;\n    });\n  },\n\n  /**\n   * This implementation does not use the back end to detect if `submission`\n   * is writable or not. So far, the front end only supports filters like:\n   *    `_submitted_by: {'$in': []}`\n   * Let's search for `submissions._submitted_by` value among these `$in`\n   * lists.\n   *\n   * @param {string} permName - permission to check if user can do at least partially\n   * @param {Object} asset\n   * @param {Object} submission\n   *\n   * @returns {boolean}\n   */\n  isSubmissionWritable(permName, asset, submission) {\n    // TODO optimize this to avoid calling `userCan()` and `userCanPartially()`\n    // repeatedly in the table view\n    // TODO Support multiple permissions at once\n    const userCan = this.userCan(permName, asset);\n    const userCanPartially = this.userCanPartially(permName, asset);\n\n    // Case 1: User has full permission\n    if (userCan) {\n      return true;\n    }\n\n    // Case 2: User has neither full nor partial permission\n    if (!userCanPartially) {\n      return false;\n    }\n\n    // Case 3: User has only partial permission, and things are complicated\n    const currentUsername = stores.session.currentAccount.username;\n    const partialPerms = asset.permissions.find((perm) => {\n      return (\n        perm.user === buildUserUrl(currentUsername) &&\n        this._doesPermMatch(perm, PERMISSIONS_CODENAMES.partial_submissions, permName)\n      );\n    });\n\n    const partialPerm = partialPerms.partial_permissions.find((nestedPerm) => {\n      return nestedPerm.url === permConfig.getPermissionByCodename(permName).url;\n    });\n\n    const submittedBy = submission._submitted_by;\n    let allowedUsers = [];\n\n    partialPerm.filters.forEach((filter) => {\n      if (filter._submitted_by) {\n        allowedUsers = allowedUsers.concat(filter._submitted_by.$in);\n      }\n    });\n    return allowedUsers.includes(submittedBy);\n  },\n\n  /**\n   * @param {string} permName\n   * @param {Object} asset\n   * @param {string} [partialPermName]\n   */\n  userCan(permName, asset, partialPermName = null) {\n    if (!asset.permissions) {\n      return false;\n    }\n    const currentUsername = stores.session.currentAccount.username;\n\n    if (asset.owner__username === currentUsername) {\n      return true;\n    }\n\n    // if permission is granted publicly, then grant it to current user\n    const anonAccess = asset.permissions.some((perm) => {\n      return (\n        perm.user === buildUserUrl(ANON_USERNAME) &&\n        perm.permission === permConfig.getPermissionByCodename(permName).url\n      );\n    });\n    if (anonAccess) {\n      return true;\n    }\n\n    return asset.permissions.some((perm) => {\n      return (\n        perm.user === buildUserUrl(currentUsername) &&\n        this._doesPermMatch(perm, permName, partialPermName)\n      );\n    });\n  },\n\n  /**\n   * @param {string} permName\n   * @param {Object} asset\n   */\n  userCanPartially(permName, asset) {\n\n    const currentUsername = stores.session.currentAccount.username;\n\n    // Owners cannot have partial permissions because they have full permissions.\n    // Both are contradictory.\n    if (asset.owner__username === currentUsername) {\n      return false;\n    }\n\n    return this.userCan(PERMISSIONS_CODENAMES.partial_submissions, asset, permName);\n  },\n};\n\nmixins.contextRouter = {\n  isFormList() {\n    return this.context.router.isActive(ROUTES.FORMS) && this.currentAssetID() === undefined;\n  },\n  isLibrary() {\n    return this.context.router.isActive(ROUTES.LIBRARY);\n  },\n  isMyLibrary() {\n    return this.context.router.isActive(ROUTES.MY_LIBRARY);\n  },\n  isPublicCollections() {\n    return this.context.router.isActive(ROUTES.PUBLIC_COLLECTIONS);\n  },\n  isLibraryList() {\n    return this.context.router.isActive(ROUTES.LIBRARY) && this.currentAssetID() === undefined;\n  },\n  isLibrarySingle() {\n    return this.context.router.isActive(ROUTES.LIBRARY) && this.currentAssetID() !== undefined;\n  },\n  isFormSingle() {\n    return this.context.router.isActive(ROUTES.FORMS) && this.currentAssetID() !== undefined;\n  },\n  currentAssetID() {\n    return this.context.router.params.assetid || this.context.router.params.uid;\n  },\n  currentAsset() {\n    return assetStore.data[this.currentAssetID()];\n  },\n  isActiveRoute(path, indexOnly = false) {\n    return this.context.router.isActive(path, indexOnly);\n  },\n  isFormBuilder() {\n    if (this.context.router.isActive(ROUTES.NEW_LIBRARY_ITEM)) {\n      return true;\n    }\n\n    const uid = this.currentAssetID();\n    return (\n      uid !== undefined &&\n      this.context.router.isActive(ROUTES.EDIT_LIBRARY_ITEM.replace(':uid', uid)) ||\n      this.context.router.isActive(ROUTES.NEW_LIBRARY_ITEM.replace(':uid', uid)) ||\n      this.context.router.isActive(ROUTES.FORM_EDIT.replace(':uid', uid))\n    );\n  }\n};\n\n/*\n * generates dialog when cloning an asset as new type\n */\nmixins.cloneAssetAsNewType = {\n  dialog(params) {\n    const dialog = alertify.dialog('prompt');\n    const opts = {\n      title: params.promptTitle,\n      message: params.promptMessage,\n      value: _.escape(params.sourceName),\n      labels: {ok: t('Create'), cancel: t('Cancel')},\n      onok: (evt, value) => {\n        // disable buttons\n        dialog.elements.buttons.primary.children[0].setAttribute('disabled', true);\n        dialog.elements.buttons.primary.children[0].innerText = t('Please wait…');\n        dialog.elements.buttons.primary.children[1].setAttribute('disabled', true);\n\n        actions.resources.cloneAsset({\n          uid: params.sourceUid,\n          name: value,\n          new_asset_type: params.targetType\n        }, {\n          onComplete: (asset) => {\n            dialog.destroy();\n\n            switch (asset.asset_type) {\n              case ASSET_TYPES.survey.id:\n                hashHistory.push(ROUTES.FORM_LANDING.replace(':uid', asset.uid));\n                break;\n              case ASSET_TYPES.template.id:\n              case ASSET_TYPES.block.id:\n              case ASSET_TYPES.question.id:\n                hashHistory.push(ROUTES.LIBRARY);\n                break;\n            }\n          },\n          onFailed: (asset) => {\n            dialog.destroy();\n            alertify.error(t('Failed to create new asset!'));\n          }\n        });\n\n        // keep the dialog open\n        return false;\n      },\n      oncancel: (evt, value) => {\n        dialog.destroy();\n      }\n    };\n    dialog.set(opts).show();\n  }\n};\n\nexport default mixins;\n","/**\n * Hi! Sorry for this being so complex, but I feel it's necessary, if we want to\n * avoid hard to debug bugs. These all are used in files connected to the\n * sharingForm modal. I will describe each of these constants in a detail to not\n * cause confusion by a future reader.\n */\n\nimport {PERMISSIONS_CODENAMES} from 'js/constants';\n\n/**\n * These two are the text added to a checkbox name to signify a paired property.\n * E.g for \"formView\" you will get \"formViewPartial\" and \"formViewPartialUsers\"\n */\nexport const SUFFIX_PARTIAL = 'Partial';\nexport const SUFFIX_USERS = 'Users'; // should be always added to a Partial one\n\n/**\n * This list contains the names of all the checkboxes in userAssetPermsEditor.\n * Every one of them is strictly connected to a permission, see the pairs at\n * CHECKBOX_PERM_PAIRS below.\n */\nexport const CHECKBOX_NAMES = {};\nnew Set([\n  'formView',\n  'formEdit',\n  'formManage',\n  'submissionsAdd',\n  'submissionsView',\n  'submissionsViewPartial',\n  'submissionsEdit',\n  'submissionsEditPartial',\n  'submissionsValidate',\n  'submissionsValidatePartial',\n  'submissionsDelete',\n  'submissionsDeletePartial',\n]).forEach((name) => {CHECKBOX_NAMES[name] = name;});\nObject.freeze(CHECKBOX_NAMES);\n\n/**\n * This is a map of pairs that connects a general checkbox to a partial checkbox.\n */\nexport const PARTIAL_CHECKBOX_PAIRS = {};\nPARTIAL_CHECKBOX_PAIRS[CHECKBOX_NAMES.submissionsView] = CHECKBOX_NAMES.submissionsViewPartial;\nPARTIAL_CHECKBOX_PAIRS[CHECKBOX_NAMES.submissionsEdit] = CHECKBOX_NAMES.submissionsEditPartial;\nPARTIAL_CHECKBOX_PAIRS[CHECKBOX_NAMES.submissionsValidate] = CHECKBOX_NAMES.submissionsValidatePartial;\nPARTIAL_CHECKBOX_PAIRS[CHECKBOX_NAMES.submissionsDelete] = CHECKBOX_NAMES.submissionsDeletePartial;\nObject.freeze(PARTIAL_CHECKBOX_PAIRS);\n\n/**\n * This is a map of pairs that connects a partial checkbox to a permission.\n *\n * NOTE: a partial checkbox is using a \"partial_submissions\" permission, but\n * in the array of de facto permissions it is using these ones.\n */\nexport const PARTIAL_PERM_PAIRS = {};\nPARTIAL_PERM_PAIRS[CHECKBOX_NAMES.submissionsViewPartial] = PERMISSIONS_CODENAMES.view_submissions;\nPARTIAL_PERM_PAIRS[CHECKBOX_NAMES.submissionsEditPartial] = PERMISSIONS_CODENAMES.change_submissions;\nPARTIAL_PERM_PAIRS[CHECKBOX_NAMES.submissionsValidatePartial] = PERMISSIONS_CODENAMES.validate_submissions;\nPARTIAL_PERM_PAIRS[CHECKBOX_NAMES.submissionsDeletePartial] = PERMISSIONS_CODENAMES.delete_submissions;\nObject.freeze(PARTIAL_PERM_PAIRS);\n\n/**\n * This is a map of pairs that connect a checkbox to a permission.\n */\nexport const CHECKBOX_PERM_PAIRS = {};\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.formView] = PERMISSIONS_CODENAMES.view_asset;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.formEdit] = PERMISSIONS_CODENAMES.change_asset;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.formManage] = PERMISSIONS_CODENAMES.manage_asset;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsAdd] = PERMISSIONS_CODENAMES.add_submissions;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsView] = PERMISSIONS_CODENAMES.view_submissions;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsViewPartial] = PERMISSIONS_CODENAMES.partial_submissions;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsEdit] = PERMISSIONS_CODENAMES.change_submissions;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsEditPartial] = PERMISSIONS_CODENAMES.partial_submissions;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsValidate] = PERMISSIONS_CODENAMES.validate_submissions;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsValidatePartial] = PERMISSIONS_CODENAMES.partial_submissions;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsDelete] = PERMISSIONS_CODENAMES.delete_submissions;\nCHECKBOX_PERM_PAIRS[CHECKBOX_NAMES.submissionsDeletePartial] = PERMISSIONS_CODENAMES.partial_submissions;\nObject.freeze(CHECKBOX_PERM_PAIRS);\n\n/**\n * This is a map that mirrors the CHECKBOX_PERM_PAIRS,\n * so it pairs a permission codename (No partial though!) to a checkbox name\n */\nexport const PERM_CHECKBOX_PAIRS = {};\nObject.keys(PARTIAL_CHECKBOX_PAIRS).forEach((checkboxName) => {\n  PERM_CHECKBOX_PAIRS[CHECKBOX_PERM_PAIRS[checkboxName]] = checkboxName;\n});\nObject.freeze(PERM_CHECKBOX_PAIRS);\n\n/**\n * This is a map to handle exceptions for partial submissions which imply\n * a regular permission\n */\nexport const PARTIAL_IMPLIED_CHECKBOX_PAIRS = {};\nPARTIAL_IMPLIED_CHECKBOX_PAIRS[CHECKBOX_NAMES.submissionsEditPartial] = [\n  CHECKBOX_NAMES.submissionsAdd,\n];\nObject.freeze(PARTIAL_IMPLIED_CHECKBOX_PAIRS);\n","import Reflux from 'reflux'\nimport {actions} from 'js/actions'\n\nexport interface EnvStoreDataItem {\n  value: string\n  label: string\n}\n\ninterface EnvStoreData {\n  terms_of_service_url: string\n  privacy_policy_url: string\n  source_code_url: string\n  support_email: string\n  support_url: string\n  community_url: string\n  available_sectors: EnvStoreDataItem[]\n  available_countries: EnvStoreDataItem[]\n  all_languages: EnvStoreDataItem[]\n  interface_languages: EnvStoreDataItem[]\n  submission_placeholder: string\n}\n\nclass EnvStore extends Reflux.Store {\n  data: EnvStoreData = {\n    terms_of_service_url: '',\n    privacy_policy_url: '',\n    source_code_url: '',\n    support_email: '',\n    support_url: '',\n    community_url: '',\n    available_sectors: [],\n    available_countries: [],\n    /** languages come from `kobo/static_lists.py` */\n    all_languages: [],\n    interface_languages: [],\n    submission_placeholder: ''\n  }\n\n  isReady: boolean = false\n\n  /**\n   * A DRY utility function that turns an array of two items into an object with\n   * 'value' and 'label' properties.\n   */\n  private nestedArrToChoiceObjs = (i: string[]): EnvStoreDataItem => {\n    return {\n      value: i[0],\n      label: i[1],\n    }\n  }\n\n  init() {\n    actions.auth.getEnvironment.completed.listen(this.onGetEnvCompleted.bind(this))\n    actions.auth.getEnvironment()\n  }\n\n  onGetEnvCompleted(response: EnvironmentResponse) {\n    this.data.terms_of_service_url = response.terms_of_service_url\n    this.data.privacy_policy_url = response.privacy_policy_url\n    this.data.source_code_url = response.source_code_url\n    this.data.support_email = response.support_email\n    this.data.support_url = response.support_url\n    this.data.community_url = response.community_url\n    this.data.submission_placeholder = response.submission_placeholder\n\n    if (response.available_sectors) {\n      this.data.available_sectors = response.available_sectors.map(this.nestedArrToChoiceObjs)\n    }\n    if (response.available_countries) {\n      this.data.available_countries = response.available_countries.map(this.nestedArrToChoiceObjs)\n    }\n    if (response.interface_languages) {\n      this.data.interface_languages = response.interface_languages.map(this.nestedArrToChoiceObjs)\n    }\n    if (response.all_languages) {\n      this.data.all_languages = response.all_languages.map(this.nestedArrToChoiceObjs)\n    }\n\n    this.isReady = true\n    this.trigger(this.data)\n  }\n\n  getLanguages() {\n    return this.data.all_languages\n  }\n\n  getLanguage(code: string): EnvStoreDataItem | undefined {\n    return this.data.all_languages.find(\n      (item: EnvStoreDataItem) => item.value === code\n    )\n  }\n\n  /** Returns a know language label or the provided code. */\n  getLanguageDisplayLabel(code: string): string {\n    let displayLabel = code\n    const envStoreLanguage = envStore.getLanguage(code)\n    if (envStoreLanguage) {\n      displayLabel = envStoreLanguage.label\n    }\n    return displayLabel\n  }\n\n  /** Case-insensitive lookup by localized name */\n  getLanguageByName(label: string): EnvStoreDataItem | undefined {\n    return this.data.all_languages.find(\n      (item: EnvStoreDataItem) => item.label.toLocaleLowerCase() === label.toLocaleLowerCase()\n    )\n  }\n}\n\n/**\n * This store keeps all environment data (constants) like languages, countries,\n * external urls…\n */\nconst envStore = new EnvStore();\nenvStore.init();\n\nexport default envStore;\n","import {getRowName} from 'js/assetUtils';\nimport {ASSET_TYPES} from 'js/constants';\nimport {\n  QUESTION_RESTRICTIONS,\n  GROUP_RESTRICTIONS,\n  FORM_RESTRICTIONS,\n  LOCK_ALL_RESTRICTION_NAMES,\n  LOCK_ALL_PROP_NAME,\n  LOCKING_PROFILE_PROP_NAME,\n  LOCKING_PROFILES_PROP_NAME,\n} from './lockingConstants';\n\n/**\n * @param {object} assetContent asset's object content property\n * @param {string} rowName - row or group name\n * @param {string} restrictionName - from QUESTION_RESTRICTIONS or GROUP_RESTRICTIONS\n * @returns {boolean}\n */\nexport function hasRowRestriction(assetContent, rowName, restrictionName) {\n  // case 1\n  // if lock_all is enabled, then all rows have all restrictions from lock all list\n  if (isAssetAllLocked(assetContent)) {\n    return LOCK_ALL_RESTRICTION_NAMES.includes(restrictionName);\n  }\n\n  // case 2\n  // check if row's locking profile definition has the searched restriction\n  const foundProfile = getRowLockingProfile(assetContent, rowName);\n  if (foundProfile) {\n    return foundProfile.restrictions.includes(restrictionName);\n  }\n\n  // default\n  return false;\n}\n\n/**\n * @param {object} assetContent asset's object content property\n * @param {string} restrictionName - from FORM_RESTRICTIONS\n */\nexport function hasAssetRestriction(assetContent, restrictionName) {\n  // case 1\n  // if lock_all is enabled, then form has all restrictions from lock all list\n  if (isAssetAllLocked(assetContent)) {\n    return LOCK_ALL_RESTRICTION_NAMES.includes(restrictionName);\n  }\n\n  // case 2\n  // check if asset's locking profile definition has the searched restriction\n  const foundProfile = getAssetLockingProfile(assetContent);\n  if (foundProfile) {\n    return foundProfile.restrictions.includes(restrictionName);\n  }\n\n  // default\n  return false;\n}\n\n/**\n * Finds locking profile by name\n *\n * @param {object} assetContent asset's object content property\n * @param {string} profileName\n * @returns {object|null} null for no found\n */\nexport function getLockingProfile(assetContent, profileName) {\n  let found = null;\n  if (\n    assetContent &&\n    Array.isArray(assetContent[LOCKING_PROFILES_PROP_NAME])\n  ) {\n    assetContent[LOCKING_PROFILES_PROP_NAME].forEach((profile, index) => {\n      if (profile.name === profileName) {\n        // we make a copy of profile definition to add index to it\n        found = {\n          index: index,\n          name: profile.name,\n          restrictions: profile.restrictions,\n        };\n      }\n    });\n  }\n  return found;\n}\n\n/**\n * Find locking profile of given row - you don't need to know if row has\n * a profile or what's it's name.\n *\n * @param {object} assetContent asset's object content property\n * @param {string} rowName\n * @returns {object|null} null for no found\n */\nexport function getRowLockingProfile(assetContent, rowName) {\n  let found = null;\n\n  const foundRow = assetContent.survey.find((row) => {\n    return getRowName(row) === rowName;\n  });\n  if (\n    foundRow &&\n    typeof foundRow[LOCKING_PROFILE_PROP_NAME] === 'string' &&\n    foundRow[LOCKING_PROFILE_PROP_NAME].length >= 1\n  ) {\n    return getLockingProfile(assetContent, foundRow[LOCKING_PROFILE_PROP_NAME]);\n  }\n\n  return found;\n}\n\n/**\n * Find locking profile of asset - you don't need to know if asset has\n * a profile or what's it's name.\n *\n * @param {object} assetContent asset's object content property\n * @returns {object|null} null for no found\n */\nexport function getAssetLockingProfile(assetContent) {\n  let found = null;\n\n  if (\n    assetContent.settings &&\n    typeof assetContent.settings[LOCKING_PROFILE_PROP_NAME] === 'string' &&\n    assetContent.settings[LOCKING_PROFILE_PROP_NAME].length >= 1\n  ) {\n    return getLockingProfile(assetContent, assetContent.settings[LOCKING_PROFILE_PROP_NAME]);\n  }\n\n  return found;\n}\n\n/**\n * Checks if row has any locking applied, i.e. row has `locking_profile` set and\n * this locking profile has a definition in the asset content settings. As it is\n * actually possible for row to have a locking profile name that the asset\n * doesn't have a definition for.\n *\n * If asset has `lock_all` this will also be true.\n *\n * @param {object} assetContent asset's object content property\n * @param {string} rowName - row or group name\n * @returns {boolean}\n */\nexport function isRowLocked(assetContent, rowName) {\n  // case 1\n  // asset has lock_all\n  if (isAssetAllLocked(assetContent)) {\n    return true;\n  }\n\n  // case 2\n  // row has locking profile that is defined in asset\n  return Boolean(getRowLockingProfile(assetContent, rowName));\n}\n\n/**\n * Checks if asset is locked, i.e. asset has `lock_all` or `locking_profile`.\n *\n * @param {object} assetContent asset's object content property\n * @returns {boolean} whether form has locking\n */\nexport function isAssetLocked(assetContent) {\n  // case 1\n  // asset has lock_all\n  if (isAssetAllLocked(assetContent)) {\n    return true;\n  }\n\n  // case 2\n  // asset has locking profile and the profile definition exist\n  return Boolean(getAssetLockingProfile(assetContent));\n}\n\n/**\n * Checks if anything in the asset is locked, i.e. asset has `lock_all` or\n * `locking_profile` is being set for it or any row.\n * @param {object} assetContent asset's object content property\n * @returns {boolean} whether form or any row has locking on it\n */\nexport function hasAssetAnyLocking(assetContent) {\n  // case 1\n  // asset is locked\n  if (isAssetLocked(assetContent)) {\n    return true;\n  }\n\n  // case 2\n  // at least one row has locking profile that is defined in asset\n  const foundRow = assetContent?.survey.find((row) => {\n    return isRowLocked(assetContent, getRowName(row));\n  });\n  return Boolean(foundRow);\n}\n\n/**\n * Checks if asset has `lock_all`, i.e. everything locked\n * NOTE: if every restriction is locked, but `lock_all` is not set, this will be false\n *\n * @param {object} assetContent asset's object content property\n * @returns {boolean}\n */\nexport function isAssetAllLocked(assetContent) {\n  return Boolean(\n    assetContent?.settings &&\n    assetContent.settings[LOCK_ALL_PROP_NAME] === true\n  );\n}\n\n/**\n * Useful to check if given asset should have the UI elements locked (e.g.\n * disabled or hidden)\n *\n * @param {string} assetType one of ASSET_TYPES\n * @returns {boolean} whether the asset can be locked\n */\nexport function isAssetLockable(assetType) {\n  // currently only surveys are lockeable\n  return assetType === ASSET_TYPES.survey.id;\n}\n\n/**\n * @param {object} assetContent\n * @param {string} rowName\n * @returns {object|null}\n */\nexport function getQuestionFeatures(assetContent, rowName) {\n  // if question does not exist then return null\n  const foundRow = assetContent.survey.find((row) => {\n    return getRowName(row) === rowName;\n  });\n  if (!foundRow) {\n    return null;\n  }\n\n  return _getFeatures(\n    QUESTION_RESTRICTIONS,\n    getRowLockingProfile(assetContent, rowName),\n    isAssetAllLocked(assetContent)\n  );\n}\n\n/**\n * @param {object} assetContent\n * @param {string} rowName\n * @returns {object}\n */\nexport function getGroupFeatures(assetContent, rowName) {\n  // if question does not exist then return null\n  const foundRow = assetContent.survey.find((row) => {\n    return getRowName(row) === rowName;\n  });\n  if (!foundRow) {\n    return null;\n  }\n\n  return _getFeatures(\n    GROUP_RESTRICTIONS,\n    getRowLockingProfile(assetContent, rowName),\n    isAssetAllLocked(assetContent)\n  );\n}\n\n/**\n * @param {object} assetContent\n * @returns {object}\n */\nexport function getFormFeatures(assetContent) {\n  return _getFeatures(\n    FORM_RESTRICTIONS,\n    getAssetLockingProfile(assetContent),\n    isAssetAllLocked(assetContent)\n  );\n}\n\n/**\n * Returns two lists - the restrictions that apply to row/asset and the one's\n * that don't\n * @param {object[]} sourceList\n * @param {object} profile\n * @param {boolean} isAllLocked\n * @returns {object} two arrays of LOCKING_RESTRICTIONS: `cans` and `cants`\n */\nfunction _getFeatures(sourceList, profile, isAllLocked) {\n  const outcome = {\n    cans: [],\n    cants: [],\n  };\n\n  sourceList.forEach((restriction) => {\n    if (isAllLocked || (profile && profile.restrictions.includes(restriction.name))) {\n      outcome.cants.push(restriction);\n    } else {\n      outcome.cans.push(restriction);\n    }\n  });\n\n  return outcome;\n}\n","/**\n * When adding or changing restrictions, plase make sure to update all the\n * arrays of restrictions below.\n *\n * NOTE: this list should match a list from:\n * https://github.com/kobotoolbox/formpack/blob/master/src/formpack/constants.py\n */\nexport const LOCKING_RESTRICTIONS = Object.freeze({\n  // question related\n  choice_add: {name: 'choice_add', label: t('Add choice to question')},\n  choice_delete: {name: 'choice_delete', label: t('Remove choice from question')},\n  choice_label_edit: {name: 'choice_label_edit', label: t('Edit choice labels')},\n  choice_order_edit: {name: 'choice_order_edit', label: t('Change choice order')},\n  choice_value_edit: {name: 'choice_value_edit', label: t('Edit choice values')},\n  question_delete: {name: 'question_delete', label: t('Delete question')},\n  question_label_edit: {name: 'question_label_edit', label: t('Edit question labels')},\n  question_settings_edit: {name: 'question_settings_edit', label: t('Edit question settings')},\n  question_skip_logic_edit: {name: 'question_skip_logic_edit', label: t('Edit skip logic')},\n  question_validation_edit: {name: 'question_validation_edit', label: t('Edit validation')},\n  // group related\n  group_delete: {name: 'group_delete', label: t('Delete entire group')},\n  group_label_edit: {name: 'group_label_edit', label: t('Edit group labels')},\n  group_question_add: {name: 'group_question_add', label: t('Add question to group')},\n  group_question_delete: {name: 'group_question_delete', label: t('Remove question from group')},\n  group_question_order_edit: {name: 'group_question_order_edit', label: t('Change question order within group')},\n  group_settings_edit: {name: 'group_settings_edit', label: t('Edit group settings')},\n  group_skip_logic_edit: {name: 'group_skip_logic_edit', label: t('Edit skip logic')},\n  group_split: {name: 'group_split', label: t('Split group')},\n  // form related\n  form_appearance: {name: 'form_appearance', label: t('Change form appearance')},\n  form_meta_edit: {name: 'form_meta_edit', label: t('Change form meta questions')},\n  form_replace: {name: 'form_replace', label: t('Replace whole form')},\n  group_add: {name: 'group_add', label: t('Add group')},\n  question_add: {name: 'question_add', label: t('Add question')},\n  question_order_edit: {name: 'question_order_edit', label: t('Change question order')},\n  language_edit: {name: 'language_edit', label: t('Change languages')},\n});\n\n// all restrictions for questions and choices\nexport const QUESTION_RESTRICTIONS = [\n  LOCKING_RESTRICTIONS.choice_add,\n  LOCKING_RESTRICTIONS.choice_delete,\n  LOCKING_RESTRICTIONS.choice_label_edit,\n  LOCKING_RESTRICTIONS.choice_order_edit,\n  LOCKING_RESTRICTIONS.choice_value_edit,\n  LOCKING_RESTRICTIONS.question_delete,\n  LOCKING_RESTRICTIONS.question_label_edit,\n  LOCKING_RESTRICTIONS.question_settings_edit,\n  LOCKING_RESTRICTIONS.question_skip_logic_edit,\n  LOCKING_RESTRICTIONS.question_validation_edit,\n];\n\n// all restrictions for groups\nexport const GROUP_RESTRICTIONS = [\n  LOCKING_RESTRICTIONS.group_delete,\n  LOCKING_RESTRICTIONS.group_label_edit,\n  LOCKING_RESTRICTIONS.group_question_add,\n  LOCKING_RESTRICTIONS.group_question_delete,\n  LOCKING_RESTRICTIONS.group_question_order_edit,\n  LOCKING_RESTRICTIONS.group_settings_edit,\n  LOCKING_RESTRICTIONS.group_skip_logic_edit,\n  LOCKING_RESTRICTIONS.group_split,\n];\n\n// all restrictions for form\nexport const FORM_RESTRICTIONS = [\n  LOCKING_RESTRICTIONS.form_appearance,\n  LOCKING_RESTRICTIONS.form_meta_edit,\n  LOCKING_RESTRICTIONS.form_replace,\n  LOCKING_RESTRICTIONS.group_add,\n  LOCKING_RESTRICTIONS.question_add,\n  LOCKING_RESTRICTIONS.question_order_edit,\n  LOCKING_RESTRICTIONS.language_edit,\n];\n\n// currently lock_all has all restrictions,\n// but we want to be flexible, so we use an array\nexport const LOCK_ALL_RESTRICTION_NAMES = [\n  LOCKING_RESTRICTIONS.choice_add.name,\n  LOCKING_RESTRICTIONS.choice_delete.name,\n  LOCKING_RESTRICTIONS.choice_label_edit.name,\n  LOCKING_RESTRICTIONS.choice_order_edit.name,\n  LOCKING_RESTRICTIONS.choice_value_edit.name,\n  LOCKING_RESTRICTIONS.question_delete.name,\n  LOCKING_RESTRICTIONS.question_label_edit.name,\n  LOCKING_RESTRICTIONS.question_settings_edit.name,\n  LOCKING_RESTRICTIONS.question_skip_logic_edit.name,\n  LOCKING_RESTRICTIONS.question_validation_edit.name,\n  LOCKING_RESTRICTIONS.group_delete.name,\n  LOCKING_RESTRICTIONS.group_label_edit.name,\n  LOCKING_RESTRICTIONS.group_question_add.name,\n  LOCKING_RESTRICTIONS.group_question_delete.name,\n  LOCKING_RESTRICTIONS.group_question_order_edit.name,\n  LOCKING_RESTRICTIONS.group_settings_edit.name,\n  LOCKING_RESTRICTIONS.group_skip_logic_edit.name,\n  LOCKING_RESTRICTIONS.group_split.name,\n  LOCKING_RESTRICTIONS.form_appearance.name,\n  LOCKING_RESTRICTIONS.form_meta_edit.name,\n  LOCKING_RESTRICTIONS.form_replace.name,\n  LOCKING_RESTRICTIONS.group_add.name,\n  LOCKING_RESTRICTIONS.question_add.name,\n  LOCKING_RESTRICTIONS.question_order_edit.name,\n  LOCKING_RESTRICTIONS.language_edit.name,\n];\n\nexport const LOCK_ALL_PROP_NAME = 'kobo--lock_all';\n\nexport const LOCKING_PROFILE_PROP_NAME = 'kobo--locking-profile';\n\nexport const LOCKING_PROFILES_PROP_NAME = 'kobo--locking-profiles';\n\nexport const LOCKING_UI_CLASSNAMES = {\n  HIDDEN: 'locking__ui-hidden',\n  DISABLED: 'locking__ui-disabled',\n};\n","import Reflux from 'reflux';\n\nclass PermConfigStore extends Reflux.Store {\n  permissions: PermissionDefinition[] = []\n\n  public setPermissions(permissions: PermissionDefinition[]) {\n    this.permissions = permissions;\n  }\n\n  public getPermissionByCodename(wantedCodename: string) {\n    this.verifyReady();\n    return this.permissions.find((perm) => perm.codename === wantedCodename);\n  }\n\n  public getPermission(wantedUrl: string) {\n    this.verifyReady();\n    return this.permissions.find((perm) => perm.url === wantedUrl);\n  }\n\n  /**\n   * Throws if trying to use permConfig before it fetches data from BE or if\n   * data given by `setPermissions` is not an array.\n   */\n  private verifyReady() {\n    if (!this.isReady()) {\n      throw new Error(t('Permission config is not ready or failed to initialize!'));\n    }\n  }\n\n  public isReady() {\n    return Array.isArray(this.permissions) && this.permissions.length !== 0;\n  }\n}\n\n/**\n * NOTE: this store relies on the app being initialized by calling\n * `actions.permissions.getConfig()` and then manually setting results here,\n * otherwise expect `verifyReady` to throw\n */\nconst permConfig = new PermConfigStore();\n\nexport default permConfig;\n","import React from 'react'\n// Using this type ensures we only have existing icon names\nimport {IconName} from 'jsapp/fonts/k-icons'\nimport './icon.scss'\n\n/**\n * Check out `icon.scss` file for exact pixel values.\n */\nexport type IconSize = 'xs' | 's' | 'm' | 'l' | 'xl'\n\nconst DefaultSize = 's'\n\ntype IconProps = {\n  name: IconName\n  size?: IconSize\n  classNames?: string[]\n}\n\n/**\n * An icon component.\n */\nclass Icon extends React.Component<IconProps, {}> {\n  constructor(props: IconProps){\n    super(props)\n  }\n\n  render() {\n    let classNames: string[] = []\n    if (\n      Array.isArray(this.props.classNames) &&\n      typeof this.props.classNames[0] === 'string'\n    ) {\n      classNames = this.props.classNames\n    }\n\n    let size = this.props.size || DefaultSize\n    classNames.push(`k-icon--size-${size}`)\n\n    classNames.push('k-icon')\n    classNames.push(`k-icon-${this.props.name}`)\n\n    return (\n      <i className={classNames.join(' ')}/>\n    )\n  }\n}\n\nexport default Icon\n","import React from 'react';\nimport bem from 'js/bem';\nimport './loadingSpinner.scss';\nimport Icon from 'js/components/common/icon'\n\ntype LoadingSpinnerProps = {\n  message?: string\n}\n\nexport default class LoadingSpinner extends React.Component<LoadingSpinnerProps, {}> {\n  render() {\n    const message = this.props.message || t('loading…');\n\n    return (\n      <bem.Loading>\n        <bem.Loading__inner>\n          <Icon name='spinner' size='xl' classNames={['k-spin']}/>\n          {message}\n        </bem.Loading__inner>\n      </bem.Loading>\n    );\n  }\n}\n","import {createEnum} from 'js/constants';\n\nexport const ROOT_BREADCRUMBS = Object.freeze({\n  PROJECTS: {\n    label: t('Projects'),\n    href: '#/forms',\n  },\n  MY_LIBRARY: {\n    label: t('My Library'),\n    href: '#/library/my-library',\n  },\n  PUBLIC_COLLECTIONS: {\n    label: t('Public Collections'),\n    href: '#/library/public-collections',\n  },\n});\n\nexport const ASSETS_TABLE_CONTEXTS = createEnum([\n  'MY_LIBRARY',\n  'COLLECTION_CONTENT',\n  'PUBLIC_COLLECTIONS',\n]);\n\nexport const ORDER_DIRECTIONS = createEnum([\n  'ascending',\n  'descending',\n]);\n\n/**\n * @typedef AssetsTableColumn\n * @prop {string} label\n * @prop {string} id\n * @prop {string} [filterBy] - a backend filter property\n * @prop {string} [filterByPath] - a path to asset property that holds the data\n * @prop {string} [filterByMetadataName] - name of the metadata property that holds the values for the filter\n * @prop {string} [orderBy] - a backend order property\n * @prop {boolean} [defaultValue]\n */\nexport const ASSETS_TABLE_COLUMNS = Object.freeze({\n  'icon-status': {\n    label: t('Type'),\n    id: 'icon-status',\n    orderBy: 'asset_type',\n    defaultValue: ORDER_DIRECTIONS.ascending,\n  },\n  'date-modified': {\n    label: t('Last Modified'),\n    id: 'date-modified',\n    orderBy: 'date_modified',\n    defaultValue: ORDER_DIRECTIONS.descending,\n  },\n  name: {\n    label: t('Name'),\n    id: 'name',\n    orderBy: 'name',\n    defaultValue: ORDER_DIRECTIONS.ascending,\n  },\n  'items-count': {\n    label: t('Items'),\n    id: 'items-count',\n    // TODO: currently it is not possible to order by summary.row_count and children.count at the same time\n    // so we disable this column\n    orderBy: null,\n    defaultValue: null,\n  },\n  owner: {\n    label: t('Owner'),\n    id: 'owner',\n    orderBy: 'owner__username',\n    defaultValue: ORDER_DIRECTIONS.ascending,\n  },\n  'subscribers-count': {\n    label: t('Subscribers'),\n    id: 'subscribers-count',\n    orderBy: 'subscribers_count',\n    defaultValue: ORDER_DIRECTIONS.ascending,\n  },\n  languages: {\n    label: t('Languages'),\n    id: 'languages',\n    filterBy: 'summary__languages__icontains',\n    filterByPath: ['summary', 'languages'],\n    filterByMetadataName: 'languages',\n  },\n  'primary-sector': {\n    label: t('Primary Sector'),\n    id: 'primary-sector',\n    filterBy: 'settings__sector__value',\n    filterByPath: ['settings', 'sector'],\n    filterByMetadataName: 'sectors',\n  },\n});\n","import React from 'react';\nimport bem from 'js/bem';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport './textBox.scss';\n\nexport enum AvailableType {\n  'text-multiline' = 'text-multiline',\n  text = 'text',\n  email = 'email',\n  password = 'password',\n  url = 'url',\n  number = 'number',\n}\n\nconst DefaultType = AvailableType.text;\n\ntype TextBoxProps = {\n  type?: AvailableType // one of AVAILABLE_TYPES, defaults to DEFAULT_TYPE\n  value: string\n  onChange: Function\n  onBlur?: Function\n  onKeyPress?: Function\n  errors?: string[]|string|boolean // for visual error indication and displaying error messages\n  label?: string\n  placeholder?: string\n  description?: string\n  readOnly?: boolean\n  disabled?: boolean\n  customModifiers?: string[]|string\n};\n\n/**\n * A text box generic component.\n */\nclass TextBox extends React.Component<TextBoxProps, {}> {\n  constructor(props: TextBoxProps){\n    super(props);\n  }\n\n  /**\n   * NOTE: I needed to set `| any` for `onChange`, `onBlur` and `onKeyPress`\n   * types to stop TextareaAutosize complaining.\n   */\n\n  onChange(evt: React.ChangeEvent<HTMLInputElement> | any) {\n    if (this.props.readOnly) {\n      return;\n    }\n    this.props.onChange(evt.currentTarget.value);\n  }\n\n  onBlur(evt: React.FocusEvent<HTMLInputElement> | any) {\n    if (typeof this.props.onBlur === 'function') {\n      this.props.onBlur(evt.currentTarget.value);\n    }\n  }\n\n  onKeyPress(evt: React.KeyboardEvent<HTMLInputElement> | any) {\n    if (typeof this.props.onKeyPress === 'function') {\n      this.props.onKeyPress(evt.key, evt);\n    }\n  }\n\n  render() {\n    let modifiers = [];\n    if (\n      Array.isArray(this.props.customModifiers) &&\n      typeof this.props.customModifiers[0] === 'string'\n    ) {\n      modifiers = this.props.customModifiers;\n    } else if (typeof this.props.customModifiers === 'string') {\n      modifiers.push(this.props.customModifiers);\n    }\n\n    let errors = [];\n    if (Array.isArray(this.props.errors)) {\n      errors = this.props.errors;\n    } else if (typeof this.props.errors === 'string' && this.props.errors.length > 0) {\n      errors.push(this.props.errors);\n    }\n    if (errors.length > 0 || this.props.errors === true) {\n      modifiers.push('error');\n    }\n\n    let type = DefaultType;\n    if (this.props.type && Object.keys(AvailableType).indexOf(this.props.type) !== -1) {\n      type = this.props.type;\n    } else if (this.props.type) {\n      throw new Error(`Unknown TextBox type: ${this.props.type}!`);\n    }\n\n    const inputProps = {\n      value: this.props.value,\n      placeholder: this.props.placeholder,\n      onChange: this.onChange.bind(this),\n      onBlur: this.onBlur.bind(this),\n      onKeyPress: this.onKeyPress.bind(this),\n      readOnly: this.props.readOnly,\n      disabled: this.props.disabled,\n    };\n\n    return (\n      <bem.TextBox m={modifiers}>\n        {this.props.label &&\n          <bem.TextBox__label>\n            {this.props.label}\n          </bem.TextBox__label>\n        }\n\n        {this.props.type === 'text-multiline' &&\n          <TextareaAutosize\n            className='text-box__input'\n            {...inputProps}\n          />\n        }\n        {this.props.type !== 'text-multiline' &&\n          <bem.TextBox__input\n            type={type}\n            {...inputProps}\n          />\n        }\n\n        {this.props.description &&\n          <bem.TextBox__description>\n            {this.props.description}\n          </bem.TextBox__description>\n        }\n\n        {errors.length > 0 &&\n          <bem.TextBox__error>\n            {errors.join('\\n')}\n          </bem.TextBox__error>\n        }\n      </bem.TextBox>\n    );\n  }\n}\n\nexport default TextBox;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport './checkbox-and-radio.scss';\n\ntype CheckboxProps = {\n  checked: boolean\n  disabled?: boolean\n  onChange: Function\n  label: string\n  /** Only needed if checkbox is in submittable form. */\n  name?: string\n};\n\n/** A checkbox generic component. */\nclass Checkbox extends React.Component<CheckboxProps, {}> {\n  constructor(props: CheckboxProps){\n    if (typeof props.onChange !== 'function') {\n      throw new Error('onChange callback missing!');\n    }\n    super(props);\n    autoBind(this);\n  }\n\n  onChange(evt: React.ChangeEvent<HTMLInputElement>) {\n    this.props.onChange(evt.currentTarget.checked);\n  }\n\n  render() {\n    const wrapperModifiers = [];\n    if (this.props.disabled) {\n      // needed to disable pointer cursor\n      wrapperModifiers.push('disabled');\n    }\n\n    return (\n      <bem.Checkbox m={wrapperModifiers}>\n        {/*\n          * The wrapper element is `<label>` to make everything inside of it\n          * clickable, so we don't need `id`s.\n          */}\n        <bem.Checkbox__wrapper>\n          <bem.Checkbox__input\n            type='checkbox'\n            name={this.props.name}\n            onChange={this.onChange}\n            checked={this.props.checked}\n            disabled={this.props.disabled}\n          />\n\n          {this.props.label &&\n            <bem.Checkbox__label>\n              {this.props.label}\n            </bem.Checkbox__label>\n          }\n        </bem.Checkbox__wrapper>\n      </bem.Checkbox>\n    );\n  }\n}\n\nexport default Checkbox;\n","import clonedeep from 'lodash.clonedeep';\nimport {ASSET_TYPES} from 'js/constants';\n\n/**\n * Asset type could be either the loaded asset type (editing an existing form)\n * or the desired asset type (creating a new form)\n *\n * @returns {object|null} one of ASSET_TYPES\n */\nexport function getFormBuilderAssetType(assetType, desiredAssetType) {\n  if (assetType && ASSET_TYPES[assetType]) {\n    return ASSET_TYPES[assetType];\n  } else if (desiredAssetType && ASSET_TYPES[desiredAssetType]) {\n    return ASSET_TYPES[desiredAssetType];\n  }\n  return null;\n}\n\nexport function surveyToValidJson(survey) {\n  // HACK: This is done as a fix for https://github.com/kobotoolbox/kpi/pull/735\n  // I'm not entirely sure what this is about but definitely BAD CODE™!\n  //\n  // skip logic references only preserved after initial call\n  // to \"survey.toFlatJSON()\"\n  survey.toFlatJSON();\n  // returning the result of the second call to \"toFlatJSON()\"\n  return JSON.stringify(survey.toFlatJSON());\n}\n\n/**\n * This function reverses what `nullifyTranslations` did to the form data.\n * @param {string} surveyDataJSON\n * @param {object} assetContent\n * @return {string} fixed surveyDataJSON\n */\nexport function unnullifyTranslations(surveyDataJSON, assetContent) {\n  let surveyData = JSON.parse(surveyDataJSON);\n\n  let translatedProps = [];\n  if (assetContent.translated) {\n     translatedProps = assetContent.translated;\n  }\n\n  // TRANSLATIONS HACK (Part 2/2):\n  // set default_language\n  let defaultLang = assetContent.translations_0;\n  if (!defaultLang) {\n    defaultLang = null;\n  }\n  if (!surveyData.settings[0].default_language && defaultLang !== null) {\n    surveyData.settings[0].default_language = defaultLang;\n  }\n\n  if (defaultLang !== null) {\n    // replace every \"translatedProp\" with \"translatedProp::defaultLang\"\n    if (surveyData.choices) {\n      surveyData.choices.forEach((choice) => {\n        translatedProps.forEach((translatedProp) => {\n          if (typeof choice[translatedProp] !== 'undefined') {\n            choice[`${translatedProp}::${defaultLang}`] = choice[translatedProp];\n            delete choice[translatedProp];\n          }\n        });\n      });\n    }\n    if (surveyData.survey) {\n      surveyData.survey.forEach((surveyRow) => {\n        translatedProps.forEach((translatedProp) => {\n          if (typeof surveyRow[translatedProp] !== 'undefined') {\n            if (typeof surveyData.settings[0] !== 'undefined'\n                && typeof surveyData.settings[0].style === 'string'\n                && surveyData.settings[0].style.includes('theme-grid')\n                && surveyRow.type === 'begin_group'\n                && (surveyRow[translatedProp] === null || surveyRow[translatedProp] === '')) {\n              delete surveyRow[translatedProp];\n            }\n            surveyRow[`${translatedProp}::${defaultLang}`] = surveyRow[translatedProp];\n            delete surveyRow[translatedProp];\n          }\n        });\n      });\n    }\n  }\n\n  return JSON.stringify(surveyData);\n}\n\n/**\n * @typedef NullifiedTranslations\n * @property {object} survey - Modified survey.\n * @property {Array<string|null>} translations - Modified translations.\n * @property {Array<string|null>} translations_0 - The original default language name.\n */\n\n/**\n * A function that adjust the translations data to the Form Builder code.\n * Requires the sibling `unnullifyTranslations` function to be called before\n * saving the form.\n * @param {Array<string|null>} [translations]\n * @param {Array<string>} translatedProps\n * @param {Array<object>} survey\n * @param {object} baseSurvey\n * @return {NullifiedTranslations}\n */\nexport function nullifyTranslations(translations, translatedProps, survey, baseSurvey) {\n  const data = {\n    survey: clonedeep(survey),\n    translations: clonedeep(translations)\n  };\n\n  if (typeof translations === 'undefined') {\n    data.translations = [null];\n    return data;\n  }\n\n  if (data.translations.length > 1 && data.translations.indexOf(null) !== -1) {\n    throw new Error('There is an unnamed translation in your form definition.\\nPlease give a name to all translations in your form.\\nUse \"Manage Translations\" option from form landing page.');\n  }\n\n  /*\n  TRANSLATIONS HACK (Part 1/2):\n  all the coffee code assumes first language to be null, and we don't want\n  to introduce potential code-breaking refactor in old code, so we store\n  first language, then replace with null and reverse this just before saving\n  NOTE: when importing assets from Library into form, we need to make sure\n  the default language is the same (or force baseSurvey default language)\n  */\n  if (baseSurvey) {\n    const formDefaultLang = baseSurvey._initialParams.translations_0 || null;\n    if (data.translations[0] === formDefaultLang) {\n      // case 1: nothing to do - same default language in both\n    } else if (data.translations.includes(formDefaultLang)) {\n      // case 2: imported asset has form default language but not as first, so\n      // we need to reorder things\n      const defaultLangIndex = data.translations.indexOf(formDefaultLang);\n      data.translations.unshift(data.translations.pop(defaultLangIndex));\n      data.survey.forEach((row) => {\n        translatedProps.forEach((translatedProp) => {\n          const transletedPropArr = row[translatedProp];\n          if (transletedPropArr) {\n            transletedPropArr.unshift(transletedPropArr.pop(defaultLangIndex));\n          }\n        });\n      });\n    }\n\n    if (!data.translations.includes(formDefaultLang)) {\n      // case 3: imported asset doesn't have form default language, so we\n      // force it onto the asset as the first language and try setting some\n      // meaningful property value\n      data.translations.unshift(formDefaultLang);\n      data.survey.forEach((row) => {\n        translatedProps.forEach((translatedProp) => {\n          if (row[translatedProp]) {\n            let propVal = null;\n            if (row.name) {\n              propVal = row.name;\n            } else if (row.$autoname) {\n              propVal = row.$autoname;\n            }\n            row[translatedProp].unshift(propVal);\n          }\n        });\n      });\n    }\n  }\n\n  // no need to nullify null\n  if (data.translations[0] !== null) {\n    data.translations_0 = data.translations[0];\n    data.translations[0] = null;\n  }\n\n  return data;\n}\n\nexport function koboMatrixParser(params) {\n  let content = {};\n  if (params.content)\n    content = JSON.parse(params.content);\n  if (params.source)\n    content = JSON.parse(params.source);\n\n  if (!content.survey)\n    return params;\n\n  var hasMatrix = false;\n  var surveyLength = content.survey.length;\n\n  // add open/close tags for kobomatrix groups\n  for (var i = 0; i < surveyLength; i++) {\n    if (content.survey[i].type === 'kobomatrix') {\n      content.survey[i].type = 'begin_kobomatrix';\n      content.survey[i].appearance = 'field-list';\n      surveyLength++;\n      content.survey.splice(i + 1, 0, {type: 'end_kobomatrix', '$kuid': `/${content.survey[i].$kuid}`});\n    }\n  }\n\n  // add columns as items in the group\n  for (i = 0; i < surveyLength; i++) {\n    if (content.survey[i].type === 'begin_kobomatrix') {\n      var j = i;\n      hasMatrix = true;\n      var matrix = localStorage.getItem(`koboMatrix.${content.survey[i].$kuid}`);\n\n      if (matrix != null) {\n        matrix = JSON.parse(matrix);\n        for (var kuid of matrix.cols) {\n          i++;\n          surveyLength++;\n          content.survey.splice(i, 0, matrix[kuid]);\n        }\n\n        for (var k of Object.keys(matrix.choices)) {\n          content.choices.push(matrix.choices[k]);\n        }\n      }\n      // TODO: handle corrupt matrix data\n    }\n  }\n\n  if (hasMatrix) {\n    if (params.content)\n      params.content = JSON.stringify(content);\n    if (params.source)\n      params.source = JSON.stringify(content);\n  }\n  return params;\n}\n\nexport function readParameters(str) {\n  if (typeof str !== 'string') {\n    return null;\n  }\n\n  const params = {};\n\n  let separator = ' ';\n  if (str.includes(';')) {\n    separator = ';';\n  } else if (str.includes(',')) {\n    separator = ',';\n  }\n  const otherSeparators = ';, '.replace(separator, '');\n  const cleanStr = str.replace(new RegExp(' *= *', 'g'), '=');\n  const parts = cleanStr.split(new RegExp(`[${otherSeparators}]*${separator}[${otherSeparators}]*`, 'g'));\n\n  parts.forEach((part) => {\n    if (part.includes('=')) {\n      const key = part.slice(0, part.indexOf('='));\n      const value = part.slice(key.length + 1);\n      params[key] = value;\n    }\n  });\n\n  if (Object.keys(params).length < 1) {\n    return null;\n  }\n  return params;\n}\n\nexport function writeParameters(obj) {\n  let params = [];\n  Object.keys(obj).forEach((key) => {\n    if (obj[key] !== undefined && obj[key] !== null) {\n      let value = obj[key];\n      if (typeof value === 'object') {\n        value = JSON.stringify(value);\n      }\n      params.push(`${key}=${value}`);\n    }\n  });\n  return params.join(';');\n}\n","/*\n * NOTE: before using this file to check if route matches current route, please\n * try using react router way (we have it set up in `mixins.es6` as\n * `contextRouter` methods)\n *\n * This file has a list of functions that allows for simple checking if given\n * route matches current route. It uses hashHistory from react router and a list\n * of defined ROUTES.\n */\n\nimport {hashHistory} from 'react-router';\nimport {\n  ROUTES,\n  PATHS,\n} from 'js/router/routerConstants';\n\nexport function redirectToLogin() {\n  window.location.replace(getLoginUrl());\n}\n\n/**\n * @returns {string} login url with a `next` parameter - after logging in, the\n * app will redirect to the next url\n */\nexport function getLoginUrl() {\n  let url = PATHS.LOGIN;\n  const currentLoc = hashHistory.getCurrentLocation();\n  if (currentLoc?.pathname) {\n    const nextUrl = encodeURIComponent(`/#${currentLoc.pathname}`);\n    // add redirection after logging in to current page\n    url += `?next=${nextUrl}`;\n  }\n  return url;\n}\n\nexport function getCurrentPath(): string {\n  return hashHistory.getCurrentLocation().pathname;\n}\n\n/*\n * A list of functions that match routes defined in constants\n */\n\nexport function isRootRoute(): boolean {\n  return getCurrentPath() === ROUTES.ROOT;\n}\n\nexport function isAccountSettingsRoute(): boolean {\n  return getCurrentPath() === ROUTES.ACCOUNT_SETTINGS;\n}\n\nexport function isChangePasswordRoute(): boolean {\n  return getCurrentPath() === ROUTES.CHANGE_PASSWORD;\n}\n\nexport function isLibraryRoute(): boolean {\n  return getCurrentPath() === ROUTES.LIBRARY;\n}\n\nexport function isMyLibraryRoute(): boolean {\n  return getCurrentPath() === ROUTES.MY_LIBRARY;\n}\n\nexport function isPublicCollectionsRoute(): boolean {\n  return getCurrentPath() === ROUTES.PUBLIC_COLLECTIONS;\n}\n\nexport function isNewLibraryItemRoute(): boolean {\n  return getCurrentPath() === ROUTES.NEW_LIBRARY_ITEM;\n}\n\nexport function isLibraryItemRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.LIBRARY_ITEM.replace(':uid', uid);\n}\n\nexport function isEditLibraryItemRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.EDIT_LIBRARY_ITEM.replace(':uid', uid);\n}\n\nexport function isNewLibraryChildRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.NEW_LIBRARY_CHILD.replace(':uid', uid);\n}\n\nexport function isLibraryItemJsonRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.LIBRARY_ITEM_JSON.replace(':uid', uid);\n}\n\nexport function isLibraryItemXformRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.LIBRARY_ITEM_XFORM.replace(':uid', uid);\n}\n\nexport function isFormsRoute(): boolean {\n  return getCurrentPath() === ROUTES.FORMS;\n}\n\nexport function isFormRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM.replace(':uid', uid);\n}\n\nexport function isFormJsonRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_JSON.replace(':uid', uid);\n}\n\nexport function isFormXformRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_XFORM.replace(':uid', uid);\n}\n\nexport function isFormEditRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_EDIT.replace(':uid', uid);\n}\n\nexport function isFormSummaryRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_SUMMARY.replace(':uid', uid);\n}\n\nexport function isFormLandingRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_LANDING.replace(':uid', uid);\n}\n\nexport function isFormDataRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_DATA.replace(':uid', uid);\n}\n\nexport function isFormReportRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_REPORT.replace(':uid', uid);\n}\n\nexport function isFormTableRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_TABLE.replace(':uid', uid);\n}\n\nexport function isFormDownloadsRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_DOWNLOADS.replace(':uid', uid);\n}\n\nexport function isFormGalleryRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_GALLERY.replace(':uid', uid);\n}\n\nexport function isFormMapRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_MAP.replace(':uid', uid);\n}\n\nexport function isFormMapByRoute(uid: string, viewby: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_MAP_BY.replace(':uid', uid).replace(':viewby', viewby);\n}\n\nexport function isFormSettingsRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_SETTINGS.replace(':uid', uid);\n}\n\nexport function isFormMediaRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_MEDIA.replace(':uid', uid);\n}\n\nexport function isFormSharingRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_SHARING.replace(':uid', uid);\n}\n\nexport function isFormRestRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_REST.replace(':uid', uid);\n}\n\nexport function isFormRestHookRoute(uid: string, hookUid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_REST_HOOK.replace(':uid', uid).replace(':hookUid', hookUid);\n}\n\nexport function isFormKobocatRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_KOBOCAT.replace(':uid', uid);\n}\n\nexport function isFormResetRoute(uid: string): boolean {\n  return getCurrentPath() === ROUTES.FORM_RESET.replace(':uid', uid);\n}\n\n/*\n * Additional functions\n */\n\nexport function isAnyFormsRoute(): boolean {\n  return getCurrentPath().startsWith(ROUTES.FORMS);\n}\n\nexport function isAnyLibraryRoute(): boolean {\n  return getCurrentPath().startsWith(ROUTES.LIBRARY);\n}\n\n/**\n * Checks if on any `/library/asset/…` route.\n */\nexport function isAnyLibraryItemRoute(): boolean {\n  // disregard the `:uid` parameter in url, as we are interested in any asset uid\n  return getCurrentPath().startsWith(ROUTES.LIBRARY_ITEM.replace(':uid', ''));\n}\n\n/**\n * Checks if on any `/forms/…` route.\n */\nexport function isAnyFormRoute(): boolean {\n  // disregard the `:uid` parameter in url, as we are interested in any asset uid\n  return getCurrentPath().startsWith(ROUTES.FORM.replace(':uid', ''));\n}\n\n/**\n * Returns asset uid from path if there is any\n */\nexport function getRouteAssetUid(): string|void {\n  if (isAnyFormRoute()) {\n    return getCurrentPath().split('/')[2];\n  }\n\n  if (isAnyLibraryItemRoute()) {\n    return getCurrentPath().split('/')[3];\n  }\n}\n","import Reflux from 'reflux';\nimport clonedeep from 'lodash.clonedeep';\nimport assetStore from 'js/assetStore';\nimport mixins from 'js/mixins';\nimport {actions} from 'js/actions';\nimport {getRouteAssetUid} from 'js/router/routerUtils';\nimport {getSurveyFlatPaths} from 'js/assetUtils';\nimport {\n  PERMISSIONS_CODENAMES,\n  QUESTION_TYPES,\n  GROUP_TYPES_BEGIN,\n  GROUP_TYPES_END,\n} from 'js/constants';\nimport {\n  EXCLUDED_COLUMNS,\n  VALIDATION_STATUS_ID_PROP,\n  SUBMISSION_ACTIONS_ID,\n  DATA_TABLE_SETTING,\n  DATA_TABLE_SETTINGS,\n} from 'js/components/submissions/tableConstants';\n\n/**\n * TODO: tableStore should be handling all data required by table.es6, but as\n * this would mean a huge refactor, we will stick to providing a one way\n * interface for changing things in asset plus some utility functions.\n *\n * NOTE: To simplify code a bit, we assume this will be used only on the table\n * route - i.e. assetUid comes from url, and asset from other stores.\n *\n * Use these actions listeners to be up to date:\n * - `actions.table.updateSettings`\n */\nconst tableStore = Reflux.createStore({\n  /**\n   * We use overrides for users with no permissions\n   */\n  data: {\n    overrides: {\n      // starts empty, but all possible properties are:\n      // - DATA_TABLE_SETTINGS.SHOW_GROUP\n      // - DATA_TABLE_SETTINGS.TRANSLATION\n      // - DATA_TABLE_SETTINGS.SHOW_HXL\n      // - DATA_TABLE_SETTINGS.SORT_BY\n    },\n  },\n\n  /**\n   * @returns {object} settings or empty object if no settings exist\n   */\n  getTableSettings() {\n    let tableSettings = {};\n\n    const asset = this.getCurrentAsset();\n    if (\n      asset?.settings &&\n      asset?.settings[DATA_TABLE_SETTING]\n    ) {\n      // clone settings, as we will possibly overwrite some of them\n      tableSettings = clonedeep(asset.settings[DATA_TABLE_SETTING]);\n\n      // overrides take precedense over asset endpoint settings\n      if (typeof this.data.overrides[DATA_TABLE_SETTINGS.SHOW_GROUP] !== 'undefined') {\n        tableSettings[DATA_TABLE_SETTINGS.SHOW_GROUP] = this.data.overrides[DATA_TABLE_SETTINGS.SHOW_GROUP];\n      }\n      if (typeof this.data.overrides[DATA_TABLE_SETTINGS.TRANSLATION] !== 'undefined') {\n        tableSettings[DATA_TABLE_SETTINGS.TRANSLATION] = this.data.overrides[DATA_TABLE_SETTINGS.TRANSLATION];\n      }\n      if (typeof this.data.overrides[DATA_TABLE_SETTINGS.SHOW_HXL] !== 'undefined') {\n        tableSettings[DATA_TABLE_SETTINGS.SHOW_HXL] = this.data.overrides[DATA_TABLE_SETTINGS.SHOW_HXL];\n      }\n      if (typeof this.data.overrides[DATA_TABLE_SETTINGS.SORT_BY] !== 'undefined') {\n        tableSettings[DATA_TABLE_SETTINGS.SORT_BY] = this.data.overrides[DATA_TABLE_SETTINGS.SORT_BY];\n      }\n    }\n\n    return tableSettings;\n  },\n\n  /**\n   * @param {object} newTableSettings - will be merged into current settings, overwriting any DATA_TABLE_SETTING properties\n   */\n  saveTableSettings(newTableSettings) {\n    const asset = this.getCurrentAsset();\n\n    // get whole asset settings (as clone to avoid bugs) to not lose existing\n    // settings that are not updated by newTableSettings\n    const newSettings = clonedeep(asset.settings);\n\n    // settings object doesn't even have DATA_TABLE_SETTING, we can pass newTableSettings\n    if (!newSettings[DATA_TABLE_SETTING]) {\n      newSettings[DATA_TABLE_SETTING] = newTableSettings;\n    // settings exist, so we merge them\n    } else {\n      newSettings[DATA_TABLE_SETTING] = Object.assign(\n        newSettings[DATA_TABLE_SETTING],\n        newTableSettings\n      );\n    }\n\n    // Case 1: use can save, so we call the endpoint\n    if (asset && mixins.permissions.userCan(PERMISSIONS_CODENAMES.change_asset, asset)) {\n      // Cleanup all `null` settings, as we don't want to store `null`s and `null`\n      // means \"delete setting\"\n      Object.keys(newSettings[DATA_TABLE_SETTING]).forEach((key) => {\n        if (newSettings[DATA_TABLE_SETTING][key] === null) {\n          delete newSettings[DATA_TABLE_SETTING][key];\n        }\n      });\n      actions.table.updateSettings(asset.uid, newSettings);\n    } else {\n      // Case 2: user can't save, so we store temporary overrides\n      this.setOverrides(newSettings[DATA_TABLE_SETTING]);\n    }\n  },\n\n  /**\n   * @param {object} newOverrides\n   */\n  setOverrides(newOverrides) {\n    const prevData = clonedeep(this.data);\n\n    if (typeof newOverrides[DATA_TABLE_SETTINGS.SHOW_GROUP] !== 'undefined') {\n      this.data.overrides[DATA_TABLE_SETTINGS.SHOW_GROUP] = newOverrides[DATA_TABLE_SETTINGS.SHOW_GROUP];\n    }\n    if (typeof newOverrides[DATA_TABLE_SETTINGS.TRANSLATION] !== 'undefined') {\n      this.data.overrides[DATA_TABLE_SETTINGS.TRANSLATION] = newOverrides[DATA_TABLE_SETTINGS.TRANSLATION];\n    }\n    if (typeof newOverrides[DATA_TABLE_SETTINGS.SHOW_HXL] !== 'undefined') {\n      this.data.overrides[DATA_TABLE_SETTINGS.SHOW_HXL] = newOverrides[DATA_TABLE_SETTINGS.SHOW_HXL];\n    }\n    if (typeof newOverrides[DATA_TABLE_SETTINGS.SORT_BY] !== 'undefined') {\n      this.data.overrides[DATA_TABLE_SETTINGS.SORT_BY] = newOverrides[DATA_TABLE_SETTINGS.SORT_BY];\n    }\n\n    this.trigger(prevData, this.data);\n  },\n\n  /**\n   * A shortcut method, to be deleted in future.\n   */\n  getCurrentAsset() {\n    return assetStore.getAsset(getRouteAssetUid());\n  },\n\n  /**\n   * @param {object[]} submissions - list of submissions\n   * @returns {string[]} a unique list of columns (keys) that should be displayed to users\n   */\n  getAllColumns(submissions) {\n    const asset = this.getCurrentAsset();\n    const flatPaths = getSurveyFlatPaths(asset.content.survey);\n\n    // add all questions from the survey definition\n    let output = Object.values(flatPaths);\n\n    // Gather unique columns from all visible submissions and add them to output\n    const dataKeys = Object.keys(submissions.reduce(function (result, obj) {\n      return Object.assign(result, obj);\n    }, {}));\n    output = [...new Set([...dataKeys, ...output])];\n\n    // exclude some technical non-data columns\n    output = output.filter((key) => EXCLUDED_COLUMNS.includes(key) === false);\n\n    // exclude notes\n    output = output.filter((key) => {\n      const foundPathKey = Object.keys(flatPaths).find(\n        (pathKey) => flatPaths[pathKey] === key\n      );\n\n\n      // no path means this definitely is not a note type\n      if (!foundPathKey) {\n        return true;\n      }\n\n      const foundNoteRow = asset.content.survey.find(\n        (row) =>\n          typeof foundPathKey !== 'undefined' &&\n          (foundPathKey === row.name || foundPathKey === row.$autoname) &&\n          row.type === QUESTION_TYPES.note.id\n      );\n\n      if (typeof foundNoteRow !== 'undefined') {\n        // filter out this row as this is a note type\n        return false;\n      }\n\n      return true;\n    });\n\n    // exclude kobomatrix rows as data is not directly tied to them, but\n    // to rows user answered to, thus making these columns always empty\n    const excludedMatrixKeys = [];\n    let isInsideKoboMatrix = false;\n    asset.content.survey.forEach((row) => {\n      if (row.type === GROUP_TYPES_BEGIN.begin_kobomatrix) {\n        isInsideKoboMatrix = true;\n      } else if (row.type === GROUP_TYPES_END.end_kobomatrix) {\n        isInsideKoboMatrix = false;\n      } else if (isInsideKoboMatrix) {\n        const rowPath = flatPaths[row.name] || flatPaths[row.$autoname];\n        excludedMatrixKeys.push(rowPath);\n      }\n    });\n    output = output.filter((key) => excludedMatrixKeys.includes(key) === false);\n\n    // exclude repeat groups as we don't handle them in table yet\n    const excludedRepeatGroups = [];\n    const flatPathsWithGroups = getSurveyFlatPaths(asset.content.survey, true);\n    asset.content.survey.forEach((row) => {\n      if (row.type === GROUP_TYPES_BEGIN.begin_repeat) {\n        const rowPath = flatPathsWithGroups[row.name] || flatPathsWithGroups[row.$autoname];\n        excludedRepeatGroups.push(rowPath);\n      }\n    });\n    output = output.filter((key) => excludedRepeatGroups.includes(key) === false);\n\n    return output;\n  },\n\n  /**\n   * @param {object[]} submissions - list of submissions\n   * @returns {string[]} a list of columns that user can hide\n   */\n  getHideableColumns(submissions) {\n    const columns = this.getAllColumns(submissions);\n    columns.push(VALIDATION_STATUS_ID_PROP);\n    return columns;\n  },\n\n  /**\n   * @returns {string[]|null} a list of selected columns from table settings,\n   * `null` means no selection, i.e. all columns\n   */\n  getSelectedColumns() {\n    const tableSettings = this.getTableSettings();\n    if (Array.isArray(tableSettings[DATA_TABLE_SETTINGS.SELECTED_COLUMNS])) {\n      return tableSettings[DATA_TABLE_SETTINGS.SELECTED_COLUMNS];\n    }\n    return null;\n  },\n\n  /**\n   * @returns {string|null} the current frozen column\n   */\n  getFrozenColumn() {\n    let frozenColumn = null;\n    const tableSettings = this.getTableSettings();\n    if (typeof tableSettings[DATA_TABLE_SETTINGS.FROZEN_COLUMN] !== 'undefined') {\n      frozenColumn = tableSettings[DATA_TABLE_SETTINGS.FROZEN_COLUMN];\n    }\n    return frozenColumn;\n  },\n\n  /**\n   * @param {string} fieldId\n   * @returns {boolean}\n   */\n  isFieldVisible(fieldId) {\n    // frozen column is never hidden\n    if (this.isFieldFrozen(fieldId)) {\n      return true;\n    }\n\n    // submission actions is never hidden\n    if (fieldId === SUBMISSION_ACTIONS_ID) {\n      return true;\n    }\n\n    const selectedColumns = this.getSelectedColumns();\n    // nothing is selected, so all columns are visible\n    if (selectedColumns === null) {\n      return true;\n    }\n\n    if (Array.isArray(selectedColumns)) {\n      return selectedColumns.includes(fieldId);\n    }\n\n    return true;\n  },\n\n  /**\n   * @param {object} asset\n   * @param {string} fieldId\n   * @returns {boolean}\n   */\n  isFieldFrozen(fieldId) {\n    return this.getFrozenColumn() === fieldId;\n  },\n\n  /**\n   * @param {string} fieldId\n   * @param {boolean} isFrozen\n   */\n  setFrozenColumn(fieldId, isFrozen) {\n    // NOTE: Currently we only support one frozen column at a time, so that is\n    // why making column not-frozen means we just null-ify the value, without\n    // checking what column is frozen now.\n    let newVal = null;\n    if (isFrozen) {\n      newVal = fieldId;\n    }\n    const settingsObj = {};\n    settingsObj[DATA_TABLE_SETTINGS.FROZEN_COLUMN] = newVal;\n    this.saveTableSettings(settingsObj);\n  },\n\n  /**\n   * @param {string} fieldId\n   * @returns {string|null} null for no option, or one of SORT_VALUES\n   */\n  getFieldSortValue(fieldId) {\n    const sortBy = this.getSortBy();\n    if (sortBy === null) {\n      return null;\n    }\n\n    if (sortBy?.fieldId === fieldId) {\n      return sortBy.value;\n    }\n\n    return null;\n  },\n\n  /**\n   * @param {string} fieldId\n   * @param {string|null} sortValue one of SORT_VALUES or null for clear value\n   */\n  setSortBy(fieldId, sortValue) {\n    let newSortBy = null;\n    if (sortValue !== null) {\n      newSortBy = {\n        fieldId: fieldId,\n        value: sortValue,\n      };\n    }\n\n    const settingsObj = {};\n    settingsObj[DATA_TABLE_SETTINGS.SORT_BY] = newSortBy;\n    this.saveTableSettings(settingsObj);\n  },\n\n  /**\n   * @returns {object|null} the current sort by value\n   */\n  getSortBy() {\n    let sortBy = null;\n    const tableSettings = this.getTableSettings();\n    if (typeof tableSettings[DATA_TABLE_SETTINGS.SORT_BY] !== 'undefined') {\n      sortBy = tableSettings[DATA_TABLE_SETTINGS.SORT_BY];\n    }\n    return sortBy;\n  },\n\n  showAllFields() {\n    const settingsObj = {};\n    settingsObj[DATA_TABLE_SETTINGS.SELECTED_COLUMNS] = null;\n    this.saveTableSettings(settingsObj);\n  },\n\n  /**\n   * Show single column - shortcut method for setFieldsVisibility\n   * @param {object[]} submissions\n   * @param {string} fieldId\n   */\n  showField(submissions, fieldId) {\n    const selectedColumns = this.getSelectedColumns();\n\n    // We start with `null` just to be safe, but the case when selectedColumns\n    // is `null` already (i.e. all columns visible) and we show column should\n    // never happen.\n    let newSelectedColumns = null;\n\n    // Some fields are selected and we show one column\n    if (Array.isArray(selectedColumns)) {\n      newSelectedColumns = [...selectedColumns];\n      newSelectedColumns.push(fieldId);\n    }\n\n    this.setFieldsVisibility(submissions, newSelectedColumns);\n  },\n\n  /**\n   * Hide single column - a shortcut method for setFieldsVisibility\n   * @param {object[]} submissions\n   * @param {string} fieldId\n   */\n  hideField(submissions, fieldId) {\n    const selectedColumns = this.getSelectedColumns();\n    const hideableColumns = this.getHideableColumns(submissions);\n\n    let newSelectedColumns = [];\n\n    // Case 1: nothing selected and we hide one column, i.e. we need to select all but one\n    if (selectedColumns === null) {\n      newSelectedColumns = [...hideableColumns];\n      newSelectedColumns.splice(newSelectedColumns.indexOf(fieldId), 1);\n    }\n\n    // Case 2: some fields selected and we hide one column\n    if (Array.isArray(selectedColumns)) {\n      newSelectedColumns = [...selectedColumns];\n      newSelectedColumns.splice(newSelectedColumns.indexOf(fieldId), 1);\n    }\n\n    this.setFieldsVisibility(submissions, newSelectedColumns);\n  },\n\n  /**\n   * @param {object[]} submissions\n   * @param {string[]} columnsToBeVisible\n   */\n  setFieldsVisibility(submissions, columnsToBeVisible) {\n    const hideableColumns = this.getHideableColumns(submissions);\n    let newSelectedColumns = columnsToBeVisible;\n\n    // If we make all possible columns visible, we save `null` value\n    if (newSelectedColumns.length === hideableColumns.length) {\n      newSelectedColumns = null;\n    }\n\n    const settingsObj = {};\n    settingsObj[DATA_TABLE_SETTINGS.SELECTED_COLUMNS] = newSelectedColumns;\n\n    // If current frozen column is not in the newSelectedColumns, we need to\n    // unfreeze it.\n    const frozenColumn = this.getFrozenColumn();\n    if (frozenColumn !== null && !newSelectedColumns.includes(frozenColumn)) {\n      // Currently we allow only one frozen column, so we just set it to `null`.\n      settingsObj[DATA_TABLE_SETTINGS.FROZEN_COLUMN] = null;\n    }\n\n    // If we are hiding the column that data is sorted by, we need to unsort it.\n    const sortBy = this.getSortBy();\n    if (\n      sortBy !== null &&\n      typeof sortBy === 'object' &&\n      !newSelectedColumns.includes(sortBy.fieldId)\n    ) {\n      // Currently we allow only one sort column, so we just set it to `null`.\n      settingsObj[DATA_TABLE_SETTINGS.SORT_BY] = null;\n    }\n\n    this.saveTableSettings(settingsObj);\n  },\n\n  /**\n   * @returns {boolean} whether to show group names, `true` by default\n   */\n  getShowGroupName() {\n    let showGroupName = true;\n    const tableSettings = this.getTableSettings();\n    if (typeof tableSettings[DATA_TABLE_SETTINGS.SHOW_GROUP] !== 'undefined') {\n      showGroupName = tableSettings[DATA_TABLE_SETTINGS.SHOW_GROUP];\n    }\n    return showGroupName;\n  },\n\n  /**\n   * @returns {number} chosen translation index, `0` by default\n   */\n  getTranslationIndex() {\n    let translationIndex = 0;\n    const tableSettings = this.getTableSettings();\n    if (typeof tableSettings[DATA_TABLE_SETTINGS.TRANSLATION] !== 'undefined') {\n      translationIndex = tableSettings[DATA_TABLE_SETTINGS.TRANSLATION];\n    }\n    return translationIndex;\n  },\n\n  /**\n   * @returns {boolean} whether to show HXL tags, `false` by default\n   */\n  getShowHXLTags() {\n    let showHXLTags = false;\n    const tableSettings = this.getTableSettings();\n    if (typeof tableSettings[DATA_TABLE_SETTINGS.SHOW_HXL] !== 'undefined') {\n      showHXLTags = tableSettings[DATA_TABLE_SETTINGS.SHOW_HXL];\n    }\n    return showHXLTags;\n  },\n});\n\nexport default tableStore;\n","_ = require 'underscore'\n$skipLogicParser = require './model.skipLogicParser'\n$validationLogicParser = require './model.validationLogicParser'\n\nmodule.exports = do ->\n\n  utils =\n    skipLogicParser: $skipLogicParser\n    validationLogicParser: $validationLogicParser\n\n  _trim = (str)->\n    str.replace(/^[\\s\\t\\uFEFF\\xA0]+|[\\s\\t\\uFEFF\\xA0]+$/g, '')\n\n  utils.split_paste = (str)->\n    out = []\n    for row in str.split('\\n')\n      trimmed = _trim(row)\n      unless trimmed.match(/^\\s*$/)\n        out.push(trimmed.split(/\\t/))\n    out_out = []\n    for row in out[1..]\n      orow = []\n      for n in [0...row.length]\n        key = out[0][n]\n        val = row[n]\n        if val.length > 0\n          orow.push([key, val])\n      out_out.push(_.object(orow))\n    out_out\n\n  utils.txtid = ()->\n    # a is text\n    # b is numeric or text\n    # c is mishmash\n    o = 'AAnCAnn'.replace /[AaCn]/g, (c)->\n      randChar= ()->\n        charI = Math.floor(Math.random()*52)\n        charI += (if charI <= 25 then 65 else 71)\n        String.fromCharCode charI\n\n      r = Math.random()\n      if c is 'a'\n        randChar()\n      else if c is 'A'\n        String.fromCharCode 65+(r*26|0)\n      else if c is 'C'\n        newI = Math.floor(r*62)\n        if newI > 52 then (newI - 52) else randChar()\n      else if c is 'n'\n        Math.floor(r*10)\n    o.toLowerCase()\n\n  utils.parseHelper =\n    parseSkipLogic: (collection, value, parent_row) ->\n      collection.meta.set(\"rawValue\", value)\n      try\n        parsedValues = $skipLogicParser(value)\n        collection.reset()\n        collection.parseable = true\n        for crit in parsedValues.criteria\n          opts = {\n            name: crit.name\n            expressionCode: crit.operator\n          }\n          if crit.operator is \"multiplechoice_selected\"\n            opts.criterionOption = collection.getSurvey().findRowByName(crit.name).getList().options.get(crit.response_value)\n          else\n            opts.criterion = crit.response_value\n          collection.add(opts, silent: true, _parent: parent_row)\n        if parsedValues.operator\n          collection.meta.set(\"delimSelect\", parsedValues.operator.toLowerCase())\n        ``\n      catch e\n        collection.parseable = false\n\n  utils.sluggifyLabel = (str, other_names=[])->\n    utils.sluggify(str, {\n        preventDuplicates: other_names\n        lowerCase: false\n        preventDuplicateUnderscores: true\n        stripSpaces: true\n        lrstrip: true\n        incrementorPadding: 3\n        validXmlTag: true\n      })\n\n  utils.isValidXmlTag = (str)->\n    str.search(/^[a-zA-Z_:]([a-zA-Z0-9_:.])*$/) is 0\n\n  utils.sluggify = (str, opts={})->\n    if str == ''\n      return ''\n    # Convert text to a friendly format. Rules are passed as options\n    opts = _.defaults(opts, {\n        # l/r strip: strip spaces from begin/end of string\n        lrstrip: false\n        lstrip: false\n        rstrip: false\n        # descriptor: used in error messages\n        descriptor: \"slug\"\n        lowerCase: true\n        replaceNonWordCharacters: true\n        nonWordCharsExceptions: false\n        preventDuplicateUnderscores: false\n        validXmlTag: false\n        underscores: true\n        characterLimit: 30\n        # preventDuplicates: an array with a list of values that should be avoided\n        preventDuplicates: false\n        incrementorPadding: false\n      })\n\n    if opts.lrstrip\n      opts.lstrip = true\n      opts.rstrip = true\n\n    if opts.lstrip\n      str = str.replace(/^\\s+/, \"\")\n\n    if opts.rstrip\n      str = str.replace(/\\s+$/, \"\")\n\n    if opts.lowerCase\n      str = str.toLowerCase()\n\n    if opts.underscores\n      str = str.replace(/\\s/g, \"_\").replace(/[_]+/g, \"_\")\n\n    if opts.replaceNonWordCharacters\n      if opts.nonWordCharsExceptions\n        regex = ///\\W^[#{opts.nonWordCharsExceptions}]///g\n      else\n        regex = /\\W+/g\n      str = str.replace(regex, '_')\n      # possibly a bit specific, but removes an underscore from the end\n      # of the string\n      if str.match(/._$/)\n        str = str.replace(/_$/, '')\n\n    if _.isNumber opts.characterLimit\n      str = str.slice(0, opts.characterLimit)\n\n    if opts.validXmlTag\n      if str[0].match(/^\\d/)\n        str = \"_\" + str\n\n    if opts.preventDuplicateUnderscores\n      while str.search(/__/) isnt -1\n        str = str.replace(/__/, '_')\n\n    if _.isArray(opts.preventDuplicates)\n      str = do ->\n        names_lc = (name.toLowerCase()  for name in opts.preventDuplicates when name)\n        attempt_base = str\n\n        if attempt_base.length is 0\n          throw new Error(\"Renaming Error: #{opts.descriptor} is empty\")\n\n        attempt = attempt_base\n        increment = 0\n        while attempt.toLowerCase() in names_lc\n          increment++\n          increment_str = \"#{increment}\"\n          if opts.incrementorPadding and increment < Math.pow(10, opts.incrementorPadding)\n            increment_str = (\"000000000000\" + increment).slice(-1 * opts.incrementorPadding)\n          attempt = \"#{attempt_base}_#{increment_str}\"\n        attempt\n\n    str\n\n  utils\n","import Reflux from 'reflux';\nimport {parsed} from './assetParserUtils';\nimport {actions} from './actions';\n\nclass AssetStore extends Reflux.Store {\n  data: {[uid: string]: AssetResponse} = {};\n\n  init() {\n    actions.resources.loadAsset.completed.listen(this.onLoadAssetCompleted.bind(this));\n    actions.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this));\n  }\n\n  onUpdateAssetCompleted(resp: AssetResponse) {\n    this.data[resp.uid] = parsed(resp);\n    this.trigger(this.data);\n  }\n\n  onLoadAssetCompleted(resp: AssetResponse) {\n    if (!resp.uid) {\n      throw new Error('no uid found in response');\n    }\n    this.data[resp.uid] = parsed(resp);\n    this.trigger(this.data);\n  }\n\n  getAsset(assetUid: string): AssetResponse | undefined {\n    return this.data[assetUid];\n  }\n}\n\n/**\n * This store keeps only full assets (i.e. ones with `content`)\n */\nconst assetStore = new AssetStore();\nassetStore.init();\n\nexport default assetStore;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport {KEY_CODES} from 'js/constants';\nimport bem from 'js/bem';\nimport classNames from 'classnames';\nimport './modal.scss';\n\n/**\n * A generic modal component.\n *\n * @prop {function} onClose\n * @prop {string} title\n * @prop {boolean} small\n * @prop {boolean} isDuplicated\n * @prop {string} className\n * @prop {boolean} open\n * @prop {boolean} large\n * @prop {string} icon\n * @prop {node} children\n */\nexport default class Modal extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.escFunction);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.escFunction);\n  }\n\n  escFunction(evt) {\n    if (evt.keyCode === KEY_CODES.ESC || evt.key === 'Escape') {\n      this.props.onClose.call(evt);\n    }\n  }\n\n  backdropClick(evt) {\n    if (evt.currentTarget === evt.target) {\n      this.props.onClose.call(evt);\n    }\n  }\n\n  renderTitle() {\n    if (!this.props.title) {\n      return null;\n    } else if (this.props.small) {\n      return (\n        <div>\n          <bem.Modal__title>{this.props.title}</bem.Modal__title>\n          <h6>{this.props.small}</h6>\n        </div>\n      );\n    } else {\n      return (\n        <bem.Modal__title>{this.props.title}</bem.Modal__title>\n      );\n    }\n  }\n\n  renderClose() {\n    if (this.props.isDuplicated) {\n      return(\n        <a className='modal__done' type='button' onClick={this.props.onClose}>\n          {t('DONE')}\n        </a>\n      );\n    } else {\n      return(\n        <a className='modal__x' type='button' onClick={this.props.onClose}>\n          <i className='k-icon k-icon-close'/>\n        </a>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <bem.Modal__backdrop onClick={this.backdropClick}>\n        <div className={classNames(\n          'modal',\n          this.props.className,\n          this.props.open ? 'modal--open' : null,\n          this.props.large ? 'modal--large' : null,\n          this.props.icon ? 'modal--withicon' : null\n        )}>\n          {this.props.icon &&\n            <i className={classNames('modal_icon', `modal_icon--${this.props.icon}`)} />\n          }\n          <bem.Modal__content>\n            <bem.Modal__header>\n              {!this.props.customModalHeader &&\n                this.renderTitle()\n              }\n              {this.props.customModalHeader}\n              {this.renderClose()}\n            </bem.Modal__header>\n            {this.props.children}\n          </bem.Modal__content>\n        </div>\n      </bem.Modal__backdrop>\n    );\n  }\n}\n\n/**\n * @prop {node} children\n */\nclass Footer extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (<bem.Modal__footer>{this.props.children}</bem.Modal__footer>);\n  }\n}\nModal.Footer = Footer;\n\n/**\n * @prop {node} children\n */\nclass Body extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (<bem.Modal__body>{this.props.children}</bem.Modal__body>);\n  }\n}\nModal.Body = Body;\n\n/**\n * @prop {node} children\n */\nclass Tabs extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return <bem.Modal__tabs>{this.props.children}</bem.Modal__tabs>;\n  }\n}\nModal.Tabs = Tabs;\n","import _ from 'underscore';\nimport Reflux from 'reflux';\nimport {hashHistory} from 'react-router';\nimport {\n  SEARCH_CONTEXTS,\n  searchBoxStore\n} from '../header/searchBoxStore';\nimport assetUtils from 'js/assetUtils';\nimport {\n  getCurrentPath,\n  isAnyLibraryRoute,\n} from 'js/router/routerUtils';\nimport {actions} from 'js/actions';\nimport {\n  ORDER_DIRECTIONS,\n  ASSETS_TABLE_COLUMNS\n} from './libraryConstants';\nimport {ROUTES} from 'js/router/routerConstants';\n\nconst myLibraryStore = Reflux.createStore({\n  /**\n   * A method for aborting current XHR fetch request.\n   * It doesn't need to be defined upfront, but I'm adding it here for clarity.\n   */\n  abortFetchData: undefined,\n  previousPath: getCurrentPath(),\n  previousSearchPhrase: searchBoxStore.getSearchPhrase(),\n  PAGE_SIZE: 100,\n  DEFAULT_ORDER_COLUMN: ASSETS_TABLE_COLUMNS['date-modified'],\n\n  isInitialised: false,\n\n  data: {\n    isFetchingData: false,\n    currentPage: 0,\n    totalPages: null,\n    totalUserAssets: null,\n    totalSearchAssets: null,\n    assets: [],\n    metadata: {}\n  },\n\n  init() {\n    this.fetchDataDebounced = _.debounce(this.fetchData.bind(true), 2500);\n\n    this.setDefaultColumns();\n\n    hashHistory.listen(this.onRouteChange.bind(this));\n    searchBoxStore.listen(this.searchBoxStoreChanged);\n    actions.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted);\n    actions.library.subscribeToCollection.completed.listen(this.fetchData.bind(this, true));\n    actions.library.unsubscribeFromCollection.completed.listen(this.fetchData.bind(this, true));\n    actions.library.searchMyLibraryAssets.started.listen(this.onSearchStarted);\n    actions.library.searchMyLibraryAssets.completed.listen(this.onSearchCompleted);\n    actions.library.searchMyLibraryAssets.failed.listen(this.onSearchFailed);\n    actions.library.searchMyLibraryMetadata.completed.listen(this.onSearchMetadataCompleted);\n    actions.resources.loadAsset.completed.listen(this.onAssetChanged);\n    actions.resources.updateAsset.completed.listen(this.onAssetChanged);\n    actions.resources.cloneAsset.completed.listen(this.onAssetCreated);\n    actions.resources.createResource.completed.listen(this.onAssetCreated);\n    actions.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted);\n    // TODO Improve reaction to uploads being finished after task is done:\n    // https://github.com/kobotoolbox/kpi/issues/476\n    actions.resources.createImport.completed.listen(this.fetchDataDebounced);\n\n    // startup store after config is ready\n    actions.permissions.getConfig.completed.listen(this.startupStore);\n  },\n\n  /**\n   * Only makes a call to BE when loaded app on a library route\n   * otherwise wait until route changes to a library (see `onRouteChange`)\n   */\n  startupStore() {\n    if (!this.isInitialised && isAnyLibraryRoute() && !this.data.isFetchingData) {\n      this.fetchData(true);\n    }\n  },\n\n  setDefaultColumns() {\n    this.data.orderColumnId = this.DEFAULT_ORDER_COLUMN.id;\n    this.data.orderValue = this.DEFAULT_ORDER_COLUMN.defaultValue;\n    this.data.filterColumnId = null;\n    this.data.filterValue = null;\n  },\n\n  // methods for handling search and data fetch\n\n  /**\n   * @return {object} search params shared by all searches\n   */\n  getSearchParams() {\n    const params = {\n      searchPhrase: searchBoxStore.getSearchPhrase(),\n      pageSize: this.PAGE_SIZE,\n      page: this.data.currentPage,\n      collectionsFirst: true\n    };\n\n    if (this.data.filterColumnId !== null) {\n      const filterColumn = ASSETS_TABLE_COLUMNS[this.data.filterColumnId];\n      params.filterProperty = filterColumn.filterBy;\n      params.filterValue = this.data.filterValue;\n    }\n\n    // Surrounds `filterValue` with double quotes to avoid filters that have\n    // spaces which would split the query in two, thus breaking the filter\n    if (params.filterValue !== undefined) {\n      params.filterValue = JSON.stringify(params.filterValue); // Adds quotes\n    }\n\n    return params;\n  },\n\n  fetchMetadata() {\n    actions.library.searchMyLibraryMetadata(this.getSearchParams());\n  },\n\n  /**\n   * @param {boolean} needsMetadata\n   */\n  fetchData(needsMetadata = false) {\n    if (this.abortFetchData) {\n      this.abortFetchData();\n    }\n\n    const params = this.getSearchParams();\n\n    params.metadata = needsMetadata;\n\n    const orderColumn = ASSETS_TABLE_COLUMNS[this.data.orderColumnId];\n    const direction = this.data.orderValue === ORDER_DIRECTIONS.ascending ? '' : '-';\n    params.ordering = `${direction}${orderColumn.orderBy}`;\n\n    actions.library.searchMyLibraryAssets(params);\n  },\n\n  onRouteChange(data) {\n    if (!this.isInitialised && isAnyLibraryRoute() && !this.data.isFetchingData) {\n      this.fetchData(true);\n    } else if (\n      (\n        // coming from outside of library\n        this.previousPath.split('/')[1] !== 'library' ||\n        // public-collections is a special case that is kinda in library, but\n        // actually outside of it\n        this.previousPath.startsWith(ROUTES.PUBLIC_COLLECTIONS)\n      ) &&\n      isAnyLibraryRoute()\n    ) {\n      // refresh data when navigating into library from other place\n      this.setDefaultColumns();\n      this.fetchData(true);\n    }\n    this.previousPath = data.pathname;\n  },\n\n  searchBoxStoreChanged() {\n    if (\n      searchBoxStore.getContext() === SEARCH_CONTEXTS.MY_LIBRARY &&\n      searchBoxStore.getSearchPhrase() !== this.previousSearchPhrase\n    ) {\n      // reset to first page when search changes\n      this.data.currentPage = 0;\n      this.data.totalPages = null;\n      this.data.totalSearchAssets = null;\n      this.previousSearchPhrase = searchBoxStore.getSearchPhrase();\n      this.fetchData(true);\n    }\n  },\n\n  onSearchStarted(abort) {\n    this.abortFetchData = abort;\n    this.data.isFetchingData = true;\n    this.trigger(this.data);\n  },\n\n  onSearchCompleted(response) {\n    delete this.abortFetchData;\n    this.data.totalPages = Math.ceil(response.count / this.PAGE_SIZE);\n    this.data.assets = response.results;\n    // if we didn't fetch metadata, we assume it didn't change so leave current one\n    if (response.metadata) {\n      this.data.metadata = response.metadata;\n    }\n    this.data.totalSearchAssets = response.count;\n    // update total count for the first time and the ones that will get a full count\n    if (this.data.totalUserAssets === null || searchBoxStore.getSearchPhrase() === '') {\n      this.data.totalUserAssets = this.data.totalSearchAssets;\n    }\n    this.data.isFetchingData = false;\n    this.isInitialised = true;\n    this.trigger(this.data);\n  },\n\n  onSearchFailed() {\n    delete this.abortFetchData;\n    this.data.isFetchingData = false;\n    this.trigger(this.data);\n  },\n\n  onSearchMetadataCompleted(response) {\n    this.data.metadata = response;\n    this.trigger(this.data);\n  },\n\n  // methods for handling actions that update assets\n\n  onMoveToCollectionCompleted(asset) {\n    if (assetUtils.isLibraryAsset(asset.asset_type)) {\n      // update total root assets after moving asset into/out of collection\n      if (asset.parent === null) {\n        this.data.totalUserAssets++;\n      } else {\n        this.data.totalUserAssets--;\n      }\n      this.fetchData(true);\n    }\n  },\n\n  onAssetChanged(asset) {\n    if (\n      assetUtils.isLibraryAsset(asset.asset_type) &&\n      this.data.assets.length !== 0\n    ) {\n      let wasUpdated = false;\n      for (let i = 0; i < this.data.assets.length; i++) {\n        const loopAsset = this.data.assets[i];\n        if (\n          loopAsset.uid === asset.uid &&\n          (\n            // if the changed asset didn't change (e.g. was just loaded)\n            // let's not cause it to fetchMetadata\n            loopAsset.date_modified !== asset.date_modified ||\n            loopAsset.version_id !== asset.version_id\n          )\n        ) {\n          this.data.assets[i] = asset;\n          wasUpdated = true;\n          break;\n        }\n      }\n      if (wasUpdated) {\n        this.trigger(this.data);\n        this.fetchMetadata();\n      }\n    }\n  },\n\n  onAssetCreated(asset) {\n    if (\n      assetUtils.isLibraryAsset(asset.asset_type) &&\n      asset.parent === null\n    ) {\n      this.data.totalUserAssets++;\n      this.fetchData(true);\n    }\n  },\n\n  onDeleteAssetCompleted({uid, assetType}) {\n    if (assetUtils.isLibraryAsset(assetType)) {\n      const found = this.findAsset(uid);\n      if (found) {\n        this.data.totalUserAssets--;\n        this.fetchData(true);\n      }\n      // if not found it is possible it is on other page of results, but it is\n      // not important enough to do a data fetch\n    }\n  },\n\n  // public methods\n\n  setCurrentPage(newCurrentPage) {\n    this.data.currentPage = newCurrentPage;\n    this.fetchData();\n  },\n\n  /**\n   * @param {string} orderColumnId\n   * @param {string} orderValue\n   */\n  setOrder(orderColumnId, orderValue) {\n    if (\n      this.data.orderColumnId !== orderColumnId ||\n      this.data.orderValue !== orderValue\n    ) {\n      this.data.orderColumnId = orderColumnId;\n      this.data.orderValue = orderValue;\n      this.fetchData();\n    }\n  },\n\n  /**\n   * @param {string|null} filterColumnId - pass null to clear filter column\n   * @param {string} filterValue - pass null to clear filter column\n   */\n  setFilter(filterColumnId, filterValue) {\n    if (\n      this.data.filterColumnId !== filterColumnId ||\n      this.data.filterValue !== filterValue\n    ) {\n      this.data.filterColumnId = filterColumnId;\n      this.data.filterValue = filterValue;\n      // When a filter is selected, the pages reflects the total number of\n      // filtered assets, so we have to reset page number to display them\n      // properly, otherwise we can be out of bounds.\n      this.data.currentPage = 0;\n      this.fetchData(true);\n    }\n  },\n\n  resetOrderAndFilter() {\n    this.setDefaultColumns();\n    this.fetchData(true);\n  },\n\n  hasAllDefaultValues() {\n    return (\n      this.data.orderColumnId === this.DEFAULT_ORDER_COLUMN.id &&\n      this.data.orderValue === this.DEFAULT_ORDER_COLUMN.defaultValue &&\n      this.data.filterColumnId === null &&\n      this.data.filterValue === null\n    );\n  },\n\n  getCurrentUserTotalAssets() {\n    return this.data.totalUserAssets;\n  },\n\n  findAsset(uid) {\n    return this.data.assets.find((asset) => {return asset.uid === uid;});\n  },\n\n  findAssetByUrl(url) {\n    return this.data.assets.find((asset) => {return asset.url === url;});\n  }\n});\n\nexport default myLibraryStore;\n","/**\n * This module provides a combination of Reflux actions and stores that trigger\n * and keep searches data in different contexts. Most of the times it should be\n * your de facto way of getting a lists of assets, as to use global search\n * context everywhere.\n */\n\nimport _ from 'underscore';\nimport Reflux from 'reflux';\nimport SparkMD5 from 'spark-md5';\n\nimport {stores} from './stores';\nimport {actions} from './actions';\nimport {dataInterface} from './dataInterface';\nimport {assign} from 'utils';\nimport {parsed} from './assetParserUtils';\n\nconst emptySearchState = {\n  searchState: 'none',\n  searchResults: false,\n  searchResultsList: [],\n  searchFilterParams: {},\n  searchResultsDisplayed: false,\n  searchResultsFor: false,\n  searchResultsSuccess: null,\n  searchDebugQuery: false,\n  searchResultsCount: 0,\n  parentUid: false,\n  parentName: false,\n  allPublic: false,\n};\nconst initialState = assign({\n  cleared: false,\n\n  defaultQueryState: 'none',\n  defaultQueryFor: '',\n  defaultQueryDebug: '',\n  defaultQueryFilterParams: {},\n  defaultQueryResults: '',\n  defaultQueryResultsList: [],\n  defaultQueryCount: 0,\n}, emptySearchState);\n\nfunction SearchContext(opts={}) {\n  var ctx = this;\n  var debounceTime = opts.debounceTime || 500;\n  var jqxhrs = {};\n\n  var search = Reflux.createAction({\n    children: [\n      'completed',\n      'failed',\n      'cancel',\n      'refresh',\n    ]\n  });\n\n  let latestSearchData;\n\n  const searchStore = ctx.store = Reflux.createStore({\n    init () {\n      this.filterParams = {};\n      this.state = {\n        searchState: 'none',\n      };\n\n      this.listenTo(actions.resources.updateAsset.completed, this.setAsset);\n      this.listenTo(actions.resources.deployAsset.completed, this.setAsset);\n      this.listenTo(actions.resources.createResource.completed, this.setAsset);\n      this.listenTo(actions.resources.cloneAsset.completed, this.setAsset);\n      this.listenTo(actions.resources.setDeploymentActive.completed, this.setAsset);\n      this.listenTo(actions.resources.deleteAsset.completed, this.removeAsset);\n      this.listenTo(actions.permissions.removeAssetPermission.completed, this.removeAsset);\n    },\n    // add/update asset in all search store lists\n    setAsset(asset) {\n      // only update things if given asset matches the current context types\n      if (this.state.defaultQueryFilterParams?.assetType.includes(asset.asset_type)) {\n        this.setAssetInList(asset, 'defaultQueryResultsList');\n        this.setAssetInList(asset, 'searchResultsList');\n        this.rebuildCategorizedList(\n          this.state.defaultQueryResultsList,\n          'defaultQueryCategorizedResultsLists'\n        );\n        this.rebuildCategorizedList(\n          this.state.searchResultsList,\n          'searchResultsCategorizedResultsLists'\n        );\n      }\n    },\n    setAssetInList(asset, listName) {\n      const list = this.state[listName];\n      if (list && list.length !== 0) {\n        const updateObj = {};\n        let isNewAsset = true;\n        for (let i = 0; i < list.length; i++) {\n          if (list[i].uid === asset.uid) {\n            list[i] = asset;\n            isNewAsset = false;\n            break;\n          }\n        }\n        if (isNewAsset) {\n          // we add asset on top, because it's update event (freshly modified)\n          list.unshift(asset);\n        }\n        updateObj[listName] = list;\n        this.update(updateObj);\n      }\n    },\n    rebuildCategorizedList(sourceResults, listName) {\n      const catList = this.state[listName];\n      // If the last asset is removed, the list will not rebuild and\n      // the store keeps the asset appended with `deleted: true` to avoid being\n      // shown to user\n      if (catList && sourceResults && sourceResults.length !== 0) {\n        const updateObj = {};\n        updateObj[listName] = splitResultsToCategorized(sourceResults);\n        this.update(updateObj);\n        // HACK FIX: when self removing permissions from unowned asset, or\n        // deleting a draft, the `deleted: true` attribute is missing from the\n        // leftover removed asset\n      } else if (catList && sourceResults && sourceResults.length === 0) {\n        let updateObj = catList;\n        for (const item in updateObj) {\n          // This fix is only relevant to removing the last asset so\n          // we can indiscriminately pick the only asset in store lists\n          if (updateObj[item].length > 0) {\n            updateObj[item][0].deleted = 'true';\n          }\n        }\n        this.update(updateObj);\n      }\n    },\n    // remove asset from all search store lists\n    removeAsset(assetOrUid, isNonOwner) {\n      let asset;\n      if (typeof assetOrUid === 'object') {\n        asset = assetOrUid;\n      } else {\n        asset = stores.selectedAsset.asset || stores.allAssets.byUid[assetOrUid];\n      }\n      // non-owner self permission removal only gives an assetUid string, not\n      // an object; for consistency we make it an object here\n      // only runs if `isNonOwner` is true, so no need to add `assetType` to\n      // fake object\n      if (!asset) {\n       asset = {uid: assetOrUid};\n      }\n\n      // only update things if given asset matches the current context types or\n      // a non-owner removed their own permissions\n      if (\n        isNonOwner ||\n        this.state.defaultQueryFilterParams?.assetType.includes(asset.assetType)\n      ) {\n        this.removeAssetFromList(asset.uid, 'defaultQueryResultsList');\n        this.removeAssetFromList(asset.uid, 'searchResultsList');\n        this.rebuildCategorizedList(\n          this.state.defaultQueryResultsList,\n          'defaultQueryCategorizedResultsLists'\n        );\n        this.rebuildCategorizedList(\n          this.state.searchResultsList,\n          'searchResultsCategorizedResultsLists'\n        );\n      }\n    },\n    removeAssetFromList(assetUid, listName) {\n      let list = this.state[listName];\n      if (list && list.length !== 0) {\n        const updateObj = {};\n        list = list.filter((asset) => {\n          return asset.uid !== assetUid;\n        });\n        updateObj[listName] = list;\n        this.update(updateObj);\n      }\n    },\n    update (items) {\n      this.quietUpdate(items);\n      this.triggerState();\n    },\n    triggerState () {\n      this.trigger(this.state);\n    },\n    quietUpdate (items) {\n      if (!items.cleared) {\n        items.cleared = false;\n      }\n      assign(this.state, items);\n    },\n    filterTagQueryData () {\n      if (this.filterTags) {\n        return {\n          q: this.filterTags,\n        };\n      }\n    },\n    removeItem (key) {\n      delete this.state[key];\n    },\n    toDataObject () {\n      var params = {};\n      if (this.state.searchTags) {\n        params.tags = this.state.searchTags;\n      }\n      if (this.state.searchString) {\n        params.string = this.state.searchString;\n      }\n      if (this.state.parentUid) {\n        params.parentUid = `parent__uid:${this.state.parentUid}`;\n      }\n      if (this.state.parentName) {\n        params.parentName = this.state.parentName;\n      }\n      if (this.state.allPublic === true) {\n        params.allPublic = true;\n      }\n      return assign({}, this.filterParams, params);\n    },\n    toQueryData (dataObject) {\n      var searchParams = dataObject || this.toDataObject(),\n          // _searchParamsClone = assign({}, searchParams),\n          paramGroups = [],\n          queryData = {};\n\n      if ('tags' in searchParams) {\n        if (searchParams.tags && searchParams.tags.length > 0) {\n          paramGroups.push(\n              searchParams.tags.map(function(t){\n                return `tag:\"${t.value}\"`;\n              }).join(' AND ')\n            );\n        }\n        delete searchParams.tags;\n      }\n      if ('string' in searchParams) {\n        if (searchParams.string && searchParams.string.length > 0) {\n          paramGroups.push(\n              searchParams.string\n            );\n        }\n        delete searchParams.string;\n      }\n      if ('parent' in searchParams) {\n        if (searchParams.parent && searchParams.parent.length > 0) {\n          queryData.parent = searchParams.parent;\n        }\n        delete searchParams.parent;\n      }\n      if ('allPublic' in searchParams) {\n        queryData.all_public = searchParams.allPublic;\n        delete searchParams.allPublic;\n      }\n      if ('parentName' in searchParams) {\n        delete searchParams.parentName;\n      }\n      paramGroups = paramGroups.concat(_.values(searchParams));\n      if (paramGroups.length > 1) {\n        queryData.q = paramGroups.map(function(s){\n          return `(${s})`;\n        }).join(' AND ');\n      } else if (paramGroups.length === 1) {\n        queryData.q = paramGroups[0];\n      }\n      return queryData;\n    },\n  });\n\n  const splitResultsToCategorized = function (results) {\n    return {\n      Deployed: results.filter((asset) => {\n        return asset.has_deployment && asset.deployment__active;\n      }),\n      Draft: results.filter((asset) => {\n        return !asset.has_deployment;\n      }),\n      Archived: results.filter((asset) => {\n        return asset.has_deployment && !asset.deployment__active;\n      })\n    }\n  };\n\n  const assetsHash = function(assets) {\n    if (assets.length < 1) {\n      return false;\n    }\n\n    let assetVersionIds = assets.map((asset) => {\n      return asset.version_id;\n    });\n    // Sort alphabetically, same as backend sort\n    assetVersionIds.sort();\n\n    return SparkMD5.hash(assetVersionIds.join(''));\n  };\n\n  search.listen(function(_opts={}){\n    /*\n    search will query whatever values are in the store\n    and will pass the values back to the store to be reflected\n    in the components' states.\n    */\n    var dataObject = searchStore.toDataObject();\n    var _dataObjectClone = assign({}, dataObject);\n    var qData = searchStore.toQueryData(dataObject);\n    var isSearch = !_opts.cacheAsDefaultSearch;\n\n    // we can clean this up later, but right now, if the search query is empty\n    // it cancels the search\n    /*\n    if (((d)=>{\n      if (_opts.cacheAsDefaultSearch) {\n        return false;\n      }\n\n      var hasTags = d.tags && d.tags.length && d.tags.length > 0;\n      var hasString = d.string && d.string.length && d.string.length > 0;\n      return !hasTags && !hasString;\n    })(_dataObjectClone)) {\n      return search.cancel();\n    }\n    */\n    if (isSearch) {\n      // cancel existing searches\n      if (jqxhrs.search) {\n        jqxhrs.search.searchAborted = true;\n        jqxhrs.search.abort();\n        jqxhrs.search = false;\n      }\n    }\n    latestSearchData = {params: qData, dataObject: dataObject};\n    var req = actions.search.assets(qData, {\n      onComplete: function(searchData, response) {\n        search.completed(dataObject, response, {\n          cacheAsDefaultSearch: _opts.cacheAsDefaultSearch,\n        });\n      },\n      onFailed: function(searchData, response) {\n        search.failed(response, dataObject);\n      }\n    })\n\n    jqxhrs[ isSearch ? 'search' : 'default' ] = req;\n\n    if (isSearch) {\n      searchStore.update({\n        searchState: 'loading',\n        searchFor: _dataObjectClone,\n      });\n    } else {\n      searchStore.update({\n        defaultQueryState: 'loading',\n        defaultQueryFor: _dataObjectClone,\n      });\n    }\n  });\n  search.refresh.listen(function(){\n    actions.search.assets(latestSearchData.params, {\n      onComplete: function(searchData, response) {\n        search.completed(latestSearchData.dataObject, response, {\n          cacheAsDefaultSearch: false,\n        });\n      },\n      onFailed: function(searchData, response) {\n        search.failed(response, latestSearchData.dataObject);\n      }\n    });\n  });\n\n  search.completed.listen(function(searchParams, data, _opts){\n    data.results = data.results.map(parsed);\n    data.results.forEach(stores.allAssets.registerAsset);\n\n    var count = data.count;\n\n    var newState;\n\n    if (_opts.cacheAsDefaultSearch) {\n      newState = {\n        defaultQueryState: 'done',\n        defaultQueryFor: searchParams,\n        defaultQueryDebug: searchParams.__builtQueryString,\n        defaultQueryFilterParams: searchStore.filterParams,\n        defaultQueryResults: data,\n        defaultQueryResultsList: data.results,\n        defaultQueryCount: count,\n        defaultQueryCategorizedResultsLists: splitResultsToCategorized(data.results)\n      };\n    } else {\n      newState = {\n        searchState: 'done',\n        searchResultsFor: searchParams,\n        searchDebugQuery: searchParams.__builtQueryString,\n        searchBaseFilterParams: searchStore.filterParams,\n        searchResults: data,\n        // toQueryData() deletes searchParams.tags\n        //searchTags: searchParams.tags,\n        searchResultsList: data.results,\n        searchResultsCount: count,\n\n        // when to show search results (as opposed to default query)\n        searchResultsDisplayed: true,\n        searchResultsSuccess: count > 0,\n        searchResultsCategorizedResultsLists: splitResultsToCategorized(data.results)\n      };\n    }\n    searchStore.update(newState);\n  });\n  search.failed.listen(function(/*searchData, response*/){\n    // if (xhr.searchAborted) {\n    //   log('search was canceled because a new search came up')\n    // }\n    // searchStore.update({\n    //   searchState: 'failed',\n    // })\n  });\n  search.cancel.listen(function(){\n    if (jqxhrs.search) {\n      jqxhrs.search.abort();\n    }\n    searchStore.update(assign({\n      cleared: true\n    }, emptySearchState));\n  });\n  this.mixin = {\n    debouncedSearch: ( debounceTime ? _.debounce(search, debounceTime) : search ),\n    searchValue: search,\n    updateStore (vals) {\n      searchStore.update(vals);\n    },\n    quietUpdateStore (vals) {\n      searchStore.quietUpdate(vals);\n    },\n    searchStore: searchStore,\n    searchSemaphore: function () {\n      // when searchStore exists, display current result set and compare hashes in background,\n      // if hashes don't match, relaunch search (otherwise, current result set is same as BE)\n\n      if (searchStore.state.defaultQueryResultsList === undefined) {\n        this.searchDefault();\n      } else {\n        searchStore.update({defaultQueryState: 'done'});\n\n        // avoid unauthenticated backend calls\n        if (stores.session.isLoggedIn) {\n          dataInterface.assetsHash()\n          .done((data) => {\n            if (data.hash && data.hash !== assetsHash(searchStore.state.defaultQueryResultsList)) {\n              // if hashes don't match launch new search request\n              this.searchDefault();\n            }\n          })\n          .fail(() => {\n            this.searchDefault();\n          });\n        }\n      }\n    },\n    searchDefault: function () {\n      searchStore.quietUpdate(assign({\n        cleared: true,\n        searchString: false,\n      }, emptySearchState));\n\n      search({\n        cacheAsDefaultSearch: true\n      });\n    },\n    getSearchActions: function(){\n      return {\n        search: search,\n      };\n    },\n  };\n}\n\nvar commonMethods = {\n  getInitialState () {\n    return initialState;\n  },\n  componentDidMount () {\n    this.extendSearchContext();\n  },\n  extendSearchContext () {\n    var ctx,\n        passedCtx = this.props.searchContext || this.state.searchContext;\n    if (passedCtx instanceof SearchContext) {\n      ctx = passedCtx;\n    } else {\n      ctx = getSearchContext(passedCtx);\n    }\n    assign(this, ctx.mixin);\n  },\n  searchTagsChange (tags) {\n    this.quietUpdateStore({\n      searchTags: tags\n    });\n    this.searchValue();\n  },\n  searchCollectionChange (assetUid) {\n    this.quietUpdateStore({\n      parentUid: assetUid\n    });\n    this.searchValue();\n  },\n  searchChangeEvent (evt) {\n    let searchString = evt.target.value.trim();\n    // don't trigger search on identical strings (e.g. multiple spaces)\n    if (this.searchStore.state.searchString !== searchString) {\n      this.quietUpdateStore({\n        searchString: searchString,\n      });\n      this.debouncedSearch();\n    }\n  },\n  searchClear () {\n    this.searchStore.removeItem('searchString');\n    this.searchStore.removeItem('searchTags');\n    this.getSearchActions().search.cancel();\n  },\n};\n\nfunction isSearchContext (ctx) {\n  return (ctx instanceof SearchContext);\n}\n\nvar contexts = {};\n\nfunction getSearchContext(name, opts={}) {\n  if (!contexts[name]) {\n    contexts[name] = new SearchContext();\n  }\n  if (opts.filterParams) {\n    contexts[name].store.filterParams = opts.filterParams;\n  }\n  if (opts.showDefault) {\n    contexts[name].store.showDefault = opts.showDefault;\n  }\n  if (opts.filterTags) {\n    contexts[name].store.filterTags = opts.filterTags;\n  }\n  return contexts[name];\n}\n\nexport const searches = {\n  getSearchContext: getSearchContext,\n  common: commonMethods,\n  isSearchContext: isSearchContext,\n};\n","import permConfig from './permConfig';\nimport {\n  ANON_USERNAME,\n  PERMISSIONS_CODENAMES,\n} from 'js/constants';\nimport {\n  SUFFIX_PARTIAL,\n  SUFFIX_USERS,\n  PARTIAL_CHECKBOX_PAIRS,\n  PARTIAL_PERM_PAIRS,\n  CHECKBOX_NAMES,\n  CHECKBOX_PERM_PAIRS,\n  PERM_CHECKBOX_PAIRS,\n} from './permConstants';\nimport {\n  buildUserUrl,\n  getUsernameFromUrl,\n} from 'utils';\n\n/**\n * @typedef {Object} BackendPerm\n * @property {string} user - User url.\n * @property {string} permission - Permission url.\n */\n\n/**\n * @typedef {Object} FormData  - Object containing data from the UserAssetPermsEditor form.\n * @property {string} data.username - Who give permissions to.\n * @property {boolean} data.formView\n * @property {boolean} data.formEdit\n * @property {boolean} data.formManage\n * @property {boolean} data.submissionsAdd\n * @property {boolean} data.submissionsView\n * @property {boolean} data.submissionsViewPartial\n * @property {string[]} data.submissionsViewPartialUsers\n * @property {boolean} data.submissionsEdit\n * @property {boolean} data.submissionsEditPartial\n * @property {string[]} data.submissionsEditPartialUsers\n * @property {boolean} data.submissionsDelete\n * @property {boolean} data.submissionsDeletePartial\n * @property {string[]} data.submissionsDeletePartialUsers\n * @property {boolean} data.submissionsValidate\n * @property {boolean} data.submissionsValidatePartial\n * @property {string[]} data.submissionsValidatePartialUsers\n */\n\n/**\n * @typedef {Object} UserPerm\n * @property {string} url - Url of given permission instance (permission x user).\n * @property {string} permission - Url of given permission type.\n */\n\n/**\n * @typedef {Object} UserWithPerms\n * @property {Object} user\n * @property {string} user.url - User url (identifier).\n * @property {string} user.name - User name.\n * @property {boolean} user.isOwner - Marks user that owns an asset that the permissions are for.\n * @property {UserPerm[]} permissions - A list of permissions for that user.\n */\n\n/**\n * Builds an object understandable by Backend endpoints from form data.\n * Removes contradictory and implied permissions from final output.\n *\n * @param {FormData} data\n * @returns {BackendPerm[]} - An array of permissions to be given.\n */\nfunction parseFormData(data) {\n  let parsed = [];\n  // Gather all partial permissions first, and then build a partial_submissions\n  // grouped permission to add it to final data.\n  let partialPerms = [];\n\n  [\n    CHECKBOX_NAMES.formView,\n    CHECKBOX_NAMES.formEdit,\n    CHECKBOX_NAMES.formManage,\n    CHECKBOX_NAMES.submissionsAdd,\n    CHECKBOX_NAMES.submissionsView,\n    CHECKBOX_NAMES.submissionsEdit,\n    CHECKBOX_NAMES.submissionsValidate,\n    CHECKBOX_NAMES.submissionsDelete,\n  ].forEach((checkboxName) => {\n    const partialCheckboxName = PARTIAL_CHECKBOX_PAIRS[checkboxName];\n\n    if (data[partialCheckboxName]) {\n      const permCodename = PARTIAL_PERM_PAIRS[partialCheckboxName];\n      partialPerms.push({\n        url: permConfig.getPermissionByCodename(permCodename).url,\n        filters: [{'_submitted_by': {'$in': data[partialCheckboxName + SUFFIX_USERS]}}],\n      });\n    } else if (data[checkboxName]) {\n      parsed.push(buildBackendPerm(data.username, CHECKBOX_PERM_PAIRS[checkboxName]));\n    }\n  });\n\n  if (partialPerms.length >= 1) {\n    const permObj = buildBackendPerm(data.username, PERMISSIONS_CODENAMES.partial_submissions);\n    permObj.partial_permissions = partialPerms;\n    parsed.push(permObj);\n  }\n\n  parsed = removeContradictoryPerms(parsed);\n  parsed = removeImpliedPerms(parsed);\n\n  return parsed;\n}\n\n/**\n * Removes contradictory permissions from the parsed list of BackendPerms.\n *\n * @param {BackendPerm[]} parsed - A list of permissions.\n */\nfunction removeContradictoryPerms(parsed) {\n  let contraPerms = new Set();\n  parsed.forEach((backendPerm) => {\n    const permDef = permConfig.getPermission(backendPerm.permission);\n    permDef.contradictory.forEach((contraPerm) => {\n      contraPerms.add(contraPerm);\n    });\n  });\n  parsed = parsed.filter((backendPerm) => {\n    return !contraPerms.has(backendPerm.permission);\n  });\n  return parsed;\n}\n\n/**\n * Removes implied permissions from the parsed list of BackendPerms.\n *\n * @param {BackendPerm[]} parsed - A list of permissions.\n */\nfunction removeImpliedPerms(parsed) {\n  let impliedPerms = new Set();\n  parsed.forEach((backendPerm) => {\n    const permDef = permConfig.getPermission(backendPerm.permission);\n    permDef.implied.forEach((impliedPerm) => {\n      impliedPerms.add(impliedPerm);\n    });\n  });\n  parsed = parsed.filter((backendPerm) => {\n    return !impliedPerms.has(backendPerm.permission);\n  });\n  return parsed;\n}\n\n/**\n * @param {string} username\n * @param {string} permissionCodename\n * @returns {BackendPerm}\n */\nfunction buildBackendPerm(username, permissionCodename) {\n  return {\n    user: buildUserUrl(username),\n    permission: permConfig.getPermissionByCodename(permissionCodename).url,\n  };\n}\n\n/**\n * Builds form data from list of permissions.\n *\n * @param {UserPerm[]} permissions\n * @returns {FormData}\n */\nfunction buildFormData(permissions) {\n  const formData = {};\n\n  permissions.forEach((perm) => {\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.view_asset).url) {\n      formData.formView = true;\n    }\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.change_asset).url) {\n      formData.formEdit = true;\n    }\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.manage_asset).url) {\n      formData.formManage = true;\n    }\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.partial_submissions).url) {\n      perm.partial_permissions.forEach((partial) => {\n        const permDef = permConfig.getPermission(partial.url);\n        const checkboxName = PERM_CHECKBOX_PAIRS[permDef.codename] + SUFFIX_PARTIAL;\n\n        formData[checkboxName] = true;\n\n        partial.filters.forEach((filter) => {\n          if (filter._submitted_by) {\n            formData[checkboxName + SUFFIX_USERS] = filter._submitted_by.$in;\n          }\n        });\n      });\n    }\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.add_submissions).url) {\n      formData.submissionsAdd = true;\n    }\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.view_submissions).url) {\n      formData.submissionsView = true;\n    }\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.change_submissions).url) {\n      formData.submissionsEdit = true;\n    }\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.delete_submissions).url) {\n      formData.submissionsDelete = true;\n    }\n    if (perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.validate_submissions).url) {\n      formData.submissionsValidate = true;\n    }\n  });\n\n  return formData;\n}\n\n/**\n * Builds a flat array of permissions for Backend endpoint\n *\n * @param {UserWithPerms[]} data - The one you get from parseBackendData\n * @returns {BackendPerm[]} A flat list of BackendPerms\n */\nfunction parseUserWithPermsList(data) {\n  const output = [];\n  data.forEach((item) => {\n    item.permissions.forEach((itemPerm) => {\n      const outputPerm = {\n        user: item.user.url,\n        permission: itemPerm.permission,\n      };\n      if (itemPerm.partial_permissions) {\n        outputPerm.partial_permissions = itemPerm.partial_permissions;\n      }\n      output.push(outputPerm);\n    });\n  });\n  return output;\n}\n\n/**\n * Groups raw Backend permissions list data into array of users who have a list of permissions.\n *\n * @param {Object} data - Permissions array (results property from endpoint response).\n * @param {string} ownerUrl - Asset owner url (used as identifier).\n * @param {boolean} includeAnon - Whether to include permissions assigned to the anonymous user.\n *\n * @returns {UserWithPerms[]} An ordered list of users with all their permissions.\n */\nfunction parseBackendData(data, ownerUrl, includeAnon = false) {\n  const output = [];\n\n  const groupedData = {};\n  data.forEach((item) => {\n    // anonymous user permissions are our inner way of handling public sharing\n    if (getUsernameFromUrl(item.user) === ANON_USERNAME && !includeAnon) {\n      return;\n    }\n    if (!groupedData[item.user]) {\n      groupedData[item.user] = [];\n    }\n    groupedData[item.user].push({\n      url: item.url,\n      permission: item.permission,\n      partial_permissions: item.partial_permissions ? item.partial_permissions : undefined,\n    });\n  });\n\n  Object.keys(groupedData).forEach((userUrl) => {\n    output.push({\n      user: {\n        url: userUrl,\n        name: getUsernameFromUrl(userUrl),\n        // not all endpoints return user url in the v2 format, so as a fallback\n        // we also check plain old usernames\n        isOwner: (\n          userUrl === ownerUrl ||\n          getUsernameFromUrl(userUrl) === getUsernameFromUrl(ownerUrl)\n        ),\n      },\n      permissions: groupedData[userUrl],\n    });\n  });\n\n  return sortParseBackendOutput(output);\n}\n\n/**\n * Sort by abcs but keep the owner at the top.\n *\n * @param {UserWithPerms[]} output - Possibly unsorted.\n * @returns {UserWithPerms[]} - Definitely sorted.\n */\nfunction sortParseBackendOutput(output) {\n  return output.sort((a, b) => {\n    if (a.user.isOwner) {\n      return -1;\n    } else if (b.user.isOwner) {\n      return 1;\n    } else if (a.user.url < b.user.url) {\n      return -1;\n    } else if (a.user.url > b.user.url) {\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n}\n\nexport const permParser = {\n  parseFormData: parseFormData,\n  buildFormData: buildFormData,\n  parseBackendData: parseBackendData,\n  parseUserWithPermsList: parseUserWithPermsList,\n  sortParseBackendOutput: sortParseBackendOutput, // for testing purposes\n};\n","import Reflux from 'reflux';\nimport {hashHistory} from 'react-router';\nimport {\n  getCurrentPath,\n  isMyLibraryRoute,\n  isPublicCollectionsRoute,\n} from 'js/router/routerUtils';\nimport {createEnum} from 'js/constants';\n\nconst DEFAULT_SEARCH_PHRASE = '';\n\nexport const SEARCH_CONTEXTS = createEnum([\n  'MY_LIBRARY',\n  'PUBLIC_COLLECTIONS',\n]);\n\nexport const searchBoxStore = Reflux.createStore({\n  previousPath: getCurrentPath(),\n  data: {\n    context: null,\n    searchPhrase: DEFAULT_SEARCH_PHRASE,\n  },\n\n  init() {\n    hashHistory.listen(this.onRouteChange.bind(this));\n    this.resetContext();\n  },\n\n  // manages clearing search when switching main routes\n  onRouteChange(data) {\n    if (this.previousPath.split('/')[1] !== data.pathname.split('/')[1]) {\n      this.clear();\n    }\n    this.previousPath = data.pathname;\n\n    this.resetContext();\n  },\n\n  getSearchPhrase() {\n    return this.data.searchPhrase;\n  },\n\n  setSearchPhrase(newVal) {\n    if (this.data.searchPhrase !== newVal) {\n      this.data.searchPhrase = newVal;\n      this.trigger(this.data);\n    }\n  },\n\n  getContext() {\n    return this.data.context;\n  },\n\n  resetContext() {\n    let newContext = null;\n\n    if (isMyLibraryRoute()) {\n      newContext = SEARCH_CONTEXTS.MY_LIBRARY;\n    } else if (isPublicCollectionsRoute()) {\n      newContext = SEARCH_CONTEXTS.PUBLIC_COLLECTIONS;\n    }\n\n    if (this.data.context !== newContext) {\n      this.data.context = newContext;\n      this.data.searchPhrase = DEFAULT_SEARCH_PHRASE;\n      this.trigger(this.data);\n    }\n  },\n\n  clear() {\n    this.setSearchPhrase(DEFAULT_SEARCH_PHRASE);\n  },\n});\n","###\ndefaultSurveyDetails\n--------------------\nThese values will be populated in the form builder and the user\nwill have the option to turn them on or off.\n\nDetails pulled from ODK documents / google docs. Notably this one:\n  https://docs.google.com/spreadsheet/ccc?key=0AgpC5gsTSm_4dDRVOEprRkVuSFZUWTlvclJ6UFRvdFE#gid=0\n###\n\n_ = require 'underscore'\nBackbone = require 'backbone'\n$utils = require './model.utils'\n\nmodule.exports = do ->\n  configs = {}\n  configs.defaultSurveyDetails =\n    start_time:\n      name: \"start\"\n      label: \"start time\"\n      description: \"Records when the survey was begun\"\n      default: true\n    end_time:\n      name: \"end\"\n      label: \"end time\"\n      description: \"records when the survey was marked as completed\"\n      default: true\n    today:\n      name: \"today\"\n      label: \"today\"\n      description: \"includes today's date\"\n      default: false\n    username:\n      name: \"username\"\n      label: \"username\"\n      description: \"includes interviewer's username\"\n      default: false\n    simserial:\n      name: \"simserial\"\n      label: \"sim serial\"\n      description: \"records the serial number of the network sim card\"\n      default: false\n    subscriberid:\n      name: \"subscriberid\"\n      label: \"subscriber id\"\n      description: \"records the subscriber id of the sim card\"\n      default: false\n    deviceid:\n      name: \"deviceid\"\n      label: \"device id\"\n      aliases: [\"imei\"]\n      description: \"Records the internal device ID number (works on Android phones)\"\n      default: false\n    phoneNumber:\n      name: \"phonenumber\"\n      label: \"phone number\"\n      description: \"Records the device's phone number, when available\"\n      default: false\n    audit:\n      name: \"audit\"\n      label: \"audit\"\n      description: \"Records the behavior of enumerators as they navigate through a form\"\n      default: false\n    bg_aud:\n      name: \"background-audio\"\n      label: \"background audio\"\n      description: \"record bg audio\"\n      default: false\n\n  do ->\n    class SurveyDetailSchemaItem extends Backbone.Model\n      _forSurvey: ()->\n        name: @get(\"name\")\n        label: @get(\"label\")\n        description: @get(\"description\")\n\n    class configs.SurveyDetailSchema extends Backbone.Collection\n      model: SurveyDetailSchemaItem\n      typeList: ()->\n        unless @_typeList\n          @_typeList = (item.get(\"name\")  for item in @models)\n        @_typeList\n\n  configs.surveyDetailSchema = new configs.SurveyDetailSchema(_.values(configs.defaultSurveyDetails))\n\n  ###\n  Default values for rows of each question type\n  ###\n  configs.defaultsGeneral =\n    label:\n      value: 'New Question'\n  configs.defaultsForType =\n    geotrace:\n      label:\n        value: \"Record a line\"\n      required:\n        value: false\n        _hideUnlessChanged: true\n    geoshape:\n      label:\n        value: \"Record an area\"\n      required:\n        value: false\n        _hideUnlessChanged: true\n    geopoint:\n      label:\n        value: \"Record your current location\"\n      required:\n        value: false\n        _hideUnlessChanged: true\n    image:\n      label:\n        value: \"Point and shoot! Use the camera to take a photo\"\n    video:\n      label:\n        value: \"Use the camera to record a video\"\n    audio:\n      label:\n        value: \"Use the camera's microphone to record a sound\"\n    file:\n      label:\n        value: \"Upload a file\"\n    note:\n      label:\n        value: \"This note can be read out loud\"\n      required:\n        value: false\n        _hideUnlessChanged: true\n    integer:\n      label:\n        value: \"Enter a number\"\n    barcode:\n      label:\n        value: \"Use the camera to scan a barcode\"\n    decimal:\n      label:\n        value: \"Enter a number\"\n    date:\n      label:\n        value: \"Enter a date\"\n    range:\n      label:\n        value: \"Enter a number within a specified range\"\n    calculate:\n      calculation:\n        value: \"\"\n      label:\n        value: \"calculation\"\n      required:\n        value: false\n        _hideUnlessChanged: true\n    hidden:\n      label:\n        value: \"hidden\"\n      required:\n        value: false\n        _hideUnlessChanged: true\n    datetime:\n      label:\n        value: \"Enter a date and time\"\n    time:\n      label:\n        value: \"Enter a time\"\n    acknowledge:\n      label:\n        value: \"Acknowledge\"\n    'xml-external':\n      label:\n        value: \"File_name\"\n      required:\n        value: false\n        _hideUnlessChanged: true\n\n  configs.paramTypes = {\n    number: 'number',\n    boolean: 'boolean'\n  }\n\n  configs.questionParams = {\n    range: {\n      start: {\n        type: configs.paramTypes.number\n        defaultValue: 0\n      }\n      end: {\n        type: configs.paramTypes.number\n        defaultValue: 10\n      }\n      step: {\n        type: configs.paramTypes.number\n        defaultValue: 1\n      }\n    }\n    image: {\n      'max-pixels': {\n        type: configs.paramTypes.number\n        defaultValue: 1024\n      }\n    }\n    select_one: {\n      randomize: {\n        type: configs.paramTypes.boolean\n      }\n      seed: {\n        type: configs.paramTypes.number\n      }\n    }\n    select_multiple: {\n      randomize: {\n        type: configs.paramTypes.boolean\n      }\n      seed: {\n        type: configs.paramTypes.number\n      }\n    }\n  }\n\n  configs.columns = [\n    \"type\",\n    \"name\",\n    \"label\",\n    \"hint\",\n    \"guidance_hint\",\n    \"required\",\n    \"relevant\",\n    \"default\",\n    \"constraint\"\n  ]\n\n  configs.lookupRowType = do->\n    typeLabels = [\n      [\"note\", \"Note\", preventRequired: true],\n      [\"acknowledge\", \"Acknowledge\"],\n      [\"text\", \"Text\"], # expects text\n      [\"integer\", \"Integer\"], #e.g. 42\n      [\"decimal\", \"Decimal\"], #e.g. 3.14\n      [\"range\", \"Range\"], #e.g. 1-5\n      [\"geopoint\", \"Geopoint (GPS)\"], # Can use satelite GPS coordinates\n      [\"geotrace\", \"Geotrace (GPS)\"], # Can use satelite GPS coordinates\n      [\"geoshape\", \"Geoshape (GPS)\"], # Can use satelite GPS coordinates\n      [\"image\", \"Image\", isMedia: true], # Can use phone camera, for example\n      [\"barcode\", \"Barcode / QR code\"], # Can scan a barcode using the phone camera\n      [\"date\", \"Date\"], #e.g. (4 July, 1776)\n      [\"time\", \"Time\"], #e.g. (4 July, 1776)\n      [\"datetime\", \"Date and Time\"], #e.g. (2012-Jan-4 3:04PM)\n      [\"audio\", \"Audio\", isMedia: true], # Can use phone microphone to record audio\n      [\"video\", \"Video\", isMedia: true], # Can use phone camera to record video\n      [\"file\", \"File\"],\n      [\"calculate\", \"Calculate\"],\n      [\"hidden\", \"Hidden\"],\n      [\"select_one\", \"Select\", orOtherOption: true, specifyChoice: true],\n      [\"score\", \"Score\"],\n      [\"score__row\", \"Score Row\"],\n      [\"rank\", \"Rank\"],\n      [\"kobomatrix\", \"Advanced Matrix\"],\n      [\"rank__level\", \"Rank Level\"],\n      [\"select_multiple\", \"Multiple choice\", orOtherOption: true, specifyChoice: true]\n      [\"xml-external\", \"External XML\"],\n    ]\n\n    class Type\n      constructor: ([@name, @label, opts])->\n        opts = {}  unless opts\n        _.extend(@, opts)\n\n    types = (new Type(arr) for arr in typeLabels)\n\n    exp = (typeId)->\n      for tp in types when tp.name is typeId\n        output = tp\n      output\n\n    exp.typeSelectList = do ->\n      () -> types\n\n    exp\n\n  configs.autoset_kuid = true\n\n  configs.columnOrder = do ->\n    (key)->\n      if -1 is configs.columns.indexOf key\n        configs.columns.push(key)\n      configs.columns.indexOf key\n\n  configs.newRowDetails =\n    name:\n      value: \"\"\n    type:\n      value: \"text\"\n    hint:\n      value: \"\"\n      _hideUnlessChanged: true\n    guidance_hint:\n      value: \"\"\n    required:\n      value: false\n      _hideUnlessChanged: true\n    relevant:\n      value: \"\"\n      _hideUnlessChanged: true\n    default:\n      value: \"\"\n      _hideUnlessChanged: true\n    constraint:\n      value: \"\"\n      _hideUnlessChanged: true\n    constraint_message:\n      value: \"\"\n      _hideUnlessChanged: true\n    tags:\n      value: ''\n      _hideUnlessChanged: true\n    appearance:\n      value: ''\n      _hideUnlessChanged: true\n\n  configs.newGroupDetails =\n    name:\n      value: ->\n        \"group_#{$utils.txtid()}\"\n    label:\n      value: \"Group\"\n    type:\n      value: \"group\"\n    _isRepeat:\n      value: false\n    relevant:\n      value: \"\"\n      _hideUnlessChanged: true\n    appearance:\n      value: ''\n      _hideUnlessChanged: true\n\n\n  configs.question_types = {}\n\n  ###\n  String representations of boolean values which are accepted as true from the XLSForm.\n  ###\n\n  configs.truthyValues = [\n    \"yes\",\n    \"YES\",\n    \"true\",\n    \"true()\",\n    \"TRUE\",\n  ]\n  configs.falsyValues = [\n    \"no\",\n    \"NO\",\n    \"false\",\n    \"false()\",\n    \"FALSE\",\n  ]\n\n  # Alternative: XLF.configs.boolOutputs = {\"true\": \"yes\", \"false\": \"no\"}\n  configs.boolOutputs = {\"true\": \"true\", \"false\": \"false\"}\n\n  configs\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\n\n/**\n * NOTE: this is depracated, please try not to use it\n *\n * @prop {function} popoverSetVisible\n * @prop {boolean} clearPopover\n * @prop {boolean} blurEventDisabled\n * @prop {string} type\n * @prop {string[]} additionalModifiers\n * @prop {node} triggerLabel - the element that will be opening the menu, menu will be placed in relation to it\n * @prop {node} children - content od the menu, can be anything really\n */\nexport default class PopoverMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      popoverVisible: false,\n      popoverHiding: false,\n      placement: 'below',\n    };\n    this._mounted = false;\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n  }\n  // BUG: we should use `getDerivedStateFromProps` instead of depracated\n  // `componentWillReceiveProps` but due to unnecessarily complex way of\n  // operation of PopoverMenu, using this will cause some instances to open\n  // only once.\n  // static getDerivedStateFromProps(props, state) {\n  //   if (state.popoverVisible && props.clearPopover) {\n  //     return {popoverVisible: false};\n  //   }\n  //   return null;\n  // }\n  componentWillReceiveProps(nextProps) {\n    if (this.state.popoverVisible && nextProps.clearPopover) {\n      this.setState({\n        popoverVisible: false,\n      });\n    }\n  }\n\n  toggle(evt) {\n    var isBlur = evt.type === 'blur';\n\n    if (isBlur && this.props.blurEventDisabled) {\n      return false;\n    }\n\n    if (\n      isBlur &&\n      evt.relatedTarget &&\n      evt.relatedTarget.dataset &&\n      evt.relatedTarget.dataset.popoverMenuStopBlur\n    ) {\n      // bring back focus to trigger to still enable this toggle callback\n      // but don't close the menu\n      evt.target.focus();\n      return false;\n    }\n\n    if (this.state.popoverVisible || isBlur) {\n        this.setState({\n          popoverHiding: true,\n        });\n        // if we setState and immediately hide popover then links will not register as clicked\n        window.setTimeout(() => {\n          if (!this._mounted) {\n            return false;\n          }\n\n          this.setState({\n            popoverVisible: false,\n            popoverHiding: false,\n          });\n        }, 200);\n    } else {\n      this.setState({\n        popoverVisible: true,\n      });\n    }\n\n    if (this.props.type === 'assetrow-menu' && !this.state.popoverVisible) {\n      // if popover doesn't fit above, place it below\n      // 20px is a nice safety margin\n      const $assetRow = $(evt.target).parents('.asset-row');\n      const $popoverMenu = $(evt.target).parents('.popover-menu').find('.popover-menu__content');\n      if ($assetRow.offset().top > $popoverMenu.outerHeight() + $assetRow.outerHeight() + 20) {\n        this.setState({placement: 'above'});\n      } else {\n        this.setState({placement: 'below'});\n      }\n    }\n\n    if (typeof this.props.popoverSetVisible === 'function' && !this.state.popoverVisible) {\n      this.props.popoverSetVisible();\n    }\n  }\n\n  render() {\n    const wrapperMods = this.props.additionalModifiers || [];\n    wrapperMods.push(this.state.placement);\n    if (this.props.type) {\n      wrapperMods.push(this.props.type);\n    }\n\n    const menuMods = [];\n    if (this.state.popoverHiding) {\n      menuMods.push('hiding');\n    }\n    if (this.state.popoverVisible) {\n      menuMods.push('visible');\n    } else {\n      menuMods.push('hidden');\n    }\n\n    return (\n      <bem.PopoverMenu m={wrapperMods}>\n        <bem.PopoverMenu__toggle\n          onClick={this.toggle}\n          onBlur={this.toggle}\n          tabIndex='1'\n        >\n          {this.props.triggerLabel}\n        </bem.PopoverMenu__toggle>\n\n        <bem.PopoverMenu__content m={menuMods}>\n          {this.props.children}\n        </bem.PopoverMenu__content>\n      </bem.PopoverMenu>\n\n    );\n  }\n}\n","import {\n  getRowName,\n  getTranslatedRowLabel,\n  getSurveyFlatPaths,\n  isRowSpecialLabelHolder,\n} from 'js/assetUtils';\nimport {\n  createEnum,\n  SCORE_ROW_TYPE,\n  RANK_LEVEL_TYPE,\n  MATRIX_PAIR_PROPS,\n  GROUP_TYPES_BEGIN,\n  QUESTION_TYPES,\n  CHOICE_LISTS,\n  AnyRowTypeName,\n} from 'js/constants';\n\nenum DisplayGroupTypeName {\n  group_root = 'group_root',\n  group_repeat = 'group_repeat',\n  group_regular = 'group_regular',\n  group_matrix = 'group_matrix',\n  group_matrix_row = 'group_matrix_row',\n}\n\nexport const DISPLAY_GROUP_TYPES = createEnum([\n  DisplayGroupTypeName.group_root,\n  DisplayGroupTypeName.group_repeat,\n  DisplayGroupTypeName.group_regular,\n  DisplayGroupTypeName.group_matrix,\n  DisplayGroupTypeName.group_matrix_row,\n]) as {[P in DisplayGroupTypeName]: DisplayGroupTypeName};;\n\nclass DisplayGroup {\n  public type: DisplayGroupTypeName;\n  /** Localized display label */\n  public label: string | null = null;\n  /** Unique identifier */\n  public name: string | null = null;\n  /** List of groups and responses */\n  public children: Array<DisplayResponse|DisplayGroup> = [];\n\n  constructor(\n    type: DisplayGroupTypeName,\n    label?: string | null,\n    name?: string | null\n  ) {\n    this.type = type;\n    if (label) {\n      this.label = label;\n    }\n    if (name) {\n      this.name = name;\n    }\n  }\n\n  addChild(child: DisplayResponse|DisplayGroup) {\n    this.children.push(child);\n  }\n}\n\n/**\n * @typedef {Object} DisplayResponse\n * @property {string} type - One of QUESTION_TYPES\n * @property {string} label - Localized display label\n * @property {string} name - Unique identifier\n * @property {string|undefined} listName - Unique identifier of a choices list,\n *                                         only applicable for question types\n *                                         that uses choices lists\n * @property {string|null} data - User response, `null` for no response\n */\nclass DisplayResponse {\n  public type: AnyRowTypeName;\n  /** Localized display label */\n  public label: string | null;\n  /** Unique identifier */\n  public name: string;\n  /**\n   * Unique identifier of a choices list, only applicable for question types\n   * that uses choices lists.\n   */\n  public listName: string | undefined;\n  /** User response, `null` for no response */\n  public data: string | null = null;\n\n  constructor(\n    type: AnyRowTypeName,\n    label: string | null,\n    name: string,\n    listName: string | undefined,\n    data?: string | null\n  ) {\n    this.type = type;\n    this.label = label;\n    this.name = name;\n    if (data) {\n      this.data = data;\n    }\n    if (listName) {\n      this.listName = listName;\n    }\n  }\n}\n\n/**\n * Returns a root group with everything inside\n */\nexport function getSubmissionDisplayData(\n  survey: SurveyRow[],\n  choices: SurveyChoice[],\n  /** for choosing label to display */\n  translationIndex: number,\n  submissionData: SubmissionResponse\n) {\n  const flatPaths = getSurveyFlatPaths(survey, true);\n\n  // let's start with a root of survey being a group with special flag\n  const output = new DisplayGroup(DISPLAY_GROUP_TYPES.group_root);\n\n  /**\n   * Recursively generates a nested architecture of survey with data.\n   */\n  function traverseSurvey(\n    /** Rows and groups will be added to it as children. */\n    parentGroup: DisplayGroup,\n    /** The submissionData scoped by parent (useful for repeat groups). */\n    parentData: SubmissionResponse,\n    /** Inside a repeat group this is the current repeat submission index. */\n    repeatIndex: number | null = null\n  ) {\n    for (let rowIndex = 0; rowIndex < survey.length; rowIndex++) {\n      const row = survey[rowIndex];\n\n      const rowName = getRowName(row);\n      let rowListName = getRowListName(row);\n      const rowLabel = getTranslatedRowLabel(rowName, survey, translationIndex);\n\n      let parentGroupPath = null;\n      if (parentGroup.name !== null) {\n        parentGroupPath = flatPaths[parentGroup.name];\n      }\n\n      let isRowCurrentLevel = isRowFromCurrentGroupLevel(\n        rowName,\n        parentGroupPath,\n        survey\n      );\n\n      // we are interested only in questions from this group level\n      if (!isRowCurrentLevel) {\n        continue;\n      }\n      // let's hide rows that don't carry any submission data\n      if (\n        row.type === QUESTION_TYPES.note.id ||\n        row.type === QUESTION_TYPES.hidden.id\n      ) {\n        continue;\n      }\n      /*\n       * For a complex form items (e.g. rating) Backend constructs a pair of\n       * group and a row. The row serves a purpose of a label and we don't want\n       * it here as `getTranslatedRowLabel` handles this already. We check\n       * previous row.\n       */\n      if (isRowSpecialLabelHolder(survey[rowIndex - 1], row)) {\n        continue;\n      }\n\n      let rowData = getRowData(rowName, survey, parentData);\n\n      if (row.type === GROUP_TYPES_BEGIN.begin_repeat) {\n        if (Array.isArray(rowData)) {\n          rowData.forEach((item, itemIndex) => {\n            let itemObj = new DisplayGroup(\n              DISPLAY_GROUP_TYPES.group_repeat,\n              rowLabel,\n              rowName\n            );\n            parentGroup.addChild(itemObj);\n            /*\n             * Start whole process again starting at this place in survey,\n             * with current group as parent element and new repeat index\n             * being used.\n             */\n            traverseSurvey(itemObj, item, itemIndex);\n          });\n        }\n      } else if (row.type === GROUP_TYPES_BEGIN.begin_kobomatrix) {\n        let matrixGroupObj = new DisplayGroup(\n          DISPLAY_GROUP_TYPES.group_matrix,\n          rowLabel,\n          rowName,\n        );\n        parentGroup.addChild(matrixGroupObj);\n\n        if (Array.isArray(choices)) {\n          /*\n           * For matrixes we generate a group of subgroups - each subgroup\n           * corresponds to a matrix item from choices.\n           */\n          choices.forEach((item) => {\n            if (\n              item[MATRIX_PAIR_PROPS.inChoices as keyof SurveyChoice] ===\n              row[MATRIX_PAIR_PROPS.inSurvey as keyof SurveyRow]\n            ) {\n              // Matrix is only one level deep, so we can use a \"simpler\"\n              // non-recursive special function\n              populateMatrixData(\n                survey,\n                choices,\n                submissionData,\n                translationIndex,\n                matrixGroupObj,\n                getRowName(item),\n                parentData\n              );\n            }\n          });\n        }\n      } else if (\n        row.type === GROUP_TYPES_BEGIN.begin_group ||\n        row.type === GROUP_TYPES_BEGIN.begin_score ||\n        row.type === GROUP_TYPES_BEGIN.begin_rank\n      ) {\n        let rowObj = new DisplayGroup(\n          DISPLAY_GROUP_TYPES.group_regular,\n          rowLabel,\n          rowName,\n        );\n        parentGroup.addChild(rowObj);\n        /*\n         * Start whole process again starting at this place in survey,\n         * with current group as parent element and pass current repeat index.\n         */\n        traverseSurvey(rowObj, rowData, repeatIndex);\n      } else if (\n        Object.keys(QUESTION_TYPES).includes(row.type) ||\n        row.type === SCORE_ROW_TYPE ||\n        row.type === RANK_LEVEL_TYPE\n      ) {\n        // for repeat groups, we are interested in current repeat item's data\n        if (Array.isArray(rowData) && repeatIndex !== null) {\n          rowData = rowData[repeatIndex];\n        }\n\n        // score and rank don't have list name on them and they need to use\n        // the one of their parent\n        if (row.type === SCORE_ROW_TYPE || row.type === RANK_LEVEL_TYPE) {\n          const parentGroupRow = survey.find((row) =>\n            getRowName(row) === parentGroup.name\n          );\n          rowListName = getRowListName(parentGroupRow);\n        }\n\n        let rowObj = new DisplayResponse(\n          row.type,\n          rowLabel,\n          rowName,\n          rowListName,\n          rowData\n        );\n        parentGroup.addChild(rowObj);\n      }\n    }\n  }\n  traverseSurvey(output, submissionData);\n\n  return output;\n}\n\n/**\n * It creates display data structure for a given choice-row of a Matrix.\n * As the data is bit different from all other question types, we need to use\n * a special function, not a great traverseSurvey one.\n */\nfunction populateMatrixData(\n  survey: SurveyRow[],\n  choices: SurveyChoice[],\n  submissionData: SubmissionResponse,\n  translationIndex: number,\n  /** A group you want to add a row of questions to. */\n  matrixGroup: DisplayGroup,\n  /** The row name. */\n  matrixRowName: string,\n  /** The submissionData scoped by parent (useful for repeat groups). */\n  parentData: SubmissionResponse\n) {\n  // This should not happen, as the only DisplayGroup with null name will be of\n  // the group_root type, but we need this for the types.\n  if (matrixGroup.name === null) {\n    return\n  }\n\n  // create row display group and add it to matrix group\n  const matrixRowLabel = getTranslatedRowLabel(matrixRowName, choices, translationIndex);\n  let matrixRowGroupObj = new DisplayGroup(\n    DISPLAY_GROUP_TYPES.group_matrix_row,\n    matrixRowLabel,\n    matrixRowName,\n  );\n  matrixGroup.addChild(matrixRowGroupObj);\n\n  const flatPaths = getSurveyFlatPaths(survey, true);\n  const matrixGroupPath = flatPaths[matrixGroup.name];\n\n  /*\n   * Iterate over survey rows to find only ones from inside the matrix.\n   * These rows are the questions from the target matrix choice-row, so we find\n   * all neccessary pieces of data nd build display data structure for it.\n   */\n  Object.keys(flatPaths).forEach((questionName) => {\n    if (flatPaths[questionName].startsWith(`${matrixGroupPath}/`)) {\n      const questionSurveyObj = survey.find((row) =>\n        getRowName(row) === questionName\n      );\n      // We are only interested in going further if object was found.\n      if (typeof questionSurveyObj === 'undefined') {\n        return;\n      }\n\n      /*\n       * NOTE: Submission data for a Matrix question is kept in an unusal\n       * property, so instead of:\n       * [PATH/]MATRIX/MATRIX_QUESTION\n       * it is stored in:\n       * [PATH/]MATRIX_CHOICE/MATRIX_CHOICE_QUESTION\n       */\n      let questionData = null;\n      const dataProp = `${matrixGroupPath}_${matrixRowName}/${matrixGroup.name}_${matrixRowName}_${questionName}`;\n      if (submissionData[dataProp]) {\n        questionData = submissionData[dataProp];\n      } else if (parentData[dataProp]) {\n        /*\n         * If Matrix question is inside a repeat group, the data is stored\n         * elsewhere :tableflip:\n         */\n        questionData = parentData[dataProp];\n      }\n\n      let questionObj = new DisplayResponse(\n        questionSurveyObj.type,\n        getTranslatedRowLabel(questionName, survey, translationIndex),\n        questionName,\n        getRowListName(questionSurveyObj),\n        questionData\n      );\n      matrixRowGroupObj.addChild(questionObj);\n    }\n  });\n}\n\n/**\n * Returns data for given row, works for groups too. Returns `null` for no\n * answer, array for repeat groups and object for regular groups\n */\nfunction getRowData(\n  name: string,\n  survey: SurveyRow[],\n  data: SubmissionResponse\n) {\n  if (data === null || typeof data !== 'object') {\n    return null;\n  }\n\n  const flatPaths = getSurveyFlatPaths(survey, true);\n  const path = flatPaths[name];\n\n  if (data[path]) {\n    return data[path];\n  } else if (data[name]) {\n    return data[name];\n  } else if (path) {\n    // we don't really know here if this is a repeat or a regular group\n    // so we let the data be the guide (possibly not trustworthy)\n    const repeatRowData = getRepeatGroupAnswers(data, path);\n    if (repeatRowData.length >= 1) {\n      return repeatRowData;\n    }\n\n    const rowData = getRegularGroupAnswers(data, path);\n    if (Object.keys(rowData).length >= 1) {\n      return rowData;\n    }\n  }\n  return null;\n}\n\n/**\n * Tells if given row is an immediate child of given group\n */\nfunction isRowFromCurrentGroupLevel(\n  rowName: string,\n  /** Null for root level rows. */\n  groupPath: string|null,\n  survey: SurveyRow[]\n) {\n  const flatPaths = getSurveyFlatPaths(survey, true);\n  if (groupPath === null) {\n    return flatPaths[rowName] === rowName;\n  } else {\n    return flatPaths[rowName] === `${groupPath}/${rowName}`;\n  }\n}\n\n/**\n * Returns an array of answers\n */\nexport function getRepeatGroupAnswers(\n  data: SubmissionResponse,\n  /** With groups e.g. group_person/group_pets/group_pet/pet_name. */\n  targetKey: string\n) {\n  const answers: string[] = [];\n\n  // Goes through nested groups from key, looking for answers.\n  const lookForAnswers = (data: SubmissionResponse, levelIndex: number) => {\n    const levelKey = targetKey.split('/').slice(0, levelIndex + 1).join('/');\n    // Each level could be an array of repeat group answers or object with questions.\n    if (levelKey === targetKey) {\n      if (Object.prototype.hasOwnProperty.call(data, targetKey)) {\n        answers.push(data[targetKey]);\n      }\n    } else if (Array.isArray(data[levelKey])) {\n      data[levelKey].forEach((item: SubmissionResponse) => {\n        lookForAnswers(item, levelIndex + 1);\n      });\n    }\n  };\n\n  lookForAnswers(data, 0);\n\n  return answers;\n}\n\n/**\n * Filters data for items inside the group\n */\nfunction getRegularGroupAnswers(\n  data: SubmissionResponse,\n  /** With groups e.g. group_person/group_pets/group_pet. */\n  targetKey: string\n) {\n  const answers: {[questionName: string]: any} = {};\n  Object.keys(data).forEach((objKey) => {\n    if (objKey.startsWith(`${targetKey}/`)) {\n      answers[objKey] = data[objKey];\n    }\n  });\n  return answers;\n}\n\nfunction getRowListName(row: SurveyRow | undefined): string | undefined {\n  let returnVal;\n  if (row && Object.keys(row).includes(CHOICE_LISTS.SELECT)) {\n    returnVal = row[CHOICE_LISTS.SELECT as keyof SurveyRow];\n  }\n  if (row && Object.keys(row).includes(CHOICE_LISTS.MATRIX)) {\n    returnVal = row[CHOICE_LISTS.MATRIX as keyof SurveyRow];\n  }\n  if (row && Object.keys(row).includes(CHOICE_LISTS.SCORE)) {\n    returnVal = row[CHOICE_LISTS.SCORE as keyof SurveyRow];\n  }\n  if (row && Object.keys(row).includes(CHOICE_LISTS.RANK)) {\n    returnVal = row[CHOICE_LISTS.RANK as keyof SurveyRow];\n  }\n  if (typeof returnVal === 'string') {\n    return returnVal;\n  }\n  return undefined;\n}\n\n/**\n * Returns an attachment object or an error message.\n */\nexport function getMediaAttachment(\n  submission: SubmissionResponse,\n  fileName: string\n): string | SubmissionAttachment {\n  const fileNameNoSpaces = fileName.replace(/ /g, '_');\n  let mediaAttachment: string | SubmissionAttachment = t('Could not find ##fileName##').replace(\n    '##fileName##',\n    fileName,\n  );\n\n  submission._attachments.forEach((attachment) => {\n    if (attachment.filename.includes(fileNameNoSpaces)) {\n      mediaAttachment = attachment;\n    }\n  });\n\n  return mediaAttachment;\n}\n\nexport default {\n  DISPLAY_GROUP_TYPES,\n  getSubmissionDisplayData,\n  getRepeatGroupAnswers,\n};\n","_ = require 'underscore'\nBackbone = require 'backbone'\n$skipLogicParser = require './model.skipLogicParser'\n\nmodule.exports = do ->\n  skipLogicHelpers = {}\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- Factories.RowDetail.SkipLogic.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class skipLogicHelpers.SkipLogicHelperFactory\n    constructor: (@model_factory, @view_factory, @survey, @current_question, @serialized_criteria) ->\n    create_presenter: (criterion_model, criterion_view) ->\n      return new skipLogicHelpers.SkipLogicPresenter criterion_model, criterion_view, @current_question, @survey, @view_factory\n    create_builder: () ->\n      return new skipLogicHelpers.SkipLogicBuilder @model_factory, @view_factory, @survey, @current_question, @\n    create_context: () ->\n      return new skipLogicHelpers.SkipLogicHelperContext @model_factory, @view_factory, @, @serialized_criteria\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- Facades.RowDetail.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class skipLogicHelpers.SkipLogicPresentationFacade\n    constructor: (@model_factory, @helper_factory, @view_factory) ->\n    initialize: () ->\n      @context ?= @helper_factory.create_context()\n    serialize: () ->\n      @context ?= @helper_factory.create_context()\n      return @context.serialize()\n    render: (target) ->\n      @context ?= @helper_factory.create_context()\n      @context.render target\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- Presentation.RowDetail.SkipLogic.Presenter.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class skipLogicHelpers.SkipLogicPresenter\n    constructor: (@model, @view, @current_question, @survey, @view_factory) ->\n      @view.presenter = @\n      if @survey\n        update_choice_list = (choicelist_cid) =>\n          question = @model._get_question()\n\n          if question && question._isSelectQuestion() && question.getList().cid == choicelist_cid\n\n            current_response_value = @model.get('response_value').get('cid')\n\n            if !question.getList().options.get current_response_value\n              @dispatcher.trigger 'remove:presenter', @model.cid\n            else\n              options = _.map question.getList().options.models, (response) ->\n                text: response.get('label')\n                value: response.cid\n\n              response_picker_model = @view.response_value_view.options\n\n              response_picker_model.set 'options', options\n              @view.response_value_view.val(current_response_value)\n              @view.response_value_view.$el.trigger('change')\n              @model.change_response current_response_value\n\n        @survey.on 'choice-list-update', update_choice_list, @\n\n        @survey.on 'remove-option', update_choice_list, @\n\n        @survey.on 'row-detail-change', (row, key) =>\n          if @destination\n            if key == 'label'\n              @render(@destination)\n        , @\n      else\n        console.error \"this.survey is not yet available\"\n\n    change_question: (question_name) ->\n      @model.change_question question_name\n\n      @question = @model._get_question()\n      question_type = @question.get_type()\n      @question.on 'remove', () =>\n        @dispatcher.trigger 'remove:presenter', @model.cid\n\n      @view.change_operator @view_factory.create_operator_picker question_type\n      @view.operator_picker_view.val @model.get('operator').get_value()\n      @view.attach_operator()\n\n      @change_response_view question_type, @model.get('operator').get_type()\n\n      @finish_changing()\n\n    change_operator: (operator_id) ->\n      @model.change_operator operator_id\n\n      @change_response_view @model._get_question().get_type(), @model.get('operator').get_type()\n\n      @finish_changing()\n\n    change_response: (response_text) ->\n      @model.change_response response_text\n      @finish_changing()\n\n    change_response_view: (question_type, operator_type) ->\n      response_view = @view_factory.create_response_value_view @model._get_question(), question_type, operator_type\n      response_view.model = @model.get 'response_value'\n\n      @view.change_response response_view\n      @view.attach_response()\n\n      response_value = response_view.model.get('value')\n\n      question = @model._get_question()\n      if (question._isSelectQuestion())\n        rV = _.find(question.getList().options.models, (option) ->\n          option.get('name') == response_value)\n        if (rV && rV.cid)\n          response_value = rV.cid\n\n      @view.response_value_view.val response_value\n      response_view.$el.trigger('change')\n\n\n    finish_changing: () ->\n      @dispatcher.trigger 'changed:model', @\n\n    is_valid: () ->\n      if !@model._get_question()\n        return false\n      else if @model.get('operator').get_type().id == 1\n        return true\n      else if @model.get('response_value').get('value')  in ['', undefined] || @model.get('response_value').isValid() == false\n        return false\n      else\n        return true\n\n    render: (@destination) ->\n      @view.question_picker_view.detach()\n      @view.question_picker_view = @view_factory.create_question_picker @current_question\n      @view.render()\n      @view.question_picker_view.val @model.get('question_cid')\n      @view.operator_picker_view.val @model.get('operator').get_value()\n      response_value = @model.get('response_value')?.get('value')\n\n      question = @model._get_question()\n      if (question && question._isSelectQuestion())\n        response_value = _.find(question.getList().options.models, (option) ->\n          option.get('name') == response_value)?.cid\n      @view.response_value_view.val response_value\n      @view.attach_to @destination\n      @dispatcher.trigger 'rendered', @\n\n    serialize: () ->\n      @model.serialize()\n\n  class skipLogicHelpers.SkipLogicBuilder\n    constructor: (@model_factory, @view_factory, @survey, @current_question, @helper_factory) -> return\n    build_criterion_builder: (serialized_criteria) ->\n      if serialized_criteria == ''\n        return [[@build_empty_criterion()], 'and']\n\n      try\n        parsed = @_parse_skip_logic_criteria serialized_criteria\n\n        criteria = _.filter(_.map(parsed.criteria, (criterion) =>\n            @criterion = criterion\n            @build_criterion()\n          )\n        , (item) -> !!item)\n        if criteria.length == 0\n          criteria.push @build_empty_criterion()\n\n      catch e\n        Raven?.captureException new Error('could not parse skip logic. falling back to hand-coded'), extra:\n          criteria: serialized_criteria\n        return false\n      return [criteria, parsed.operator]\n\n    _parse_skip_logic_criteria: (criteria) ->\n      return $skipLogicParser criteria\n\n    build_operator_logic: (question_type) =>\n      return [\n        @build_operator_model(question_type, @_operator_type().symbol[@criterion.operator]),\n        @view_factory.create_operator_picker question_type\n      ]\n\n    build_operator_model: (question_type, symbol) ->\n      operator_type = @_operator_type()\n      return @model_factory.create_operator(\n        (if operator_type.type == 'existence' then 'existence' else question_type.equality_operator_type),\n        symbol,\n        operator_type.id)\n\n    _operator_type: () ->\n      return _.find skipLogicHelpers.operator_types, (op_type) =>\n          @criterion?.operator in op_type.parser_name\n\n    build_criterion_logic: (operator_model, operator_picker_view, response_value_view) ->\n      criterion_model = @model_factory.create_criterion_model()\n      criterion_model.set('operator', operator_model)\n\n      criterion_view = @view_factory.create_criterion_view(\n        @view_factory.create_question_picker(@current_question),\n        operator_picker_view,\n        response_value_view\n      )\n      criterion_view.model = criterion_model\n      return @helper_factory.create_presenter criterion_model, criterion_view\n\n    build_criterion: () =>\n      question = @_get_question()\n      if !question\n        return false\n\n      if !(question in @questions())\n        throw 'question is not selectable'\n\n      question_type = question.get_type()\n\n      [operator_model, operator_picker_view] = @build_operator_logic question_type\n\n      response_value_view = @view_factory.create_response_value_view question, question_type, @_operator_type()\n\n      presenter = @build_criterion_logic operator_model, operator_picker_view, response_value_view\n      presenter.model.change_question question.cid\n\n      response_value = if question._isSelectQuestion() then _.find(question.getList().options.models, (option) => return option.get('name') == @criterion.response_value)?.cid else @criterion.response_value\n      presenter.model.change_response response_value || ''\n      response_value_view.model = presenter.model.get 'response_value'\n      response_value_view.val(response_value)\n\n      return presenter\n    _get_question: () ->\n      @survey.findRowByName @criterion.name\n\n    build_empty_criterion: () =>\n      operator_picker_view = @view_factory.create_operator_picker null\n      response_value_view = @view_factory.create_response_value_view null\n\n      return @build_criterion_logic @model_factory.create_operator('empty'), operator_picker_view, response_value_view\n\n    questions: () ->\n      @selectable = @current_question.selectableRows() || @selectable\n      return @selectable\n\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- Presentation.RowDetail.SkipLogic.State.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class skipLogicHelpers.SkipLogicHelperContext\n    render: (@destination) ->\n      if @destination?\n        @destination.empty()\n        @state.render @destination\n      return\n    serialize: () ->\n      return @state.serialize()\n    use_criterion_builder_helper: () ->\n      @builder ?= @helper_factory.create_builder()\n      presenters = @builder.build_criterion_builder(@state.serialize())\n\n      if presenters == false\n        @state = null\n      else\n        @state = new skipLogicHelpers.SkipLogicCriterionBuilderHelper(presenters[0], presenters[1], @builder, @view_factory, @)\n        @render @destination\n      return\n    use_hand_code_helper: () ->\n      @state = new skipLogicHelpers.SkipLogicHandCodeHelper(@state.serialize(), @builder, @view_factory, @)\n      @render @destination\n      return\n    use_mode_selector_helper : () ->\n      @helper_factory.survey.off null, null, @state\n      @state = new skipLogicHelpers.SkipLogicModeSelectorHelper(@view_factory, @)\n      @render @destination\n      return\n    constructor: (@model_factory, @view_factory, @helper_factory, serialized_criteria) ->\n      @state = serialize: () -> return serialized_criteria\n      if !serialized_criteria? || serialized_criteria == ''\n        serialized_criteria = ''\n        @use_mode_selector_helper()\n      else\n        @use_criterion_builder_helper()\n\n      if !@state?\n        @state = serialize: () -> return serialized_criteria\n        @use_hand_code_helper()\n\n  class skipLogicHelpers.SkipLogicCriterionBuilderHelper\n    determine_criterion_delimiter_visibility: () ->\n      if @presenters.length < 2\n        @$criterion_delimiter.hide()\n      else\n        @$criterion_delimiter.show()\n    render: (destination) ->\n      @view.render().attach_to destination\n      @$criterion_delimiter = @view.$(\".skiplogic__delimselect\")\n      @$add_new_criterion_button = @view.$('.skiplogic__addcriterion')\n\n      @determine_criterion_delimiter_visibility()\n\n      @destination = @view.$('.skiplogic__criterialist')\n\n      _.each @presenters, (presenter) =>\n        presenter.render @destination\n\n    serialize: () ->\n      serialized = _.map @presenters, (presenter) ->\n        presenter.serialize()\n      _.filter(serialized, (crit) -> crit).join(' ' + @view.criterion_delimiter + ' ')\n    add_empty: () ->\n      presenter = @builder.build_empty_criterion()\n      presenter.dispatcher = @dispatcher\n      presenter.serialize_all = _.bind @serialize, @\n      @presenters.push presenter\n      presenter.render @destination\n      @determine_criterion_delimiter_visibility()\n    remove: (id) ->\n      _.each @presenters, (presenter, index) =>\n        if presenter? && presenter.model.cid == id\n          presenter = @presenters.splice(index, 1)[0]\n          presenter.view.$el.remove()\n          @builder.survey.off null, null, presenter\n          @determine_add_new_criterion_visibility()\n\n      if @presenters.length == 0\n        @context.use_mode_selector_helper()\n\n    determine_add_new_criterion_visibility: () ->\n      if @all_presenters_are_valid()\n        action = 'show()'\n        @$add_new_criterion_button?.show()\n      else\n        action = 'hide()'\n        @$add_new_criterion_button?.hide()\n\n      if !@$add_new_criterion_button\n        Raven?.captureException(\"@$add_new_criterion_button is not defined. cannot call #{action} [inside of determine_add_new_criterion_visibility]\")\n\n    constructor: (@presenters, separator, @builder, @view_factory, @context) ->\n      @view = @view_factory.create_criterion_builder_view()\n      @view.criterion_delimiter = (separator || 'and').toLowerCase()\n      @view.facade = @\n      @dispatcher = _.clone Backbone.Events\n      @dispatcher.on 'remove:presenter', (cid) =>\n        @remove cid\n\n\n      @dispatcher.on 'changed:model', (presenter) =>\n        @determine_add_new_criterion_visibility()\n\n      @dispatcher.on 'rendered', (presenter) =>\n        @determine_add_new_criterion_visibility()\n\n      removeInvalidPresenters = () =>\n        questions = @builder.questions()\n        presenters_to_be_removed = []\n        _.each @presenters, (presenter) ->\n          if presenter.model._get_question() && !(presenter.model._get_question() in questions)\n            presenters_to_be_removed.push presenter.model.cid\n\n        for presenter in presenters_to_be_removed\n          @remove presenter\n\n        if @presenters.length == 0\n          @context.use_mode_selector_helper()\n\n      @builder.survey.on 'sortablestop', removeInvalidPresenters, @\n\n      removeInvalidPresenters()\n\n      _.each @presenters, (presenter) =>\n        presenter.dispatcher = @dispatcher\n        presenter.serialize_all = _.bind @serialize, @\n\n    all_presenters_are_valid: () ->\n        return !_.find @presenters, (presenter) -> !presenter.is_valid()\n\n    switch_editing_mode: () ->\n      @builder.build_hand_code_criteria @serialize()\n\n  class skipLogicHelpers.SkipLogicHandCodeHelper\n    render: ($destination) ->\n      $destination.append @$parent\n      @textarea.render().attach_to @$parent\n      @button.render().attach_to @$parent\n      @button.bind_event 'click', () => @context.use_mode_selector_helper()\n    serialize: () ->\n      @textarea.$el.val() || @criteria\n    constructor: (@criteria, @builder, @view_factory, @context) ->\n      @$parent = $('<div>')\n      @textarea = @view_factory.create_textarea @criteria, 'skiplogic__handcode-edit'\n      @button = @view_factory.create_button '<i class=\"k-icon k-icon-trash\"></i>', 'skiplogic-handcode__cancel'\n\n  class skipLogicHelpers.SkipLogicModeSelectorHelper\n    render: ($destination) ->\n      $parent = $('<div>')\n      $destination.append $parent\n      @criterion_builder_button.render().attach_to $parent\n      @handcode_button.render().attach_to $parent\n\n      @criterion_builder_button.bind_event('click', () =>\n        @context.view_factory.survey.trigger('change')\n        @context.use_criterion_builder_helper()\n      )\n      @handcode_button.bind_event('click', () =>\n        @context.view_factory.survey.trigger('change')\n        @context.use_hand_code_helper()\n      )\n\n    serialize: () ->\n      return ''\n    constructor: (view_factory, @context) ->\n      @criterion_builder_button = view_factory.create_button '<i>+</i> ' + t(\"Add a condition\"), 'kobo-button kobo-button--green'\n      @handcode_button = view_factory.create_button '<i>${}</i> ' + t(\"Manually enter your skip logic in XLSForm code\"), 'kobo-button kobo-button--blue'\n      ###@view = @view_factory.create_skip_logic_picker_view(context)###\n    switch_editing_mode: () -> return\n\n  operators =\n    EXISTENCE: 1\n    EQUALITY: 2\n    GREATER_THAN: 3\n    GREATER_THAN_EQ: 4\n  ops =\n    EX: operators.EXISTENCE\n    EQ: operators.EQUALITY\n    GT: operators.GREATER_THAN\n    GE: operators.GREATER_THAN_EQ\n\n  skipLogicHelpers.question_types =\n    default:\n      operators: [\n        ops.EX #1\n        ops.EQ #2\n      ]\n      equality_operator_type: 'text'\n      response_type: 'text'\n      name: 'default'\n    select_one:\n      operators: [\n        ops.EQ #2\n        ops.EX #1\n      ]\n      equality_operator_type: 'text'\n      response_type: 'dropdown'\n      name: 'select_one'\n    select_multiple:\n      operators: [\n        ops.EQ #2\n        ops.EX #1\n      ]\n      equality_operator_type: 'select_multiple'\n      response_type: 'dropdown'\n      name: 'select_multiple'\n    integer:\n      operators: [\n        ops.GT #3\n        ops.EX #1\n        ops.EQ #2\n        ops.GE #4\n      ]\n      equality_operator_type: 'basic'\n      response_type: 'integer'\n      name: 'integer'\n\n    # rank:\n    #   operators: [\n    #     ops.EX #1\n    #     ops.EQ #2\n    #   ]\n    #   equality_operator_type: 'select_multiple'\n    #   response_type: 'dropdown'\n    #   name: 'rank'\n    # rank__item:\n    #   operators: [\n    #     ops.EX #1\n    #     ops.EQ #2\n    #   ]\n    #   equality_operator_type: 'select_multiple'\n    #   response_type: 'dropdown'\n    #   name: 'rank_item'\n\n    # score:\n    #   operators: [\n    #     ops.EX #1\n    #     ops.EQ #2\n    #   ]\n    #   equality_operator_type: 'select_multiple'\n    #   response_type: 'dropdown'\n    #   name: 'score'\n    # score__row:\n    #   operators: [\n    #     ops.EX #1\n    #     ops.EQ #2\n    #   ]\n    #   equality_operator_type: 'select_multiple'\n    #   response_type: 'dropdown'\n    #   name: 'score_row'\n\n    barcode:\n      operators: [\n        ops.GT #3\n        ops.EX #1\n        ops.EQ #2\n        ops.GE #4\n      ]\n      equality_operator_type: 'text'\n      response_type: 'text'\n      name: 'barcode'\n    decimal:\n      operators: [\n        ops.EX #1\n        ops.EQ #2\n        ops.GT #3\n        ops.GE #4\n      ]\n      equality_operator_type: 'basic'\n      response_type: 'decimal'\n      name: 'decimal'\n    geopoint:\n      operators: [\n        ops.EX #1\n      ]\n      name: 'geopoint'\n    geotrace:\n      operators: [\n        ops.EX #1\n      ]\n      name: 'geotrace'\n    geoshape:\n      operators: [\n        ops.EX #1\n      ]\n      name: 'geoshape'\n    image:\n      operators: [\n        ops.EX #1\n      ]\n      name: 'image'\n    audio:\n      operators: [\n        ops.EX #1\n      ]\n      name: 'audio'\n    video:\n      operators: [\n        ops.EX #1\n      ]\n      name: 'video'\n    acknowledge:\n      operators: [\n        ops.EX #1\n      ]\n      name: 'acknowledge'\n    date:\n      operators: [\n        ops.EQ #2\n        ops.GT #3\n        ops.GE #4\n      ]\n      equality_operator_type: 'date'\n      response_type: 'text'\n      name: 'date'\n\n\n  skipLogicHelpers.operator_types = [\n    {\n      id: 1\n      type: 'existence'\n      label: t(\"Was Answered\")\n      negated_label: t(\"Was not Answered\")\n      abbreviated_label: t(\"Was Answered\")\n      abbreviated_negated_label: t(\"Was not Answered\")\n      parser_name: ['ans_notnull','ans_null']\n      symbol: {\n        ans_notnull: '!=',\n        ans_null: '='\n      }\n      response_type: 'empty'\n    }\n    {\n      id: 2\n      type: 'equality'\n      label: ''\n      negated_label: t(\"not\")\n      abbreviated_label: '='\n      abbreviated_negated_label: '!='\n      parser_name: ['resp_equals', 'resp_notequals', 'multiplechoice_selected', 'multiplechoice_notselected']\n      symbol: {\n        resp_equals: '=',\n        resp_notequals: '!=',\n        multiplechoice_selected: '='\n        multiplechoice_notselected: '!='\n      }\n    }\n    {\n      id: 3\n      type: 'equality'\n      label: t(\"Greater Than\")\n      negated_label: t(\"Less Than\")\n      abbreviated_label: '>'\n      abbreviated_negated_label: '<'\n      parser_name: ['resp_greater', 'resp_less']\n      symbol: {\n        resp_greater: '>'\n        resp_less: '<'\n      }\n    }\n    {\n      id: 4\n      type: 'equality'\n      label: t(\"Greater Than or Equal to\")\n      negated_label: t(\"Less Than or Equal to\")\n      abbreviated_label: '>='\n      abbreviated_negated_label: '<='\n      parser_name: ['resp_greaterequals', 'resp_lessequals']\n      symbol: {\n        resp_greaterequals: '>=',\n        resp_lessequals: '<='\n      }\n    }\n  ]\n\n  skipLogicHelpers\n","_ = require 'underscore'\nBackbone = require 'backbone'\nvalidation = require 'backbone-validation'\n$viewUtils = require './view.utils'\n$configs = require './model.configs'\n$rowDetailMixins = require './model.rowDetailMixins'\n\nmodule.exports = do ->\n  _.extend validation.validators, {\n    invalidChars: (value, attr, customValue)->\n      unless $viewUtils.Validator.__validators.invalidChars(value, customValue)\n        \"#{value} contains invalid characters\";\n    unique: (value, attr, customValue, model)->\n      rows = model.getSurvey().rows.pluck(model.key)\n      values = _.map(rows, (rd)-> rd.get('value'))\n      unless $viewUtils.Validator.__validators.unique(value, values)\n        \"Question name isn't unique\"\n      else\n        ``\n  }\n\n  _.extend(Backbone.Model.prototype, validation.mixin);\n\n  # TODO: Extend Backbone Validation\n  # _.extend Backbone.Model.prototype, Backbone.Validation.mixin\n\n  base = {}\n  class base.BaseCollection extends Backbone.Collection\n    constructor: (arg, opts)->\n      if arg and \"_parent\" of arg\n        # temporary error, during transition\n        throw new Error(\"_parent chould be assigned as property to 2nd argument to XLF.BaseCollection (not first)\")\n      @_parent = opts._parent  if opts and opts._parent\n      super(arg, opts)\n\n    getSurvey: ->\n      parent = @_parent\n      while parent._parent\n        parent = parent._parent\n      parent\n\n  class base.BaseModel extends Backbone.Model\n    constructor: (arg, opts)->\n      if opts and \"_parent\" of opts\n        @_parent = opts._parent\n      else if \"object\" is typeof arg and \"_parent\" of arg\n        @_parent = arg._parent\n        delete arg._parent\n      super(arg, opts)\n    parse: ->\n    linkUp: (ctx)->\n    finalize: ->\n    getValue: (what)->\n      if what\n        resp = @get(what)\n        if resp is undefined\n          throw new Error(\"Could not get value\")\n        if resp.getValue\n          resp = resp.getValue()\n      else\n        resp = @get(\"value\")\n      resp\n    setDetail: (what, value)->\n      if value.constructor is base.RowDetail\n        @set(what, value)\n      else\n        @set(what, new base.RowDetail({key:what, value: value}, {_parent: @}))\n    parentRow: ->\n      @_parent._parent\n    precedingRow: ->\n      ii = @_parent.models.indexOf(@)\n      if ii isnt 0\n        @_parent.at(ii-1)\n    nextRow: ->\n      ii = @_parent.models.indexOf(@)\n      @_parent.at(ii+1)\n    getSurvey: ->\n      parent = @_parent\n      if parent is null or parent is undefined\n        return null\n      while parent._parent or parent.collection\n        if parent._parent\n          parent = parent._parent\n        else if parent.collection and parent.collection._parent\n          parent = parent.collection._parent\n        else\n          break\n      parent\n\n  _innerValue = (val)->\n    # occasionally, the value passed to rowDetail\n    # is an object, which evaluates to true\n    if _.isObject(val)\n      val.value\n    else\n      val\n\n  class base.RowDetail extends base.BaseModel\n    idAttribute: \"name\"\n    validation: () =>\n      if @key == 'name'\n        return value:\n          unique: true\n          required: true\n      else if @key == 'calculation'\n        return value:\n          required: true\n      else if @key == 'label' && @_parent.constructor.key != 'group'\n        return value:\n          required: true\n      {}\n\n    constructor: ({@key, value}, opts)->\n      @_parent = opts._parent\n      if @key of $rowDetailMixins\n        _.extend(@, $rowDetailMixins[@key])\n      super()\n      # We should consider pulling the value from the CSV at this stage\n      # depending on the question type. truthy-CSV values should be set here\n      # In the quick fix, this is done in the view for 'required' rowDetails\n      # (grep: XLF.configs.truthyValues)\n\n      if value not in [undefined, null]\n        vals2set = {}\n        if _.isString(value) || _.isNumber(value)\n          vals2set.value = value\n        else if _.isObject(value) and \"value\" of value\n          _.extend vals2set, value\n        else\n          vals2set.value = value\n        @set(vals2set)\n\n      @_order = $configs.columnOrder(@key)\n      @postInitialize()\n\n    postInitialize: ()->\n    initialize: ()->\n      # todo: change \"_hideUnlessChanged\" to describe something about the form, not the representation of the form.\n      # E.g. undefinedUnlessChanged or definedIffChanged\n      if @get(\"_hideUnlessChanged\")\n        @hidden = true\n        @_oValue = @get(\"value\")\n        @on \"change\", ()->\n          @hidden = @get(\"value\") is @_oValue\n\n      @on \"change:value\", (rd, val, ctxt)=>\n        # @_parent.trigger \"change\", @key, val, ctxt\n        @_parent.trigger \"detail-change\", @key, val, ctxt\n        @getSurvey().trigger \"row-detail-change\", @_parent, @key, val, ctxt\n      # if @key is \"type\"\n      #   @on \"change:list\", (rd, val, ctxt)=>\n      #     @_parent.trigger \"change\", @key, val, ctxt\n\n      # when attributes change, register changes with parent survey\n      if @key in [\"name\", \"label\", \"hint\", \"guidance_hint\", \"required\",\n                  \"calculation\", \"default\", \"appearance\",\n                  \"constraint_message\", \"tags\"] or @key.match(/^.+::.+/)\n        @on \"change\", (changes)=>\n          @getSurvey().trigger \"change\", changes\n\n  base\n","_ = require 'underscore'\n\nmodule.exports = do ->\n  aliases_dict = {\n    group: [\n      \"begin group\"\n      \"end group\"\n      \"begin_group\"\n      \"end_group\"\n    ],\n    repeat: [\n      \"begin repeat\"\n      \"end repeat\"\n      \"begin_repeat\"\n      \"end_repeat\"\n    ]\n    kobomatrix: [\n      \"begin_kobomatrix\"\n      \"end_kobomatrix\"\n    ]\n    score: [\n      \"begin score\",\n      \"end score\",\n      \"begin_score\",\n      \"end_score\",\n    ]\n    rank: [\n      \"begin_rank\",\n      \"end_rank\",\n      \"begin rank\",\n      \"end rank\",\n    ]\n  }\n\n  aliases = (name)-> aliases_dict[name] or [name]\n\n  q = {}\n  q.groupable = ()->\n    _.flatten [\n                aliases('group')\n                aliases('repeat')\n                aliases('score')\n                aliases('rank')\n                aliases('kobomatrix')\n              ]\n\n  q.groupsOrRepeats = ()->\n    _.flatten [aliases('group'), aliases('repeat')]\n\n  q.requiredSheetNameList = ()->\n    ['survey']\n\n  q.testGroupable = (type)->\n    # Returns an object if type is group or repeat (begin or end)\n    #  otherwise, returns false\n    out = false\n    if type in aliases_dict.group\n      out = {type: 'group'}\n    else if type in aliases_dict.repeat\n      out = {type: 'repeat'}\n    else if type in aliases_dict.score\n      out = {type: 'score'}\n    else if type in aliases_dict.rank\n      out = {type: 'rank'}\n    else if type in aliases_dict.kobomatrix\n      out = {type: 'kobomatrix'}\n    if out and out.type\n      out.begin = !type.match(/end/)\n    out\n\n  q.testGroupOrRepeat = (type)->\n    console.error(\"q.testGroupOrRepeat is renamed to q.testGroupable\")\n    q.testGroupable(type)\n\n  q.hiddenTypes = ()->\n    _.flatten [\n      ['imei', 'deviceid'],\n      ['start'],\n      ['end'],\n      ['today'],\n      ['simserial'],\n      ['subscriberid'],\n      ['phonenumber', 'phone_number'],\n      ['audit'],\n    ]\n\n  aliases.custom = q\n\n  aliases.q = aliases.custom\n  aliases\n","import {assign} from 'js/utils';\n\nexport function parseTags(asset: AssetResponse) {\n  return {\n    tags: asset.tag_string.split(',').filter((tg) => { return tg.length !== 0; })\n  };\n}\n\nfunction parseSettings(asset: AssetResponse) {\n  const settings = asset.content && asset.content.settings;\n  if (settings) {\n    let foundSettings: AssetContentSettings = {};\n    if (Array.isArray(settings) && settings.length) {\n      foundSettings = settings[0];\n    }\n    return {\n      unparsed__settings: foundSettings,\n      settings__style: foundSettings.style,\n      settings__form_id: foundSettings.form_id,\n      settings__title: foundSettings.title,\n    };\n  } else {\n    return {};\n  }\n}\n\nexport function parsed(asset: AssetResponse): AssetResponse {\n  return assign(\n    asset,\n    parseSettings(asset),\n    parseTags(asset)\n  ) as AssetResponse;\n}\n","###\npainstakingly reverse-compiled from this file in dkobo:\nhttps://github.com/kobotoolbox/dkobo/blob/225ca1/dkobo/koboform/static/js/xlform/rowDetailsSkipLogic.model.rowDetails.skipLogic.coffee\n###\n\n_ = require 'underscore'\nBackbone = require 'backbone'\n$utils = require './model.utils'\n$skipLogicHelpers = require './mv.skipLogicHelpers'\n\nrowDetailsSkipLogic = {}\n\nclass rowDetailsSkipLogic.SkipLogicFactory\n  create_operator: (type, symbol, id) ->\n    switch type\n      when 'text' then operator = new rowDetailsSkipLogic.TextOperator symbol\n      when 'date' then operator = new rowDetailsSkipLogic.DateOperator symbol\n      when 'basic' then operator = new rowDetailsSkipLogic.SkipLogicOperator symbol\n      when 'existence' then operator = new rowDetailsSkipLogic.ExistenceSkipLogicOperator symbol\n      when 'select_multiple' then operator = new rowDetailsSkipLogic.SelectMultipleSkipLogicOperator symbol\n      when 'empty' then return new rowDetailsSkipLogic.EmptyOperator()\n    operator.set 'id', id\n    operator\n  create_criterion_model: () ->\n    new rowDetailsSkipLogic.SkipLogicCriterion(@, @survey)\n  create_response_model: (type) ->\n    model = null\n    switch type\n      when 'integer' then model = new rowDetailsSkipLogic.IntegerResponseModel\n      when 'decimal' then model = new rowDetailsSkipLogic.DecimalResponseModel\n      else model = new rowDetailsSkipLogic.ResponseModel(type)\n    model.set 'type', type\n  constructor: (@survey) ->\n\nclass rowDetailsSkipLogic.SkipLogicCriterion extends Backbone.Model\n  serialize: () ->\n    response_model = @get('response_value')\n\n    if `response_model != null && this.get('operator') != null && this.get('question_cid') != null && response_model.isValid() !== false && response_model.get('value') != null && this._get_question()`\n      @_get_question().finalize()\n      `var questionName = this._get_question().getValue('name')`\n      return @get('operator').serialize(questionName, response_model.get('value'))\n    else\n      return ''\n  _get_question: () ->\n    @survey.findRowByCid(this.get('question_cid'), { includeGroups: true })\n\n\n  change_question: (cid) ->\n    # old_question_type = this._get_question()?.get_type() or { name: null }\n    # # compiles incorrectly (extra != null)\n    # - old_question_type = ((_ref = this._get_question()) != null ? _ref.get_type() : void 0) || { name: null };\n    # + old_question_type = ((_ref = this._get_question()) ? _ref.get_type() : void 0) || { name: null };\n    # old_question_type = @neverDefined?.increment_coffee_ref()\n    # old_question_type = (if `this._get_question()` then this._get_question().get_type()) or { name: null }\n    old_question_type = @_get_question()?.get_type?() or { name: null }\n    @set('question_cid', cid)\n    question_type = @_get_question().get_type()\n\n    if @get('operator').get_id() not in question_type.operators\n      @change_operator question_type.operators[0]\n    else if old_question_type.name != question_type.name\n      @change_operator @get('operator').get_value()\n\n    if !@get('operator').get_type().response_type? && @_get_question().response_type != @get('response_value')?.get_type()\n      return `this.change_response((response_model = this.get('response_value')) != null ? this._get_question()._isSelectQuestion() ? response_model.get('cid') : response_model.get('value') : '')`\n  change_operator: (operator) ->\n    operator = +operator\n    is_negated = false\n    if operator < 0\n      is_negated = true\n      operator *=-1\n\n    question_type = @_get_question().get_type()\n\n    if !(operator in question_type.operators)\n      return\n\n    type = $skipLogicHelpers.operator_types[operator - 1]\n    symbol = type.symbol[type.parser_name[+is_negated]]\n    operator_model = @factory.create_operator (if type.type == 'equality' then question_type.equality_operator_type else type.type), symbol, operator\n    @set('operator', operator_model)\n\n    if (type.response_type || question_type.response_type) != @get('response_value')?.get('type')\n      # -        return this.change_response(((_ref1 = this.get('response_value')) != null ?\n      # +        return this.change_response(((_ref1 = this.get('response_value')) != null ?\n      # -           _ref1.get(this._get_question()._isSelectQuestion() ? 'cid' : 'value')\n      # -             : void 0) || '');\n      # +           this._get_question()._isSelectQuestion() ? _ref1.get('cid') : _ref1.get('value')\n      # +             : void 0) || '');\n      @change_response @get('response_value')?.get(if @_get_question()._isSelectQuestion() then 'cid' else 'value') or ''\n  get_correct_type: () ->\n    @get('operator').get_type().response_type || @_get_question().get_type().response_type\n\n  set_option_names: (options) ->\n    _.each(options, (model)->\n      if (`model.get('name') == null`)\n        model.set('name', $utils.sluggify(model.get('label')))\n    )\n    ``\n\n  change_response: (value) ->\n    response_model = @get('response_value')\n    if !response_model || response_model.get('type') != @get_correct_type()\n      response_model = @factory.create_response_model @get_correct_type()\n      @set('response_value', response_model)\n\n    if @get_correct_type() == 'dropdown'\n      current_value = `response_model ? response_model.get('cid') : null`\n      `var choicelist = this._get_question().getList()`\n      response_model.set('choicelist', choicelist)\n      choices = choicelist.options.models\n      this.set_option_names(choices)\n\n      # current_value = response_model?.get('value')\n      # choices = @_get_question().getList().options.models\n\n      # _.each choices, (model) ->\n      #   if !model.get('name')?\n      #     model.set('name', rowDetailsSkipLogic.sluggify model.get 'label')\n\n      choice_cids = _.map(choices, (model) -> model.cid)\n\n      if value in choice_cids\n        response_model.set_value value\n      else if current_value in choice_cids\n        response_model.set_value current_value\n      else\n        response_model.set_value choices[0].cid\n    else\n      response_model.set_value(value)\n  constructor: (@factory, @survey) ->\n    super()\n\n\nclass rowDetailsSkipLogic.Operator extends Backbone.Model\n  serialize: (question_name, response_value) ->\n    throw new Error(\"Not Implemented\")\n  get_value: () ->\n    val = ''\n    if @get 'is_negated'\n      val = '-'\n    val + @get 'id'\n  get_type: () ->\n    $skipLogicHelpers.operator_types[@get('id') - 1]\n  get_id: () ->\n    @get 'id'\n\nclass rowDetailsSkipLogic.EmptyOperator extends rowDetailsSkipLogic.Operator\n  serialize: () -> ''\n  constructor: () ->\n    super()\n    @set 'id', 0\n    @set 'is_negated', false\n\nclass rowDetailsSkipLogic.SkipLogicOperator extends rowDetailsSkipLogic.Operator\n  serialize: (question_name, response_value) ->\n    return '${' + question_name + '} ' + @get('symbol') + ' ' + response_value\n  constructor: (symbol) ->\n    super()\n    @set('symbol', symbol)\n    this.set('is_negated', [\n      '!=',\n      '<',\n      '<=',\n    ].indexOf(symbol) > -1)\n    # @set('is_negated', symbol == '!=')\n\nclass rowDetailsSkipLogic.TextOperator extends rowDetailsSkipLogic.SkipLogicOperator\n  serialize: (question_name, response_value) ->\n    return super(question_name, \"'\" + response_value.replace(/'/g, '\\\\\\'') + \"'\")\n\nclass rowDetailsSkipLogic.DateOperator extends rowDetailsSkipLogic.SkipLogicOperator\n  serialize: (question_name, response_value) ->\n    if `response_value.indexOf('date') == -1`\n      response_value = 'date(\\'' + response_value + '\\')';\n    return super(question_name, response_value)\n\nclass rowDetailsSkipLogic.ExistenceSkipLogicOperator extends rowDetailsSkipLogic.SkipLogicOperator\n  serialize: (question_name) ->\n    return super(question_name, \"''\")\n  constructor: (operator) ->\n    super(operator)\n    @set('is_negated', operator == '=')\n\nclass rowDetailsSkipLogic.SelectMultipleSkipLogicOperator extends rowDetailsSkipLogic.SkipLogicOperator\n  serialize: (question_name, response_value) ->\n    selected = \"selected(${\" + question_name + \"}, '\" + response_value + \"')\"\n\n    if @get('is_negated')\n      return 'not(' + selected + ')'\n    return selected\n\nclass rowDetailsSkipLogic.ResponseModel extends Backbone.Model\n  constructor: (type)->\n    super()\n    if type is 'dropdown'\n      @_set_value = @set_value\n      @set_value = (cid)->\n        choice = @get('choicelist').options.get(cid)\n        if choice\n          @_set_value(choice.get('name'))\n          @set('cid', cid)\n        ``\n  get_type: () ->\n    return @get('type')\n  set_value: (value) ->\n    @set('value', value, validate: true)\n\nclass rowDetailsSkipLogic.IntegerResponseModel extends rowDetailsSkipLogic.ResponseModel\n  validation:\n    value:\n      pattern: /^-?\\d+$/\n      msg: 'Number must be integer'\n  set_value: (value)->\n    if value is ''\n      value = `undefined`\n    this.set 'value', value, validate: !!value\n\nclass rowDetailsSkipLogic.DecimalResponseModel extends rowDetailsSkipLogic.ResponseModel\n  validation:\n    value:\n      pattern: 'number'\n      msg: 'Number must be decimal'\n  set_value: (value) ->\n    `function value_is_not_number() {\n      return typeof value !== 'number';\n    }`\n\n    if typeof value is 'undefined' or value is ''\n      value = null\n    else\n      if value_is_not_number()\n        value = value.replace(/\\s/g, '')\n        value = +value || value\n\n      if value_is_not_number()\n        value = +value.replace(',', '.') || value\n\n      if value_is_not_number()\n        if value.lastIndexOf(',') > value.lastIndexOf('.')\n          value = +value.replace(/\\./g, '').replace(',', '.')\n        else\n          value = +value.replace(',', '')\n\n      # if value.lastIndexOf(',') > value.lastIndexOf('.')\n      #   final_value = +(value.replace(/\\./g, '').replace(',', '.'))\n      # else\n      #   final_value = +(value.replace(',', ''))\n    @set('value', value, validate: true)\n\nclass rowDetailsSkipLogic.DateResponseModel extends rowDetailsSkipLogic.ResponseModel\n  validation:\n    value:\n      pattern: /date\\(\\'\\d{4}-\\d{2}-\\d{2}\\'\\)/\n  set_value: (value) ->\n    if /^\\d{4}-\\d{2}-\\d{2}$/.test(value)\n      value = \"date('\" + value + \"')\"\n    @set('value', value, validate: true)\n\nmodule.exports = rowDetailsSkipLogic\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport './toggleSwitch.scss';\n\n/**\n * A toggle switch generic component. Operates same as checkbox, different look.\n *\n * @prop {boolean} checked\n * @prop {function} onChange required\n * @prop {string} label\n */\nclass ToggleSwitch extends React.Component {\n  constructor(props){\n    if (typeof props.onChange !== 'function') {\n      throw new Error('onChange callback in ToggleSwitch missing!');\n    }\n    super(props);\n    autoBind(this);\n  }\n\n  onChange(evt) {\n    this.props.onChange(evt.currentTarget.checked);\n  }\n\n  render() {\n    return (\n      <bem.ToggleSwitch>\n        <bem.ToggleSwitch__wrapper>\n          <bem.ToggleSwitch__input\n            type='checkbox'\n            name={this.props.name}\n            id={this.props.id}\n            onChange={this.onChange}\n            checked={this.props.checked}\n            disabled={this.props.disabled}\n          />\n          <bem.ToggleSwitch__slider\n            disabled={this.props.disabled}\n          />\n\n          {this.props.label &&\n            <bem.ToggleSwitch__label htmlFor={this.props.id}>\n              {this.props.label}\n            </bem.ToggleSwitch__label>\n          }\n        </bem.ToggleSwitch__wrapper>\n      </bem.ToggleSwitch>\n    );\n  }\n}\n\nexport default ToggleSwitch;\n","###\nLicense: BSD 2-clause License (From http://github.com/dorey/xlform-builder/LICENSE.md)\n\nCopyright (c) 2013, Alex Dorey\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without modification, are\npermitted provided that the following conditions are met:\n\n  * Redistributions of source code must retain the above copyright notice, this list\n    of conditions and the following disclaimer.\n  * Redistributions in binary form must reproduce the above copyright notice, this\n    list of conditions and the following disclaimer in the documentation and/or other\n    materials provided with the distribution.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\nEXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\nOF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT\nSHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,\nINCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED\nTO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\nBUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\nCONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN\nANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH\nDAMAGE.\n###\n\n#   ###\n#   XLForm\n#     (for XLSForm without the excel dependency)\n#\n#   Used to create surveys that can be compiled to XForms using the python library: pyxform\n#   ###\n\n$model = require './_model'\n$view = require './_view'\n$skipLogicHelpers = require './mv.skipLogicHelpers'\n\nmodule.exports = do ->\n  XLF =\n    model: $model\n    view: $view\n    helper:\n      skipLogic: $skipLogicHelpers\n\n  XLF\n","_ = require 'underscore'\nValidator = require './view.utils.validator'\n\nmodule.exports = do ->\n  viewUtils = {}\n  viewUtils.Validator = Validator\n\n  # replaces characters that jQuery can't handle in event name\n  viewUtils.normalizeEventName = (eventName) ->\n    regex = new RegExp('[: ()]', 'g')\n    eventName = eventName.replace(regex, '-');\n    return eventName\n\n  viewUtils.reorderElemsByData = (selector, parent, dataAttribute)->\n    arr = []\n    parentEl = false\n    $(parent).find(selector).each (i)->\n      if i is 0\n        parentEl = @parentElement\n      else if @parentElement isnt parentEl\n        throw new Error(\"All reordered items must be siblings\")\n\n      $el = $(@).detach()\n      val = $el.data(dataAttribute)\n      arr[val] = $el  if _.isNumber(val)\n    $el.appendTo(parentEl)  for $el in arr when $el\n    return\n\n  viewUtils.cleanStringify = (atts)->\n    attArr = []\n    for key, val of atts when val isnt \"\"\n      attArr.push \"\"\"<span class=\"atts\"><i>#{key}</i>=\"<em>#{val}</em>\"</span>\"\"\"\n    attArr.join(\"&nbsp;\")\n\n  viewUtils.debugFrame = do ->\n    $div = false\n    debugFrameStyle =\n      position: \"fixed\"\n      width: \"95%\"\n      height: \"80%\"\n      bottom: 10\n      left: \"2.5%\"\n      overflow: \"auto\"\n      zIndex: 100\n      backgroundColor: \"rgba(255,255,255,0.7)\"\n\n    showFn = (txt)->\n      html = txt.split(\"\\n\").join(\"<br>\")\n      $div = $(\"<div>\", class: \"well debug-frame\").html(\"<code>#{html}</code>\")\n        .css(debugFrameStyle)\n        .appendTo(\"body\")\n    showFn.close = ->\n      if $div\n        $div.remove()\n        $div = false\n    showFn\n\n  viewUtils.launchQuestionLibrary = do ->\n    launch = (opts={})->\n      wrap = $(\"<div>\", class: \"js-click-remove-iframe iframe-bg-shade\")\n      $(\"<div>\").text(\"\"\"\n        Launch question library in this element\n        <section koboform-question-library=\"\"></section>\n      \"\"\").appendTo(wrap)\n      wrap.click ()-> wrap.remove()\n      wrap\n\n    launch\n\n  viewUtils.enketoIframe = do ->\n    enketoServer = \"https://enketo.org\"\n    enketoPreviewUri = \"/webform/preview\"\n    buildUrl = (previewUrl)->\n      \"\"\"#{enketoServer}#{enketoPreviewUri}?form=#{previewUrl}\"\"\"\n\n    _loadConfigs = (options)->\n      if options.enketoPreviewUri\n        enketoPreviewUri = options.enketoPreviewUri\n      if options.enketoServer\n        enketoServer = options.enketoServer\n\n    clickCloserBackground = ->\n      $(\"<div>\", class: \"js-click-remove-iframe\")\n\n    launch = (previewUrl, options={})->\n      _loadConfigs(options)\n      console.log options\n      $(\".enketo-holder\").append $(\"<iframe>\", src: buildUrl(previewUrl))\n      $(\".enketo-holder iframe\").load ()->\n        # alert \"iframe loaded yo!\"\n        $(\".enketo-loading-message\").remove()\n\n    launch.close = ()->\n      $(\".iframe-bg-shade\").remove()\n      $(\".enketo-holder\").remove()\n\n    launch.fromCsv = (surveyCsv, options={})->\n      holder = $(\"<div>\", class: \"enketo-holder\").html(\"\"\"\n        <div class='enketo-iframe-icon'></div>\n        <div class=\"enketo-loading-message\">\n          <p>\n          <i class=\"k-spin k-icon k-icon-spinner\"></i>\n          <br/>\n          Loading Preview\n        </p>\n        <p>\n          This will take a few seconds depending on the size of your form.\n        </p>\n        </div>\n      \"\"\")\n      wrap = $(\"<div>\", class: \"js-click-remove-iframe iframe-bg-shade\")\n      holder.appendTo('body')\n      wrap.appendTo('body')\n\n      wrap.click ()->\n        wrap.remove()\n        holder.remove()\n\n      $('.enketo-holder .enketo-iframe-icon').click ()->\n        wrap.remove()\n        holder.remove()\n\n      previewServer = options.previewServer or \"\"\n      data = JSON.stringify(body: surveyCsv)\n      _loadConfigs(options)\n      onError = options.onError or (args...)-> console?.error.apply(console, args)\n\n      $.ajax\n        url: \"#{previewServer}/koboform/survey_preview/\"\n        method: \"POST\"\n        data: data\n        complete: (jqhr, status)=>\n          response = jqhr.responseJSON\n          if status is \"success\" and response and response.unique_string\n            unique_string = response.unique_string\n            launch(\"#{previewServer}/koboform/survey_preview/#{unique_string}\")\n            options.onSuccess()  if options.onSuccess?\n          else if status isnt \"success\"\n            wrap.remove()\n            holder.remove()\n            informative_message = jqhr.responseText or jqhr.statusText\n            if informative_message.split(\"\\n\").length > 0\n              informative_message = informative_message.split(\"\\n\")[0..2].join(\"<br>\")\n            onError informative_message, title: 'Error launching preview'\n          else if response and response.error\n            wrap.remove()\n            holder.remove()\n            onError response.error\n          else\n            wrap.remove()\n            holder.remove()\n            onError \"SurveyPreview response JSON is not recognized\"\n\n    launch\n\n  viewUtils\n","_ = require 'underscore'\nbase = require './model.base'\n$modelUtils = require './model.utils'\n\nmodule.exports = do ->\n\n  choices = {}\n\n  class choices.Option extends base.BaseModel\n    initialize: ->\n      @unset(\"list name\")\n      @unset(\"list_name\")\n    destroy: ->\n      choicelist = @list()._parent\n      choicelist_cid = choicelist.cid\n      survey = choicelist.collection._parent\n      @collection.remove(@)\n      survey.trigger('remove-option', choicelist_cid, @cid)\n    list: -> @collection\n    getKeys: (with_val)->\n      # returns a list of columns in the xlsform.\n      # if `with_val` is true, only returns columns that\n      # have an associated value.\n      keys = []\n      for key, attribute of @attributes\n        if !with_val\n          keys.push(key)\n        else if @get key\n          keys.push(key)\n      keys\n    toJSON: ()->\n      attributes = {}\n      for key, attribute of @attributes\n        attributes[key] = @get key\n      attributes\n\n  class choices.Options extends base.BaseCollection\n    model: choices.Option\n\n  class choices.ChoiceList extends base.BaseModel\n    idAttribute: \"name\"\n    constructor: (opts={}, context)->\n      options = opts.options || []\n      super name: opts.name, context\n      @options = new choices.Options(options || [], _parent: @)\n    summaryObj: ->\n      @toJSON()\n    getSurvey: ->\n      @collection.getSurvey()\n\n    getList: ->\n      # used for cascading selects: if choiceList is connected to\n      # another choiceList, pass it on.\n      if @__cascadedList\n        @__cascadedList\n      else\n        null\n\n    _get_previous_linked_choice_list: ->\n      @collection.find((cl)=> cl.getList() is @ )\n\n    _get_last_linked_choice_list: ->\n      prev = next = @\n      while next = prev._get_previous_linked_choice_list()\n        prev = next\n      prev\n\n    _get_first_linked_choice_list: ->\n      prev = next = @\n      while next = prev.getList()\n        prev = next\n      prev\n\n    _has_corresponding_row: ->\n      _name = @get('name')\n      !!@getSurvey().rows.find((r)->\n          r.get('type').get('listName') is _name\n        )\n\n    _create_corresponding_row_data: (opts={})->\n      full_path = !!opts._full_path_choice_filter\n      cl = @_get_first_linked_choice_list()\n      prevs = []\n      rows_data = []\n      build_row_data = (curlist)->\n        name = curlist.get 'name'\n        if full_path\n          _choice_filtered = prevs\n        else\n          _choice_filtered = _.compact([_.last(prevs)])\n        {\n          label: name\n          type: \"select_one #{name}\"\n          choice_filter: _choice_filtered.map((cl)->\n              cl_name = cl.get('name')\n              \"#{cl_name}=${#{cl_name}}\"\n            ).join(\" and \")\n        }\n      rows_data.push(build_row_data(cl))\n      next_list = cl\n      prevs.push(cl)\n      while (next_list = next_list._get_previous_linked_choice_list())\n        rows_data.push(build_row_data(next_list))\n        prevs.push(next_list)\n      rows_data\n\n    create_corresponding_rows: (opts={})->\n      rows_data = @_create_corresponding_row_data()\n      survey = @getSurvey()\n      _index = opts.at or 0\n      for row_data in rows_data.reverse()\n        survey.addRowAtIndex(row_data, _index)\n\n    getOptionKeys: (with_val=true)->\n      option_keys = []\n      for option in @options.models\n        for option_key in option.getKeys(with_val)\n          option_keys.push(option_key)\n      _.uniq(option_keys)\n\n    finalize: ->\n      # ensure that all options have names\n      names = []\n      for option in @options.models\n        label = option.get(\"label\")\n        name = option.get(\"name\")\n        if not name\n          name = $modelUtils.sluggify(label, {\n            preventDuplicates: names\n            lowerCase: true\n            lrstrip: true\n            characterLimit: 40\n            incrementorPadding: false\n            validXmlTag: false\n          })\n          option.set(\"name\", name)\n        names.push name\n      return\n\n    clone: () ->\n      json = @toJSON()\n      delete json.name\n      return _.assign(\n          new choices.ChoiceList(json),\n          collection: @collection\n        )\n\n    toJSON: ()->\n      @finalize()\n\n      # Returns {name: '', options: []}\n      name: @get(\"name\")\n      options: @options.invoke(\"toJSON\")\n\n    getNames: ()->\n      names = @options.map (opt)-> opt.get(\"name\")\n      _.compact names\n\n  class choices.ChoiceLists extends base.BaseCollection\n    model: choices.ChoiceList\n    create: ->\n      @add(cl = new choices.ChoiceList(name: $modelUtils.txtid()))\n      cl\n    getListNames: ->\n      @invoke('get', 'name')\n    summaryObj: (shorter=false)->\n      out = {}\n      for model in @models\n        if shorter\n          out[model.get(\"name\")] = model.summaryObj().options\n        else\n          out[model.get(\"name\")] = model.summaryObj()\n      out\n\n  choices\n","module.exports = do ->\n  # The Csv class is only internally accessible, though easy\n  # to instantiate through the `csv` function.\n  #\n  # It receives a parameter (and optional options) which\n  # are stored for later use.\n  class Csv\n    constructor: (param, opts={})->\n      if _isString param\n        @string = param\n        rows = csv.toArray @string\n        @rows = arrayToObjects rows\n        [@columns, @rowArray...] = rows\n      else if _isArray param\n        @rows = param\n        @columns = do =>\n          columns = []\n          for row in @rows\n            columns.push key  for own key of row when key not in columns\n          columns\n        @buildRowArray()\n        @obj = param\n      else if param\n        @columns  = if _isArray param.columns then param.columns else []\n        if param.rowObjects\n          if @columns.length is 0\n            # this may be slow, but it should get all the possible columns\n            for row in param.rowObjects\n              for key, val of row when key not of columns\n                @columns.push key\n          @rowArray = do =>\n            for row in param.rowObjects\n              row[c] for c in @columns\n        else\n          @rowArray = if _isArray param.rows then param.rows else []\n        @kind     = param.kind if param.kind?\n        @rows = do =>\n          for row in @rowArray\n            rowObj = {}\n            for cell, i in row  when @columns[i]?\n              rowObj[@columns[i]] = cell\n            rowObj\n      else\n        @rows     = []\n        @columns  = []\n        @rowArray = []\n\n    buildRowArray: ()->\n      @rowArray = do =>\n        for row in @rows\n          for column in @columns\n            row[column] || \"\"\n\n    addRow: (r)->\n      colsChanged = false\n      for own key, val of r\n        unless key in @columns\n          colsChanged = true\n          @columns.push key\n      @rows.push r\n      if colsChanged\n        @buildRowArray()\n      else\n        @rowArray.push (r[column] for column in @columns)\n      r\n\n    toObjects: (opts={})->\n      if @string\n        return csv.toObjects @string, opts\n      else if @rows\n        @rows\n\n    toObject: ()->\n      out =\n        columns: @columns\n        rows: @rowArray\n      out.kind = @kind  if @kind\n      out\n\n    toArrays: ()->\n      out = [@columns]\n      out.push row  for row in @rowArray when row.length > 0\n      out\n\n    toString: ()->\n      headRow = (asCsvCellValue cell for cell in @columns).join(csv.settings.delimiter)\n      headRow + \"\\n\" + (for row in @rowArray\n        (asCsvCellValue cell for cell in row).join csv.settings.delimiter).join(\"\\n\")\n\n  csv = (param, opts)->\n    if param instanceof Csv then param else new Csv param, opts\n\n  _remove_extra_escape_chars = (ss)->\n    ss.replace(/\\\\\\\\/g, '\\\\')\n\n  asCsvCellValue = (cell)->\n    if cell is undefined\n      \"\"\n    else if ///\\W|\\w|#{csv.settings.delimiter}///.test cell\n      outstr = JSON.stringify(\"\" + cell)\n      _remove_extra_escape_chars outstr\n    else\n      cell\n\n  csv.fromStringArray = (outpArr, opts={})->\n    outArr = for row in outpArr\n      (asCsvCellValue cell for cell in row).join csv.settings.delimiter\n    outArr.join \"\\n\"\n\n  csv.fromArray = (arr, opts={})->\n    sort        = !!opts.sort\n    headRow     = []\n    for row in arr\n      headRow.push key  for own key of row when -1 is headRow.indexOf key\n    headRow.sort()  if sort\n    outpArr = for row in arr\n      asCsvCellValue row[col]  for col in headRow\n    outpArr.unshift (asCsvCellValue col  for col in headRow)\n    csv.fromStringArray outpArr, opts\n\n  csv.toObjects = (csvString)->\n    arrayToObjects csv.toArray csvString\n\n  arrayToObjects = (arr)->\n    [headRow, rows...] = arr\n    for row in rows when !(row.length is 1 and row[0] is \"\")\n      obj = {}\n      for key, i in headRow\n        obj[key] = row[i]\n      obj\n\n  csv.toObject = (csvString, opts)->\n    arrayToObject csv.toArray(csvString), opts\n\n  arrayToObject = (arr, opts={})->\n    [headRow, rows...] = arr\n\n    sortByKey         = opts.sortByKey\n    includeSortByKey  = opts.includeSortByKey\n\n    unless sortByKey\n      sortByKey = headRow[0]\n\n    sortByKeyI = headRow.indexOf sortByKey\n\n    out = {}\n    for row in rows when !(row.length is 1 and row[0] is \"\")\n      obj = {}\n      sbKeyVal = row[sortByKeyI]\n      obj[key] = row[i]  for key, i in headRow when i isnt sortByKeyI\n      obj[sortByKey] = sbKeyVal  if includeSortByKey\n      out[sbKeyVal] = obj\n    out\n\n  removeTrailingNewlines = (str)-> str.replace(/(\\n+)$/g, \"\")\n\n  csv._parse_string = (c)->\n    JSON.parse('\"' + c.replace(/\\\\/g, '\\\\\\\\').replace(/\\\\\\\\\"/g, '\\\\\"') + '\"')\n\n  # The `csv.toArray` function, pulled from this [stackoverflow comment](http://stackoverflow.com/questions/1293147/javascript-code-to-parse-csv-data)\n  # will parse a delimited string into an array of\n  # arrays. The default delimiter is the comma, but this\n  # can be overriden in the second argument.\n\n  csv.toArray = (strData) ->\n    if csv.settings.removeTrailingNewlines\n      strData = removeTrailingNewlines(strData)\n    strDelimiter = csv.settings.delimiter\n\n    rows = []\n    row = []\n\n    # The `objPattern` regular expression pulls out\n    #\n    # * Delimiters\n    # * quoted fields\n    # * and standard fields\n\n    ###\n    this regexp needs to be compiled with coffee-script 1.6.3\n    or, escape characters need to be escaped (see csv._objPattern\n    below this comment)\n\n    csv._objPattern = ///\n      (\n        \\ #{strDelimiter}\n        |\n        \\r?\\n\n        |\n        \\r\n        |\n        ^\n      )\n      (?:\n        \"(\n          (?:\n            (?:\n              [^\\\\]\n              |\n              \\\\\\\\\n              |\n              [\\\\(?=\")]\"\n              |\n              [\\\\(?!\")]\n            )*?\n          )\n        )\"\n        # > a simpler version that fails\n        # > when cell ends with a backslash:\n        # \"(\n        #   (?:\n        #     \\\\\"\n        #     |\n        #     [^\"]\n        #   )*\n        # )\"\n        |\n        (\n          [^\"\\ #{strDelimiter}\\r\\n]*\n        )\n      )\n    ///gi\n    ###\n\n    csv._objPattern = `new RegExp('(\\\\,|\\\\r?\\\\n|\\\\r|^)(?:\"((?:(?:[^\\\\\\\\]|\\\\\\\\\\\\\\\\|[\\\\\\\\(?=\")]\"|[\\\\\\\\(?!\")])*?))\"|([^\"\\\\,\\\\r\\\\n]*))', 'gi')`\n\n    while arrMatches = csv._objPattern.exec(strData)\n      strMatchedDelimiter = arrMatches[1]\n\n      if strMatchedDelimiter.length and (strMatchedDelimiter isnt strDelimiter)\n        rows.push row\n        row = []\n\n      if arrMatches[2]\n        # cell is wrapped in quotes\n        strMatchedValue = csv._parse_string(arrMatches[2])\n      else\n        # cell is not wrapped in quotes\n        strMatchedValue = arrMatches[3]\n\n      if csv.settings.parseFloat and !isNaN (parsedMatch = parseFloat strMatchedValue)\n        strMatchedValue = parsedMatch\n\n      row.push strMatchedValue\n    rows.push row\n    rows\n\n\n  #### Sheeted CSVs\n  #\n  # A \"sheeted csv\" is a [made-up] term for a csv where value in the\n  # first column corresponds to the \"sheet name\" and any remaining columns\n  # are treated as contents of that sheet.\n  #\n  # *coffeescript example:*\n  #\n  #      sheetedCsv = \"\"\"\n  #        survey\n  #        ,label,type\n  #        ,Name:,text\n  #        ,Favorite color:,select_one colors\n  #        choices,,\n  #        ,list,label\n  #        ,colors,Black\n  #        ,colors,White\n  #        settings,col1,col2\n  #        ,setting1,true\n  #        ,setting2,false\n  #      \"\"\"\n\n  class SheetedCsv\n    constructor: (param, opts)->\n      @_sheetIds = []\n      @_sheets = {}\n      if _isString param\n        parseSheetedCsv param, (osids, sheets)=>\n          for id in osids\n            [columns, rows...] = sheets[id]\n            @sheet id, csv columns: columns, rows: rows\n\n    sheet: (sheetId, contents=false)->\n      if contents\n        unless sheetId in @_sheetIds\n          @_sheetIds.push sheetId\n        @_sheets[sheetId] = contents\n      else\n        @_sheets[sheetId]\n    toString: ()->\n      outp = []\n      delimiter = csv.settings.delimiter\n      for sheetId in @_sheetIds\n        sheet = @_sheets[sheetId]\n        cols = sheet.columns\n        rowA = sheet.rowArray\n        headRowStr = asCsvCellValue sheetId\n        headRowStr += delimiter  for i in [0...cols.length]\n        outp.push headRowStr\n        outp.push delimiter + (asCsvCellValue col for col in cols).join delimiter\n        for row in rowA\n          outp.push delimiter + (asCsvCellValue cell for cell in row).join delimiter\n      outp.join(\"\\n\")\n\n  csv.sheeted = (param, opts)->\n    if param instanceof SheetedCsv then param else new SheetedCsv param, opts\n\n  # typically, most rows of a sheeted csv begin with an empty cell.\n  #\n  # *Note: When a sheet id is repeated, the contents are appended to the original sheet*\n\n  parseSheetedCsv = (shcsv, cb=false)->\n    sheets = {}\n    orderedSheetIds = []\n\n    for [cell1, remaining...] in csv.toArray shcsv\n      if cell1\n        curSheet = cell1\n\n      unless curSheet\n        throw new Error \"\"\"\n          Sheet id must be defined in the first column and cannot be falsey\n          \"\"\"\n\n      unless curSheet in orderedSheetIds\n        orderedSheetIds.push curSheet\n\n      unless sheets[curSheet]\n        sheets[curSheet] = []\n\n      lineHasContent = do ->\n        return true  for item in remaining when item\n\n      sheets[curSheet].push remaining  if lineHasContent\n\n    unless cb\n      return [orderedSheetIds, sheets]\n\n    cb.apply @, [orderedSheetIds, sheets]\n\n  # The function `csv.sheeted.toObjects(sheetedCsv)`\n  # takes a sheeted csv and builds sheets individually\n  # as it would in `csv.toObjects`\n  csv.sheeted.toObjects = (shCsv)-> parseSheetedCsv shCsv, (osids, sheets)->\n    output = {}\n    for sheet in osids\n      output[sheet] = arrayToObjects sheets[sheet]\n    output\n\n  # The function `csv.sheeted.toArray(sheetedCsv)`\n  # preserves the order of the sheets.\n  csv.sheeted.toArray = (shCsv)-> parseSheetedCsv shCsv, (osids, sheets)->\n    for sheet in osids\n      id: sheet\n      sheet: arrayToObjects sheets[sheet]\n\n\n  # Misc. helper methods carried over from underscore.coffee\n  _isString       = (obj) -> !!(obj is '' or (obj and obj.charCodeAt and obj.substr))\n  _nativeIsArray  = Array.isArray\n  _isArray        = _nativeIsArray or (obj) -> !!(obj and obj.concat and obj.unshift and not obj.callee)\n  _nativeKeys     = Object.keys\n  _keys           = _nativeKeys or (obj)->\n    return new Array obj.length  if _isArray(obj)\n    key for key, val of obj\n\n  csv.settings =\n    delimiter: \",\"\n    parseFloat: false\n    removeTrailingNewlines: true\n\n  csv\n","_ = require 'underscore'\n\nchoices_templates = require './view.choices.templates'\naccepted_files_templates = require './view.acceptedFiles.templates'\nparams_templates = require './view.params.templates'\nrow_templates = require './view.row.templates'\nrowDetail_templates = require './view.rowDetail.templates'\nrowSelector_templates = require './view.rowSelector.templates'\nsurveyApp_templates = require './view.surveyApp.templates'\n\nmodule.exports = do ->\n  templates =\n    choices: choices_templates\n    params: params_templates\n    row: row_templates\n    rowDetail: rowDetail_templates\n    rowSelector: rowSelector_templates\n    surveyApp: surveyApp_templates\n\n  templates['AcceptedFilesView.input'] = accepted_files_templates.acceptedFilesInput\n  templates['ParamsView.numberParam'] = params_templates.numberParam\n  templates['ParamsView.booleanParam'] = params_templates.booleanParam\n  templates['xlfListView.addOptionButton']  = choices_templates.addOptionButton\n  templates['row.mandatorySettingSelector'] = row_templates.mandatorySettingSelector\n  templates['row.rowErrorView']             = row_templates.rowErrorView\n  templates['row.xlfRowView']               = row_templates.xlfRowView\n  templates['row.scoreView']                = row_templates.scoreView\n  templates['row.rankView']                 = row_templates.rankView\n  templates['surveyApp']                    = surveyApp_templates.surveyApp\n  templates['xlfRowSelector.line']          = rowSelector_templates.line\n  templates['xlfRowSelector.cell']          = rowSelector_templates.cell\n  templates['xlfRowSelector.namer']         = rowSelector_templates.namer\n  templates['xlfDetailView']                = rowDetail_templates\n\n  $$render = (id, params...)->\n    # Having a render method allows us to display error messages\n    # better than 'undefined is not a function'.\n    template = templates[id]\n    unless template\n      throw new Error(\"Template not available: '#{id}'\")\n    unless 'function' is typeof template\n      throw new Error(\"Template not a function: '#{id}'\")\n    template(params...)\n\n  templates.$$render = $$render\n\n  templates\n","import React from 'react';\nimport {getAssetDisplayName} from 'js/assetUtils';\nimport {hasLongWords} from 'utils';\nimport './assetName.scss';\n\n/**\n * Displays the name of the asset. Works for any asset type and regardless if it\n * has a name or not.\n *\n * @prop {object} asset\n */\nexport default class AssetName extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const displayName = getAssetDisplayName(this.props.asset);\n    let extra = null;\n    const classNames = ['asset-name'];\n    const summary = this.props.asset.summary;\n\n    if (\n      !displayName.original &&\n      displayName.question &&\n      summary.row_count\n    ) {\n      if (summary.row_count === 2) {\n        extra = <small>{t('and one other question')}</small>;\n      } else if (summary.row_count > 2) {\n        extra = <small>{t('and ## other questions').replace('##', summary.row_count - 1)}</small>;\n      }\n    }\n\n    if (displayName.empty) {\n      // if we display empty name fallback, we style it differently\n      classNames.push('asset-name--empty');\n    }\n\n    if (hasLongWords(displayName.final)) {\n      classNames.push('asset-name--has-long-words');\n    }\n\n    return (\n      <span className={classNames.join(' ')}>\n        {displayName.final} {extra}\n      </span>\n    );\n  }\n}\n","_ = require 'underscore'\n$base = require './model.base'\n$choices = require './model.choices'\n$modelUtils = require './model.utils'\n$configs = require './model.configs'\n$surveyFragment = require './model.surveyFragment'\n$surveyDetail = require './model.surveyDetail'\n$inputDeserializer = require './model.inputDeserializer'\n$inputParser = require './model.inputParser'\n$markdownTable = require './model.utils.markdownTable'\ncsv = require './csv'\nLOCKING_PROFILES_PROP_NAME = require('js/components/locking/lockingConstants').LOCKING_PROFILES_PROP_NAME\n\nmodule.exports = do ->\n  class Survey extends $surveyFragment.SurveyFragment\n    constructor: (options={}, addlOpts)->\n      super()\n      if options.error\n        throw new Error(\"instantiating survey with error parameter\")\n      @_initialParams = options\n\n      @settings = new Settings(options.settings, _parent: @)\n      if !options.settings\n        @settings.enable_auto_name()\n\n      if (sname = @settings.get(\"name\") or options.name)\n        @set(\"name\", sname)\n\n      ###\n      # We don't use locking profiles in any way yet, so we just store it for\n      # saving - for checking these out, coffee code is using raw survey JSON.\n      ###\n      @lockingProfiles = options[LOCKING_PROFILES_PROP_NAME]\n\n      @newRowDetails = options.newRowDetails || $configs.newRowDetails\n      @defaultsForType = options.defaultsForType || $configs.defaultsForType\n\n      @surveyDetails = new $surveyDetail.SurveyDetails([], _parent: @).loadSchema(options.surveyDetailsSchema || $configs.surveyDetailSchema)\n      @choices = new $choices.ChoiceLists([], _parent: @)\n      $inputParser.loadChoiceLists(options.choices || [], @choices)\n\n      if options.survey\n        if !$inputParser.hasBeenParsed(options)\n          options.survey = $inputParser.parseArr(options.survey)\n        for r in options.survey\n          if typeof r.id isnt 'undefined'\n            throw new Error(\"Forbidden column `id` for row: #{JSON.stringify(r, null, 2)}\")\n\n          if r.type in $configs.surveyDetailSchema.typeList()\n            @surveyDetails.importDetail(r)\n          else\n            @rows.add r, collection: @rows, silent: true, _parent: @rows\n      else\n        @surveyDetails.importDefaults()\n      @context =\n        warnings: []\n        errors: []\n      @forEachRow (r)=>\n        if typeof r.linkUp is 'function'\n          r.linkUp(@context)\n      @linkUpChoiceLists()\n\n    @create: (options={}, addlOpts) ->\n      return new Survey(options, addlOpts)\n\n    linkUpChoiceLists: ->\n      # In case of cascading selects, this will ensure choiceLists are connected to\n      # sub choice lists through a private \"__cascadeList\" property\n      choiceKeys = @choices.getListNames()\n      for choiceList in @choices.models\n        overlapping_choice_keys = _.intersection(choiceKeys, choiceList.getOptionKeys(true))\n        if overlapping_choice_keys.length > 1\n          throw new Error(\"cascading choices can only reference one choice list\")\n        else if overlapping_choice_keys.length is 1\n          choiceList.__cascadedList = @choices.get(overlapping_choice_keys[0])\n      return\n\n    insert_row: (row, index) ->\n      if row._isCloned\n        @rows.add(row, at: index)\n      else\n        @rows.add(row.toJSON(), at: index)\n      new_row = @rows.at(index)\n      survey = @getSurvey()\n      if rowlist = row.getList()\n        survey.choices.add(options: rowlist.options.toJSON())\n        new_row.get('type').set('list', rowlist)\n      name_detail = new_row.get('name')\n      name_detail.set 'value', name_detail.deduplicate(survey)\n\n    _ensure_row_list_is_copied: (row)->\n      if !row.rows && rowlist = row.getList()\n        @choices.add(name: rowlist.get(\"name\"), options: rowlist.options.toJSON())\n\n    insertSurvey: (survey, index=-1, targetGroupId)->\n      index = @rows.length if index is -1\n      for row, row_i in survey.rows.models\n        # if target is a group, not root list of rows, we need to switch\n        target = @\n        if targetGroupId\n          foundGroup = @findRowByCid(targetGroupId, {includeGroups: true})\n          if foundGroup\n            target = foundGroup\n          else\n            throw new Error(\"Couldn't find group #{targetGroupId}!\")\n\n        index_incr = index + row_i\n\n        # inserting a group\n        if row.rows\n          if row.forEachRow\n            row.forEachRow(\n              (r) => @_ensure_row_list_is_copied(r),\n              {includeGroups: true}\n            )\n\n          @_insertRowInPlace(\n            row,\n            {\n              index: index_incr,\n              parent: target,\n              noDetach: true\n            }\n          )\n\n          # inserting a group (block from Library) doesn't trigger change event\n          # anywhere else, so we do it here manually\n          @trigger('change')\n        # inserting a question\n        else\n          @_ensure_row_list_is_copied(row)\n          name_detail = row.get('name')\n          name_detail.set 'value', name_detail.deduplicate(@)\n          target.rows.add(\n            row.toJSON(),\n            at: index_incr\n          )\n      return\n\n    toFlatJSON: (stringify=false, spaces=4)->\n      obj = @toJSON()\n\n      obj.survey = for row in obj.survey\n        if _.isObject(row.type)\n          row.type = [\n            _.keys(row.type)[0], _.values(row.type)[0]\n          ].join(' ')\n        row\n      if _.isObject(obj.choices)\n        flattened_choices = []\n        for own key, val of obj.choices\n          for list_item in val\n            _c = $.extend({list_name: key}, list_item)\n            delete _c.setManually\n            flattened_choices.push(_c)\n        obj.choices = flattened_choices\n\n      obj.settings = [@settings.attributes]\n\n      if @lockingProfiles\n        obj[LOCKING_PROFILES_PROP_NAME] = @lockingProfiles\n\n      if stringify\n        JSON.stringify(obj, null, spaces)\n      else\n        obj\n\n    toJSON: (stringify=false, spaces=4)->\n      obj = {}\n\n      addlSheets =\n        choices: new $choices.ChoiceLists()\n\n      obj.survey = do =>\n        out = []\n        fn = (r)->\n          if 'getList' of r and (l = r.getList())\n            addlSheets.choices.add(l)\n\n          if typeof r.export_relevant_values is 'function'\n            r.export_relevant_values(out, addlSheets)\n          else\n            console.error 'No r.export_relevant_values. Does this survey have non-standard columns?', r\n\n        @forEachRow fn, includeGroupEnds: true\n\n        for sd in @surveyDetails.models when sd.get(\"value\")\n          out.push sd.toJSON()\n\n        out\n\n      for shtName, sheet of addlSheets when sheet.length > 0\n        obj[shtName] = sheet.summaryObj(true)\n\n      if stringify\n        JSON.stringify(obj, null, spaces)\n      else\n        obj\n    getSurvey: -> @\n    log: (opts={})->\n      logFn = opts.log or (a...)-> console.log.apply(console, a)\n      tabs = ['-']\n      logr = (r)->\n        if 'forEachRow' of r\n          logFn tabs.join('').replace(/-/g, '='), r.get('label').get('value')\n          tabs.push('-')\n          r.forEachRow(logr, flat: true, includeGroups: true)\n          tabs.pop()\n        else\n          logFn tabs.join(''), r.get('label').get('value')\n      @forEachRow(logr, flat: true, includeGroups: true)\n      return\n\n    summarize: ->\n      rowCount = 0\n      hasGps = false\n      fn = (r)->\n        if r.get('type').get('value') is 'geopoint'\n          hasGps = true\n        rowCount++\n      @forEachRow(fn, includeGroups: false)\n\n      # summaryObj\n      rowCount: rowCount\n      hasGps: hasGps\n    _insertRowInPlace: (row, opts={})->\n      if row._parent && !opts.noDetach\n        row.detach(silent: true)\n      index = 0\n      if opts.index\n        index = opts.index\n      previous = opts.previous\n      parent = opts.parent\n      if previous\n        parent = previous.parentRow()\n        index = parent.rows.indexOf(previous) + 1\n      if !parent\n        parent = @\n      parent.rows.add(row, {at: index})\n\n      # line below looks like BAD CODE™ but in fact it enables row reordering\n      row._parent = parent.rows\n\n      if opts.event\n        parent.rows.trigger(opts.event)\n      return\n\n    prepCols: (cols, opts={}) ->\n      exclude = opts.exclude or []\n      add = opts.add or []\n      if _.isString(exclude) or _.isString(add)\n        throw new Error(\"prepCols parameters should be arrays\")\n      out = _.filter _.uniq( _.flatten cols), (col) -> col not in exclude\n      out.concat.apply(out, add)\n\n    toSsStructure: ()->\n      out = {}\n      for sheet, content of @toCsvJson()\n        out[sheet] = content.rowObjects\n      out\n    toCsvJson: ()->\n      # build an object that can be easily passed to the \"csv\" library\n      # to generate the XL(S)Form spreadsheet\n\n      @finalize()\n\n      out = {}\n      out.survey = do =>\n        oCols = [\"name\", \"type\", \"label\"]\n        oRows = []\n\n        addRowToORows = (r)->\n          colJson = r.toJSON()\n          for own key, val of colJson when key not in oCols\n            oCols.push key\n          oRows.push colJson\n\n        @forEachRow addRowToORows, includeErrors: true, includeGroupEnds: true\n        for sd in @surveyDetails.models when sd.get(\"value\")\n          addRowToORows(sd)\n\n        columns: oCols\n        rowObjects: oRows\n\n\n      choicesCsvJson = do =>\n        lists = new $choices.ChoiceLists()\n        @forEachRow (r)->\n          _getSubLists = (item)->\n            if 'getList' of item\n              list = item.getList()\n              if list and !lists.get(list.get('name'))\n                lists.add(list)\n                _getSubLists(list)\n          _getSubLists(r)\n\n        rows = []\n        cols = []\n        for choiceList in lists.models\n          choiceList.set(\"name\", $modelUtils.txtid(), silent: true)  unless choiceList.get(\"name\")\n          choiceList.finalize()\n          clAtts = choiceList.toJSON()\n          clName = clAtts.name\n          for option in clAtts.options\n            cols.push _.keys option\n            rows.push _.extend {}, option, \"list_name\": clName\n\n\n        if rows.length > 0\n          columns: @prepCols cols, exclude: ['setManually'], add: ['list_name']\n          rowObjects: rows\n        else\n          false\n\n      out.choices = choicesCsvJson  if choicesCsvJson\n      out.settings = @settings.toCsvJson()\n\n      out\n\n    toMarkdown: ()->\n      $markdownTable.csvJsonToMarkdown(@toCsvJson())\n\n    toCSV: ->\n      sheeted = csv.sheeted()\n      for shtName, content of @toCsvJson()\n        sheeted.sheet shtName, csv(content)\n      sheeted.toString()\n\n  Survey.load = (csv_repr, _usingSurveyLoadCsv=false)->\n    # log('switch to Survey.load.csv')  if !_usingSurveyLoadCsv\n    if _.isString(csv_repr) and not _is_csv(csv_repr)\n      throw Error(\"Invalid CSV passed to form builder\")\n    _deserialized = $inputDeserializer.deserialize csv_repr\n    _parsed = $inputParser.parse _deserialized\n    new Survey(_parsed)\n\n  Survey.load.csv = (csv_repr)->\n    Survey.load(csv_repr, true)\n\n  Survey.load.md = (md)->\n    sObj = $markdownTable.mdSurveyStructureToObject(md)\n    new Survey(sObj)\n  Survey.loadDict = (obj, baseSurvey)->\n    _parsed = $inputParser.parse(obj, baseSurvey)\n    new Survey(_parsed)\n\n  _is_csv = (csv_repr)->\n    # checks that a string has a newline and a comma,\n    # a very simplistic test of a csv\n    '\\n' in csv_repr and ',' in csv_repr\n\n  # Settings (assigned to each $survey.Survey instance)\n  class Settings extends $base.BaseModel\n    validation: {}\n    toCsvJson: ->\n      columns = _.keys(@attributes)\n      rowObjects = [@toJSON()]\n\n      columns: columns\n      rowObjects: rowObjects\n    enable_auto_name: () ->\n      @auto_name = true\n\n      @on 'change:form_id', () =>\n        if @changing_form_title\n          @changing_form_title = false\n        else\n          @auto_name = false\n\n      @on 'change:form_title', (model, value) =>\n        if @auto_name\n          @changing_form_title = true\n          @set 'form_id', $modelUtils.sluggifyLabel(value)\n\n\n\n  Survey: Survey\n  Settings: Settings\n","_ = require 'underscore'\nBackbone = require 'backbone'\n$modelRowDetailsSkipLogic = require './model.rowDetails.skipLogic'\n$viewWidgets = require './view.widgets'\n$skipLogicHelpers = require './mv.skipLogicHelpers'\n\nPLACEHOLDER_VALUE = 'placeholderVal'\n\nmodule.exports = do ->\n  viewRowDetailSkipLogic = {}\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- View.RowDetail.SkipLogic.CriterionBuilderView.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class viewRowDetailSkipLogic.SkipLogicCriterionBuilderView extends $viewWidgets.Base\n    events:\n      \"click .skiplogic__deletecriterion\": \"deleteCriterion\"\n      \"click .skiplogic__addcriterion\": \"addCriterion\"\n      \"change .skiplogic__delimselect\": \"markChangedDelimSelector\"\n    render: () ->\n      tempId = _.uniqueId(\"skiplogic_expr\")\n      @$el.html(\"\"\"\n        <p>\n          #{t(\"This question will only be displayed if the following conditions apply\")}\n        </p>\n        <div class=\"skiplogic__criterialist\"></div>\n        <p class=\"skiplogic__addnew\">\n          <button class=\"skiplogic__addcriterion kobo-button kobo-button--green\">+ #{t(\"Add another condition\")}</button>\n        </p>\n        <select class=\"skiplogic__delimselect\">\n          <option value=\"and\">#{t(\"Question should match all of these criteria\")}</option>\n          <option value=\"or\">#{t(\"Question should match any of these criteria\")}</option>\n        </select>\n      \"\"\")\n\n      delimSelect = @$(\".skiplogic__delimselect\").val(@criterion_delimiter)\n      delimSelect.children('[value=' + @criterion_delimiter + ']').attr('selected', 'selected')\n\n      @\n\n    addCriterion: (evt) =>\n      @facade.view_factory.survey.trigger('change')\n      @facade.add_empty()\n\n    deleteCriterion: (evt)->\n      @facade.view_factory.survey.trigger('change')\n      $target = $(evt.target)\n      modelId = $target.data(\"criterionId\")\n      @facade.remove modelId\n      $target.parent().remove()\n\n    markChangedDelimSelector: (evt) ->\n      @criterion_delimiter = evt.target.value\n\n  class viewRowDetailSkipLogic.SkipLogicCriterion extends $viewWidgets.Base\n    tagName: 'div'\n    className: 'skiplogic__criterion'\n    render: () ->\n\n      @question_picker_view.render()\n      if !@alreadyRendered\n        @$el.append $(\"\"\"<i class=\"skiplogic__deletecriterion k-icon k-icon-trash\" data-criterion-id=\"#{@model.cid}\"></i>\"\"\")\n\n      @change_operator @operator_picker_view\n      @change_response @response_value_view\n\n      @alreadyRendered = true\n\n      @\n\n    mark_question_specified: (is_specified=false) ->\n      @$el.toggleClass(\"skiplogic__criterion--unspecified-question\", not is_specified)\n\n    bind_question_picker: () ->\n      questionVal = @$question_picker.val()\n\n      @mark_question_specified(questionVal isnt PLACEHOLDER_VALUE)\n\n      if questionVal isnt PLACEHOLDER_VALUE and questionVal isnt ''\n        @question_picker_view.disable_placeholder_option()\n\n      @$question_picker.on('change', (e) =>\n        if e.val is PLACEHOLDER_VALUE\n          console.error(\"Changing question to #{PLACEHOLDER_VALUE} should not happen!\")\n\n        @model.survey.trigger('change')\n\n        @mark_question_specified(e.val isnt PLACEHOLDER_VALUE)\n        @presenter.change_question(e.val)\n        return\n      )\n      return\n\n    bind_operator_picker: () ->\n      @$operator_picker.on('change', () =>\n        @operator_picker_view.value = @$operator_picker.select2 'val'\n        @presenter.change_operator(@operator_picker_view.value)\n        @model.survey.trigger('change')\n      )\n\n    bind_response_value: () ->\n      @response_value_view.bind_event(() =>\n        @presenter.change_response(@response_value_view.val())\n        @model.survey.trigger('change')\n      )\n\n    response_value_handler: () ->\n      @presenter.change_response @response_value_view.val()\n\n    change_operator: (@operator_picker_view) ->\n      @operator_picker_view.render()\n\n      @$operator_picker = @operator_picker_view.$el\n\n    change_response: (response_value_view) ->\n      @response_value_view.detach()\n      @response_value_view = response_value_view\n      @response_value_view.render()\n\n      @$response_value = @response_value_view.$el\n\n    attach_operator: () ->\n      @operator_picker_view.attach_to @$el\n      @bind_operator_picker()\n\n    attach_response: () ->\n      if @$('.skiplogic__responseval-wrapper').length > 0\n        @$('.skiplogic__responseval-wrapper').remove()\n\n      @response_value_view.attach_to(@$el)\n      @bind_response_value()\n\n    attach_to: (element) ->\n      @question_picker_view.attach_to @$el\n      @$question_picker = @question_picker_view.$el\n      @bind_question_picker()\n      @attach_operator()\n      @attach_response()\n      super(element)\n      return\n\n    constructor: (@question_picker_view, @operator_picker_view, @response_value_view, @presenter) ->\n      super()\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- View.RowDetail.SkipLogic.QuestionPickerView.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class viewRowDetailSkipLogic.QuestionPicker extends $viewWidgets.DropDown\n    tagName: 'select'\n    className: 'skiplogic__rowselect'\n\n    render: () ->\n      super()\n\n      # disable placeholder option onLoad and onChange\n      if @$el.val() isnt PLACEHOLDER_VALUE\n        @disable_placeholder_option()\n      @$el.on('change', @disable_placeholder_option.bind(@))\n\n      return @\n\n    disable_placeholder_option: ->\n      $firstChild = @$el.children(':first')\n      if $firstChild.val() is PLACEHOLDER_VALUE\n        $firstChild.prop('disabled', true)\n      return\n\n    attach_to: (target) ->\n      target.find('.skiplogic__rowselect').remove()\n      super(target)\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- View.RowDetail.SkipLogic.OperatorPickerView.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class viewRowDetailSkipLogic.OperatorPicker extends $viewWidgets.Base\n    tagName: 'div'\n    className: 'skiplogic__expressionselect'\n    render: () ->\n      @\n\n    attach_to: (target) ->\n      target.find('.skiplogic__expressionselect').remove()\n      super(target)\n\n      @$el.select2({\n        minimumResultsForSearch: -1\n        data: do () =>\n          operators = []\n          _.each @operators, (operator) ->\n            operators.push id: operator.id, text: operator.label + (if operator.id != 1 then ' (' + operator.symbol[operator.parser_name[0]] + ')' else '')\n            operators.push id: '-' + operator.id, text: operator.negated_label + (if operator.id != 1 then ' (' + operator.symbol[operator.parser_name[1]] + ')' else '')\n\n          operators\n      })\n\n      # workaround for missing elements when toggling skiplogic back and forth\n      target.find('.skiplogic__expressionselect.select2-container').show()\n\n      if @value\n        @val @value\n      else\n        @value = @$el.select2('val')\n\n      @$el.on 'select2-close', () => @_set_style()\n\n    val: (value) ->\n      if value?\n        @$el.select2 'val', value\n        @_set_style()\n        @value = value\n      else\n        return @$el.val()\n\n    _set_style: () -> #violates LSP\n      numValue = Number(@$el.val())\n\n      @$el.toggleClass('skiplogic__expressionselect--no-response-value', numValue in [-1, 1])\n\n      absolute_value = Math.abs(numValue)\n\n      if absolute_value is 0\n        return\n\n      operator = _.find(@operators, (operator) ->\n        return operator.id == absolute_value\n      )\n\n      if numValue < 0\n        abbreviated_label = operator['abbreviated_negated_label']\n      else\n        abbreviated_label = operator['abbreviated_label']\n\n      chosen_element = @$el.parents('.skiplogic__criterion').find('.select2-container.skiplogic__expressionselect .select2-chosen')\n      chosen_element.text(abbreviated_label)\n      return\n\n    constructor: (@operators) ->\n      super()\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- View.RowDetail.SkipLogic.ResponseViews.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class viewRowDetailSkipLogic.SkipLogicEmptyResponse extends $viewWidgets.EmptyView\n    className: 'skiplogic__responseval'\n    attach_to: (target) ->\n      target.find('.skiplogic__responseval').remove()\n      super(target)\n\n  class viewRowDetailSkipLogic.SkipLogicTextResponse extends $viewWidgets.TextBox\n    attach_to: (target) ->\n      target.find('.skiplogic__responseval').remove()\n      super(target)\n      return\n\n    bind_event: (handler) ->\n      @$el.on 'blur', handler\n\n    constructor: (text) ->\n      super(text, \"skiplogic__responseval\", t(\"response value\"))\n\n  class viewRowDetailSkipLogic.SkipLogicValidatingTextResponseView extends viewRowDetailSkipLogic.SkipLogicTextResponse\n    render: () ->\n      super()\n      @setElement('<div class=\"skiplogic__responseval-wrapper\">' + @$el + '<div></div></div>')\n      @$error_message = @$('div')\n      @model.bind 'validated:invalid', @show_invalid_view\n      @model.bind 'validated:valid', @clear_invalid_view\n      @$input = @$el.find('input')\n      return @\n\n    show_invalid_view: (model, errors) =>\n      if @$input.val()\n        @$el.addClass('textbox--invalid')\n        @$error_message.html(errors.value)\n        @$input.focus()\n    clear_invalid_view: (model, errors) =>\n      @$el.removeClass('textbox--invalid')\n      @$error_message.html('')\n\n    bind_event: (handler) ->\n      @$input.on 'change', handler\n\n    val: (value) =>\n      if value?\n        @$input.val(value)\n      else\n        @$input.val()\n\n  class viewRowDetailSkipLogic.SkipLogicDropDownResponse extends $viewWidgets.DropDown\n    tagName: 'select'\n    className: 'skiplogic__responseval'\n\n    attach_to: (target) ->\n      target.find('.skiplogic__responseval').remove()\n      super(target)\n      # workaround for missing elements when toggling skiplogic back and forth\n      target.find('.skiplogic__responseval.select2-container').show()\n\n    bind_event: (handler) ->\n      super 'change', handler\n\n    render: () ->\n      super()\n      handle_model_cid_change = () =>\n        @val(@model.get 'cid')\n\n      @model.off 'change:cid', handle_model_cid_change\n      @model.on 'change:cid', handle_model_cid_change\n\n    constructor: (@responses, @model) ->\n      super(_.map @responses.models, (response) ->\n        text: response.get('label')\n        value: response.cid\n      )\n\n  ###----------------------------------------------------------------------------------------------------------###\n  #-- Factories.RowDetail.SkipLogic.coffee\n  ###----------------------------------------------------------------------------------------------------------###\n\n  class viewRowDetailSkipLogic.SkipLogicViewFactory\n    constructor: (@survey) ->\n    create_question_picker: (target_question) ->\n      model = new $viewWidgets.DropDownModel()\n\n      set_options = () =>\n        options = _.map(target_question.selectableRows(), (row) ->\n          return {\n            value: row.cid\n            text: row.getValue(\"label\")\n          }\n        )\n\n        # add placeholder message/option\n        options.unshift({\n          value: PLACEHOLDER_VALUE\n          text: t(\"Select question from list\")\n        })\n\n        model.set('options', options)\n        return\n\n      set_options()\n      @survey.on('sortablestop', set_options)\n\n      return new viewRowDetailSkipLogic.QuestionPicker(model)\n\n    create_operator_picker: (question_type) ->\n      operators = if question_type? then _.filter($skipLogicHelpers.operator_types, (op_type) -> op_type.id in question_type.operators) else []\n      new viewRowDetailSkipLogic.OperatorPicker operators\n    create_response_value_view: (question, question_type, operator_type) ->\n      if !question?\n        type = 'empty'\n      else if operator_type.response_type?\n        type = operator_type.response_type\n      else\n        type = question_type.response_type\n\n      switch type\n        when 'empty' then new viewRowDetailSkipLogic.SkipLogicEmptyResponse()\n        when 'text' then new viewRowDetailSkipLogic.SkipLogicTextResponse\n        when 'dropdown' then new viewRowDetailSkipLogic.SkipLogicDropDownResponse question.getList().options\n        when 'integer', 'decimal' then new viewRowDetailSkipLogic.SkipLogicTextResponse\n        else null\n    create_criterion_view: (question_picker_view, operator_picker_view, response_value_view, presenter) ->\n      return new viewRowDetailSkipLogic.SkipLogicCriterion question_picker_view, operator_picker_view, response_value_view, presenter\n    create_criterion_builder_view: () ->\n      return new viewRowDetailSkipLogic.SkipLogicCriterionBuilderView()\n    create_textarea: (text, className) ->\n      return new $viewWidgets.TextArea text, className\n    create_button: (text, className) ->\n      return new $viewWidgets.Button text, className\n    create_textbox: (text, className='', placeholder='') ->\n      return new $viewWidgets.TextBox text, className, placeholder\n    create_label: (text, className) ->\n      return new $viewWidgets.Label text, className\n    create_empty: () ->\n      return new $viewWidgets.EmptyView()\n\n\n  viewRowDetailSkipLogic\n","base = require './model.base'\n\nmodule.exports = do ->\n\n  # SurveyDetails (attached to a XLF.Survey instance) containing details such as\n  #     start time, deviceid, (etc.)\n  class SurveyDetail extends base.BaseModel\n    idAttribute: \"name\"\n\n    toJSON: ()->\n      if @get(\"value\")\n        out = {}\n\n        out.name = @get(\"name\")\n        # type is same as name\n        out.type = out.name\n\n        parameters = @get(\"parameters\")\n        if parameters\n          out.parameters = parameters\n\n        return out\n      else\n        return false\n\n  class SurveyDetails extends base.BaseCollection\n    model: SurveyDetail\n\n    loadSchema: (schema)->\n      # throw new Error(\"Schema must be a Backbone.Collection\")  unless schema instanceof Backbone.Collection\n      for item in schema.models\n        @add(new SurveyDetail(item._forSurvey()))\n      @_schema = schema\n\n      # we could prevent future changes to the schema...\n      @add = @loadSchema = ()-> throw new Error(\"New survey details must be added to the schema\")\n      return @\n\n    importDefaults: ()->\n      for item in @_schema.models\n        relevantDetail = @get(item.get(\"name\"))\n        relevantDetail.set(\"value\", item.get(\"default\"))\n      return\n\n    importDetail: (detail)->\n      # For now, every detail which is presented is given a boolean value set to true\n      if (dtobj = @get(detail.type))\n        if detail.parameters\n          dtobj.set(\"parameters\", detail.parameters)\n        dtobj.set(\"value\", true)\n      else\n        throw new Error(\"SurveyDetail `#{key}` not loaded from schema. [Aliases have not been implemented]\")\n      return\n\n  SurveyDetails: SurveyDetails\n  SurveyDetail: SurveyDetail\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\n\ninterface RadioOption {\n  label: string\n  value: string\n}\n\ntype RadioProps = {\n  options: RadioOption[]\n  title?: string\n  name: string\n  onChange: Function\n  selected: string\n}\n\n/** A radio input generic component. */\nclass Radio extends React.Component<RadioProps> {\n  constructor(props: RadioProps){\n    if (typeof props.onChange !== 'function') {\n      throw new Error('onChange callback missing!');\n    }\n    super(props);\n    autoBind(this);\n  }\n\n  onChange(evt: React.ChangeEvent<HTMLInputElement>) {\n    this.props.onChange(\n      evt.currentTarget.name,\n      evt.currentTarget.value\n    );\n  }\n\n  render() {\n    return (\n      <bem.Radio>\n        {this.props.title &&\n          <bem.Radio__row m='title'>{this.props.title}</bem.Radio__row>\n        }\n        {this.props.options.map((option) => {\n          return (\n            <bem.Radio__row key={option.value}>\n              <bem.Radio__input\n                type='radio'\n                value={option.value}\n                name={this.props.name}\n                onChange={this.onChange}\n                checked={this.props.selected === option.value}\n              />\n\n              <bem.Radio__label>\n                {option.label}\n              </bem.Radio__label>\n            </bem.Radio__row>\n          );\n        })}\n      </bem.Radio>\n    );\n  }\n}\n\nexport default Radio;\n","/*\n * Displays a list of templates with option to select one.\n * Add `onSelectTemplate` callback function to get selected uid:\n * `<TemplatesList onSelectTemplate={this.handleTemplateSelected}/>`\n */\n\nimport React from 'react';\nimport Reflux from 'reflux';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {stores} from '../stores';\nimport {dataInterface} from '../dataInterface';\nimport {formatTime} from 'utils';\nimport {getAssetOwnerDisplayName} from 'js/assetUtils';\nimport './templatesList.scss';\n\nclass TemplatesList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      templates: [],\n      templatesCount: 0,\n      selectedTemplateUid: null,\n      currentAccountUsername: stores.session.currentAccount ? stores.session.currentAccount.username : null\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTemplates();\n  }\n\n  fetchTemplates() {\n    this.setState({isLoading: true});\n    dataInterface.listTemplates().then((data) => {\n      this.setState({\n        templates: data.results,\n        templatesCount: data.count,\n        isLoading: false\n      });\n    });\n  }\n\n  onSelectedTemplateChange(evt) {\n    this.setState({selectedTemplateUid: evt.target.value});\n    if (typeof this.props.onSelectTemplate === 'function') {\n      this.props.onSelectTemplate(evt.target.value);\n    }\n  }\n\n  render() {\n    if (this.state.isLoading) {\n      return (<LoadingSpinner/>);\n    } else if (this.state.templatesCount === 0) {\n      return (\n        <bem.FormView__cell>\n          {t('You have no templates. Go to Library and create some.')}\n        </bem.FormView__cell>\n      );\n    } else {\n      return (\n        <bem.TemplatesList>\n          <bem.TemplatesList__header className={['templates-list__row']}>\n            <bem.TemplatesList__column m='name'>\n              {t('Template name')}\n            </bem.TemplatesList__column>\n            <bem.TemplatesList__column m='owner'>\n              {t('Owner')}\n            </bem.TemplatesList__column>\n            <bem.TemplatesList__column m='date'>\n              {t('Last modified')}\n            </bem.TemplatesList__column>\n            <bem.TemplatesList__column m='questions'>\n              {t('Questions')}\n            </bem.TemplatesList__column>\n          </bem.TemplatesList__header>\n\n          {this.state.templates.map((template) => {\n            const htmlId = `selected_template_${template.uid}`;\n\n            return (\n              <bem.TemplatesList__template\n                key={template.uid}\n                htmlFor={htmlId}\n                className={['templates-list__row', this.state.selectedTemplateUid === template.uid ? 'selected' : '']}\n              >\n                <bem.TemplatesList__column m='name'>\n                  {template.name}\n                </bem.TemplatesList__column>\n                <bem.TemplatesList__column m='owner'>\n                  {getAssetOwnerDisplayName(template.owner__username)}\n                </bem.TemplatesList__column>\n                <bem.TemplatesList__column m='date'>\n                  {formatTime(template.date_modified)}\n                </bem.TemplatesList__column>\n                <bem.TemplatesList__column m='questions'>\n                  {template.summary.row_count}\n                </bem.TemplatesList__column>\n\n                <bem.TemplatesList__templateRadio\n                  type='radio'\n                  name='selected_template'\n                  id={htmlId}\n                  value={template.uid}\n                  checked={this.state.selectedTemplateUid === template.uid}\n                  onChange={this.onSelectedTemplateChange}\n                 />\n              </bem.TemplatesList__template>\n            );\n          })}\n        </bem.TemplatesList>\n      );\n    }\n  }\n}\n\nreactMixin(TemplatesList.prototype, Reflux.ListenerMixin);\n\nexport default TemplatesList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport alertify from 'alertifyjs';\nimport Select from 'react-select';\nimport Dropzone from 'react-dropzone';\nimport TextBox from 'js/components/common/textBox';\nimport Checkbox from 'js/components/common/checkbox';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport assetUtils from 'js/assetUtils';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport {stores} from 'js/stores';\nimport {hashHistory} from 'react-router';\nimport mixins from 'js/mixins';\nimport TemplatesList from 'js/components/templatesList';\nimport {actions} from 'js/actions';\nimport {dataInterface} from 'js/dataInterface';\nimport {\n  validFileTypes,\n  isAValidUrl,\n  escapeHtml,\n} from 'utils';\nimport {\n  NAME_MAX_LENGTH,\n  PROJECT_SETTINGS_CONTEXTS,\n} from 'js/constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport {LOCKING_RESTRICTIONS} from 'js/components/locking/lockingConstants';\nimport {hasAssetRestriction} from 'js/components/locking/lockingUtils';\nimport envStore from 'js/envStore';\n\nconst VIA_URL_SUPPORT_URL = 'xls_url.html';\n\n/*\nThis is used for multiple different purposes:\n\n1. When creating new project\n2. When replacing project with new one\n3. When editing project in /settings\n4. When editing or creating asset in Form Builder\n\nIdentifying the purpose is done by checking `context` and `formAsset`.\n\nYou can listen to field changes by `onProjectDetailsChange` prop function.\n*/\nclass ProjectSettings extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.STEPS = {\n      FORM_SOURCE: 'form-source',\n      CHOOSE_TEMPLATE: 'choose-template',\n      UPLOAD_FILE: 'upload-file',\n      IMPORT_URL: 'import-url',\n      PROJECT_DETAILS: 'project-details'\n    };\n\n    this.unlisteners = [];\n\n    const formAsset = this.props.formAsset;\n\n    this.state = {\n      isSessionLoaded: !!stores.session.isLoggedIn,\n      isSubmitPending: false,\n      formAsset: formAsset,\n      // project details\n      name: formAsset ? formAsset.name : '',\n      description: formAsset ? formAsset.settings.description : '',\n      sector: formAsset ? formAsset.settings.sector : null,\n      country: formAsset ? formAsset.settings.country : null,\n      'share-metadata': formAsset ? formAsset.settings['share-metadata'] : false,\n      // steps\n      currentStep: null,\n      previousStep: null,\n      // importing url\n      isImportFromURLPending: false,\n      importUrl: '',\n      importUrlButtonEnabled: false,\n      importUrlButton: t('Import'),\n      // template\n      isApplyTemplatePending: false,\n      applyTemplateButton: t('Next'),\n      chosenTemplateUid: null,\n      // upload files\n      isUploadFilePending: false,\n      // archive flow\n      isAwaitingArchiveCompleted: false,\n      isAwaitingUnarchiveCompleted: false\n    };\n\n    autoBind(this);\n  }\n\n  /*\n   * setup\n   */\n\n  componentDidMount() {\n    this.setInitialStep();\n    this.listenTo(stores.session, () => {\n      this.setState({\n        isSessionLoaded: true,\n      });\n    });\n    this.unlisteners.push(\n      actions.resources.loadAsset.completed.listen(this.onLoadAssetCompleted.bind(this)),\n      actions.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),\n      actions.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this)),\n      actions.resources.cloneAsset.completed.listen(this.onCloneAssetCompleted.bind(this)),\n      actions.resources.cloneAsset.failed.listen(this.onCloneAssetFailed.bind(this)),\n      actions.resources.setDeploymentActive.failed.listen(this.onSetDeploymentActiveFailed.bind(this)),\n      actions.resources.setDeploymentActive.completed.listen(this.onSetDeploymentActiveCompleted.bind(this)),\n      hashHistory.listen(this.onRouteChange.bind(this))\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  setInitialStep() {\n    switch (this.props.context) {\n      case PROJECT_SETTINGS_CONTEXTS.NEW:\n      case PROJECT_SETTINGS_CONTEXTS.REPLACE:\n        return this.displayStep(this.STEPS.FORM_SOURCE);\n      case PROJECT_SETTINGS_CONTEXTS.EXISTING:\n      case PROJECT_SETTINGS_CONTEXTS.BUILDER:\n        return this.displayStep(this.STEPS.PROJECT_DETAILS);\n      default:\n        throw new Error(`Unknown context: ${this.props.context}!`);\n    }\n  }\n\n  getBaseTitle() {\n    switch (this.props.context) {\n      case PROJECT_SETTINGS_CONTEXTS.NEW:\n        return t('Create project');\n      case PROJECT_SETTINGS_CONTEXTS.REPLACE:\n        return t('Replace form');\n      case PROJECT_SETTINGS_CONTEXTS.EXISTING:\n      case PROJECT_SETTINGS_CONTEXTS.BUILDER:\n      default:\n        return t('Project settings');\n    }\n  }\n\n  getStepTitle(step) {\n    switch (step) {\n      case this.STEPS.FORM_SOURCE: return t('Choose a source');\n      case this.STEPS.CHOOSE_TEMPLATE: return t('Choose template');\n      case this.STEPS.UPLOAD_FILE: return t('Upload XLSForm');\n      case this.STEPS.IMPORT_URL: return t('Import XLSForm');\n      case this.STEPS.PROJECT_DETAILS: return t('Project details');\n      default: return '';\n    }\n  }\n\n  getFilenameFromURI(url) {\n    return decodeURIComponent(new URL(url).pathname.split('/').pop().split('.')[0]);\n  }\n\n  isLoading() {\n    return (\n      !this.state.isSessionLoaded ||\n      !this.state.currentStep ||\n      (\n        // this checks if the modal is about existing asset\n        // that is not fully loaded yet\n        this.props.context !== PROJECT_SETTINGS_CONTEXTS.NEW &&\n        typeof this.state.formAsset?.content === 'undefined'\n      )\n    );\n  }\n\n  isReplacingFormLocked() {\n    return (\n      this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE &&\n      this.state.formAsset.content &&\n      hasAssetRestriction(this.state.formAsset.content, LOCKING_RESTRICTIONS.form_replace.name)\n    );\n  }\n\n  /*\n   * handling user input\n   */\n\n  onAnyDataChange(fieldName, fieldValue) {\n    if (typeof this.props.onProjectDetailsChange === 'function') {\n      this.props.onProjectDetailsChange({fieldName, fieldValue});\n    }\n  }\n\n  onNameChange(evt) {\n    this.setState({name: assetUtils.removeInvalidChars(evt.target.value)});\n    this.onAnyDataChange('name', assetUtils.removeInvalidChars(evt.target.value));\n  }\n\n  onDescriptionChange(evt) {\n    this.setState({description: assetUtils.removeInvalidChars(evt.target.value)});\n    this.onAnyDataChange('description', assetUtils.removeInvalidChars(evt.target.value));\n  }\n\n  onCountryChange(val) {\n    this.setState({country: val});\n    this.onAnyDataChange('country', val);\n  }\n\n  onSectorChange(val) {\n    this.setState({sector: val});\n    this.onAnyDataChange('sector', val);\n  }\n\n  onShareMetadataChange(isChecked) {\n    this.setState({'share-metadata': isChecked});\n    this.onAnyDataChange('share-metadata', isChecked);\n  }\n\n  onImportUrlChange(value) {\n    this.setState({\n      importUrl: value,\n      importUrlButtonEnabled: isAValidUrl(value),\n      importUrlButton: t('Import')\n    });\n  }\n\n  onTemplateChange(templateUid) {\n    this.setState({\n      chosenTemplateUid: templateUid\n    });\n  }\n\n  resetApplyTemplateButton() {\n    this.setState({\n      isApplyTemplatePending: false,\n      applyTemplateButton: t('Choose')\n    });\n  }\n\n  resetImportUrlButton() {\n    this.setState({\n      isImportFromURLPending: false,\n      importUrlButtonEnabled: false,\n      importUrlButton: t('Import'),\n    });\n  }\n\n  deleteProject(evt) {\n    evt.preventDefault();\n\n    this.deleteAsset(\n      this.state.formAsset.uid,\n      this.state.formAsset.name,\n      this.goToProjectsList.bind(this)\n    );\n  }\n\n  // archive flow\n\n  isArchived() {\n    return this.state.formAsset.has_deployment && !this.state.formAsset.deployment__active;\n  }\n\n  archiveProject(evt) {\n    evt.preventDefault();\n    this.archiveAsset(this.state.formAsset.uid, this.onArchiveProjectStarted.bind(this));\n  }\n\n  onArchiveProjectStarted() {\n    this.setState({isAwaitingArchiveCompleted: true});\n  }\n\n  unarchiveProject(evt) {\n    evt.preventDefault();\n    this.unarchiveAsset(this.state.formAsset.uid, this.onUnarchiveProjectStarted.bind(this));\n  }\n\n  onUnarchiveProjectStarted() {\n    this.setState({isAwaitingUnarchiveCompleted: true});\n  }\n\n  onSetDeploymentActiveFailed() {\n    this.setState({\n      isAwaitingArchiveCompleted: false,\n      isAwaitingUnarchiveCompleted: false\n    });\n  }\n\n  // when archiving/unarchiving finishes, take user to a route that makes sense\n  // unless user navigates by themselves before that happens\n  onSetDeploymentActiveCompleted() {\n    if (this.state.isAwaitingArchiveCompleted) {\n      this.goToProjectsList();\n    }\n    if (this.state.isAwaitingUnarchiveCompleted) {\n      this.goToFormLanding();\n    }\n    this.setState({\n      isAwaitingArchiveCompleted: false,\n      isAwaitingUnarchiveCompleted: false\n    });\n  }\n\n  onRouteChange() {\n    this.setState({\n      isAwaitingArchiveCompleted: false,\n      isAwaitingUnarchiveCompleted: false\n    });\n  }\n\n  /*\n   * routes navigation\n   */\n\n  goToFormBuilder(assetUid) {\n    stores.pageState.hideModal();\n    hashHistory.push(`/forms/${assetUid}/edit`);\n  }\n\n  goToFormLanding() {\n    stores.pageState.hideModal();\n\n    let targetUid;\n    if (this.state.formAsset) {\n      targetUid = this.state.formAsset.uid;\n    } else if (this.context.router && this.context.router.params.assetid) {\n      targetUid = this.context.router.params.assetid;\n    } else if (this.context.router && this.context.router.params.uid) {\n      targetUid = this.context.router.params.uid;\n    }\n\n    if (!targetUid) {\n      throw new Error('Unknown uid!');\n    }\n\n    hashHistory.push(ROUTES.FORM_LANDING.replace(':uid', targetUid));\n  }\n\n  goToProjectsList() {\n    stores.pageState.hideModal();\n    hashHistory.push(ROUTES.FORMS);\n  }\n\n  /*\n   * modal steps navigation\n   */\n\n  displayStep(targetStep) {\n    const currentStep = this.state.currentStep;\n    const previousStep = this.state.previousStep;\n\n    if (targetStep === currentStep) {\n      return;\n    } else if (targetStep === previousStep) {\n      this.setState({\n        currentStep: previousStep,\n        previousStep: null\n      });\n    } else {\n      this.setState({\n        currentStep: targetStep,\n        previousStep: currentStep\n      });\n    }\n\n    if (this.props.onSetModalTitle) {\n      const stepTitle = this.getStepTitle(targetStep);\n      const baseTitle = this.getBaseTitle();\n      this.props.onSetModalTitle(`${baseTitle}: ${stepTitle}`);\n    }\n  }\n\n  displayPreviousStep() {\n    if (this.state.previousStep) {\n      this.displayStep(this.state.previousStep);\n    }\n  }\n\n  /*\n   * handling asset creation\n   */\n\n  onLoadAssetCompleted(response) {\n    if (this.state.formAsset?.uid === response.uid) {\n      this.setState({formAsset: response});\n    }\n  }\n\n  onUpdateAssetCompleted() {\n    if (\n      this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE ||\n      this.props.context === PROJECT_SETTINGS_CONTEXTS.NEW\n    ) {\n      this.goToFormLanding();\n    }\n  }\n\n  onUpdateAssetFailed() {\n    if (\n      this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE ||\n      this.props.context === PROJECT_SETTINGS_CONTEXTS.NEW\n    ) {\n      this.resetApplyTemplateButton();\n    }\n  }\n\n  onCloneAssetCompleted(asset) {\n    if (\n      (this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE || this.props.context === PROJECT_SETTINGS_CONTEXTS.NEW) &&\n      this.state.currentStep === this.STEPS.CHOOSE_TEMPLATE\n    ) {\n      this.setState({\n        formAsset: asset,\n        name: asset.name,\n        description: asset.settings.description,\n        sector: asset.settings.sector,\n        country: asset.settings.country,\n        'share-metadata': asset.settings['share-metadata'] || false,\n      });\n      this.resetApplyTemplateButton();\n      this.displayStep(this.STEPS.PROJECT_DETAILS);\n    }\n  }\n\n  onCloneAssetFailed() {\n    if (\n      this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE ||\n      this.props.context === PROJECT_SETTINGS_CONTEXTS.NEW\n    ) {\n      this.resetApplyTemplateButton();\n    }\n  }\n\n  getOrCreateFormAsset() {\n    const assetPromise = new Promise((resolve, reject) => {\n      if (this.state.formAsset) {\n        resolve(this.state.formAsset);\n      } else {\n        dataInterface.createResource({\n          asset_type: 'empty',\n        }).done((asset) => {\n          resolve(asset);\n        }).fail(function(r){\n          reject(t('Error: asset could not be created.') + ` (code: ${r.statusText})`);\n        });\n      }\n    });\n    return assetPromise;\n  }\n\n  createAssetAndOpenInBuilder() {\n    dataInterface.createResource({\n      name: this.state.name,\n      settings: JSON.stringify({\n        description: this.state.description,\n        sector: this.state.sector,\n        country: this.state.country,\n        'share-metadata': this.state['share-metadata']\n      }),\n      asset_type: 'survey',\n    }).done((asset) => {\n      this.goToFormBuilder(asset.uid);\n    }).fail(function(r){\n      alertify.error(t('Error: new project could not be created.') + ` (code: ${r.statusText})`);\n    });\n  }\n\n  updateAndOpenAsset() {\n    actions.resources.updateAsset(\n      this.state.formAsset.uid,\n      {\n        name: this.state.name,\n        settings: JSON.stringify({\n          description: this.state.description,\n          sector: this.state.sector,\n          country: this.state.country,\n          'share-metadata': this.state['share-metadata']\n        }),\n      }\n    );\n  }\n\n  applyTemplate(evt) {\n    evt.preventDefault();\n\n    this.setState({\n      isApplyTemplatePending: true,\n      applyTemplateButton: t('Please wait…')\n    });\n\n    if (this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE) {\n      actions.resources.updateAsset(\n        this.state.formAsset.uid,\n        {\n          clone_from: this.state.chosenTemplateUid,\n          name: this.state.formAsset.name\n        }\n      );\n    } else {\n      actions.resources.cloneAsset({\n        uid: this.state.chosenTemplateUid,\n        new_asset_type: 'survey'\n      });\n    }\n  }\n\n  importFromURL(evt) {\n    evt.preventDefault();\n\n    if (isAValidUrl(this.state.importUrl)) {\n      this.setState({\n        isImportFromURLPending: true,\n        importUrlButtonEnabled: false,\n        importUrlButton: t('Retrieving form, please wait...')\n      });\n\n      this.getOrCreateFormAsset().then(\n        (asset) => {\n          this.setState({formAsset: asset});\n          const importUrl = this.state.importUrl;\n\n          this.applyUrlToAsset(importUrl, asset).then(\n            (data) => {\n              dataInterface.getAsset({id: data.uid}).done((finalAsset) => {\n                if (this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE) {\n                  // when replacing, we omit PROJECT_DETAILS step\n                  this.goToFormLanding();\n                } else {\n                  var assetName = finalAsset.name;\n                  this.setState({\n                    formAsset: finalAsset,\n                    name: assetName,\n                    description: finalAsset.settings.description,\n                    sector: finalAsset.settings.sector,\n                    country: finalAsset.settings.country,\n                    'share-metadata': finalAsset.settings['share-metadata'],\n                    isImportFromURLPending: false\n                  });\n                  this.displayStep(this.STEPS.PROJECT_DETAILS);\n                }\n              }).fail(() => {\n                this.resetImportUrlButton();\n                alertify.error(t('Failed to reload project after import!'));\n              });\n            },\n            (response) => {\n              this.resetImportUrlButton();\n              const errLines = [];\n              errLines.push(t('Import Failed!'));\n              if (importUrl) {\n                errLines.push(`<code>Name: ${this.getFilenameFromURI(importUrl)}</code>`);\n              }\n              if (response.messages.error) {\n                errLines.push(`<code>${response.messages.error_type}: ${escapeHtml(response.messages.error)}</code>`);\n              }\n              alertify.error(errLines.join('<br/>'));\n            }\n          );\n        },\n        () => {\n          alertify.error(t('Could not initialize XLSForm import!'));\n        }\n      );\n    }\n  }\n\n  onFileDrop(files) {\n    if (files.length >= 1) {\n      this.setState({isUploadFilePending: true});\n\n      this.getOrCreateFormAsset().then(\n        (asset) => {\n          this.applyFileToAsset(files[0], asset).then(\n            (data) => {\n              dataInterface.getAsset({id: data.uid}).done((finalAsset) => {\n                // TODO: Getting asset outside of actions.resources.loadAsset\n                // is not going to notify all the listeners, causing some hard\n                // to identify bugs.\n                // Until we switch this code to use actions we HACK it so other\n                // places are notified.\n                actions.resources.loadAsset.completed(finalAsset);\n\n                if (this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE) {\n                  // when replacing, we omit PROJECT_DETAILS step\n                  this.goToFormLanding();\n                } else {\n                  var assetName = finalAsset.name;\n                  this.setState({\n                    formAsset: finalAsset,\n                    name: assetName,\n                    description: finalAsset.settings.description,\n                    sector: finalAsset.settings.sector,\n                    country: finalAsset.settings.country,\n                    'share-metadata': finalAsset.settings['share-metadata'],\n                    isUploadFilePending: false\n                  });\n                  this.displayStep(this.STEPS.PROJECT_DETAILS);\n                }\n              }).fail(() => {\n                this.setState({isUploadFilePending: false});\n                alertify.error(t('Failed to reload project after upload!'));\n              });\n            },\n            (response) => {\n              this.setState({isUploadFilePending: false});\n              const errLines = [];\n              errLines.push(t('Import Failed!'));\n              if (files[0].name) {\n                errLines.push(`<code>Name: ${files[0].name}</code>`);\n              }\n              if (response.messages.error) {\n                errLines.push(`<code>${response.messages.error_type}: ${escapeHtml(response.messages.error)}</code>`);\n              }\n              alertify.error(errLines.join('<br/>'));\n            }\n          );\n        },\n        () => {\n          this.setState({isUploadFilePending: false});\n          alertify.error(t('Could not import XLSForm!'));\n        }\n      );\n    }\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n\n    // simple non-empty name validation\n    if (!this.state.name.trim()) {\n      alertify.error(t('Please enter a title for your project!'));\n      return;\n    }\n\n    this.setState({isSubmitPending: true});\n\n    if (this.state.formAsset) {\n      this.updateAndOpenAsset();\n    } else {\n      this.createAssetAndOpenInBuilder();\n    }\n  }\n\n  /*\n   * rendering\n   */\n\n  getNameInputLabel(nameVal) {\n    let label = t('Project Name');\n    if (nameVal.length >= NAME_MAX_LENGTH - 99) {\n      label += ` (${t('##count## characters left').replace('##count##', NAME_MAX_LENGTH - nameVal.length)})`;\n    }\n    return label;\n  }\n\n  renderChooseTemplateButton() {\n    return (\n      <button onClick={this.displayStep.bind(this, this.STEPS.CHOOSE_TEMPLATE)}>\n        <i className='k-icon k-icon-template' />\n        {t('Use a template')}\n      </button>\n    );\n  }\n\n  renderStepFormSource() {\n    return (\n      <bem.FormModal__form className='project-settings project-settings--form-source'>\n        {this.props.context !== PROJECT_SETTINGS_CONTEXTS.REPLACE &&\n          <bem.Modal__subheader>\n            {t('Choose one of the options below to continue. You will be prompted to enter name and other details in further steps.')}\n          </bem.Modal__subheader>\n        }\n\n        <bem.FormModal__item m='form-source-buttons'>\n          {this.props.context === PROJECT_SETTINGS_CONTEXTS.NEW &&\n            <button onClick={this.displayStep.bind(this, this.STEPS.PROJECT_DETAILS)}>\n              <i className='k-icon k-icon-edit' />\n              {t('Build from scratch')}\n            </button>\n          }\n\n          {this.props.context === PROJECT_SETTINGS_CONTEXTS.NEW &&\n            this.renderChooseTemplateButton()\n          }\n\n          <button onClick={this.displayStep.bind(this, this.STEPS.UPLOAD_FILE)}>\n            <i className='k-icon k-icon-upload' />\n            {t('Upload an XLSForm')}\n          </button>\n\n          <button onClick={this.displayStep.bind(this, this.STEPS.IMPORT_URL)}>\n            <i className='k-icon k-icon-link' />\n            {t('Import an XLSForm via URL')}\n          </button>\n\n          {this.props.context !== PROJECT_SETTINGS_CONTEXTS.NEW &&\n            this.renderChooseTemplateButton()\n          }\n        </bem.FormModal__item>\n      </bem.FormModal__form>\n    );\n  }\n\n  renderStepChooseTemplate() {\n    return (\n      <bem.FormModal__form className='project-settings project-settings--choose-template'>\n        <TemplatesList onSelectTemplate={this.onTemplateChange}/>\n\n        <bem.Modal__footer>\n          {this.renderBackButton()}\n\n          <bem.KoboButton\n            m='blue'\n            type='submit'\n            onClick={this.applyTemplate}\n            disabled={!this.state.chosenTemplateUid || this.state.isApplyTemplatePending}\n          >\n            {this.state.applyTemplateButton}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </bem.FormModal__form>\n    );\n  }\n\n  renderStepUploadFile() {\n    return (\n      <bem.FormModal__form className='project-settings'>\n        <bem.Modal__subheader>\n          {t('Import an XLSForm from your computer.')}\n        </bem.Modal__subheader>\n\n        {!this.state.isUploadFilePending &&\n          <Dropzone\n            onDrop={this.onFileDrop.bind(this)}\n            multiple={false}\n            className='kobo-dropzone'\n            activeClassName='dropzone-active'\n            rejectClassName='dropzone-reject'\n            accept={validFileTypes()}\n          >\n            <i className='k-icon k-icon-xls-file' />\n            {t(' Drag and drop the XLSForm file here or click to browse')}\n          </Dropzone>\n        }\n        {this.state.isUploadFilePending &&\n          <div className='dropzone'>\n            <LoadingSpinner message={t('Uploading file…')}/>\n          </div>\n        }\n\n        <bem.Modal__footer>\n          {this.renderBackButton()}\n        </bem.Modal__footer>\n      </bem.FormModal__form>\n    );\n  }\n\n  renderStepImportUrl() {\n    return (\n      <bem.FormModal__form className='project-settings project-settings--import-url'>\n        <div className='intro'>\n          {t('Enter a valid XLSForm URL in the field below.')}<br/>\n\n          { envStore.isReady &&\n            envStore.data.support_url &&\n            <a href={envStore.data.support_url + VIA_URL_SUPPORT_URL} target='_blank'>\n              {t('Having issues? See this help article.')}\n            </a>\n          }\n        </div>\n\n        <bem.FormModal__item>\n          <TextBox\n            type='url'\n            label={t('URL')}\n            placeholder='https://'\n            value={this.state.importUrl}\n            onChange={this.onImportUrlChange}\n          />\n        </bem.FormModal__item>\n\n        <bem.Modal__footer>\n          {this.renderBackButton()}\n\n          <bem.KoboButton\n            m='blue'\n            type='submit'\n            onClick={this.importFromURL}\n            disabled={!this.state.importUrlButtonEnabled}\n          >\n            {this.state.importUrlButton}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </bem.FormModal__form>\n    );\n  }\n\n  renderStepProjectDetails() {\n    const sectors = envStore.data.available_sectors;\n    const countries = envStore.data.available_countries;\n    const isSelfOwned = assetUtils.isSelfOwned(this.state.formAsset);\n\n    return (\n      <bem.FormModal__form\n        onSubmit={this.handleSubmit}\n        onChange={this.onProjectDetailsFormChange}\n        className={[\n          'project-settings',\n          'project-settings--project-details',\n          this.props.context === PROJECT_SETTINGS_CONTEXTS.BUILDER ? 'project-settings--narrow' : null\n        ].join(' ')}\n      >\n        {this.props.context === PROJECT_SETTINGS_CONTEXTS.EXISTING &&\n          <bem.Modal__footer>\n            <bem.KoboButton\n              type='submit'\n              m='blue'\n              onClick={this.handleSubmit}\n            >\n              {t('Save Changes')}\n            </bem.KoboButton>\n          </bem.Modal__footer>\n        }\n\n        <bem.FormModal__item m='wrapper'>\n          {/* form builder displays name in different place */}\n          {this.props.context !== PROJECT_SETTINGS_CONTEXTS.BUILDER &&\n            <bem.FormModal__item>\n              <label htmlFor='name'>\n                {this.getNameInputLabel(this.state.name)}\n              </label>\n              <input\n                type='text'\n                maxLength={NAME_MAX_LENGTH}\n                id='name'\n                placeholder={t('Enter title of project here')}\n                value={this.state.name}\n                onChange={this.onNameChange}\n              />\n            </bem.FormModal__item>\n          }\n\n          <bem.FormModal__item>\n            <label htmlFor='description'>\n              {t('Description')}\n            </label>\n            <TextareaAutosize\n              onChange={this.onDescriptionChange}\n              value={this.state.description}\n              placeholder={t('Enter short description here')}\n            />\n          </bem.FormModal__item>\n\n          <bem.FormModal__item>\n            <label className='long'>\n              {t('Please specify the country and the sector where this project will be deployed. ')}\n              {/*t('This information will be used to help you filter results on the project list page.')*/}\n            </label>\n          </bem.FormModal__item>\n\n          <bem.FormModal__item m='sector'>\n            <label htmlFor='sector'>\n              {t('Sector')}\n            </label>\n            <Select\n              id='sector'\n              value={this.state.sector}\n              onChange={this.onSectorChange}\n              options={sectors}\n              className='kobo-select'\n              classNamePrefix='kobo-select'\n              menuPlacement='auto'\n              isClearable\n            />\n          </bem.FormModal__item>\n\n          <bem.FormModal__item m='country'>\n            <label htmlFor='country'>\n              {t('Country')}\n            </label>\n            <Select\n              id='country'\n              value={this.state.country}\n              onChange={this.onCountryChange}\n              options={countries}\n              className='kobo-select'\n              classNamePrefix='kobo-select'\n              menuPlacement='auto'\n              isClearable\n            />\n          </bem.FormModal__item>\n\n          <bem.FormModal__item m='metadata-share'>\n            <Checkbox\n              checked={this.state['share-metadata']}\n              onChange={this.onShareMetadataChange}\n              label={t('Help KoboToolbox improve this product by sharing the sector and country where this project will be deployed.') + ' ' + t('All the information is submitted anonymously, and will not include the project name or description listed above.')}\n            />\n          </bem.FormModal__item>\n\n          {(this.props.context === PROJECT_SETTINGS_CONTEXTS.NEW || this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE) &&\n            <bem.Modal__footer>\n              {/* Don't allow going back if asset already exist */}\n              {!this.state.formAsset &&\n                this.renderBackButton()\n              }\n\n              <bem.KoboButton\n                m='blue'\n                type='submit'\n                onClick={this.handleSubmit}\n                disabled={this.state.isSubmitPending}\n              >\n                {this.state.isSubmitPending && t('Please wait…')}\n                {!this.state.isSubmitPending && this.props.context === PROJECT_SETTINGS_CONTEXTS.NEW && t('Create project')}\n                {!this.state.isSubmitPending && this.props.context === PROJECT_SETTINGS_CONTEXTS.REPLACE && t('Save')}\n              </bem.KoboButton>\n            </bem.Modal__footer>\n          }\n\n          {this.props.context === PROJECT_SETTINGS_CONTEXTS.EXISTING &&\n            <bem.FormModal__item>\n              <bem.FormModal__item m='inline'>\n                {this.isArchived() &&\n                  <bem.KoboButton\n                    m='blue'\n                    onClick={this.unarchiveProject}\n                  >\n                    {t('Unarchive Project')}\n                  </bem.KoboButton>\n                }\n\n                {!this.isArchived() &&\n                  <bem.KoboButton\n                    m='orange'\n                    onClick={this.archiveProject}\n                  >\n                    {t('Archive Project')}\n                  </bem.KoboButton>\n                }\n              </bem.FormModal__item>\n\n              <bem.FormModal__item m='inline'>\n                {this.isArchived() ? t('Unarchive project to resume accepting submissions.') : t('Archive project to stop accepting submissions.')}\n              </bem.FormModal__item>\n            </bem.FormModal__item>\n          }\n\n          {isSelfOwned && this.props.context === PROJECT_SETTINGS_CONTEXTS.EXISTING &&\n            <bem.FormModal__item>\n              <bem.KoboButton m='red' onClick={this.deleteProject}>\n                {t('Delete Project and Data')}\n              </bem.KoboButton>\n            </bem.FormModal__item>\n          }\n        </bem.FormModal__item>\n      </bem.FormModal__form>\n    );\n  }\n\n  renderBackButton() {\n    if (this.state.previousStep) {\n      const isBackButtonDisabled = (\n        this.state.isSubmitPending ||\n        this.state.isApplyTemplatePending ||\n        this.state.isImportFromURLPending ||\n        this.state.isUploadFilePending\n      );\n      return (\n        <bem.KoboButton\n          m='whitegray'\n          type='button'\n          onClick={this.displayPreviousStep}\n          disabled={isBackButtonDisabled}\n        >\n          {t('Back')}\n        </bem.KoboButton>\n      );\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n    if (this.isLoading()) {\n      return (<LoadingSpinner/>);\n    }\n\n    if (this.isReplacingFormLocked()) {\n      return (\n        <bem.Loading>\n          <bem.Loading__inner>\n            <i className='k-icon k-icon-alert'/>\n            {t(\"Form replacing is not available due to form's Locking Profile restrictions.\")}\n          </bem.Loading__inner>\n        </bem.Loading>\n      );\n    }\n\n    switch (this.state.currentStep) {\n      case this.STEPS.FORM_SOURCE: return this.renderStepFormSource();\n      case this.STEPS.CHOOSE_TEMPLATE: return this.renderStepChooseTemplate();\n      case this.STEPS.UPLOAD_FILE: return this.renderStepUploadFile();\n      case this.STEPS.IMPORT_URL: return this.renderStepImportUrl();\n      case this.STEPS.PROJECT_DETAILS: return this.renderStepProjectDetails();\n      default:\n        throw new Error(`Unknown step: ${this.state.currentStep}!`);\n    }\n  }\n}\n\nreactMixin(ProjectSettings.prototype, Reflux.ListenerMixin);\nreactMixin(ProjectSettings.prototype, mixins.permissions);\nreactMixin(ProjectSettings.prototype, mixins.droppable);\n// NOTE: dmix mixin is causing a full asset load after component mounts\nreactMixin(ProjectSettings.prototype, mixins.dmix);\n\nProjectSettings.contextTypes = {\n  router: PropTypes.object\n};\n\nexport default ProjectSettings;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport Select from 'react-select';\nimport Checkbox from 'js/components/common/checkbox';\nimport bem from 'js/bem';\nimport {actions} from '../actions';\nimport {searches} from '../searches';\nimport {stores} from '../stores';\nimport {\n  ASSET_TYPES,\n  ACCESS_TYPES,\n} from 'js/constants';\n\nexport class ListSearch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(this.searchStore, this.searchStoreChanged);\n  }\n\n  searchStoreChanged(searchStoreState) {\n    if (searchStoreState.cleared) {\n      this.setValue('');\n    }\n    this.setState(searchStoreState);\n  }\n\n  /**\n   * NOTE: this is used outside the component\n   */\n  getValue() {\n    return ReactDOM.findDOMNode(this.refs['formlist-search']).value;\n  }\n\n  setValue(v) {\n    ReactDOM.findDOMNode(this.refs['formlist-search']).value = v;\n  }\n\n  render() {\n    return (\n      <bem.Search m={[this.state.searchState]} >\n        <bem.Search__icon className='k-icon k-icon-search'/>\n        <bem.SearchInput\n          type='text'\n          ref='formlist-search'\n          onChange={this.searchChangeEvent}\n          placeholder={this.props.placeholderText}\n        />\n\n        {this.state.searchState !== 'none' &&\n          <bem.Search__cancel\n            className='k-icon k-icon-close'\n            onClick={this.searchClear}\n          />\n        }\n      </bem.Search>\n    );\n  }\n}\n\nListSearch.defaultProps = {\n  searchContext: 'default',\n  placeholderText: t('Search...'),\n};\n\nreactMixin(ListSearch.prototype, searches.common);\nreactMixin(ListSearch.prototype, Reflux.ListenerMixin);\n\nexport class ListTagFilter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      availableTags: [],\n      tagsLoaded: false,\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(stores.tags, this.tagsLoaded);\n    this.listenTo(this.searchStore, this.searchStoreChanged);\n    actions.resources.listTags(this.searchStore.filterTagQueryData);\n  }\n\n  searchStoreChanged(searchStoreState) {\n    if (searchStoreState.cleared) {\n      // re-render to remove tags if the search was cleared\n      this.setState(searchStoreState);\n    } else if (searchStoreState.searchTags) {\n      let tags = null;\n      if (searchStoreState.searchTags.length !== 0) {\n        tags = searchStoreState.searchTags;\n      }\n      this.setState({selectedTags: tags});\n    }\n  }\n\n  tagsLoaded(tags) {\n    this.setState({\n      tagsLoaded: true,\n      availableTags: tags.map((tag) => ({\n        label: tag.name,\n        value: tag.name.replace(/\\s/g, '-'),\n      })),\n      selectedTags: null,\n    });\n  }\n\n  onTagsChange(tagsList) {\n    this.searchTagsChange(tagsList);\n  }\n\n  render() {\n    return (\n      <bem.tagSelect>\n        <Select\n          name='tags'\n          isMulti\n          isLoading={!this.state.tagsLoaded}\n          loadingMessage={t('Tags are loading...')}\n          placeholder={t('Search Tags')}\n          noOptionsMessage={t('No results found')}\n          options={this.state.availableTags}\n          onChange={this.onTagsChange}\n          className={[this.props.hidden ? 'hidden' : null, 'kobo-select'].join(' ')}\n          classNamePrefix='kobo-select'\n          value={this.state.selectedTags}\n          menuPlacement='auto'\n        />\n      </bem.tagSelect>\n    );\n  }\n}\n\nListTagFilter.defaultProps = {\n  searchContext: 'default',\n  hidden: false,\n};\n\nreactMixin(ListTagFilter.prototype, searches.common);\nreactMixin(ListTagFilter.prototype, Reflux.ListenerMixin);\n\nexport class ListCollectionFilter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      availableCollections: [],\n      collectionsLoaded: false,\n    };\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      actions.library.getCollections.completed.listen(this.onGetCollectionsCompleted)\n    );\n    this.queryCollections();\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onGetCollectionsCompleted(collections) {\n    const availableCollections = collections.results.filter((value) => (\n      value.access_types &&\n      (\n        // NOTE: asset can have multiple access types, e.g. \"public\" and \"subscribed\",\n        // so we need to check for each allowed one here\n        value.access_types.includes(ACCESS_TYPES.owned) ||\n        value.access_types.includes(ACCESS_TYPES.shared) ||\n        value.access_types.includes(ACCESS_TYPES.subscribed) ||\n        value.access_types.includes(ACCESS_TYPES.superuser)\n      )\n    ));\n\n    this.setState({\n      collectionsLoaded: true,\n      availableCollections: availableCollections.map((collection) => {\n        return {\n          label: collection.name,\n          value: collection.uid,\n        };\n      }),\n      selectedCollection: false,\n    });\n  }\n\n  queryCollections() {\n    actions.library.getCollections();\n  }\n\n  onCollectionChange(evt) {\n    if (evt) {\n      this.searchCollectionChange(evt.value);\n      this.setState({selectedCollection: evt});\n    } else {\n      this.searchClear();\n      this.setState({selectedCollection: false});\n    }\n  }\n\n  render() {\n    return (\n      <bem.collectionFilter>\n        <Select\n          name='collections'\n          placeholder={t('Select Collection Name')}\n          isClearable\n          isLoading={!this.state.collectionsLoaded}\n          loadingMessage={t('Collections are loading...')}\n          options={this.state.availableCollections}\n          onChange={this.onCollectionChange}\n          value={this.state.selectedCollection}\n          className='kobo-select'\n          classNamePrefix='kobo-select'\n          menuPlacement='auto'\n        />\n      </bem.collectionFilter>\n    );\n  }\n}\n\nListCollectionFilter.defaultProps = {\n  searchContext: 'default',\n};\n\nreactMixin(ListCollectionFilter.prototype, searches.common);\nreactMixin(ListCollectionFilter.prototype, Reflux.ListenerMixin);\n\n/**\n * Component used in Form Builder's aside library search.\n */\nexport class ListExpandToggle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      assetNavExpanded: stores.pageState.state.assetNavExpanded,\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(this.searchStore, this.searchStoreChanged);\n  }\n\n  searchStoreChanged(searchStoreState) {\n    this.setState(searchStoreState);\n  }\n\n  onExpandedToggleChange(isChecked) {\n    stores.pageState.setState({assetNavExpanded: isChecked});\n    this.setState({assetNavExpanded: isChecked});\n  }\n\n  render() {\n    let list = [];\n    const isSearch = this.state.searchResultsDisplayed;\n\n    if (isSearch && Array.isArray(this.state.searchResultsList)) {\n      list = this.state.searchResultsList;\n    } else if (Array.isArray(this.state.defaultQueryResultsList)) {\n      list = this.state.defaultQueryResultsList;\n    }\n\n    // Make sure the list contains only actual library items before diplaying the count.\n    list = list.filter((item) => (\n      item.asset_type === ASSET_TYPES.question.id ||\n      item.asset_type === ASSET_TYPES.block.id\n    ));\n\n    return (\n      <bem.LibNav__expanded className={{hidden: this.props.hidden}}>\n        <bem.LibNav__count>\n          {list.length} {t('assets found')}\n        </bem.LibNav__count>\n        <bem.LibNav__expandedToggle>\n          <Checkbox\n            checked={this.state.assetNavExpanded}\n            onChange={this.onExpandedToggleChange}\n            label={t('expand details')}\n          />\n        </bem.LibNav__expandedToggle>\n      </bem.LibNav__expanded>\n      );\n  }\n}\n\nListExpandToggle.defaultProps = {\n  searchContext: 'default',\n  hidden: false,\n};\n\nreactMixin(ListExpandToggle.prototype, searches.common);\nreactMixin(ListExpandToggle.prototype, Reflux.ListenerMixin);\n\nexport const list = {\n  // List: List,\n  ListSearch: ListSearch,\n  ListTagFilter: ListTagFilter,\n  ListCollectionFilter: ListCollectionFilter,\n  ListExpandToggle: ListExpandToggle,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport bem, {makeBem} from 'js/bem';\nimport {\n  KEY_CODES,\n} from 'js/constants';\nimport koboDropdownActions from './koboDropdownActions';\nimport './koboDropdown.scss';\n\nexport enum KoboDropdownThemes {\n  light = 'light',\n  dark = 'dark',\n}\n\nexport enum KoboDropdownPlacements {\n  'up-left' = 'up-left',\n  'up-center' = 'up-center',\n  'up-right' = 'up-right',\n  'down-left' = 'down-left',\n  'down-center' = 'down-center',\n  'down-right' = 'down-right',\n}\n\ntype KoboDropdownProps = {\n  theme: KoboDropdownThemes,\n  placement: KoboDropdownPlacements,\n  /** disables the dropdowns trigger, thus disallowing opening dropdown */\n  isDisabled: boolean,\n  /** hides menu whenever user clicks inside it, useful for simple menu with a list of actions */\n  hideOnMenuClick: boolean,\n  /** hides menu when user clicks outside it */\n  hideOnMenuOutsideClick: boolean,\n  /** hides menu when opened and user uses Escape key */\n  hideOnEsc: boolean,\n  triggerContent: React.ReactNode,\n  /** the content of dropdown, anything's allowed */\n  menuContent: React.ReactNode,\n  /** optional name value useful for styling, ends up in `data-name` attribute */\n  name?: string,\n}\n\ntype KoboDropdownState = {\n  isMenuVisible: boolean,\n}\n\nbem.KoboDropdown = makeBem(null, 'kobo-dropdown');\nbem.KoboDropdown__trigger = makeBem(bem.KoboDropdown, 'trigger', 'button');\nbem.KoboDropdown__menu = makeBem(bem.KoboDropdown, 'menu', 'menu');\nbem.KoboDropdown__menuButton = makeBem(bem.KoboDropdown, 'menu-button', 'button');\n\n/**\n * A generic dropdown component that accepts any content inside the menu and\n * inside the trigger.\n *\n * NOTE: If you need a select-type dropdown, please use `react-select`.\n *\n * You can use some existing content elements:\n * - bem.KoboDropdown__menuButton - a generic dropdown row button\n *\n * To close dropdown from outside the component use:\n * - koboDropdownActions.hideAnyDropdown\n */\nexport default class KoboDropdown extends React.Component<\n  KoboDropdownProps,\n  KoboDropdownState\n> {\n  constructor(props: KoboDropdownProps) {\n    super(props);\n    this.state = {isMenuVisible: false};\n  }\n\n  private checkOutsideClickBound = this.checkOutsideClick.bind(this)\n\n  private onAnyKeyWhileOpenBound = this.onAnyKeyWhileOpen.bind(this)\n\n  private unlisteners: Function[] = []\n\n  componentDidMount() {\n    this.unlisteners.push(\n      koboDropdownActions.hideAnyDropdown.requested.listen(this.hideMenu.bind(this))\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n    this.cancelEscKeyListener();\n    this.cancelOutsideClickListener();\n  }\n\n  onTriggerClick(evt: React.ChangeEvent<HTMLInputElement> | any) {\n    evt.preventDefault();\n    this.toggleMenu();\n  }\n\n  onMenuClick() {\n    if (this.props.hideOnMenuClick) {\n      this.hideMenu();\n    }\n  }\n\n  toggleMenu() {\n    if (this.state.isMenuVisible) {\n      this.hideMenu();\n    } else {\n      this.showMenu();\n    }\n  }\n\n  showMenu() {\n    this.setState({isMenuVisible: true});\n    if (this.props.hideOnEsc) {\n      this.registerEscKeyListener();\n    }\n    if (this.props.hideOnMenuOutsideClick) {\n      this.registerOutsideClickListener();\n    }\n  }\n\n  hideMenu() {\n    this.setState({isMenuVisible: false});\n    this.cancelEscKeyListener();\n    this.cancelOutsideClickListener();\n  }\n\n  registerEscKeyListener() {\n    document.addEventListener('keydown', this.onAnyKeyWhileOpenBound);\n  }\n\n  cancelEscKeyListener() {\n    document.removeEventListener('keydown', this.onAnyKeyWhileOpenBound);\n  }\n\n  onAnyKeyWhileOpen(evt: React.ChangeEvent<HTMLInputElement> | any) {\n    if (\n      evt.key === 'Escape' ||\n      evt.code === 'Escape' ||\n      evt.keyCode === KEY_CODES.ESC ||\n      evt.which === KEY_CODES.ESC\n    ) {\n      this.hideMenu();\n    }\n  }\n\n  registerOutsideClickListener() {\n    window.addEventListener('click', this.checkOutsideClickBound);\n    window.addEventListener('touch', this.checkOutsideClickBound);\n    window.addEventListener('touchstart', this.checkOutsideClickBound);\n    window.addEventListener('contextmenu', this.checkOutsideClickBound);\n  }\n\n  cancelOutsideClickListener() {\n    window.removeEventListener('click', this.checkOutsideClickBound);\n    window.removeEventListener('touch', this.checkOutsideClickBound);\n    window.removeEventListener('touchstart', this.checkOutsideClickBound);\n    window.removeEventListener('contextmenu', this.checkOutsideClickBound);\n  }\n\n  checkOutsideClick(evt: React.ChangeEvent<HTMLInputElement> | any) {\n    let isOutsideClick = true;\n    const dropdownWrapperEl = ReactDOM.findDOMNode(this);\n\n    let loopEl = evt.target;\n    // If we check too much parents going upward looking for dropdown then we\n    // assume it is not a dropdown.\n    let parentsLookupLimit = 10;\n    while (loopEl.parentNode !== null) {\n      if (--parentsLookupLimit === 0) {break;}\n      loopEl = loopEl.parentNode;\n      if (\n        loopEl &&\n        typeof loopEl.isEqualNode === 'function' &&\n        loopEl.isEqualNode(dropdownWrapperEl)\n      ) {\n        isOutsideClick = false;\n        break;\n      }\n    }\n\n    if (isOutsideClick) {\n      this.hideMenu();\n    }\n  }\n\n  getWrapperModifiers() {\n    const wrapperMods = [];\n\n    if (this.props.theme) {\n      wrapperMods.push(this.props.theme);\n    } else {\n      wrapperMods.push(KoboDropdownThemes.light);\n    }\n\n    if (\n      this.props.placement &&\n      typeof KoboDropdownPlacements[this.props.placement] !== 'undefined'\n    ) {\n      wrapperMods.push(this.props.placement);\n    } else {\n      wrapperMods.push(KoboDropdownPlacements['down-center']);\n    }\n\n    // These modifiers are for styling purposes only, i.e. they don't have\n    // anything to do with menu being visible.\n    if (this.state.isMenuVisible) {\n      wrapperMods.push('menu-visible');\n    } else {\n      wrapperMods.push('menu-hidden');\n    }\n\n    if (this.props.isDisabled) {\n      wrapperMods.push('disabled');\n    }\n\n    return wrapperMods;\n  }\n\n  render() {\n    const additionalWrapperAttributes = {'data-name': ''}\n\n    if (this.props.name) {\n      // We use `data-name` attribute to allow any character in the name.\n      additionalWrapperAttributes['data-name'] = this.props.name;\n    }\n\n    return (\n      <bem.KoboDropdown m={this.getWrapperModifiers()} {...additionalWrapperAttributes}>\n        <bem.KoboDropdown__trigger onClick={this.onTriggerClick.bind(this)}>\n          {this.props.triggerContent}\n        </bem.KoboDropdown__trigger>\n\n        {this.state.isMenuVisible &&\n          <bem.KoboDropdown__menu onClick={this.onMenuClick.bind(this)}>\n            {this.props.menuContent}\n          </bem.KoboDropdown__menu>\n        }\n      </bem.KoboDropdown>\n    );\n  }\n}\n","import {META_QUESTION_TYPES} from 'js/constants';\nimport {\n  SUBMISSION_ACTIONS_ID,\n  VALIDATION_STATUS_ID_PROP,\n} from 'js/components/submissions/tableConstants';\n\n/**\n * @param {object[]} survey\n * @param {string} key - column id/question name\n * @param {object} question - question\n * @param {string[]} questionPath - question name with parent groups\n * @param {boolean} showGroupName\n * @param {number} [translationIndex=0]\n * @returns {string}\n */\nexport function getColumnLabel(\n  survey,\n  key,\n  showGroupName,\n  translationIndex = 0\n) {\n  var question;\n  var questionPath = [];\n  if (key.includes('/')) {\n    questionPath = key.split('/');\n    question = survey.find((o) => (\n      o.name === questionPath[questionPath.length - 1] ||\n      o.$autoname === questionPath[questionPath.length - 1]\n    ));\n  } else {\n    question = survey.find((o) => o.name === key || o.$autoname === key);\n  }\n\n  // NOTE: Some very old code has something to do with nonexistent/negative\n  // translationIndex. No idea what is that. It does influences returned value.\n  const showLabels = translationIndex > -1;\n\n  if (key === SUBMISSION_ACTIONS_ID) {\n    return t('Multi-select checkboxes column');\n  }\n  if (key === VALIDATION_STATUS_ID_PROP) {\n    return t('Validation');\n  }\n\n  var label = key;\n\n  if (key.includes('/')) {\n    var splitK = key.split('/');\n    label = splitK[splitK.length - 1];\n  }\n  if (question && question.label && showLabels && question.label[translationIndex]) {\n    label = question.label[translationIndex];\n  }\n  // show Groups in labels, when selected\n  if (showGroupName && questionPath && key.includes('/')) {\n    var gLabels = questionPath.join(' / ');\n\n    if (showLabels) {\n      var gT = questionPath.map(function (g) {\n        var x = survey.find((o) => o.name === g || o.$autoname === g);\n        if (x && x.label && x.label[translationIndex]) {\n          return x.label[translationIndex];\n        }\n\n        return g;\n      });\n      gLabels = gT.join(' / ');\n    }\n    return gLabels;\n  }\n\n  return label;\n}\n\n/**\n * @param {string} key - column id/question name\n * @returns {string} given column's HXL tags\n */\nexport function getColumnHXLTags(survey, key) {\n  const colQuestion = survey.find((question) =>\n    question.$autoname === key\n  );\n  if (!colQuestion || !colQuestion.tags) {\n    return null;\n  }\n  const HXLTags = [];\n  colQuestion.tags.forEach((tag) => {\n    if (tag.startsWith('hxl:')) {\n      HXLTags.push(tag.replace('hxl:', ''));\n    }\n  });\n  if (HXLTags.length === 0) {\n    return null;\n  } else {\n    return HXLTags.join('');\n  }\n}\n\n/**\n * TODO: if multiple background-audio's are allowed, we should return all\n * background-audio related names\n * @param {object} asset\n * @returns {string|null}\n */\nexport function getBackgroundAudioQuestionName(asset) {\n  return asset?.content?.survey.find(\n    (item) => item.type === META_QUESTION_TYPES['background-audio']\n  )?.name || null;\n}\n","global = @\n\n_ = require 'underscore'\nBackbone = require 'backbone'\nalertify = require 'alertifyjs'\nbase = require './model.base'\n$configs = require './model.configs'\n$utils = require './model.utils'\n$surveyDetail = require './model.surveyDetail'\n$aliases = require './model.aliases'\n$rowDetail = require './model.rowDetail'\n$choices = require './model.choices'\n$skipLogicHelpers = require './mv.skipLogicHelpers'\nreadParameters = require('../../js/components/formBuilder/formBuilderUtils').readParameters\nwriteParameters = require('../../js/components/formBuilder/formBuilderUtils').writeParameters\n\nmodule.exports = do ->\n  row = {}\n\n  class row.BaseRow extends base.BaseModel\n    @kls = \"BaseRow\"\n    constructor: (attributes={}, options={})->\n      for key, val of attributes when key is \"\"\n        delete attributes[key]\n      super(attributes, options)\n\n    ensureKuid: ->\n      if '$kuid' not of @attributes\n        @set '$kuid', $utils.txtid()\n\n    initialize: ->\n      @ensureKuid()\n      @convertAttributesToRowDetails()\n\n    isError: -> false\n    convertAttributesToRowDetails: ->\n      for key, val of @attributes\n        unless val instanceof $rowDetail.RowDetail\n          @set key, new $rowDetail.RowDetail({key: key, value: val}, {_parent: @}), {silent: true}\n    attributesArray: ()->\n      arr = ([k, v] for k, v of @attributes)\n      arr.sort (a,b)-> if a[1]._order < b[1]._order then -1 else 1\n      arr\n\n    isGroup: ->\n      @constructor.kls is \"Group\"\n\n    isInGroup: ->\n      @_parent?._parent?.constructor.kls is \"Group\"\n\n    detach: (opts)->\n      if @_parent\n        @_parent.remove @, opts\n        @_parent = null\n      ` `\n\n    selectableRows: () ->\n      questions = []\n      limit = false\n\n      non_selectable = ['datetime', 'time', 'note', 'calculate', 'group', 'kobomatrix', 'repeat', 'rank', 'score']\n\n      survey = @getSurvey()\n      if survey == null\n        return null\n      survey.forEachRow (question) =>\n        limit = limit || question is @\n        if !limit && question.getValue('type') not in non_selectable\n          questions.push question\n      , includeGroups:true\n      questions\n\n    export_relevant_values: (survey_arr, additionalSheets)->\n      survey_arr.push @toJSON2()\n\n    toJSON2: ->\n      outObj = {}\n      for [key, val] in @attributesArray()\n        if key is 'type' and val.get('typeId') in ['select_one', 'select_multiple']\n          outObj['type'] = val.get('typeId')\n          outObj['select_from_list_name'] = val.get('listName')\n          continue\n        else\n          result = @getValue(key)\n        unless @hidden\n          if _.isBoolean(result)\n            outObj[key] = $configs.boolOutputs[if result then \"true\" else \"false\"]\n          else if '' isnt result\n            outObj[key] = result\n      outObj\n\n    toJSON: ->\n      outObj = {}\n      for [key, val] in @attributesArray()\n        result = @getValue(key)\n        unless @hidden\n          if _.isBoolean(result)\n            outObj[key] = $configs.boolOutputs[if result then \"true\" else \"false\"]\n          else\n            outObj[key] = result\n      outObj\n\n  class SimpleRow extends Backbone.Model\n    finalize: -> ``\n    simpleEnsureKuid: ->\n      if '$kuid' not of @attributes\n        @set('$kuid', $utils.txtid())\n    getTypeId: -> @get('type')\n    linkUp: ->\n    _isSelectQuestion: ()-> false\n    get_type: ->\n      $skipLogicHelpers.question_types[@getTypeId()] || $skipLogicHelpers.question_types['default']\n    getValue: (which)-> @get(which)\n\n  class RankRow extends SimpleRow\n    initialize: ->\n      @simpleEnsureKuid()\n      @set('type', 'rank__level')\n    export_relevant_values: (surv, sheets)->\n      surv.push @attributes\n\n  class ScoreRankMixin\n    _extendAll: (rr)->\n      extend_to_row = (val, key)=>\n        if _.isFunction(val)\n          rr[key] = (args...)->\n            val.apply(rr, args)\n        else\n          rr[key] = val\n      _.each @, extend_to_row\n      extend_to_row(@forEachRow, 'forEachRow')\n      _begin_kuid = rr.getValue('$kuid', false)\n      _end_json = @end_json({\"$kuid\": \"/#{_begin_kuid}\"})\n\n      rr._afterIterator = (cb, ctxt)->\n        obj =\n          export_relevant_values: (surv, addl)->\n            surv.push _.extend({}, _end_json)\n          toJSON: ->\n            _.extend({}, _end_json)\n\n        cb(obj)  if ctxt.includeGroupEnds\n\n      _toJSON = rr.toJSON\n\n      rr.clone = ()->\n        attributes = rr.toJSON2()\n\n        options =\n          _parent: rr._parent\n          add: false\n          merge: false\n          remove: false\n          silent: true\n\n        r2 = new row.Row(attributes, options)\n        r2._isCloned = true\n\n        if rr._rankRows\n          # if rr is a rank question\n          for rankRow in rr._rankRows.models\n            r2._rankRows.add(rankRow.toJSON())\n          r2._rankLevels = rr.getSurvey().choices.add(name: $utils.txtid())\n          for item in rr.getList().options.models\n            r2._rankLevels.options.add(item.toJSON())\n          r2.set('kobo--rank-items', r2._rankLevels.get('name'))\n          @convertAttributesToRowDetails()\n          r2.get('type').set('list', r2._rankLevels)\n        else\n          # if rr is a score question\n          for scoreRow in rr._scoreRows.models\n            r2._scoreRows.add(scoreRow.toJSON())\n          r2._scoreChoices = rr.getSurvey().choices.add(name: $utils.txtid())\n          for item in rr.getList().options.models\n            r2._scoreChoices.options.add(item.toJSON())\n          r2.set('kobo--score-choices', r2._scoreChoices.get('name'))\n          @convertAttributesToRowDetails()\n          r2.get('type').set('list', r2._scoreChoices)\n        r2\n\n      rr.toJSON = ()->\n        _.extend _toJSON.call(rr), {\n          'type': \"begin_#{rr._beginEndKey()}\"\n        }, @_additionalJson?()\n\n      _.each @constructor.prototype, extend_to_row\n      if rr.attributes.__rows\n        for subrow in rr.attributes.__rows\n          @[@_rowAttributeName].add(subrow)\n        delete rr.attributes.__rows\n\n    getValue: (which)->\n      @get(which)\n\n    end_json: (mrg={})->\n      _.extend({type: \"end_#{@_beginEndKey()}\"}, mrg)\n\n    forEachRow: (cb, ctx)->\n      cb(@)\n      @[@_rowAttributeName].each (subrow)-> cb(subrow)\n      @_afterIterator(cb, ctx)  if '_afterIterator' of @\n\n\n  class RankRows extends Backbone.Collection\n    model: RankRow\n\n  class RankMixin extends ScoreRankMixin\n    constructor: (rr)->\n      @_rankRows = new RankRows()\n      @_rowAttributeName = '_rankRows'\n      @_extendAll(rr)\n      rankConstraintMessageKey = 'kobo--rank-constraint-message'\n      if !rr.get(rankConstraintMessageKey)\n        rr.set(rankConstraintMessageKey, t(\"Items cannot be selected more than once\"))\n\n    _beginEndKey: ->\n      'rank'\n\n    linkUp: (ctx)->\n      rank_list_id = @get('kobo--rank-items')?.get('value')\n      if rank_list_id\n        @_rankLevels = @getSurvey().choices.get(rank_list_id)\n      else\n        @_rankLevels = @getSurvey().choices.create()\n      @_additionalJson = =>\n        'kobo--rank-items': @getList().get('name')\n      @getList = => @_rankLevels\n\n    export_relevant_values: (survey_arr, additionalSheets)->\n      if @_rankLevels\n        additionalSheets['choices'].add(@_rankLevels)\n      begin_xlsformrow = _.clone(@toJSON2())\n      begin_xlsformrow.type = \"begin_rank\"\n      begin_xlsformrow['kobo--rank-items'] = @getList().get('name')\n      survey_arr.push(begin_xlsformrow)\n      ``\n\n  class ScoreChoiceList extends Array\n\n  class ScoreRow extends SimpleRow\n    initialize: ->\n      @set('type', 'score__row')\n      @simpleEnsureKuid()\n    export_relevant_values: (surv, sheets)->\n      surv.push(@attributes)\n\n  class ScoreRows extends Backbone.Collection\n    model: ScoreRow\n\n  class ScoreMixin extends ScoreRankMixin\n    constructor: (rr)->\n      @_scoreRows = new ScoreRows()\n      @_rowAttributeName = '_scoreRows'\n      @_extendAll(rr)\n\n    _beginEndKey: ->\n      'score'\n\n    linkUp: (ctx)->\n      @getList = ()=> @_scoreChoices\n      @_additionalJson = ()=>\n        'kobo--score-choices': @getList().get('name')\n      score_list_id_item = @get('kobo--score-choices')\n      if score_list_id_item\n        score_list_id = score_list_id_item.get('value')\n        if score_list_id\n          @_scoreChoices = @getSurvey().choices.get(score_list_id)\n        else\n          ctx.warnings.push \"Score choices list not found\"\n          @_scoreChoices = @getSurvey().choices.add({})\n      else\n        ctx.warnings.push \"Score choices list not set\"\n        @_scoreChoices = @getSurvey().choices.add(name: $utils.txtid())\n      ``\n\n    export_relevant_values: (survey_arr, additionalSheets)->\n      score_list = @_scoreChoices\n      if score_list\n        additionalSheets['choices'].add(score_list)\n      output = _.clone(@toJSON2())\n      output.type = \"begin_score\"\n      output['kobo--score-choices'] = @getList().get('name')\n      survey_arr.push(output)\n      ``\n\n  class row.Row extends row.BaseRow\n    @kls = \"Row\"\n    initialize: ->\n      ###\n      The best way to understand the @details collection is\n      that it is a list of cells of the XLSForm spreadsheet.\n      The column name is the \"key\" and the value is the \"value\".\n      We opted for a collection (rather than just saving in the attributes of\n      this model) because of the various state-related attributes\n      that need to be saved for each cell and this allows more room to grow.\n\n      E.g.: {\"key\": \"type\", \"value\": \"select_one colors\"}\n            needs to keep track of how the value was built\n      ###\n      if @_parent\n        defaultsUnlessDefined = @_parent.newRowDetails || $configs.newRowDetails\n        defaultsForType = @_parent.defaultsForType || $configs.defaultsForType\n      else\n        console?.error \"Row not linked to parent survey.\"\n        defaultsUnlessDefined = $configs.newRowDetails\n        defaultsForType = $configs.defaultsForType\n\n      if @attributes.type and @attributes.type of defaultsForType\n        curTypeDefaults = defaultsForType[@attributes.type]\n      else\n        curTypeDefaults = {}\n\n      defaults = _.extend {}, defaultsUnlessDefined, curTypeDefaults\n\n      for key, vals of defaults\n        unless key of @attributes\n          newVals = {}\n          for vk, vv of vals\n            newVals[vk] = if (\"function\" is typeof vv) then vv() else vv\n          @set key, newVals\n\n      if '$kuid' not of @attributes\n        @set '$kuid', $utils.txtid()\n\n      _type = @getValue('type')\n\n      if _type is 'score'\n        new ScoreMixin(@)\n      else if _type is 'rank'\n        new RankMixin(@)\n      @convertAttributesToRowDetails()\n\n      typeDetail = @get(\"type\")\n      tpVal = typeDetail.get(\"value\")\n      select_from_list_name = @get(\"select_from_list_name\")\n      if select_from_list_name and tpVal\n        tpVal = \"#{tpVal} #{select_from_list_name.get('value')}\"\n        typeDetail.set(\"value\", tpVal, silent: true)\n\n      processType = (rd, newType, ctxt)=>\n        # if value changes, it could be set from an initialization value\n        # or it could be changed elsewhere.\n        # we need to keep typeId, listName, and orOther in sync.\n        if _.isObject(newType)\n          tpid = _.keys(newType)[0]\n          p2 = _.values(newType)[0]\n        else\n          [tpid, p2, p3] = newType.split(\" \")\n\n        typeDetail.set(\"typeId\", tpid, silent: true)\n        if p2\n          typeDetail.set(\"listName\", p2, silent: true)\n          matchedList = @getSurvey().choices.get(p2)\n          if matchedList\n            typeDetail.set(\"list\", matchedList)\n        if p3 is \"or_other\" or tpid in [\"select_one_or_other\", \"select_multiple_or_other\"]\n          typeDetail.set(\"orOther\", p3, silent: true)\n        if (rtp = $configs.lookupRowType(tpid))\n          typeDetail.set(\"rowType\", rtp, silent: true)\n        else\n          throw new Error \"type `#{tpid}` not found\"\n      processType(typeDetail, tpVal, {})\n      typeDetail.on \"change:value\", processType\n      typeDetail.on \"change:listName\", (rd, listName, ctx)->\n        rtp = typeDetail.get(\"rowType\")\n        typeStr = \"#{typeDetail.get(\"typeId\")}\"\n        if rtp.specifyChoice and listName\n          typeStr += \" #{listName}\"\n        if rtp.orOtherOption and typeDetail.get(\"orOther\")\n          typeStr += \" or_other\"\n        typeDetail.set({value: typeStr}, silent: true)\n      typeDetail.on \"change:list\", (rd, cl, ctx)->\n        if typeDetail.get(\"rowType\").specifyChoice\n          clname = cl.get(\"name\")\n          unless clname\n            clname = $utils.txtid()\n            cl.set(\"name\", clname, silent: true)\n          @set(\"value\", \"#{@get('typeId')} #{clname}\")\n    getTypeId: ->\n      @get('type').get('typeId')\n    clone: ->\n      attributes = {}\n      options =\n        _parent: @_parent\n        add: false\n        merge: false\n        remove: false\n        silent: true\n\n\n      _.each @attributes, (value, key) => attributes[key] = @getValue key\n\n      newRow = new row.Row attributes, options\n\n      newRowType = newRow.get('type')\n      if newRowType.get('typeId') in ['select_one', 'select_multiple']\n        newRowType.set 'list', @getList().clone()\n        newRowType.set 'listName', newRowType.get('list').get 'name'\n\n      @getSurvey().trigger('change')\n\n      return newRow\n\n    finalize: ->\n      existing_name = @getValue(\"name\")\n      unless existing_name\n        names = []\n        @getSurvey().forEachRow (r)->\n          name = r.getValue(\"name\")\n          names.push(name)  if name\n        label = @getValue(\"label\")\n        @get(\"name\").set(\"value\", $utils.sluggifyLabel(label, names))\n      @\n\n    get_type: ->\n      $skipLogicHelpers.question_types[@getTypeId()] || $skipLogicHelpers.question_types['default']\n\n    _isSelectQuestion: ->\n      # TODO [ald]: pull this from $aliases\n      @get('type').get('typeId') in ['select_one', 'select_multiple']\n\n    getAcceptedFiles: -> return @attributes['body::accept']?.attributes?.value\n\n    setAcceptedFiles: (bodyAcceptString) ->\n      @setDetail('body::accept', bodyAcceptString)\n      return\n\n    getParameters: -> readParameters(@attributes.parameters?.attributes?.value)\n\n    setParameters: (paramObject) ->\n      paramString = writeParameters(paramObject)\n      @setDetail('parameters', paramString)\n      return\n\n    getList: ->\n      _list = @get('type')?.get('list')\n      if (not _list) and @_isSelectQuestion()\n        _list = new $choices.ChoiceList(name: $utils.txtid())\n        @setList(_list)\n      _list\n\n    setList: (list)->\n      listToSet = @getSurvey().choices.get(list)\n      unless listToSet\n        @getSurvey().choices.add(list)\n        listToSet = @getSurvey().choices.get(list)\n      throw new Error(\"List not found: #{list}\")  unless listToSet\n      @get(\"type\").set(\"list\", listToSet)\n    parse: ->\n      val.parse()  for key, val of @attributes\n\n    linkUp: (ctx)->\n      val.linkUp(ctx)  for key, val of @attributes\n\n  class row.RowError extends row.BaseRow\n    constructor: (obj, options)->\n      @_error = options.error\n      unless window.xlfHideWarnings\n        console?.error(\"Error creating row: [#{options.error}]\", obj)\n        alertify.error(\"Error creating row: [#{options.error}]\");\n      super(obj, options)\n    isError: -> true\n    getValue: (what)->\n      if what of @attributes\n        @attributes[what].get('value')\n      else\n        \"[error]\"\n\n  row\n","###\nThis file is intended to ensure that modules that use external plugins\nhave access to those plugins and a proper error message is\ndisplayed.\n###\n\nBackbone = require 'backbone'\n@jQuery = $\nselect2 = require 'select2'\n\nmodule.exports = do ->\n  missingPlugins = []\n  errorMessageUnlessExists = (base, param, message)->\n    unless base[param]\n      missingPlugins.push \"'#{param}': '#{message}'\"\n\n  # these dependency checks are breaking unnecessarily\n  # errorMessageUnlessExists $.fn, \"editable\", \"jquery x-editable\"\n  # errorMessageUnlessExists $.fn, \"select2\", \"select2\"\n  # errorMessageUnlessExists $.fn, \"sortable\", \"jquery-ui sortable\"\n  # errorMessageUnlessExists Backbone.Model.prototype, \"Validation\"\n\n  if missingPlugins.length > 0\n    throw new Error(\"Missing plugin(s): {#{missingPlugins.join(', ')}}\")\n\n  Backbone.View\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport TagsInput from 'react-tagsinput';\nimport {cleanupTags} from 'js/assetUtils';\n\nconst DEFAULT_PLACEHOLDER = t('Type and confirm with ENTER');\nconst TAGS_SEPARATOR = ',';\n\n/**\n * This component is a wrapper around 3rd party react-tagsinput to allow for\n * common settings to be reused in a better way.\n *\n * @prop {string} tags a comma-separated list of tags (the asset keeps it that way)\n * @prop {callback} onChange - returns stringified comma-separated new tags string\n * @prop {string} [label] optional title\n * @prop {string} [placeholder] optional as default is provided\n */\nclass KoboTagsInput extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n  }\n\n  onChange(tags) {\n    // make sure to split all multiple tags added (i.e. when users types in few\n    // tags at once separated by TAGS_SEPARATOR)\n    let cleanTags = tags.join(TAGS_SEPARATOR).split(TAGS_SEPARATOR);\n    // we then make sure the list contains only unique values and cleaned up\n    cleanTags = Array.from(new Set(cleanupTags(cleanTags)));\n    this.props.onChange(cleanTags.join(TAGS_SEPARATOR));\n  }\n\n  // splits pasted text by TAGS_SEPARATOR and trims all white space\n  pasteSplit(data) {\n    return data.split(TAGS_SEPARATOR).map((tag) => {return tag.trim();});\n  }\n\n  render() {\n    const inputProps = {\n      placeholder: this.props.placeholder || DEFAULT_PLACEHOLDER,\n    };\n\n    if (this.props.label) {\n      // generate a unique id for the input\n      inputProps.id = String(encodeURI(this.props.label) + '_' + Date.now()).toLowerCase();\n    }\n\n    let tagsArray = [];\n    if (typeof this.props.tags === 'string' && this.props.tags.length >= 1) {\n      tagsArray = this.props.tags.split(TAGS_SEPARATOR);\n    }\n\n    return (\n      <div>\n        {this.props.label &&\n          <label htmlFor={inputProps.id}>\n            {this.props.label}\n          </label>\n        }\n\n        <TagsInput\n          value={tagsArray}\n          onChange={this.onChange}\n          inputProps={inputProps}\n          onlyUnique\n          addOnBlur\n          addOnPaste\n          pasteSplit={this.pasteSplit}\n        />\n      </div>\n    );\n  }\n}\n\nexport default KoboTagsInput;\n","$factory = require('./model.validationLogicParserFactory')\n\n### debug method for regexes\nerr_if_unmatch = (re1, re2)->\n  if re1 and re2 and re1.toString() isnt re2.toString()\n    console.error ['inputs did not match', re1.toString(), re2.toString()].join '\\n'\nlog_equiv = (i1, i2, i3)->\n  console.log([i1.toString()])\n  err_if_unmatch(i1, i2) or err_if_unmatch(i2, i3)\n  i1\n###\n\nmodule.exports = do ->\n  equalityCriterionPattern = ///\n      ^\\${(\\w+)}\\s*                      # question reference in the format of ${name}\n      (!=|<=|>=|=|<|>)\\s*                # operator (careful: if < is listed before <=, the = will be treated as part of the value)\n      (                                  # start of the value group\n        (?:                              #   start of a non-matching group\n          date\\(\\'\\d{4}-\\d{2}-\\d{2}\\'\\)) #     something resembling a date: date('xxxx-xx-xx')\n        |                                #   or\n          (?:-?(?:\\d+\\.\\d+|\\.\\d+|\\d+.?)) #     a signed integer or decimal\n        |                                #   or\n          (?:\\'[^']+\\')                  #     a string surrounded by single quotes (careful: the quotes are included in the match!)\n      )                                  # end of the value group\n    ///\n\n  # /\\${(\\w+)}\\s*((?:=|!=)\\s*(?:NULL|''))/i\n  existenceCriterionPattern = ///\n      \\${\n        (\\w+)\n      }\\s*\n      (\n        (?:=|!=)\n        \\s*\n        (?:NULL|'')\n      )\n    ///i\n\n  # / and | or /gi\n  criteriaJoinPattern =\n    ///#{' and '}|#{' or '}///gi\n\n  # /selected\\(\\$\\{(\\w+)\\},\\s*\\'(\\w+)\\'\\)/\n  selectMultiplePattern = ///\n      selected\\(\\$\\{\n      (\\w+)\n      \\},\n      \\s*\n      \\'\n      (\\w+)\n      \\'\n      \\)\n    ///\n\n  $factory(equalityCriterionPattern,\n            existenceCriterionPattern,\n            criteriaJoinPattern,\n            selectMultiplePattern)\n","var _ = require('underscore');\n\nmodule.exports = (function(){\n    return function (equalityCriterionPattern, existenceCriterionPattern, criteriaJoinPattern, selectMultiplePattern) {\n        function parseCriterion(text) {\n            var matches = text.match(existenceCriterionPattern);\n            if (matches === null) {\n                matches = text.match(equalityCriterionPattern);\n            }\n\n            if (!!matches) {\n                matches[2] = matches[2].replace(/\\s+/, '').replace(/null/i, 'NULL');\n            } else {\n                return parseMultiselectCriterion(text);\n            }\n\n            var equalityMapper = {\n                '=': 'resp_equals',\n                '!=': 'resp_notequals',\n                '>': 'resp_greater',\n                '<': 'resp_less',\n                '>=': 'resp_greaterequals',\n                '<=': 'resp_lessequals',\n                '!=\\'\\'': 'ans_notnull',\n                '=\\'\\'': 'ans_null'\n            };\n\n            var res = {\n                name: matches[1],\n                operator: equalityMapper[matches[2]]\n            };\n\n            if (matches[3]) {\n                // strip surrounding single quotes, if any\n                var response_value = matches[3].replace(/^'([^']*)'$/, '$1');\n                // extract xxxx-xx-xx from date('xxxx-xx-xx')\n                response_value = response_value.replace(/date\\('(\\d{4}-\\d{2}-\\d{2})'\\)/, '$1');\n                res.response_value = response_value;\n            }\n\n            return res;\n        }\n\n        function parseMultiselectCriterion(text) {\n            var matches = text.match(selectMultiplePattern);\n\n            if (!matches) {\n                throw new Error('criterion not recognized: \"' + text + '\"');\n            }\n\n            return {\n                name: matches[1],\n                operator: text.indexOf('not(') == -1 ? 'multiplechoice_selected' : 'multiplechoice_notselected',\n                response_value: matches[2]\n            };\n        }\n\n        return function (text) {\n            var criteria = text.split(criteriaJoinPattern),\n                criteriaLength = criteria.length,\n                joinOperators = text.match(criteriaJoinPattern);\n\n\n            if (!!joinOperators && _.uniq(joinOperators).length > 1) {\n                throw new Error('multiple criteria join operators are not supported at the moment');\n            }\n\n            if (criteriaLength === 1) {\n                return {\n                    criteria: [parseCriterion(text)]\n                };\n            } else {\n                return {\n                    criteria: _.map(criteria, function (criterion) {\n                        return parseCriterion(criterion);\n                    }),\n                    operator: joinOperators[0].replace(/ /g, '').toUpperCase()\n                };\n            }\n        };\n    }\n})();\n","$factory = require('./model.validationLogicParserFactory')\n\nmodule.exports = do ->\n  equalityCriterionPattern = ///\n      (\\.)\\s*                            # always a leading dot\n      (!=|<=|>=|=|<|>)\\s*                # operator (careful: if < is listed before <=, the = will be treated as part of the value)\n      (                                  # start of the value group\n        (?:                              #   start of a non-matching group\n          date\\(\\'\\d{4}-\\d{2}-\\d{2}\\'\\)) #     something resembling a date: date('xxxx-xx-xx')\n        |                                #   or\n          (?:-?(?:\\d+\\.\\d+|\\.\\d+|\\d+.?)) #     a signed integer or decimal\n        |                                #   or\n          (?:\\'[^']+\\')                  #     a string surrounded by single quotes (careful: the quotes are included in the match!)\n      )                                  # end of the value group\n    ///\n\n  # /(\\.)\\s*((?:=|!=)\\s*(?:NULL|''))/i\n  existenceCriterionPattern = ///\n      (\\.)\\s*\n      (\n        (?:=|!=)\n        \\s*\n        (?:NULL|'')\n      )\n    ///i\n\n  # / and | or /gi\n  criteriaJoinPattern =\n    ///#{' and '}|#{' or '}///gi\n\n  # /selected\\((\\.)\\s*,\\s*\\'(\\w+)\\'\\)/\n  selectMultiplePattern = ///\n      selected\\(\n        (\\.)\\s*\n        ,\\s*\\'\n        (\\w+)\\'\n      \\)\n    ///\n\n  $factory(equalityCriterionPattern,\n            existenceCriterionPattern,\n            criteriaJoinPattern,\n            selectMultiplePattern)\n","_ = require 'underscore'\nBackbone = require('backbone')\n\nmodule.exports = do ->\n  viewWidgets = {}\n\n  class viewWidgets.Base extends Backbone.View\n    attach_to: ($el) ->\n      if $el instanceof viewWidgets.Base\n        $el = $el.$el\n      $el.append(@el)\n\n    bind_event: (type, callback) ->\n      @$el.off type, callback\n      @$el.on type, callback\n    detach: () ->\n      @$el.remove()\n    val: (value) ->\n      if value\n        @$el.val value\n        if !@$el.val()?\n          @$el.prop('selectedIndex', 0)\n      else return @$el.val()\n\n  class viewWidgets.Label extends viewWidgets.Base\n    tagName: 'label'\n    constructor: (@text, @className, @input) ->\n      super()\n    val: () ->\n    bind_event: () ->\n    render: () ->\n      if @text\n        @$el.text(@text)\n      if @className\n        @$el.addClass @className\n      if @input\n        @$el.attr 'for', @input.cid\n      @\n\n  class viewWidgets.EmptyView extends viewWidgets.Base\n    attach_to: () -> return\n    bind_event: () -> return\n    render: () -> @\n    val: () -> null\n\n  class viewWidgets.TextArea extends viewWidgets.Base\n    tagName: 'textarea'\n    render: () ->\n      @$el.val @text\n      @$el.addClass @className\n      @$el.on 'paste', (e) -> e.stopPropagation()\n\n      @\n    constructor: (@text, @className) -> super()\n\n  class viewWidgets.TextBox extends viewWidgets.Base\n    tagName: 'input'\n    render: () ->\n      @$el.attr 'type', 'text'\n      @$el.val @text\n      @$el.addClass @className\n      @$el.attr 'placeholder', @placeholder\n      @$el.on 'paste', (e) -> e.stopPropagation()\n\n      @\n    constructor: (@text, @className, @placeholder) -> super()\n\n  class viewWidgets.Button extends viewWidgets.Base\n    tagName: 'button'\n    render: () ->\n      @$el.html @text\n      @$el.addClass @className\n\n      @\n    constructor: (@text, @className) -> super()\n\n  class viewWidgets.DropDownModel extends Backbone.Model\n\n  class viewWidgets.DropDown extends viewWidgets.Base\n    tagName: 'select'\n    constructor: (options) ->\n      @options = options\n      super(options)\n\n      if !(@options instanceof viewWidgets.DropDownModel)\n        @options = new viewWidgets.DropDownModel()\n        @options.set('options', options)\n      @options.on 'change:options', @render.bind(@)\n\n    render: () =>\n      options_html = ''\n      _.each @options.get('options'), (option) ->\n        options_html += '<option value=\"' + option.value + '\">' + option.text + '</option>'\n\n      @$el.html options_html\n      @\n\n    attach_to: (target) ->\n      super(target)\n      @$el.select2({ minimumResultsForSearch: -1 })\n\n  viewWidgets\n","###\n# [inputDeserializer]\n#  wrapper around methods for converting raw input into survey structure\n# ______________________________________________________________________\n###\n\n_ = require 'underscore'\ncsv = require './csv'\n$aliases = require './model.aliases'\n\nmodule.exports = do ->\n  inputDeserializer = (inp, ctx={})->\n    r = deserialize inp, ctx\n    if not ctx.error and ctx.validate\n      validateParse(r, ctx)\n    r\n\n  # [inputDeserializer.deserialize] parses csv string, json string,\n  #  or object into survey object\n  # -------------------------------\n  deserialize = do ->\n    _csv_to_params = (csv_repr)->\n      cobj = csv.sheeted(csv_repr)\n      out = {}\n\n      out.survey = if (sht = cobj.sheet \"survey\") then sht.toObjects() else []\n      out.choices = if (sht = cobj.sheet \"choices\") then sht.toObjects() else []\n      if (sht = cobj.sheet \"settings\")\n        out.settings = sht.toObjects()[0]\n\n      out\n\n    _parse_sheets = (repr)->\n      # If a sheet has a first-row which is an array, that array will be treated as column\n      # headers and any subsequent array-rows will be matched up\n\n      for shtName, sheet of repr\n        if _.isArray(sheet) and sheet.length > 0 and _.isArray(sheet[0])\n          out_sheet = []\n          [cols, contents...] = sheet\n          for row in contents\n            if _.isArray(row)\n              new_row = {}\n              for col, i in cols\n                if i < row.length and row[i] not in [undefined, null]\n                  new_row[col] = row[i]\n              out_sheet.push(new_row)\n            else\n              out_sheet.push(row)\n          repr[shtName] = out_sheet\n      repr\n\n    # returns: function\n    (repr, ctx={})->\n      if _.isString(repr)\n        _csv_to_params repr\n      else if _.isObject repr\n        _parse_sheets repr\n      else\n        ``\n\n  # [inputDeserializer.validateParse]\n  #  ensure correct sheet names exist in imported surveys\n  # ---------------------------------\n  validateParse = do ->\n    requiredSheetNameList = $aliases.q.requiredSheetNameList()\n\n    # returns: function\n    (repr, ctx={})->\n      valid_with_sheet = false\n      for sheetId in requiredSheetNameList\n        if repr[sheetId]\n          ctx.surveyType = sheetId\n          valid_with_sheet = true\n      ctx.settings = true  if repr['settings']\n      ctx.choices = true  if repr['choices']\n      unless valid_with_sheet\n        sn = requiredSheetNameList.join(', ')\n        ctx.error = \"Missing a survey sheet [#{sn}]\"\n      !ctx.error\n\n  inputDeserializer.validateParse = validateParse\n  inputDeserializer.deserialize = deserialize\n  inputDeserializer\n","_ = require 'underscore'\ncloneDeep = require('lodash.clonedeep')\n$aliases = require './model.aliases'\n$configs = require './model.configs'\nformBuilderUtils = require '../../js/components/formBuilder/formBuilderUtils'\n\nmodule.exports = do ->\n  inputParser = {}\n\n  class ParsedStruct\n    constructor: (@type, @atts={})->\n      @contents = []\n    push: (item)->\n      @contents.push(item)\n      ``\n    export: ->\n      arr = []\n      for item in @contents\n        if item instanceof ParsedStruct\n          item = item.export()\n        arr.push(item)\n      _.extend({}, @atts, {type: @type, __rows: arr})\n\n  hasBeenParsed = (obj)->\n    for row in obj\n      if row.__rows\n        return true\n      else if $aliases.q.testGroupable(row.type)\n        return false\n    return true\n  inputParser.hasBeenParsed = hasBeenParsed\n\n  flatten_translated_fields = (item, translations)->\n    for key, val of item\n      if _.isArray(val) and key != 'tags'\n        delete item[key]\n        _.map(translations, (_t, i)->\n          _translated_val = val[i]\n          if _t\n            lang_str = \"#{key}::#{_t}\"\n          else\n            lang_str = key\n          item[lang_str] = _translated_val\n        )\n    return item\n\n  parseArr = (type='survey', sArr, translations=false)->\n    counts = {\n      open: {}\n      close: {}\n    }\n    count_att = (opn_cls, att)->\n      counts[opn_cls][att]?=0\n      counts[opn_cls][att]++\n      ``\n    grpStack = [new ParsedStruct(type)]\n\n    _pushGrp = (type='group', item)->\n      count_att('open', type)\n      grp = new ParsedStruct(type, item)\n      _curGrp().push(grp)\n      grpStack.push(grp)\n\n    _popGrp = (closedByAtts, type)->\n      count_att('close', type)\n      _grp = grpStack.pop()\n      if _grp.type isnt closedByAtts.type\n        throw new Error(\"mismatched group/repeat tags\")\n      ``\n\n    _curGrp = ->\n      _l = grpStack.length\n      if _l is 0\n        throw new Error(\"unmatched group/repeat\")\n      grpStack[_l-1]\n\n    for item in sArr\n      _groupAtts = $aliases.q.testGroupable(item.type)\n\n      if translations and translations.length > 0\n        item = flatten_translated_fields(item, translations)\n\n      if _groupAtts\n        if _groupAtts.begin\n          _pushGrp(_groupAtts.type, item)\n        else\n          _popGrp(_groupAtts, item.type)\n      else\n        _curGrp().push(item)\n\n    if grpStack.length isnt 1\n      throw new Error(JSON.stringify({\n          message: \"unclosed groupable set\",\n          counts: counts\n        }))\n\n    _curGrp().export().__rows\n\n  # normalizes required value - truthy values become `true` and falsy values become `false`\n  normalizeRequiredValues = (survey) ->\n    normalizedSurvey = cloneDeep(survey)\n    for row in normalizedSurvey\n      if row.required in $configs.truthyValues\n        row.required = true\n      else if row.required in $configs.falsyValues or row.required in [undefined, '']\n        row.required = false\n    return normalizedSurvey\n\n  inputParser.parseArr = parseArr\n\n  # pass baseSurvey whenever you import other asset into existing form\n  inputParser.parse = (o, baseSurvey)->\n    translations = o.translations\n\n    nullified = formBuilderUtils.nullifyTranslations(o.translations, o.translated, o.survey, baseSurvey)\n\n    # we edit the received object directly, which is totally a case of BAD CODE™\n    # but in fact is a necessary part of the nullify hack\n    o.survey = nullified.survey;\n    o.translations = nullified.translations\n    o.translations_0 = nullified.translations_0\n\n    if o.survey\n      o.survey = normalizeRequiredValues(o.survey)\n\n    # sorts groups and repeats into groups and repeats (recreates the structure)\n    if o.survey\n      o.survey = parseArr('survey', o.survey, o.translations)\n\n    if o.choices\n      o.choices = parseArr('choices', o.choices, o.translations)\n\n    # settings is sometimes packaged as an array length=1\n    if o.settings and _.isArray(o.settings) and o.settings.length is 1\n      o.settings = o.settings[0]\n\n    return o\n\n  inputParser.loadChoiceLists = (passedChoices, choices)->\n    tmp = {}\n    choiceNames = []\n    for choiceRow in passedChoices\n      lName = choiceRow[\"list name\"] || choiceRow[\"list_name\"]\n      unless tmp[lName]\n        tmp[lName] = []\n        choiceNames.push(lName)\n      tmp[lName].push(choiceRow)\n    for cn in choiceNames\n      choices.add(name: cn, options: tmp[cn])\n\n  # groupByVisibility = (inp, hidden=[], remain=[])->\n  #   hiddenTypes = $aliases.q.hiddenTypes()\n  #   throw Error(\"inputParser.sortByVisibility requires an array\")  unless _.isArray(inp)\n  #   for row in inp\n  #     dest = if row.type? in hiddenTypes then hidden else remain\n  #   [hidden, inp]\n\n  # inputParser.sortByVisibility = sortByVisibility\n  inputParser\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport bem from 'js/bem';\nimport {stores} from '../stores';\nimport assetStore from 'js/assetStore';\nimport {Link, hashHistory} from 'react-router';\nimport mixins from '../mixins';\nimport {PERMISSIONS_CODENAMES} from 'js/constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport {assign} from 'utils';\n\nexport function getFormDataTabs(assetUid, hasPartialView) {\n  return [\n    {\n      label: t('Table'),\n      icon: 'k-icon k-icon-table',\n      path: ROUTES.FORM_TABLE.replace(':uid', assetUid),\n    },\n    {\n      label: t('Reports'),\n      icon: 'k-icon k-icon-report',\n      path: ROUTES.FORM_REPORT.replace(':uid', assetUid),\n    },\n    {\n      label: t('Gallery'),\n      icon: 'k-icon k-icon-photo-gallery',\n      path: ROUTES.FORM_GALLERY.replace(':uid', assetUid),\n      isDisabled: hasPartialView,\n    },\n    {\n      label: t('Downloads'),\n      icon: 'k-icon k-icon-download',\n      path: ROUTES.FORM_DOWNLOADS.replace(':uid', assetUid),\n    },\n    {\n      label: t('Map'),\n      icon: 'k-icon k-icon-map-view',\n      path: ROUTES.FORM_MAP.replace(':uid', assetUid),\n    },\n  ];\n}\n\nclass FormViewTabs extends Reflux.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(assetStore, this.assetLoad);\n  }\n\n  assetLoad(data) {\n    var assetid = this.currentAssetID();\n    var asset = data[assetid];\n    this.setState(\n      assign({\n        asset: asset,\n        assetid: assetid,\n      })\n    );\n  }\n\n  triggerRefresh(evt) {\n    if ($(evt.target).hasClass('active')) {\n      hashHistory.push(`/forms/${this.state.assetid}/reset`);\n\n      var path = evt.target.getAttribute('data-path');\n      window.setTimeout(function () {\n        hashHistory.push(path);\n      }, 50);\n\n      evt.preventDefault();\n    }\n  }\n\n  isDataTabEnabled() {\n    return (\n      this.state.asset.deployment__identifier != undefined &&\n      this.state.asset.has_deployment &&\n      this.state.asset.deployment__submission_count > 0 &&\n      (\n        this.userCan('view_submissions', this.state.asset) ||\n        this.userCanPartially('view_submissions', this.state.asset)\n      )\n    );\n  }\n\n  renderTopTabs() {\n    if (this.state.asset === undefined) {\n      return false;\n    }\n\n    let dataTabClassNames = 'form-view__tab';\n    if (!this.isDataTabEnabled()) {\n      dataTabClassNames += ' form-view__tab--disabled';\n    }\n\n    let summaryTabClassNames = 'form-view__tab';\n    if (!stores.session.isLoggedIn) {\n      summaryTabClassNames += ' form-view__tab--disabled';\n    }\n\n    let settingsTabClassNames = 'form-view__tab';\n    if (\n      !stores.session.isLoggedIn ||\n      !this.userCan('change_asset', this.state.asset)\n    ) {\n      settingsTabClassNames += ' form-view__tab--disabled';\n    }\n\n    return (\n      <bem.FormView__toptabs>\n        <Link\n          to={ROUTES.FORM_SUMMARY.replace(':uid', this.state.assetid)}\n          className={summaryTabClassNames}\n          activeClassName='active'\n        >\n          {t('Summary')}\n        </Link>\n\n        <Link\n          to={ROUTES.FORM_LANDING.replace(':uid', this.state.assetid)}\n          className='form-view__tab'\n          activeClassName='active'\n        >\n          {t('Form')}\n        </Link>\n\n        <Link\n          to={ROUTES.FORM_DATA.replace(':uid', this.state.assetid)}\n          className={dataTabClassNames}\n          activeClassName='active'\n        >\n          {t('Data')}\n        </Link>\n\n        <Link\n          to={ROUTES.FORM_SETTINGS.replace(':uid', this.state.assetid)}\n          className={settingsTabClassNames}\n          activeClassName='active'\n        >\n          {t('Settings')}\n        </Link>\n\n        {stores.session.isLoggedIn && (\n          <Link\n            to={ROUTES.FORMS}\n            className='form-view__link form-view__link--close'\n          >\n            <i className='k-icon k-icon-close' />\n          </Link>\n        )}\n      </bem.FormView__toptabs>\n    );\n  }\n\n  renderFormSideTabs() {\n    var sideTabs = [];\n\n    if (\n      this.state.asset &&\n      this.state.asset.has_deployment &&\n      this.isActiveRoute(ROUTES.FORM_DATA.replace(':uid', this.state.assetid))\n    ) {\n      const hasPartialView = mixins.permissions.userCanPartially(\n        PERMISSIONS_CODENAMES.view_submissions,\n        this.state.asset\n      );\n      sideTabs = getFormDataTabs(this.state.assetid, hasPartialView);\n    }\n\n    if (\n      this.state.asset &&\n      this.isActiveRoute(ROUTES.FORM_SETTINGS.replace(':uid', this.state.assetid))\n    ) {\n      sideTabs = [];\n\n      sideTabs.push({\n        label: t('General'),\n        icon: 'k-icon k-icon-settings',\n        path: ROUTES.FORM_SETTINGS.replace(':uid', this.state.assetid),\n      });\n\n      if (\n        mixins.permissions.userCan(\n          PERMISSIONS_CODENAMES.change_asset,\n          this.state.asset\n        )\n      ) {\n        sideTabs.push({\n          label: t('Media'),\n          icon: 'k-icon k-icon-photo-gallery',\n          path: ROUTES.FORM_MEDIA.replace(':uid', this.state.assetid),\n        });\n      }\n\n      sideTabs.push({\n        label: t('Sharing'),\n        icon: 'k-icon k-icon-user-share',\n        path: ROUTES.FORM_SHARING.replace(':uid', this.state.assetid),\n      });\n\n      sideTabs.push({\n        label: t('Connect Projects'),\n        icon: 'k-icon k-icon-attach',\n        path: ROUTES.FORM_RECORDS.replace(':uid', this.state.assetid),\n      });\n\n      if (\n        (\n          this.state.asset.deployment__active ||\n          // REST services should be visible for archived forms but not drafts\n          this.state.asset.deployed_versions.count > 0\n        ) &&\n        mixins.permissions.userCan(\n          PERMISSIONS_CODENAMES.view_submissions,\n          this.state.asset\n        ) &&\n        mixins.permissions.userCan(\n          PERMISSIONS_CODENAMES.change_asset,\n          this.state.asset\n        )\n      ) {\n        sideTabs.push({\n          label: t('REST Services'),\n          icon: 'k-icon k-icon-data-sync',\n          path: ROUTES.FORM_REST.replace(':uid', this.state.assetid),\n        });\n      }\n    }\n\n    if (sideTabs.length > 0) {\n      return (\n        <bem.FormView__sidetabs>\n          {sideTabs.map((item, ind) => {\n            let className = 'form-view__tab';\n            if (item.isDisabled) {\n              className += ' form-view__tab--disabled';\n            }\n            return (\n              <Link\n                to={item.path}\n                key={ind}\n                activeClassName='active'\n                onlyActiveOnIndex\n                className={className}\n                data-path={item.path}\n                onClick={this.triggerRefresh}\n              >\n                <i className={`k-icon ${item.icon}`} />\n                {item.label}\n              </Link>\n            );\n          })}\n        </bem.FormView__sidetabs>\n      );\n    }\n\n    return false;\n  }\n\n  render() {\n    if (!this.props.show) {\n      return false;\n    }\n    if (this.props.type === 'top') {\n      return (\n        this.renderTopTabs()\n      );\n    }\n    if (this.props.type === 'side') {\n      return (\n        this.renderFormSideTabs()\n      );\n    }\n  }\n}\n\nreactMixin(FormViewTabs.prototype, Reflux.ListenerMixin);\nreactMixin(FormViewTabs.prototype, mixins.contextRouter);\nreactMixin(FormViewTabs.prototype, mixins.permissions);\n\nFormViewTabs.contextTypes = {\n  router: PropTypes.object,\n};\n\nexport default FormViewTabs;\n","import {ENKETO_ACTIONS} from 'js/constants'\nimport {dataInterface} from 'js/dataInterface';\nimport {notify} from 'utils';\n\n/**\n * For handling Enketo in DRY way.\n */\nconst enketoHandler = {\n  enketoUrls: new Map(),\n  winTab: null,\n\n  /**\n   * Builds unique url id.\n   */\n  _getUrlId(aid, sid, action) {\n    return `${aid}-${sid}-${action}`;\n  },\n\n  _hasEnketoUrl(urlId) {\n    return this.enketoUrls.has(urlId);\n  },\n\n  /**\n   * Opens submission in new window.\n   */\n  _openEnketoUrl(urlId) {\n    this.winTab.location.href = this.enketoUrls.get(urlId);\n  },\n\n  _saveEnketoUrl(urlId, url) {\n    this.enketoUrls.set(urlId, url);\n    // store url for 30 seconds as configured in Enketo\n    setTimeout(this._removeEnketoUrl.bind(this, urlId), 30 * 1000);\n  },\n\n  _removeEnketoUrl(urlId) {\n    this.enketoUrls.delete(urlId);\n  },\n\n  /**\n   * Opens submission url from cache or after getting it from endpoint.\n   *\n   * @param {string} aid - Asset id.\n   * @param {string} sid - Submission id.\n   *\n   * @returns {Promise} Promise that resolves when url is being opened.\n   */\n  openSubmission(aid, sid, action) {\n    // we create the tab immediately to avoid browser popup blocker killing it\n    this.winTab = window.open('', '_blank');\n    let dataIntMethod = dataInterface.getEnketoEditLink;\n    if ( action === ENKETO_ACTIONS.view ) {\n      dataIntMethod = dataInterface.getEnketoViewLink;\n    }\n    const urlId = this._getUrlId(aid, sid, action);\n    const enketoPromise = new Promise((resolve, reject) => {\n      if (this._hasEnketoUrl(urlId)) {\n        this._openEnketoUrl(urlId);\n        resolve();\n      } else {\n        dataIntMethod(aid, sid)\n          .done((enketoData) => {\n            if (enketoData.url) {\n              this._saveEnketoUrl(urlId, enketoData.url);\n              this._openEnketoUrl(urlId);\n              resolve();\n            } else {\n              let errorMsg = t('There was an error loading Enketo.');\n              if (enketoData.detail) {\n                errorMsg += `<br><code>${enketoData.detail}</code>`;\n              }\n              notify(errorMsg, 'error');\n              reject();\n            }\n          })\n          .fail(() => {\n            notify(t('There was an error getting Enketo link'), 'error');\n            reject();\n          });\n      }\n    }).catch(() => {\n      // close the blank tab since it will never load anything 😢\n      // (and it obscures the error message)\n      this.winTab.close();\n    });\n    return enketoPromise;\n  },\n};\n\nexport default enketoHandler;\n","###\ndkobo_xlform.model[...]\n###\n\n_ = require 'underscore'\n$survey = require './model.survey'\n$utils = require './model.utils'\n$row = require './model.row'\n$rowDetailsSkipLogic = require './model.rowDetails.skipLogic'\n$configs = require './model.configs'\n\nmodule.exports = do ->\n\n  model = {}\n\n  _.extend(model, $survey, $row)\n\n  model._keys = _.keys(model)\n  model.rowDetailsSkipLogic = $rowDetailsSkipLogic\n  model.utils = $utils\n  model.configs = $configs\n\n  model\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport autoBind from 'react-autobind';\nimport _ from 'underscore';\nimport {actions} from '../actions';\n\n// NOTE: change this boolean to switch to custom button (just make sure to\n// check the TODO comment below)\nexport const USE_CUSTOM_INTERCOM_LAUNCHER = false;\n\nconst DEFAULT_SETTINGS = Object.freeze({\n  action_color: '#2095f3',\n  background_color: '#575b70'\n});\n\nclass IntercomHandler extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n    this.currentSettings = Object.assign({}, DEFAULT_SETTINGS);\n    this.updateHorizontalPaddingDebounced = _.debounce(this.updateHorizontalPadding, 500);\n  }\n\n  componentDidMount() {\n    if (window.IntercomAppId) {\n      this.listenTo(actions.navigation.routeUpdate, this.onRouteUpdate);\n      this.listenTo(actions.auth.verifyLogin.loggedin, this.onLogIn);\n      this.listenTo(actions.auth.logout.completed, this.onLogOut);\n    } else {\n      console.info('Intercom not enabled');\n    }\n  }\n\n  componentWillUnmount() {\n    if (USE_CUSTOM_INTERCOM_LAUNCHER) {\n      window.removeEventListener('resize', this.updateHorizontalPaddingDebounced);\n    }\n  }\n\n  onRouteUpdate() {\n    // 'update' method triggers checking for new messages\n    // NOTE: this is being throttled after being called 20 times per 30 minutes\n    window.Intercom('update');\n  }\n\n  onLogIn(account) {\n    if (this.isEmailValid(account.email)) {\n      console.info('Intercom enabled and starting…');\n\n      this.injectIntercomScripts();\n\n      this.bootIntercom(account);\n\n      if (USE_CUSTOM_INTERCOM_LAUNCHER) {\n        this.currentSettings.custom_launcher_selector = '#custom_intercom_launcher';\n        this.currentSettings.hide_default_launcher = true;\n        this.currentSettings.alignment = 'left';\n        window.Intercom('update', this.currentSettings);\n\n        window.addEventListener('resize', this.updateHorizontalPaddingDebounced);\n\n        this.updateHorizontalPadding();\n      }\n    } else {\n      // logged in user doesn't support Intercom\n      window.Intercom('shutdown');\n    }\n  }\n\n  bootIntercom(account) {\n    const name = account.extra_details.name;\n    const legacyName = [account.first_name, account.last_name].filter((val) => {return val;}).join(' ');\n\n    this.currentSettings.app_id = window.IntercomAppId;\n    this.currentSettings.user_id = [account.username, window.location.host].join('@');\n    this.currentSettings.username = account.username;\n    this.currentSettings.email = account.email;\n    this.currentSettings.name = name ? name : legacyName ? legacyName : account.username;\n    this.currentSettings.created_at = Math.floor((new Date(account.date_joined)).getTime() / 1000);\n\n    window.Intercom('boot', this.currentSettings);\n  }\n\n  onLogOut() {\n    // 'shutdown' method clears all cached user messages\n    window.Intercom('shutdown');\n  }\n\n  updateHorizontalPadding() {\n    const $launcherEl = $(DEFAULT_SETTINGS.custom_launcher_selector);\n\n    if (!window.Intercom || !$launcherEl.length) {\n      return;\n    }\n\n    const leftPos = (\n      $launcherEl[0].getBoundingClientRect().left +\n      $launcherEl.width() +\n      $(window)['scrollLeft']() -\n      // move it by 1px to place it atop the border line\n      1\n    );\n\n    // NOTE: updating horizontal_padding doesn't work very well while Intercom\n    // bubble is being opened\n    // NOTE: update object overwrites all properties, so we need to pass\n    // everything every time\n    this.currentSettings.horizontal_padding = leftPos;\n    window.Intercom('update', this.currentSettings);\n  }\n\n  injectIntercomScripts() {\n    var w = window;\n    var ic = w.Intercom;\n    if (typeof ic === 'function') {\n      ic('reattach_activator');\n      ic('update', this.settings);\n    } else {\n      var d = document;\n      var i = function() {\n        i.c(arguments);\n      };\n      i.q = [];\n      i.c = function(args) {\n        i.q.push(args);\n      };\n      w.Intercom = i;\n\n      function l() {\n        var s = d.createElement('script');\n        s.type = 'text/javascript';\n        s.async = true;\n        s.src = `https://widget.intercom.io/widget/${window.IntercomAppId}`;\n        var x = d.getElementsByTagName('script')[0];\n        x.parentNode.insertBefore(s, x);\n      }\n      if (w.attachEvent) {\n        w.attachEvent('onload', l);\n      } else {\n        w.addEventListener('load', l, false);\n      }\n    }\n  }\n\n  isEmailValid(email) {\n    if (USE_CUSTOM_INTERCOM_LAUNCHER) {\n      // TODO get these rules from API endpoint?\n      return email.endsWith('example.com');\n    } else {\n      return true;\n    }\n  }\n\n  render () {\n    return null;\n  }\n}\n\nreactMixin(IntercomHandler.prototype, Reflux.ListenerMixin);\n\nexport default IntercomHandler;\n","/**\n * For some custom dropdown handling\n */\n\nimport Reflux from 'reflux';\n\nconst koboDropdownActions = Reflux.createActions({\n  hideAnyDropdown: {children: ['requested']},\n});\n\n/**\n * Use this action to close dropdowns from any place in the code.\n */\nkoboDropdownActions.hideAnyDropdown.listen(\n  koboDropdownActions.hideAnyDropdown.requested\n);\n\nexport default koboDropdownActions;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport zxcvbn from 'zxcvbn';\nimport bem from 'js/bem';\nimport './passwordStrength.scss';\n\n/*\nProperties:\n- password <string>: required\n*/\nclass PasswordStrength extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n    this.feedbackTranslations = {\n      // strings for zxcvbn 4.4.2 package\n      // copied from https://github.com/dropbox/zxcvbn/blob/master/src/feedback.coffee\n      // not the most concise approach, but hopefully the most intuitive; could\n      // be removed if https://github.com/dropbox/zxcvbn/pull/124 is ever merged\n      'Use a few words, avoid common phrases':\n        t('Use a few words, avoid common phrases'),\n      'No need for symbols, digits, or uppercase letters':\n        t('No need for symbols, digits, or uppercase letters'),\n      'Add another word or two. Uncommon words are better.':\n        t('Add another word or two. Uncommon words are better.'),\n      'Straight rows of keys are easy to guess':\n        t('Straight rows of keys are easy to guess'),\n      'Short keyboard patterns are easy to guess':\n        t('Short keyboard patterns are easy to guess'),\n      'Use a longer keyboard pattern with more turns':\n        t('Use a longer keyboard pattern with more turns'),\n      'Repeats like \"aaa\" are easy to guess':\n        t('Repeats like \"aaa\" are easy to guess'),\n      'Repeats like \"abcabcabc\" are only slightly harder to guess than \"abc\"':\n        t('Repeats like \"abcabcabc\" are only slightly harder to guess than \"abc\"'),\n      'Avoid repeated words and characters':\n        t('Avoid repeated words and characters'),\n      'Sequences like abc or 6543 are easy to guess':\n        t('Sequences like abc or 6543 are easy to guess'),\n      'Avoid sequences':\n        t('Avoid sequences'),\n      'Recent years are easy to guess':\n        t('Recent years are easy to guess'),\n      'Avoid recent years':\n        t('Avoid recent years'),\n      'Avoid years that are associated with you':\n        t('Avoid years that are associated with you'),\n      'Dates are often easy to guess':\n        t('Dates are often easy to guess'),\n      'Avoid dates and years that are associated with you':\n        t('Avoid dates and years that are associated with you'),\n      'This is a top-10 common password':\n        t('This is a top-10 common password'),\n      'This is a top-100 common password':\n        t('This is a top-100 common password'),\n      'This is a very common password':\n        t('This is a very common password'),\n      'This is similar to a commonly used password':\n        t('This is similar to a commonly used password'),\n      'A word by itself is easy to guess':\n        t('A word by itself is easy to guess'),\n      'Names and surnames by themselves are easy to guess':\n        t('Names and surnames by themselves are easy to guess'),\n      'Common names and surnames are easy to guess':\n        t('Common names and surnames are easy to guess'),\n      \"Capitalization doesn't help very much\":\n        t(\"Capitalization doesn't help very much\"),\n      'All-uppercase is almost as easy to guess as all-lowercase':\n        t('All-uppercase is almost as easy to guess as all-lowercase'),\n      \"Reversed words aren't much harder to guess\":\n        t(\"Reversed words aren't much harder to guess\"),\n      \"Predictable substitutions like '@' instead of 'a' don't help very much\":\n        t(\"Predictable substitutions like '@' instead of 'a' don't help very much\")\n    };\n  }\n\n  render() {\n    const report = zxcvbn(this.props.password);\n    const barModifier = `score-${report.score}`;\n    return (\n      <bem.PasswordStrength>\n        <bem.PasswordStrength__title>\n          {t('Password strength')}\n        </bem.PasswordStrength__title>\n\n        <bem.PasswordStrength__bar m={barModifier}>\n          <bem.PasswordStrength__indicator/>\n        </bem.PasswordStrength__bar>\n\n        {(report.feedback.warning || report.feedback.suggestions.length > 0) &&\n          <bem.PasswordStrength__messages>\n            {report.feedback.warning &&\n              <bem.PasswordStrength__message m='warning'>\n                {this.feedbackTranslations[report.feedback.warning]}\n              </bem.PasswordStrength__message>\n            }\n\n            {report.feedback.suggestions.length > 0 &&\n              report.feedback.suggestions.map((suggestion, index) => {\n                return (\n                  <bem.PasswordStrength__message key={index}>\n                    {this.feedbackTranslations[suggestion]}\n                  </bem.PasswordStrength__message>\n                )\n              })\n            }\n          </bem.PasswordStrength__messages>\n        }\n      </bem.PasswordStrength>\n    )\n  }\n}\n\nexport default PasswordStrength;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport Select, {components} from 'react-select';\nimport {VALIDATION_STATUSES_LIST} from 'js/constants';\nimport './validationStatusDropdown.scss';\n\nexport const SHOW_ALL_OPTION = Object.freeze({\n  value: '',\n  label: t('Show All'),\n});\n\n/**\n * @prop onChange\n * @prop isDisabled\n * @prop currentValue\n * @prop isForHeaderFilter - for gray background, includes additional option\n */\nclass ValidationStatusDropdown extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  render() {\n    // for rendering options as colorful badges\n    const CustomOption = (props) => {\n      const badgeModifiers = [props.value];\n      if (props.isSelected) {\n        badgeModifiers.push('selected');\n      }\n\n      return (\n        <bem.KoboSelect__optionWrapper>\n          <bem.KoboSelect__optionBadge m={badgeModifiers}>\n            <components.Option {...props} />\n          </bem.KoboSelect__optionBadge>\n        </bem.KoboSelect__optionWrapper>\n      );\n    };\n\n    // for rendering the selected value as colorful badge\n    const CustomSingleValue = ({ children, ...props }) => {\n      let value;\n      const valueArray = props.getValue();\n      if (valueArray && valueArray[0]) {\n        value = valueArray[0].value;\n      }\n\n      const badgeModifiers = [value];\n\n      return (\n        <bem.KoboSelect__optionBadge m={badgeModifiers}>\n          {children}\n        </bem.KoboSelect__optionBadge>\n      );\n    };\n\n    // for rendering the selected value as colorful badge\n    const CustomDropdownIndicator = (props) => (\n      <components.DropdownIndicator {...props}>\n        <i className='k-icon k-icon-caret-down'/>\n      </components.DropdownIndicator>\n    );\n\n    // clone the array\n    const optionsArray = [...VALIDATION_STATUSES_LIST];\n    if (this.props.isForHeaderFilter) {\n      optionsArray.unshift(SHOW_ALL_OPTION);\n    }\n\n    const selectClassNames = [\n      'kobo-select',\n      'kobo-select--validation',\n    ];\n\n    if (this.props.isForHeaderFilter) {\n      selectClassNames.push('kobo-select--for-nonwhite-background');\n    }\n\n    return (\n      <Select\n        components={{\n          Option: CustomOption,\n          SingleValue: CustomSingleValue,\n          DropdownIndicator: CustomDropdownIndicator,\n        }}\n        isDisabled={this.props.isDisabled}\n        isClearable={false}\n        isSearchable={false}\n        value={this.props.currentValue}\n        options={optionsArray}\n        onChange={this.props.onChange}\n        className={selectClassNames.join(' ')}\n        classNamePrefix='kobo-select'\n        menuPlacement='auto'\n      />\n    );\n  }\n}\n\nexport default ValidationStatusDropdown;\n","/* global viewUtils */\n'use strict';\n\n/*\n    Options:\n        Validations: array containing validation descriptors:\n            name:string - the name of the validator function to invoke\n            failureMessage:string - the message passed to the callback when validation fails\n            args:array - additional arguments to pass into the validation function\n*/\nmodule.exports = (function(){\n\nreturn (function () {\n    var singleton = {\n            create: function (options) {\n                return new Validator(options);\n            },\n            __validators: {\n                invalidChars: function (value, chars) {\n                    var matcher = new RegExp('[' + chars + ']');\n                    return !matcher.test(value);\n                },\n                unique: function (value, list) {\n                    return _.filter(list, function (item) { return item === value; }).length === 0;\n                }\n            }\n        };\n\n\n    var Validator = function (options) {\n        this.options = options;\n    };\n\n    Validator.prototype.validate = function (value) {\n        var validationsLength = this.options.validations.length,\n            validations = this.options.validations;\n\n        for (var i = 0; i < validationsLength; i++) {\n            var currentValidation = validations[i];\n            if (!currentValidation.args) {\n                currentValidation.args = [];\n            }\n            currentValidation.args.unshift(value);\n\n            if (!singleton.__validators[currentValidation.name].apply(this, currentValidation.args)) {\n                return currentValidation.failureMessage;\n            }\n        }\n        return true;\n    };\n\n    return singleton;\n\n} ());\n\n})();\n","$skipLogicHelpers = require './mv.skipLogicHelpers'\n$modelRowDetailsSkipLogic = require './model.rowDetails.skipLogic'\n$viewRowDetailSkipLogic = require './view.rowDetail.SkipLogic'\n$modelUtils = require './model.utils'\n$validationLogicHelpers = require './mv.validationLogicHelpers'\n$modelRowDetailValidationLogic = require './model.rowDetail.validationLogic'\n$viewRowDetailValidationLogic = require './view.rowDetail.ValidationLogic'\n\nmodule.exports = do ->\n  # To be extended ontop of a RowDetail when the key matches\n  # the attribute in XLF.RowDetailMixin\n  SkipLogicDetailMixin =\n    getValue: ()->\n      v = @serialize()\n      if v is \"undefined\"\n        Raven?.captureException(\"Serialized value is returning a string, undefined\")\n        v = \"\"\n      v\n\n    postInitialize: ()->\n      # TODO: get skip logic factories connected\n      survey = @getSurvey()\n      model_factory = new $modelRowDetailsSkipLogic.SkipLogicFactory survey\n      view_factory = new $viewRowDetailSkipLogic.SkipLogicViewFactory survey\n      helper_factory = new $skipLogicHelpers.SkipLogicHelperFactory model_factory, view_factory, survey, @_parent, @.get('value')\n\n      @facade = new $skipLogicHelpers.SkipLogicPresentationFacade model_factory, helper_factory, view_factory\n\n    serialize: ()->\n      # @hidden = false\n      # note: reimplement \"hidden\" if response is invalid\n      @facade.serialize()\n\n    parse: ()->\n\n    linkUp: (ctx)->\n      @facade.initialize()\n\n  ValidationLogicMixin =\n    getValue: () ->\n      v = @serialize()\n      if v is \"undefined\"\n        Raven?.captureException(\"Serialized value is returning a string, undefined\")\n        v = \"\"\n      v\n\n    postInitialize: () ->\n      survey = @getSurvey()\n      model_factory = new $modelRowDetailValidationLogic.ValidationLogicModelFactory survey\n      view_factory = new $viewRowDetailValidationLogic.ValidationLogicViewFactory survey\n      helper_factory = new $validationLogicHelpers.ValidationLogicHelperFactory model_factory, view_factory, survey, @_parent, @.get('value')\n\n      @facade = new $skipLogicHelpers.SkipLogicPresentationFacade model_factory, helper_factory, view_factory\n\n    serialize: ()->\n      # @hidden = false\n      # note: reimplement \"hidden\" if response is invalid\n      @facade.serialize()\n\n    parse: ()->\n\n    linkUp: (ctx)->\n      @facade.initialize()\n\n  rowDetailMixins =\n    relevant: SkipLogicDetailMixin\n    constraint: ValidationLogicMixin\n    label:\n      postInitialize: ()->\n        # When the row's name changes, trigger the row's [finalize] function.\n        return\n    name:\n      deduplicate: (survey) ->\n        names = []\n        survey.forEachRow (r)=>\n          if r.get('name') != @\n            name = r.getValue(\"name\")\n            names.push(name)\n        , includeGroups: true\n\n        $modelUtils.sluggifyLabel @get('value'), names\n  rowDetailMixins\n","$validationLogicParser = require './model.validationLogicParser'\n$skipLogicHelpers = require './mv.skipLogicHelpers'\n\nmodule.exports = do ->\n  validationLogicHelpers = {}\n\n  class validationLogicHelpers.ValidationLogicHelperFactory extends $skipLogicHelpers.SkipLogicHelperFactory\n    create_presenter: (criterion_model, criterion_view) ->\n      return new validationLogicHelpers.ValidationLogicPresenter criterion_model, criterion_view, @current_question, @survey, @view_factory\n    create_builder: () ->\n      return new validationLogicHelpers.ValidationLogicBuilder @model_factory, @view_factory, @survey, @current_question, @\n    create_context: () ->\n      return new validationLogicHelpers.ValidationLogicHelperContext @model_factory, @view_factory, @, @serialized_criteria\n\n  class validationLogicHelpers.ValidationLogicPresenter extends $skipLogicHelpers.SkipLogicPresenter\n    change_question: () -> return\n\n  class validationLogicHelpers.ValidationLogicBuilder extends $skipLogicHelpers.SkipLogicBuilder\n    _parse_skip_logic_criteria: (criteria) ->\n      return $validationLogicParser criteria\n\n    _get_question: () ->\n      @current_question\n\n    build_empty_criterion: () ->\n      operator_picker_view = @view_factory.create_operator_picker @current_question.get_type()\n\n      response_value_view = @view_factory.create_response_value_view @current_question, @current_question.get_type(), @_operator_type()\n\n      presenter = @build_criterion_logic @model_factory.create_operator('empty'), operator_picker_view, response_value_view\n\n      presenter.model.change_question @current_question.cid\n\n      return presenter\n\n    questions: () ->\n      return [@current_question]\n\n    _operator_type: () ->\n      operator_type = super()\n\n      if not operator_type?\n        operator_type_id = @current_question.get_type().operators[0]\n        operator_type = $skipLogicHelpers.operator_types[if operator_type_id == 1 then @current_question.get_type().operators[1] else operator_type_id]\n      return operator_type\n\n  class validationLogicHelpers.ValidationLogicHelperContext extends $skipLogicHelpers.SkipLogicHelperContext\n    use_mode_selector_helper: () ->\n      @state = new validationLogicHelpers.ValidationLogicModeSelectorHelper @view_factory, @\n      @render @destination\n    use_hand_code_helper: () ->\n      @state = new validationLogicHelpers.ValidationLogicHandCodeHelper(@state.serialize(), @builder, @view_factory, @)\n      if @questionTypeHasNoValidationOperators()\n        @state.button = @view_factory.create_empty()\n      @render @destination\n      return\n    constructor: (model_factory, view_factory, helper_factory, serialized_criteria) ->\n      @model_factory = model_factory\n      @view_factory = view_factory\n      @helper_factory = helper_factory\n\n      @state = serialize: () -> return serialized_criteria\n      if @questionTypeHasNoValidationOperators()\n        @use_hand_code_helper()\n      else\n        super(model_factory, view_factory, helper_factory, serialized_criteria)\n\n    questionTypeHasNoValidationOperators: () ->\n      typeId = @helper_factory.current_question.get('type').get('typeId')\n      if !typeId\n        return console.error('no type id found for question', @helper_factory.current_question)\n      operators = $skipLogicHelpers.question_types[typeId]?.operators\n      if !operators\n        operators = $skipLogicHelpers.question_types['default'].operators\n      operators.length == operators[0]\n\n  class validationLogicHelpers.ValidationLogicModeSelectorHelper extends $skipLogicHelpers.SkipLogicModeSelectorHelper\n    constructor: (view_factory, context) ->\n      @context = context\n      super(view_factory, context)\n      @handcode_button = view_factory.create_button '<i>${}</i> ' + t(\"Manually enter your validation logic in XLSForm code\"), 'kobo-button kobo-button--blue'\n\n  class validationLogicHelpers.ValidationLogicHandCodeHelper extends $skipLogicHelpers.SkipLogicHandCodeHelper\n    render: ($destination) ->\n      $destination.replaceWith(@$handCode)\n      @button.render().attach_to @$handCode\n      @button.bind_event 'click', () =>\n        @$handCode.replaceWith($destination)\n        @context.use_mode_selector_helper()\n      @$handCode.on('change', () =>\n        @context.view_factory.survey.trigger('change')\n      )\n    serialize: () ->\n      @textarea.val()\n    constructor: (criteria, builder, view_factory, context) ->\n      super(criteria, builder, view_factory, context)\n      @$handCode = $(\"\"\"\n        <div class=\"card__settings__fields__field\">\n          <label for=\"#{@context.helper_factory.current_question.cid}-handcode\">#{t(\"Validation Code:\")}</label>\n          <span class=\"settings__input\">\n            <input type=\"text\" name=\"constraint\" id=\"#{@context.helper_factory.current_question.cid}-handcode\" class=\"text\" value=\"\">\n          </span>\n        </div>\n      \"\"\")\n      @textarea = @$handCode.find('#' + @context.helper_factory.current_question.cid + '-handcode')\n      # Textarea starts with empty value - setting it in HTML caused error with\n      # mangled values (due to \" character). Set initial value here, so all the\n      # special characters are saved.\n      @textarea.val(@criteria)\n      return\n\n\n  validationLogicHelpers\n","Backbone = require 'backbone'\n$skipLogicModel = require './model.rowDetails.skipLogic'\n\nmodule.exports = do ->\n  rowDetailValidationLogic = {}\n  class rowDetailValidationLogic.ValidationLogicModelFactory extends $skipLogicModel.SkipLogicFactory\n    create_operator: (type, symbol, id) ->\n      operator = null\n      switch type\n        when 'text' then operator = new rowDetailValidationLogic.ValidationLogicTextOperator symbol\n        when 'date' then operator = new rowDetailValidationLogic.ValidationLogicDateOperator symbol\n        when 'basic' then operator = new rowDetailValidationLogic.ValidationLogicBasicOperator symbol\n        when 'existence' then operator = new rowDetailValidationLogic.ValidationLogicExistenceOperator symbol\n        when 'select_multiple' then operator = new rowDetailValidationLogic.ValidationLogicSelectMultipleOperator symbol\n        when 'empty' then return new $skipLogicModel.EmptyOperator()\n\n      operator.set 'id', id\n      return operator\n    create_criterion_model: () ->\n      new rowDetailValidationLogic.ValidationLogicCriterion(@, @survey)\n\n  class rowDetailValidationLogic.ValidationLogicBasicOperator extends $skipLogicModel.SkipLogicOperator\n    serialize: (question_name, response_value) ->\n      return '. ' + this.get('symbol') + ' ' + response_value\n  class rowDetailValidationLogic.ValidationLogicTextOperator extends rowDetailValidationLogic.ValidationLogicBasicOperator\n    serialize: (question_name, response_value) ->\n      return super '', ' ' + \"'\" + response_value.replace(/'/g, \"\\\\'\") + \"'\"\n  class rowDetailValidationLogic.ValidationLogicDateOperator extends rowDetailValidationLogic.ValidationLogicBasicOperator\n    serialize: (question_name, response_value) ->\n      if response_value.indexOf('date') == -1\n        response_value = \"date('\" + response_value + \"')\"\n      return super '', ' ' + response_value\n  class rowDetailValidationLogic.ValidationLogicExistenceOperator extends rowDetailValidationLogic.ValidationLogicBasicOperator\n    serialize: () ->\n      return super '', \"''\"\n  class rowDetailValidationLogic.ValidationLogicSelectMultipleOperator extends $skipLogicModel.SelectMultipleSkipLogicOperator\n    serialize: (question_name, response_value) ->\n      selected = \"selected(., '\" + response_value + \"')\"\n      if this.get 'is_negated'\n          return 'not(' + selected + ')'\n      return selected\n\n  class rowDetailValidationLogic.ValidationLogicCriterion extends $skipLogicModel.SkipLogicCriterion\n    change_question: (cid) ->\n      old_question_type = if @_get_question() then @_get_question().get_type() else name: null\n      @set \"question_cid\", cid\n      question_type = @_get_question().get_type()\n\n      if @get(\"operator\").get_id()? && !(@get(\"operator\").get_id() in question_type.operators)\n        @change_operator if question_type.operators[0] != 1 then question_type.operators[0] else question_type.operators[1]\n      else if old_question_type.name != question_type.name\n        @change_operator @get(\"operator\").get_value()\n      if (@get(\"operator\").get_type().response_type == null) && @_get_question().response_type != @get(\"response_value\")?.get_type()\n        @change_response @get(\"response_value\").get(\"value\")\n\n  rowDetailValidationLogic\n","_ = require 'underscore'\n$skipLogicView = require './view.rowDetail.SkipLogic'\n$viewWidgets = require './view.widgets'\n$skipLogicHelpers = require './mv.skipLogicHelpers'\n\nmodule.exports = do ->\n  viewRowDetailValidationLogic = {}\n  class viewRowDetailValidationLogic.ValidationLogicViewFactory extends $skipLogicView.SkipLogicViewFactory\n    create_criterion_builder_view: () ->\n      return new viewRowDetailValidationLogic.ValidationLogicCriterionBuilder()\n    create_question_picker: () ->\n      return new viewRowDetailValidationLogic.ValidationLogicQuestionPicker\n    create_operator_picker: (question_type) ->\n      operators = _.filter($skipLogicHelpers.operator_types, (op_type) -> op_type.id != 1 && op_type.id in question_type.operators)\n      return new $skipLogicView.OperatorPicker operators\n\n  class viewRowDetailValidationLogic.ValidationLogicCriterionBuilder extends $skipLogicView.SkipLogicCriterionBuilderView\n    render: () ->\n      super()\n      @$el.html(@$el.html().replace 'only be displayed', 'be valid only')\n\n      @\n\n  class viewRowDetailValidationLogic.ValidationLogicQuestionPicker extends $viewWidgets.Label\n    constructor: () ->\n      super(\"This question's response has to be\")\n    attach_to: (target) ->\n      target.find('.skiplogic__rowselect').remove()\n      super(target)\n\n  viewRowDetailValidationLogic\n","\n_ = require 'underscore'\nBackbone = require 'backbone'\n$base = require './model.base'\n$row = require './model.row'\n$aliases = require './model.aliases'\n$utils = require './model.utils'\n$configs = require './model.configs'\n$surveyDetail = require './model.surveyDetail'\n$skipLogicHelpers = require './mv.skipLogicHelpers'\n\nmodule.exports = do ->\n  _t = require(\"utils\").t\n\n  surveyFragment = {}\n\n  class KobomatrixRow extends Backbone.Model\n    _isSelectQuestion: -> false\n\n  class KobomatrixRows extends Backbone.Collection\n    model: KobomatrixRow\n\n  class KobomatrixMixin\n    constructor: (rr)->\n      @_kobomatrix_columns = new KobomatrixRows()\n      @_rowAttributeName = '_kobomatrix_columns'\n\n      extend_to_row = (val, key)=>\n        if _.isFunction(val)\n          rr[key] = (args...)->\n            val.apply(rr, args)\n        else\n          rr[key] = val\n      _.each @, extend_to_row\n      extend_to_row(@forEachRow, 'forEachRow')\n\n      _begin_kuid = rr.getValue('$kuid', false)\n      _end_json = {\n        \"type\": \"end_#{@_beginEndKey()}\"\n        \"$kuid\": \"/#{_begin_kuid}\"\n      }\n      rr._afterIterator = (cb, ctxt)->\n        obj =\n          export_relevant_values: (surv, addl)->\n            surv.push _.extend({}, _end_json)\n          toJSON: ->\n            _.extend({}, _end_json)\n\n        cb(obj)  if ctxt.includeGroupEnds\n\n      _toJSON = rr.toJSON\n\n      rr.clone = ()->\n        console.error('clone kobomatrix rows')\n\n      rr.toJSON = ()->\n        _.extend _toJSON.call(rr), {\n          'type': \"begin_#{rr._beginEndKey()}\"\n        }, @_additionalJson?()\n\n      _.each @constructor.prototype, extend_to_row\n\n      if rr.attributes.__rows\n        for subrow in rr.attributes.__rows\n          @[@_rowAttributeName].add(subrow)\n        delete rr.attributes.__rows\n\n\n    _kobomatrix_cols: ->\n      @rows\n\n    _isSelectQuestion: -> false\n    get_type: -> $skipLogicHelpers.question_types['default']\n    _beginEndKey: ->\n      'kobomatrix'\n\n    linkUp: (ctx)->\n      @getList = ()=> @items\n      items = {}\n      kobomatrix_list = @get('kobo--matrix_list')?.get('value')\n\n      if kobomatrix_list\n        items[kobomatrix_list] = @getSurvey().choices.get(kobomatrix_list)\n      else\n        kobomatrix_list = @.set('kobo--matrix_list', \"matrix_#{$utils.txtid()}\")\n        items[kobomatrix_list] = @getSurvey().choices.create()\n\n      @rows.each (row)=>\n        if listName = row.get('select_from_list_name')?.get('value')\n          items[listName] = @getSurvey().choices.get(listName)\n\n      @items = items\n      @items\n\n\n  passFunctionToMetaModel = (obj, fname)->\n    obj[\"__#{fname}\"] = obj[fname]\n    obj[fname] = (args...) -> obj._meta[fname].apply(obj._meta, args)\n\n  _forEachRow = (cb, ctx)->\n    @_beforeIterator(cb, ctx)  if '_beforeIterator' of @\n    unless 'includeErrors' of ctx\n      ctx.includeErrors = false\n    @rows.each (r, index, list)->\n      if typeof r.forEachRow is 'function'\n        if ctx.includeGroups\n          cb(r)\n        if not ctx.flat\n          r.forEachRow cb, ctx\n      else if r.isError()\n        cb(r)  if ctx.includeErrors\n      else\n        cb(r)\n    @_afterIterator(cb, ctx)  if '_afterIterator' of @\n    return\n\n  class surveyFragment.SurveyFragment extends $base.BaseCollection\n    constructor: (a,b)->\n      @rows = new Rows([], _parent: @)\n      @_meta = new Backbone.Model()\n      passFunctionToMetaModel(@, \"set\")\n      passFunctionToMetaModel(@, \"get\")\n      passFunctionToMetaModel(@, \"on\")\n      passFunctionToMetaModel(@, \"off\")\n      passFunctionToMetaModel(@, \"trigger\")\n      super(a,b)\n    _validate: ->\n      @clearErrors()\n      isValid = true\n      if !@settings.get('form_id')\n        @addError('form id must not be empty')\n        isValid = false\n\n      if !@settings.get('form_title')\n        @addError('form title must not be empty')\n        isValid = false\n\n      return isValid\n    clearErrors: () ->\n      @errors = []\n    addError: (message) ->\n      @errors.push message\n    linkUp: (ctx)-> @invoke('linkUp', ctx)\n    forEachRow: (cb, ctx={})->\n      _forEachRow.apply(@, [cb, ctx])\n    getRowDescriptors: () ->\n      descriptors = []\n      @forEachRow (row) ->\n        descriptor =\n          label: row.getValue('label')\n          name: row.getValue('name')\n        descriptors.push(descriptor)\n      descriptors\n    findRowByCid: (cid, options={})->\n      match = false\n      fn = (row)->\n        if row.cid is cid\n          match = row\n        # maybe implement a way to bust out\n        # of this loop with false response.\n        !match\n      @forEachRow fn, options\n      match\n\n    findRowByName: (name, opts)->\n      match = false\n      @forEachRow (row)->\n        if (row.getValue(\"name\") || $utils.sluggifyLabel row.getValue('label')) is name\n          match = row\n        # maybe implement a way to bust out\n        # of this loop with false response.\n        !match\n      ,opts\n      match\n    addRowAtIndex: (r, index)-> @addRow(r, at: index)\n    addRow: (r, opts={})->\n      if (afterRow = opts.after)\n        delete opts.after\n        opts._parent = afterRow._parent\n        index = 1 + opts._parent.models.indexOf(afterRow)\n        opts.at = index\n      else if (beforeRow = opts.before)\n        delete opts.before\n        opts._parent = beforeRow._parent\n        index = opts._parent.models.indexOf(beforeRow)\n        opts.at = index\n      else\n        opts._parent = @rows\n      opts._parent.add r, opts\n\n    detach: ->\n      @_parent.remove(@)\n      ``\n\n    remove: (item)->\n      item.detach()\n\n    _addGroup: (opts)->\n      # move to surveyFrag\n      opts._parent = @rows\n\n      unless 'type' of opts\n        opts.type = 'group'\n\n      unless '__rows' of opts\n        opts.__rows = []\n\n      opts.__rows = [].concat.apply([], opts.__rows)\n\n      rowCids = []\n      @forEachRow (\n          (r)->\n            rowCids.push(r.cid)\n        ), includeGroups: true, includeErrors: true\n\n      lowest_i = false\n      for row in opts.__rows\n        row_i = rowCids.indexOf row.cid\n        if (lowest_i is false) or (row_i < lowest_i)\n          lowest_i = row_i\n          first_row = row\n\n      addOpts =\n        previous: first_row.precedingRow()\n        parent: first_row.parentRow()\n      for row in opts.__rows\n        row.detach(silent: true)\n\n      unless opts.label?\n        opts.label = $configs.newGroupDetails.label.value\n      grp = new surveyFragment.Group(opts)\n      @getSurvey()._insertRowInPlace grp, addOpts\n      par = addOpts.parent or @getSurvey().rows\n      par.trigger('add', grp)\n\n    _allRows: ->\n      # move to surveyFrag\n      rows = []\n      @forEachRow ((r)-> rows.push(r)  if r.constructor.kls is \"Row\"), {}\n      rows\n\n    finalize: ->\n      # move to surveyFrag\n      @forEachRow ((r)=> r.finalize()), includeGroups: true\n      @\n\n  class surveyFragment.Group extends $row.BaseRow\n    @kls = \"Group\"\n    @key = \"group\"\n    constructor: (a={}, b)->\n      __rows = a.__rows or []\n      if a.label == undefined\n        a.label = ''\n      @_parent = a._parent\n      delete a.__rows\n      @rows = new Rows([], _parent: @)\n      super(a,b)\n      @rows.add __rows  if __rows\n      for row in __rows\n        row._parent = row.collection = @rows\n\n    _isSelectQuestion: -> false\n    get_type: -> $skipLogicHelpers.question_types['default']\n\n    initialize: ->\n      grpDefaults = $configs.newGroupDetails\n      for key, obj of grpDefaults\n        if !@has key\n          if typeof obj.value is 'function'\n            @set key, obj.value(@)\n          else\n            @set key, obj\n      @ensureKuid()\n      typeIsRepeat = @get('type') is 'repeat'\n      @set('_isRepeat', typeIsRepeat)\n      @convertAttributesToRowDetails()\n      if @getValue('type') is 'kobomatrix'\n        new KobomatrixMixin(@)\n\n    addRowAtIndex: (row, index) ->\n      row._parent = @rows\n      @rows.add(row, at:index)\n    _isRepeat: ()->\n      !!(@get(\"_isRepeat\")?.get(\"value\"))\n\n    autoname: ->\n      name = @getValue('name')\n      if name in [undefined, '']\n        slgOpts =\n          lowerCase: false\n          stripSpaces: true\n          lrstrip: true\n          incrementorPadding: 3\n          validXmlTag: true\n        new_name = $utils.sluggify(@getValue('label'), slgOpts)\n        @setDetail('name', new_name)\n\n    finalize: ->\n      @autoname()\n\n    detach: (opts)->\n      @_parent.remove(@, opts)\n\n    splitApart: ->\n      startingIndex = @_parent.models.indexOf(@)\n      @detach()\n      for row, n in @rows.models\n        row._parent = @_parent\n        @_parent._parent.addRowAtIndex(row, startingIndex + n)\n      return\n\n    _beforeIterator: (cb, ctxt)->\n      cb(@groupStart())  if ctxt.includeGroupEnds\n    _afterIterator: (cb, ctxt)->\n      cb(@groupEnd())  if ctxt.includeGroupEnds\n\n    forEachRow: (cb, ctx={})->\n      _forEachRow.apply(@, [cb, ctx])\n\n    _groupOrRepeatKey: ->\n      if @_isRepeat() then \"repeat\" else \"group\"\n\n    groupStart: ->\n      group = @\n      export_relevant_values: (surv, shts)-> surv.push(@toJSON())\n      toJSON: ->\n        out = {}\n        for k, val of group.attributes\n          if k isnt '_isRepeat'\n            out[k] = val.getValue()\n        out.type = \"begin_#{group._groupOrRepeatKey()}\"\n        out\n    groupEnd: ->\n      group = @\n      _kuid = @getValue(\"$kuid\")\n      _as_json =\n        type: \"end_#{@_groupOrRepeatKey()}\"\n        $kuid: \"/#{_kuid}\"\n\n      export_relevant_values: (surv, shts)->\n        surv.push _.extend {}, _as_json\n      toJSON: ()->\n        _.extend {}, _as_json\n\n  INVALID_TYPES_AT_THIS_STAGE = ['begin_group', 'end_group', 'begin_repeat', 'end_repeat']\n  _determineConstructorByParams = (obj)->\n    formSettingsTypes = do ->\n      for key, val of $configs.defaultSurveyDetails\n        val.name\n    type = obj?.type\n    if type in INVALID_TYPES_AT_THIS_STAGE\n      # inputParser should have converted groups and repeats into a structure by this point\n      throw new Error(\"Invalid type at this stage: #{type}\")\n\n    if type in formSettingsTypes\n      # e.g. \"today\"\n      throw new Error(\"#{type} is not properly handled as a SurveyDetail\")\n      $surveyDetail.SurveyDetail\n    else if type is 'score'\n      $row.Row\n    else if type in ['group', 'repeat', 'kobomatrix']\n      surveyFragment.Group\n    else\n      $row.Row\n\n  class Rows extends $base.BaseCollection\n    constructor: (args...)->\n      super(args...)\n      @on('add', (a,b,c) => @_parent.getSurvey().trigger('rows-add', a,b,c))\n      @on('remove', (a,b,c) => @_parent.getSurvey().trigger('rows-remove', a,b,c))\n    model: (obj, ctxt)->\n      RowConstructor = _determineConstructorByParams(obj)\n      try\n        new RowConstructor(obj, _.extend({}, ctxt, _parent: ctxt.collection))\n      catch e\n        # Store exceptions in with the survey\n        new $row.RowError(obj, _.extend({}, ctxt, error: e, _parent: ctxt.collection))\n    comparator: (m)-> m.ordinal\n\n  surveyFragment\n","$base = require './model.base'\n\nmodule.exports = do ->\n  RowDetail: $base.RowDetail\n","csv = require './csv'\n\nmodule.exports = do ->\n\n  markdownTable = {}\n  ###\n  this markdownTable is not meant to be used in production for real surveys.\n  It's simply here because it provides a clean way to display xlsforms in the source code.\n  ###\n\n  markdownTable.mdSurveyStructureToObject = (md)->\n    _trim = (s)-> String(s).replace(/^\\s+|\\s+$/g, '')\n    shtName = false\n    curSheet = false\n    sObj = {}\n    _pushSheet = ->\n      cols = curSheet[0]\n      sheetObjs = []\n      for row in curSheet.slice(1)\n        rowObj = {}\n        for cell, n in row when cols[n]\n          rowObj[cols[n]] = cell\n        sheetObjs.push(rowObj)\n      sObj[shtName] = sheetObjs\n      curSheet = []\n    for row in md.split('\\n')\n      _r = []\n      rcells = _trim(row).split('|')\n      for cell, i in rcells when i > 0\n        _r.push _trim(cell)\n      if _r[0]\n        _pushSheet()  if curSheet\n        shtName = _r[0]\n        curSheet = []\n      else if curSheet\n        curSheet.push(_r.slice(1, _r.length-1))\n      _r\n    _pushSheet()\n    sObj\n\n\n  markdownTable.csvJsonToMarkdown = (csvJson)->\n    _lengths = []\n    _record_max = (val, index)->\n      if !_lengths[index]\n        (_lengths[index] = 0)\n      if val > _lengths[index]\n        (_lengths[index] = val)\n      ``\n    _ljust = (str, n) ->\n      (str = '')  if !str\n      diff = n - str.length\n      if diff > 0\n        str += (new Array(diff+1)).join(' ')\n      str\n    _append_line_arr = (_arr, preceding=0)->\n      for i in [0...preceding]\n        _arr.unshift('')\n      _arr.length = _lengths.length\n      for x, i in _arr\n        _arr[i] = _ljust(x, _lengths[i])\n      outstr += \"| #{_arr.join(' | ')} |\\n\"\n      ``\n\n    sheeted = csv.sheeted()\n    outstr = \"\\n\"\n\n    for shtName, content of csvJson\n      _record_max(shtName.length, 0)\n      _sht = sheeted.sheet shtName, csv(content)\n      for cell, i in content.columns\n        _record_max(cell.length, i+1)\n      for row in _sht.rowArray\n        for cell, i in row\n          _record_max(cell.length, i+1)\n\n    for shtName, sheet of sheeted._sheets\n      _append_line_arr([shtName])\n      _append_line_arr(sheet.columns, 1)\n      _append_line_arr(row, 1)  for row in sheet.rowArray\n\n    outstr\n\n  markdownTable\n","_ = require('underscore')\nBackbone = require('backbone')\nconstants = require('../../js/constants')\n\nmodule.exports = do ->\n  _t = require(\"utils\").t\n\n  addIconToRow = (typeDef, group) ->\n    iconDetails.push({\n      label: typeDef.label,\n      iconClassName: \"k-icon k-icon-#{typeDef.icon}\",\n      iconClassNameLocked: \"k-icon k-icon-#{typeDef.icon}-lock\",\n      grouping: group,\n      id: typeDef.id\n    })\n    return\n\n  iconDetails = []\n  # row 1\n  addIconToRow(constants.QUESTION_TYPES.select_one,  \"r1\")\n  addIconToRow(constants.QUESTION_TYPES.select_multiple, \"r1\")\n  addIconToRow(constants.QUESTION_TYPES.text, \"r1\")\n  addIconToRow(constants.QUESTION_TYPES.integer, \"r1\")\n  # row 2\n  addIconToRow(constants.QUESTION_TYPES.decimal, \"r2\")\n  addIconToRow(constants.QUESTION_TYPES.date, \"r2\")\n  addIconToRow(constants.QUESTION_TYPES.time, \"r2\")\n  addIconToRow(constants.QUESTION_TYPES.datetime, \"r2\")\n  # row 3\n  addIconToRow(constants.QUESTION_TYPES.geopoint, \"r3\")\n  addIconToRow(constants.QUESTION_TYPES.image, \"r3\")\n  addIconToRow(constants.QUESTION_TYPES.audio, \"r3\")\n  addIconToRow(constants.QUESTION_TYPES.video, \"r3\")\n  # row 4\n  addIconToRow(constants.QUESTION_TYPES.geotrace, \"r4\")\n  addIconToRow(constants.QUESTION_TYPES.note, \"r4\")\n  addIconToRow(constants.QUESTION_TYPES.barcode, \"r4\")\n  addIconToRow(constants.QUESTION_TYPES.acknowledge, \"r4\")\n  # row 5\n  addIconToRow(constants.QUESTION_TYPES.geoshape, \"r5\")\n  addIconToRow(constants.QUESTION_TYPES.score, \"r5\")\n  addIconToRow(constants.QUESTION_TYPES.kobomatrix, \"r5\")\n  addIconToRow(constants.QUESTION_TYPES.rank, \"r5\")\n  # row 6\n  addIconToRow(constants.QUESTION_TYPES.calculate, \"r6\")\n  addIconToRow(constants.QUESTION_TYPES.hidden, \"r6\")\n  addIconToRow(constants.QUESTION_TYPES.file, \"r6\")\n  addIconToRow(constants.QUESTION_TYPES.range, \"r6\")\n  # row 7\n  addIconToRow(constants.QUESTION_TYPES['xml-external'], \"r7\")\n\n  class QtypeIcon extends Backbone.Model\n    defaults: {\n      iconClassname: \"k-icon\"\n    }\n\n  class QtypeIconCollection extends Backbone.Collection\n    model: QtypeIcon\n    grouped: () ->\n      unless @_groups\n        @_groups = []\n        grp_keys = []\n        @each (model) =>\n          grping = model.get(\"grouping\")\n          grp_keys.push(grping)  unless grping in grp_keys\n          ii = grp_keys.indexOf(grping)\n          @_groups[ii] or @_groups[ii] = []\n          @_groups[ii].push(model)\n      _.zip.apply(null, @_groups)\n\n  new QtypeIconCollection(iconDetails)\n","import _ from 'underscore';\nimport React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {actions} from '../actions';\nimport {stores} from '../stores';\nimport {USE_CUSTOM_INTERCOM_LAUNCHER} from './intercomHandler';\nimport {KEY_CODES} from 'js/constants';\nimport envStore from 'js/envStore';\nimport './helpBubbles.scss';\n\nconst BUBBLE_OPENED_EVT_NAME = 'help-bubble-opened';\n\nclass HelpBubble extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n    this.state = {\n      isOpen: false,\n      isOutsideCloseEnabled: true\n    };\n    this.cancelOutsideCloseWatch = Function.prototype;\n    this.cancelHelpBubbleEventCloseWatch = Function.prototype;\n  }\n\n  open() {\n    this.setState({isOpen: true});\n\n    // tell all HelpBubbles that this one have just opened\n    const bubbleOpenedEvt = new CustomEvent(BUBBLE_OPENED_EVT_NAME, {detail: this.bubbleName});\n    document.dispatchEvent(bubbleOpenedEvt);\n\n    // if enabled we want to close this HelpBubble\n    // whenever user clicks outside it or hits ESC key\n    this.cancelOutsideCloseWatch();\n    if (this.state.isOutsideCloseEnabled) {\n      this.watchOutsideClose();\n    }\n\n    // we want to close all the other HelpBubbles whenever one opens\n    this.cancelHelpBubbleEventCloseWatch();\n    this.watchHelpBubbleEventClose();\n  }\n\n  close() {\n    this.setState({isOpen: false});\n    this.cancelOutsideCloseWatch();\n  }\n\n  toggle() {\n    if (this.state.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  watchHelpBubbleEventClose() {\n    const helpBubbleEventHandler = (evt) => {\n      if (evt.detail !== this.bubbleName) {this.close();}\n    };\n\n    document.addEventListener(BUBBLE_OPENED_EVT_NAME, helpBubbleEventHandler);\n\n    this.cancelHelpBubbleEventCloseWatch = () => {\n      document.removeEventListener(BUBBLE_OPENED_EVT_NAME, helpBubbleEventHandler);\n    };\n  }\n\n  watchOutsideClose() {\n    const outsideClickHandler = (evt) => {\n      const $targetEl = $(evt.target);\n      if (\n        $targetEl.parents('.help-bubble__back').length === 0 &&\n        $targetEl.parents('.help-bubble__popup').length === 0 &&\n        $targetEl.parents('.help-bubble__popup-content').length === 0 &&\n        $targetEl.parents('.help-bubble__row').length === 0 &&\n        $targetEl.parents('.help-bubble__row-wrapper').length === 0\n      ) {\n        this.close();\n      }\n    };\n\n    const escHandler = (evt) => {\n      if (evt.keyCode === KEY_CODES.ESC || evt.key === 'Escape') {\n        this.close();\n      }\n    };\n\n    this.cancelOutsideCloseWatch = () => {\n      document.removeEventListener('click', outsideClickHandler);\n      document.removeEventListener('keydown', escHandler);\n    };\n\n    document.addEventListener('click', outsideClickHandler);\n    document.addEventListener('keydown', escHandler);\n  }\n\n  getStorageName(bubbleName) {\n    const currentUsername = stores.session.currentAccount && stores.session.currentAccount.username;\n    return `kobo.${currentUsername}.${bubbleName}`;\n  }\n}\n\nclass HelpBubbleTrigger extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n  }\n\n  render() {\n    const iconClass = `k-icon k-icon-${this.props.icon}`;\n    const hasCounter = typeof this.props.counter === 'number' && this.props.counter !== 0;\n    const attrs = {};\n\n    if (this.props.htmlId) {\n      attrs['id'] = this.props.htmlId;\n    }\n\n    return (\n      <bem.HelpBubble__trigger\n        onClick={this.props.onClick}\n        data-tip={this.props.tooltipLabel}\n        {...attrs}\n      >\n        <i className={iconClass}/>\n\n        {hasCounter &&\n          <bem.HelpBubble__triggerCounter>\n            {this.props.counter}\n          </bem.HelpBubble__triggerCounter>\n        }\n      </bem.HelpBubble__trigger>\n    );\n  }\n}\n\nclass HelpBubbleClose extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n  }\n\n  render() {\n    const attrs = {};\n\n    if (this.props.messageUid) {\n      attrs['data-message-uid'] = this.props.messageUid;\n    }\n\n    return (\n      <bem.HelpBubble__close onClick={this.props.onClick} {...attrs}>\n        <i className='k-icon k-icon-close'/>\n      </bem.HelpBubble__close>\n    );\n  }\n}\n\nexport class IntercomHelpBubble extends HelpBubble {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n    this.state.isOutsideCloseEnabled = false;\n    this.state.intercomUnreadCount = 0;\n    this.bubbleName = 'intercom-help-bubble';\n  }\n\n  componentDidMount() {\n    if (window.Intercom) {\n      Intercom('onUnreadCountChange', this.onIntercomUnreadCountChange.bind(this));\n      Intercom('onHide', this.onIntercomHide.bind(this));\n    }\n  }\n\n  onIntercomUnreadCountChange(unreadCount) {\n    this.setState({intercomUnreadCount: unreadCount});\n  }\n\n  onIntercomHide() {\n    super.close();\n  }\n\n  close() {\n    if (window.Intercom) {\n      window.Intercom('hide');\n    }\n  }\n\n  render() {\n    if (!USE_CUSTOM_INTERCOM_LAUNCHER || !window.Intercom) {\n      return null;\n    }\n\n    const modifiers = ['intercom'];\n    if (this.state.isOpen) {\n      modifiers.push('open');\n    }\n\n    return (\n      <bem.HelpBubble m={modifiers}>\n        <HelpBubbleTrigger\n          icon='intercom'\n          tooltipLabel={t('Intercom')}\n          onClick={this.toggle.bind(this)}\n          htmlId='custom_intercom_launcher'\n          counter={this.state.intercomUnreadCount}\n        />\n      </bem.HelpBubble>\n    );\n  }\n}\n\nexport class SupportHelpBubble extends HelpBubble {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n    this.state.selectedMessageUid = null;\n    this.state.hasUnacknowledgedMessages = false;\n    this.state.messages = [];\n    this.bubbleName = 'support-help-bubble';\n    this.actionsUnlisteners = [];\n\n    this.refreshMessagesThrottled = _.throttle(actions.help.getInAppMessages, 60000);\n  }\n\n  componentWillUnmount() {\n    this.actionsUnlisteners.forEach((clb) => {clb();});\n  }\n\n  componentDidMount() {\n    this.actionsUnlisteners.push(\n      actions.help.getInAppMessages.completed.listen(this.onHelpGetInAppMessagesCompleted.bind(this)),\n      actions.help.getInAppMessages.failed.listen(this.onHelpGetInAppMessagesFailed.bind(this)),\n      actions.help.setMessageReadTime.completed.listen(this.onHelpPatchMessage.bind(this)),\n      actions.help.setMessageAcknowledged.completed.listen(this.onHelpPatchMessage.bind(this))\n    );\n\n    actions.help.getInAppMessages();\n  }\n\n  onHelpGetInAppMessagesCompleted(response) {\n    this.setState({messages: response.results});\n    this.checkForUnacknowledgedMessages(response.results);\n  }\n\n  onHelpGetInAppMessagesFailed(response) {\n    this.setState({messages: []});\n    this.checkForUnacknowledgedMessages([]);\n  }\n\n  onHelpPatchMessage(message) {\n    const newMessages = this.state.messages;\n    for (let i = 0; i < newMessages.length; i++) {\n      if (newMessages[i].uid === message.uid) {\n        // update patched messages in the list of messages\n        newMessages[i] = message;\n      }\n    }\n    this.setState({messages: newMessages});\n    this.checkForUnacknowledgedMessages(newMessages);\n  }\n\n  close() {\n    super.close();\n    this.clearSelectedMessage();\n  }\n\n  open() {\n    super.open();\n\n    const unacknowledgedMessages = this.state.messages.filter((msg) => {\n      return msg.interactions.acknowledged !== true;\n    });\n    if (unacknowledgedMessages.length === 1) {\n      this.selectMessage(unacknowledgedMessages[0].uid);\n    }\n\n    // try getting fresh messages during the lifetime of an app\n    this.refreshMessagesThrottled();\n  }\n\n  onSelectMessage(evt) {\n    this.selectMessage(evt.currentTarget.dataset.messageUid)\n  }\n\n  onSelectUnacknowledgedListMessage(evt) {\n    this.onSelectMessage(evt);\n    this.open();\n  }\n\n  selectMessage(messageUid) {\n    this.setState({selectedMessageUid: messageUid});\n    if (!this.isMessageRead(messageUid)) {\n      this.markMessageRead(messageUid);\n    }\n  }\n\n  clearSelectedMessage() {\n    this.setState({selectedMessageUid: null});\n  }\n\n  findMessage(messageUid) {\n    return _.find(this.state.messages, {uid: messageUid});\n  }\n\n  isMessageRead(messageUid) {\n    const msg = this.findMessage(messageUid);\n    return !!msg.interactions.readTime;\n  }\n\n  markMessageRead(messageUid) {\n    const currentTime = new Date();\n    actions.help.setMessageReadTime(messageUid, currentTime.toISOString())\n  }\n\n  markMessageAcknowledged(evt) {\n    const messageUid = evt.currentTarget.dataset.messageUid;\n    actions.help.setMessageAcknowledged(messageUid, true)\n  }\n\n  checkForUnacknowledgedMessages(newMessages) {\n    const unacknowledgedMessages = newMessages.filter((msg) => {\n      return msg.interactions.acknowledged !== true;\n    });\n    this.setState({\n      hasUnacknowledgedMessages: unacknowledgedMessages.length >= 1,\n      isOutsideCloseEnabled: unacknowledgedMessages.length === 0\n    });\n  }\n\n  getUnreadMessagesCount() {\n    let count = 0;\n    this.state.messages.forEach((msg) => {\n      if (!msg.interactions.readTime) {\n        count++;\n      }\n    });\n    return count;\n  }\n\n  renderSnippetRow(msg, clickCallback) {\n    const modifiers = ['message', 'message-clickable'];\n    if (!msg.interactions.readTime) {\n      modifiers.push('message-unread');\n    }\n    return (\n      <bem.HelpBubble__row\n        m={modifiers}\n        key={msg.uid}\n        data-message-uid={msg.uid}\n        onClick={clickCallback}\n      >\n        <header>{msg.title}</header>\n        <div dangerouslySetInnerHTML={{__html: msg.html.snippet}}/>\n      </bem.HelpBubble__row>\n    );\n  }\n\n  renderDefaultPopup() {\n    const popupModifiers = [];\n    if (this.state.messages.length > 0) {\n      popupModifiers.push('has-more-content');\n    }\n\n    return (\n      <bem.HelpBubble__popup m={popupModifiers}>\n        <HelpBubbleClose onClick={this.close.bind(this)}/>\n\n        <bem.HelpBubble__popupContent>\n          <bem.HelpBubble__row m='header'>\n            {t('Help Resources')}\n          </bem.HelpBubble__row>\n\n          { envStore.isReady &&\n            envStore.data.support_url &&\n            <bem.HelpBubble__rowAnchor\n              m='link'\n              target='_blank'\n              href={envStore.data.support_url}\n              onClick={this.close.bind(this)}\n            >\n              <i className='k-icon k-icon-help-articles'/>\n              <header>{t('KoBoToolbox Help Center')}</header>\n              <p>{t('A vast collection of user support articles and tutorials related to KoBo')}</p>\n            </bem.HelpBubble__rowAnchor>\n          }\n\n          { envStore.isReady &&\n            envStore.data.community_url &&\n            <bem.HelpBubble__rowAnchor\n              m='link'\n              target='_blank'\n              href={envStore.data.community_url}\n              onClick={this.close.bind(this)}\n            >\n              <i className='k-icon k-icon-forum'/>\n              <header>{t('KoBoToolbox Community Forum')}</header>\n              <p>{t('Post your questions to get answers from experienced KoBo users around the world')}</p>\n            </bem.HelpBubble__rowAnchor>\n          }\n\n          {this.state.messages.length > 0 &&\n            <bem.HelpBubble__row m='header'>\n              {t('Notifications')}\n            </bem.HelpBubble__row>\n          }\n\n          {this.state.messages.map((msg) => {\n            const modifiers = ['message', 'message-clickable'];\n            if (!msg.interactions.readTime) {\n              modifiers.push('message-unread');\n            }\n            return this.renderSnippetRow(msg, this.onSelectMessage.bind(this));\n          })}\n        </bem.HelpBubble__popupContent>\n      </bem.HelpBubble__popup>\n    );\n  }\n\n  renderUnacknowledgedListPopup() {\n    return (\n      <bem.HelpBubble__popup>\n        <bem.HelpBubble__popupContent>\n          {this.state.messages.map((msg) => {\n            if (msg.interactions.acknowledged) {\n              return;\n            }\n\n            return (\n              <bem.HelpBubble__rowWrapper key={msg.uid}>\n                <HelpBubbleClose\n                  messageUid={msg.uid}\n                  onClick={this.markMessageAcknowledged.bind(this)}\n                />\n\n                {this.renderSnippetRow(msg, this.onSelectUnacknowledgedListMessage.bind(this))}\n              </bem.HelpBubble__rowWrapper>\n            )\n          })}\n        </bem.HelpBubble__popupContent>\n      </bem.HelpBubble__popup>\n    );\n  }\n\n  renderMessagePopup() {\n    const msg = this.findMessage(this.state.selectedMessageUid);\n\n    return (\n      <bem.HelpBubble__popup>\n        <HelpBubbleClose onClick={this.close.bind(this)}/>\n\n        <bem.HelpBubble__back onClick={this.clearSelectedMessage.bind(this)}>\n          <i className='k-icon k-icon-prev'/>\n        </bem.HelpBubble__back>\n\n        <bem.HelpBubble__popupContent>\n          <bem.HelpBubble__row m='message-title'>\n            <header>{msg.title}</header>\n          </bem.HelpBubble__row>\n\n          <bem.HelpBubble__row\n            m='message'\n            dangerouslySetInnerHTML={{__html: msg.html.body}}\n          />\n        </bem.HelpBubble__popupContent>\n      </bem.HelpBubble__popup>\n    );\n  }\n\n  render() {\n    let popupRenderFn;\n    const modifiers = ['support'];\n    if (this.state.isOpen) {\n      modifiers.push('open');\n      if (this.state.selectedMessageUid) {\n        popupRenderFn = this.renderMessagePopup;\n        modifiers.push('single-message');\n      } else {\n        popupRenderFn = this.renderDefaultPopup;\n        modifiers.push('list-with-header');\n      }\n    } else if (this.state.hasUnacknowledgedMessages) {\n      popupRenderFn = this.renderUnacknowledgedListPopup;\n      modifiers.push('list');\n    }\n\n    return (\n      <bem.HelpBubble m={modifiers}>\n        <HelpBubbleTrigger\n          icon='help'\n          tooltipLabel={t('Help')}\n          onClick={this.toggle.bind(this)}\n          counter={this.getUnreadMessagesCount()}\n        />\n\n        {popupRenderFn &&\n          popupRenderFn()\n        }\n      </bem.HelpBubble>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport clonedeep from 'lodash.clonedeep';\nimport Select from 'react-select';\nimport _ from 'underscore';\nimport DocumentTitle from 'react-document-title';\nimport SurveyScope from '../models/surveyScope';\nimport {cascadeMixin} from './cascadeMixin';\nimport AssetNavigator from './assetNavigator';\nimport {hashHistory} from 'react-router';\nimport alertify from 'alertifyjs';\nimport ProjectSettings from '../components/modalForms/projectSettings';\nimport MetadataEditor from 'js/components/metadataEditor';\nimport {assign} from '../utils';\nimport {\n  ASSET_TYPES,\n  AVAILABLE_FORM_STYLES,\n  PROJECT_SETTINGS_CONTEXTS,\n  update_states,\n  NAME_MAX_LENGTH,\n  META_QUESTION_TYPES,\n} from 'js/constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport Modal from 'js/components/common/modal';\nimport bem, {makeBem} from 'js/bem';\nimport {stores} from '../stores';\nimport {actions} from '../actions';\nimport dkobo_xlform from '../../xlform/src/_xlform.init';\nimport {dataInterface} from '../dataInterface';\nimport assetUtils from 'js/assetUtils';\nimport FormLockedMessage from 'js/components/locking/formLockedMessage';\nimport {\n  hasAssetRestriction,\n  hasAssetAnyLocking,\n  isAssetAllLocked,\n  isAssetLockable,\n} from 'js/components/locking/lockingUtils';\nimport {\n  LOCKING_RESTRICTIONS,\n  LOCKING_UI_CLASSNAMES,\n} from 'js/components/locking/lockingConstants';\nimport {\n  koboMatrixParser,\n  surveyToValidJson,\n  getFormBuilderAssetType,\n  unnullifyTranslations,\n} from 'js/components/formBuilder/formBuilderUtils';\nimport envStore from 'js/envStore';\n\nconst ErrorMessage = makeBem(null, 'error-message');\nconst ErrorMessage__strong = makeBem(null, 'error-message__header', 'strong');\n\nconst WEBFORM_STYLES_SUPPORT_URL = 'alternative_enketo.html';\n\nconst UNSAVED_CHANGES_WARNING = t('You have unsaved changes. Leave form without saving?');\n\nconst ASIDE_CACHE_NAME = 'kpi.editable-form.aside';\n\nconst LOCKING_SUPPORT_URL = 'library_locking.html';\nconst RECORDING_SUPPORT_URL = 'recording-interviews.html';\n\n/**\n * This is a component that displays Form Builder's header and aside. It is also\n * responsible for rendering the survey editor app (all our coffee code). See\n * the `launchAppForSurveyContent` method below for all the magic.\n */\n\nexport default assign({\n  componentDidMount() {\n    this.props.router.setRouteLeaveHook(this.props.route, this.routerWillLeave);\n\n    this.loadAsideSettings();\n\n    if (!this.state.isNewAsset) {\n      let uid = this.props.params.assetid || this.props.params.uid;\n      stores.allAssets.whenLoaded(uid, (originalAsset) => {\n        // Store asset object is mutable and there is no way to predict all the\n        // bugs that come from this fact. Form Builder code is already changing\n        // the content of the object, so we want to cut all the bugs at the\n        // very start of the process.\n        const asset = clonedeep(originalAsset);\n\n        this.setState({asset: asset});\n\n        // HACK switch to setState callback after updating to React 16+\n        //\n        // This needs to be called at least a single render after the state's\n        // asset is being set, because `.form-wrap` node needs to exist for\n        // `launchAppForSurveyContent` to work.\n        window.setTimeout(() => {\n          this.launchAppForSurveyContent(asset.content, {\n            name: asset.name,\n            settings__style: asset.settings__style,\n            asset_uid: asset.uid,\n            asset_type: asset.asset_type,\n            asset: asset,\n          });\n        }, 0);\n      });\n    } else {\n      this.launchAppForSurveyContent();\n    }\n\n    document.querySelector('.page-wrapper__content').addEventListener('scroll', this.handleScroll);\n    this.listenTo(stores.surveyState, this.surveyStateChanged);\n  },\n\n  componentWillUnmount () {\n    if (this.app && this.app.survey) {\n      document.querySelector('.page-wrapper__content').removeEventListener('scroll', this.handleScroll);\n      this.app.survey.off('change');\n    }\n    this.unpreventClosingTab();\n  },\n\n  routerWillLeave() {\n    if (this.state.preventNavigatingOut) {\n      return UNSAVED_CHANGES_WARNING;\n    }\n  },\n\n  loadAsideSettings() {\n    const asideSettings = sessionStorage.getItem(ASIDE_CACHE_NAME);\n    if (asideSettings) {\n      this.setState(JSON.parse(asideSettings));\n    }\n  },\n\n  saveAsideSettings(asideSettings) {\n    sessionStorage.setItem(ASIDE_CACHE_NAME, JSON.stringify(asideSettings));\n  },\n\n  onMetadataEditorChange() {\n    this.onSurveyChange();\n  },\n\n  onProjectDetailsChange({fieldName, fieldValue}) {\n    const settingsNew = this.state.settingsNew || {};\n    settingsNew[fieldName] = fieldValue;\n    this.setState({\n      settingsNew: settingsNew\n    });\n    this.onSurveyChange();\n  },\n\n  surveyStateChanged(state) {\n    this.setState(state);\n  },\n\n  onStyleChange(evt) {\n    let settingsStyle = null;\n    if (evt !== null) {\n      settingsStyle = evt.value;\n    }\n\n    this.setState({\n      settings__style: settingsStyle\n    });\n    this.onSurveyChange();\n  },\n\n  getStyleSelectVal(optionVal) {\n    return _.find(AVAILABLE_FORM_STYLES, (option) => {\n      return option.value === optionVal;\n    });\n  },\n\n  onSurveyChange: _.debounce(function () {\n    if (!this.state.asset_updated !== update_states.UNSAVED_CHANGES) {\n      this.preventClosingTab();\n    }\n    this.setState({\n      asset_updated: update_states.UNSAVED_CHANGES,\n    });\n  }, 200),\n\n  preventClosingTab() {\n    this.setState({preventNavigatingOut: true});\n    $(window).on('beforeunload.noclosetab', function(){\n      return UNSAVED_CHANGES_WARNING;\n    });\n  },\n\n  unpreventClosingTab() {\n    this.setState({preventNavigatingOut: false});\n    $(window).off('beforeunload.noclosetab');\n  },\n\n  nameChange(evt) {\n    this.setState({\n      name: assetUtils.removeInvalidChars(evt.target.value),\n    });\n    this.onSurveyChange();\n  },\n\n  groupQuestions() {\n    this.app.groupSelectedRows();\n  },\n\n  showAll(evt) {\n    evt.preventDefault();\n    evt.currentTarget.blur();\n    this.app.expandMultioptions();\n  },\n\n  hasMetadataAndDetails() {\n    return this.app && (\n      this.state.asset.asset_type === ASSET_TYPES.survey.id ||\n      this.state.asset.asset_type === ASSET_TYPES.template.id ||\n      this.state.desiredAssetType === ASSET_TYPES.template.id\n    );\n  },\n\n  needsSave() {\n    return this.state.asset_updated === update_states.UNSAVED_CHANGES;\n  },\n\n  previewForm(evt) {\n    if (evt && evt.preventDefault) {\n      evt.preventDefault();\n    }\n\n    if (this.state.settings__style !== undefined) {\n      this.app.survey.settings.set('style', this.state.settings__style);\n    }\n\n    if (this.state.name) {\n      this.app.survey.settings.set('title', this.state.name);\n    }\n\n    let surveyJSON = surveyToValidJson(this.app.survey);\n    if (this.state.asset) {\n      surveyJSON = unnullifyTranslations(surveyJSON, this.state.asset.content);\n    }\n    let params = {source: surveyJSON};\n\n    params = koboMatrixParser(params);\n\n    if (this.state.asset && this.state.asset.url) {\n      params.asset = this.state.asset.url;\n    }\n\n    dataInterface.createAssetSnapshot(params).done((content) => {\n      this.setState({\n        enketopreviewOverlay: content.enketopreviewlink,\n      });\n    }).fail((jqxhr) => {\n      let err;\n      if (jqxhr && jqxhr.responseJSON && jqxhr.responseJSON.error) {\n        err = jqxhr.responseJSON.error;\n      } else {\n        err = t('Unknown Enketo preview error');\n      }\n      this.setState({\n        enketopreviewError: err,\n      });\n    });\n  },\n\n  saveForm(evt) {\n    if (evt && evt.preventDefault) {\n      evt.preventDefault();\n    }\n\n    if (this.state.settings__style !== undefined) {\n      this.app.survey.settings.set('style', this.state.settings__style);\n    }\n\n    let surveyJSON = surveyToValidJson(this.app.survey);\n    if (this.state.asset) {\n      let surveyJSONWithMatrix = koboMatrixParser({source: surveyJSON}).source;\n      surveyJSON = unnullifyTranslations(surveyJSONWithMatrix, this.state.asset.content);\n    }\n    let params = {content: surveyJSON};\n\n    if (this.state.name) {\n      params.name = this.state.name;\n    }\n\n    // handle settings update (if any changed)\n    if (this.state.settingsNew) {\n      let settings = {};\n      if (this.state.asset) {\n        settings = this.state.asset.settings;\n      }\n\n      if (this.state.settingsNew.description) {\n        settings.description = this.state.settingsNew.description;\n      }\n      if (this.state.settingsNew.sector) {\n        settings.sector = this.state.settingsNew.sector;\n      }\n      if (this.state.settingsNew.country) {\n        settings.country = this.state.settingsNew.country;\n      }\n      if (this.state.settingsNew['share-metadata']) {\n        settings['share-metadata'] = this.state.settingsNew['share-metadata'];\n      }\n      params.settings = JSON.stringify(settings);\n    }\n\n    if (this.state.isNewAsset) {\n      // we're intentionally leaving after creating new asset,\n      // so there is nothing unsaved here\n      this.unpreventClosingTab();\n\n      // create new asset\n      if (this.state.desiredAssetType) {\n        params.asset_type = this.state.desiredAssetType;\n      } else {\n        params.asset_type = 'block';\n      }\n      if (this.state.parentAsset) {\n        params.parent = assetUtils.buildAssetUrl(this.state.parentAsset);\n      }\n      actions.resources.createResource.triggerAsync(params)\n        .then(() => {\n          hashHistory.push(this.state.backRoute);\n        });\n    } else {\n      // update existing asset\n      const uid = this.props.params.assetid || this.props.params.uid;\n\n      actions.resources.updateAsset.triggerAsync(uid, params)\n        .then(() => {\n          this.unpreventClosingTab();\n          this.setState({\n            asset_updated: update_states.UP_TO_DATE,\n            surveySaveFail: false,\n          });\n        })\n        .catch((resp) => {\n          var errorMsg = `${t('Your changes could not be saved, likely because of a lost internet connection.')}&nbsp;${t('Keep this window open and try saving again while using a better connection.')}`;\n          if (resp.statusText !== 'error') {\n            errorMsg = resp.statusText;\n          }\n\n          alertify.defaults.theme.ok = 'ajs-cancel';\n          let dialog = alertify.dialog('alert');\n          let opts = {\n            title: t('Error saving form'),\n            message: errorMsg,\n            label: t('Dismiss'),\n          };\n          dialog.set(opts).show();\n\n          this.setState({\n            surveySaveFail: true,\n            asset_updated: update_states.SAVE_FAILED\n          });\n        });\n    }\n    this.setState({\n      asset_updated: update_states.PENDING_UPDATE,\n    });\n  },\n\n  handleScroll(evt) {\n    var scrollTop = evt.target.scrollTop;\n    if (!this.state.formHeaderFixed && scrollTop > 40) {\n      var fhfh = $('.asset-view__row--header').height();\n      this.setState({\n        formHeaderFixed: true,\n        formHeaderFixedHeight: fhfh,\n      });\n    } else if (this.state.formHeaderFixed && scrollTop <= 32) {\n      this.setState({\n        formHeaderFixed: false\n      });\n    }\n  },\n\n  buttonStates() {\n    var ooo = {};\n    if (!this.app) {\n      ooo.allButtonsDisabled = true;\n    } else {\n      ooo.previewDisabled = true;\n      if (this.app && this.app.survey) {\n        ooo.previewDisabled = this.app.survey.rows.length < 1;\n      }\n      ooo.groupable = !!this.state.groupButtonIsActive;\n      ooo.showAllOpen = !!this.state.multioptionsExpanded;\n      ooo.showAllAvailable = (() => {\n        var hasSelect = false;\n        this.app.survey.forEachRow(function(row){\n          if (row._isSelectQuestion()) {\n            hasSelect = true;\n          }\n        });\n        return hasSelect;\n      })(); // todo: only true if survey has select questions\n      ooo.name = this.state.name;\n      ooo.hasSettings = this.state.backRoute === ROUTES.FORMS;\n      ooo.styleValue = this.state.settings__style;\n    }\n    if (this.state.isNewAsset) {\n      ooo.saveButtonText = t('create');\n    } else if (this.state.surveySaveFail) {\n      ooo.saveButtonText = `${t('save')} (${t('retry')}) `;\n    } else {\n      ooo.saveButtonText = t('save');\n    }\n    return ooo;\n  },\n\n  toggleAsideLibrarySearch(evt) {\n    evt.target.blur();\n    const asideSettings = {\n      asideLayoutSettingsVisible: false,\n      asideLibrarySearchVisible: !this.state.asideLibrarySearchVisible,\n    };\n    this.setState(asideSettings);\n    this.saveAsideSettings(asideSettings);\n  },\n\n  toggleAsideLayoutSettings(evt) {\n    evt.target.blur();\n    const asideSettings = {\n      asideLayoutSettingsVisible: !this.state.asideLayoutSettingsVisible,\n      asideLibrarySearchVisible: false\n    };\n    this.setState(asideSettings);\n    this.saveAsideSettings(asideSettings);\n  },\n\n  hidePreview() {\n    this.setState({\n      enketopreviewOverlay: false\n    });\n  },\n\n  hideCascade() {\n    this.setState({\n      showCascadePopup: false\n    });\n  },\n\n  /**\n   * The de facto function that is running our Form Builder survey editor app.\n   * It builds `dkobo_xlform.view.SurveyApp` using asset data and then appends\n   * it to `.form-wrap` node.\n   */\n  launchAppForSurveyContent(assetContent, _state = {}) {\n    if (_state.name) {\n      _state.savedName = _state.name;\n    }\n\n    // asset content is being mutated somewhere during form builder initialisation\n    // so we need to make sure this stays untouched\n    const rawAssetContent = Object.freeze(clonedeep(assetContent));\n\n    let isEmptySurvey = (\n        assetContent &&\n        (assetContent.settings && Object.keys(assetContent.settings).length === 0) &&\n        assetContent.survey.length === 0\n      );\n\n    let survey = null;\n\n    try {\n      if (!assetContent) {\n        survey = dkobo_xlform.model.Survey.create();\n      } else {\n        survey = dkobo_xlform.model.Survey.loadDict(assetContent);\n        if (isEmptySurvey) {\n          survey.surveyDetails.importDefaults();\n        }\n      }\n    } catch (err) {\n      _state.surveyLoadError = err.message;\n      _state.surveyAppRendered = false;\n    }\n\n    if (!_state.surveyLoadError) {\n      _state.surveyAppRendered = true;\n\n      var skp = new SurveyScope({\n        survey: survey,\n        rawSurvey: rawAssetContent,\n        assetType: getFormBuilderAssetType(this.state.asset.asset_type, this.state.desiredAssetType),\n      });\n      this.app = new dkobo_xlform.view.SurveyApp({\n        survey: survey,\n        stateStore: stores.surveyState,\n        ngScope: skp,\n      });\n      this.app.$el.appendTo(ReactDOM.findDOMNode(this.refs['form-wrap']));\n      this.app.render();\n      survey.rows.on('change', this.onSurveyChange);\n      survey.rows.on('sort', this.onSurveyChange);\n      survey.on('change', this.onSurveyChange);\n    }\n\n    this.setState(_state);\n  },\n\n  clearPreviewError() {\n    this.setState({\n      enketopreviewError: false,\n    });\n  },\n\n  // navigating out of form builder\n\n  safeNavigateToRoute(route) {\n    if (!this.needsSave()) {\n      hashHistory.push(route);\n    } else {\n      let dialog = alertify.dialog('confirm');\n      let opts = {\n        title: UNSAVED_CHANGES_WARNING,\n        message: '',\n        labels: {ok: t('Yes, leave form'), cancel: t('Cancel')},\n        onok: () => {\n          hashHistory.push(route);\n        },\n        oncancel: dialog.destroy\n      };\n      dialog.set(opts).show();\n    }\n  },\n\n  safeNavigateToList() {\n    if (this.state.backRoute) {\n      this.safeNavigateToRoute(this.state.backRoute);\n    } else if (this.props.location.pathname.startsWith(ROUTES.LIBRARY)) {\n      this.safeNavigateToRoute(ROUTES.LIBRARY);\n    } else {\n      this.safeNavigateToRoute(ROUTES.FORMS);\n    }\n  },\n\n  safeNavigateToAsset() {\n    let targetRoute = this.state.backRoute;\n    if (this.state.backRoute === ROUTES.FORMS) {\n      targetRoute = ROUTES.FORM.replace(':uid', this.state.asset_uid);\n    } else if (this.state.backRoute === ROUTES.LIBRARY) {\n      targetRoute = ROUTES.LIBRARY_ITEM.replace(':uid', this.state.asset_uid);\n    }\n    this.safeNavigateToRoute(targetRoute);\n  },\n\n  isAddingQuestionsRestricted() {\n    return (\n      this.state.asset &&\n      isAssetLockable(this.state.asset.asset_type) &&\n      hasAssetRestriction(this.state.asset.content, LOCKING_RESTRICTIONS.question_add.name)\n    );\n  },\n\n  isAddingGroupsRestricted() {\n    return (\n      this.state.asset &&\n      isAssetLockable(this.state.asset.asset_type) &&\n      hasAssetRestriction(this.state.asset.content, LOCKING_RESTRICTIONS.group_add.name)\n    );\n  },\n\n  isChangingAppearanceRestricted() {\n    return (\n      this.state.asset &&\n      isAssetLockable(this.state.asset.asset_type) &&\n      hasAssetRestriction(this.state.asset.content, LOCKING_RESTRICTIONS.form_appearance.name)\n    );\n  },\n\n  isChangingMetaQuestionsRestricted() {\n    return (\n      this.state.asset &&\n      isAssetLockable(this.state.asset.asset_type) &&\n      hasAssetRestriction(this.state.asset.content, LOCKING_RESTRICTIONS.form_meta_edit.name)\n    );\n  },\n\n  hasBackgroundAudio() {\n    return this.app?.survey?.surveyDetails.filter(\n      (sd) => sd.attributes.name === META_QUESTION_TYPES['background-audio']\n    )[0].attributes.value;\n  },\n\n  // rendering methods\n\n  renderFormBuilderHeader () {\n    let {\n      previewDisabled,\n      groupable,\n      showAllOpen,\n      showAllAvailable,\n      saveButtonText,\n    } = this.buttonStates();\n\n    return (\n      <bem.FormBuilderHeader>\n        <bem.FormBuilderHeader__row m='primary'>\n          <bem.FormBuilderHeader__cell\n            m={'logo'}\n            data-tip={t('Return to list')}\n            className='left-tooltip'\n            tabIndex='0'\n            onClick={this.safeNavigateToList}\n          >\n            <i className='k-icon k-icon-kobo' />\n          </bem.FormBuilderHeader__cell>\n\n          <bem.FormBuilderHeader__cell m={'name'} >\n            <bem.FormModal__item>\n              {this.renderAssetLabel()}\n              <input\n                type='text'\n                maxLength={NAME_MAX_LENGTH}\n                onChange={this.nameChange}\n                value={this.state.name}\n                title={this.state.name}\n                id='nameField'\n              />\n            </bem.FormModal__item>\n          </bem.FormBuilderHeader__cell>\n\n          <bem.FormBuilderHeader__cell m={'buttonsTopRight'} >\n            <bem.FormBuilderHeader__button\n              m={['save', {\n                savepending: this.state.asset_updated === update_states.PENDING_UPDATE,\n                savefailed: this.state.asset_updated === update_states.SAVE_FAILED,\n                saveneeded: this.needsSave(),\n              }]}\n              onClick={this.saveForm}\n              disabled={!this.state.surveyAppRendered || !!this.state.surveyLoadError}\n            >\n              <i />\n              {saveButtonText}\n            </bem.FormBuilderHeader__button>\n\n            <bem.FormBuilderHeader__close\n              m={[{'close-warning': this.needsSave()}]}\n              onClick={this.safeNavigateToAsset}\n            >\n              <i className='k-icon k-icon-close'/>\n            </bem.FormBuilderHeader__close>\n          </bem.FormBuilderHeader__cell>\n        </bem.FormBuilderHeader__row>\n\n        <bem.FormBuilderHeader__row m={'secondary'} >\n          <bem.FormBuilderHeader__cell m={'toolsButtons'} >\n            <bem.FormBuilderHeader__button\n              m={['preview', {previewdisabled: previewDisabled}]}\n              onClick={this.previewForm}\n              disabled={previewDisabled}\n              data-tip={t('Preview form')}\n            >\n              <i className='k-icon k-icon-view' />\n            </bem.FormBuilderHeader__button>\n\n            { showAllAvailable &&\n              <bem.FormBuilderHeader__button m={['show-all', {\n                    open: showAllOpen,\n                  }]}\n                  onClick={this.showAll}\n                  data-tip={t('Expand / collapse questions')}>\n                <i className='k-icon k-icon-view-all' />\n              </bem.FormBuilderHeader__button>\n            }\n\n            <bem.FormBuilderHeader__button\n              m={['group', {groupable: groupable}]}\n              onClick={this.groupQuestions}\n              disabled={!groupable}\n              className={this.isAddingGroupsRestricted() ? LOCKING_UI_CLASSNAMES.DISABLED : ''}\n              data-tip={groupable ? t('Create group with selected questions') : t('Grouping disabled. Please select at least one question.')}\n            >\n              <i className='k-icon k-icon-group' />\n            </bem.FormBuilderHeader__button>\n\n            { this.toggleCascade !== undefined &&\n              <bem.FormBuilderHeader__button\n                m={['cascading']}\n                onClick={this.toggleCascade}\n                data-tip={t('Insert cascading select')}\n                className={this.isAddingQuestionsRestricted() ? LOCKING_UI_CLASSNAMES.DISABLED : ''}\n              >\n                <i className='k-icon k-icon-cascading' />\n              </bem.FormBuilderHeader__button>\n            }\n          </bem.FormBuilderHeader__cell>\n\n          <bem.FormBuilderHeader__cell m='verticalRule'/>\n\n          <bem.FormBuilderHeader__cell m='spacer'/>\n\n          <bem.FormBuilderHeader__cell m='verticalRule'/>\n\n          <bem.FormBuilderHeader__cell>\n            <bem.FormBuilderHeader__button\n              m={['panel-toggle', this.state.asideLibrarySearchVisible ? 'active' : null]}\n              onClick={this.toggleAsideLibrarySearch}\n              className={this.isAddingQuestionsRestricted() ? LOCKING_UI_CLASSNAMES.DISABLED : ''}\n            >\n              <i className={['k-icon', this.state.asideLibrarySearchVisible ? 'k-icon-close' : 'k-icon-library' ].join(' ')} />\n              <span className='panel-toggle-name'>{t('Add from Library')}</span>\n            </bem.FormBuilderHeader__button>\n          </bem.FormBuilderHeader__cell>\n\n          <bem.FormBuilderHeader__cell m={'verticalRule'} />\n\n          <bem.FormBuilderHeader__cell>\n            <bem.FormBuilderHeader__button\n              m={['panel-toggle', this.state.asideLayoutSettingsVisible ? 'active' : null]}\n              onClick={this.toggleAsideLayoutSettings}\n            >\n              <i className={['k-icon', this.state.asideLayoutSettingsVisible ? 'k-icon-close' : 'k-icon-settings' ].join(' ')} />\n              <span className='panel-toggle-name'>\n                {this.hasMetadataAndDetails() &&\n                  t('Layout & Settings')\n                }\n                {!this.hasMetadataAndDetails() &&\n                  t('Layout')\n                }\n              </span>\n            </bem.FormBuilderHeader__button>\n          </bem.FormBuilderHeader__cell>\n        </bem.FormBuilderHeader__row>\n      </bem.FormBuilderHeader>\n    );\n  },\n\n  renderBackgroundAudioWarning() {\n    return (\n      <bem.FormBuilderMessageBox m='warning'>\n        <span data-tip={t('background recording')}>\n          <i className='k-icon k-icon-form-overview'/>\n        </span>\n\n        <p>\n          {t('This form will automatically record audio in the background. Consider adding an acknowledgement note to inform respondents or data collectors that they will be recorded while completing this survey. This feature is available in ')}\n          <a title=\"Install KoBoCollect\"\n            target=\"_blank\"\n            href='https://play.google.com/store/apps/details?id=org.koboc.collect.android'>\n            {t('Collect version 1.30 and above')}\n          </a>\n          {'.'}\n        </p>\n\n        { envStore.isReady &&\n          envStore.data.support_url &&\n          <bem.TextBox__labelLink\n            // TODO update support article to include background-audio\n            href={\n              envStore.data.support_url +\n              RECORDING_SUPPORT_URL\n            }\n            target='_blank'\n            data-tip={t('help')}\n          >\n            <i className='k-icon k-icon-help' />\n          </bem.TextBox__labelLink>\n        }\n      </bem.FormBuilderMessageBox>\n    );\n  },\n\n  renderAside() {\n    let {\n      styleValue,\n      hasSettings\n    } = this.buttonStates();\n\n    const isAsideVisible = (\n      this.state.asideLayoutSettingsVisible ||\n      this.state.asideLibrarySearchVisible\n    );\n\n    return (\n      <bem.FormBuilderAside m={isAsideVisible ? 'visible' : null}>\n        { this.state.asideLayoutSettingsVisible &&\n          <bem.FormBuilderAside__content>\n            <bem.FormBuilderAside__row>\n              <bem.FormBuilderAside__header>\n                {t('Form style')}\n\n                { envStore.isReady &&\n                  envStore.data.support_url &&\n                  <a\n                    href={envStore.data.support_url + WEBFORM_STYLES_SUPPORT_URL}\n                    target='_blank'\n                    data-tip={t('Read more about form styles')}\n                  >\n                    <i className='k-icon k-icon-help'/>\n                  </a>\n                }\n              </bem.FormBuilderAside__header>\n\n              <label\n                className='kobo-select-label'\n                htmlFor='webform-style'\n              >\n                { hasSettings ?\n                  t('Select the form style that you would like to use. This will only affect web forms.')\n                  :\n                  t('Select the form style. This will only affect the Enketo preview, and it will not be saved with the question or block.')\n                }\n              </label>\n\n              <Select\n                className='kobo-select'\n                classNamePrefix='kobo-select'\n                id='webform-style'\n                name='webform-style'\n                ref='webformStyle'\n                value={this.getStyleSelectVal(styleValue)}\n                onChange={this.onStyleChange}\n                placeholder={AVAILABLE_FORM_STYLES[0].label}\n                options={AVAILABLE_FORM_STYLES}\n                menuPlacement='bottom'\n                isDisabled={this.isChangingAppearanceRestricted()}\n                isSearchable={false}\n              />\n            </bem.FormBuilderAside__row>\n\n            {this.hasMetadataAndDetails() &&\n              <bem.FormBuilderAside__row>\n                <bem.FormBuilderAside__header>\n                  {t('Metadata')}\n                </bem.FormBuilderAside__header>\n\n                <MetadataEditor\n                  survey={this.app.survey}\n                  onChange={this.onMetadataEditorChange}\n                  isDisabled={this.isChangingMetaQuestionsRestricted()}\n                  {...this.state}\n                />\n              </bem.FormBuilderAside__row>\n            }\n\n            {this.hasMetadataAndDetails() &&\n              <bem.FormBuilderAside__row>\n                <bem.FormBuilderAside__header>\n                  {t('Details')}\n                </bem.FormBuilderAside__header>\n\n                <ProjectSettings\n                  context={PROJECT_SETTINGS_CONTEXTS.BUILDER}\n                  onProjectDetailsChange={this.onProjectDetailsChange}\n                  formAsset={this.state.asset}\n                />\n              </bem.FormBuilderAside__row>\n            }\n          </bem.FormBuilderAside__content>\n        }\n\n        { this.state.asideLibrarySearchVisible &&\n          <bem.FormBuilderAside__content\n            className={this.isAddingQuestionsRestricted() ? LOCKING_UI_CLASSNAMES.DISABLED : ''}\n          >\n            <bem.FormBuilderAside__row>\n              <bem.FormBuilderAside__header>\n                {t('Search Library')}\n              </bem.FormBuilderAside__header>\n            </bem.FormBuilderAside__row>\n\n            <bem.FormBuilderAside__row>\n              <AssetNavigator/>\n            </bem.FormBuilderAside__row>\n          </bem.FormBuilderAside__content>\n        }\n      </bem.FormBuilderAside>\n    );\n  },\n\n  renderNotLoadedMessage() {\n    if (this.state.surveyLoadError) {\n      return (\n        <ErrorMessage>\n          <ErrorMessage__strong>\n            {t('Error loading survey:')}\n          </ErrorMessage__strong>\n          <p>\n            {this.state.surveyLoadError}\n          </p>\n        </ErrorMessage>\n      );\n    }\n\n    return (<LoadingSpinner/>);\n  },\n\n  renderAssetLabel() {\n    let assetTypeLabel = getFormBuilderAssetType(this.state.asset.asset_type, this.state.desiredAssetType)?.label;\n\n    // Case 1: there is no asset yet (creting a new) or asset is not locked\n    if (\n      !this.state.asset ||\n      !hasAssetAnyLocking(this.state.asset.content)\n    ) {\n      return assetTypeLabel;\n    // Case 2: asset is locked fully or partially\n    } else {\n      let lockedLabel = t('Partially locked ##type##').replace('##type##', assetTypeLabel);\n      if (isAssetAllLocked(this.state.asset.content)) {\n        lockedLabel = t('Fully locked ##type##').replace('##type##', assetTypeLabel);\n      }\n      return (\n        <span className='locked-asset-type-label'>\n          <i className='k-icon k-icon-lock'/>\n\n          {lockedLabel}\n\n          { envStore.isReady &&\n            envStore.data.support_url &&\n            <a\n              href={envStore.data.support_url + LOCKING_SUPPORT_URL}\n              target='_blank'\n              data-tip={t('Read more about Locking')}\n            >\n              <i className='k-icon k-icon-help'/>\n            </a>\n          }\n        </span>\n      );\n    }\n  },\n\n  render() {\n    var docTitle = this.state.name || t('Untitled');\n\n    if (!this.state.isNewAsset && !this.state.asset) {\n      return (\n        <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n          <LoadingSpinner/>\n        </DocumentTitle>\n      );\n    }\n\n    return (\n      <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n        <bem.uiPanel m={['transparent', 'fixed']}>\n          <bem.uiPanel__body>\n            {this.renderAside()}\n\n            <bem.FormBuilder>\n            {this.renderFormBuilderHeader()}\n\n              <bem.FormBuilder__contents>\n                {this.state.asset &&\n                  <FormLockedMessage asset={this.state.asset}/>\n                }\n\n                {this.hasBackgroundAudio() &&\n                  this.renderBackgroundAudioWarning()\n                }\n\n                <div ref='form-wrap' className='form-wrap'>\n                  {!this.state.surveyAppRendered &&\n                    this.renderNotLoadedMessage()\n                  }\n                </div>\n              </bem.FormBuilder__contents>\n            </bem.FormBuilder>\n\n            {this.state.enketopreviewOverlay &&\n              <Modal\n                open\n                large\n                onClose={this.hidePreview}\n                title={t('Form Preview')}\n              >\n                <Modal.Body>\n                  <div className='enketo-holder'>\n                    <iframe src={this.state.enketopreviewOverlay} />\n                  </div>\n                </Modal.Body>\n              </Modal>\n            }\n\n            {!this.state.enketopreviewOverlay && this.state.enketopreviewError &&\n              <Modal\n                open\n                error\n                onClose={this.clearPreviewError}\n                title={t('Error generating preview')}\n              >\n                <Modal.Body>{this.state.enketopreviewError}</Modal.Body>\n              </Modal>\n            }\n\n            {this.state.showCascadePopup &&\n              <Modal\n                open\n                onClose={this.hideCascade}\n                title={t('Import Cascading Select Questions')}\n              >\n                <Modal.Body>{this.renderCascadePopup()}</Modal.Body>\n              </Modal>\n            }\n          </bem.uiPanel__body>\n        </bem.uiPanel>\n      </DocumentTitle>\n    );\n  },\n}, cascadeMixin);\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport classNames from 'classnames';\nimport mixins from 'js/mixins';\nimport bem from 'js/bem';\nimport KoboDropdown, {KoboDropdownThemes} from 'js/components/common/koboDropdown';\nimport {PERMISSIONS_CODENAMES} from 'js/constants';\nimport {SORT_VALUES} from 'js/components/submissions/tableConstants';\nimport './tableColumnSortDropdown.scss';\n\nconst CLEAR_BUTTON_CLASS_NAME = 'table-column-sort-dropdown-clear';\n\n/**\n * A wrapper around KoboDropdown to be used in table header to sort columns.\n *\n * @prop {object} asset\n * @prop {string} fieldId - one of table columns\n * @prop {string|null} sortValue\n * @prop {function} onSortChange\n * @prop {function} onHide\n * @prop {boolean} isFieldFrozen\n * @prop {function} onFrozenChange\n * @prop {Node} [additionalTriggerContent] - to be put inside trigger, before the predefined content. Please note that the trigger as a whole is clickable, so this additional content would need stopPropagation to be clickable.\n */\nclass TableColumnSortDropdown extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  renderTrigger() {\n    let sortIcon = ['k-icon'];\n    if (this.props.sortValue && this.props.sortValue === SORT_VALUES.ASCENDING) {\n      sortIcon.push('k-icon-sort-down');\n    }\n    if (this.props.sortValue && this.props.sortValue === SORT_VALUES.DESCENDING) {\n      sortIcon.push('k-icon-sort-up');\n    }\n\n    return (\n      <div className='table-column-sort-dropdown-trigger'>\n        {this.props.additionalTriggerContent}\n        {this.props.sortValue &&\n          <i className={sortIcon.join(' ')}/>\n        }\n        <i className='k-icon k-icon-caret-up'/>\n        <i className='k-icon k-icon-caret-down'/>\n      </div>\n    );\n  }\n\n  clearSort() {\n    this.props.onSortChange(this.props.fieldId, null);\n  }\n\n  changeSort(sortValue, evt) {\n    // When clicking on clear icon button, we need to avoid triggering also the\n    // change sort button. We can't use `stopPropagation` on `clearSort` as it\n    // breaks `onMenuClick` functionality.\n    if (evt?.target?.classList?.contains(CLEAR_BUTTON_CLASS_NAME)) {\n      return;\n    }\n    this.props.onSortChange(this.props.fieldId, sortValue);\n  }\n\n  hideField() {\n    this.props.onHide(this.props.fieldId);\n  }\n\n  changeFieldFrozen(isFrozen) {\n    this.props.onFrozenChange(this.props.fieldId, isFrozen);\n  }\n\n  renderSortButton(buttonSortValue) {\n    return (\n      <bem.KoboDropdown__menuButton\n        className={classNames('table-column-sort-dropdown-option', {\n          'table-column-sort-dropdown-option--active': this.props.sortValue === buttonSortValue,\n        })}\n        onClick={this.changeSort.bind(this, buttonSortValue)}\n      >\n        {buttonSortValue === SORT_VALUES.ASCENDING && [\n          <i key='0' className='k-icon k-icon-sort-down'/>,\n          <span key='1'>{t('Decending')}</span>,\n        ]}\n        {buttonSortValue === SORT_VALUES.DESCENDING && [\n          <i key='0' className='k-icon k-icon-sort-up'/>,\n          <span key='1'>{t('Ascending')}</span>,\n        ]}\n\n        {this.props.sortValue === buttonSortValue &&\n          <i\n            onClick={this.clearSort}\n            className={classNames('k-icon', 'k-icon-close', CLEAR_BUTTON_CLASS_NAME)}\n          />\n        }\n      </bem.KoboDropdown__menuButton>\n    );\n  }\n\n  render() {\n    return (\n      <KoboDropdown\n        theme={KoboDropdownThemes.dark}\n        hideOnEsc\n        hideOnMenuClick\n        hideOnMenuOutsideClick\n        name='table-column-sort'\n        triggerContent={this.renderTrigger()}\n        menuContent={\n          <React.Fragment>\n            {this.renderSortButton(SORT_VALUES.ASCENDING)}\n            {this.renderSortButton(SORT_VALUES.DESCENDING)}\n\n            {mixins.permissions.userCan(PERMISSIONS_CODENAMES.change_asset, this.props.asset) &&\n              <bem.KoboDropdown__menuButton onClick={this.hideField}>\n                <i className='k-icon k-icon-hide'/>\n                <span>{t('Hide field')}</span>\n              </bem.KoboDropdown__menuButton>\n            }\n            {mixins.permissions.userCan(PERMISSIONS_CODENAMES.change_asset, this.props.asset) &&\n              <bem.KoboDropdown__menuButton\n                onClick={this.changeFieldFrozen.bind(this, !this.props.isFieldFrozen)}\n              >\n                {this.props.isFieldFrozen && [\n                  <i key='0' className='k-icon k-icon-unfreeze'/>,\n                  <span key='1'>{t('Unfreeze field')}</span>,\n                ]}\n                {!this.props.isFieldFrozen && [\n                  <i key='0' className='k-icon k-icon-freeze'/>,\n                  <span key='1'>{t('Freeze field')}</span>,\n                ]}\n              </bem.KoboDropdown__menuButton>\n            }\n          </React.Fragment>\n        }\n      />\n    );\n  }\n}\n\nexport default TableColumnSortDropdown;\n","import React from 'react';\nimport {dataInterface} from 'js/dataInterface';\nimport bem from 'js/bem';\n\nexport default class FormXform extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {xformLoaded: false};\n  }\n\n  componentDidMount() {\n    const uid = this.props.params.assetid || this.props.params.uid;\n    dataInterface.getAssetXformView(uid).done((content) => {\n      this.setState({\n        xformLoaded: true,\n        xformHtml: {__html: $('<div>').html(content).find('.pygment').html()},\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.xformLoaded) {\n      return (\n        <bem.uiPanel>\n          <bem.uiPanel__body>\n            <bem.Loading>\n              <bem.Loading__inner>\n                <p>XForm is loading</p>\n              </bem.Loading__inner>\n            </bem.Loading>\n          </bem.uiPanel__body>\n        </bem.uiPanel>\n      );\n    } else {\n      return (\n        <bem.uiPanel>\n          <bem.uiPanel__body>\n            <bem.FormView>\n              <div\n                className='pygment'\n                dangerouslySetInnerHTML={this.state.xformHtml}\n              />\n            </bem.FormView>\n          </bem.uiPanel__body>\n        </bem.uiPanel>\n      );\n    }\n  }\n}\n","var map = {\n\t\"./af\": 172,\n\t\"./af.js\": 172,\n\t\"./ar\": 173,\n\t\"./ar-dz\": 174,\n\t\"./ar-dz.js\": 174,\n\t\"./ar-kw\": 175,\n\t\"./ar-kw.js\": 175,\n\t\"./ar-ly\": 176,\n\t\"./ar-ly.js\": 176,\n\t\"./ar-ma\": 177,\n\t\"./ar-ma.js\": 177,\n\t\"./ar-sa\": 178,\n\t\"./ar-sa.js\": 178,\n\t\"./ar-tn\": 179,\n\t\"./ar-tn.js\": 179,\n\t\"./ar.js\": 173,\n\t\"./az\": 180,\n\t\"./az.js\": 180,\n\t\"./be\": 181,\n\t\"./be.js\": 181,\n\t\"./bg\": 182,\n\t\"./bg.js\": 182,\n\t\"./bm\": 183,\n\t\"./bm.js\": 183,\n\t\"./bn\": 184,\n\t\"./bn.js\": 184,\n\t\"./bo\": 185,\n\t\"./bo.js\": 185,\n\t\"./br\": 186,\n\t\"./br.js\": 186,\n\t\"./bs\": 187,\n\t\"./bs.js\": 187,\n\t\"./ca\": 188,\n\t\"./ca.js\": 188,\n\t\"./cs\": 189,\n\t\"./cs.js\": 189,\n\t\"./cv\": 190,\n\t\"./cv.js\": 190,\n\t\"./cy\": 191,\n\t\"./cy.js\": 191,\n\t\"./da\": 192,\n\t\"./da.js\": 192,\n\t\"./de\": 193,\n\t\"./de-at\": 194,\n\t\"./de-at.js\": 194,\n\t\"./de-ch\": 195,\n\t\"./de-ch.js\": 195,\n\t\"./de.js\": 193,\n\t\"./dv\": 196,\n\t\"./dv.js\": 196,\n\t\"./el\": 197,\n\t\"./el.js\": 197,\n\t\"./en-au\": 198,\n\t\"./en-au.js\": 198,\n\t\"./en-ca\": 199,\n\t\"./en-ca.js\": 199,\n\t\"./en-gb\": 200,\n\t\"./en-gb.js\": 200,\n\t\"./en-ie\": 201,\n\t\"./en-ie.js\": 201,\n\t\"./en-il\": 202,\n\t\"./en-il.js\": 202,\n\t\"./en-in\": 203,\n\t\"./en-in.js\": 203,\n\t\"./en-nz\": 204,\n\t\"./en-nz.js\": 204,\n\t\"./en-sg\": 205,\n\t\"./en-sg.js\": 205,\n\t\"./eo\": 206,\n\t\"./eo.js\": 206,\n\t\"./es\": 207,\n\t\"./es-do\": 208,\n\t\"./es-do.js\": 208,\n\t\"./es-us\": 209,\n\t\"./es-us.js\": 209,\n\t\"./es.js\": 207,\n\t\"./et\": 210,\n\t\"./et.js\": 210,\n\t\"./eu\": 211,\n\t\"./eu.js\": 211,\n\t\"./fa\": 212,\n\t\"./fa.js\": 212,\n\t\"./fi\": 213,\n\t\"./fi.js\": 213,\n\t\"./fil\": 214,\n\t\"./fil.js\": 214,\n\t\"./fo\": 215,\n\t\"./fo.js\": 215,\n\t\"./fr\": 216,\n\t\"./fr-ca\": 217,\n\t\"./fr-ca.js\": 217,\n\t\"./fr-ch\": 218,\n\t\"./fr-ch.js\": 218,\n\t\"./fr.js\": 216,\n\t\"./fy\": 219,\n\t\"./fy.js\": 219,\n\t\"./ga\": 220,\n\t\"./ga.js\": 220,\n\t\"./gd\": 221,\n\t\"./gd.js\": 221,\n\t\"./gl\": 222,\n\t\"./gl.js\": 222,\n\t\"./gom-deva\": 223,\n\t\"./gom-deva.js\": 223,\n\t\"./gom-latn\": 224,\n\t\"./gom-latn.js\": 224,\n\t\"./gu\": 225,\n\t\"./gu.js\": 225,\n\t\"./he\": 226,\n\t\"./he.js\": 226,\n\t\"./hi\": 227,\n\t\"./hi.js\": 227,\n\t\"./hr\": 228,\n\t\"./hr.js\": 228,\n\t\"./hu\": 229,\n\t\"./hu.js\": 229,\n\t\"./hy-am\": 230,\n\t\"./hy-am.js\": 230,\n\t\"./id\": 231,\n\t\"./id.js\": 231,\n\t\"./is\": 232,\n\t\"./is.js\": 232,\n\t\"./it\": 233,\n\t\"./it-ch\": 234,\n\t\"./it-ch.js\": 234,\n\t\"./it.js\": 233,\n\t\"./ja\": 235,\n\t\"./ja.js\": 235,\n\t\"./jv\": 236,\n\t\"./jv.js\": 236,\n\t\"./ka\": 237,\n\t\"./ka.js\": 237,\n\t\"./kk\": 238,\n\t\"./kk.js\": 238,\n\t\"./km\": 239,\n\t\"./km.js\": 239,\n\t\"./kn\": 240,\n\t\"./kn.js\": 240,\n\t\"./ko\": 241,\n\t\"./ko.js\": 241,\n\t\"./ku\": 242,\n\t\"./ku.js\": 242,\n\t\"./ky\": 243,\n\t\"./ky.js\": 243,\n\t\"./lb\": 244,\n\t\"./lb.js\": 244,\n\t\"./lo\": 245,\n\t\"./lo.js\": 245,\n\t\"./lt\": 246,\n\t\"./lt.js\": 246,\n\t\"./lv\": 247,\n\t\"./lv.js\": 247,\n\t\"./me\": 248,\n\t\"./me.js\": 248,\n\t\"./mi\": 249,\n\t\"./mi.js\": 249,\n\t\"./mk\": 250,\n\t\"./mk.js\": 250,\n\t\"./ml\": 251,\n\t\"./ml.js\": 251,\n\t\"./mn\": 252,\n\t\"./mn.js\": 252,\n\t\"./mr\": 253,\n\t\"./mr.js\": 253,\n\t\"./ms\": 254,\n\t\"./ms-my\": 255,\n\t\"./ms-my.js\": 255,\n\t\"./ms.js\": 254,\n\t\"./mt\": 256,\n\t\"./mt.js\": 256,\n\t\"./my\": 257,\n\t\"./my.js\": 257,\n\t\"./nb\": 258,\n\t\"./nb.js\": 258,\n\t\"./ne\": 259,\n\t\"./ne.js\": 259,\n\t\"./nl\": 260,\n\t\"./nl-be\": 261,\n\t\"./nl-be.js\": 261,\n\t\"./nl.js\": 260,\n\t\"./nn\": 262,\n\t\"./nn.js\": 262,\n\t\"./oc-lnc\": 263,\n\t\"./oc-lnc.js\": 263,\n\t\"./pa-in\": 264,\n\t\"./pa-in.js\": 264,\n\t\"./pl\": 265,\n\t\"./pl.js\": 265,\n\t\"./pt\": 266,\n\t\"./pt-br\": 267,\n\t\"./pt-br.js\": 267,\n\t\"./pt.js\": 266,\n\t\"./ro\": 268,\n\t\"./ro.js\": 268,\n\t\"./ru\": 269,\n\t\"./ru.js\": 269,\n\t\"./sd\": 270,\n\t\"./sd.js\": 270,\n\t\"./se\": 271,\n\t\"./se.js\": 271,\n\t\"./si\": 272,\n\t\"./si.js\": 272,\n\t\"./sk\": 273,\n\t\"./sk.js\": 273,\n\t\"./sl\": 274,\n\t\"./sl.js\": 274,\n\t\"./sq\": 275,\n\t\"./sq.js\": 275,\n\t\"./sr\": 276,\n\t\"./sr-cyrl\": 277,\n\t\"./sr-cyrl.js\": 277,\n\t\"./sr.js\": 276,\n\t\"./ss\": 278,\n\t\"./ss.js\": 278,\n\t\"./sv\": 279,\n\t\"./sv.js\": 279,\n\t\"./sw\": 280,\n\t\"./sw.js\": 280,\n\t\"./ta\": 281,\n\t\"./ta.js\": 281,\n\t\"./te\": 282,\n\t\"./te.js\": 282,\n\t\"./tet\": 283,\n\t\"./tet.js\": 283,\n\t\"./tg\": 284,\n\t\"./tg.js\": 284,\n\t\"./th\": 285,\n\t\"./th.js\": 285,\n\t\"./tk\": 286,\n\t\"./tk.js\": 286,\n\t\"./tl-ph\": 287,\n\t\"./tl-ph.js\": 287,\n\t\"./tlh\": 288,\n\t\"./tlh.js\": 288,\n\t\"./tr\": 289,\n\t\"./tr.js\": 289,\n\t\"./tzl\": 290,\n\t\"./tzl.js\": 290,\n\t\"./tzm\": 291,\n\t\"./tzm-latn\": 292,\n\t\"./tzm-latn.js\": 292,\n\t\"./tzm.js\": 291,\n\t\"./ug-cn\": 293,\n\t\"./ug-cn.js\": 293,\n\t\"./uk\": 294,\n\t\"./uk.js\": 294,\n\t\"./ur\": 295,\n\t\"./ur.js\": 295,\n\t\"./uz\": 296,\n\t\"./uz-latn\": 297,\n\t\"./uz-latn.js\": 297,\n\t\"./uz.js\": 296,\n\t\"./vi\": 298,\n\t\"./vi.js\": 298,\n\t\"./x-pseudo\": 299,\n\t\"./x-pseudo.js\": 299,\n\t\"./yo\": 300,\n\t\"./yo.js\": 300,\n\t\"./zh-cn\": 301,\n\t\"./zh-cn.js\": 301,\n\t\"./zh-hk\": 302,\n\t\"./zh-hk.js\": 302,\n\t\"./zh-mo\": 303,\n\t\"./zh-mo.js\": 303,\n\t\"./zh-tw\": 304,\n\t\"./zh-tw.js\": 304\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 393;","_ = require 'underscore'\nBackbone = require 'backbone'\n$baseView = require './view.pluggedIn.backboneView'\n$viewTemplates = require './view.templates'\n$icons = require './view.icons'\n$configs = require './model.configs'\n\nmodule.exports = do ->\n  viewRowSelector = {}\n\n  class viewRowSelector.RowSelector extends $baseView\n    events:\n      \"click .js-close-row-selector\": \"shrink\"\n\n    initialize: (opts)->\n      @options = opts\n      @ngScope = opts.ngScope\n      @reversible = opts.reversible\n      @button = @$el.find(\".btn\").eq(0)\n      @line = @$el.find(\".line\")\n      if opts.action is \"click-add-row\"\n        @expand()\n      return\n\n    expand: ->\n      @$el.parents('.survey-editor__null-top-row--hidden').removeClass('survey-editor__null-top-row--hidden')\n      @show_namer()\n      $namer_form = @$el.find('.row__questiontypes__form')\n      $namer_form.on 'submit', _.bind @show_picker, @\n      $namer_form.find('button').on 'click', (evt) ->\n        evt.preventDefault()\n        $namer_form.submit()\n      @$('input').eq(0).focus()\n      return\n\n    show_namer: () ->\n      $surveyViewEl = @options.surveyView.$el\n      $surveyViewEl.find('.line.expanded').removeClass('expanded').empty()\n      $surveyViewEl.find('.btn--hidden').removeClass('btn--hidden')\n\n      @button.addClass('btn--hidden')\n\n      @line.addClass \"expanded\"\n      @line.parents(\".survey-editor__null-top-row\").addClass \"expanded\"\n      @line.css \"height\", \"inherit\"\n      @line.html $viewTemplates.$$render('xlfRowSelector.namer')\n      @scrollFormBuilder('+=50')\n\n      if (@options.surveyView.features.multipleQuestions)\n        $(window).on 'keydown.cancel_add_question',  (evt) =>\n          # user presses the escape key\n          if evt.which == 27\n            @shrink()\n      else\n        $(window).on 'keydown.cancel_add_question',  (evt) =>\n          # user presses the escape key\n          if evt.which == 27\n            evt.preventDefault()\n            @$('input').eq(0).focus()\n\n        $('body').on 'mousedown.cancel_add_question', (evt) =>\n          if $(evt.target).closest('.line.expanded').length == 0\n            evt.preventDefault()\n            @$('input').eq(0).focus()\n      return\n\n    show_picker: (evt) ->\n      evt.preventDefault()\n      @question_name = @line.find('input').val()\n      @line.empty()\n      @line.html $viewTemplates.$$render('xlfRowSelector.line', \"\")\n      @line.find('.row__questiontypes__new-question-name').val(@question_name)\n      $menu = @line.find(\".row__questiontypes__list\")\n      for mrow in $icons.grouped()\n        menurow = $(\"<div>\", class: \"questiontypelist__row\").appendTo $menu\n        for mitem, i in mrow when mitem\n          menurow.append $viewTemplates.$$render('xlfRowSelector.cell', mitem.attributes)\n\n      @scrollFormBuilder('+=220')\n      @$('.questiontypelist__item').click _.bind(@onSelectNewQuestionType, @)\n\n      # Keyboard navigation\n      toggleKeyboardNavigation = false\n      columnIndex = 0\n      rowIndex = 0\n      currentListRow = $(\"div.questiontypelist__row\")\n\n      $DOWN = 40\n      $RIGHT = 39\n      $UP = 38\n      $LEFT = 37\n      $ENTER = 13\n\n      # Always start at top left most item first\n      currentListRow.eq(columnIndex).children().eq(0).toggleClass(\"questiontypelist__item-force-hover\")\n\n      $(window).on 'keydown', (evt) =>\n        # Toggle previous item off\n        currentListRow.eq(columnIndex).children().eq(rowIndex).toggleClass(\"questiontypelist__item-force-hover\")\n\n        # Navigation\n        if evt.which == $DOWN\n          if rowIndex >= currentListRow.eq(columnIndex).children().length - 1\n            rowIndex = 0\n          else\n            rowIndex++\n        if evt.which == $RIGHT\n          if columnIndex >= currentListRow.length - 1\n            columnIndex = 0\n          else\n            if currentListRow.eq(columnIndex + 1).children().length < currentListRow.eq(columnIndex).children().length && rowIndex > currentListRow.length\n              columnIndex = 0\n            else\n              columnIndex++\n        if evt.which == $UP\n          if rowIndex == 0\n            rowIndex = currentListRow.eq(columnIndex).children().length - 1\n          else\n            rowIndex--\n        if evt.which == $LEFT\n          if columnIndex == 0\n            if currentListRow.eq(currentListRow.length - 1).children().length < currentListRow.eq(columnIndex).children().length && rowIndex > currentListRow.length\n              columnIndex = currentListRow.length - 2\n            else\n              columnIndex = currentListRow.length - 1\n          else\n            if currentListRow.eq(columnIndex - 1).children().length < currentListRow.eq(columnIndex).children().length && rowIndex > currentListRow.eq(columnIndex - 1).length\n              columnIndex = currentListRow.length - 1\n            else\n              columnIndex--\n\n        # Toggle current item on\n        currentListRow.eq(columnIndex).children().eq(rowIndex).toggleClass(\"questiontypelist__item-force-hover\")\n\n        # user makes selection by pressing ENTER\n        if evt.which == $ENTER\n          currentListRow.eq(columnIndex).children().eq(rowIndex).trigger('click')\n\n      return\n\n    shrink: ->\n      # click .js-close-row-selector\n      $(window).off 'keydown.cancel_add_question'\n      $('body').off 'mousedown.cancel_add_question'\n      @line.find(\"div\").eq(0).fadeOut 250, =>\n        @line.empty()\n      @line.parents(\".survey-editor__null-top-row\").removeClass \"expanded\"\n      if (@line.parents('.survey-editor').find('.survey__row').length)\n        @line.parents(\".survey-editor__null-top-row\").addClass \"survey-editor__null-top-row--hidden\"\n      @line.removeClass \"expanded\"\n      @line.animate height: \"0\"\n      if @reversible\n        @button.removeClass('btn--hidden')\n      return\n\n    hide: ->\n      @button.removeClass('btn--hidden')\n      @line.empty().removeClass(\"expanded\").css \"height\": 0\n      @line.parents(\".survey-editor__null-top-row\")\n          .removeClass(\"expanded\")\n          .addClass(\"survey-editor__null-top-row--hidden\")\n      return\n\n    onSelectNewQuestionType: (evt)->\n      @question_name = @line.find('input').val()\n      $rowSelect = $('select.skiplogic__rowselect')\n      if $rowSelect.data('select2')\n        $rowSelect.select2('destroy')\n      rowType = $(evt.target).closest('.questiontypelist__item').data(\"menuItem\")\n\n      # if question name not provided by user, use default one for type or general one\n      if @question_name\n        questionLabelValue = @question_name.replace(/\\t/g, ' ')\n      else if rowType of $configs.defaultsForType\n        questionLabelValue = $configs.defaultsForType[rowType].label.value\n      else\n        questionLabelValue = $configs.defaultsGeneral.label.value\n\n      rowDetails =\n        type: rowType\n\n      if rowType is 'calculate'\n        rowDetails.calculation = questionLabelValue\n      else\n        rowDetails.label = questionLabelValue\n\n      options = {}\n      if (rowBefore = @options.spawnedFromView?.model)\n        options.after = rowBefore\n        survey = rowBefore.getSurvey()\n      else\n        survey = @options.survey\n        options.at = 0\n\n      newRow = survey.addRow(rowDetails, options)\n      newRow.linkUp(warnings: [], errors: [])\n      @hide()\n      return\n\n    ###\n    # Scrolls the newly opened element into the screen if it is being opened\n    # below the fold. Calling the function doesn't cause the scrolling\n    # to happen unless it passes the checks.\n    ###\n    scrollFormBuilder: (scrollBy)->\n      $row = @$el.parents('.survey__row')\n      if !$row.length\n        return\n\n      $fbC = @$el.parents('.form-builder__contents')\n\n      if $row.height() + $row.position().top + 50 > $fbC.height() + $fbC.prop('scrollTop')\n        $fbC.animate scrollTop: scrollBy\n      return\n\n  viewRowSelector\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./columnsHideDropdown.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport { hashHistory } from 'react-router';\nimport PopoverMenu from 'js/popoverMenu';\nimport {stores} from '../stores';\nimport assetStore from 'js/assetStore';\nimport Reflux from 'reflux';\nimport bem from 'js/bem';\nimport {actions} from '../actions';\nimport mixins from '../mixins';\nimport {dataInterface} from '../dataInterface';\nimport {\n  assign,\n  currentLang,\n  stringToColor,\n} from 'utils';\nimport {getLoginUrl} from 'js/router/routerUtils';\nimport {getAssetIcon} from 'js/assetUtils';\nimport {COMMON_QUERIES} from 'js/constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport {searches} from '../searches';\nimport {ListSearch} from '../components/list';\nimport HeaderTitleEditor from 'js/components/header/headerTitleEditor';\nimport SearchBox from 'js/components/header/searchBox';\nimport myLibraryStore from 'js/components/library/myLibraryStore';\nimport envStore from 'js/envStore';\n\nclass MainHeader extends Reflux.Component {\n  constructor(props){\n    super(props);\n    this.state = assign({\n      asset: false,\n      currentLang: currentLang(),\n      isLanguageSelectorVisible: false,\n      formFiltersContext: searches.getSearchContext('forms', {\n        filterParams: {\n          assetType: COMMON_QUERIES.s,\n        },\n        filterTags: COMMON_QUERIES.s,\n      }),\n    }, stores.pageState.state);\n    this.stores = [\n      stores.session,\n      stores.pageState,\n    ];\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      assetStore.listen(this.onAssetLoad),\n      myLibraryStore.listen(this.forceRender)\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  /*\n   * NOTE: this should be updated to `getDerivedStateFromProps` but causes Error:\n   * Warning: Unsafe legacy lifecycles will not be called for components using new component APIs.\n   * MainHeader uses getDerivedStateFromProps() but also contains the following legacy lifecycles:\n   * componentWillMount\n   */\n  componentWillUpdate(newProps) {\n    if (this.props.assetid !== newProps.assetid) {\n      this.setState({asset: false});\n      // we need new asset here, but instead of duplicating a call, we wait for\n      // action triggered by other component (route component)\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.assetid !== this.props.assetid && this.props.assetid !== null) {\n      actions.resources.loadAsset({id: this.props.assetid});\n    }\n  }\n\n  forceRender() {\n    this.setState(this.state);\n  }\n\n  isSearchBoxDisabled() {\n    if (this.isMyLibrary()) {\n      // disable search when user has zero assets\n      return myLibraryStore.getCurrentUserTotalAssets() === null;\n    } else {\n      return false;\n    }\n  }\n\n  onAssetLoad(data) {\n    const asset = data[this.props.assetid];\n    this.setState(assign({asset: asset}));\n  }\n\n  logout() {\n    actions.auth.logout();\n  }\n\n  toggleLanguageSelector() {\n    this.setState({isLanguageSelectorVisible: !this.state.isLanguageSelectorVisible});\n  }\n\n  accountSettings() {\n    // verifyLogin also refreshes stored profile data\n    actions.auth.verifyLogin.triggerAsync().then(() => {\n      hashHistory.push(ROUTES.ACCOUNT_SETTINGS);\n    });\n  }\n\n  languageChange(evt) {\n    evt.preventDefault();\n    let langCode = $(evt.target).data('key');\n    if (langCode) {\n      // use .always (instead of .done) here since Django 1.8 redirects the request\n      dataInterface.setLanguage({language: langCode}).always(() => {\n        if ('reload' in window.location) {\n          window.location.reload();\n        } else {\n          window.alert(t('Please refresh the page'));\n        }\n      });\n    }\n  }\n\n  renderLangItem(lang) {\n    return (\n      <bem.AccountBox__menuLI key={lang.value}>\n        <bem.AccountBox__menuLink onClick={this.languageChange} data-key={lang.value}>\n          {lang.label}\n        </bem.AccountBox__menuLink>\n      </bem.AccountBox__menuLI>\n    );\n  }\n\n  renderLoginButton() {\n    return (\n      <bem.LoginBox>\n        <a\n          href={getLoginUrl()}\n          className='kobo-button kobo-button--blue'\n        >\n          {t('Log In')}\n        </a>\n      </bem.LoginBox>\n    );\n  }\n\n  renderAccountNavMenu() {\n    let shouldDisplayUrls = false;\n    if (\n      envStore.isReady &&\n      typeof envStore.data.terms_of_service_url === 'string' &&\n      typeof envStore.data.terms_of_service_url.length >= 1\n    ) {\n      shouldDisplayUrls = true;\n    }\n    if (\n      envStore.isReady &&\n      typeof envStore.data.privacy_policy_url === 'string' &&\n      typeof envStore.data.privacy_policy_url.length >= 1\n    ) {\n      shouldDisplayUrls = true;\n    }\n\n    let langs = [];\n    if (envStore.isReady && envStore.data.interface_languages) {\n      langs = envStore.data.interface_languages;\n    }\n    if (stores.session.isLoggedIn) {\n      var accountName = stores.session.currentAccount.username;\n      var accountEmail = stores.session.currentAccount.email;\n\n      var initialsStyle = {background: `#${stringToColor(accountName)}`};\n      var accountMenuLabel = <bem.AccountBox__initials style={initialsStyle}>{accountName.charAt(0)}</bem.AccountBox__initials>;\n\n      return (\n        <bem.AccountBox>\n          <PopoverMenu type='account-menu'\n                          triggerLabel={accountMenuLabel}\n                          buttonType='text'>\n              <bem.AccountBox__menu>\n                <bem.AccountBox__menuLI key='1'>\n                  <bem.AccountBox__menuItem m={'avatar'}>\n                    {accountMenuLabel}\n                  </bem.AccountBox__menuItem>\n                  <bem.AccountBox__menuItem m={'mini-profile'}>\n                    <span className='account-username'>{accountName}</span>\n                    <span className='account-email'>{accountEmail}</span>\n                  </bem.AccountBox__menuItem>\n                  <bem.AccountBox__menuItem m={'settings'}>\n                    <bem.KoboButton onClick={this.accountSettings} m={['blue', 'fullwidth']}>\n                      {t('Account Settings')}\n                    </bem.KoboButton>\n                  </bem.AccountBox__menuItem>\n                </bem.AccountBox__menuLI>\n                {shouldDisplayUrls &&\n                  <bem.AccountBox__menuLI key='2' className='environment-links'>\n                    {envStore.data.terms_of_service_url &&\n                      <a href={envStore.data.terms_of_service_url} target='_blank'>\n                        {t('Terms of Service')}\n                      </a>\n                    }\n                    {envStore.data.privacy_policy_url &&\n                      <a href={envStore.data.privacy_policy_url} target='_blank'>\n                        {t('Privacy Policy')}\n                      </a>\n                    }\n                  </bem.AccountBox__menuLI>\n                }\n                <bem.AccountBox__menuLI m={'lang'} key='3'>\n                  <bem.AccountBox__menuLink onClick={this.toggleLanguageSelector} data-popover-menu-stop-blur tabIndex='0'>\n                    <i className='k-icon k-icon-language' />\n                    {t('Language')}\n                  </bem.AccountBox__menuLink>\n\n                  {this.state.isLanguageSelectorVisible &&\n                    <ul>\n                      {langs.map(this.renderLangItem)}\n                    </ul>\n                  }\n                </bem.AccountBox__menuLI>\n                <bem.AccountBox__menuLI m={'logout'} key='4'>\n                  <bem.AccountBox__menuLink onClick={this.logout}>\n                    <i className='k-icon k-icon-logout' />\n                    {t('Logout')}\n                  </bem.AccountBox__menuLink>\n                </bem.AccountBox__menuLI>\n              </bem.AccountBox__menu>\n          </PopoverMenu>\n        </bem.AccountBox>\n      );\n    }\n\n    return null;\n  }\n\n  renderGitRevInfo() {\n    if (stores.session.currentAccount && stores.session.currentAccount.git_rev) {\n      var gitRev = stores.session.currentAccount.git_rev;\n      return (\n        <bem.GitRev>\n          <bem.GitRev__item>\n            branch: {gitRev.branch}\n          </bem.GitRev__item>\n          <bem.GitRev__item>\n            commit: {gitRev.short}\n          </bem.GitRev__item>\n        </bem.GitRev>\n      );\n    }\n\n    return false;\n  }\n\n  toggleFixedDrawer() {\n    stores.pageState.toggleFixedDrawer();\n  }\n\n  render() {\n    const isLoggedIn = stores.session.isLoggedIn;\n\n    let userCanEditAsset = false;\n    if (this.state.asset) {\n      userCanEditAsset = this.userCan('change_asset', this.state.asset);\n    }\n\n    let iconClassName = '';\n    if (this.state.asset) {\n      iconClassName = getAssetIcon(this.state.asset);\n    }\n\n    let librarySearchBoxPlaceholder = t('Search My Library');\n    if (this.isPublicCollections()) {\n      librarySearchBoxPlaceholder = t('Search Public Collections');\n    }\n\n    return (\n        <bem.MainHeader className='mdl-layout__header'>\n          <div className='mdl-layout__header-row'>\n            {stores.session.isLoggedIn &&\n              <bem.Button m='icon' onClick={this.toggleFixedDrawer}>\n                <i className='k-icon k-icon-menu' />\n              </bem.Button>\n            }\n            <span className='mdl-layout-title'>\n              <a href='/'>\n                <bem.Header__logo />\n              </a>\n            </span>\n            { isLoggedIn && this.isFormList() &&\n              <div className='mdl-layout__header-searchers'>\n                <ListSearch searchContext={this.state.formFiltersContext} placeholderText={t('Search Projects')} />\n              </div>\n            }\n            { isLoggedIn && (this.isMyLibrary() || this.isPublicCollections()) &&\n              <div className='mdl-layout__header-searchers'>\n                <SearchBox\n                  placeholder={librarySearchBoxPlaceholder}\n                  disabled={this.isSearchBoxDisabled()}\n                />\n              </div>\n            }\n            { !this.isLibrary() && this.state.asset && this.isFormSingle() &&\n              <React.Fragment>\n                <bem.MainHeader__icon className={iconClassName} />\n\n                <HeaderTitleEditor\n                  asset={this.state.asset}\n                  isEditable={userCanEditAsset}\n                />\n\n                { this.isFormSingle() && this.state.asset.has_deployment &&\n                  <bem.MainHeader__counter>\n                    {this.state.asset.deployment__submission_count} {t('submissions')}\n                  </bem.MainHeader__counter>\n                }\n              </React.Fragment>\n            }\n            {this.renderAccountNavMenu()}\n            { !isLoggedIn && this.renderLoginButton()}\n          </div>\n          {this.renderGitRevInfo()}\n        </bem.MainHeader>\n      );\n  }\n}\n\nreactMixin(MainHeader.prototype, Reflux.ListenerMixin);\nreactMixin(MainHeader.prototype, mixins.contextRouter);\nreactMixin(MainHeader.prototype, mixins.permissions);\n\nMainHeader.contextTypes = {router: PropTypes.object};\n\nexport default MainHeader;\n","import React from 'react';\nimport Reflux from 'reflux';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport alertify from 'alertifyjs';\nimport bem from 'js/bem';\nimport assetStore from 'js/assetStore';\nimport {actions} from 'js/actions';\nimport {removeInvalidChars, getAssetDisplayName} from 'js/assetUtils';\nimport {\n  KEY_CODES,\n  NAME_MAX_LENGTH,\n  ASSET_TYPES\n} from 'js/constants';\n\n/**\n * @prop {object} asset\n * @prop {boolean} isEditable\n */\nclass HeaderTitleEditor extends React.Component {\n  constructor(props){\n    super(props);\n    this.typingTimer = null;\n    this.state = {\n      name: this.props.asset.name,\n      isPending: false\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(assetStore, this.onAssetLoad);\n  }\n\n  onAssetLoad() {\n    this.setState({\n      name: this.props.asset.name,\n      isPending: false\n    });\n  }\n\n  updateAssetTitle() {\n    // surveys are required to have name\n    if (!this.state.name.trim() && this.props.asset.asset_type === ASSET_TYPES.survey.id) {\n      alertify.error(t('Please enter a title for your ##type##').replace('##type##', ASSET_TYPES[this.props.asset.asset_type].label));\n      return false;\n    } else {\n      this.setState({isPending: true});\n      actions.resources.updateAsset(\n        this.props.asset.uid,\n        {name: this.state.name}\n      );\n      return true;\n    }\n  }\n\n  assetTitleChange(evt) {\n    this.setState({name: removeInvalidChars(evt.target.value)});\n    clearTimeout(this.typingTimer);\n    this.typingTimer = setTimeout(this.updateAssetTitle.bind(this), 1500);\n  }\n\n  assetTitleKeyDown(evt) {\n    if (evt.keyCode === KEY_CODES.ENTER) {\n      clearTimeout(this.typingTimer);\n      if (this.updateAssetTitle()) {\n        evt.currentTarget.blur();\n      }\n    }\n  }\n\n  render() {\n    const modifiers = [];\n    if (\n      typeof this.state.name === 'string' &&\n      this.state.name.length > 125\n    ) {\n      modifiers.push('long');\n    }\n\n    let placeholder = '';\n    const displayName = getAssetDisplayName(this.props.asset);\n    switch (this.props.asset.asset_type) {\n      case ASSET_TYPES.question.id:\n      case ASSET_TYPES.block.id:\n      case ASSET_TYPES.template.id:\n        if (displayName.question) {\n          placeholder = displayName.question;\n        } else {\n          placeholder = t('untitled ##type##').replace('##type##', ASSET_TYPES[this.props.asset.asset_type].label);\n        }\n        break;\n      case ASSET_TYPES.collection.id:\n        placeholder = t('untitled collection');\n        break;\n      case ASSET_TYPES.survey.id:\n        placeholder = t('project title');\n        break;\n    }\n\n    return (\n      <bem.MainHeader__title m={modifiers}>\n        <input\n          type='text'\n          name='title'\n          maxLength={NAME_MAX_LENGTH}\n          placeholder={placeholder}\n          value={this.state.name}\n          onChange={this.assetTitleChange.bind(this)}\n          onKeyDown={this.assetTitleKeyDown.bind(this)}\n          disabled={!this.props.isEditable || this.state.isPending}\n        />\n      </bem.MainHeader__title>\n    );\n  }\n}\n\nreactMixin(HeaderTitleEditor.prototype, Reflux.ListenerMixin);\n\nexport default HeaderTitleEditor;\n","import _ from 'underscore';\nimport React from 'react';\nimport Reflux from 'reflux';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {searchBoxStore} from './searchBoxStore';\nimport {KEY_CODES} from 'js/constants';\n\n/**\n * @prop {string} placeholder - A text to be displayed in empty input.\n * @prop {boolean} disabled - For disabling input.\n */\nexport default class SearchBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputVal: searchBoxStore.getSearchPhrase()\n    };\n    this.setSearchPhraseDebounced = _.debounce(this.setSearchPhrase, 500);\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(searchBoxStore, this.searchBoxStoreChanged);\n  }\n\n  searchBoxStoreChanged(store) {\n    this.setState({inputVal: store.searchPhrase});\n  }\n\n  onInputChange(evt) {\n    const newVal = evt.target.value;\n    // set `inpuVal` immediately, but update store after some time\n    // to avoid unnecessary updates while typing\n    this.setState({inputVal: newVal});\n    this.setSearchPhraseDebounced(newVal);\n  }\n\n  onInputKeyUp(evt) {\n    if (evt.keyCode === KEY_CODES.ENTER) {\n      this.setSearchPhrase(evt.target.value.trim());\n    }\n  }\n\n  setSearchPhrase(searchPhrase) {\n    searchBoxStore.setSearchPhrase(searchPhrase.trim());\n  }\n\n  clear() {\n    searchBoxStore.clear();\n  }\n\n  render() {\n    return (\n      <bem.Search>\n        <bem.Search__icon className='k-icon k-icon-search'/>\n        <bem.SearchInput\n          type='text'\n          value={this.state.inputVal}\n          onChange={this.onInputChange}\n          onKeyUp={this.onInputKeyUp}\n          placeholder={this.props.placeholder || t('Search…')}\n          disabled={this.props.disabled}\n        />\n        {this.state.inputVal !== '' &&\n          <bem.Search__cancel className='k-icon k-icon-close' onClick={this.clear}/>\n        }\n      </bem.Search>\n    );\n  }\n}\n\nreactMixin(SearchBox.prototype, Reflux.ListenerMixin);\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport KoboTagsInput from 'js/components/common/koboTagsInput';\nimport alertify from 'alertifyjs';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {dataInterface} from '../../dataInterface';\nimport {actions} from '../../actions';\nimport {stores} from '../../stores';\nimport Select from 'react-select';\nimport Checkbox from 'js/components/common/checkbox';\nimport Radio from 'js/components/common/radio';\nimport TextBox from 'js/components/common/textBox';\nimport {KEY_CODES} from 'js/constants';\nimport envStore from 'js/envStore';\n\nconst EXPORT_TYPES = {\n  json: {\n    value: 'json',\n    label: t('JSON')\n  },\n  xml: {\n    value: 'xml',\n    label: t('XML')\n  }\n};\n\nconst AUTH_OPTIONS = {\n  no_auth: {\n    value: 'no_auth',\n    label: t('No Authorization')\n  },\n  basic_auth: {\n    value: 'basic_auth',\n    label: t('Basic Authorization')\n  }\n};\n\nexport default class RESTServicesForm extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isLoadingHook: true,\n      isSubmitPending: false,\n      assetUid: props.assetUid,\n      // will be empty if creating new service\n      hookUid: props.hookUid,\n      name: '',\n      nameError: null,\n      endpoint: '',\n      endpointError: null,\n      type: EXPORT_TYPES.json.value,\n      typeOptions: [\n        EXPORT_TYPES.json,\n        EXPORT_TYPES.xml\n      ],\n      isActive: true,\n      emailNotification: true,\n      authLevel: null,\n      authOptions: [\n        AUTH_OPTIONS.no_auth,\n        AUTH_OPTIONS.basic_auth\n      ],\n      authUsername: '',\n      authPassword: '',\n      subsetFields: [],\n      customHeaders: [\n        this.getEmptyHeaderRow()\n      ],\n      payloadTemplate: '',\n      payloadTemplateErrors: []\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.hookUid) {\n      dataInterface.getHook(this.state.assetUid, this.state.hookUid)\n        .done((data) => {\n          const stateUpdate = {\n            isLoadingHook: false,\n            name: data.name,\n            endpoint: data.endpoint,\n            isActive: data.active,\n            emailNotification: data.email_notification,\n            subsetFields: data.subset_fields || [],\n            type: data.export_type,\n            authLevel: AUTH_OPTIONS[data.auth_level] || null,\n            customHeaders: this.headersObjToArr(data.settings.custom_headers),\n            payloadTemplate: data.payload_template\n          };\n\n          if (stateUpdate.customHeaders.length === 0) {\n            stateUpdate.customHeaders.push(this.getEmptyHeaderRow());\n          }\n          if (data.settings.username) {\n            stateUpdate.authUsername = data.settings.username;\n          }\n          if (data.settings.password) {\n            stateUpdate.authPassword = data.settings.password;\n          }\n\n          this.setState(stateUpdate);\n        })\n        .fail(() => {\n          this.setState({isSubmitPending: false});\n          alertify.error(t('Could not load REST Service'));\n        });\n    } else {\n      this.setState({isLoadingHook: false});\n    }\n  }\n\n  /*\n   * helpers\n   */\n\n  getEmptyHeaderRow() {\n    return {name: '', value: ''};\n  }\n\n  headersObjToArr(headersObj) {\n    const headersArr = [];\n    for (let header in headersObj) {\n      if (headersObj.hasOwnProperty(header)) {\n        headersArr.push({\n          name: header,\n          value: headersObj[header]\n        });\n      }\n    }\n    return headersArr;\n  }\n\n  headersArrToObj(headersArr) {\n    const headersObj = {};\n    for (const header of headersArr) {\n      if (header.name) {\n        headersObj[header.name] = header.value;\n      }\n    }\n    return headersObj;\n  }\n\n  /*\n   * user input handling\n   */\n\n  handleNameChange(newName) {\n    this.setState({\n      name: newName,\n      nameError: null\n    });\n  }\n\n  handleEndpointChange(newEndpoint) {\n    this.setState({\n      endpoint: newEndpoint,\n      endpointError: null\n    });\n  }\n\n  handleAuthTypeChange(evt) {this.setState({authLevel: evt});}\n\n  handleAuthUsernameChange(newUsername) {this.setState({authUsername: newUsername});}\n\n  handleAuthPasswordChange(newPassword) {this.setState({authPassword: newPassword});}\n\n  handleActiveChange(isChecked) {this.setState({isActive: isChecked});}\n\n  handleEmailNotificationChange(isChecked) {\n    this.setState({emailNotification: isChecked});\n  }\n\n  handleTypeRadioChange(name, value) {this.setState({[name]: value});}\n\n  handleCustomHeaderChange(evt) {\n    const propName = evt.target.name;\n    const propValue = evt.target.value;\n    const index = evt.target.dataset.index;\n    const newCustomHeaders = this.state.customHeaders;\n    if (propName === 'headerName') {\n      newCustomHeaders[index].name = propValue;\n    }\n    if (propName === 'headerValue') {\n      newCustomHeaders[index].value = propValue;\n    }\n    this.setState({customHeaders: newCustomHeaders});\n  }\n\n  handleCustomWrapperChange(newVal) {\n    this.setState({\n      payloadTemplate: newVal,\n      payloadTemplateErrors: []\n    });\n  }\n\n  /*\n   * submitting form\n   */\n\n  getDataForBackend() {\n    let authLevel = AUTH_OPTIONS.no_auth.value;\n    if (this.state.authLevel !== null) {\n      authLevel = this.state.authLevel.value;\n    }\n\n    const data = {\n      name: this.state.name,\n      endpoint: this.state.endpoint,\n      active: this.state.isActive,\n      subset_fields: this.state.subsetFields,\n      email_notification: this.state.emailNotification,\n      export_type: this.state.type,\n      auth_level: authLevel,\n      settings: {\n        custom_headers: this.headersArrToObj(this.state.customHeaders)\n      },\n      payload_template: this.state.payloadTemplate\n    };\n\n    if (this.state.authUsername) {\n      data.settings.username = this.state.authUsername;\n    }\n    if (this.state.authPassword) {\n      data.settings.password = this.state.authPassword;\n    }\n    return data;\n  }\n\n  validateForm() {\n    let isValid = true;\n    if (this.state.name.trim() === '') {\n      this.setState({nameError: t('Name required')});\n      isValid = false;\n    }\n    if (this.state.endpoint.trim() === '') {\n      this.setState({endpointError: t('URL required')});\n      isValid = false;\n    }\n    return isValid;\n  }\n\n  onSubmit(evt) {\n    evt.preventDefault();\n\n    if (!this.validateForm()) {\n      alertify.error(t('Please enter both name and url of your service.'));\n      return;\n    }\n\n    const callbacks = {\n      onComplete: () => {\n        stores.pageState.hideModal();\n        actions.resources.loadAsset({id: this.state.assetUid});\n      },\n      onFail: (data) => {\n        let payloadTemplateErrors = [];\n        if (\n          data.responseJSON &&\n          data.responseJSON.payload_template &&\n          data.responseJSON.payload_template.length !== 0\n        ) {\n          payloadTemplateErrors = data.responseJSON.payload_template;\n        }\n        this.setState({\n          payloadTemplateErrors: payloadTemplateErrors,\n          isSubmitPending: false\n        });\n      },\n    };\n\n    this.setState({isSubmitPending: true});\n    if (this.state.hookUid) {\n      actions.hooks.update(\n        this.state.assetUid,\n        this.state.hookUid,\n        this.getDataForBackend(),\n        callbacks\n      );\n    } else {\n      actions.hooks.add(\n        this.state.assetUid,\n        this.getDataForBackend(),\n        callbacks\n      );\n    }\n    return false;\n  }\n\n  /*\n   * handle custom headers\n   */\n\n onCustomHeaderInputKeyPress(evt) {\n   if (evt.keyCode === KEY_CODES.ENTER && evt.currentTarget.name === 'headerName') {\n     evt.preventDefault();\n     $(evt.currentTarget).parent().find('input[name=\"headerValue\"]').focus();\n   }\n   if (evt.keyCode === KEY_CODES.ENTER && evt.currentTarget.name === 'headerValue') {\n     evt.preventDefault();\n     this.addNewCustomHeaderRow();\n   }\n }\n\n  addNewCustomHeaderRow(evt) {\n    if (evt) {\n      evt.preventDefault();\n    }\n    const newCustomHeaders = this.state.customHeaders;\n    newCustomHeaders.push(this.getEmptyHeaderRow());\n    this.setState({customHeaders: newCustomHeaders});\n    setTimeout(() => {\n      $('input[name=\"headerName\"]').last().focus();\n    }, 0);\n  }\n\n  removeCustomHeaderRow(evt) {\n    evt.preventDefault();\n    const newCustomHeaders = this.state.customHeaders;\n    const rowIndex = evt.currentTarget.dataset.index;\n    newCustomHeaders.splice(rowIndex, 1);\n    if (newCustomHeaders.length === 0) {\n      newCustomHeaders.push(this.getEmptyHeaderRow());\n    }\n    this.setState({customHeaders: newCustomHeaders});\n  }\n\n  renderCustomHeaders() {\n    return (\n      <bem.FormModal__item m='http-headers'>\n        <label>\n          {t('Custom HTTP Headers')}\n        </label>\n\n        {this.state.customHeaders.map((item, n) => {\n          return (\n            <bem.FormModal__item m='http-header-row' key={n}>\n              <input\n                type='text'\n                placeholder={t('Name')}\n                id={`headerName-${n}`}\n                name='headerName'\n                value={this.state.customHeaders[n].name}\n                data-index={n}\n                onChange={this.handleCustomHeaderChange}\n                onKeyPress={this.onCustomHeaderInputKeyPress}\n              />\n\n              <input\n                type='text'\n                placeholder={t('Value')}\n                id={`headerValue-${n}`}\n                name='headerValue'\n                value={this.state.customHeaders[n].value}\n                data-index={n}\n                onChange={this.handleCustomHeaderChange}\n                onKeyPress={this.onCustomHeaderInputKeyPress}\n              />\n\n              <bem.Button\n                m='icon'\n                className='http-header-row-remove'\n                data-index={n}\n                onClick={this.removeCustomHeaderRow}\n              >\n                <i className='k-icon k-icon-trash'/>\n              </bem.Button>\n            </bem.FormModal__item>\n          );\n        })}\n\n        <bem.KoboButton\n          m='small'\n          onClick={this.addNewCustomHeaderRow}\n        >\n          <i className='k-icon k-icon-plus' />\n          {t('Add header')}\n        </bem.KoboButton>\n      </bem.FormModal__item>\n    );\n  }\n\n  /*\n   * handle fields\n   */\n\n  onSubsetFieldsChange(newValue) {\n    this.setState({subsetFields: newValue.split(',')});\n  }\n\n  renderFieldsSelector() {\n    return (\n      <bem.FormModal__item>\n        <KoboTagsInput\n          tags={this.state.subsetFields.join(',')}\n          onChange={this.onSubsetFieldsChange}\n          placeholder={t('Add field(s)')}\n          label={t('Select fields subset')}\n        />\n      </bem.FormModal__item>\n    );\n  }\n\n  /*\n   * rendering\n   */\n\n  render() {\n    const isEditingExistingHook = Boolean(this.state.hookUid);\n\n    if (this.state.isLoadingHook) {\n      return (<LoadingSpinner/>);\n    } else {\n      let submissionPlaceholder = '%SUBMISSION%';\n      if (envStore.isReady && envStore.data.submission_placeholder) {\n        submissionPlaceholder = envStore.data.submission_placeholder;\n      }\n\n      return (\n        <bem.FormModal__form onSubmit={this.onSubmit.bind(this)}>\n          <bem.FormModal__item m='wrapper'>\n            <bem.FormModal__item>\n              <TextBox\n                label={t('Name')}\n                type='text'\n                placeholder={t('Service Name')}\n                value={this.state.name}\n                errors={this.state.nameError}\n                onChange={this.handleNameChange.bind(this)}\n              />\n            </bem.FormModal__item>\n\n            <bem.FormModal__item>\n              <TextBox\n                label={t('Endpoint URL')}\n                type='text'\n                placeholder={t('https://')}\n                value={this.state.endpoint}\n                errors={this.state.endpointError}\n                onChange={this.handleEndpointChange.bind(this)}\n              />\n            </bem.FormModal__item>\n\n            <bem.FormModal__item>\n              <Checkbox\n                name='isActive'\n                onChange={this.handleActiveChange.bind(this)}\n                checked={this.state.isActive}\n                label={t('Enabled')}\n              />\n            </bem.FormModal__item>\n\n            <bem.FormModal__item>\n              <Checkbox\n                name='emailNotification'\n                onChange={this.handleEmailNotificationChange.bind(this)}\n                checked={this.state.emailNotification}\n                label={t('Receive emails notifications')}\n              />\n            </bem.FormModal__item>\n\n            <bem.FormModal__item>\n              <Radio\n                name='type'\n                options={this.state.typeOptions}\n                onChange={this.handleTypeRadioChange.bind(this)}\n                selected={this.state.type}\n                title={t('Type')}\n              />\n            </bem.FormModal__item>\n\n            <bem.FormModal__item>\n              <label htmlFor='rest-service-form--security'>\n                {t('Security')}\n              </label>\n\n              <Select\n                value={this.state.authLevel}\n                options={this.state.authOptions}\n                onChange={this.handleAuthTypeChange.bind(this)}\n                className='kobo-select'\n                classNamePrefix='kobo-select'\n                id='rest-service-form--security'\n                name='authLevel'\n                menuPlacement='auto'\n                isSearchable={false}\n              />\n            </bem.FormModal__item>\n\n            {this.state.authLevel && this.state.authLevel.value === AUTH_OPTIONS.basic_auth.value &&\n              <bem.FormModal__item>\n                <TextBox\n                  label={t('Username')}\n                  type='text'\n                  value={this.state.authUsername}\n                  onChange={this.handleAuthUsernameChange.bind(this)}\n                />\n\n                <TextBox\n                  label={t('Password')}\n                  type='text'\n                  value={this.state.authPassword}\n                  onChange={this.handleAuthPasswordChange.bind(this)}\n                />\n              </bem.FormModal__item>\n            }\n\n            {this.renderFieldsSelector()}\n\n            {this.renderCustomHeaders()}\n\n            {this.state.type === EXPORT_TYPES.json.value &&\n              <bem.FormModal__item m='rest-custom-wrapper'>\n                <TextBox\n                  label={t('Add custom wrapper around JSON submission (%SUBMISSION% will be replaced by JSON)').replace('%SUBMISSION%', submissionPlaceholder)}\n                  type='text-multiline'\n                  placeholder={t('Add Custom Wrapper')}\n                  value={this.state.payloadTemplate}\n                  errors={this.state.payloadTemplateErrors}\n                  onChange={this.handleCustomWrapperChange.bind(this)}\n                />\n              </bem.FormModal__item>\n            }\n          </bem.FormModal__item>\n\n          <bem.Modal__footer>\n            <bem.KoboButton\n              m='blue'\n              onClick={this.onSubmit}\n              disabled={this.state.isSubmitPending}\n            >\n              { isEditingExistingHook ? t('Save') : t('Create') }\n            </bem.KoboButton>\n          </bem.Modal__footer>\n        </bem.FormModal__form>\n      );\n    }\n  }\n}\n","import {actions} from '../actions';\nimport {notify} from 'utils';\nimport {unnullifyTranslations} from 'js/components/formBuilder/formBuilderUtils';\n\nclass SurveyScope {\n  constructor ({survey, rawSurvey, assetType}) {\n    this.survey = survey;\n    this.rawSurvey = rawSurvey;\n    this.assetType = assetType;\n  }\n  add_row_to_question_library (row, assetContent) {\n    if (row.constructor.kls === 'Row') {\n      var rowJSON = row.toJSON2();\n      let content;\n      var surv = this.survey.toFlatJSON();\n      /*\n       * Apply translations \"hack\" again for saving single questions to library\n       * Since `unnullifyTranslations` requires the whole survey, we need to\n       * fish out the saved row and its translation settings out of the unnullified return\n       */\n      var unnullifiedContent = JSON.parse(unnullifyTranslations(JSON.stringify(surv), assetContent));\n      var settingsObj = unnullifiedContent.settings;\n      var surveyObj = unnullifiedContent.survey;\n      if (rowJSON.type === 'select_one' || rowJSON.type === 'select_multiple') {\n        var choices = unnullifiedContent.choices.filter(s => s.list_name === rowJSON.select_from_list_name);\n        for (var i in surveyObj) {\n          if (surveyObj[i].$kuid == row.toJSON2().$kuid) {\n            content = JSON.stringify({\n              survey: [\n                surveyObj[i]\n              ],\n              choices: choices,\n              settings: settingsObj\n            });\n          }\n        }\n      } else {\n        for (var j in surveyObj) {\n          if (surveyObj[j].$kuid == row.toJSON2().$kuid) {\n            content = JSON.stringify({\n              survey: [\n                surveyObj[j]\n              ],\n              choices: choices,\n              settings: settingsObj\n            });\n          }\n        }\n      }\n      actions.resources.createResource.triggerAsync({\n        asset_type: 'question',\n        content: content\n      }).then(function(){\n        notify(t('question has been added to the library'));\n      });\n    } else {\n      console.error('cannot add group to question library');\n    }\n  }\n  handleItem({position, itemUid, groupId}) {\n    if (!itemUid) {\n      throw new Error('itemUid not provided!');\n    }\n\n    actions.survey.addExternalItemAtPosition({\n      position: position,\n      uid: itemUid,\n      survey: this.survey,\n      groupId: groupId\n    });\n  }\n}\n\nexport default SurveyScope;\n","// TODO: this shouldn't be a mixin (wtf)\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bem, {makeBem} from 'js/bem';\nimport dkobo_xlform from '../../xlform/src/_xlform.init';\nimport _ from 'underscore';\nimport envStore from 'js/envStore';\n\nbem.CascadePopup = makeBem(null, 'cascade-popup');\nbem.CascadePopup__message = makeBem(bem.CascadePopup, 'message');\nbem.CascadePopup__buttonWrapper = makeBem(bem.CascadePopup, 'buttonWrapper');\nbem.CascadePopup__button = makeBem(bem.CascadePopup, 'button', 'button');\n\nconst CHOICE_LIST_SUPPORT_URL = 'cascading_select.html';\n\nexport const cascadeMixin = {\n  toggleCascade () {\n    var lastSelectedRow = _.last(this.app.selectedRows()),\n        lastSelectedRowIndex = lastSelectedRow ? this.app.survey.rows.indexOf(lastSelectedRow) : -1;\n    this.setState({\n      showCascadePopup: !this.state.showCascadePopup,\n      cascadeTextareaValue: '',\n      cascadeLastSelectedRowIndex: lastSelectedRowIndex,\n    });\n  },\n  cancelCascade () {\n    this.setState({\n      cascadeError: false,\n      cascadeReady: false,\n      cascadeReadySurvey: false,\n      addCascadePopup: false,\n      cascadeTextareaValue: '',\n      cascadeStr: '',\n      showCascadePopup: false,\n    });\n  },\n  cascadePopopChange (evt) {\n    var s = {\n      cascadeTextareaValue: ReactDOM.findDOMNode(this.refs.cascade).value,\n    }\n    // if (s.cascadeTextareaValue.length === 0) {\n    //   return this.cancelCascade();\n    // }\n    try {\n      var inp = dkobo_xlform.model.utils.split_paste(s.cascadeTextareaValue);\n      var tmpSurvey = new dkobo_xlform.model.Survey({\n        survey: [],\n        choices: inp\n      });\n      if (tmpSurvey.choices.length === 0) {\n        throw new Error(t('Paste your formatted table from excel in the box below.'));\n      }\n      tmpSurvey.choices.at(0).create_corresponding_rows();\n      /*\n      tmpSurvey._addGroup({\n        __rows: tmpSurvey.rows.models,\n        label: '',\n      });\n      */\n      var rowCount = tmpSurvey.rows.length;\n      if (rowCount === 0) {\n        throw new Error(t('Paste your formatted table from excel in the box below.'));\n      }\n      s.cascadeReady = true;\n      s.cascadeReadySurvey = tmpSurvey;\n      s.cascadeMessage = {\n        msgType: 'ready',\n        addCascadeMessage: t('add cascade with # questions').replace('#', rowCount),\n      };\n    } catch (err) {\n      s.cascadeReady = false;\n      s.cascadeMessage = {\n        msgType: 'warning',\n        message: err.message,\n      }\n    }\n    this.setState(s);\n  },\n  renderCascadePopup () {\n    return (\n          <bem.CascadePopup>\n            {this.state.cascadeMessage ?\n              <bem.CascadePopup__message m={this.state.cascadeMessage.msgType}>\n                {this.state.cascadeMessage.message}\n              </bem.CascadePopup__message>\n            :\n              <bem.CascadePopup__message m='instructions'>\n                {t('Paste your formatted table from excel in the box below.')}\n              </bem.CascadePopup__message>\n            }\n\n            {this.state.cascadeReady ?\n              <bem.CascadePopup__message m='ready'>\n                {t('OK')}\n              </bem.CascadePopup__message>\n            : null}\n\n            <textarea ref='cascade' onChange={this.cascadePopopChange}\n              value={this.state.cascadeTextareaValue} />\n\n            { envStore.isReady &&\n              envStore.data.support_url &&\n              <div className='cascade-help right-tooltip'>\n                <a href={envStore.data.support_url + CHOICE_LIST_SUPPORT_URL}\n                  target='_blank'\n                  data-tip={t('Learn more about importing cascading lists from Excel')}>\n                    <i className='k-icon k-icon-help' />\n                </a>\n              </div>\n            }\n\n            <bem.CascadePopup__buttonWrapper>\n              <bem.CascadePopup__button disabled={!this.state.cascadeReady}\n                onClick={()=>{\n                  var survey = this.app.survey;\n                  survey.insertSurvey(this.state.cascadeReadySurvey,\n                    this.state.cascadeLastSelectedRowIndex);\n                  this.cancelCascade();\n                }}>\n                {t('DONE')}\n              </bem.CascadePopup__button>\n            </bem.CascadePopup__buttonWrapper>\n          </bem.CascadePopup>\n      );\n  }\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport {stores} from 'js/stores';\nimport bem from 'js/bem';\nimport {searches} from 'js/searches';\nimport AssetName from 'js/components/common/assetName';\nimport {\n  COMMON_QUERIES,\n  ASSET_TYPES,\n} from 'js/constants';\nimport {\n  ListSearch,\n  ListTagFilter,\n  ListCollectionFilter,\n  ListExpandToggle,\n} from 'js/components/list';\n\nclass AssetNavigatorListView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.searchClear();\n    this.listenTo(this.searchStore, this.searchStoreChanged);\n  }\n\n  searchStoreChanged(searchStoreState) {\n    this.setState(searchStoreState);\n  }\n\n  activateSortable() {\n    if (!this.refs.liblist) {\n      return;\n    }\n\n    var $el = $(ReactDOM.findDOMNode(this.refs.liblist));\n    if ($el.hasClass('ui-sortable')) {\n      $el.sortable('destroy');\n    }\n    $el.sortable({\n      helper: 'clone',\n      cursor: 'move',\n      distance: 5,\n      items: '> li',\n      connectWith: [\n        '.survey-editor__list',\n        '.group__rows',\n      ],\n      opacity: 0.9,\n      scroll: false,\n      deactivate: () => {\n        $el.sortable('cancel');\n      },\n    });\n  }\n\n  render() {\n    let list;\n    let count;\n    let status;\n    const isSearch = this.state.searchResultsDisplayed;\n\n    if (isSearch) {\n      status = this.state.searchState;\n      list = this.state.searchResultsList;\n      count = this.state.searchResultsCount;\n    } else {\n      status = this.state.defaultQueryState;\n      list = this.state.defaultQueryResultsList;\n      count = this.state.defaultQueryCount;\n    }\n\n\n    if (status !== 'done') {\n      return (\n          <bem.LibList m={'empty'}>\n            <bem.LibList__item m={'message'}>\n              {t('loading')}\n            </bem.LibList__item>\n          </bem.LibList>\n        );\n    } else if (count === 0) {\n      return (\n          <bem.LibList m={'empty'}>\n            <bem.LibList__item m={'message'}>\n              {t('no search results found')}\n            </bem.LibList__item>\n          </bem.LibList>\n        );\n    } else {\n\n      // TODO FIXME\n      // HACK: we activate sortable with timeout so it is rendered :puke:\n      window.setTimeout(() => {this.activateSortable();}, 1);\n\n      list = list.filter((item) => (\n        // HACK FIX: (ideally `survey`s would not be searched)\n        // Library questions can only be of `question` or `block` types\n        // Reject `survey` types to not include current survey on save\n        item.summary.row_count !== undefined &&\n        item.asset_type !== ASSET_TYPES.survey.id &&\n        item.asset_type !== ASSET_TYPES.collection.id\n      ));\n\n      return (\n        <bem.LibList m={['done', isSearch ? 'search' : 'default']} ref='liblist'>\n          {list.map((item) => {\n            var modifiers = [item.asset_type];\n            var summ = item.summary;\n            return (\n              <bem.LibList__item m={modifiers} key={item.uid} data-uid={item.uid}>\n                <bem.LibList__dragbox />\n                <bem.LibList__label m={'name'}>\n                  <AssetName asset={item} />\n                </bem.LibList__label>\n\n                { item.asset_type === 'block' &&\n                  <bem.LibList__qtype>\n                    {t('block of ___ questions').replace('___', summ.row_count)}\n                  </bem.LibList__qtype>\n                }\n\n                { (stores.pageState.state.assetNavExpanded && item.asset_type === 'block') &&\n                  <ol>\n                    {summ.labels.map((lbl, i) => (\n                      <li key={i}>{lbl}</li>\n                    ))}\n                  </ol>\n                }\n\n                { stores.pageState.state.assetNavExpanded &&\n                  <bem.LibList__tags>\n                    {(item.tags || []).map((tg, i) => (\n                      <bem.LibList__tag key={i}>{tg}</bem.LibList__tag>\n                    ))}\n                  </bem.LibList__tags>\n                }\n              </bem.LibList__item>\n            );\n          })}\n        </bem.LibList>\n      );\n    }\n  }\n}\n\nreactMixin(AssetNavigatorListView.prototype, searches.common);\nreactMixin(AssetNavigatorListView.prototype, Reflux.ListenerMixin);\n\nclass AssetNavigator extends Reflux.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchResults: {},\n      imports: [],\n      searchContext: searches.getSearchContext('library', {\n        filterParams: {\n          assetType: COMMON_QUERIES.qbt,\n        },\n      }),\n      selectedTags: [],\n    };\n    this.store = stores.tags;\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(stores.pageState, this.handlePageStateStore);\n    this.state.searchContext.mixin.searchDefault();\n  }\n\n  filterSearchResults(response) {\n    if (this.searchFieldValue() === response.query) {\n      return response.results;\n    }\n  }\n\n  handlePageStateStore(state) {\n    this.setState(state);\n  }\n\n  getImportsByStatus(n) {\n    return this.imports.filter((i) => i.status === n);\n  }\n\n  searchFieldValue() {\n    return this.refs.navigatorSearchBox.getValue();\n  }\n\n  toggleTagSelected(tag) {\n    let tags = this.state.selectedTags;\n    let _ti = tags.indexOf(tag);\n    if (_ti === -1) {\n      tags.push(tag);\n    } else {\n      tags.splice(tags.indexOf(_ti), 1);\n    }\n    this.setState({selectedTags: tags});\n  }\n\n  render() {\n    return (\n      <bem.LibNav>\n        <bem.LibNav__header>\n          <bem.LibNav__search>\n            <ListSearch\n              ref='navigatorSearchBox'\n              placeholder={t('search library')}\n              searchContext={this.state.searchContext}\n            />\n          </bem.LibNav__search>\n          <ListTagFilter searchContext={this.state.searchContext} />\n          <ListCollectionFilter searchContext={this.state.searchContext} />\n          <ListExpandToggle searchContext={this.state.searchContext} />\n        </bem.LibNav__header>\n\n        <bem.LibNav__content>\n          <AssetNavigatorListView searchContext={this.state.searchContext} />\n        </bem.LibNav__content>\n\n        <bem.LibNav__footer />\n      </bem.LibNav>\n    );\n  }\n}\n\nreactMixin(AssetNavigator.prototype, Reflux.connectFilter(stores.assetSearch, 'searchResults', AssetNavigator.prototype.filterSearchResults));\n\nexport default AssetNavigator;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport Checkbox from 'js/components/common/checkbox';\nimport TextBox from 'js/components/common/textBox';\nimport ToggleSwitch from 'js/components/common/toggleSwitch';\nimport Select from 'react-select';\nimport {assign} from 'utils';\nimport {\n  META_QUESTION_TYPES,\n  SURVEY_DETAIL_ATTRIBUTES,\n  FUNCTION_TYPE,\n} from 'js/constants';\nimport bem from 'js/bem';\nimport envStore from 'js/envStore';\n\nconst AUDIT_SUPPORT_URL = 'audit_logging.html';\nconst RECORDING_SUPPORT_URL = 'recording-interviews.html';\n\nconst AUDIO_QUALITY_OPTIONS = [\n  {value: 'quality=low', label: 'Low'},\n  {value: 'quality=normal', label: 'Normal'},\n  {value: 'quality=voice-only', label: 'Voice only'},\n];\nconst ODK_DEFAULT_AUDIO_QUALITY = AUDIO_QUALITY_OPTIONS[2];\n\n/**\n * @prop {object} survey\n * @prop {boolean} isDisabled whether everything is disabled\n * @prop {function} onChange\n */\nexport default class MetadataEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      metaProperties: [],\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.rebuildState();\n  }\n\n  rebuildState() {\n    const newState = {metaProperties: []};\n    Object.keys(META_QUESTION_TYPES).forEach((metaType) => {\n      const detail = this.getSurveyDetail(metaType);\n      if (detail) {\n        newState.metaProperties.push(assign({}, detail.attributes));\n      }\n    });\n    this.setState(newState);\n  }\n\n  getMetaProperty(metaType) {\n    return this.state.metaProperties.find(\n      (metaProp) => metaProp.name === metaType\n    );\n  }\n\n  getSurveyDetail(sdId) {\n    return this.props.survey.surveyDetails.filter(\n      (sd) => sd.attributes.name === sdId\n    )[0];\n  }\n\n  onCheckboxChange(name, isChecked) {\n    this.getSurveyDetail(name).set(\n      SURVEY_DETAIL_ATTRIBUTES.value.id,\n      isChecked\n    );\n    // Append parameters column with ODK_DEFAULT_AUDIO_QUALITY by default for\n    // background-audio type\n    if (isChecked && name === META_QUESTION_TYPES['background-audio']) {\n      this.getSurveyDetail(name).set(\n        SURVEY_DETAIL_ATTRIBUTES.parameters.id,\n        ODK_DEFAULT_AUDIO_QUALITY.value\n      );\n    }\n\n    this.rebuildState();\n    if (typeof this.props.onChange === FUNCTION_TYPE.function.id) {\n      this.props.onChange();\n    }\n  }\n\n  onAuditParametersChange(newVal) {\n    this.getSurveyDetail(META_QUESTION_TYPES.audit).set(\n      SURVEY_DETAIL_ATTRIBUTES.parameters.id,\n      newVal\n    );\n    this.rebuildState();\n    if (typeof this.props.onChange === FUNCTION_TYPE.function.id) {\n      this.props.onChange();\n    }\n  }\n\n  isAuditEnabled() {\n    const metaProp = this.getMetaProperty(META_QUESTION_TYPES.audit);\n    return metaProp.value === true;\n  }\n\n  onBackgroundAudioParametersChange(newVal) {\n    this.getSurveyDetail(META_QUESTION_TYPES['background-audio']).set(\n      SURVEY_DETAIL_ATTRIBUTES.parameters.id,\n      newVal.value\n    );\n    this.rebuildState();\n    if (typeof this.props.onChange === FUNCTION_TYPE.function.id) {\n      this.props.onChange();\n    }\n  }\n\n  isBackgroundAudioEnabled() {\n    const metaProp = this.getMetaProperty(\n      META_QUESTION_TYPES['background-audio']\n    );\n    return metaProp.value === true;\n  }\n\n  getBackgroundAudioParameters() {\n    const metaProp = this.getMetaProperty(\n      META_QUESTION_TYPES['background-audio']\n    );\n    let foundParams = ODK_DEFAULT_AUDIO_QUALITY;\n    if (metaProp.parameters) {\n      foundParams = AUDIO_QUALITY_OPTIONS.find(\n        (option) => option.value === metaProp.parameters\n      );\n    }\n    return foundParams;\n  }\n\n  getAuditParameters() {\n    const metaProp = this.getMetaProperty(META_QUESTION_TYPES.audit);\n    return metaProp.parameters;\n  }\n\n  renderAuditInputLabel() {\n    return (\n      <React.Fragment>\n        {t('Audit settings')}\n\n        {envStore.isReady &&\n          envStore.data.support_url && (\n            <bem.TextBox__labelLink\n              href={\n                envStore.data.support_url + AUDIT_SUPPORT_URL\n              }\n              target='_blank'\n            >\n              <i className='k-icon k-icon-help' />\n            </bem.TextBox__labelLink>\n          )}\n      </React.Fragment>\n    );\n  }\n\n  renderBackgroundAudioLabel() {\n    return (\n      <React.Fragment>\n        {t('Background audio')}\n\n        {envStore.isReady &&\n          envStore.data.support_url && (\n            <bem.TextBox__labelLink\n              // TODO update support article to include background-audio\n              href={\n                envStore.data.support_url +\n                RECORDING_SUPPORT_URL\n              }\n              target='_blank'\n            >\n              <i className='k-icon k-icon-help' />\n            </bem.TextBox__labelLink>\n          )}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    if (this.state.metaProperties.length === 0) {\n      return null;\n    }\n\n    const leftColumn = [\n      META_QUESTION_TYPES.start,\n      META_QUESTION_TYPES.end,\n      META_QUESTION_TYPES.today,\n      META_QUESTION_TYPES.deviceid,\n      META_QUESTION_TYPES.audit,\n    ];\n    const rightColumn = [\n      META_QUESTION_TYPES.username,\n      META_QUESTION_TYPES.simserial,\n      META_QUESTION_TYPES.subscriberid,\n      META_QUESTION_TYPES.phonenumber,\n    ];\n\n    let backgroundAudioProp = this.getMetaProperty(\n      META_QUESTION_TYPES['background-audio']\n    );\n\n    return (\n      <bem.FormBuilderMeta>\n        <bem.FormBuilderMeta__columns>\n          <bem.FormBuilderMeta__column>\n            {leftColumn.map((metaType) => {\n              const metaProp = this.getMetaProperty(metaType);\n              return (\n                <Checkbox\n                  key={`meta-${metaProp.name}`}\n                  label={metaProp.label}\n                  checked={metaProp.value}\n                  disabled={this.props.isDisabled}\n                  onChange={this.onCheckboxChange.bind(this, metaProp.name)}\n                />\n              );\n            })}\n          </bem.FormBuilderMeta__column>\n\n          <bem.FormBuilderMeta__column>\n            {rightColumn.map((metaType) => {\n              const metaProp = this.getMetaProperty(metaType);\n              return (\n                <Checkbox\n                  key={`meta-${metaProp.name}`}\n                  label={metaProp.label}\n                  checked={metaProp.value}\n                  disabled={this.props.isDisabled}\n                  onChange={this.onCheckboxChange.bind(this, metaProp.name)}\n                />\n              );\n            })}\n          </bem.FormBuilderMeta__column>\n        </bem.FormBuilderMeta__columns>\n\n        <bem.FormBuilderMeta__row m='background-audio'>\n          <bem.FormBuilderAside__header>\n            {this.renderBackgroundAudioLabel()}\n          </bem.FormBuilderAside__header>\n\n          <bem.FormModal__item>\n            <label className='long'>\n              {t('This functionality is available in ')}\n              <a title=\"Install KoBoCollect\"\n                target=\"_blank\"\n                href='https://play.google.com/store/apps/details?id=org.koboc.collect.android'>\n                {t('Collect version 1.30 and above')}\n              </a>\n            </label>\n\n            <ToggleSwitch\n              checked={backgroundAudioProp.value}\n              onChange={this.onCheckboxChange.bind(\n                this,\n                backgroundAudioProp.name\n              )}\n              label={\n                backgroundAudioProp.value\n                  ? t('This survey will be recorded')\n                  : t('Enable audio recording in the background')\n              }\n            />\n          </bem.FormModal__item>\n        </bem.FormBuilderMeta__row>\n\n        {this.isAuditEnabled() && (\n          <bem.FormBuilderMeta__row>\n            <TextBox\n              label={this.renderAuditInputLabel()}\n              value={this.getAuditParameters()}\n              disabled={this.props.isDisabled}\n              onChange={this.onAuditParametersChange}\n            />\n          </bem.FormBuilderMeta__row>\n        )}\n\n        {this.isBackgroundAudioEnabled() && (\n          <bem.FormBuilderMeta__row>\n            <bem.FormModal__item>\n              <label>{t('Audio quality')}</label>\n\n              <Select\n                className='kobo-select'\n                classNamePrefix='kobo-select'\n                value={this.getBackgroundAudioParameters()}\n                defaultValue={ODK_DEFAULT_AUDIO_QUALITY}\n                options={AUDIO_QUALITY_OPTIONS}\n                onChange={this.onBackgroundAudioParametersChange}\n              />\n            </bem.FormModal__item>\n          </bem.FormBuilderMeta__row>\n        )}\n      </bem.FormBuilderMeta>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {ASSET_TYPES} from 'js/constants';\nimport {\n  isAssetLocked,\n  isAssetAllLocked,\n  getFormFeatures,\n} from 'js/components/locking/lockingUtils';\n\n/**\n * @prop {object} asset\n */\nclass FormLockedMessage extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isOpen: false,\n    };\n    autoBind(this);\n  }\n\n  toggleMoreInfo(evt) {\n    evt.preventDefault();\n    this.setState({isOpen: !this.state.isOpen});\n  }\n\n  getMessageText() {\n    const isAllLocked = isAssetAllLocked(this.props.asset.content);\n    if (this.props.asset.asset_type === ASSET_TYPES.template.id) {\n      if (isAllLocked) {\n        // fully locked template\n        return t('This is a fully locked template. Go to question settings to see specific restrictions.');\n      } else {\n        // partially locked template\n        return t('This is a partially locked template. Go to question settings to see specific restrictions. Expand this notification to see form level restrictions.');\n      }\n    } else if (isAllLocked) {\n      // fully locked form\n      return t('This form was created using a fully locked template. This means no edits were permitted by the template creator.');\n    } else {\n      // partially locked form\n      return t('This form was created using a partially locked template. Go to question settings to see specific restrictions. Expand this notification to see form level restrictions.');\n    }\n  }\n\n  renderSeeMore() {\n    const features = getFormFeatures(this.props.asset.content);\n\n    return (\n      <React.Fragment>\n        <bem.FormBuilderMessageBox__toggle onClick={this.toggleMoreInfo}>\n          {t('see more')}\n          {this.state.isOpen && <i className='k-icon k-icon-up'/>}\n          {!this.state.isOpen && <i className='k-icon k-icon-down'/>}\n        </bem.FormBuilderMessageBox__toggle>\n\n        {this.state.isOpen &&\n          <bem.FormBuilderMessageBox__details>\n            <div className='locked-features'>\n              {features.cants.length >= 1 &&\n                <ul className='locked-features__list locked-features__list--cants'>\n                  <label>\n                    {t('Locked functionalities')}\n                  </label>\n                  {features.cants.map((cant) => {\n                    return (\n                      <li key={cant.name}>\n                        <i className='k-icon k-icon-close'/>\n                        {cant.label}\n                      </li>\n                    );\n                  })}\n                </ul>\n              }\n\n              {features.cans.length >= 1 &&\n                <ul className='locked-features__list locked-features__list--cans'>\n                  <label>\n                    {t('Unlocked functionalities')}\n                  </label>\n                  {features.cans.map((can) => {\n                    return (\n                      <li key={can.name}>\n                        <i className='k-icon k-icon-check'/>\n                        {can.label}\n                      </li>\n                    );\n                  })}\n                </ul>\n              }\n            </div>\n          </bem.FormBuilderMessageBox__details>\n        }\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    if (!isAssetLocked(this.props.asset.content)) {\n      return null;\n    }\n\n    const isAllLocked = isAssetAllLocked(this.props.asset.content);\n\n    return (\n      <bem.FormBuilderMessageBox>\n        <i className='k-icon k-icon-lock'/>\n\n        <p>{this.getMessageText()}</p>\n\n        {!isAllLocked && this.renderSeeMore()}\n      </bem.FormBuilderMessageBox>\n    );\n  }\n}\n\nexport default FormLockedMessage;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport reactMixin from 'react-mixin';\nimport enketoHandler from 'js/enketoHandler';\nimport Checkbox from 'js/components/common/checkbox';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {stores} from 'js/stores';\nimport mixins from 'js/mixins';\nimport ReactTable from 'react-table';\nimport ValidationStatusDropdown, { SHOW_ALL_OPTION } from 'js/components/submissions/validationStatusDropdown';\nimport {DebounceInput} from 'react-debounce-input';\nimport {\n  PERMISSIONS_CODENAMES,\n  VALIDATION_STATUSES,\n  VALIDATION_STATUSES_LIST,\n  MODAL_TYPES,\n  QUESTION_TYPES,\n  GROUP_TYPES_BEGIN,\n  META_QUESTION_TYPES,\n  ADDITIONAL_SUBMISSION_PROPS,\n  ENKETO_ACTIONS,\n} from 'js/constants';\nimport {formatTimeDateShort} from 'utils';\nimport {\n  renderQuestionTypeIcon,\n  getQuestionOrChoiceDisplayName,\n} from 'js/assetUtils';\nimport {\n  getRepeatGroupAnswers,\n  getMediaAttachment,\n} from 'js/components/submissions/submissionUtils';\nimport TableBulkOptions from 'js/components/submissions/tableBulkOptions';\nimport TableBulkCheckbox from 'js/components/submissions/tableBulkCheckbox';\nimport TableColumnSortDropdown from 'js/components/submissions/tableColumnSortDropdown';\nimport ColumnsHideDropdown from 'js/components/submissions/columnsHideDropdown';\nimport {\n  SORT_VALUES,\n  SUBMISSION_ACTIONS_ID,\n  VALIDATION_STATUS_ID_PROP,\n  DATA_TABLE_SETTING,\n  DATA_TABLE_SETTINGS,\n  TABLE_MEDIA_TYPES,\n  DEFAULT_DATA_CELL_WIDTH,\n  CELLS_WIDTH_OVERRIDES,\n} from 'js/components/submissions/tableConstants';\nimport {\n  getColumnLabel,\n  getColumnHXLTags,\n  getBackgroundAudioQuestionName,\n} from 'js/components/submissions/tableUtils';\nimport tableStore from 'js/components/submissions/tableStore';\nimport './table.scss';\nimport MediaCell from './mediaCell';\n\nconst DEFAULT_PAGE_SIZE = 30;\n\n/**\n * @prop {object} asset\n */\nexport class DataTable extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isInitialized: false, // for having asset with content\n      loading: true, // for fetching submissions data\n      submissions: [],\n      columns: [],\n      sids: [],\n      isFullscreen: false,\n      pageSize: 30,\n      currentPage: 0,\n      error: false,\n      showLabels: true,\n      translationIndex: 0,\n      showGroupName: true,\n      showHXLTags: false,\n      resultsTotal: 0,\n      selectedRows: {},\n      selectAll: false,\n      fetchState: false,\n      submissionPager: false,\n    };\n\n    this.unlisteners = [];\n\n    // Store this value only to be able to check whether user is scrolling\n    // horizontally or vertically.\n    this.tableScrollTop = 0;\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      tableStore.listen(this.onTableStoreChange),\n      stores.pageState.listen(this.onPageStateUpdated),\n      actions.resources.updateSubmissionValidationStatus.completed.listen(this.onSubmissionValidationStatusChange),\n      actions.resources.removeSubmissionValidationStatus.completed.listen(this.onSubmissionValidationStatusChange),\n      actions.table.updateSettings.completed.listen(this.onTableUpdateSettingsCompleted),\n      actions.resources.deleteSubmission.completed.listen(this.refreshSubmissions),\n      actions.resources.duplicateSubmission.completed.listen(this.onDuplicateSubmissionCompleted),\n      actions.resources.refreshTableSubmissions.completed.listen(this.refreshSubmissions),\n      actions.submissions.getSubmissions.completed.listen(this.onGetSubmissionsCompleted),\n      actions.submissions.getSubmissions.failed.listen(this.onGetSubmissionsFailed),\n      actions.submissions.bulkDeleteStatus.completed.listen(this.onBulkChangeCompleted),\n      actions.submissions.bulkPatchStatus.completed.listen(this.onBulkChangeCompleted),\n      actions.submissions.bulkPatchValues.completed.listen(this.onBulkChangeCompleted),\n      actions.submissions.bulkDelete.completed.listen(this.onBulkChangeCompleted)\n    );\n\n    stores.allAssets.whenLoaded(this.props.asset.uid, this.whenLoaded);\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  /**\n   * This triggers only when asset with `content` was loaded.\n   */\n  whenLoaded() {\n    this.setState({isInitialized: true});\n  }\n\n  componentDidUpdate(prevProps) {\n    let prevSettings = prevProps.asset.settings[DATA_TABLE_SETTING];\n    if (!prevSettings) {\n      prevSettings = {};\n    }\n\n    let newSettings = this.props.asset.settings[DATA_TABLE_SETTING];\n    if (!newSettings) {\n      newSettings = {};\n    }\n\n    // If sort setting changed, we definitely need to get new submissions (which\n    // will rebuild columns)\n    if (\n      JSON.stringify(newSettings[DATA_TABLE_SETTINGS.SORT_BY]) !==\n      JSON.stringify(prevSettings[DATA_TABLE_SETTINGS.SORT_BY])\n    ) {\n      this.refreshSubmissions();\n    // If some other table settings changed, we need to fix columns using\n    // existing data, as after `actions.table.updateSettings` resolves,\n    // the props asset is not yet updated\n    } else if (JSON.stringify(newSettings) !== JSON.stringify(prevSettings)) {\n      this._prepColumns(this.state.submissions);\n    }\n  }\n\n  /**\n   * Makes call to endpoint to get new submissions data\n   *\n   * @param {object} instance\n   */\n  fetchSubmissions(instance) {\n    let pageSize = instance.state.pageSize;\n    let page = instance.state.page * instance.state.pageSize;\n    let filter = instance.state.filtered;\n    let filterQuery = '';\n    // sort comes from outside react-table\n    let sort = [];\n\n    if (filter.length) {\n      filterQuery = '&query={';\n      filter.forEach(function (f, i) {\n        if (f.id === '_id') {\n          filterQuery += `\"${f.id}\":{\"$in\":[${f.value}]}`;\n        } else if (f.id === VALIDATION_STATUS_ID_PROP) {\n          if (f.value === VALIDATION_STATUSES.no_status.value) {\n            filterQuery += `\"${f.id}\":null`;\n          } else {\n            filterQuery += `\"${f.id}\":\"${f.value}\"`;\n          }\n        } else {\n          filterQuery += `\"${f.id}\":{\"$regex\":\"${f.value}\",\"$options\":\"i\"}`;\n        }\n        if (i < filter.length - 1) {\n          filterQuery += ',';\n        }\n      });\n      filterQuery += '}';\n    }\n\n    const sortBy = tableStore.getSortBy();\n    if (sortBy !== null) {\n      sort.push({\n        id: sortBy.fieldId,\n        desc: sortBy.value === SORT_VALUES.DESCENDING,\n      });\n    }\n\n    actions.submissions.getSubmissions({\n      uid: this.props.asset.uid,\n      pageSize: pageSize,\n      page: page,\n      sort: sort,\n      fields: [],\n      filter: filterQuery,\n    });\n  }\n\n  /**\n   * @param {object} response\n   * @param {object} options - the parameters that the call was made with\n   */\n  onGetSubmissionsCompleted(response, options) {\n    let results = response.results;\n    if (results && results.length > 0) {\n      if (this.state.submissionPager === 'next') {\n        this.submissionModalProcessing(results[0]._id, results);\n      }\n      if (this.state.submissionPager === 'prev') {\n        this.submissionModalProcessing(results[results.length - 1]._id, results);\n      }\n      this.setState({\n        loading: false,\n        selectedRows: {},\n        selectAll: false,\n        submissions: results,\n        submissionPager: false,\n        resultsTotal: response.count,\n      });\n      this._prepColumns(results);\n    } else if (options.filter.length) {\n      // if there are no results, but there is some filtering applied, we don't\n      // want to display the \"no data\" message\n      this.setState({\n        loading: false,\n        selectedRows: {},\n        submissions: results,\n        resultsTotal: 0,\n      });\n    } else {\n      this.setState({\n        error: t('This project has no submitted data. Please collect some and try again.'),\n        loading: false,\n      });\n    }\n  }\n\n  onGetSubmissionsFailed(error) {\n    if (error?.responseText) {\n      this.setState({error: error.responseText, loading: false});\n    } else if (error?.statusText) {\n      this.setState({error: error.statusText, loading: false});\n    } else {\n      this.setState({error: t('Error: could not load data.'), loading: false});\n    }\n  }\n\n  /**\n   * @param {object} originRow\n   * @returns {object} one of VALIDATION_STATUSES\n   */\n  getValidationStatusOption(originalRow) {\n    if (originalRow._validation_status && originalRow._validation_status.uid) {\n      return VALIDATION_STATUSES[originalRow._validation_status.uid];\n    } else {\n      return VALIDATION_STATUSES.no_status;\n    }\n  }\n\n  /**\n   * Callback for dropdown.\n   * @param {string} sid - submission id\n   * @param {number} index\n   * @param {object} newValidationStatus - one of VALIDATION_STATUSES\n   */\n  onValidationStatusChange(sid, index, newValidationStatus) {\n    const _this = this;\n\n    if (newValidationStatus.value === null) {\n      actions.resources.removeSubmissionValidationStatus(\n        _this.props.asset.uid,\n        sid\n      );\n    } else {\n      actions.resources.updateSubmissionValidationStatus(\n        _this.props.asset.uid,\n        sid,\n        {'validation_status.uid': newValidationStatus.value}\n      );\n    }\n  }\n\n  /**\n   * @param {string} fieldId\n   * @param {string|null} sortValue one of SORT_VALUES or null for clear value\n   */\n  onFieldSortChange(fieldId, sortValue) {\n    tableStore.setSortBy(fieldId, sortValue);\n  }\n\n  /**\n   * @param {string} fieldId\n   */\n  onHideField(fieldId) {\n    tableStore.hideField(this.state.submissions, fieldId);\n  }\n\n  /**\n   * @param {string} fieldId\n   * @param {boolean} isFrozen\n   */\n  onFieldFrozenChange(fieldId, isFrozen) {\n    tableStore.setFrozenColumn(fieldId, isFrozen);\n  }\n\n  _getColumnWidth(columnId) {\n    return CELLS_WIDTH_OVERRIDES[columnId] || DEFAULT_DATA_CELL_WIDTH;\n  }\n\n  /**\n   * @param {number} maxPageRes\n   * @returns {object} submission actions column for react-table\n   */\n  _getColumnSubmissionActions(maxPageRes) {\n    let userCanSeeEditIcon = (\n      this.props.asset.deployment__active &&\n      (\n        this.userCan(PERMISSIONS_CODENAMES.change_submissions, this.props.asset) ||\n        this.userCanPartially(PERMISSIONS_CODENAMES.change_submissions, this.props.asset)\n      )\n    );\n\n    let userCanSeeCheckbox = (\n      this.userCan(PERMISSIONS_CODENAMES.validate_submissions, this.props.asset) ||\n      this.userCan(PERMISSIONS_CODENAMES.delete_submissions, this.props.asset) ||\n      this.userCan(PERMISSIONS_CODENAMES.change_submissions, this.props.asset) ||\n      this.userCanPartially(PERMISSIONS_CODENAMES.validate_submissions, this.props.asset) ||\n      this.userCanPartially(PERMISSIONS_CODENAMES.delete_submissions, this.props.asset) ||\n      this.userCanPartially(PERMISSIONS_CODENAMES.change_submissions, this.props.asset)\n    );\n\n    if (\n      this.userCan(PERMISSIONS_CODENAMES.validate_submissions, this.props.asset) ||\n      this.userCan(PERMISSIONS_CODENAMES.delete_submissions, this.props.asset) ||\n      this.userCan(PERMISSIONS_CODENAMES.change_submissions, this.props.asset) ||\n      this.userCan(PERMISSIONS_CODENAMES.view_submissions, this.props.asset) ||\n      this.userCanPartially(PERMISSIONS_CODENAMES.validate_submissions, this.props.asset) ||\n      this.userCanPartially(PERMISSIONS_CODENAMES.delete_submissions, this.props.asset) ||\n      this.userCanPartially(PERMISSIONS_CODENAMES.change_submissions, this.props.asset) ||\n      this.userCanPartially(PERMISSIONS_CODENAMES.view_submissions, this.props.asset)\n    ) {\n      const res1 = (this.state.resultsTotal === 0) ? 0 : (this.state.currentPage * this.state.pageSize) + 1;\n      const res2 = Math.min((this.state.currentPage + 1) * this.state.pageSize, this.state.resultsTotal);\n\n      // To accommodate the checkbox, icon buttons and header text.\n      let columnWidth = 100;\n      if (this.state.resultsTotal >= 100000) {\n        // Whenever there are more results we need a bit more space for\n        // the \"X results\" text.\n        columnWidth += 20;\n      }\n\n      let elClassNames = ['rt-sub-actions', 'is-frozen'];\n      let frozenColumn = tableStore.getFrozenColumn();\n      if (!frozenColumn) {\n        elClassNames.push('is-last-frozen');\n      }\n\n      return {\n        Header: () => (\n          <div>\n            <div className='table-header-results'>\n              {res1} - {res2}\n              <br/>\n              <strong>{this.state.resultsTotal} {t('results')}</strong>\n            </div>\n          </div>\n        ),\n        accessor: 'sub-actions',\n        index: '__0',\n        id: SUBMISSION_ACTIONS_ID,\n        width: columnWidth,\n        filterable: true, // Not filterable, but we need react-table to render TableBulkCheckbox (the filter cell override)\n        sortable: false,\n        resizable: false,\n        headerClassName: elClassNames.join(' '),\n        className: elClassNames.join(' '),\n        Filter: () => {\n          if (userCanSeeCheckbox) {\n            return (\n              <TableBulkCheckbox\n                visibleRowsCount={maxPageRes}\n                selectedRowsCount={Object.keys(this.state.selectedRows).length}\n                totalRowsCount={this.state.resultsTotal}\n                onSelectAllPages={this.bulkSelectAll}\n                onSelectCurrentPage={this.bulkSelectAllRows.bind(this, true)}\n                onClearSelection={this.bulkClearSelection}\n              />\n            );\n          } else {\n            return null;\n          }\n        },\n        Cell: (row) => (\n          <div className='table-submission-actions'>\n            {userCanSeeCheckbox &&\n              <Checkbox\n                checked={this.state.selectedRows[row.original._id] ? true : false}\n                onChange={this.bulkUpdateChange.bind(this, row.original._id)}\n                disabled={!(\n                  (this.isSubmissionWritable('change_submissions', this.props.asset, row.original)) ||\n                  (this.isSubmissionWritable('delete_submissions', this.props.asset, row.original)) ||\n                  (this.isSubmissionWritable('validate_submissions', this.props.asset, row.original))\n                )}\n              />\n            }\n\n            <button\n              onClick={this.launchSubmissionModal.bind(this, row)}\n              data-sid={row.original._id}\n              className='table-link'\n              data-tip={t('Open')}\n            >\n              <i className='k-icon k-icon-view'/>\n            </button>\n\n            {userCanSeeEditIcon && (this.isSubmissionWritable('change_submissions', this.props.asset, row.original)) &&\n              <button\n                onClick={this.launchEditSubmission.bind(this)}\n                data-sid={row.original._id}\n                className='table-link'\n                data-tip={t('Edit')}\n              >\n                <i className='k-icon k-icon-edit'/>\n              </button>\n            }\n          </div>\n        ),\n      };\n    }\n  }\n\n  /**\n   * @returns {object} validation status column for react-table\n   */\n  _getColumnValidation() {\n    const elClassNames = ['rt-status'];\n    if (tableStore.getFieldSortValue(VALIDATION_STATUS_ID_PROP) !== null) {\n      elClassNames.push('is-sorted');\n    }\n\n    return {\n      Header: () => (\n        <div className='column-header-wrapper'>\n          <TableColumnSortDropdown\n            asset={this.props.asset}\n            fieldId={VALIDATION_STATUS_ID_PROP}\n            sortValue={tableStore.getFieldSortValue(VALIDATION_STATUS_ID_PROP)}\n            onSortChange={this.onFieldSortChange}\n            onHide={this.onHideField}\n            isFieldFrozen={tableStore.isFieldFrozen(VALIDATION_STATUS_ID_PROP)}\n            onFrozenChange={this.onFieldFrozenChange}\n            additionalTriggerContent={\n              <span className='column-header-title'>\n                {t('Validation')}\n              </span>\n            }\n          />\n        </div>\n      ),\n      sortable: false,\n      accessor: VALIDATION_STATUS_ID_PROP,\n      index: '__2',\n      id: VALIDATION_STATUS_ID_PROP,\n      width: this._getColumnWidth(VALIDATION_STATUS_ID_PROP),\n      className: elClassNames.join(' '),\n      headerClassName: elClassNames.join(' '),\n      Filter: ({ filter, onChange }) => {\n        let currentOption = VALIDATION_STATUSES_LIST.find((item) => item.value === filter?.value);\n        if (!currentOption) {\n          currentOption = SHOW_ALL_OPTION;\n        }\n        return (\n          <ValidationStatusDropdown\n            onChange={(selectedOption) => {onChange(selectedOption.value);}}\n            currentValue={currentOption}\n            isForHeaderFilter\n          />\n        );\n      },\n      Cell: (row) => (\n        <ValidationStatusDropdown\n          onChange={this.onValidationStatusChange.bind(this, row.original._id, row.index)}\n          currentValue={this.getValidationStatusOption(row.original)}\n          isDisabled={!(this.isSubmissionWritable(PERMISSIONS_CODENAMES.validate_submissions, this.props.asset, row.original))}\n        />\n      ),\n    };\n  }\n\n  /**\n   * Builds and gathers all necessary react-table data and stores in state.\n   *\n   * @param {object[]} data - list of submissions\n   */\n  _prepColumns(data) {\n    const allColumns = tableStore.getAllColumns(data);\n\n    let showLabels = this.state.showLabels;\n    let showGroupName = this.state.showGroupName;\n    let showHXLTags = this.state.showHXLTags;\n    let translationIndex = this.state.translationIndex;\n    let maxPageRes = Math.min(this.state.pageSize, this.state.submissions.length);\n\n    const tableSettings = tableStore.getTableSettings();\n\n    if (tableSettings[DATA_TABLE_SETTINGS.TRANSLATION] !== undefined) {\n      translationIndex = tableSettings[DATA_TABLE_SETTINGS.TRANSLATION];\n      showLabels = translationIndex > -1;\n    }\n\n    if (tableSettings[DATA_TABLE_SETTINGS.SHOW_GROUP] !== undefined) {\n      showGroupName = tableSettings[DATA_TABLE_SETTINGS.SHOW_GROUP];\n    }\n\n    if (tableSettings[DATA_TABLE_SETTINGS.SHOW_HXL] !== undefined) {\n      showHXLTags = tableSettings[DATA_TABLE_SETTINGS.SHOW_HXL];\n    }\n\n    // define the columns array\n    let columnsToRender = [];\n\n    const columnSubmissionActions = this._getColumnSubmissionActions(maxPageRes);\n    if (columnSubmissionActions) {\n      columnsToRender.push(columnSubmissionActions);\n    }\n\n    const columnValidation = this._getColumnValidation();\n    if (columnValidation) {\n      columnsToRender.push(columnValidation);\n    }\n\n    let survey = this.props.asset.content.survey;\n    let choices = this.props.asset.content.choices;\n    allColumns.forEach((key) => {\n      var q;\n      if (key.includes('/')) {\n        const qParentG = key.split('/');\n        q = survey.find((o) => (\n          o.name === qParentG[qParentG.length - 1] ||\n          o.$autoname === qParentG[qParentG.length - 1]\n        ));\n      } else {\n        q = survey.find((o) => o.name === key || o.$autoname === key);\n      }\n\n      if (q && q.type === GROUP_TYPES_BEGIN.begin_repeat) {\n        return false;\n      }\n\n      // Set ordering of question columns. Meta questions can be prepended or\n      // appended relative to survey questions with an index prefix\n\n      // sets location of columns for questions not in current survey version\n      // `y` puts this case in front of known meta types\n      var index = 'y_' + key;\n\n      // Get background-audio question name in case user changes it\n      const backgroundAudioName = getBackgroundAudioQuestionName(this.props.asset);\n\n      // place meta question columns at the very end with `z` prefix\n      switch(key) {\n        case META_QUESTION_TYPES.username:\n            index = 'z1';\n            break;\n        case META_QUESTION_TYPES.simserial:\n            index = 'z2';\n            break;\n        case META_QUESTION_TYPES.subscriberid:\n            index = 'z3';\n            break;\n        case META_QUESTION_TYPES.deviceid:\n            index = 'z4';\n            break;\n        case META_QUESTION_TYPES.phonenumber:\n            index = 'z5';\n            break;\n        case META_QUESTION_TYPES.today:\n            index = 'z6';\n            break;\n        case '__version__':\n        case '_version_':\n            index = 'z7';\n            break;\n        case ADDITIONAL_SUBMISSION_PROPS._id:\n            index = 'z8';\n            break;\n        case ADDITIONAL_SUBMISSION_PROPS._uuid:\n            index = 'z9';\n            break;\n        case ADDITIONAL_SUBMISSION_PROPS._submission_time:\n            index = 'z91';\n            break;\n        case ADDITIONAL_SUBMISSION_PROPS._submitted_by:\n            index = 'z92';\n            break;\n        // set index for `background-audio` to the very first column with `_`\n        case backgroundAudioName:\n            index = '_1';\n            break;\n        default:\n          // set index for questions in current version of survey (including questions in groups)\n          survey.map(function (x, i) {\n            var k = key;\n            if (key.includes('/')) {\n              var kArray = k.split('/');\n              k = kArray[kArray.length - 1];\n            }\n            if (x.name === k || x.$autoname === k) {\n              index = i.toString();\n            }\n          });\n      }\n\n      const elClassNames = [];\n\n      if (tableStore.getFieldSortValue(key) !== null) {\n        elClassNames.push('is-sorted');\n      }\n\n      let columnIcon = null;\n      if (q && q.type) {\n        columnIcon = renderQuestionTypeIcon(q.type);\n      }\n\n      columnsToRender.push({\n        Header: () => {\n          const columnName = getColumnLabel(\n            this.props.asset.content.survey,\n            key,\n            this.state.showGroupName,\n            this.state.translationIndex\n          );\n          const columnHXLTags = getColumnHXLTags(this.props.asset.content.survey, key);\n          return (\n            <div className='column-header-wrapper'>\n              <TableColumnSortDropdown\n                asset={this.props.asset}\n                fieldId={key}\n                sortValue={tableStore.getFieldSortValue(key)}\n                onSortChange={this.onFieldSortChange}\n                onHide={this.onHideField}\n                isFieldFrozen={tableStore.isFieldFrozen(key)}\n                onFrozenChange={this.onFieldFrozenChange}\n                additionalTriggerContent={\n                  <span className='column-header-title' title={columnName}>\n                    {columnIcon}\n                    {columnName}\n                  </span>\n                }\n              />\n              {this.state.showHXLTags && columnHXLTags &&\n                <span className='column-header-hxl-tags' title={columnHXLTags}>{columnHXLTags}</span>\n              }\n            </div>\n          );\n        },\n        id: key,\n        accessor: (row) => row[key],\n        index: index,\n        question: q,\n        filterable: false,\n        sortable: false,\n        className: elClassNames.join(' '),\n        headerClassName: elClassNames.join(' '),\n        width: this._getColumnWidth(key),\n        Cell: (row) => {\n          if (showLabels && q && q.type && row.value) {\n            if (Object.keys(TABLE_MEDIA_TYPES).includes(q.type)) {\n              let mediaAttachment = null;\n\n              if (q.type !== QUESTION_TYPES.text.id) {\n                mediaAttachment = getMediaAttachment(row.original, row.value);\n              }\n\n              return (\n                <MediaCell\n                  questionType={q.type}\n                  mediaAttachment={mediaAttachment}\n                  mediaName={row.value}\n                  submissionIndex={row.index + 1}\n                  submissionTotal={this.state.submissions.length}\n                />\n              );\n            }\n\n            // show proper labels for choice questions\n            if (q.type === QUESTION_TYPES.select_one.id) {\n              let choice = choices.find((o) =>\n                o.list_name === q.select_from_list_name &&\n                (o.name === row.value || o.$autoname === row.value)\n              );\n              if (choice?.label && choice.label[translationIndex]) {\n                return (\n                  <span className='trimmed-text'>\n                    {choice.label[translationIndex]}\n                  </span>\n                );\n              } else {\n                return (\n                  <span className='trimmed-text'>{row.value}</span>\n                );\n              }\n            }\n            if (q.type === QUESTION_TYPES.select_multiple.id && row.value) {\n              let values = row.value.split(' ');\n              var labels = [];\n              values.forEach(function (v) {\n                let choice = choices.find((o) =>\n                  o.list_name === q.select_from_list_name &&\n                  (o.name === v || o.$autoname === v)\n                );\n                if (choice && choice.label && choice.label[translationIndex]) {\n                  labels.push(choice.label[translationIndex]);\n                }\n              });\n\n              return (\n                <span className='trimmed-text'>{labels.join(', ')}</span>\n              );\n            }\n            if (\n              q.type === META_QUESTION_TYPES.start ||\n              q.type === META_QUESTION_TYPES.end ||\n              q.type === ADDITIONAL_SUBMISSION_PROPS._submission_time\n            ) {\n              return (\n                <span className='trimmed-text'>\n                  {formatTimeDateShort(row.value)}\n                </span>\n              );\n            }\n          }\n          if (typeof(row.value) === 'object' || row.value === undefined) {\n            const repeatGroupAnswers = getRepeatGroupAnswers(row.original, key);\n\n            if (repeatGroupAnswers) {\n              // display a list of answers from a repeat group question\n              return (\n                <span className='trimmed-text'>\n                  {repeatGroupAnswers.join(', ')}\n                </span>\n              );\n            } else {\n              return '';\n            }\n          } else {\n            return (<span className='trimmed-text'>{row.value}</span>);\n          }\n        },\n      });\n\n    });\n\n    columnsToRender.sort((columnA, columnB) => {\n      return columnA.index.localeCompare(columnB.index, 'en', {numeric: true});\n    });\n\n    let frozenColumn = tableStore.getFrozenColumn();\n    const textFilterQuestionTypes = [\n      QUESTION_TYPES.text.id,\n      QUESTION_TYPES.integer.id,\n      QUESTION_TYPES.decimal.id,\n      QUESTION_TYPES.select_multiple.id,\n      QUESTION_TYPES.date.id,\n      QUESTION_TYPES.time.id,\n      QUESTION_TYPES.datetime.id,\n      META_QUESTION_TYPES.start,\n      META_QUESTION_TYPES.end,\n      META_QUESTION_TYPES.username,\n      META_QUESTION_TYPES.simserial,\n      META_QUESTION_TYPES.subscriberid,\n      META_QUESTION_TYPES.deviceid,\n      META_QUESTION_TYPES.phonenumber,\n      META_QUESTION_TYPES.today,\n      META_QUESTION_TYPES['background-audio'],\n    ];\n    const textFilterQuestionIds = [\n      '__version__',\n      ADDITIONAL_SUBMISSION_PROPS._id,\n      ADDITIONAL_SUBMISSION_PROPS._uuid,\n      ADDITIONAL_SUBMISSION_PROPS._submission_time,\n      ADDITIONAL_SUBMISSION_PROPS._submitted_by,\n    ];\n\n    columnsToRender.forEach(function (col) {\n      // TODO: see if this can work for select_multiple too\n      if (col.question && col.question.type === QUESTION_TYPES.select_one.id) {\n        col.filterable = true;\n        col.Filter = ({ filter, onChange }) =>\n          <select\n            onChange={(event) => onChange(event.target.value)}\n            style={{ width: '100%' }}\n            value={filter ? filter.value : ''}\n          >\n            <option value=''>{t('Show All')}</option>\n            {choices.filter((c) => c.list_name === col.question.select_from_list_name).map((item, n) => {\n              const displayName = getQuestionOrChoiceDisplayName(item, translationIndex);\n              return (<option value={item.name} key={n}>{displayName}</option>);\n            })}\n          </select>;\n      }\n      if (\n        (col.question && textFilterQuestionTypes.includes(col.question.type))\n        || textFilterQuestionIds.includes(col.id)\n      ) {\n        col.filterable = true;\n        col.Filter = ({ filter, onChange }) =>\n          <DebounceInput\n            value={filter ? filter.value : undefined}\n            debounceTimeout={750}\n            onChange={(event) => onChange(event.target.value)}\n            className='table-filter-input'\n            placeholder={t('Search')}\n          />;\n      }\n\n      if (frozenColumn === col.id) {\n        col.className = col.className ? `is-frozen is-last-frozen ${col.className}` : 'is-frozen is-last-frozen';\n        col.headerClassName = 'is-frozen is-last-frozen';\n      }\n    });\n\n    // prepare list of selected columns, if configured\n    const selectedColumnsIds = tableStore.getSelectedColumns();\n    if (selectedColumnsIds) {\n      // always include frozenColumn, if set\n      if (frozenColumn && !selectedColumnsIds.includes(frozenColumn)) {\n        selectedColumnsIds.unshift(frozenColumn);\n      }\n\n      columnsToRender = columnsToRender.filter((el) => {\n        // always include checkbox column\n        if (el.id === SUBMISSION_ACTIONS_ID) {\n          return true;\n        }\n        return selectedColumnsIds.includes(el.id) !== false;\n      });\n    }\n\n    this.setState({\n      columns: columnsToRender,\n      translationIndex: translationIndex,\n      showLabels: showLabels,\n      showGroupName: showGroupName,\n      showHXLTags: showHXLTags,\n    });\n  }\n\n\n  toggleFullscreen() {\n    this.setState({isFullscreen: !this.state.isFullscreen});\n  }\n\n  /**\n   * @param {object} result\n   * @param {string} sid\n   */\n  onSubmissionValidationStatusChange(result, sid) {\n    if (sid) {\n      var subIndex = this.state.submissions.findIndex((x) => x._id === parseInt(sid));\n      if (typeof subIndex !== 'undefined' && this.state.submissions[subIndex]) {\n        var newData = this.state.submissions;\n        newData[subIndex]._validation_status = result || {};\n        this.setState({submissions: newData});\n        this._prepColumns(newData);\n      }\n    }\n  }\n\n  refreshSubmissions() {\n    this.fetchSubmissions(this.state.fetchInstance);\n  }\n\n  /**\n   * @param {string} uid\n   * @param {string} sid\n   * @param {object} duplicatedSubmission\n   */\n  onDuplicateSubmissionCompleted(uid, sid, duplicatedSubmission) {\n    this.fetchSubmissions(this.state.fetchInstance);\n    this.submissionModalProcessing(sid, this.state.submissions, true, duplicatedSubmission);\n  }\n\n  onTableStoreChange(prevData, newData) {\n    // Close table settings modal after settings are saved.\n    stores.pageState.hideModal();\n\n    // If sort setting changed, we definitely need to get new submissions (which\n    // will rebuild columns)\n    if (\n      JSON.stringify(prevData.overrides[DATA_TABLE_SETTINGS.SORT_BY]) !==\n      JSON.stringify(newData.overrides[DATA_TABLE_SETTINGS.SORT_BY])\n    ) {\n      this.refreshSubmissions();\n    // If some other table settings changed, we need to fix columns using\n    // existing data, as after `actions.table.updateSettings` resolves,\n    // the props asset is not yet updated\n    } else if (\n      JSON.stringify(prevData.overrides[DATA_TABLE_SETTING]) !==\n      JSON.stringify(newData.overrides[DATA_TABLE_SETTING])\n    ) {\n      this._prepColumns(this.state.submissions);\n    }\n  }\n\n  onTableUpdateSettingsCompleted() {\n    // Close table settings modal after settings are saved.\n    stores.pageState.hideModal();\n    // Any updates after table settings are saved are handled by `componentDidUpdate`.\n  }\n\n  /**\n   * @param {object} state\n   * @param {object} instance\n   */\n  fetchData(state, instance) {\n    this.setState({\n      loading: true,\n      pageSize: instance.state.pageSize,\n      currentPage: instance.state.page,\n      fetchState: state,\n      fetchInstance: instance,\n    });\n    this.fetchSubmissions(instance);\n  }\n\n  /**\n   * Opens submission modal\n   * @param {object} row\n   */\n  launchSubmissionModal(row) {\n    if (row && row.original) {\n      const sid = row.original._id;\n      const backgroundAudioName = getBackgroundAudioQuestionName(this.props.asset);\n      if (\n        backgroundAudioName &&\n        Object.keys(row.original).includes(backgroundAudioName)\n      ) {\n        let backgroundAudioUrl = getMediaAttachment(\n          row.original,\n          row.original[backgroundAudioName]\n        )?.download_medium_url;\n\n        this.submissionModalProcessing(\n          sid,\n          this.state.submissions,\n          false,\n          null,\n          backgroundAudioUrl,\n        );\n      } else {\n        this.submissionModalProcessing(sid, this.state.submissions);\n      }\n    }\n  }\n\n  /**\n   * Opens (or updates data in an opened) submission modal\n   *\n   * @param {string} sid\n   * @param {object[]} submissions\n   * @param {boolean} isDuplicated\n   * @param {object} duplicatedSubmission\n   * @param {string} backgroundAudioUrl\n   */\n  submissionModalProcessing(\n    sid,\n    submissions,\n    isDuplicated = false,\n    duplicatedSubmission = null,\n    backgroundAudioUrl = null,\n  ) {\n    let ids = [];\n\n    submissions.forEach(function (r) {\n      ids.push(r._id);\n    });\n\n    stores.pageState.showModal({\n      type: MODAL_TYPES.SUBMISSION,\n      sid: sid,\n      asset: this.props.asset,\n      ids: ids,\n      isDuplicated: isDuplicated,\n      duplicatedSubmission: duplicatedSubmission,\n      backgroundAudioUrl: backgroundAudioUrl,\n      tableInfo: {\n        currentPage: this.state.currentPage,\n        pageSize: this.state.pageSize,\n        resultsTotal: this.state.resultsTotal,\n      },\n    });\n  }\n\n  showTableColumnsOptionsModal() {\n    stores.pageState.showModal({\n      type: MODAL_TYPES.TABLE_SETTINGS,\n      asset: this.props.asset,\n    });\n  }\n\n  launchEditSubmission(evt) {\n    enketoHandler.openSubmission(\n      this.props.asset.uid,\n      evt.currentTarget.dataset.sid,\n      ENKETO_ACTIONS.edit);\n  }\n\n  onPageStateUpdated(pageState) {\n    // This function serves purpose only for Submission Modal and only when\n    // user reaches the end of currently loaded submissions in the table with\n    // the \"next\" button.\n    if (\n      pageState.modal &&\n      pageState.modal.type === MODAL_TYPES.SUBMISSION &&\n      !pageState.modal.sid\n    ) {\n      let page = 0;\n      let fetchInstance = this.state.fetchInstance;\n      if (pageState.modal.page === 'next') {\n        page = this.state.currentPage + 1;\n      }\n      if (pageState.modal.page === 'prev') {\n        page = this.state.currentPage - 1;\n      }\n\n      fetchInstance.setState({ page: page });\n      this.setState({\n        fetchInstance: fetchInstance,\n        submissionPager: pageState.modal.page,\n      }, function () {\n        this.fetchData(this.state.fetchState, this.state.fetchInstance);\n      });\n    }\n  }\n\n  /**\n   * Handles a given row bulk checkbox change\n   * @param {string} sid\n   * @param {boolean} isChecked\n   */\n  bulkUpdateChange(sid, isChecked) {\n    let selectedRows = this.state.selectedRows;\n    if (isChecked) {\n      selectedRows[sid] = true;\n    } else {\n      delete selectedRows[sid];\n    }\n\n    this.setState({\n      selectedRows: selectedRows,\n      selectAll: false,\n    });\n  }\n\n  /**\n   * Handles whole page bulk checkbox change\n   * @param {boolean} isChecked\n   */\n  bulkSelectAllRows(isChecked) {\n    let s = this.state.selectedRows;\n    this.state.submissions.forEach(function (r) {\n      if (isChecked) {\n        s[r._id] = true;\n      } else {\n        delete s[r._id];\n      }\n    }\n    );\n\n    // If the entirety of the results has been selected, selectAll should be true\n    // Useful when the # of results is smaller than the page size.\n    let scount = Object.keys(s).length;\n\n    if (scount === this.state.resultsTotal) {\n      this.setState({\n        selectedRows: s,\n        selectAll: true,\n      });\n    } else {\n      this.setState({\n        selectedRows: s,\n        selectAll: false,\n      });\n    }\n  }\n\n  onBulkChangeCompleted() {\n    this.fetchData(this.state.fetchState, this.state.fetchInstance);\n  }\n\n  /**\n   * Handles all pages bulk change\n   */\n  bulkSelectAll() {\n    // make sure all rows on current page are selected\n    let s = this.state.selectedRows;\n    this.state.submissions.forEach(function (r) {\n      s[r._id] = true;\n    });\n\n    this.setState({\n      selectedRows: s,\n      selectAll: true,\n    });\n  }\n\n  bulkClearSelection() {\n    this.setState({selectAll: false, selectedRows: {}});\n  }\n\n  renderBulkSelectUI() {\n    if (!this.state.submissions.length) {\n      return false;\n    }\n\n    return (\n      <bem.TableMeta>\n        <TableBulkOptions\n          asset={this.props.asset}\n          data={this.state.submissions}\n          pageSize={this.state.pageSize}\n          totalRowsCount={this.state.resultsTotal}\n          selectedRows={this.state.selectedRows}\n          selectedAllPages={this.state.selectAll}\n          fetchState={this.state.fetchState}\n          onClearSelection={this.bulkClearSelection.bind(this)}\n        />\n      </bem.TableMeta>\n    );\n  }\n\n  // NOTE: Please avoid calling `setState` inside scroll callback, as it causes\n  // a noticeable lag.\n  onTableScroll(evt) {\n    // We need this check, because when scrolling vertically, the scrollLeft\n    // property is always `0` (which seems like a browser bug).\n    if (this.tableScrollTop === evt.target.scrollTop) {\n      const left = evt.target.scrollLeft > 0 ? evt.target.scrollLeft : 0;\n      const $frozenColumnCells = $('.ReactTable .rt-tr .is-frozen');\n\n      if (left >= 1) {\n        $frozenColumnCells.addClass('is-scrolled-horizontally');\n      } else {\n        $frozenColumnCells.removeClass('is-scrolled-horizontally');\n      }\n\n      $frozenColumnCells.css({left: left});\n    } else {\n      this.tableScrollTop = evt.target.scrollTop;\n    }\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <bem.uiPanel>\n          <bem.uiPanel__body>\n            <bem.Loading>\n              <bem.Loading__inner>\n                {this.state.error}\n              </bem.Loading__inner>\n            </bem.Loading>\n          </bem.uiPanel__body>\n        </bem.uiPanel>\n      );\n    }\n\n    if (!this.state.isInitialized) {\n      return (<LoadingSpinner/>);\n    }\n\n    const pages = Math.floor(((this.state.resultsTotal - 1) / this.state.pageSize) + 1);\n\n    let tableClasses = ['-highlight'];\n    if (this.state.showHXLTags) {\n      tableClasses.push('has-hxl-tags-visible');\n    }\n\n    const formViewModifiers = ['table'];\n    if (this.state.isFullscreen) {\n      formViewModifiers.push('fullscreen');\n    }\n    return (\n      <bem.FormView m={formViewModifiers}>\n        <bem.FormView__group m={['table-header', this.state.loading ? 'table-loading' : 'table-loaded']}>\n          {this.userCan(PERMISSIONS_CODENAMES.change_asset, this.props.asset) &&\n            <ColumnsHideDropdown\n              asset={this.props.asset}\n              submissions={this.state.submissions}\n              showGroupName={this.state.showGroupName}\n              translationIndex={this.state.translationIndex}\n            />\n          }\n\n          {this.renderBulkSelectUI()}\n\n          <bem.FormView__item m='table-buttons'>\n            <bem.Button\n              m='icon' className='report-button__expand right-tooltip'\n              onClick={this.toggleFullscreen}\n              data-tip={t('Toggle fullscreen')}\n            >\n              <i className='k-icon k-icon-expand' />\n            </bem.Button>\n\n            <bem.Button\n              m='icon' className='report-button__expand right-tooltip'\n              onClick={this.showTableColumnsOptionsModal}\n              data-tip={t('Display options')}\n            >\n              <i className='k-icon k-icon-settings' />\n            </bem.Button>\n          </bem.FormView__item>\n        </bem.FormView__group>\n\n        <ReactTable\n          data={this.state.submissions}\n          columns={this.state.columns}\n          defaultPageSize={DEFAULT_PAGE_SIZE}\n          pageSizeOptions={[10, 30, 50, 100, 200, 500]}\n          minRows={0}\n          className={tableClasses.join(' ')}\n          pages={pages}\n          manual\n          onFetchData={this.fetchData}\n          loading={this.state.loading}\n          previousText={(\n            <React.Fragment>\n              <i className='k-icon k-icon-caret-left'/>\n              {t('Prev')}\n            </React.Fragment>\n          )}\n          nextText={(\n            <React.Fragment>\n              {t('Next')}\n              <i className='k-icon k-icon-caret-right'/>\n            </React.Fragment>\n          )}\n          loadingText={<LoadingSpinner/>}\n          noDataText={t('Your filters returned no submissions.')}\n          pageText={t('Page')}\n          ofText={t('of')}\n          rowsText={t('rows')}\n          getTableProps={() => {\n            return {\n              onScroll: this.onTableScroll,\n            };\n          }}\n          filterable\n        />\n      </bem.FormView>\n    );\n  }\n}\n\nreactMixin(DataTable.prototype, Reflux.ListenerMixin);\nreactMixin(DataTable.prototype, mixins.permissions);\n\nexport default DataTable;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport reactMixin from 'react-mixin';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport {stores} from 'js/stores';\nimport PopoverMenu from 'js/popoverMenu';\nimport mixins from 'js/mixins';\nimport alertify from 'alertifyjs';\nimport {\n  MODAL_TYPES,\n  VALIDATION_STATUSES_LIST,\n  PERMISSIONS_CODENAMES,\n} from 'js/constants';\nimport {renderCheckbox} from 'utils';\n\n/**\n * @prop asset\n * @prop pageSize\n * @prop data\n * @prop totalRowsCount\n * @prop selectedRows\n * @prop selectedAllPages\n * @prop fetchState\n * @prop onClearSelection\n */\nclass TableBulkOptions extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.currentDialog = null;\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    actions.submissions.bulkDeleteStatus.completed.listen(this.closeCurrentDialog);\n    actions.submissions.bulkDeleteStatus.failed.listen(this.closeCurrentDialog);\n    actions.submissions.bulkPatchStatus.completed.listen(this.closeCurrentDialog);\n    actions.submissions.bulkPatchStatus.failed.listen(this.closeCurrentDialog);\n    actions.submissions.bulkDelete.completed.listen(this.closeCurrentDialog);\n    actions.submissions.bulkDelete.failed.listen(this.closeCurrentDialog);\n  }\n\n  closeCurrentDialog() {\n    if (this.currentDialog !== null) {\n      this.currentDialog.destroy();\n      this.currentDialog = null;\n    }\n  }\n\n  onClearSelection() {\n    this.props.onClearSelection();\n  }\n\n  onUpdateStatus(newStatus) {\n    const data = {};\n    let selectedCount;\n    // setting empty value requires deleting the statuses with different API call\n    const apiFn = newStatus === null ? actions.submissions.bulkDeleteStatus : actions.submissions.bulkPatchStatus;\n\n    if (this.props.selectedAllPages) {\n      if (this.props.fetchState.filtered.length) {\n        data.query = {};\n        data['validation_status.uid'] = newStatus;\n        this.props.fetchState.filtered.map((filteredItem) => {\n          data.query[filteredItem.id] = filteredItem.value;\n        });\n      } else {\n        data.confirm = true;\n        data['validation_status.uid'] = newStatus;\n      }\n      selectedCount = this.props.totalRowsCount;\n    } else {\n      data.submission_ids = Object.keys(this.props.selectedRows);\n      data['validation_status.uid'] = newStatus;\n      selectedCount = data.submission_ids.length;\n    }\n\n    this.closeCurrentDialog(); // just for safety sake\n    this.currentDialog = alertify.dialog('confirm');\n    const opts = {\n      title: t('Update status of selected submissions'),\n      message: t('You have selected ## submissions. Are you sure you would like to update their status? This action is irreversible.').replace('##', selectedCount),\n      labels: {ok: t('Update Validation Status'), cancel: t('Cancel')},\n      onok: () => {\n        apiFn(this.props.asset.uid, data);\n        // keep the dialog open\n        return false;\n      },\n      oncancel: this.closeCurrentDialog,\n    };\n    this.currentDialog.set(opts).show();\n  }\n\n  onDelete() {\n    const data = {};\n    let selectedCount;\n\n    if (this.props.selectedAllPages) {\n      if (this.props.fetchState.filtered.length) {\n        data.query = {};\n        this.props.fetchState.filtered.map((filteredItem) => {\n          data.query[filteredItem.id] = filteredItem.value;\n        });\n      } else {\n        data.confirm = true;\n      }\n      selectedCount = this.props.totalRowsCount;\n    } else {\n      data.submission_ids = Object.keys(this.props.selectedRows);\n      selectedCount = data.submission_ids.length;\n    }\n    let msg;\n    let onshow;\n    msg = t('You are about to permanently delete ##count## submissions. It is not possible to recover deleted submissions.')\n      .replace('##count##', selectedCount);\n    msg = `${renderCheckbox('dt1', msg)}`;\n\n    this.closeCurrentDialog(); // just for safety sake\n    this.currentDialog = alertify.dialog('confirm');\n    onshow = () => {\n      let ok_button = this.currentDialog.elements.buttons.primary.firstChild;\n      let $els = $('.alertify-toggle input');\n\n      ok_button.disabled = true;\n\n      $els.each(function () {$(this).prop('checked', false);});\n      $els.change(function () {\n        ok_button.disabled = false;\n        $els.each(function () {\n          if (!$(this).prop('checked')) {\n            ok_button.disabled = true;\n          }\n        });\n      });\n    };\n\n    const opts = {\n      title: t('Delete selected submissions'),\n      message: msg,\n      labels: {ok: t('Delete selected'), cancel: t('Cancel')},\n      onshow: onshow,\n      onok: () => {\n        actions.submissions.bulkDelete(this.props.asset.uid, data);\n        // keep the dialog open\n        return false;\n      },\n      oncancel: this.closeCurrentDialog,\n    };\n    this.currentDialog.set(opts).show();\n  }\n\n  onEdit() {\n    stores.pageState.showModal({\n      type: MODAL_TYPES.BULK_EDIT_SUBMISSIONS,\n      asset: this.props.asset,\n      data: this.props.data,\n      totalSubmissions: this.props.totalRowsCount,\n      selectedSubmissions: Object.keys(this.props.selectedRows),\n    });\n  }\n\n  render() {\n    let selectedCount = Object.keys(this.props.selectedRows).length;\n    if (this.props.selectedAllPages) {\n      selectedCount = this.props.totalRowsCount;\n    }\n    const selectedLabel = t('##count## selected').replace('##count##', selectedCount);\n\n    const maxPageRes = Math.min(this.props.pageSize, this.props.data.length);\n    const isSelectAllAvailable = (\n      Object.keys(this.props.selectedRows).length === maxPageRes &&\n      this.props.totalRowsCount > this.props.pageSize\n    );\n\n    return (\n      <bem.TableMeta__bulkOptions>\n        {selectedCount > 1 &&\n          <bem.KoboLightBadge>\n            {selectedLabel}\n            <a className='bulk-clear-badge-icon' onClick={this.onClearSelection}>&times;</a>\n          </bem.KoboLightBadge>\n        }\n\n        {selectedCount > 1 && <span>:</span>}\n\n        {Object.keys(this.props.selectedRows).length > 0 &&\n          <PopoverMenu type='bulkUpdate-menu' triggerLabel={t('Change status')} >\n            {(this.userCan(PERMISSIONS_CODENAMES.validate_submissions, this.props.asset) || this.userCanPartially(PERMISSIONS_CODENAMES.validate_submissions, this.props.asset)) &&\n              VALIDATION_STATUSES_LIST.map((item, n) => {\n                return (\n                  <bem.PopoverMenu__link\n                    onClick={this.onUpdateStatus.bind(this, item.value)}\n                    key={n}\n                  >\n                    {t('Set status: ##status##').replace('##status##', item.label)}\n                  </bem.PopoverMenu__link>\n                );\n              })\n            }\n          </PopoverMenu>\n        }\n\n        {Object.keys(this.props.selectedRows).length > 0 && (this.userCan(PERMISSIONS_CODENAMES.change_submissions, this.props.asset) || this.userCanPartially(PERMISSIONS_CODENAMES.change_submissions, this.props.asset)) &&\n          <bem.KoboLightButton\n            m='blue'\n            onClick={this.onEdit}\n            disabled={this.props.selectedAllPages && isSelectAllAvailable}\n          >\n            <i className='k-icon k-icon-edit table-meta__additional-text'/>\n            {t('Edit')}\n          </bem.KoboLightButton>\n        }\n\n        {Object.keys(this.props.selectedRows).length > 0 && (this.userCan(PERMISSIONS_CODENAMES.delete_submissions, this.props.asset) || this.userCanPartially(PERMISSIONS_CODENAMES.delete_submissions, this.props.asset)) &&\n          <bem.KoboLightButton\n            m='red'\n            onClick={this.onDelete}\n          >\n            <i className='k-icon k-icon-trash table-meta__additional-text'/>\n            {t('Delete')}\n          </bem.KoboLightButton>\n        }\n      </bem.TableMeta__bulkOptions>\n    );\n  }\n}\n\nreactMixin(TableBulkOptions.prototype, mixins.permissions);\n\nexport default TableBulkOptions;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport PopoverMenu from 'js/popoverMenu';\nimport Checkbox from 'js/components/common/checkbox';\nimport './tableBulkCheckbox.scss';\n\n/**\n * @prop visibleRowsCount\n * @prop selectedRowsCount\n * @prop totalRowsCount\n * @prop onSelectAllPages\n * @prop onSelectCurrentPage\n * @prop onClearSelection\n */\nclass TableBulkCheckbox extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  onSelectAllPages() {\n    this.props.onSelectAllPages();\n  }\n\n  onSelectCurrentPage() {\n    this.props.onSelectCurrentPage();\n  }\n\n  onToggleCurrentPage() {\n    if (this.props.selectedRowsCount === this.props.visibleRowsCount) {\n      this.onClearSelection();\n    } else {\n      this.onSelectCurrentPage();\n    }\n  }\n\n  onClearSelection() {\n    this.props.onClearSelection();\n  }\n\n  render() {\n    return (\n      <div className='table-bulk-checkbox'>\n        <Checkbox\n          checked={this.props.selectedRowsCount === this.props.visibleRowsCount}\n          onChange={this.onToggleCurrentPage}\n        />\n\n        <PopoverMenu type='table-bulk-checkbox' triggerLabel='' additionalModifiers={['right']}>\n          <bem.PopoverMenu__link onClick={this.onSelectAllPages}>\n            {t('Select all results (##count##)').replace('##count##', this.props.totalRowsCount)}\n          </bem.PopoverMenu__link>\n\n          <bem.PopoverMenu__link onClick={this.onSelectCurrentPage}>\n            {t('Select visible results (##count##)').replace('##count##', this.props.visibleRowsCount)}\n          </bem.PopoverMenu__link>\n\n          <bem.PopoverMenu__link onClick={this.onClearSelection}>\n            {t('None')}\n          </bem.PopoverMenu__link>\n        </PopoverMenu>\n      </div>\n    );\n  }\n}\n\nexport default TableBulkCheckbox;\n","import autoBind from 'react-autobind';\nimport React from 'react';\nimport bem, {makeBem} from 'js/bem';\nimport {stores} from 'js/stores';\nimport {\n  MODAL_TYPES,\n  QUESTION_TYPES,\n  META_QUESTION_TYPES,\n} from 'js/constants';\nimport {truncateString} from 'js/utils';\nimport './mediaCell.scss';\n\nbem.TableMediaPreviewHeader = makeBem(null, 'table-media-preview-header');\nbem.TableMediaPreviewHeader__title = makeBem(bem.TableMediaPreviewHeader, 'title', 'div');\nbem.TableMediaPreviewHeader__label = makeBem(bem.TableMediaPreviewHeader, 'label', 'label');\nbem.TableMediaPreviewHeader__options = makeBem(bem.TableMediaPreviewHeader, 'options', 'div');\n\nbem.MediaCell = makeBem(null, 'media-cell');\nbem.MediaCell__duration = makeBem(bem.MediaCell, 'duration', 'label');\nbem.MediaCell__text = makeBem(bem.MediaCell, 'text', 'div');\n\nbem.MediaCellIconWrapper = makeBem(null, 'icon-wrapper');\nbem.MediaCellIconWrapper__icon = makeBem(bem.MediaCellIconWrapper, 'icon', 'i');\n\n/**\n * Backend stored media attachment\n *\n * @namespace mediaAttachment\n * @prop {string} download_url - full file size\n * @prop {string} download_small_url - smallest file size\n * @prop {string} download_medium_url\n * @prop {string} download_large_url\n */\n\n/**\n * Table cell replacement for media submissions\n *\n * @prop {string} questionType\n * @prop {mediaAttachment} mediaAttachment - `null` for text questions\n * @prop {string} mediaName - Backend stored media attachment file name or the\n                              content of a text question\n * @prop {string} submissionIndex - Index of the submission for text questions\n * @prop {string} submissionTotal - Total submissions for text questions\n */\nclass MediaCell extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n\n    this.questionIcon = this.getQuestionIcon();\n  }\n\n  getQuestionIcon() {\n    const iconClassNames = ['k-icon'];\n\n    // Different from renderQuestionTypeIcon as we need custom `title` and\n    // event handling\n    switch (this.props.questionType) {\n      case QUESTION_TYPES.image.id:\n        iconClassNames.push('k-icon-qt-photo');\n        break;\n      case QUESTION_TYPES.audio.id:\n      case META_QUESTION_TYPES['background-audio']:\n        iconClassNames.push('k-icon-qt-audio');\n        break;\n      case QUESTION_TYPES.video.id:\n        iconClassNames.push('k-icon-qt-video');\n        break;\n      case QUESTION_TYPES.text.id:\n        iconClassNames.push('k-icon-expand-arrow');\n        break;\n      default:\n        iconClassNames.push('k-icon-media-files');\n        break;\n    }\n\n    return iconClassNames.join(' ');\n  }\n\n  launchMediaModal(evt) {\n    evt.preventDefault();\n\n    stores.pageState.showModal({\n      type: MODAL_TYPES.TABLE_MEDIA_PREVIEW,\n      questionType: this.props.questionType,\n      mediaAttachment: this.props.mediaAttachment,\n      mediaName: this.props.mediaName,\n      customModalHeader: this.renderMediaModalCustomHeader(\n        this.questionIcon,\n        this.props.mediaAttachment?.download_url,\n        this.props.mediaName,\n        this.props.submissionIndex,\n        this.props.submissionTotal,\n      ),\n    });\n  }\n\n  renderMediaModalCustomHeader(\n    questionIcon,\n    mediaURL,\n    mediaName,\n    submissionIndex,\n    submissionTotal,\n  ) {\n    let titleText = null;\n\n    // mediaURL only exists if there are attachments, otherwise assume only text\n    if (mediaURL) {\n      titleText = truncateString(mediaName, 30);\n    } else {\n      titleText = t('Submission ##submissionIndex## of ##submissionTotal##')\n        .replace('##submissionIndex##', submissionIndex)\n        .replace('##submissionTotal##', submissionTotal);\n    }\n\n    return (\n      <bem.TableMediaPreviewHeader>\n        <bem.TableMediaPreviewHeader__title>\n          <i className={questionIcon}/>\n          <bem.TableMediaPreviewHeader__label\n            // Give the user a way to see the full file name\n            title={mediaName}\n          >\n            {titleText}\n          </bem.TableMediaPreviewHeader__label>\n        </bem.TableMediaPreviewHeader__title>\n\n        <bem.TableMediaPreviewHeader__options>\n          {this.props.mediaURL &&\n            <a\n              className='kobo-light-button kobo-light-button--blue'\n              // TODO: once we get this button to `save as`, remove this target\n              target='_blank'\n              href={mediaURL}\n            >\n              {t('download')}\n\n              <i className='k-icon k-icon-download'/>\n            </a>\n          }\n\n          {/*\n            TODO: Uncomment this buttton after single processing view is done\n\n            <a\n              className='kobo-light-button kobo-light-button--gray'\n              href={'#'}\n            >\n              {t('process')}\n\n              <i className='k-icon k-icon-arrow-up-right'/>\n            </a>\n          */}\n        </bem.TableMediaPreviewHeader__options>\n      </bem.TableMediaPreviewHeader>\n    );\n  }\n\n  render() {\n    const isTextQuestion = !this.props.mediaAttachment;\n\n    return (\n      <bem.MediaCell m={isTextQuestion ? 'text' : ''}>\n        {isTextQuestion &&\n          // Show text as well if text question\n          <bem.MediaCell__text className='trimmed-text'>\n            {this.props.mediaName}\n          </bem.MediaCell__text>\n        }\n\n        <bem.MediaCellIconWrapper>\n          <bem.MediaCellIconWrapper__icon\n            className={this.questionIcon}\n            onClick={this.launchMediaModal.bind(this)}\n          />\n        </bem.MediaCellIconWrapper>\n\n        {/*\n          TODO: backend needs to store metadata to get duration, see kpi#3304\n          !(questionType === QUESTION_TYPES.image.id) &&\n          <bem.MediaCell__duration>\n            {tempTime}\n          </bem.MediaCell__duration>\n          */\n        }\n      </bem.MediaCell>\n    );\n  }\n}\n\nexport default MediaCell;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport bem from 'js/bem';\nimport Modal from 'js/components/common/modal';\nimport autoBind from 'react-autobind';\nimport {actions} from '../actions';\nimport mixins from '../mixins';\nimport Dropzone from 'react-dropzone';\nimport alertify from 'alertifyjs';\nimport {\n  QUERY_LIMIT_DEFAULT,\n  ASSET_FILE_TYPES,\n} from 'js/constants';\nimport { dataInterface } from '../dataInterface';\n\n// see kobo.map.marker-colors.scss for styling details of each set\nconst COLOR_SETS = ['a', 'b', 'c', 'd', 'e'];\nconst QUERY_LIMIT_MINIMUM = 1000;\nconst QUERY_LIMIT_MAXIMUM = 30000;\nconst TABS = new Map([\n  ['colors', {id: 'colors', label: t('Marker Colors')}],\n  ['querylimit', {id: 'querylimit', label: t('Query Limit')}],\n  ['geoquestion', {id: 'geoquestion', label: t('Geopoint question')}],\n  ['overlays', {id: 'overlays', label: t('Overlays')}]\n]);\n\nclass MapColorPicker extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n\n    this.state = {\n      selected: props.mapSettings.colorSet ? props.mapSettings.colorSet : 'a'\n    };\n  }\n\n  onChange (e) {\n    this.props.onChange(e.currentTarget.value);\n    this.setState({\n      selected: e.currentTarget.value\n    });\n  }\n\n  defaultValue (set) {\n    return this.state.selected === set;\n  }\n\n  colorRows(set, length = 10) {\n    let colorRows = [];\n    for (let i = 1; i < length; i++) {\n      colorRows.push(<span key={i} className={`map-marker map-marker-${set}${i}`} />);\n    }\n    return colorRows;\n  }\n\n  render () {\n    var radioButtons = COLOR_SETS.map(function(set, index){\n      var length = 10;\n      var label = false;\n      if (set === 'a') {length = 16;}\n      if (set === 'a') {label = t('Best for qualitative data');}\n      if (set === 'b') {label = t('Best for sequential data');}\n      if (set === 'd') {label = t('Best for diverging data');}\n      return (\n        <bem.FormModal__item m='map-color-item' key={index}>\n          {label &&\n            <label>{label}</label>\n          }\n          <bem.GraphSettings__radio>\n            <input type='radio' name='chart_colors'\n              value={set}\n              checked={this.defaultValue(set)}\n              onChange={this.onChange}\n              id={'c-' + index} />\n            <label htmlFor={'c-' + index}>\n              {this.colorRows(set, length)}\n            </label>\n          </bem.GraphSettings__radio>\n        </bem.FormModal__item>\n\n      );\n    }, this);\n\n    return (\n      <bem.GraphSettings__colors>{radioButtons}</bem.GraphSettings__colors>\n    );\n  }\n}\n\nclass MapSettings extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n\n    const geoQuestions = [];\n    props.asset.content.survey.forEach(function(question) {\n      if (question.type && question.type === 'geopoint') {\n        geoQuestions.push({\n          value: question.name || question.$autoname,\n          label: question.label[0]\n        });\n      }\n    });\n\n    const queryCount = props.asset.deployment__submission_count;\n\n    let defaultActiveTab = TABS.get('colors').id;\n    if (queryCount > QUERY_LIMIT_MINIMUM) {\n      defaultActiveTab = TABS.get('querylimit').id;\n    } else if (geoQuestions.length > 1) {\n      defaultActiveTab = TABS.get('geoquestion').id;\n    } else if (this.userCan('change_asset', this.props.asset)) {\n      defaultActiveTab = TABS.get('overlays').id;\n    }\n\n    let mapStyles = Object.assign({}, this.props.asset.map_styles);\n    if (this.props.overridenStyles) {\n      Object.assign(mapStyles, this.props.overridenStyles);\n    }\n\n    this.state = {\n      activeModalTab: defaultActiveTab,\n      geoQuestions: geoQuestions,\n      mapSettings: mapStyles,\n      files: [],\n      layerName: '',\n      queryCount: queryCount\n    };\n  }\n\n  componentDidMount() {\n    actions.resources.getAssetFiles(this.props.asset.uid, ASSET_FILE_TYPES.map_layer.id);\n    this.listenTo(actions.resources.getAssetFiles.completed, this.updateFileList);\n  }\n\n  // modal handling\n\n  switchTab(evt) {\n    this.setState({activeModalTab: evt.target.getAttribute('data-tabid')});\n  }\n\n  resetMapSettings() {\n    this.saveMapSettings({});\n  }\n\n  onSave() {\n    this.saveMapSettings(this.state.mapSettings);\n  }\n\n  saveMapSettings(newSettings) {\n    let assetUid = this.props.asset.uid;\n    if (this.userCan('change_asset', this.props.asset)) {\n      actions.map.setMapStyles(assetUid, newSettings);\n    } else {\n      // pass settings to parent component directly\n      // for users with no permission to edit asset\n      this.props.overrideStyles(newSettings);\n    }\n    this.props.toggleMapSettings();\n  }\n\n  // user input handling\n\n  onGeoPointQuestionChange(evt) {\n    let settings = this.state.mapSettings;\n    settings.selectedQuestion = evt.target.value;\n    this.setState({ mapSettings: settings });\n  }\n\n  onQueryLimitChange(evt) {\n    let settings = this.state.mapSettings;\n    settings.querylimit = evt.target.value;\n    this.setState({ mapSettings: settings });\n  }\n\n  onColorChange(val) {\n    let settings = this.state.mapSettings;\n    settings.colorSet = val;\n    this.setState({ mapSettings: settings });\n  }\n\n  onLayerNameChange(e) {\n    this.setState({ layerName: e.target.value });\n  }\n\n  // handling files\n\n  updateFileList(data) {\n    if (data.results) {\n      this.setState({ files: data.results });\n    }\n  }\n\n  dropFiles(files, rejectedFiles) {\n    let uid = this.props.asset.uid,\n      _this = this,\n      description = this.state.layerName;\n\n    if (!description) {\n      alertify.error(t('Please add a name for your layer file.'));\n      return false;\n    }\n\n    files.map((file) => {\n      let metadata = {\n        type: file.name.split('.').pop(),\n        size: file.size\n      };\n      let data = {\n        content: file,\n        description: description,\n        file_type: 'map_layer',\n        metadata: JSON.stringify(metadata)\n      };\n      dataInterface.uploadAssetFile(uid, data).done(() => {\n        _this.setState({ layerName: '' });\n        actions.resources.getAssetFiles(this.props.asset.uid, 'map_layer');\n      }).fail((jqxhr) => {\n        var errMsg = t('Upload error: ##error_message##.').replace('##error_message##', jqxhr.statusText);\n        alertify.error(errMsg);\n      });\n    });\n\n    rejectedFiles.map(() => {\n      var errMsg = t('Upload error: not a valid map overlay format.');\n      alertify.error(errMsg);\n    });\n  }\n\n  deleteFile(evt) {\n    let el = $(evt.target)\n        .closest('[data-uid]')\n        .get(0),\n      uid = el.getAttribute('data-uid'),\n      dialog = alertify.dialog('confirm');\n\n    let opts = {\n      title: t('Delete File'),\n      message: t(\n        'Are you sure you want to delete this file? ' +\n          '<br/><br/><strong>This action cannot be undone.</strong>'\n      ),\n      labels: { ok: t('Delete'), cancel: t('Cancel') },\n      onok: () => {\n        dataInterface.deleteAssetFile(this.props.asset.uid, uid).done(() => {\n          actions.resources.getAssetFiles(this.props.asset.uid, 'map_layer');\n          dialog.destroy();\n        });\n      },\n      oncancel: () => {\n        dialog.destroy();\n      }\n    };\n    dialog.set(opts).show();\n  }\n\n  render() {\n    let asset = this.props.asset,\n      geoQuestions = this.state.geoQuestions,\n      activeTab = this.state.activeModalTab,\n      queryLimit = this.state.mapSettings.querylimit || QUERY_LIMIT_DEFAULT,\n      queryCount = this.state.queryCount;\n    var tabs = [TABS.get('colors').id];\n\n    if (this.userCan('change_asset', asset)) {tabs.unshift(TABS.get('overlays').id);}\n    if (geoQuestions.length > 1) {tabs.unshift(TABS.get('geoquestion').id);}\n    if (queryCount > QUERY_LIMIT_MINIMUM) {tabs.unshift(TABS.get('querylimit').id);}\n\n    var modalTabs = tabs.map(function(tabId, i) {\n      return (\n        <button\n          className={`mdl-button mdl-button--tab ${\n            this.state.activeModalTab === tabId ? 'active' : ''\n          }`}\n          onClick={this.switchTab}\n          data-tabid={tabId}\n          key={i}\n        >\n          {TABS.get(tabId).label}\n        </button>\n      );\n    }, this);\n    return (\n      <bem.GraphSettings>\n        <Modal.Tabs>{modalTabs}</Modal.Tabs>\n        <Modal.Body>\n          <div className='tabs-content map-settings'>\n            {activeTab === TABS.get('geoquestion').id && (\n              <div className='map-settings__GeoQuestions'>\n                <p>\n                  {t(\n                    'Choose the Geopoint question you would like to display on the map:'\n                  )}\n                </p>\n                {geoQuestions.map((question, i) => {\n                  return (\n                    <label htmlFor={'GeopointQuestion-' + i} key={i}>\n                      <input\n                        type='radio'\n                        name='trnsltn'\n                        value={question.value}\n                        onChange={this.onGeoPointQuestionChange}\n                        checked={\n                          this.state.mapSettings.selectedQuestion ===\n                          question.value\n                            ? true\n                            : false\n                        }\n                        id={'GeopointQuestion-' + i}\n                      />\n                      {question.label}\n                    </label>\n                  );\n                })}\n              </div>\n            )}\n            {activeTab === TABS.get('overlays').id && (\n              <div className='map-settings__overlay'>\n                {this.state.files.length > 0 && (\n                  <bem.FormModal__item m='list-files'>\n                    <label>{t('Uploaded layers')}</label>\n                    {this.state.files.map((file, i) => {\n                      return (\n                        <div className='list-file-row' key={i}>\n                          <span className='file-type'>\n                            {file.metadata.type}\n                          </span>\n                          <span className='file-layer-name'>{file.description}</span>\n                          <span\n                            className='file-delete'\n                            onClick={this.deleteFile}\n                            data-tip={t('Delete layer')}\n                            data-uid={file.uid}\n                          >\n                            <i className='k-icon k-icon-trash' />\n                          </span>\n                        </div>\n                      );\n                    })}\n                  </bem.FormModal__item>\n                )}\n                <bem.FormModal__item m='layer-upload'>\n                  <label htmlFor='name'>\n                    {t('Use the form below to upload files with map data in one of these formats: CSV, KML, KMZ, WKT or GEOJSON. The data will be made available as layers for display on the map.')}\n                  </label>\n                  <input\n                    type='text'\n                    id='name'\n                    placeholder={t('Layer name')}\n                    value={this.state.layerName}\n                    onChange={this.onLayerNameChange}\n                  />\n                  <Dropzone\n                    onDrop={this.dropFiles}\n                    multiple={false}\n                    className='dropzone'\n                    accept={'.csv,.kml,.geojson,.wkt,.json,.kmz'}\n                  >\n                    <bem.KoboButton m='blue'>\n                      {t('Upload')}\n                    </bem.KoboButton>\n                  </Dropzone>\n                </bem.FormModal__item>\n              </div>\n            )}\n            {activeTab === TABS.get('colors').id && (\n              <bem.FormModal__item>\n                <div className='map-settings__colors'>\n                  {t('Choose the color set for the disaggregated map markers.')}\n                  <MapColorPicker onChange={this.onColorChange} mapSettings={this.state.mapSettings}/>\n                </div>\n              </bem.FormModal__item>\n            )}\n            {activeTab === TABS.get('querylimit').id && (\n              <bem.FormModal__item>\n                <div className='map-settings__querylimit'>\n                  {t('By default the map is limited to the ##QUERY_LIMIT_DEFAULT## most recent submissions. You can temporarily increase this limit to a different value. Note that this is reset whenever you reopen the map.').replace('##QUERY_LIMIT_DEFAULT##', QUERY_LIMIT_DEFAULT)}\n                  <p className='change-limit-warning'>Warning: Displaying a large number of points requires a lot of memory.</p>\n                  <form>\n                    <input\n                      id='limit-slider'\n                      className='change-limit-slider'\n                      type='range'\n                      step={QUERY_LIMIT_MINIMUM}\n                      min={QUERY_LIMIT_MINIMUM}\n                      max={QUERY_LIMIT_MAXIMUM}\n                      value={queryLimit}\n                      onChange={this.onQueryLimitChange\n                    }/>\n                    <output\n                      id='limit-slider-value'\n                      className='change-limit-slider-value'\n                      htmlFor='limit-slider'\n                    >{queryLimit}</output>\n                  </form>\n                </div>\n              </bem.FormModal__item>\n            )}\n          </div>\n        </Modal.Body>\n\n        {[TABS.get('geoquestion').id, TABS.get('colors').id, TABS.get('querylimit').id].includes(activeTab) &&\n          <bem.Modal__footer>\n            {this.userCan('change_asset', this.props.asset) && queryLimit !== QUERY_LIMIT_DEFAULT &&\n              <bem.KoboButton m='whitegray' onClick={this.resetMapSettings}>\n                {t('Reset')}\n              </bem.KoboButton>\n            }\n            <bem.KoboButton m='blue' onClick={this.onSave}>\n              {t('Save')}\n            </bem.KoboButton>\n          </bem.Modal__footer>\n        }\n      </bem.GraphSettings>\n    );\n  }\n}\n\nreactMixin(MapSettings.prototype, Reflux.ListenerMixin);\nreactMixin(MapSettings.prototype, mixins.permissions);\n\nexport default MapSettings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport autoBind from 'react-autobind';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport alertify from 'alertifyjs';\nimport {stores} from '../../stores';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {actions} from '../../actions';\nimport mixins from '../../mixins';\nimport {dataInterface} from '../../dataInterface';\nimport {formatTime} from 'utils';\nimport {\n  HOOK_LOG_STATUSES,\n  MODAL_TYPES\n} from '../../constants';\n\nexport default class RESTServiceLogs extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      hookName: null,\n      isHookActive: false,\n      assetUid: props.assetUid,\n      hookUid: props.hookUid,\n      isLoadingHook: true,\n      isLoadingLogs: true,\n      logs: [],\n      nextPageUrl: null\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(\n      actions.hooks.getLogs.completed,\n      this.onLogsUpdated\n    );\n\n    dataInterface.getHook(this.state.assetUid, this.state.hookUid)\n      .done((data) => {\n        this.setState({\n          isLoadingHook: false,\n          hookName: data.name,\n          isHookActive: data.active\n        });\n      })\n      .fail(() => {\n        this.setState({\n          isLoadingHook: false\n        });\n        alertify.error(t('Could not load REST Service'));\n      });\n\n    actions.hooks.getLogs(\n      this.state.assetUid,\n      this.state.hookUid,\n      {\n        onComplete: (data) => {\n          this.setState({\n            isLoadingLogs: false,\n            logs: data.results,\n            nextPageUrl: data.next,\n            totalLogsCount: data.count\n          });\n        },\n        onFail: () => {\n          this.setState({\n            isLoadingLogs: false\n          });\n          alertify.error(t('Could not load REST Service logs'));\n        }\n      }\n    );\n  }\n\n  loadMore() {\n    this.setState({isLoadingLogs: false});\n\n    dataInterface.loadNextPageUrl(this.state.nextPageUrl)\n      .done((data) => {\n        const newLogs = [].concat(this.state.logs, data.results);\n        this.setState({\n          isLoadingLogs: false,\n          logs: newLogs,\n          nextPageUrl: data.next,\n          totalLogsCount: data.count\n        });\n      })\n      .fail(() => {\n        this.setState({isLoadingLogs: false});\n        alertify.error(t('Could not load REST Service logs'));\n      });\n  }\n\n  onLogsUpdated(data) {\n    this.setState({logs: data.results});\n  }\n\n  retryAll() {\n    const failedLogUids = [];\n    this.state.logs.forEach((log) => {\n      if (log.status === HOOK_LOG_STATUSES.FAILED) {\n        failedLogUids.push(log.uid);\n      }\n    });\n    this.overrideLogsStatus(failedLogUids, HOOK_LOG_STATUSES.PENDING);\n\n    actions.hooks.retryLogs(\n      this.state.assetUid,\n      this.state.hookUid,\n      {\n        onComplete: (response) => {\n          this.overrideLogsStatus(response.pending_uids, HOOK_LOG_STATUSES.PENDING);\n        }\n      }\n    );\n  }\n\n  retryLog(log) {\n    // make sure to allow only retrying failed logs\n    if (log.status !== HOOK_LOG_STATUSES.FAILED) {\n      return;\n    }\n\n    this.overrideLogsStatus([log.uid], HOOK_LOG_STATUSES.PENDING);\n\n    actions.hooks.retryLog(\n      this.state.assetUid,\n      this.state.hookUid,\n      log.uid, {\n        onFail: (response) => {\n          if (response.responseJSON && response.responseJSON.detail) {\n            this.overrideLogMessage(log.uid, response.responseJSON.detail);\n          }\n          this.overrideLogsStatus([log.uid], HOOK_LOG_STATUSES.FAILED);\n        }\n      }\n    );\n  }\n\n  overrideLogMessage(logUid, newMessage) {\n    const currentLogs = this.state.logs;\n    currentLogs.forEach((currentLog) => {\n      if (currentLog.uid === logUid) {\n        currentLog.message = newMessage;\n      }\n    });\n    this.setState({\n      logs: currentLogs\n    });\n  }\n\n  // useful to mark logs as pending, before BE tells about it\n  // NOTE: logUids is an array\n  overrideLogsStatus(logUids, newStatus) {\n    const currentLogs = this.state.logs;\n    currentLogs.forEach((currentLog) => {\n      if (logUids.includes(currentLog.uid)) {\n        currentLog.status = newStatus;\n      }\n    });\n    this.setState({\n      logs: currentLogs\n    });\n  }\n\n  showLogInfo(log) {\n    const title = t('Submission Failure Detail (##id##)').replace('##id##', log.submission_id);\n    const escapedMessage = $('<div/>').text(log.message).html();\n    alertify.alert(title, `<pre>${escapedMessage}</pre>`);\n  }\n\n  openSubmissionModal(log) {\n    const currentAsset = this.currentAsset();\n    stores.pageState.switchModal({\n      type: MODAL_TYPES.SUBMISSION,\n      sid: log.submission_id,\n      asset: currentAsset,\n      ids: [log.submission_id]\n    });\n  }\n\n  hasAnyFailedLogs() {\n    let hasAny = false;\n    this.state.logs.forEach((log) => {\n      if (log.status === HOOK_LOG_STATUSES.FAILED) {\n        hasAny = true;\n      }\n    });\n    return hasAny;\n  }\n\n  hasInfoToDisplay(log) {\n    return log.status !== HOOK_LOG_STATUSES.SUCCESS && log.message.length > 0;\n  }\n\n  /*\n   * rendering methods\n   */\n\n  renderHeader() {\n    return (\n      <header className='rest-services-list__header'>\n        <a\n          className='rest-services-list__header-back-button'\n          href={`/#/forms/${this.state.assetUid}/settings/rest`}\n        >\n          <i className='k-icon k-icon-prev' />\n          {t('Back to REST Services')}\n        </a>\n\n        <h2 className='rest-services-list__header-label rest-services-list__header-label--big'>\n          {this.state.hookName}\n        </h2>\n      </header>\n    );\n  }\n\n  renderLoadMoreButton() {\n    if (this.state.nextPageUrl === null) {\n      return null;\n    }\n\n    return (\n      <bem.ServiceRowButton\n        m={this.state.isLoadingLogs ? 'loading' : null}\n        onClick={this.loadMore}\n      >\n        {this.state.isLoadingLogs ? t('Loading…') : t('Load more')}\n      </bem.ServiceRowButton>\n    );\n  }\n\n  renderEmptyView() {\n    return (\n      <bem.FormView m={'form-settings'} className='rest-services'>\n        <bem.FormView__cell m='rest-services-list' className='rest-services-list--empty'>\n          {this.renderHeader()}\n\n          <bem.EmptyContent>\n            <bem.EmptyContent__message>\n              {t('There are no logs yet')}\n            </bem.EmptyContent__message>\n          </bem.EmptyContent>\n        </bem.FormView__cell>\n      </bem.FormView>\n    );\n  }\n\n  renderListView() {\n    return (\n      <bem.FormView m={'form-settings'} className='rest-services'>\n        <bem.FormView__cell m='rest-services-list'>\n          {this.renderHeader()}\n\n          <bem.FormView__cell m={['box']}>\n            <bem.ServiceRow m='header'>\n              <bem.ServiceRow__column m='submission'>{t('Submission')}</bem.ServiceRow__column>\n              <bem.ServiceRow__column m='status'>\n                {t('Status')}\n                { this.hasAnyFailedLogs() &&\n                  <bem.ServiceRow__actionButton\n                    onClick={this.retryAll.bind(this)}\n                    data-tip={t('Retry all submissions')}\n                    disabled={!this.state.isHookActive}\n                  >\n                    <i className='k-icon k-icon-replace'/>\n                  </bem.ServiceRow__actionButton>\n                }\n              </bem.ServiceRow__column>\n              <bem.ServiceRow__column m='date'>{t('Date')}</bem.ServiceRow__column>\n            </bem.ServiceRow>\n\n            {this.state.logs.map((log, n) => {\n              const rowProps = {\n                key: n\n              };\n              let statusMod = '';\n              let statusLabel = '';\n              if (log.status === HOOK_LOG_STATUSES.SUCCESS) {\n                statusMod = 'success';\n                statusLabel = t('Success');\n                rowProps.m = 'clickable';\n                rowProps.onClick = this.openSubmissionModal.bind(this, log);\n              }\n              if (log.status === HOOK_LOG_STATUSES.PENDING) {\n                statusMod = 'pending';\n                statusLabel = t('Pending');\n\n                if (log.tries && log.tries > 1) {\n                  statusLabel = t('Pending (##count##×)').replace('##count##', log.tries);\n                }\n              }\n              if (log.status === HOOK_LOG_STATUSES.FAILED) {\n                statusMod = 'failed';\n                statusLabel = t('Failed');\n              }\n\n              return (\n                <bem.ServiceRow {...rowProps}>\n                  <bem.ServiceRow__column m='submission'>\n                    {log.submission_id}\n                  </bem.ServiceRow__column>\n\n                  <bem.ServiceRow__column\n                    m={['status', statusMod]}\n                  >\n                    {statusLabel}\n\n                    {log.status === HOOK_LOG_STATUSES.FAILED &&\n                      <bem.ServiceRow__actionButton\n                        disabled={!this.state.isHookActive}\n                        onClick={this.retryLog.bind(this, log)}\n                        data-tip={t('Retry submission')}\n                      >\n                        <i className='k-icon k-icon-replace' />\n                      </bem.ServiceRow__actionButton>\n                    }\n\n                    {this.hasInfoToDisplay(log) &&\n                      <bem.ServiceRow__actionButton\n                        onClick={this.showLogInfo.bind(this, log)}\n                        data-tip={t('More info')}\n                      >\n                        <i className='k-icon k-icon-information' />\n                      </bem.ServiceRow__actionButton>\n                    }\n                  </bem.ServiceRow__column>\n\n                  <bem.ServiceRow__column m='date'>\n                    {formatTime(log.date_modified)}\n                  </bem.ServiceRow__column>\n                </bem.ServiceRow>\n              );\n            })}\n          </bem.FormView__cell>\n\n          {this.renderLoadMoreButton()}\n        </bem.FormView__cell>\n      </bem.FormView>\n    );\n  }\n\n  render() {\n    if (this.state.isLoadingHook || (this.state.isLoadingLogs && this.state.logs.length === 0)) {\n      return (<LoadingSpinner/>);\n    } else if (this.state.logs.length === 0) {\n      return this.renderEmptyView();\n    } else {\n      return this.renderListView();\n    }\n  }\n}\n\nreactMixin(RESTServiceLogs.prototype, Reflux.ListenerMixin);\nreactMixin(RESTServiceLogs.prototype, mixins.contextRouter);\n\nRESTServiceLogs.contextTypes = {\n  router: PropTypes.object\n};\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport DocumentTitle from 'react-document-title';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport alertify from 'alertifyjs';\nimport {actions} from '../actions';\nimport bem from 'js/bem';\nimport {stores} from '../stores';\nimport Select from 'react-select';\nimport TextBox from 'js/components/common/textBox';\nimport Checkbox from 'js/components/common/checkbox';\nimport ApiTokenDisplay from './apiTokenDisplay';\nimport {hashHistory} from 'react-router';\nimport {stringToColor} from 'utils';\nimport {ROUTES} from 'js/router/routerConstants';\nimport envStore from 'js/envStore';\nimport './accountSettings.scss';\n\nconst UNSAVED_CHANGES_WARNING = t('You have unsaved changes. Leave settings without saving?');\n\nexport default class AccountSettings extends React.Component {\n  constructor(props){\n    super(props);\n    let state = {\n      isPristine: true,\n      requireAuth: false,\n      fieldsErrors: {}\n    };\n    this.state = state;\n    autoBind(this);\n  }\n\n  rebuildState() {\n    if (\n      stores.session.isLoggedIn &&\n      envStore.isReady\n    ) {\n      this.setStateFromSession(\n        stores.session.currentAccount,\n        envStore.data\n      );\n    }\n  }\n\n  componentDidMount() {\n    this.props.router.setRouteLeaveHook(this.props.route, this.routerWillLeave);\n    this.listenTo(stores.session, this.rebuildState);\n    this.rebuildState();\n  }\n\n  componentWillUnmount () {\n    this.unpreventClosingTab();\n  }\n\n  routerWillLeave() {\n    if (!this.state.isPristine) {\n      return UNSAVED_CHANGES_WARNING;\n    }\n  }\n\n  setStateFromSession(currentAccount, environment) {\n    if (currentAccount.extra_details === undefined) {\n      currentAccount.extra_details = {};\n    }\n\n    this.setState({\n      name: currentAccount.extra_details.name,\n      email: currentAccount.email,\n      organization: currentAccount.extra_details.organization,\n      organizationWebsite: currentAccount.extra_details.organization_website,\n      primarySector: currentAccount.extra_details.primarySector,\n      gender: currentAccount.extra_details.gender,\n      bio: currentAccount.extra_details.bio,\n      phoneNumber: currentAccount.extra_details.phone_number,\n      address: currentAccount.extra_details.address,\n      city: currentAccount.extra_details.city,\n      country: currentAccount.extra_details.country,\n      defaultLanguage: currentAccount.extra_details.default_language,\n      requireAuth: currentAccount.extra_details.require_auth,\n      twitter: currentAccount.extra_details.twitter,\n      linkedin: currentAccount.extra_details.linkedin,\n      instagram: currentAccount.extra_details.instagram,\n      metadata: currentAccount.extra_details.metadata,\n\n      languageChoices: environment.all_languages,\n      countryChoices: environment.available_countries,\n      sectorChoices: environment.available_sectors,\n      genderChoices: [\n        {\n          value: 'male',\n          label: t('Male')\n        },\n        {\n          value: 'female',\n          label: t('Female')\n        },\n        {\n          value: 'other',\n          label: t('Other')\n        },\n      ],\n      fieldsErrors: {}\n    });\n  }\n\n  /**\n   * returns to where you came from\n   */\n  safeClose() {\n    if (this.state.isPristine) {\n      hashHistory.goBack();\n    } else {\n      let dialog = alertify.dialog('confirm');\n      let opts = {\n        title: UNSAVED_CHANGES_WARNING,\n        message: '',\n        labels: {ok: t('Yes, leave settings'), cancel: t('Cancel')},\n        onok: () => {\n          this.setState({isPristine: true});\n          this.unpreventClosingTab();\n          hashHistory.goBack();\n        },\n        oncancel: dialog.destroy\n      };\n      dialog.set(opts).show();\n    }\n  }\n\n  preventClosingTab() {\n    $(window).on('beforeunload.noclosetab', () => {\n      return UNSAVED_CHANGES_WARNING;\n    });\n  }\n\n  unpreventClosingTab() {\n    $(window).off('beforeunload.noclosetab');\n  }\n\n  updateProfile() {\n    actions.misc.updateProfile(\n      {\n        email: this.state.email,\n        extra_details: JSON.stringify({\n          name: this.state.name,\n          organization: this.state.organization,\n          organization_website: this.state.organizationWebsite,\n          primarySector: this.state.primarySector,\n          gender: this.state.gender,\n          bio: this.state.bio,\n          phone_number: this.state.phoneNumber,\n          address: this.state.address,\n          city: this.state.city,\n          country: this.state.country,\n          default_language: this.state.defaultLanguage,\n          require_auth: this.state.requireAuth,\n          twitter: this.state.twitter,\n          linkedin: this.state.linkedin,\n          instagram: this.state.instagram,\n          metadata: this.state.metadata,\n        })\n      },\n      {\n        onComplete: this.onUpdateComplete.bind(this),\n        onFail: this.onUpdateFail.bind(this)\n      }\n    );\n  }\n\n  onUpdateComplete() {\n    this.unpreventClosingTab();\n    this.setState({\n      isPristine: true,\n      fieldsErrors: {}\n    });\n  }\n\n  onUpdateFail(data) {\n    this.setState({fieldsErrors: data.responseJSON});\n  }\n\n  handleChange(evt, attr) {\n    let val;\n    if (evt && evt.target) {\n      if (evt.target.type === 'checkbox') {\n        val = evt.target.checked;\n      } else {\n        val = evt.target.value;\n      }\n    } else {\n      // react-select, TextBox and Checkbox just passes a value\n      val = evt;\n    }\n    this.preventClosingTab();\n    this.setState({\n      isPristine: false,\n      [attr]: val\n    });\n  }\n  nameChange (e) {this.handleChange(e, 'name');}\n  emailChange (e) {this.handleChange(e, 'email');}\n  organizationChange (e) {this.handleChange(e, 'organization');}\n  organizationWebsiteChange (e) {this.handleChange(e, 'organizationWebsite');}\n  primarySectorChange (e) {this.handleChange(e, 'primarySector');}\n  genderChange (e) {this.handleChange(e, 'gender');}\n  bioChange (e) {this.handleChange(e, 'bio');}\n  phoneNumberChange (e) {this.handleChange(e, 'phoneNumber');}\n  addressChange (e) {this.handleChange(e, 'address');}\n  cityChange (e) {this.handleChange(e, 'city');}\n  countryChange (e) {this.handleChange(e, 'country');}\n  defaultLanguageChange (e) {this.handleChange(e, 'defaultLanguage');}\n  requireAuthChange (isChecked) {this.handleChange(isChecked, 'requireAuth');}\n  twitterChange (e) {this.handleChange(e, 'twitter');}\n  linkedinChange (e) {this.handleChange(e, 'linkedin');}\n  instagramChange (e) {this.handleChange(e, 'instagram');}\n  metadataChange (e) {this.handleChange(e, 'metadata');}\n\n  render() {\n    if(!stores.session.isLoggedIn || !envStore.isReady) {\n      return null;\n    }\n\n    var accountName = stores.session.currentAccount.username;\n    var initialsStyle = {\n      background: `#${stringToColor(accountName)}`\n    };\n\n    return (\n      <DocumentTitle title={`${accountName} | KoboToolbox`}>\n        <bem.AccountSettings>\n          <bem.AccountSettings__actions>\n            <bem.KoboButton\n              onClick={this.updateProfile}\n              m={['blue']}\n            >\n              {t('Save Changes')}\n              {!this.state.isPristine && ' *'}\n            </bem.KoboButton>\n\n            <bem.Button\n              onClick={this.safeClose}\n              m='icon'\n              className='account-settings-close'\n            >\n              <i className='k-icon k-icon-close'/>\n            </bem.Button>\n          </bem.AccountSettings__actions>\n\n          <bem.AccountSettings__item m={'column'}>\n            <bem.AccountSettings__item m='username'>\n              <bem.AccountBox__initials style={initialsStyle}>\n                {accountName.charAt(0)}\n              </bem.AccountBox__initials>\n\n              <h4>{accountName}</h4>\n            </bem.AccountSettings__item>\n\n            <bem.AccountSettings__item m='fields'>\n              <bem.AccountSettings__item>\n                <bem.AccountSettings__item>\n                  <label htmlFor='requireAuth'>{t('Privacy')}</label>\n                </bem.AccountSettings__item>\n\n                <Checkbox\n                  checked={this.state.requireAuth}\n                  onChange={this.requireAuthChange}\n                  label={t('Require authentication to see forms and submit data')}\n                />\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Name')}\n                  errors={this.state.fieldsErrors.name}\n                  value={this.state.name}\n                  onChange={this.nameChange}\n                  description={t('Use this to display your real name to other users')}\n                />\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Email')}\n                  type='email'\n                  errors={this.state.fieldsErrors.email}\n                  value={this.state.email}\n                  onChange={this.emailChange}\n                />\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item m='password'>\n                <a\n                  href={`/#${ROUTES.CHANGE_PASSWORD}`}\n                  className='kobo-button kobo-button--teal'\n                >\n                  {t('Modify Password')}\n                </a>\n              </bem.AccountSettings__item>\n\n              <ApiTokenDisplay/>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Organization')}\n                  errors={this.state.fieldsErrors.organization}\n                  value={this.state.organization}\n                  onChange={this.organizationChange}\n                />\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Organization Website')}\n                  type='url'\n                  errors={this.state.fieldsErrors.organizationWebsite}\n                  value={this.state.organizationWebsite}\n                  onChange={this.organizationWebsiteChange}\n                />\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item m='primary-sector'>\n                <label>\n                  {t('Primary Sector')}\n\n                  <Select\n                    value={this.state.primarySector}\n                    options={this.state.sectorChoices}\n                    onChange={this.primarySectorChange}\n                    className='kobo-select'\n                    classNamePrefix='kobo-select'\n                    menuPlacement='auto'\n                  />\n                </label>\n\n                <bem.AccountSettings__desc>\n                  {t('Select the primary sector in which you work. ')}\n                </bem.AccountSettings__desc>\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item m='gender'>\n                <label>\n                  {t('Gender')}\n\n                  <Select\n                    value={this.state.gender}\n                    options={this.state.genderChoices}\n                    onChange={this.genderChange}\n                    isSearchable={false}\n                    className='kobo-select'\n                    classNamePrefix='kobo-select'\n                    menuPlacement='auto'\n                  />\n                </label>\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item m='bio'>\n                <label>\n                  {t('Bio')}\n\n                  <TextareaAutosize\n                    onChange={this.bioChange}\n                    value={this.state.bio}\n                    id='bio'\n                  />\n                </label>\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Phone Number')}\n                  errors={this.state.fieldsErrors.phoneNumber}\n                  value={this.state.phoneNumber}\n                  onChange={this.phoneNumberChange}\n                />\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Address')}\n                  errors={this.state.fieldsErrors.address}\n                  value={this.state.address}\n                  onChange={this.addressChange}\n                />\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item m='city'>\n                <TextBox\n                  label={t('City')}\n                  errors={this.state.fieldsErrors.city}\n                  value={this.state.city}\n                  onChange={this.cityChange}\n                />\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item m='country'>\n                <label>\n                  {t('Country')}\n\n                  <Select\n                    value={this.state.country}\n                    options={this.state.countryChoices}\n                    onChange={this.countryChange}\n                    className='kobo-select'\n                    classNamePrefix='kobo-select'\n                    menuPlacement='auto'\n                  />\n                </label>\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item m='social'>\n                <label>{t('Social')}</label>\n\n                <label>\n                  <i className='k-icon k-icon-logo-twitter' />\n\n                  <input\n                    type='text'\n                    value={this.state.twitter}\n                    onChange={this.twitterChange}\n                  />\n                </label>\n\n                <label>\n                  <i className='k-icon k-icon-logo-linkedin' />\n\n                  <input\n                    type='text'\n                    value={this.state.linkedin}\n                    onChange={this.linkedinChange}\n                  />\n                </label>\n\n                <label>\n                  <i className='k-icon k-icon-logo-instagram' />\n\n                  <input\n                    type='text'\n                    value={this.state.instagram}\n                    onChange={this.instagramChange}\n                  />\n                </label>\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Metadata')}\n                  errors={this.state.fieldsErrors.metadata}\n                  value={this.state.metadata}\n                  onChange={this.metadataChange}\n                />\n              </bem.AccountSettings__item>\n            </bem.AccountSettings__item>\n          </bem.AccountSettings__item>\n        </bem.AccountSettings>\n      </DocumentTitle>\n    );\n  }\n}\n\nreactMixin(AccountSettings.prototype, Reflux.connect(stores.session, 'session'));\nreactMixin(AccountSettings.prototype, Reflux.ListenerMixin);\n","/**\n * For displaying your secret API token\n */\n\nimport React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\n\nclass ApiTokenDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.HIDDEN_VAL = '*'.repeat(40);\n    this.state = {\n      token: this.HIDDEN_VAL,\n      isLoadingToken: false\n    };\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      actions.auth.getApiToken.completed.listen(this.onGetApiTokenCompleted.bind(this)),\n      actions.auth.getApiToken.failed.listen(this.onGetApiTokenFailed.bind(this))\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onGetApiTokenCompleted(token) {\n    this.setState({\n      token: token,\n      isLoadingToken: false\n    });\n  }\n\n  onGetApiTokenFailed() {\n    this.setState({isLoadingToken: false});\n  }\n\n  toggleApiTokenVisibility() {\n    this.setState({isTokenVisible: !this.state.isTokenVisible});\n    actions.auth.getApiToken();\n  }\n\n  onInputFocus(evt) {\n    evt.currentTarget.select();\n  }\n\n  render() {\n    return (\n      <bem.FormModal__item m='api-token'>\n        <label>{t('API token')}</label>\n\n        <input\n          type={this.state.isTokenVisible && !this.state.isLoadingToken ? 'text' : 'password'}\n          value={this.state.token}\n          onFocus={this.onInputFocus}\n          readOnly\n        />\n\n        <bem.Button\n          onClick={this.toggleApiTokenVisibility}\n          disabled={this.state.isLoadingToken}\n          m='icon'\n        >\n          <i className={this.state.isTokenVisible ? 'k-icon k-icon-hide'\n                                                  : 'k-icon k-icon-view'}\n          />\n        </bem.Button>\n      </bem.FormModal__item>\n    );\n  }\n}\n\nexport default ApiTokenDisplay;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport {searches} from 'js/searches';\nimport mixins from 'js/mixins';\nimport {stores} from 'js/stores';\nimport {dataInterface} from 'js/dataInterface';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport AssetRow from './assetrow';\nimport DocumentTitle from 'react-document-title';\nimport Dropzone from 'react-dropzone';\nimport {validFileTypes} from 'utils';\nimport {redirectToLogin} from 'js/router/routerUtils';\nimport {\n  ASSET_TYPES,\n  COMMON_QUERIES,\n  ACCESS_TYPES,\n  DEPLOYMENT_CATEGORIES,\n} from 'js/constants';\n\nclass SearchCollectionList extends Reflux.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ownedCollections: [],\n      fixedHeadings: '',\n      fixedHeadingsWidth: 'auto',\n    };\n    this.store = stores.selectedAsset;\n    this.unlisteners = [];\n    autoBind(this);\n  }\n  componentDidMount() {\n    this.unlisteners.push(\n      this.searchStore.listen(this.searchChanged)\n    );\n    this.queryCollections();\n  }\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n  searchChanged(searchStoreState) {\n    this.setState(searchStoreState);\n    if (searchStoreState.searchState === 'done') {\n      this.queryCollections();\n    }\n  }\n  queryCollections() {\n    if (this.props.searchContext.store.filterTags !== COMMON_QUERIES.s) {\n      dataInterface.getCollections().then((collections) => {\n        this.setState({\n          ownedCollections: collections.results.filter((value) => {\n            if (value.access_types && value.access_types.includes(ACCESS_TYPES.shared)) {\n              // TODO: include shared assets with edit (change) permission for current user\n              // var hasChangePermission = false;\n              // value.permissions.forEach((perm, index) => {\n              //   if (perm.permission == 'change_asset')\n              //     hasChangePermission = true;\n              // });\n              // return hasChangePermission;\n              return false;\n            } else {\n              return value.access_types && value.access_types.includes(ACCESS_TYPES.owned);\n            }\n          })\n        });\n      });\n    }\n  }\n  handleScroll(event) {\n    if (this.props.searchContext.store.filterTags === COMMON_QUERIES.s) {\n      let offset = $(event.target).children('.asset-list').offset().top;\n      this.setState({\n        fixedHeadings: offset < 30 ? 'fixed-headings' : '',\n        fixedHeadingsWidth: offset < 30 ? $(event.target).children('.asset-list').width() + 'px' : 'auto',\n      });\n    }\n  }\n\n  renderAssetRow(resource) {\n    var currentUsername = stores.session.currentAccount && stores.session.currentAccount.username;\n    var isSelected = stores.selectedAsset.uid === resource.uid;\n    var ownedCollections = this.state.ownedCollections;\n\n    // for unnamed assets, we try to display first question label\n    let firstQuestionLabel;\n    if (\n      resource.asset_type !== ASSET_TYPES.survey.id &&\n      resource.name === '' &&\n      resource.summary &&\n      resource.summary.labels &&\n      resource.summary.labels.length > 0\n    ) {\n      firstQuestionLabel = resource.summary.labels[0];\n    }\n\n    return (\n      <this.props.assetRowClass key={resource.uid}\n        currentUsername={currentUsername}\n        onActionButtonClick={this.onActionButtonClick}\n        isSelected={isSelected}\n        ownedCollections={ownedCollections}\n        deleting={resource.deleting}\n        firstQuestionLabel={firstQuestionLabel}\n        {...resource}\n      />\n    );\n  }\n  renderHeadings() {\n    return [\n      (\n        <bem.List__heading key='1'>\n          <span className={this.state.parentName ? 'parent' : ''}>\n            {t('My Library')}\n          </span>\n\n          {this.state.parentName &&\n            <span>\n              <i className='k-icon k-icon-next' />\n              <span>{this.state.parentName}</span>\n            </span>\n          }\n        </bem.List__heading>\n      ),\n      (\n        <bem.AssetListSorts className='mdl-grid' key='2'>\n          <bem.AssetListSorts__item m={'name'} className='mdl-cell mdl-cell--6-col mdl-cell--3-col-tablet mdl-cell--2-col-phone'>\n            {t('Name')}\n          </bem.AssetListSorts__item>\n          <bem.AssetListSorts__item m={'type'} className='mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone'>\n            {t('Type')}\n          </bem.AssetListSorts__item>\n          <bem.AssetListSorts__item m={'owner'} className='mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone'>\n            {t('Owner')}\n          </bem.AssetListSorts__item>\n          <bem.AssetListSorts__item m={'modified'} className='mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone'>\n            {t('Last Modified')}\n          </bem.AssetListSorts__item>\n        </bem.AssetListSorts>\n      )];\n  }\n  renderGroupedHeadings() {\n    return (\n        <bem.AssetListSorts className='mdl-grid' style={{width: this.state.fixedHeadingsWidth}}>\n          <bem.AssetListSorts__item m={'name'} className='mdl-cell mdl-cell--5-col mdl-cell--4-col-tablet mdl-cell--2-col-phone'>\n            {t('Name')}\n          </bem.AssetListSorts__item>\n          <bem.AssetListSorts__item m={'owner'} className='mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone'>\n            {t('Shared by')}\n          </bem.AssetListSorts__item>\n          <bem.AssetListSorts__item m={'created'} className='mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone'>\n            {t('Created')}\n          </bem.AssetListSorts__item>\n          <bem.AssetListSorts__item m={'modified'} className='mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone'>\n            {t('Last Modified')}\n          </bem.AssetListSorts__item>\n          <bem.AssetListSorts__item m={'submissions'} className='mdl-cell mdl-cell--1-col mdl-cell--1-col-tablet mdl-cell--1-col-phone' >\n            {t('Submissions')}\n          </bem.AssetListSorts__item>\n        </bem.AssetListSorts>\n      );\n  }\n  renderGroupedResults() {\n    var searchResultsBucket = 'defaultQueryCategorizedResultsLists';\n    if (this.state.searchResultsDisplayed) {\n      searchResultsBucket = 'searchResultsCategorizedResultsLists';\n    }\n\n    var results = Object.keys(DEPLOYMENT_CATEGORIES).map(\n      (category, i) => {\n        if (this.state[searchResultsBucket][category].length < 1) {\n          return [];\n        }\n        return [\n          <bem.List__subheading key={i}>\n            {DEPLOYMENT_CATEGORIES[category].label}\n          </bem.List__subheading>,\n\n          <bem.AssetItems m={i + 1} key={i + 2}>\n            {this.renderGroupedHeadings()}\n            {\n              (() => {\n                return this.state[[searchResultsBucket]][category].map(this.renderAssetRow);\n              })()\n            }\n          </bem.AssetItems>\n        ];\n      }\n    );\n\n    return results;\n  }\n\n  render() {\n    if (!stores.session.isLoggedIn && stores.session.isAuthStateKnown) {\n      redirectToLogin();\n      return null;\n    }\n\n    var s = this.state;\n    var docTitle = '';\n    let display;\n    if (this.props.searchContext.store.filterTags === COMMON_QUERIES.s) {\n      display = 'grouped';\n      docTitle = t('Projects');\n    } else {\n      display = 'regular';\n      docTitle = t('Library');\n    }\n    return (\n      <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n        <Dropzone\n          onDrop={this.dropFiles}\n          disableClick\n          multiple\n          className='dropzone'\n          activeClassName='dropzone--active'\n          accept={validFileTypes()}\n        >\n          <bem.List m={display} onScroll={this.handleScroll}>\n            {\n              (() => {\n                if (display === 'regular') {\n                  return this.renderHeadings();\n                }\n              })()\n            }\n            <bem.AssetList m={this.state.fixedHeadings}>\n            {\n              (() => {\n                if (s.searchResultsDisplayed) {\n                  if (s.searchState === 'loading') {\n                    return (<LoadingSpinner/>);\n                  } else if (s.searchState === 'done') {\n                    if (s.searchResultsCount === 0) {\n                      return (\n                        <bem.Loading>\n                          <bem.Loading__inner>\n                            {t('Your search returned no results.')}\n                          </bem.Loading__inner>\n                        </bem.Loading>\n                      );\n                    } else if (display === 'grouped') {\n                      return this.renderGroupedResults();\n                    } else {\n                      return s.searchResultsList.map(this.renderAssetRow);\n                    }\n                  }\n                } else {\n                  if (s.defaultQueryState === 'loading') {\n                    return (<LoadingSpinner/>);\n                  } else if (s.defaultQueryState === 'done') {\n                    if (s.defaultQueryCount < 1) {\n                      if (s.defaultQueryFor.assetType === COMMON_QUERIES.s) {\n                        return (\n                          <bem.Loading>\n                            <bem.Loading__inner>\n                              {t('Let\\'s get started by creating your first project. Click the New button to create a new form.')}\n                              <div className='pro-tip'>\n                              {t('Advanced users: You can also drag and drop XLSForms here and they will be uploaded and converted to projects.')}\n                              </div>\n                            </bem.Loading__inner>\n                          </bem.Loading>\n                        );\n                      } else {\n                        return (\n                          <bem.Loading>\n                            <bem.Loading__inner>\n                              {t('Let\\'s get started by creating your first library question or question block. Click the New button to create a new question or block.')}\n                            </bem.Loading__inner>\n                          </bem.Loading>\n                        );\n                      }\n                    }\n\n                    if (display === 'grouped') {\n                      return this.renderGroupedResults();\n                    } else {\n                      return s.defaultQueryResultsList.map(this.renderAssetRow);\n                    }\n                  }\n                }\n                // it shouldn't get to this point\n                return false;\n              })()\n            }\n            </bem.AssetList>\n            <div className='dropzone-active-overlay'>\n              <i className='k-icon k-icon-upload' />\n              {t('Drop files to upload')}\n            </div>\n          </bem.List>\n        </Dropzone>\n      </DocumentTitle>\n      );\n  }\n}\n\nSearchCollectionList.defaultProps = {\n  assetRowClass: AssetRow,\n  searchContext: 'default',\n};\n\nSearchCollectionList.contextTypes = {\n  router: PropTypes.object\n};\n\nreactMixin(SearchCollectionList.prototype, searches.common);\nreactMixin(SearchCollectionList.prototype, mixins.clickAssets);\nreactMixin(SearchCollectionList.prototype, Reflux.ListenerMixin);\nreactMixin(SearchCollectionList.prototype, mixins.droppable);\n\nexport default SearchCollectionList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport { Link } from 'react-router';\nimport bem from 'js/bem';\nimport assetUtils from 'js/assetUtils';\nimport PopoverMenu from 'js/popoverMenu';\nimport {stores} from '../stores';\nimport mixins from '../mixins';\nimport {\n  KEY_CODES,\n  ASSET_TYPES\n} from 'js/constants';\nimport TagInput from 'js/components/tagInput';\nimport AssetName from 'js/components/common/assetName';\nimport {formatTime} from 'utils';\n\nclass AssetRow extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isTagsInputVisible: false,\n      clearPopover: false,\n      popoverVisible: false\n    };\n    this.escFunction = this.escFunction.bind(this);\n    autoBind(this);\n  }\n\n  clickAssetButton (evt) {\n    var clickedActionIcon = $(evt.target).closest('[data-action]').get(0);\n    if (clickedActionIcon) {\n      var action = clickedActionIcon.getAttribute('data-action');\n      var name = clickedActionIcon.getAttribute('data-asset-name') || t('untitled');\n      stores.selectedAsset.toggleSelect(this.props.uid, true);\n      this.props.onActionButtonClick(action, this.props.uid, name);\n    }\n  }\n\n  clickTagsToggle () {\n    const isTagsInputVisible = !this.state.isTagsInputVisible;\n    if (isTagsInputVisible) {\n      document.addEventListener('keydown', this.escFunction);\n    } else {\n      document.removeEventListener('keydown', this.escFunction);\n    }\n    this.setState({isTagsInputVisible: isTagsInputVisible});\n  }\n\n  escFunction (evt) {\n    if (evt.keyCode === KEY_CODES.ESC && this.state.isTagsInputVisible) {\n      this.clickTagsToggle();\n    }\n  }\n\n  moveToCollection (evt) {\n    assetUtils.moveToCollection(this.props.uid, evt.currentTarget.dataset.collid);\n  }\n\n  forceClosePopover () {\n    if (this.state.popoverVisible) {\n      this.setState({clearPopover: true, popoverVisible: false});\n    }\n  }\n\n  popoverSetVisible () {\n    this.setState({clearPopover: false, popoverVisible: true});\n  }\n\n  render () {\n    const isSelfOwned = assetUtils.isSelfOwned(this.props);\n    var _rc = this.props.summary && this.props.summary.row_count || 0;\n\n    var hrefTo = `/forms/${this.props.uid}`,\n        tags = this.props.tags || [],\n        ownedCollections = [],\n        parent = undefined;\n\n    var isDeployable = this.props.asset_type && this.props.asset_type === ASSET_TYPES.survey.id && this.props.deployed_version_id === null;\n\n    const userCanEdit = this.userCan('change_asset', this.props);\n\n    const assetName = this.props.name || this.props.firstQuestionLabel;\n\n    if (this.props.has_deployment && this.props.deployment__submission_count &&\n        this.userCan('view_submissions', this.props)) {\n      hrefTo = `/forms/${this.props.uid}/summary`;\n    }\n\n    if (this.isLibrary()) {\n      hrefTo = `/library/asset/${this.props.uid}`;\n      parent = this.state.parent || undefined;\n      ownedCollections = this.props.ownedCollections.map(function(c){\n        var p = false;\n        if (parent != undefined && parent.indexOf(c.uid) !== -1) {\n          p = true;\n        }\n        return {\n          value: c.uid,\n          label: c.name || c.uid,\n          hasParent: p\n        };\n      });\n    }\n\n    return (\n        <bem.AssetRow\n          m={{\n            'display-tags': this.state.isTagsInputVisible,\n            'deleted': this.props.deleted,\n            'deleting': this.props.deleting,\n          }}\n          className='mdl-grid'\n          key={this.props.uid}\n          onMouseLeave={this.forceClosePopover}\n        >\n          <bem.AssetRow__cell\n            m={'asset-details'}\n            key={'asset-details'}\n            onClick={this.clickAssetButton}\n            data-asset-type={this.props.kind}\n          >\n            <Link\n              to={hrefTo}\n              data-kind={this.props.kind}\n              data-asset-type={this.props.kind}\n              draggable={false}\n              className='asset-row__link-overlay'\n            />\n\n            {/* \"title\" column */}\n            <bem.AssetRow__cell\n              m={'title'}\n              className={['mdl-cell', this.props.asset_type == ASSET_TYPES.survey.id ? 'mdl-cell--5-col mdl-cell--4-col-tablet mdl-cell--2-col-phone' : 'mdl-cell--6-col mdl-cell--3-col-tablet mdl-cell--2-col-phone']}\n            >\n              { this.props.asset_type && (\n                  this.props.asset_type == ASSET_TYPES.template.id ||\n                  this.props.asset_type == ASSET_TYPES.block.id ||\n                  this.props.asset_type == ASSET_TYPES.question.id\n                ) &&\n                <i className={`row-icon row-icon--${this.props.asset_type}`}>{_rc}</i>\n              }\n              <bem.AssetRow__cell m='name'>\n                <AssetName asset={this.props} />\n              </bem.AssetRow__cell>\n              { this.props.asset_type && this.props.asset_type === ASSET_TYPES.survey.id && this.props.settings.description &&\n                <bem.AssetRow__description>\n                  {this.props.settings.description}\n                </bem.AssetRow__description>\n              }\n            </bem.AssetRow__cell>\n\n            {/* \"type\" column for library types */}\n            { this.props.asset_type && (\n                this.props.asset_type == ASSET_TYPES.template.id ||\n                this.props.asset_type == ASSET_TYPES.block.id ||\n                this.props.asset_type == ASSET_TYPES.question.id\n              ) &&\n              <bem.AssetRow__cell\n                m={'type'}\n                className={['mdl-cell mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone']}\n              >\n                {ASSET_TYPES[this.props.asset_type].label}\n              </bem.AssetRow__cell>\n            }\n\n            {/* \"user\" column */}\n            <bem.AssetRow__cell\n              m={'userlink'}\n              key={'userlink'}\n              className={[\n                'mdl-cell',\n                this.props.asset_type == ASSET_TYPES.survey.id ? 'mdl-cell--2-col mdl-cell--1-col-tablet mdl-cell--hide-phone' : 'mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone'\n              ]}\n            >\n              { this.props.asset_type == ASSET_TYPES.survey.id &&\n                <span>{ isSelfOwned ? ' ' : this.props.owner__username }</span>\n              }\n              { this.props.asset_type != ASSET_TYPES.survey.id &&\n                <span>{assetUtils.getAssetOwnerDisplayName(this.props.owner__username)}</span>\n              }\n            </bem.AssetRow__cell>\n\n            {/* \"date created\" column for surveys */}\n            { this.props.asset_type == ASSET_TYPES.survey.id &&\n              <bem.AssetRow__cell m={'date-created'}\n                  key={'date-created'}\n                  className='mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone'\n                  >\n                <span className='date date--created'>{formatTime(this.props.date_created)}</span>\n              </bem.AssetRow__cell>\n            }\n            {/* \"date modified\" column */}\n            <bem.AssetRow__cell\n              m={'date-modified'}\n              key={'date-modified'}\n              className={['mdl-cell mdl-cell--2-col mdl-cell--2-col-tablet mdl-cell--1-col-phone']}\n            >\n              <span className='date date--modified'>{formatTime(this.props.date_modified)}</span>\n            </bem.AssetRow__cell>\n\n            {/* \"submission count\" column for surveys */}\n            { this.props.asset_type == ASSET_TYPES.survey.id &&\n              <bem.AssetRow__cell\n                m={'submission-count'}\n                key={'submission-count'}\n                className='mdl-cell mdl-cell--1-col mdl-cell--1-col-tablet mdl-cell--1-col-phone'\n              >\n                {\n                  this.props.deployment__submission_count ?\n                    this.props.deployment__submission_count : 0\n                }\n              </bem.AssetRow__cell>\n            }\n          </bem.AssetRow__cell>\n\n          { this.state.isTagsInputVisible &&\n            <bem.AssetRow__cell m={'tags'}\n                key={'tags'}\n                className='mdl-cell mdl-cell--12-col'\n                >\n              <TagInput uid={this.props.uid} tags={this.props.tags} />\n            </bem.AssetRow__cell>\n          }\n\n          <bem.AssetRow__buttons onClick={this.clickAssetButton}>\n            {userCanEdit &&\n              <bem.AssetRow__actionIcon\n                  m='edit'\n                  key='edit'\n                  data-action='edit'\n                  data-tip={t('Edit')}\n                  data-asset-type={this.props.kind}\n                  data-disabled={false}\n                  >\n                <i className='k-icon k-icon-edit' />\n              </bem.AssetRow__actionIcon>\n            }\n\n            {userCanEdit &&\n              <bem.AssetRow__actionIcon\n                  m='tagsToggle'\n                  onClick={this.clickTagsToggle}\n                  data-tip= {t('Tags')}\n                  >\n                <i className='k-icon k-icon-tag' />\n              </bem.AssetRow__actionIcon>\n            }\n\n            {userCanEdit &&\n              <bem.AssetRow__actionIcon\n                  m='sharing'\n                  key='sharing'\n                  data-action='sharing'\n                  data-asset-type={this.props.kind}\n                  data-tip= {t('Share')}\n                  data-disabled={false}\n                  >\n                <i className='k-icon k-icon-user-share' />\n              </bem.AssetRow__actionIcon>\n            }\n\n            <bem.AssetRow__actionIcon\n                m='clone'\n                key='clone'\n                data-action='clone'\n                data-tip={t('Clone')}\n                data-asset-type={this.props.kind}\n                data-asset-name={assetName}\n                data-disabled={false}\n                >\n              <i className='k-icon k-icon-clone' />\n            </bem.AssetRow__actionIcon>\n\n            { this.props.asset_type &&\n              this.props.asset_type === ASSET_TYPES.template.id &&\n              userCanEdit &&\n              <bem.AssetRow__actionIcon\n                m={'cloneAsSurvey'}\n                key='cloneAsSurvey'\n                data-action={'cloneAsSurvey'}\n                data-tip={t('Create project')}\n                data-asset-type={this.props.kind}\n                data-asset-name={assetName}\n                data-disabled={false}\n              >\n                <i className='k-icon k-icon-projects' />\n              </bem.AssetRow__actionIcon>\n            }\n\n            { this.props.asset_type === ASSET_TYPES.collection.id &&\n              [/*'view',*/ 'sharing'].map((actn)=>{\n                return (\n                      <bem.AssetRow__actionIcon\n                        m={actn === 'view' ? 'view-collection' : actn}\n                          data-action={actn}\n                          data-asset-type={this.props.kind}\n                          data-disabled={false}\n                          data-tip={actn}\n                          >\n                        <i />\n                      </bem.AssetRow__actionIcon>\n                    );\n              })\n            }\n            <PopoverMenu\n              type='assetrow-menu'\n              triggerLabel={\n                <div data-tip={t('More actions')}>\n                  <i className='k-icon k-icon-more'/>\n                </div>\n              }\n              clearPopover={this.state.clearPopover}\n              popoverSetVisible={this.popoverSetVisible}\n            >\n              { this.props.asset_type && this.props.asset_type === ASSET_TYPES.survey.id && userCanEdit && isDeployable &&\n                <bem.PopoverMenu__link\n                    m={'deploy'}\n                    data-action={'deploy'}\n                    data-asset-type={this.props.kind}>\n                  <i className='k-icon k-icon-deploy' />\n                  {t('Deploy this project')}\n                </bem.PopoverMenu__link>\n              }\n              { this.props.asset_type && this.props.asset_type === ASSET_TYPES.survey.id && this.props.has_deployment && !this.props.deployment__active && userCanEdit &&\n                <bem.PopoverMenu__link\n                      m={'unarchive'}\n                      data-action={'unarchive'}\n                      data-asset-type={this.props.kind}\n                    >\n                  <i className='k-icon k-icon-archived' />\n                  {t('Unarchive')}\n                </bem.PopoverMenu__link>\n              }\n              { this.props.asset_type && this.props.asset_type === ASSET_TYPES.survey.id && userCanEdit &&\n                <bem.PopoverMenu__link\n                  m={'refresh'}\n                  data-action={'refresh'}\n                  data-asset-type={this.props.kind}\n                >\n                  <i className='k-icon k-icon-replace' />\n                  {t('Replace form')}\n                </bem.PopoverMenu__link>\n              }\n              { userCanEdit &&\n                <bem.PopoverMenu__link\n                  data-action={'translations'}\n                  data-asset-uid={this.props.uid}\n                >\n                  <i className='k-icon k-icon-language' />\n                  {t('Manage translations')}\n                </bem.PopoverMenu__link>\n              }\n              { /* temporarily disabled\n              <bem.PopoverMenu__link\n                data-action={'encryption'}\n                data-asset-uid={this.props.uid}\n              >\n                <i className='k-icon k-icon-lock'/>\n                {t('Manage Encryption')}\n              </bem.PopoverMenu__link>\n              */ }\n              {this.props.downloads.map((dl)=>{\n                return (\n                    <bem.PopoverMenu__link m={`dl-${dl.format}`} href={dl.url}\n                        key={`dl-${dl.format}`}>\n                      <i className={`k-icon k-icon-${dl.format}-file`}/>\n                      {t('Download')}&nbsp;\n                      {dl.format.toString().toUpperCase()}\n                    </bem.PopoverMenu__link>\n                  );\n              })}\n              { this.props.asset_type && this.props.asset_type != ASSET_TYPES.survey.id && ownedCollections.length > 0 &&\n                <bem.PopoverMenu__heading>\n                  {t('Move to')}\n                </bem.PopoverMenu__heading>\n              }\n              { this.props.asset_type && this.props.asset_type != ASSET_TYPES.survey.id && ownedCollections.length > 0 &&\n                <bem.PopoverMenu__moveTo>\n                  {ownedCollections.map((col)=>{\n                    return (\n                        <bem.PopoverMenu__item\n                          onClick={this.moveToCollection}\n                          data-collid={col.value}\n                          data-parent={col.hasParent ? 'true' : 'false'}\n                          key={col.value}\n                          title={col.label}\n                          m='move-coll-item'>\n                            <i className='k-icon k-icon-folder' />\n                            {col.label}\n                        </bem.PopoverMenu__item>\n                      );\n                  })}\n                </bem.PopoverMenu__moveTo>\n              }\n              { this.props.asset_type && this.props.asset_type === ASSET_TYPES.survey.id && this.props.has_deployment && this.props.deployment__active && userCanEdit &&\n                <bem.PopoverMenu__link\n                      m={'archive'}\n                      data-action={'archive'}\n                      data-asset-type={this.props.kind}\n                    >\n                  <i className='k-icon k-icon-archived' />\n                  {t('Archive')}\n                </bem.PopoverMenu__link>\n              }\n              { this.props.asset_type && this.props.asset_type === ASSET_TYPES.survey.id && userCanEdit &&\n                <bem.PopoverMenu__link\n                  m={'cloneAsTemplate'}\n                  data-action={'cloneAsTemplate'}\n                  data-asset-type={this.props.kind}\n                  data-asset-name={assetName}\n                >\n                  <i className='k-icon k-icon-template' />\n                  {t('Create template')}\n                </bem.PopoverMenu__link>\n              }\n              {isSelfOwned &&\n                <bem.PopoverMenu__link\n                  m={'delete'}\n                  data-action={'delete'}\n                  data-asset-type={this.props.kind}\n                  data-asset-name={assetName}\n                >\n                  <i className='k-icon k-icon-trash' />\n                  {t('Delete')}\n                </bem.PopoverMenu__link>\n              }\n              {!isSelfOwned &&\n                <bem.PopoverMenu__link\n                  m={'removeSharing'}\n                  data-action={'removeSharing'}\n                >\n                  <i className='k-icon k-icon-trash' />\n                  {t('Remove shared form')}\n                </bem.PopoverMenu__link>\n              }\n            </PopoverMenu>\n          </bem.AssetRow__buttons>\n        </bem.AssetRow>\n      );\n  }\n};\n\nreactMixin(AssetRow.prototype, mixins.droppable);\nreactMixin(AssetRow.prototype, mixins.permissions);\nreactMixin(AssetRow.prototype, mixins.contextRouter);\n\nAssetRow.contextTypes = {\n  router: PropTypes.object\n};\n\nexport default AssetRow;\n","// NOTE Plese do not use it!\n//\n// TODO This component is very specific in usage as it is calling actions itself\n// to update the tags. It should be incorporated into assetrow (the only file\n// that uses it) with the use of KoboTagsInput. OR it should be left here to die\n// as assetrow is going away in future.\n\nimport React from 'react';\nimport autoBind from 'react-autobind';\nimport TagsInput from 'react-tagsinput';\nimport {actions} from '../actions';\nimport {cleanupTags} from 'js/assetUtils';\n\nclass TagInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {tags: props.tags, tag: ''};\n    autoBind(this);\n  }\n\n  handleChange(tags) {\n    var transformed = cleanupTags(tags);\n    this.setState({tags: transformed});\n\n    var uid = this.props.uid;\n    actions.resources.updateAsset(uid, {\n      tag_string: transformed.join(',')\n    });\n\n  }\n\n  handleChangeInput(tag) {\n    this.setState({tag});\n  }\n\n  pasteSplit(data) {\n    return data.split(',').map((tag) => {return tag.trim();});\n  }\n\n  render() {\n    var inputProps = {\n      placeholder: t('Add tag(s)')\n    };\n    return (\n      <TagsInput\n        value={this.state.tags}\n        onChange={this.handleChange.bind(this)}\n        inputValue={this.state.tag}\n        inputProps={inputProps}\n        onChangeInput={this.handleChangeInput.bind(this)}\n        onlyUnique\n        addOnBlur\n        addOnPaste\n        pasteSplit={this.pasteSplit}\n      />\n    );\n  }\n}\n\nexport default TagInput;\n","/**\n * This application handles password strength in registration form (which is\n * mainly non-JS form).\n */\n\nimport React from 'react';\nimport PasswordStrength from './components/passwordStrength';\n\nconst PASS_INPUT_ID = 'id_password1';\n\nclass RegistrationPasswordApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {currentPass: ''}\n  }\n\n  componentDidMount() {\n    this.watchInput(PASS_INPUT_ID);\n  }\n\n  watchInput(inputId) {\n    const inputEl = document.getElementById(inputId);\n    if (inputEl) {\n      inputEl.addEventListener('input', (evt) => {\n        this.setState({currentPass: evt.currentTarget.value})\n      });\n    } else {\n      throw new Error(`Input \"${inputId}\" not found!`);\n    }\n  }\n\n  render() {\n    return (\n      <PasswordStrength password={this.state.currentPass} />\n    );\n  }\n};\n\nexport default RegistrationPasswordApp;\n","import Reflux from 'reflux';\nimport clonedeep from 'lodash.clonedeep';\nimport dkobo_xlform from '../xlform/src/_xlform.init';\nimport {actions} from 'js/actions';\nimport {stores} from 'js/stores';\n\nconst surveyCompanionStore = Reflux.createStore({\n  init() {\n    this.listenTo(actions.survey.addExternalItemAtPosition, this.addExternalItemAtPosition);\n  },\n  addExternalItemAtPosition({position, survey, uid, groupId}) {\n    // `survey` is what's currently open in the form builder\n    // `uid` identifies the library item being added to `survey`\n    stores.allAssets.whenLoaded(uid, function(asset){\n      // `asset` is the library item being added to `survey`\n      // be careful not to mutate it, becuase it's kept in a store and not\n      // re-fetched from the server each time it's loaded\n      let assetCopy = clonedeep(asset);\n      // `loadDict()` will mutate its first argument; see `inputParser.parse()`\n      let _s = dkobo_xlform.model.Survey.loadDict(assetCopy.content, survey);\n      survey.insertSurvey(_s, position, groupId);\n    });\n  },\n});\n\nexport default surveyCompanionStore;\n","/**\n * A list of some of our BEM components. We used to define all of them here, but\n * recently decided to define them inside their component files. Please don't\n * add anything more here :kiss:\n */\n\nimport bem, {makeBem} from 'js/bem';\n\nbem.Button = makeBem(null, 'mdl-button', 'button');\n\nbem.KoboButton = makeBem(null, 'kobo-button', 'button');\nbem.KoboLightButton = makeBem(null, 'kobo-light-button', 'button');\nbem.KoboTextButton = makeBem(null, 'kobo-text-button', 'button');\nbem.KoboLightBadge = makeBem(null, 'kobo-light-badge', 'span');\n\nbem.KoboSelect = makeBem(null, 'kobo-select');\nbem.KoboSelect__optionWrapper = makeBem(bem.KoboSelect, 'option-wrapper');\nbem.KoboSelect__optionBadge = makeBem(bem.KoboSelect, 'option-badge');\n\nbem.PageWrapper = makeBem(null, 'page-wrapper');\nbem.PageWrapper__content = makeBem(bem.PageWrapper, 'content');\n\nbem.Loading = makeBem(null, 'loading');\nbem.Loading__inner = makeBem(bem.Loading, 'inner');\nbem.Loading__msg = makeBem(bem.Loading, 'msg');\n\nbem.EmptyContent = makeBem(null, 'empty-content', 'section');\nbem.EmptyContent__icon = makeBem(bem.EmptyContent, 'icon', 'i');\nbem.EmptyContent__title = makeBem(bem.EmptyContent, 'title', 'h1');\nbem.EmptyContent__message = makeBem(bem.EmptyContent, 'message', 'p');\nbem.EmptyContent__button = makeBem(bem.EmptyContent, 'button', 'button');\n\nbem.AssetRow = makeBem(null, 'asset-row', 'li');\nbem.AssetRow__cell        = makeBem(bem.AssetRow, 'cell');\nbem.AssetRow__cellmeta    = makeBem(bem.AssetRow, 'cellmeta');\nbem.AssetRow__description = makeBem(bem.AssetRow, 'description', 'span');\nbem.AssetRow__tags        = makeBem(bem.AssetRow, 'tags');\nbem.AssetRow__tags__tag   = makeBem(bem.AssetRow, 'tags__tag', 'span');\nbem.AssetRow__tags__notags = makeBem(bem.AssetRow, 'tags__notags', 'span');\nbem.AssetRow__actionIcon  = makeBem(bem.AssetRow, 'action-icon', 'a');\nbem.AssetRow__buttons        = makeBem(bem.AssetRow, 'buttons');\nbem.AssetRow__typeIcon  = makeBem(bem.AssetRow, 'type-icon', 'span');\n\nbem.ServiceRow = makeBem(null, 'service-row');\nbem.ServiceRow__column = makeBem(bem.ServiceRow, 'column');\nbem.ServiceRow__actionButton = makeBem(bem.ServiceRow, 'action-button', 'button');\nbem.ServiceRow__linkOverlay = makeBem(bem.ServiceRow, 'link-overlay', 'a');\nbem.ServiceRowButton = makeBem(null, 'service-row-button', 'button');\n\nbem.FormBuilder = makeBem(null, 'form-builder');\nbem.FormBuilder__contents = makeBem(bem.FormBuilder, 'contents');\n\nbem.FormBuilderMessageBox = makeBem(null, 'form-builder-message-box');\nbem.FormBuilderMessageBox__toggle = makeBem(bem.FormBuilderMessageBox, 'toggle', 'button');\nbem.FormBuilderMessageBox__details = makeBem(bem.FormBuilderMessageBox, 'details', 'section');\n\nbem.FormBuilderMeta = makeBem(null, 'form-builder-meta');\nbem.FormBuilderMeta__columns = makeBem(bem.FormBuilderMeta, 'columns');\nbem.FormBuilderMeta__column = makeBem(bem.FormBuilderMeta, 'column');\nbem.FormBuilderMeta__row = makeBem(bem.FormBuilderMeta, 'row');\n\nbem.FormBuilderAside = makeBem(null, 'form-builder-aside');\nbem.FormBuilderAside__content = makeBem(bem.FormBuilderAside, 'content');\nbem.FormBuilderAside__header = makeBem(bem.FormBuilderAside, 'header', 'h2');\nbem.FormBuilderAside__row = makeBem(bem.FormBuilderAside, 'row', 'section');\n\nbem.FormBuilderHeader = makeBem(null, 'form-builder-header');\nbem.FormBuilderHeader__row = makeBem(bem.FormBuilderHeader, 'row');\nbem.FormBuilderHeader__cell = makeBem(bem.FormBuilderHeader, 'cell');\nbem.FormBuilderHeader__item = makeBem(bem.FormBuilderHeader, 'item', 'span');\nbem.FormBuilderHeader__button = makeBem(bem.FormBuilderHeader, 'button', 'button');\nbem.FormBuilderHeader__close = makeBem(bem.FormBuilderHeader, 'close', 'button');\n\nbem.FormMedia = makeBem(null, 'form-media');\nbem.FormMedia__title = makeBem(bem.FormMedia, 'title');\nbem.FormMedia__upload = makeBem(bem.FormMedia, 'upload');\nbem.FormMedia__list = makeBem(bem.FormMedia, 'list');\nbem.FormMedia__label = makeBem(bem.FormMedia, 'label', 'label');\nbem.FormMedia__listItem = makeBem(bem.FormMedia, 'list-item', 'li');\n\nbem.FormMediaUploadUrl = makeBem(null, 'form-media-upload-url');\nbem.FormMediaUploadUrl__label = makeBem(bem.FormMediaUploadUrl, 'label', 'label');\nbem.FormMediaUploadUrl__form = makeBem(bem.FormMediaUploadUrl, 'form');\n\nbem.SearchInput = makeBem(null, 'search-input', 'input');\n\nbem.Search = makeBem(null, 'search');\nbem.Search__icon = makeBem(bem.Search, 'icon', 'i');\nbem.Search__cancel = makeBem(bem.Search, 'cancel', 'i');\nbem.Search__summary = makeBem(bem.Search, 'summary');\n\nbem.LibNav = makeBem(null, 'lib-nav');\nbem.LibNav__content = makeBem(bem.LibNav, 'content');\nbem.LibNav__header = makeBem(bem.LibNav, 'header');\nbem.LibNav__footer = makeBem(bem.LibNav, 'footer');\nbem.LibNav__search = makeBem(bem.LibNav, 'search');\nbem.LibNav__expanded = makeBem(bem.LibNav, 'expanded');\nbem.LibNav__count = makeBem(bem.LibNav, 'count');\nbem.LibNav__expandedToggle = makeBem(bem.LibNav, 'expandedToggle');\n\nbem.TemplatesList = makeBem(null, 'templates-list');\nbem.TemplatesList__header = makeBem(bem.TemplatesList, 'header');\nbem.TemplatesList__column = makeBem(bem.TemplatesList, 'column');\nbem.TemplatesList__template = makeBem(bem.TemplatesList, 'template', 'label');\nbem.TemplatesList__templateRadio = makeBem(bem.TemplatesList, 'template-radio', 'input');\n\nbem.LibList = makeBem(null, 'lib-list', 'ul');\nbem.LibList__item = makeBem(bem.LibList, 'item', 'li');\nbem.LibList__tags = makeBem(bem.LibList, 'tags');\nbem.LibList__tag = makeBem(bem.LibList, 'tag', 'span');\nbem.LibList__label = makeBem(bem.LibList, 'label');\nbem.LibList__dragbox = makeBem(bem.LibList, 'dragbox');\nbem.LibList__qtype = makeBem(bem.LibList, 'qtype');\n\nbem.SubmissionDataTable = makeBem(null, 'submission-data-table');\nbem.SubmissionDataTable__row = makeBem(bem.SubmissionDataTable, 'row');\nbem.SubmissionDataTable__column = makeBem(bem.SubmissionDataTable, 'column');\nbem.SubmissionDataTable__XMLName = makeBem(bem.SubmissionDataTable, 'xml-name');\nbem.SubmissionDataTable__value = makeBem(bem.SubmissionDataTable, 'value');\n\nbem.TableMeta = makeBem(null, 'table-meta');\nbem.TableMeta__counter = makeBem(bem.TableMeta, 'counter');\nbem.TableMeta__additionalText = makeBem(bem.TableMeta, 'additional-text', 'span'); // generally text not needed on smaller screens\nbem.TableMeta__bulkOptions = makeBem(bem.TableMeta, 'bulk-options');\n\nbem.CollectionsWrapper = makeBem(null, 'collections-wrapper');\n\nbem.CollectionNav = makeBem(null, 'collection-nav');\nbem.CollectionNav__search = makeBem(bem.CollectionNav, 'search');\nbem.CollectionNav__searchcriteria = makeBem(bem.CollectionNav, 'searchcriteria', 'ul');\nbem.CollectionNav__searchcriterion = makeBem(bem.CollectionNav, 'searchcriterion', 'li');\nbem.CollectionNav__actions = makeBem(bem.CollectionNav, 'actions');\nbem.CollectionNav__button = makeBem(bem.CollectionNav, 'button', 'button');\nbem.CollectionNav__link = makeBem(bem.CollectionNav, 'link', 'a');\nbem.CollectionNav__searchcancel = makeBem(bem.CollectionNav, 'searchcancel', 'i');\nbem.CollectionNav__searchicon = makeBem(bem.CollectionNav, 'searchicon', 'i');\n\nbem.Library = makeBem(null, 'library');\nbem.Library__typeFilter = makeBem(bem.Library, 'type-filter', 'label');\n\nbem.List = makeBem(null, 'list');\nbem.List__heading = makeBem(bem.List, 'heading');\nbem.List__subheading = makeBem(bem.List, 'subheading');\n\nbem.AssetList = makeBem(null, 'asset-list');\nbem.AssetItems = makeBem(null, 'asset-items', 'ul');\n\nbem.AssetListSorts = makeBem(null, 'asset-list-sorts', 'div');\nbem.AssetListSorts__item = makeBem(bem.AssetListSorts, 'item');\n\nbem.FormView = makeBem(null, 'form-view');\n// used in header.es6\nbem.FormView__title = makeBem(bem.FormView, 'title');\nbem.FormView__name = makeBem(bem.FormView, 'name');\nbem.FormView__description = makeBem(bem.FormView, 'description');\nbem.FormView__subs = makeBem(bem.FormView, 'subs');\n// end used in header.es6\nbem.FormView__toptabs = makeBem(bem.FormView, 'toptabs');\nbem.FormView__sidetabs = makeBem(bem.FormView, 'sidetabs');\n\nbem.FormView__label = makeBem(bem.FormView, 'label');\nbem.FormView__group = makeBem(bem.FormView, 'group');\nbem.FormView__item = makeBem(bem.FormView, 'item');\nbem.FormView__iconButton = makeBem(bem.FormView, 'icon-button', 'button');\n\nbem.FormView__row = makeBem(bem.FormView, 'row');\nbem.FormView__cell = makeBem(bem.FormView, 'cell');\nbem.FormView__cellLabel = makeBem(bem.FormView, 'cell-label');\nbem.FormView__column = makeBem(bem.FormView, 'column');\n\nbem.FormView__banner = makeBem(bem.FormView, 'banner');\nbem.FormView__link = makeBem(bem.FormView, 'link', 'a');\nbem.FormView__secondaryButtons = makeBem(bem.FormView, 'secondaryButtons');\nbem.FormView__secondaryButton = makeBem(bem.FormView, 'secondaryButton', 'button');\nbem.FormView__reportButtons = makeBem(bem.FormView, 'reportButtons');\nbem.FormView__form = makeBem(bem.FormView, 'form', 'form');\n\nbem.FormView__map = makeBem(bem.FormView, 'map');\nbem.FormView__mapButton = makeBem(bem.FormView, 'map-button');\nbem.FormView__mapList = makeBem(bem.FormView, 'map-list');\n\nbem.MainHeader = makeBem(null, 'main-header', 'header');\nbem.MainHeader__icon = makeBem(bem.MainHeader, 'icon', 'i');\nbem.MainHeader__title = makeBem(bem.MainHeader, 'title');\nbem.MainHeader__counter = makeBem(bem.MainHeader, 'counter');\n\n\nbem.ReportView = makeBem(null, 'report-view');\nbem.ReportView__wrap = makeBem(bem.ReportView, 'wrap');\nbem.ReportView__item = makeBem(bem.ReportView, 'item');\nbem.ReportView__itemHeading = makeBem(bem.ReportView, 'itemHeading');\nbem.ReportView__headingMeta = makeBem(bem.ReportView, 'headingMeta');\nbem.ReportView__itemContent = makeBem(bem.ReportView, 'itemContent');\nbem.ReportView__headingButton = makeBem(bem.ReportView, 'headingButton', 'button');\nbem.ReportView__chart = makeBem(bem.ReportView, 'chart');\n\nbem.GraphSettings = makeBem(null, 'graph-settings');\nbem.GraphSettings__buttons = makeBem(bem.GraphSettings, 'buttons');\nbem.GraphSettings__charttype = makeBem(bem.GraphSettings, 'charttype');\nbem.GraphSettings__colors = makeBem(bem.GraphSettings, 'colors');\nbem.GraphSettings__radio = makeBem(bem.GraphSettings, 'radio');\n\nbem.FormModal = makeBem(null, 'form-modal');\nbem.FormModal__form = makeBem(bem.FormModal, 'form', 'form');\nbem.FormModal__item = makeBem(bem.FormModal, 'item');\nbem.FormModal__group = makeBem(bem.FormModal, 'group');\n\nbem.Modal = makeBem(null, 'modal');\nbem.Modal__backdrop = makeBem(bem.Modal, 'backdrop');\nbem.Modal__body = makeBem(bem.Modal, 'body');\nbem.Modal__content = makeBem(bem.Modal, 'content');\nbem.Modal__header = makeBem(bem.Modal, 'header', 'header');\nbem.Modal__title = makeBem(bem.Modal, 'title', 'h4');\nbem.Modal__subheader = makeBem(bem.Modal, 'subheader', 'header');\nbem.Modal__footer = makeBem(bem.Modal, 'footer', 'footer');\nbem.Modal__tabs = makeBem(bem.Modal, 'tabs');\nbem.Modal__hr = makeBem(bem.Modal, 'hr', 'hr');\n\nbem.PopoverMenu = makeBem(null, 'popover-menu');\nbem.PopoverMenu__content = makeBem(bem.PopoverMenu, 'content');\nbem.PopoverMenu__toggle = makeBem(bem.PopoverMenu, 'toggle', 'a');\nbem.PopoverMenu__link = makeBem(bem.PopoverMenu, 'link', 'a');\nbem.PopoverMenu__item = makeBem(bem.PopoverMenu, 'item');\nbem.PopoverMenu__heading = makeBem(bem.PopoverMenu, 'heading');\nbem.PopoverMenu__moveTo = makeBem(bem.PopoverMenu, 'moveTo');\n\nbem.Header = makeBem(null, 'header');\nbem.Header__logo = makeBem(bem.Header, 'logo', 'span');\n\nbem.LoginBox = makeBem(null, 'login-box');\n\nbem.AccountBox = makeBem(null, 'account-box');\nbem.AccountBox__name = makeBem(bem.AccountBox, 'name', 'div');\nbem.AccountBox__initials = makeBem(bem.AccountBox, 'initials', 'span');\nbem.AccountBox__menu = makeBem(bem.AccountBox, 'menu', 'ul');\nbem.AccountBox__menuLI = makeBem(bem.AccountBox, 'menu-li', 'li');\nbem.AccountBox__menuItem = makeBem(bem.AccountBox, 'menu-item', 'div');\nbem.AccountBox__menuLink = makeBem(bem.AccountBox, 'menu-link', 'a');\n\nbem.AccountSettings = makeBem(null, 'account-settings');\nbem.AccountSettings__left = makeBem(bem.AccountSettings, 'left');\nbem.AccountSettings__right = makeBem(bem.AccountSettings, 'right');\nbem.AccountSettings__item = makeBem(bem.FormModal, 'item');\nbem.AccountSettings__desc = makeBem(bem.AccountSettings, 'desc');\nbem.AccountSettings__actions = makeBem(bem.AccountSettings, 'actions');\n\nbem.UserRow = makeBem(null, 'user-row');\nbem.UserRow__info = makeBem(bem.UserRow, 'info');\nbem.UserRow__avatar = makeBem(bem.UserRow, 'avatar');\nbem.UserRow__name = makeBem(bem.UserRow, 'name');\nbem.UserRow__email = makeBem(bem.UserRow, 'email');\nbem.UserRow__perms = makeBem(bem.UserRow, 'perms');\nbem.UserRow__perm = makeBem(bem.UserRow, 'perm');\nbem.UserRow__editor = makeBem(bem.UserRow, 'editor');\n\nbem.uiPanel = makeBem(null, 'ui-panel');\nbem.uiPanel__body = makeBem(bem.uiPanel, 'body');\n\nbem.FormSidebar = makeBem(null, 'form-sidebar');\nbem.FormSidebar__item = makeBem(bem.FormSidebar, 'item', 'a');\nbem.FormSidebar__itemText = makeBem(bem.FormSidebar, 'item-text');\nbem.FormSidebar__label = makeBem(bem.FormSidebar, 'label', 'a');\nbem.FormSidebar__labelText = makeBem(bem.FormSidebar, 'label-text');\nbem.FormSidebar__labelCount = makeBem(bem.FormSidebar, 'label-count');\nbem.FormSidebar__grouping = makeBem(bem.FormSidebar, 'grouping');\n\nbem.KDrawer = makeBem(null, 'k-drawer');\nbem.KDrawer__primaryIcons = makeBem(bem.KDrawer, 'primary-icons', 'nav');\nbem.KDrawer__secondaryIcons = makeBem(bem.KDrawer, 'secondary-icons', 'nav');\nbem.KDrawer__sidebar = makeBem(bem.KDrawer, 'sidebar', 'aside');\n\nbem.HelpBubble = makeBem(null, 'help-bubble');\nbem.HelpBubble__close = makeBem(bem.HelpBubble, 'close', 'button');\nbem.HelpBubble__back = makeBem(bem.HelpBubble, 'back', 'button');\nbem.HelpBubble__trigger = makeBem(bem.HelpBubble, 'trigger', 'button');\nbem.HelpBubble__triggerCounter = makeBem(bem.HelpBubble, 'trigger-counter', 'span');\nbem.HelpBubble__popup = makeBem(bem.HelpBubble, 'popup');\nbem.HelpBubble__popupContent = makeBem(bem.HelpBubble, 'popup-content');\nbem.HelpBubble__row = makeBem(bem.HelpBubble, 'row');\nbem.HelpBubble__rowAnchor = makeBem(bem.HelpBubble, 'row', 'a');\nbem.HelpBubble__rowWrapper = makeBem(bem.HelpBubble, 'row-wrapper');\n\nbem.SimpleTable = makeBem(null, 'simple-table', 'table');\nbem.SimpleTable__header = makeBem(bem.SimpleTable, 'header', 'thead');\nbem.SimpleTable__body = makeBem(bem.SimpleTable, 'body', 'tbody');\nbem.SimpleTable__footer = makeBem(bem.SimpleTable, 'footer', 'tfoot');\nbem.SimpleTable__row = makeBem(bem.SimpleTable, 'row', 'tr');\n// NOTE: messageRow needs a __cell with colspan set\nbem.SimpleTable__messageRow = makeBem(bem.SimpleTable, 'message-row', 'tr');\nbem.SimpleTable__cell = makeBem(bem.SimpleTable, 'cell', 'td');\n\nbem.AssetsTable = makeBem(null, 'assets-table');\nbem.AssetsTable__header = makeBem(bem.AssetsTable, 'header');\nbem.AssetsTable__body = makeBem(bem.AssetsTable, 'body');\nbem.AssetsTable__footer = makeBem(bem.AssetsTable, 'footer');\nbem.AssetsTableRow = makeBem(null, 'assets-table-row');\nbem.AssetsTableRow__link = makeBem(bem.AssetsTableRow, 'link', 'a');\nbem.AssetsTableRow__buttons = makeBem(bem.AssetsTableRow, 'buttons');\nbem.AssetsTableRow__column = makeBem(bem.AssetsTableRow, 'column');\nbem.AssetsTableRow__headerLabel = makeBem(bem.AssetsTableRow, 'header-label', 'span');\nbem.AssetsTableRow__tags = makeBem(bem.AssetsTableRow, 'tags', 'div');\nbem.AssetsTableRow__tag = makeBem(bem.AssetsTableRow, 'tag', 'span');\nbem.AssetsTablePagination = makeBem(null, 'assets-table-pagination');\nbem.AssetsTablePagination__button = makeBem(bem.AssetsTablePagination, 'button', 'button');\nbem.AssetsTablePagination__index = makeBem(bem.AssetsTablePagination, 'index');\n\nbem.AssetActionButtons = makeBem(null, 'asset-action-buttons', 'menu');\nbem.AssetActionButtons__button = makeBem(bem.AssetActionButtons, 'button', 'a');\nbem.AssetActionButtons__iconButton = makeBem(bem.AssetActionButtons, 'icon-button', 'a');\n\nbem.tagSelect = makeBem(null, 'tag-select');\nbem.collectionFilter = makeBem(null, 'collection-filter');\n\nbem.TextBox = makeBem(null, 'text-box', 'label');\nbem.TextBox__label = makeBem(bem.TextBox, 'label');\nbem.TextBox__labelLink = makeBem(bem.TextBox, 'label-link', 'a');\nbem.TextBox__input = makeBem(bem.TextBox, 'input', 'input');\nbem.TextBox__description = makeBem(bem.TextBox, 'description');\nbem.TextBox__error = makeBem(bem.TextBox, 'error');\n\nbem.Checkbox = makeBem(null, 'checkbox');\nbem.Checkbox__wrapper = makeBem(bem.Checkbox, 'wrapper', 'label');\nbem.Checkbox__input = makeBem(bem.Checkbox, 'input', 'input');\nbem.Checkbox__label = makeBem(bem.Checkbox, 'label', 'span');\n\nbem.MultiCheckbox = makeBem(null, 'multi-checkbox', 'ul');\nbem.MultiCheckbox__item = makeBem(bem.MultiCheckbox, 'item', 'li');\n\nbem.ToggleSwitch = makeBem(null, 'toggle-switch');\nbem.ToggleSwitch__wrapper = makeBem(bem.ToggleSwitch, 'wrapper', 'label');\nbem.ToggleSwitch__input = makeBem(bem.ToggleSwitch, 'input', 'input');\nbem.ToggleSwitch__slider = makeBem(bem.ToggleSwitch, 'slider', 'span');\nbem.ToggleSwitch__label = makeBem(bem.ToggleSwitch, 'label', 'span');\n\nbem.Radio = makeBem(null, 'radio');\nbem.Radio__row = makeBem(bem.Radio, 'row', 'label');\nbem.Radio__input = makeBem(bem.Radio, 'input', 'input');\nbem.Radio__label = makeBem(bem.Radio, 'label', 'span');\n\nbem.PasswordStrength = makeBem(null, 'password-strength');\nbem.PasswordStrength__title = makeBem(bem.PasswordStrength, 'title');\nbem.PasswordStrength__bar = makeBem(bem.PasswordStrength, 'bar');\nbem.PasswordStrength__indicator = makeBem(bem.PasswordStrength, 'indicator');\nbem.PasswordStrength__messages = makeBem(bem.PasswordStrength, 'messages', 'ul');\nbem.PasswordStrength__message = makeBem(bem.PasswordStrength, 'message', 'li');\n\nbem.Breadcrumbs = makeBem(null, 'breadcrumbs');\nbem.Breadcrumbs__crumb = makeBem(bem.Breadcrumbs, 'crumb', 'a');\nbem.Breadcrumbs__divider = makeBem(bem.Breadcrumbs, 'divider', 'i');\n\nbem.AssetInfoBox = makeBem(null, 'asset-info-box');\nbem.AssetInfoBox__column = makeBem(bem.AssetInfoBox, 'column');\nbem.AssetInfoBox__cell = makeBem(bem.AssetInfoBox, 'cell');\nbem.AssetInfoBox__toggle = makeBem(bem.AssetInfoBox, 'toggle', 'button');\n\nbem.PrintOnly = makeBem(null, 'print-only');\n\nbem.GitRev = makeBem(null, 'git-rev');\nbem.GitRev__item = makeBem(bem.GitRev, 'item', 'div');\n\nbem.ProjectDownloads = makeBem(null, 'project-downloads');\nbem.ProjectDownloads__advancedView = makeBem(bem.ProjectDownloads, 'advanced-view', 'section');\nbem.ProjectDownloads__column = makeBem(bem.ProjectDownloads, 'column');\nbem.ProjectDownloads__columnRow = makeBem(bem.ProjectDownloads, 'column-row');\nbem.ProjectDownloads__title = makeBem(bem.ProjectDownloads, 'title', 'span');\nbem.ProjectDownloads__textButton = makeBem(bem.ProjectDownloads, 'text-button', 'button');\nbem.ProjectDownloads__selectorRow = makeBem(bem.ProjectDownloads, 'selector-row');\nbem.ProjectDownloads__anonymousRow = makeBem(bem.ProjectDownloads, 'anonymous-row');\nbem.ProjectDownloads__legacyIframeWrapper = makeBem(bem.ProjectDownloads, 'legacy-iframe-wrapper');\nbem.ProjectDownloads__submitRow = makeBem(bem.ProjectDownloads, 'submit-row', 'footer');\nbem.ProjectDownloads__exportsSelector = makeBem(bem.ProjectDownloads, 'exports-selector');\nbem.ProjectDownloads__deleteSettingsButton = makeBem(bem.ProjectDownloads, 'delete-settings-button', 'button');\nbem.ProjectDownloads__exportsCreator = makeBem(bem.ProjectDownloads, 'exports-creator');\n\nbem.BackgroundAudioPlayer = makeBem(null, 'background-audio-player');\nbem.BackgroundAudioPlayer__label = makeBem(bem.BackgroundAudioPlayer, 'label', 'label');\nbem.BackgroundAudioPlayer__audio = makeBem(bem.BackgroundAudioPlayer, 'audio', 'audio');\n","import React from 'react';\nimport Reflux from 'reflux';\nimport reactMixin from 'react-mixin';\nimport PropTypes from 'prop-types';\nimport autoBind from 'react-autobind';\nimport {stores} from 'js/stores';\nimport bem from 'js/bem';\nimport {MODAL_TYPES} from 'js/constants';\nimport myLibraryStore from './myLibraryStore';\n\nclass LibrarySidebar extends Reflux.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      myLibraryCount: 0,\n      isLoading: true\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(myLibraryStore, this.myLibraryStoreChanged);\n    this.setState({\n      isLoading: false,\n      myLibraryCount: myLibraryStore.getCurrentUserTotalAssets()\n    });\n  }\n\n  myLibraryStoreChanged() {\n    this.setState({\n      isLoading: false,\n      myLibraryCount: myLibraryStore.getCurrentUserTotalAssets()\n    });\n  }\n\n  showLibraryNewModal(evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.LIBRARY_NEW_ITEM\n    });\n  }\n\n  isMyLibrarySelected() {\n    return this.context.router.isActive('library/my-library');\n  }\n\n  isPublicCollectionsSelected() {\n    return this.context.router.isActive('library/public-collections');\n  }\n\n  render() {\n    let sidebarModifier = '';\n    if (this.state.isLoading) {\n      sidebarModifier = 'loading';\n    }\n\n    return (\n      <React.Fragment>\n        <bem.KoboButton\n          m={['blue', 'fullwidth']}\n          disabled={!stores.session.isLoggedIn}\n          onClick={this.showLibraryNewModal}\n        >\n          {t('new')}\n        </bem.KoboButton>\n\n        <bem.FormSidebar m={sidebarModifier}>\n          <bem.FormSidebar__label\n            m={{selected: this.isMyLibrarySelected()}}\n            href='#/library/my-library'\n          >\n            <i className='k-icon k-icon-library'/>\n            <bem.FormSidebar__labelText>{t('My Library')}</bem.FormSidebar__labelText>\n            <bem.FormSidebar__labelCount>{this.state.myLibraryCount}</bem.FormSidebar__labelCount>\n          </bem.FormSidebar__label>\n\n          <bem.FormSidebar__label\n            m={{selected: this.isPublicCollectionsSelected()}}\n            href='#/library/public-collections'\n          >\n            <i className='k-icon k-icon-library-public'/>\n            <bem.FormSidebar__labelText>{t('Public Collections')}</bem.FormSidebar__labelText>\n          </bem.FormSidebar__label>\n        </bem.FormSidebar>\n      </React.Fragment>\n    );\n  }\n}\n\nLibrarySidebar.contextTypes = {\n  router: PropTypes.object\n};\n\nreactMixin(LibrarySidebar.prototype, Reflux.ListenerMixin);\n\nexport default LibrarySidebar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport {Link} from 'react-router';\nimport Reflux from 'reflux';\nimport mixins from '../mixins';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {searches} from '../searches';\nimport {stores} from '../stores';\nimport {\n  COMMON_QUERIES,\n  DEPLOYMENT_CATEGORIES\n} from 'js/constants';\nimport AssetName from 'js/components/common/assetName';\n\nclass SidebarFormsList extends Reflux.Component {\n  constructor(props) {\n    super(props);\n    var selectedCategories = {\n      'Draft': false,\n      'Deployed': false,\n      'Archived': false\n    };\n    this.state = {\n      selectedCategories: selectedCategories,\n      searchContext: searches.getSearchContext('forms', {\n        filterParams: {\n          assetType: COMMON_QUERIES.s,\n        },\n        filterTags: COMMON_QUERIES.s,\n      })\n    };\n    this.store = stores.pageState;\n    autoBind(this);\n  }\n  componentDidMount() {\n    this.listenTo(this.searchStore, this.searchChanged);\n    if (!this.isFormList()) {\n      this.searchSemaphore();\n    }\n  }\n  searchChanged(searchStoreState) {\n    this.setState(searchStoreState);\n  }\n  renderMiniAssetRow(asset) {\n    var href = `/forms/${asset.uid}`;\n\n    if (this.userCan('view_submissions', asset) && asset.has_deployment && asset.deployment__submission_count) {\n      href = href + '/summary';\n    } else {\n      href = href + '/landing';\n    }\n\n    let classNames = ['form-sidebar__item'];\n    if (asset.uid === this.currentAssetID()) {\n      classNames.push('form-sidebar__item--active');\n    }\n\n    return (\n      <Link\n        to={href}\n        key={asset.uid}\n        className={classNames.join(' ')}\n      >\n        <AssetName asset={asset}/>\n      </Link>\n    );\n  }\n  toggleCategory(c) {\n    return function() {\n    var selectedCategories = this.state.selectedCategories;\n    selectedCategories[c] = !selectedCategories[c];\n      this.setState({\n        selectedCategories: selectedCategories,\n      });\n    }.bind(this);\n  }\n  render() {\n    var s = this.state;\n    var activeItems = 'defaultQueryCategorizedResultsLists';\n\n    // sync sidebar with main list when it is not a search query, allows for deletes to update the sidebar as well\n    // this is a temporary fix, a proper fix needs to update defaultQueryCategorizedResultsLists when deleting/archiving/cloning\n    if (\n      s.searchState === 'done' &&\n      (s.searchString === false || s.searchString === '') &&\n      s.searchResultsFor &&\n      s.searchResultsFor.assetType === COMMON_QUERIES.s\n    ) {\n      activeItems = 'searchResultsCategorizedResultsLists';\n    }\n\n    if (s.searchState === 'loading' && s.searchString === false) {\n      return (<LoadingSpinner/>);\n    }\n\n    return (\n      <bem.FormSidebar>\n        {\n          (() => {\n            if (s.defaultQueryState === 'loading') {\n              return (<LoadingSpinner/>);\n            } else if (s.defaultQueryState === 'done') {\n              return Object.keys(DEPLOYMENT_CATEGORIES).map(\n                (categoryId) => {\n                  var categoryVisible = this.state.selectedCategories[categoryId];\n                  if (s[activeItems][categoryId].length < 1) {\n                    categoryVisible = false;\n                  }\n\n                  const icon = ['k-icon'];\n                  if (categoryId === DEPLOYMENT_CATEGORIES.Deployed.id) {\n                    icon.push('k-icon-deploy');\n                  }\n                  if (categoryId === DEPLOYMENT_CATEGORIES.Draft.id) {\n                    icon.push('k-icon-drafts');\n                  }\n                  if (categoryId === DEPLOYMENT_CATEGORIES.Archived.id) {\n                    icon.push('k-icon-archived');\n                  }\n\n                  return [\n                    <bem.FormSidebar__label\n                      m={[categoryId, categoryVisible ? 'visible' : 'collapsed']}\n                      onClick={this.toggleCategory(categoryId)}\n                      key={`${categoryId}-label`}\n                    >\n                      <i className={icon.join(' ')}/>\n                      <bem.FormSidebar__labelText>\n                        {DEPLOYMENT_CATEGORIES[categoryId].label}\n                      </bem.FormSidebar__labelText>\n                      <bem.FormSidebar__labelCount>{s[activeItems][categoryId].length}</bem.FormSidebar__labelCount>\n                    </bem.FormSidebar__label>,\n\n                    <bem.FormSidebar__grouping\n                      m={[categoryId, categoryVisible ? 'visible' : 'collapsed']}\n                      key={`${categoryId}-group`}\n                    >\n                      {s[activeItems][categoryId].map(this.renderMiniAssetRow.bind(this))}\n                    </bem.FormSidebar__grouping>\n                  ];\n                }\n              );\n            }\n          })()\n        }\n      </bem.FormSidebar>\n    );\n  }\n}\n\nSidebarFormsList.contextTypes = {\n  router: PropTypes.object\n};\n\nreactMixin(SidebarFormsList.prototype, searches.common);\nreactMixin(SidebarFormsList.prototype, Reflux.ListenerMixin);\nreactMixin(SidebarFormsList.prototype, mixins.contextRouter);\nreactMixin(SidebarFormsList.prototype, mixins.permissions);\n\nexport default SidebarFormsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport { Link, hashHistory } from 'react-router';\nimport {stores} from '../stores';\nimport bem from 'js/bem';\nimport {searches} from '../searches';\nimport mixins from '../mixins';\nimport LibrarySidebar from 'js/components/library/librarySidebar';\nimport {\n  IntercomHelpBubble,\n  SupportHelpBubble,\n} from '../components/helpBubbles';\nimport {\n  COMMON_QUERIES,\n  MODAL_TYPES,\n} from '../constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport {assign} from 'utils';\nimport SidebarFormsList from '../lists/sidebarForms';\nimport envStore from 'js/envStore';\n\nconst INITIAL_STATE = {\n  headerFilters: 'forms',\n  searchContext: searches.getSearchContext('forms', {\n    filterParams: {\n      assetType: COMMON_QUERIES.s,\n    },\n    filterTags: COMMON_QUERIES.s,\n  })\n};\n\nclass FormSidebar extends Reflux.Component {\n  constructor(props){\n    super(props);\n    this.state = assign({\n      currentAssetId: false,\n      files: []\n    }, stores.pageState.state);\n    this.state = assign(INITIAL_STATE, this.state);\n\n    this.stores = [\n      stores.session,\n      stores.pageState\n    ];\n    this.unlisteners = [];\n    autoBind(this);\n  }\n  componentDidMount() {\n    this.unlisteners.push(\n      hashHistory.listen(this.onRouteChange.bind(this))\n    );\n  }\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n  newFormModal (evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.NEW_FORM\n    });\n  }\n  render() {\n    return (\n      <React.Fragment>\n        <bem.KoboButton\n          m={['blue', 'fullwidth']}\n          disabled={!stores.session.isLoggedIn}\n          onClick={this.newFormModal}\n        >\n          {t('new')}\n        </bem.KoboButton>\n        <SidebarFormsList/>\n      </React.Fragment>\n    );\n  }\n  onRouteChange() {\n    this.setState(INITIAL_STATE);\n  }\n}\n\nFormSidebar.contextTypes = {\n  router: PropTypes.object\n};\n\nreactMixin(FormSidebar.prototype, searches.common);\nreactMixin(FormSidebar.prototype, mixins.droppable);\n\nclass DrawerLink extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n  }\n  onClick (evt) {\n    if (!this.props.href) {\n      evt.preventDefault();\n    }\n    if (this.props.onClick) {\n      this.props.onClick(evt);\n    }\n  }\n  render () {\n    var icon = (<i className={`k-icon-${this.props['k-icon']}`}/>);\n    var classNames = [this.props.class, 'k-drawer__link'];\n\n    var link;\n    if (this.props.linkto) {\n      link = (\n        <Link to={this.props.linkto}\n            className={classNames.join(' ')}\n            activeClassName='active'\n            data-tip={this.props.label}>\n          {icon}\n        </Link>\n      );\n    } else {\n      link = (\n        <a href={this.props.href || '#'}\n            className={classNames.join(' ')}\n            onClick={this.onClick}\n            data-tip={this.props.label}>\n            {icon}\n        </a>\n      );\n    }\n    return link;\n  }\n}\n\nclass Drawer extends Reflux.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n    this.stores = [\n      stores.session,\n      stores.pageState,\n    ];\n  }\n  render() {\n    // no sidebar for not logged in users\n    if (!stores.session.isLoggedIn) {\n      return null;\n    }\n\n    return (\n      <bem.KDrawer>\n        <bem.KDrawer__primaryIcons>\n          <DrawerLink label={t('Projects')} linkto={ROUTES.FORMS} k-icon='projects' />\n          <DrawerLink label={t('Library')} linkto={ROUTES.LIBRARY} k-icon='library' />\n        </bem.KDrawer__primaryIcons>\n\n        <bem.KDrawer__sidebar>\n          { this.isLibrary()\n            ? <LibrarySidebar />\n            : <FormSidebar />\n          }\n        </bem.KDrawer__sidebar>\n\n        <bem.KDrawer__secondaryIcons>\n          { stores.session.isLoggedIn &&\n            <IntercomHelpBubble/>\n          }\n          { stores.session.isLoggedIn &&\n            <SupportHelpBubble/>\n          }\n          { stores.session.isLoggedIn &&\n            stores.session.currentAccount.projects_url &&\n            <a href={stores.session.currentAccount.projects_url}\n              className='k-drawer__link'\n              target='_blank'\n              data-tip={t('Projects (legacy)')}\n            >\n              <i className='k-icon k-icon-globe' />\n            </a>\n          }\n          { envStore.isReady &&\n            envStore.data.source_code_url &&\n            <a href={envStore.data.source_code_url}\n              className='k-drawer__link' target='_blank' data-tip={t('Source')}>\n              <i className='k-icon k-icon-logo-github' />\n            </a>\n          }\n        </bem.KDrawer__secondaryIcons>\n      </bem.KDrawer>\n      );\n  }\n}\n\nreactMixin(Drawer.prototype, searches.common);\nreactMixin(Drawer.prototype, mixins.droppable);\nreactMixin(Drawer.prototype, mixins.contextRouter);\n\nDrawer.contextTypes = {\n  router: PropTypes.object\n};\n\nexport default Drawer;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport autoBind from 'react-autobind';\nimport permConfig from './permConfig';\nimport {actions} from '../../actions';\nimport _ from 'underscore';\nimport {\n  notify,\n  replaceSupportEmail\n} from 'utils';\n\nconst INVALID_PERMS_ERROR = t('The stored permissions are invalid. Please assign them again. If this problem persists, contact help@kobotoolbox.org');\n\nclass PermValidator extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(actions.permissions.getAssetPermissions.completed, this.validateBackendData);\n  }\n\n  validateBackendData(permissionAssignments) {\n    let allImplied = [];\n    let allContradictory = [];\n\n    const appendUserUrl = (permission, userUrl) => `${permission}###${userUrl}`;\n    const appendUserUrls = (permissions, userUrl) => {\n      return permissions.map((permission) => appendUserUrl(permission, userUrl));\n    };\n\n    permissionAssignments.forEach((assignment) => {\n      const permDef = permConfig.getPermission(assignment.permission);\n      allImplied = _.union(allImplied, appendUserUrls(permDef.implied, assignment.user));\n      allContradictory = _.union(allContradictory, appendUserUrls(permDef.contradictory, assignment.user));\n    });\n\n    let hasAllImplied = true;\n    // FIXME: `manage_asset` implies all the `*_submission` permissions, but\n    // those are assignable *only* when the asset type is 'survey'. We need to\n    // design a way to pass that nuance from the back end to the front end\n    /*\n    allImplied.forEach((implied) => {\n      let isFound = false;\n      permissionAssignments.forEach((assignment) => {\n        let permission = appendUserUrl(assignment.permission, assignment.user);\n        if (permission === implied) {\n          isFound = true;\n        }\n      });\n      if (isFound === false) {\n        hasAllImplied = false;\n      }\n    });\n    */\n\n    let hasAnyContradictory = false;\n    allContradictory.forEach((contradictory) => {\n      permissionAssignments.forEach((assignment) => {\n        let permission = appendUserUrl(assignment.permission, assignment.user);\n        if (permission === contradictory) {\n          hasAnyContradictory = true;\n        }\n      });\n    });\n\n    if (!hasAllImplied || hasAnyContradictory) {\n      notify(replaceSupportEmail(INVALID_PERMS_ERROR), 'error');\n    }\n  }\n\n  render () {\n    return null;\n  }\n}\n\nreactMixin(PermValidator.prototype, Reflux.ListenerMixin);\n\nexport default PermValidator;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport KoboTagsInput from 'js/components/common/koboTagsInput';\nimport bem from 'js/bem';\nimport {stores} from 'js/stores';\nimport {actions} from 'js/actions';\nimport {notify} from 'utils';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\n\n/**\n * @param {Object} asset - Modal asset.\n */\nexport class AssetTagsForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isSessionLoaded: !!stores.session.isLoggedIn,\n      tags: this.props.asset?.tag_string || '',\n      isPending: false,\n    };\n\n    this.unlisteners = [];\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(stores.session, () => {\n      this.setState({isSessionLoaded: true});\n    });\n    this.unlisteners.push(\n      actions.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),\n      actions.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this))\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onUpdateAssetCompleted() {\n    this.setState({isPending: false});\n    stores.pageState.hideModal();\n  }\n\n  onUpdateAssetFailed() {\n    this.setState({isPending: false});\n    notify(t('Failed to update tags'), 'error');\n  }\n\n  onSubmit(evt) {\n    evt.preventDefault();\n    this.setState({isPending: true});\n    actions.resources.updateAsset(\n      this.props.asset.uid,\n      {tag_string: this.state.tags}\n    );\n  }\n\n  onTagsChange(newValue) {\n    this.setState({tags: newValue});\n  }\n\n  getSubmitButtonLabel() {\n    if (this.state.isPending) {\n      return t('Updating…');\n    } else {\n      return t('Update');\n    }\n  }\n\n  render() {\n    if (!this.state.isSessionLoaded) {\n      return (<LoadingSpinner/>);\n    }\n\n    return (\n      <bem.FormModal__form className='project-settings'>\n        <bem.FormModal__item m='wrapper' disabled={this.state.isPending}>\n          <bem.FormModal__item>\n            <KoboTagsInput\n              tags={this.state.tags}\n              onChange={this.onTagsChange}\n            />\n          </bem.FormModal__item>\n        </bem.FormModal__item>\n\n        <bem.Modal__footer>\n          <bem.KoboButton\n            m='blue'\n            type='submit'\n            onClick={this.onSubmit}\n            disabled={this.state.isPending}\n          >\n            {this.getSubmitButtonLabel()}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </bem.FormModal__form>\n    );\n  }\n}\n\nreactMixin(AssetTagsForm.prototype, Reflux.ListenerMixin);\n","import React from 'react';\nimport bem from 'js/bem';\nimport {stores} from 'js/stores';\n\nexport function renderBackButton(isDisabled = false) {\n  if (stores.pageState.hasPreviousModal()) {\n    return (\n      <bem.KoboButton\n        m='whitegray'\n        type='button'\n        onClick={stores.pageState.switchToPreviousModal}\n        disabled={isDisabled}\n      >\n        {t('Back')}\n      </bem.KoboButton>\n    );\n  } else {\n    return null;\n  }\n}\n","import _ from 'underscore';\nimport Reflux from 'reflux';\nimport {hashHistory} from 'react-router';\nimport {stores} from 'js/stores';\nimport {actions} from 'js/actions';\nimport {isAnyLibraryRoute} from 'js/router/routerUtils';\nimport {ASSET_TYPES} from 'js/constants';\n\nconst ownedCollectionsStore = Reflux.createStore({\n  isInitialised: false,\n\n  data: {\n    isFetchingData: false,\n    collections: []\n  },\n\n  init() {\n    hashHistory.listen(this.startupStore);\n    stores.session.listen(this.startupStore);\n    actions.library.getCollections.completed.listen(this.onGetCollectionsCompleted);\n    actions.library.getCollections.failed.listen(this.onGetCollectionsFailed);\n    // NOTE: this could update the list of collections, but currently nothing is using\n    // these parts of data that will be updated by this, thus it is commented out:\n    // // actions.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted);\n    actions.resources.loadAsset.completed.listen(this.onAssetChangedOrCreated);\n    actions.resources.updateAsset.completed.listen(this.onAssetChangedOrCreated);\n    actions.resources.cloneAsset.completed.listen(this.onAssetChangedOrCreated);\n    actions.resources.createResource.completed.listen(this.onAssetChangedOrCreated);\n    actions.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted);\n\n    this.startupStore();\n  },\n\n  startupStore() {\n    if (\n      !this.isInitialised &&\n      isAnyLibraryRoute() &&\n      stores.session.isLoggedIn &&\n      !this.data.isFetchingData\n    ) {\n      this.fetchData();\n    }\n  },\n\n  // methods for handling actions\n\n  onGetCollectionsCompleted(response) {\n    this.data.collections = response.results;\n    this.data.isFetchingData = false;\n    this.isInitialised = true;\n    this.trigger(this.data);\n  },\n\n  onGetCollectionsFailed() {\n    this.data.isFetchingData = false;\n    this.trigger(this.data);\n  },\n\n  onAssetChangedOrCreated(asset) {\n    if (\n      asset.asset_type === ASSET_TYPES.collection.id &&\n      asset.owner__username === stores.session.currentAccount.username\n    ) {\n      let wasUpdated = false;\n      for (let i = 0; i < this.data.collections.length; i++) {\n        if (this.data.collections[i].uid === asset.uid) {\n          this.data.collections[i] = asset;\n          wasUpdated = true;\n          break;\n        }\n      }\n      if (!wasUpdated) {\n        this.data.collections.push(asset);\n      }\n      this.trigger(this.data);\n    }\n  },\n\n  onDeleteAssetCompleted({uid, assetType}) {\n    if (assetType === ASSET_TYPES.collection.id) {\n      const index = _.findIndex(this.data.collections, {uid: uid});\n      if (index !== -1) {\n        this.data.collections.splice(index, 1);\n        this.trigger(this.data);\n      }\n    }\n  },\n\n  // the method for fetching new data\n\n  fetchData() {\n    this.data.isFetchingData = true;\n    this.trigger(this.data);\n\n    actions.library.getCollections({\n      owner: stores.session.currentAccount.username,\n      pageSize: 0 // zero gives all results with no limit\n    });\n  },\n\n  find(uid) {\n    return this.data.collections.find((asset) => {return asset.uid === uid;});\n  }\n});\n\nexport default ownedCollectionsStore;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport KoboTagsInput from 'js/components/common/koboTagsInput';\nimport Select from 'react-select';\nimport PropTypes from 'prop-types';\nimport TextBox from 'js/components/common/textBox';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport {stores} from 'js/stores';\nimport {actions} from 'js/actions';\nimport {hashHistory} from 'react-router';\nimport {notify} from 'utils';\nimport assetUtils from 'js/assetUtils';\nimport {\n  renderBackButton\n} from './modalHelpers';\nimport {ASSET_TYPES} from 'js/constants';\nimport mixins from 'js/mixins';\nimport ownedCollectionsStore from 'js/components/library/ownedCollectionsStore';\nimport envStore from 'js/envStore';\n\n/**\n * Modal for creating or updating library asset (collection or template)\n *\n * @prop {Object} asset - Modal asset.\n */\nexport class LibraryAssetForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.unlisteners = [];\n    this.state = {\n      isSessionLoaded: !!stores.session.isLoggedIn,\n      data: {\n        name: '',\n        organization: '',\n        country: null,\n        sector: null,\n        tags: '',\n        description: ''\n      },\n      isPending: false\n    };\n    autoBind(this);\n    if (this.props.asset) {\n      this.applyPropsData();\n    }\n  }\n\n  componentDidMount() {\n    this.listenTo(stores.session, () => {\n      this.setState({isSessionLoaded: true});\n    });\n    this.unlisteners.push(\n      actions.resources.createResource.completed.listen(this.onCreateResourceCompleted.bind(this)),\n      actions.resources.createResource.failed.listen(this.onCreateResourceFailed.bind(this)),\n      actions.resources.updateAsset.completed.listen(this.onUpdateAssetCompleted.bind(this)),\n      actions.resources.updateAsset.failed.listen(this.onUpdateAssetFailed.bind(this))\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  applyPropsData() {\n    if (this.props.asset.name) {\n      this.state.data.name = this.props.asset.name;\n    }\n    if (this.props.asset.settings.organization) {\n      this.state.data.organization = this.props.asset.settings.organization;\n    }\n    if (this.props.asset.settings.country) {\n      this.state.data.country = this.props.asset.settings.country;\n    }\n    if (this.props.asset.settings.sector) {\n      this.state.data.sector = this.props.asset.settings.sector;\n    }\n    if (this.props.asset.tag_string) {\n      this.state.data.tags = this.props.asset.tag_string;\n    }\n    if (this.props.asset.settings.description) {\n      this.state.data.description = this.props.asset.settings.description;\n    }\n  }\n\n  onCreateResourceCompleted(response) {\n    this.setState({isPending: false});\n    notify(t('##type## ##name## created').replace('##type##', this.getFormAssetType()).replace('##name##', response.name));\n    stores.pageState.hideModal();\n    if (this.getFormAssetType() === ASSET_TYPES.collection.id) {\n      hashHistory.push(`/library/asset/${response.uid}`);\n    } else if (this.getFormAssetType() === ASSET_TYPES.template.id) {\n      hashHistory.push(`/library/asset/${response.uid}/edit`);\n    }\n  }\n\n  onCreateResourceFailed() {\n    this.setState({isPending: false});\n    notify(t('Failed to create ##type##').replace('##type##', this.getFormAssetType()), 'error');\n  }\n\n  onUpdateAssetCompleted() {\n    this.setState({isPending: false});\n    stores.pageState.hideModal();\n  }\n\n  onUpdateAssetFailed() {\n    this.setState({isPending: false});\n    notify(t('Failed to update ##type##').replace('##type##', this.getFormAssetType()), 'error');\n  }\n\n  onSubmit(evt) {\n    evt.preventDefault();\n    this.setState({isPending: true});\n\n    if (this.props.asset) {\n      actions.resources.updateAsset(\n        this.props.asset.uid,\n        {\n          name: this.state.data.name,\n          settings: JSON.stringify({\n            organization: this.state.data.organization,\n            country: this.state.data.country,\n            sector: this.state.data.sector,\n            description: this.state.data.description\n          }),\n          tag_string: this.state.data.tags,\n        }\n      );\n    } else {\n      const params = {\n        name: this.state.data.name,\n        asset_type: this.getFormAssetType(),\n        settings: JSON.stringify({\n          organization: this.state.data.organization,\n          country: this.state.data.country,\n          sector: this.state.data.sector,\n          description: this.state.data.description\n        }),\n        tag_string: this.state.data.tags,\n      };\n\n      if (\n        this.isLibrarySingle() &&\n        params.asset_type !== ASSET_TYPES.collection.id\n      ) {\n        const found = ownedCollectionsStore.find(this.currentAssetID());\n        if (found && found.asset_type === ASSET_TYPES.collection.id) {\n          // when creating from within a collection page, make the new asset\n          // a child of this collection\n          params.parent = found.url;\n        }\n      }\n\n      actions.resources.createResource(params);\n    }\n  }\n\n  onPropertyChange(property, newValue) {\n    const data = this.state.data;\n    data[property] = newValue;\n    this.setState({data: data});\n  }\n\n  onNameChange(newValue) {this.onPropertyChange('name', assetUtils.removeInvalidChars(newValue));}\n  onOrganizationChange(newValue) {this.onPropertyChange('organization', newValue);}\n  onCountryChange(newValue) {this.onPropertyChange('country', newValue);}\n  onSectorChange(newValue) {this.onPropertyChange('sector', newValue);}\n  onTagsChange(newValue) {this.onPropertyChange('tags', newValue);}\n  onDescriptionChange(evt) {this.onPropertyChange('description', assetUtils.removeInvalidChars(evt.target.value));}\n\n  /**\n   * @returns existing asset type or desired asset type\n   */\n  getFormAssetType() {\n    return this.props.asset ? this.props.asset.asset_type : this.props.assetType;\n  }\n\n  isSubmitEnabled() {\n    return !this.state.isPending;\n  }\n\n  getSubmitButtonLabel() {\n    if (this.props.asset) {\n      if (this.state.isPending) {\n        return t('Saving…');\n      } else {\n        return t('Save');\n      }\n    } else if (this.state.isPending) {\n      return t('Creating…');\n    } else {\n      return t('Create');\n    }\n  }\n\n  render() {\n    if (!this.state.isSessionLoaded || !envStore.isReady) {\n      return (<LoadingSpinner/>);\n    }\n\n    const SECTORS = envStore.data.available_sectors;\n    const COUNTRIES = envStore.data.available_countries;\n\n    return (\n      <bem.FormModal__form className='project-settings'>\n        <bem.FormModal__item m='wrapper' disabled={this.state.isPending}>\n          <bem.FormModal__item>\n            <TextBox\n              value={this.state.data.name}\n              onChange={this.onNameChange}\n              label={t('Name')}\n            />\n          </bem.FormModal__item>\n\n          <bem.FormModal__item>\n            <TextBox\n              value={this.state.data.organization}\n              onChange={this.onOrganizationChange}\n              label={t('Organization')}\n            />\n          </bem.FormModal__item>\n\n          <bem.FormModal__item>\n            <label htmlFor='country'>\n              {t('Country')}\n            </label>\n\n            <Select\n              id='country'\n              value={this.state.data.country}\n              onChange={this.onCountryChange}\n              options={COUNTRIES}\n              className='kobo-select'\n              classNamePrefix='kobo-select'\n              menuPlacement='auto'\n              isClearable\n            />\n          </bem.FormModal__item>\n\n          <bem.FormModal__item>\n            <label htmlFor='sector'>\n              {t('Primary Sector')}\n            </label>\n\n            <Select\n              id='sector'\n              value={this.state.data.sector}\n              onChange={this.onSectorChange}\n              options={SECTORS}\n              className='kobo-select'\n              classNamePrefix='kobo-select'\n              menuPlacement='auto'\n              isClearable\n            />\n          </bem.FormModal__item>\n\n          <bem.FormModal__item>\n            <KoboTagsInput\n              tags={this.state.data.tags}\n              onChange={this.onTagsChange}\n              label={t('Tags')}\n            />\n          </bem.FormModal__item>\n\n          <bem.FormModal__item>\n            <TextareaAutosize\n              onChange={this.onDescriptionChange}\n              value={this.state.data.description}\n              placeholder={t('Enter short description here')}\n            />\n          </bem.FormModal__item>\n        </bem.FormModal__item>\n\n        <bem.Modal__footer>\n          {renderBackButton(this.state.isPending)}\n\n          <bem.KoboButton\n            m='blue'\n            type='submit'\n            onClick={this.onSubmit}\n            disabled={!this.isSubmitEnabled()}\n          >\n            {this.getSubmitButtonLabel()}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </bem.FormModal__form>\n    );\n  }\n}\n\nreactMixin(LibraryAssetForm.prototype, Reflux.ListenerMixin);\nreactMixin(LibraryAssetForm.prototype, mixins.contextRouter);\n\nLibraryAssetForm.contextTypes = {\n  router: PropTypes.object\n};\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport PropTypes from 'prop-types';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {stores} from 'js/stores';\nimport {hashHistory} from 'react-router';\nimport {\n  MODAL_TYPES,\n  ASSET_TYPES,\n} from 'js/constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport mixins from 'js/mixins';\nimport ownedCollectionsStore from 'js/components/library/ownedCollectionsStore';\n\nclass LibraryNewItemForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSessionLoaded: !!stores.session.isLoggedIn,\n    };\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(stores.session, () => {\n      this.setState({isSessionLoaded: true});\n    });\n  }\n\n  goToAssetCreator() {\n    stores.pageState.hideModal();\n\n    let targetPath = ROUTES.NEW_LIBRARY_ITEM;\n    if (this.isLibrarySingle()) {\n      const found = ownedCollectionsStore.find(this.currentAssetID());\n      if (found && found.asset_type === ASSET_TYPES.collection.id) {\n        // when creating from within a collection page, make the new asset\n        // a child of this collection\n        targetPath = ROUTES.NEW_LIBRARY_CHILD.replace(':uid', found.uid);\n      }\n    }\n\n    hashHistory.push(targetPath);\n  }\n\n  goToCollection() {\n    stores.pageState.switchModal({\n      type: MODAL_TYPES.LIBRARY_COLLECTION,\n      previousType: MODAL_TYPES.LIBRARY_NEW_ITEM\n    });\n  }\n\n  goToTemplate() {\n    stores.pageState.switchModal({\n      type: MODAL_TYPES.LIBRARY_TEMPLATE,\n      previousType: MODAL_TYPES.LIBRARY_NEW_ITEM\n    });\n  }\n\n  goToUpload() {\n    stores.pageState.switchModal({\n      type: MODAL_TYPES.LIBRARY_UPLOAD,\n      previousType: MODAL_TYPES.LIBRARY_NEW_ITEM\n    });\n  }\n\n  render() {\n    if (!this.state.isSessionLoaded) {\n      return (<LoadingSpinner/>);\n    }\n\n    return (\n      <bem.FormModal__form className='project-settings project-settings--form-source'>\n        <bem.FormModal__item m='form-source-buttons'>\n          <button onClick={this.goToAssetCreator}>\n            <i className='k-icon k-icon-block' />\n            {t('Question Block')}\n          </button>\n\n          <button onClick={this.goToTemplate}>\n            <i className='k-icon k-icon-template' />\n            {t('Template')}\n          </button>\n\n          <button onClick={this.goToUpload}>\n            <i className='k-icon k-icon-upload' />\n            {t('Upload')}\n          </button>\n\n          <button onClick={this.goToCollection}>\n            <i className='k-icon k-icon-folder' />\n            {t('Collection')}\n          </button>\n        </bem.FormModal__item>\n      </bem.FormModal__form>\n    );\n  }\n}\n\nreactMixin(LibraryNewItemForm.prototype, Reflux.ListenerMixin);\nreactMixin(LibraryNewItemForm.prototype, mixins.contextRouter);\n\nLibraryNewItemForm.contextTypes = {\n  router: PropTypes.object\n};\n\nexport default LibraryNewItemForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport Dropzone from 'react-dropzone';\nimport Select from 'react-select';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {stores} from 'js/stores';\nimport mixins from 'js/mixins';\nimport {renderBackButton} from './modalHelpers';\nimport {validFileTypes} from 'utils';\nimport {ASSET_TYPES} from 'js/constants';\n\nconst DESIRED_TYPES = [\n  {\n    value: ASSET_TYPES.block.id,\n    label: ASSET_TYPES.block.label,\n  },\n  {\n    value: ASSET_TYPES.template.id,\n    label: ASSET_TYPES.template.label,\n  },\n];\n\n/**\n * @prop {function} onSetModalTitle\n * @prop {file} [file] optional preloaded file\n */\nclass LibraryUploadForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSessionLoaded: !!stores.session.isLoggedIn,\n      isPending: false,\n      // default is block\n      desiredType: DESIRED_TYPES[0],\n      currentFile: this.props.file || null,\n    };\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(stores.session, () => {\n      this.setState({isSessionLoaded: true});\n    });\n  }\n\n  isSubmitEnabled() {\n    return (\n      !this.state.isPending &&\n      this.state.currentFile !== null\n    );\n  }\n\n  onFileDrop(files) {\n    if (files[0]) {\n      this.setState({currentFile: files[0]});\n    }\n  }\n\n  onDesiredTypeChange(newValue) {\n    this.setState({desiredType: newValue});\n  }\n\n  onSubmit(evt) {\n    evt.preventDefault();\n    this.setState({isPending: true});\n    this.dropFiles(\n      [this.state.currentFile],\n      [],\n      evt,\n      {desired_type: this.state.desiredType.value}\n    );\n  }\n\n  render() {\n    if (!this.state.isSessionLoaded) {\n      return (<LoadingSpinner/>);\n    }\n\n    return (\n      <bem.FormModal__form className='project-settings'>\n        <bem.Modal__subheader>\n          {t('Import an XLSForm from your computer.')}\n        </bem.Modal__subheader>\n\n        {!this.state.isPending &&\n          <React.Fragment>\n            <bem.FormModal__item>\n              <Dropzone\n                onDrop={this.onFileDrop.bind(this)}\n                multiple={false}\n                className='dropzone'\n                activeClassName='dropzone-active'\n                rejectClassName='dropzone-reject'\n                accept={validFileTypes()}\n              >\n                <i className='k-icon k-icon-xls-file' />\n                {this.state.currentFile &&\n                  this.state.currentFile.name\n                }\n                {!this.state.currentFile &&\n                  t(' Drag and drop the XLSForm file here or click to browse')\n                }\n              </Dropzone>\n            </bem.FormModal__item>\n\n            <bem.FormModal__item>\n              <label htmlFor='desired-type'>\n                {t('Choose desired type')}\n              </label>\n\n              <Select\n                id='desired-type'\n                value={this.state.desiredType}\n                onChange={this.onDesiredTypeChange}\n                options={DESIRED_TYPES}\n                className='kobo-select'\n                classNamePrefix='kobo-select'\n                menuPlacement='auto'\n              />\n            </bem.FormModal__item>\n          </React.Fragment>\n        }\n        {this.state.isPending &&\n          <div className='dropzone'>\n            <LoadingSpinner message={t('Uploading file…')}/>\n          </div>\n        }\n\n        <bem.Modal__footer>\n          {renderBackButton(this.state.isPending)}\n\n          <bem.KoboButton\n            m='blue'\n            type='submit'\n            onClick={this.onSubmit}\n            disabled={!this.isSubmitEnabled()}\n          >\n            {t('Upload')}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </bem.FormModal__form>\n    );\n  }\n}\n\nreactMixin(LibraryUploadForm.prototype, Reflux.ListenerMixin);\nreactMixin(LibraryUploadForm.prototype, mixins.droppable);\nLibraryUploadForm.contextTypes = {router: PropTypes.object};\n\nexport default LibraryUploadForm;\n","import autoBind from 'react-autobind';\nimport React from 'react';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport TextBox from 'js/components/common/textBox';\nimport assetStore from 'js/assetStore';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport {MODAL_TYPES} from 'js/constants';\nimport {stores} from 'js/stores';\n\nclass EncryptForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let submissionURL, publicKey;\n    if (props.asset) {\n      submissionURL = props.asset.content.settings.submission_url;\n      publicKey = props.asset.content.settings.public_key;\n    }\n\n    this.state = {\n      asset: props.asset,\n      assetUid: props.assetUid,\n      submissionURL: submissionURL || '',\n      publicKey: publicKey || '',\n      clearEncryption: false,\n      isPending: false\n    };\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(assetStore, this.onAssetsChange);\n\n    if (!this.state.asset && this.state.assetUid) {\n      if (assetStore.data[this.state.assetUid]) {\n        this.onAssetChange(assetStore.data[this.state.assetUid]);\n      } else {\n        stores.allAssets.whenLoaded(this.props.assetUid, this.onAssetChange);\n      }\n    }\n  }\n\n  onAssetChange(asset) {\n    this.setState({\n      asset: asset,\n      isPending: false,\n      submissionURL: asset.content.settings.submission_url,\n      publicKey: asset.content.settings.public_key\n    });\n\n    stores.pageState.showModal({\n      type: MODAL_TYPES.ENCRYPT_FORM,\n      asset: asset\n    });\n  }\n\n  onAssetsChange(assetsList) {\n    let uid;\n    if (this.state.asset) {\n      uid = this.state.asset.uid;\n    } else if (this.state.assetUid) {\n      uid = this.state.assetUid;\n    }\n\n    if (assetsList.uid !== null) {\n      this.onAssetChange(assetsList[uid]);\n    }\n  }\n\n  updateAsset(content) {\n    actions.resources.updateAsset(\n      this.props.asset.uid,\n      {content: JSON.stringify(content)}\n    );\n  }\n  onSubmit(evt) {\n    evt.preventDefault();\n\n    this.setState({isPending: true})\n    var content = this.state.asset.content;\n    content.settings.submission_url = this.state.submissionURL;\n    content.settings.public_key = this.state.publicKey;\n    this.updateAsset(content);\n  }\n  onRemove(evt) {\n    evt.preventDefault();\n    this.setState({clearEncryption: true});\n\n    this.setState({isPending: true})\n    var content = this.state.asset.content\n    content.settings.submission_url = '';\n    content.settings.public_key = '';\n    this.updateAsset(content);\n  }\n\n  onSubmissionURLChange (newSubmissionURL) {\n    this.setState({\n      submissionURL: newSubmissionURL,\n      clearEncryption: false\n    });\n  }\n  onPublicKeyChange (newPublicKey) {\n    this.setState({\n      publicKey: newPublicKey,\n      clearEncryption: false\n    });\n  }\n\n  openEncryptionHelp() {\n    window.open('https://support.kobotoolbox.org/encrypting_forms.html', '_blank');\n  }\n\n  render () {\n    return (\n      <bem.FormView__form m='add-language-fields'>\n        <bem.FormView__cell m='encrypt-url'>\n          <bem.FormModal__item>\n            <label>{t('Submission URL')}</label>\n            <TextBox\n              value={!this.state.clearEncryption ? this.state.submissionURL : ''}\n              onChange={this.onSubmissionURLChange}\n            />\n          </bem.FormModal__item>\n        </bem.FormView__cell>\n\n        <bem.FormView__cell m='encrypt-key'>\n          <bem.FormModal__item>\n            <label>{t('Public key')}</label>\n            <TextBox\n              value={!this.state.clearEncryption ? this.state.publicKey : ''}\n              onChange={this.onPublicKeyChange}\n            />\n          </bem.FormModal__item>\n        </bem.FormView__cell>\n\n        <bem.FormView__cell m='submit-button'>\n          <button\n            className='mdl-button mdl-button--raised mdl-button--colored'\n            disabled={this.state.isPending}\n            onClick={this.onSubmit} type='submit'\n          >\n            {t('Set encryption')}\n          </button>\n          <button\n            className='remove-encryption mdl-button mdl-button--colored mdl-button--red mdl-button--raised'\n            disabled={this.state.isPending}\n            onClick={this.onRemove} type='submit'\n          >\n            {t('Remove encryption')}\n          </button>\n          <button className=\"encrypt-help\" onClick={this.openEncryptionHelp} data-tip={t('Learn more about encrypting forms')}>\n            <i className='k-icon k-icon-help'/>\n          </button>\n        </bem.FormView__cell>\n      </bem.FormView__form>\n      );\n  }\n}\n\nreactMixin(EncryptForm.prototype, Reflux.ListenerMixin);\n\nexport default EncryptForm;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport clonedeep from 'lodash.clonedeep';\nimport Fuse from 'fuse.js';\nimport {\n  getSurveyFlatPaths,\n  getFlatQuestionsList,\n  renderQuestionTypeIcon,\n} from 'js/assetUtils';\nimport {\n  QUESTION_TYPES,\n  FUSE_OPTIONS,\n} from 'js/constants';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport TextBox from 'js/components/common/textBox';\nimport envStore from 'js/envStore';\nimport './bulkEditSubmissionsForm.scss';\n\n// we need a text to display when we need to say \"this question has no answer\"\nconst EMPTY_VALUE_LABEL = t('n/d');\n// we need an override value that would mean \"no answer\" and that would be\n// different than \"no override answer\" (de facto `undefined`)\nconst EMPTY_VALUE = null;\nconst MULTIPLE_VALUES_LABEL = t('Multiple responses');\nconst HELP_ARTICLE_URL = 'howto_edit_multiple_submissions.html';\n\n/**\n * The content of the BULK_EDIT_SUBMISSIONS modal\n *\n * @prop {function} onSetModalTitle - for changing the modal title by this component\n * @prop {function} onModalClose - causes the modal to close\n * @prop {object} asset\n * @prop {object[]} data - submissions data (all user responses)\n * @prop {number} totalSubmissions - number of all submissions\n * @prop {string|number[]} selectedSubmissions - list of ids of submissions selected for bulk editing\n */\nclass BulkEditSubmissionsForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPending: false,\n      // overrides keys are question names and values are edited values\n      overrides: {},\n      // single question selected for bulk editing\n      selectedQuestion: null, // or object\n      // with a temp override value that is being used until the single question form is saved\n      selectedQuestionOverride: null,\n      // values for searching the list of questions\n      filterByName: '',\n      filterByValue: '',\n    };\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      actions.submissions.bulkPatchValues.completed.listen(this.onBulkPatchValuesCompleted),\n      actions.submissions.bulkPatchValues.failed.listen(this.onBulkPatchValuesFailed)\n    );\n    this.setModalTitleToList();\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onBulkPatchValuesCompleted() {\n    this.setState({isPending: false});\n    this.props.onModalClose();\n  }\n\n  onBulkPatchValuesFailed() {\n    this.setState({isPending: false});\n  }\n\n  setModalTitleToList() {\n    this.props.onSetModalTitle(\n      t('Displaying multiple submissions (##count## selected of ##total##)')\n        .replace('##count##', this.props.selectedSubmissions.length)\n        .replace('##total##', this.props.totalSubmissions)\n    );\n  }\n\n  setModalTitleToSingleQuestion(questionName) {\n    this.props.onSetModalTitle(\n      t('Editing \"##question##\" for ##count## submissions')\n        .replace('##question##', questionName)\n        .replace('##count##', this.props.selectedSubmissions.length)\n    );\n  }\n\n  onRowOverrideChange(questionName, value) {\n    if (questionName === this.state.selectedQuestion.name) {\n      if (value === undefined) {\n        this.setState({selectedQuestionOverride: EMPTY_VALUE});\n      } else {\n        this.setState({selectedQuestionOverride: value});\n      }\n    }\n  }\n\n  onSubmit(evt) {\n    evt.preventDefault();\n    // BE endpoint requires question names with paths\n    // and we will gladly give them what they want\n    const overridesWithPaths = {};\n    const flatPaths = getSurveyFlatPaths(this.props.asset.content.survey);\n    Object.keys(this.state.overrides).forEach((questionName) => {\n      overridesWithPaths[flatPaths[questionName]] = this.state.overrides[questionName];\n    });\n\n    this.setState({isPending: true});\n    actions.submissions.bulkPatchValues(\n      this.props.asset.uid,\n      this.props.selectedSubmissions,\n      overridesWithPaths,\n    );\n  }\n\n  onReset() {\n    this.setState({overrides: {}});\n  }\n\n  onFilterByNameChange(newFilter) {\n    this.setState({filterByName: newFilter});\n  }\n\n  onFilterByValueChange(newFilter) {\n    this.setState({filterByValue: newFilter});\n  }\n\n  selectQuestion(question) {\n    this.setState({\n      selectedQuestion: question,\n      selectedQuestionOverride: this.state.overrides[question.name],\n    });\n    this.setModalTitleToSingleQuestion(question.label);\n  }\n\n  goBackToList() {\n    this.setState({\n      selectedQuestion: null,\n      selectedQuestionOverride: null,\n    });\n    this.setModalTitleToList();\n  }\n\n  saveOverride() {\n    const newOverrides = clonedeep(this.state.overrides);\n    if (\n      this.state.selectedQuestionOverride === EMPTY_VALUE ||\n      (\n        typeof this.state.selectedQuestionOverride === 'string' &&\n        this.state.selectedQuestionOverride.length >= 1\n      )\n    ) {\n      newOverrides[this.state.selectedQuestion.name] = this.state.selectedQuestionOverride;\n    } else {\n      delete newOverrides[this.state.selectedQuestion.name];\n    }\n    this.setState({overrides: newOverrides});\n    this.goBackToList();\n  }\n\n  /**\n   * @returns {object[]} a list of question objects with all responses included\n   */\n  getDisplayData() {\n    let questions = getFlatQuestionsList(this.props.asset.content.survey);\n    const flatPaths = getSurveyFlatPaths(this.props.asset.content.survey);\n\n    questions = questions.filter((question) => {\n      // let's hide rows that don't carry any submission data\n      if (\n        question.type === QUESTION_TYPES.calculate.id ||\n        question.type === QUESTION_TYPES.note.id ||\n        question.type === QUESTION_TYPES.hidden.id\n      ) {\n        return false;\n      }\n\n      // build selected data for question\n      question.selectedData = [];\n      const questionPath = flatPaths[question.name];\n      this.props.data.forEach((submissionData) => {\n        if (this.props.selectedSubmissions.includes(String(submissionData._id))) {\n          question.selectedData.push({\n            sid: submissionData._id,\n            value: submissionData[questionPath],\n          });\n        }\n      });\n      return true;\n    });\n    return questions;\n  }\n\n  renderSupportUrlLink() {\n    if (envStore.isReady && envStore.data.support_url) {\n      return (\n        <a\n          href={envStore.data.support_url + HELP_ARTICLE_URL}\n          target='_blank'\n        >\n          {t('in the help article')}\n        </a>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderRow(questionData, itemIndex) {\n    let question = questionData;\n    if (typeof questionData.refIndex !== 'undefined') {\n      question = questionData.item;\n    }\n\n    let modifiers = [];\n    // we don't support bulk editing questions from repeat groups yet\n    // we display them but disabled\n    if (question.hasRepatParent) {\n      modifiers.push('bulk-edit-row-disabled');\n    }\n\n    return (\n      <bem.SimpleTable__row key={itemIndex} m={modifiers}>\n        <bem.SimpleTable__cell>\n          {renderQuestionTypeIcon(question.type)}\n        </bem.SimpleTable__cell>\n\n        <bem.SimpleTable__cell>\n          {question.parents.length > 0 &&\n            <small>{question.parents.join(' / ') + ' /'}</small>\n          }\n\n          <div>\n            {question.isRequired && <strong title={t('Required')}>*&nbsp;</strong>}\n            {question.label}\n          </div>\n        </bem.SimpleTable__cell>\n\n        <bem.SimpleTable__cell>\n          {question.hasRepatParent &&\n            <em>{t('Editing responses from repeat group questions is not possible yet.')}</em>\n          }\n          {!question.hasRepatParent &&\n            this.renderRowDataValues(question.name, question.selectedData)\n          }\n        </bem.SimpleTable__cell>\n\n        <bem.SimpleTable__cell>\n          <bem.KoboTextButton\n            m='blue'\n            onClick={this.selectQuestion.bind(this, question)}\n          >\n            {t('Edit')}\n          </bem.KoboTextButton>\n        </bem.SimpleTable__cell>\n      </bem.SimpleTable__row>\n    );\n  }\n\n  /**\n   * A wrapper function that handles all quirks for displaying the question data\n   * to users\n   *\n   * @param {string} questionName\n   * @param {object} rowData - all responses to given question\n   */\n  renderRowDataValues(questionName, rowData) {\n    // if there is an override value, let's display it (for override \"no answer\"\n    // we display a label)\n    const overrideValue = this.state.overrides[questionName];\n    if (typeof overrideValue !== 'undefined') {\n      if (overrideValue === null) {\n        return (<React.Fragment><i className='blue-response-dot'/> {EMPTY_VALUE_LABEL}</React.Fragment>);\n      } else {\n        return (<React.Fragment><i className='blue-response-dot'/> {overrideValue}</React.Fragment>);\n      }\n    }\n\n    const uniqueValues = new Set();\n    rowData.forEach((item) => {\n      if (item.value) {\n        uniqueValues.add(item.value);\n      } else {\n        uniqueValues.add(EMPTY_VALUE_LABEL);\n      }\n    });\n    const uniqueValuesArray = Array.from(uniqueValues);\n    if (uniqueValuesArray.length === 1) {\n      // if all rows have same value, we display it\n      return uniqueValuesArray[0];\n    } else {\n      return (<em>{MULTIPLE_VALUES_LABEL}</em>);\n    }\n  }\n\n  renderList() {\n    const displayData = this.getDisplayData();\n\n    let finalData = displayData;\n    let fuse = null;\n\n    if (this.state.filterByName !== '') {\n      fuse = new Fuse(finalData, {...FUSE_OPTIONS, keys: ['label']});\n      finalData = fuse.search(this.state.filterByName);\n    }\n    if (this.state.filterByValue !== '') {\n      fuse = new Fuse(finalData, {...FUSE_OPTIONS, keys: ['selectedData.value']});\n      finalData = fuse.search(this.state.filterByValue);\n    }\n\n    return (\n      <React.Fragment>\n        <bem.FormModal__item m='wrapper'>\n          {t('You are currently seeing multiple submissions at once. You can select specific questions to edit or remove responses in bulk. If you want to edit only one submission, click on the desired submission on the navigation menu on the top-left corner of this table, or go back to the general table view. You can learn more about bulk actions')} {this.renderSupportUrlLink()}.\n        </bem.FormModal__item>\n\n        <bem.FormModal__item m='wrapper'>\n          <i className='blue-response-dot'/>\n          {t('Updated responses')}\n        </bem.FormModal__item>\n\n        <bem.SimpleTable m='bulk-edit-list'>\n          <bem.SimpleTable__header>\n            <bem.SimpleTable__row>\n              <bem.SimpleTable__cell>\n                {t('Type')}\n              </bem.SimpleTable__cell>\n\n              <bem.SimpleTable__cell>\n                {t('Question')}\n              </bem.SimpleTable__cell>\n\n              <bem.SimpleTable__cell>\n                {t('Response')}\n              </bem.SimpleTable__cell>\n\n              <bem.SimpleTable__cell>\n                {t('Action')}\n              </bem.SimpleTable__cell>\n            </bem.SimpleTable__row>\n\n            <bem.SimpleTable__row>\n              <bem.SimpleTable__cell/>\n\n              <bem.SimpleTable__cell>\n                <TextBox\n                  customModifiers='on-white'\n                  value={this.state.filterByName}\n                  onChange={this.onFilterByNameChange}\n                  placeholder={t('Type to filter')}\n                />\n              </bem.SimpleTable__cell>\n\n              <bem.SimpleTable__cell>\n                <TextBox\n                  customModifiers='on-white'\n                  value={this.state.filterByValue}\n                  onChange={this.onFilterByValueChange}\n                  placeholder={t('Type to filter')}\n                />\n              </bem.SimpleTable__cell>\n\n              <bem.SimpleTable__cell/>\n            </bem.SimpleTable__row>\n          </bem.SimpleTable__header>\n\n          <bem.SimpleTable__body>\n            {finalData.map(this.renderRow)}\n          </bem.SimpleTable__body>\n        </bem.SimpleTable>\n\n        <bem.Modal__footer>\n          <bem.KoboButton\n            m='red'\n            type='button'\n            onClick={this.onReset}\n            disabled={this.state.isPending || Object.keys(this.state.overrides).length === 0}\n          >\n            {t('Discard Changes')}\n          </bem.KoboButton>\n\n          <bem.KoboButton\n            m='blue'\n            type='submit'\n            onClick={this.onSubmit}\n            disabled={this.state.isPending || Object.keys(this.state.overrides).length === 0}\n          >\n            {t('Confirm & close')}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </React.Fragment>\n    );\n  }\n\n  renderSelectedQuestion() {\n    return (\n      <React.Fragment>\n        <bem.FormModal__item m='wrapper'>\n          {t('You are about to edit responses for one or multiple submissions at once. Use the XML syntax in the text box below. You can also select one of the existing responses from the table of responses. Learn more about how to edit specific responses for one or multiple submissions')} {this.renderSupportUrlLink()}.\n        </bem.FormModal__item>\n\n        <bem.FormModal__item m='wrapper'>\n          <BulkEditRowForm\n            question={this.state.selectedQuestion}\n            overrideData={this.state.selectedQuestionOverride}\n            originalData={this.state.selectedQuestion.selectedData}\n            onChange={this.onRowOverrideChange}\n          />\n        </bem.FormModal__item>\n\n        <bem.Modal__footer>\n          <bem.KoboButton\n            className='footer-back-button'\n            m='whitegray'\n            type='button'\n            onClick={this.goBackToList}\n          >\n            {t('Back')}\n          </bem.KoboButton>\n\n          <bem.KoboButton\n            m='blue'\n            type='button'\n            onClick={this.saveOverride}\n          >\n            {t('Save')}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    return (\n      <bem.FormModal__form m='bulk-edit-submissions'>\n        {this.state.selectedQuestion === null && this.renderList() }\n        {this.state.selectedQuestion !== null && this.renderSelectedQuestion() }\n      </bem.FormModal__form>\n    );\n  }\n}\n\n/**\n * This is a simple one input form for setting new value for multiple\n * submissions. Below input a table of existing answers (ordered by frequency)\n * allows for quick setting input value.\n *\n * @prop {object} question\n * @prop {object} overrideData\n * @prop {object} originalData\n * @prop {function} onChange - callback returning the new value\n */\nclass BulkEditRowForm extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n  }\n\n  onChange(newValue, evt) {\n    if (evt) {\n      evt.preventDefault();\n    }\n    this.props.onChange(this.props.question.name, newValue);\n  }\n\n  /**\n   * Placeholder can be either a helpful instruction or an empty override value\n   */\n  getPlaceholderValue() {\n    let placeholderValue = t('Type new response for selected submissions');\n    if (this.props.overrideData === EMPTY_VALUE) {\n      // user selected a \"no answer\" as a new override value for submissions\n      // we don't want this EMPTY_VALUE_LABEL to be an editable value, so we\n      // display it as a placeholder\n      placeholderValue = EMPTY_VALUE_LABEL;\n    }\n    return placeholderValue;\n  }\n\n  /**\n   * @returns {object[]} an ordered list of unique responses with frequency data\n   */\n  getUniqueResponses() {\n    let uniqueResponses = new Map();\n    this.props.originalData.forEach((item) => {\n      if (uniqueResponses.has(item.value)) {\n        uniqueResponses.set(item.value, uniqueResponses.get(item.value) + 1);\n      } else {\n        uniqueResponses.set(item.value, 1);\n      }\n    });\n    // sort by popularity\n    uniqueResponses = new Map([...uniqueResponses.entries()].sort((a, b) => {return b[1] - a[1];}));\n    return uniqueResponses;\n  }\n\n  /**\n   * @param {string|null} data[0] - the unique response value\n   * @param {number} data[1] - the total count for this unique response\n   */\n  renderResponseRow(data) {\n    const count = data[1];\n    const response = data[0];\n\n    let responseLabel = response;\n    let responseValue = response;\n    if (response === undefined) {\n      responseLabel = EMPTY_VALUE_LABEL;\n      responseValue = EMPTY_VALUE;\n    }\n\n    const percentage = (count / this.props.originalData.length * 100).toFixed(2);\n\n    return (\n      <bem.SimpleTable__row key={responseLabel}>\n        <bem.SimpleTable__cell>{responseLabel}</bem.SimpleTable__cell>\n        <bem.SimpleTable__cell>{count}</bem.SimpleTable__cell>\n        <bem.SimpleTable__cell>{percentage}</bem.SimpleTable__cell>\n        <bem.SimpleTable__cell>\n          <bem.KoboTextButton\n            m='blue'\n            onClick={this.onChange.bind(this, responseValue)}\n          >\n            {t('Select')}\n          </bem.KoboTextButton>\n        </bem.SimpleTable__cell>\n      </bem.SimpleTable__row>\n    );\n  }\n\n  render() {\n    let inputValue = '';\n    if (typeof this.props.overrideData === 'string') {\n      // there is already a non empty override value\n      inputValue = this.props.overrideData;\n    }\n\n    return (\n      <React.Fragment>\n        <bem.FormView__cell m={['columns', 'columns-top']}>\n          <bem.FormView__cell m='column-icon'>\n            {renderQuestionTypeIcon(this.props.question.type)}\n          </bem.FormView__cell>\n\n          <bem.FormView__cell m='column-1'>\n            <h2>{this.props.question.label}</h2>\n\n            <TextBox\n              customModifiers={['on-white', 'bulk-edit-response']}\n              type='text-multiline'\n              value={inputValue}\n              onChange={this.onChange}\n              placeholder={this.getPlaceholderValue()}\n            />\n          </bem.FormView__cell>\n        </bem.FormView__cell>\n\n        <bem.SimpleTable m='bulk-edit-responses'>\n          <bem.SimpleTable__header>\n            <bem.SimpleTable__row>\n              <bem.SimpleTable__cell>{t('Response value')}</bem.SimpleTable__cell>\n\n              <bem.SimpleTable__cell>{t('Frequency')}</bem.SimpleTable__cell>\n\n              <bem.SimpleTable__cell>{t('Percentage')}</bem.SimpleTable__cell>\n\n              <bem.SimpleTable__cell>{t('Action')}</bem.SimpleTable__cell>\n            </bem.SimpleTable__row>\n          </bem.SimpleTable__header>\n\n          <bem.SimpleTable__body>\n            {Array.from(this.getUniqueResponses()).map(this.renderResponseRow)}\n          </bem.SimpleTable__body>\n        </bem.SimpleTable>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default BulkEditSubmissionsForm;\n","import React from 'react';\nimport Reflux from 'reflux';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport classNames from 'classnames';\nimport Select from 'react-select';\nimport alertify from 'alertifyjs';\nimport {stores} from '../../stores';\nimport assetStore from 'js/assetStore';\nimport {actions} from '../../actions';\nimport {notify} from 'utils';\n\nclass CopyTeamPermissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAwaitingAssetChange: false,\n      isCopyFormVisible: false,\n      sourceUid: null,\n      sourceName: null,\n      targetUid: this.props.uid,\n      targetName: stores.allAssets.byUid[this.props.uid].name\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(assetStore, this.onAssetChange);\n    this.listenTo(actions.permissions.copyPermissionsFrom.completed, this.onPermissionsCopied);\n  }\n\n  onPermissionsCopied() {\n    notify(t('permissions were copied successfully'));\n  }\n\n  onAssetChange(data) {\n    if (data[this.state.targetUid] && this.state.isAwaitingAssetChange) {\n      this.setState({\n        isAwaitingAssetChange: false,\n        isCopyFormVisible: false\n      });\n    }\n  }\n\n  toggleCopyForm() {\n    this.setState({ isCopyFormVisible: !this.state.isCopyFormVisible });\n  }\n\n  getSelectedProjectOption() {\n    if (this.state.sourceUid) {\n      return {\n        value: this.state.sourceUid,\n        label: this.state.sourceName\n      };\n    } else {\n      return false;\n    }\n  }\n\n  onSelectedProjectChange(asset) {\n    if (asset !== null) {\n      this.setState({\n        sourceUid: asset.value,\n        sourceName: stores.allAssets.byUid[asset.value].name\n      });\n    }\n  }\n\n  safeCopyPermissionsFrom() {\n    if (this.state.sourceUid) {\n      const dialog = alertify.dialog('confirm');\n      const finalMessage = t('You are about to copy permissions from ##source to ##target. This action cannot be undone.')\n        .replace('##source', `<strong>${this.state.sourceName}</strong>`)\n        .replace('##target', `<strong>${this.state.targetName}</strong>`);\n      let dialogOptions = {\n        title: t('Are you sure you want to copy permissions?'),\n        message: finalMessage,\n        labels: { ok: t('Proceed'), cancel: t('Cancel') },\n        onok: () => {\n          this.setState({ isAwaitingAssetChange: true });\n          actions.permissions.copyPermissionsFrom(\n            this.state.sourceUid,\n            this.state.targetUid\n          );\n        },\n        oncancel: () => {\n          dialog.destroy();\n        }\n      };\n      dialog.set(dialogOptions).show();\n    }\n  }\n\n  render() {\n    let isImportButtonEnabled =\n      this.state.sourceUid !== null && !this.state.isAwaitingAssetChange;\n\n    const availableOptions = [];\n    for (const assetUid in stores.allAssets.byUid) {\n      if (stores.allAssets.byUid.hasOwnProperty(assetUid)) {\n        // because choosing itself doesn't make sense\n        if (assetUid !== this.state.targetUid) {\n          availableOptions.push({\n            value: assetUid,\n            label: stores.allAssets.byUid[assetUid].name || t('Unlabelled')\n          });\n        }\n      }\n    }\n\n    const rootButtonClasses = classNames(\n      'copy-team-permissions',\n      this.state.isCopyFormVisible ? 'copy-team-permissions--opened' : ''\n    );\n\n    return (\n      <bem.FormModal__item className={rootButtonClasses}>\n        <button\n          className='copy-team-permissions-opener'\n          onClick={this.toggleCopyForm}\n        >\n          {t('Copy team from another project')}\n\n          <i className='k-icon k-icon-next'/>\n        </button>\n\n        {this.state.isCopyFormVisible && (\n          <bem.FormView__cell>\n            <bem.FormModal__item>\n              {t('This will overwrite any existing sharing settings defined in this project.')}\n            </bem.FormModal__item>\n\n            <bem.FormModal__item m={['gray-row', 'flexed-row', 'copy-team-permissions']}>\n              <Select\n                id='teamPermissions'\n                ref='sourceUid'\n                value={this.getSelectedProjectOption()}\n                isClearable={false}\n                placeholder={t('Select source project…')}\n                options={availableOptions}\n                onChange={this.onSelectedProjectChange}\n                className='kobo-select'\n                classNamePrefix='kobo-select'\n                menuPlacement='auto'\n              />\n              <bem.KoboButton\n                id='copyTeamPermissionsImportButton'\n                m='blue'\n                disabled={!isImportButtonEnabled}\n                onClick={this.safeCopyPermissionsFrom}\n              >\n                {t('copy')}\n              </bem.KoboButton>\n            </bem.FormModal__item>\n          </bem.FormView__cell>\n        )}\n      </bem.FormModal__item>\n    );\n  }\n}\n\nreactMixin(CopyTeamPermissions.prototype, Reflux.ListenerMixin);\n\nexport default CopyTeamPermissions;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport Checkbox from 'js/components/common/checkbox';\nimport TextBox from 'js/components/common/textBox';\nimport {stores} from 'js/stores';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport {permParser} from './permParser';\nimport permConfig from './permConfig';\nimport {\n  assign,\n  notify,\n  buildUserUrl,\n} from 'utils';\nimport {\n  ANON_USERNAME,\n  KEY_CODES,\n  PERMISSIONS_CODENAMES,\n} from 'js/constants';\nimport {\n  SUFFIX_USERS,\n  SUFFIX_PARTIAL,\n  PARTIAL_CHECKBOX_PAIRS,\n  PARTIAL_PERM_PAIRS,\n  CHECKBOX_NAMES,\n  CHECKBOX_PERM_PAIRS,\n  PARTIAL_IMPLIED_CHECKBOX_PAIRS,\n} from './permConstants';\n\nconst PARTIAL_PLACEHOLDER = t('Enter usernames separated by comma');\nconst USERNAMES_SEPARATOR = ',';\n\nconst SUFFIX_DISABLED = 'Disabled';\n\n/**\n * Form for adding/changing user permissions for surveys.\n *\n * @prop uid - asset uid\n * @prop username - permissions user username (could be empty for new)\n * @prop permissions - list of permissions (could be empty for new)\n * @prop assignablePerms - list of assignable permissions for given asset type\n * @prop nonOwnerPerms - list of permissions with exclusion of the asset owner permissions\n * @prop onSubmitEnd - callback to be run when submit ends (success or failure)\n */\nclass UserAssetPermsEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n\n    this.state = {\n      // inner workings\n      usernamesBeingChecked: new Set(),\n      isSubmitPending: false,\n      isEditingUsername: false,\n      // form user inputs\n      username: '',\n      // all other properties are defined by setupStateCheckbox\n    };\n\n    this.setupStateCheckbox(CHECKBOX_NAMES.formView);\n    this.setupStateCheckbox(CHECKBOX_NAMES.formEdit);\n    this.setupStateCheckbox(CHECKBOX_NAMES.formManage);\n    this.setupStateCheckbox(CHECKBOX_NAMES.submissionsView);\n    this.setupStateCheckbox(CHECKBOX_NAMES.submissionsAdd);\n    this.setupStateCheckbox(CHECKBOX_NAMES.submissionsEdit);\n    this.setupStateCheckbox(CHECKBOX_NAMES.submissionsValidate);\n    this.setupStateCheckbox(CHECKBOX_NAMES.submissionsDelete);\n\n    this.applyPropsData();\n  }\n\n  /**\n   * DRY function to be used in constructor\n   */\n  setupStateCheckbox(checkboxName) {\n    this.state[checkboxName] = false;\n    this.state[checkboxName + SUFFIX_DISABLED] = false;\n\n    // checks whether there is a partial permission checkbox for this checkbox\n    if (PARTIAL_CHECKBOX_PAIRS[checkboxName]) {\n      this.state[PARTIAL_CHECKBOX_PAIRS[checkboxName]] = false;\n      this.state[PARTIAL_CHECKBOX_PAIRS[checkboxName] + SUFFIX_DISABLED] = false;\n      this.state[PARTIAL_CHECKBOX_PAIRS[checkboxName] + SUFFIX_USERS] = [];\n    }\n  }\n\n  /**\n   * Fills up form with provided user name and permissions (if applicable)\n   */\n  applyPropsData() {\n    if (this.props.permissions) {\n      const formData = permParser.buildFormData(this.props.permissions);\n      this.state = this.applyValidityRules(assign(this.state, formData));\n    }\n\n    if (this.props.username) {\n      this.state.username = this.props.username;\n    }\n\n    this.applySubmissionsAddRules(this.state);\n  }\n\n  componentDidMount() {\n    this.listenTo(actions.permissions.bulkSetAssetPermissions.completed, this.onBulkSetAssetPermissionCompleted);\n    this.listenTo(actions.permissions.bulkSetAssetPermissions.failed, this.onBulkSetAssetPermissionFailed);\n    this.listenTo(stores.userExists, this.onUserExistsStoreChange);\n  }\n\n  onBulkSetAssetPermissionCompleted() {\n    this.setState({isSubmitPending: false});\n    this.notifyParentAboutSubmitEnd(true);\n  }\n\n  onBulkSetAssetPermissionFailed() {\n    this.setState({isSubmitPending: false});\n    this.notifyParentAboutSubmitEnd(false);\n  }\n\n  notifyParentAboutSubmitEnd(isSuccess) {\n    if (\n      !this.state.isSubmitPending &&\n      typeof this.props.onSubmitEnd === 'function'\n    ) {\n      this.props.onSubmitEnd(isSuccess);\n    }\n  }\n\n  /**\n   * Helps to avoid users submitting invalid data.\n   *\n   * Checking some of the checkboxes implies that other are also checked\n   * and can't be unchecked.\n   *\n   * Checking some of the checkboxes implies that other can't be checked.\n   *\n   * @param {Object} state\n   * @returns {Object} updated state\n   */\n  applyValidityRules(stateObj) {\n    // enable all checkboxes before applying rules\n    Object.keys(CHECKBOX_PERM_PAIRS).forEach((checkboxName) => {\n      stateObj[checkboxName + SUFFIX_DISABLED] = false;\n    });\n    this.applySubmissionsAddRules(stateObj);\n    // apply permissions configuration rules to checkboxes\n    Object.keys(CHECKBOX_PERM_PAIRS).forEach((checkboxName) => {\n      this.applyValidityRulesForCheckbox(checkboxName, stateObj);\n    });\n    // cleanup unchecked partial checkboxes users lists\n    Object.keys(CHECKBOX_PERM_PAIRS).forEach((checkboxName) => {\n      if (\n        checkboxName.endsWith(SUFFIX_PARTIAL) &&\n        stateObj[checkboxName] === false\n      ) {\n        stateObj[checkboxName + SUFFIX_USERS] = [];\n      }\n    });\n    return stateObj;\n  }\n\n  /**\n   * For users with disabled `auth_required` we need to force check add\n   * submissions and don't allow unchecking it.\n   *\n   * @param {object} stateObj\n   */\n  applySubmissionsAddRules(stateObj) {\n    if (\n      this.isAssignable(PERMISSIONS_CODENAMES.add_submissions) &&\n      stores.session.currentAccount.extra_details?.require_auth !== true\n    ) {\n      stateObj[CHECKBOX_NAMES.submissionsAdd] = true;\n      stateObj[CHECKBOX_NAMES.submissionsAdd + SUFFIX_DISABLED] = true;\n      this.applyValidityRulesForCheckbox(CHECKBOX_NAMES.submissionsAdd, stateObj);\n    }\n  }\n\n  /**\n   * For given checkbox (permission) uses permissions config to fix all implied\n   * and contradictory checkboxes (permissions).\n   *\n   * Modifies passed state object.\n   */\n  applyValidityRulesForCheckbox(checkboxName, stateObj) {\n    // only applies the rules for checked checkboxes\n    if (stateObj[checkboxName] === false) {\n      return;\n    }\n\n    const permissionPair = CHECKBOX_PERM_PAIRS[checkboxName];\n    const impliedPerms = this.getImpliedPermissions(permissionPair, checkboxName);\n    const contradictoryPerms = this.getContradictoryPermissions(permissionPair);\n\n    // all implied will be checked and disabled\n    impliedPerms.forEach((permUrl) => {\n      const impliedPermDef = permConfig.getPermission(permUrl);\n      let impliedCheckboxes = this.getPermissionCheckboxPairs(impliedPermDef.codename);\n      if (PARTIAL_IMPLIED_CHECKBOX_PAIRS.hasOwnProperty(checkboxName)) {\n        impliedCheckboxes = impliedCheckboxes.concat(PARTIAL_IMPLIED_CHECKBOX_PAIRS[checkboxName]);\n      }\n      impliedCheckboxes.forEach((impliedCheckbox) => {\n        stateObj[impliedCheckbox] = true;\n        stateObj[impliedCheckbox + SUFFIX_DISABLED] = true;\n      });\n    });\n\n    // all contradictory will be unchecked and disabled\n    contradictoryPerms.forEach((permUrl) => {\n      const contradictoryPermDef = permConfig.getPermission(permUrl);\n      const contradictoryCheckboxes = this.getPermissionCheckboxPairs(contradictoryPermDef.codename);\n      contradictoryCheckboxes.forEach((contradictoryCheckbox) => {\n        stateObj[contradictoryCheckbox] = false;\n        stateObj[contradictoryCheckbox + SUFFIX_DISABLED] = true;\n      });\n    });\n  }\n\n  /**\n   * Single callback for all checkboxes to keep the complex connections logic\n   * being up to date regardless which one changed.\n   */\n  onCheckboxChange(id, isChecked) {\n    // apply checked checkbox change to state\n    const newState = this.state;\n    newState[id] = isChecked;\n    this.setState(this.applyValidityRules(newState));\n  }\n\n  /**\n   * We need it just to update the input,\n   * the real work is handled by onUsernameChangeEnd.\n   */\n  onUsernameChange(username) {\n    this.setState({\n      username: username,\n      isEditingUsername: true,\n    });\n  }\n\n  /**\n   * Checks if username exist on the Backend and clears input if doesn't.\n   */\n  onUsernameChangeEnd() {\n    this.setState({isEditingUsername: false});\n\n    if (this.state.username === '') {\n      return;\n    }\n\n    const userCheck = this.checkUsernameSync(this.state.username);\n    if (userCheck === undefined) {\n      this.checkUsernameAsync(this.state.username);\n    } else if (userCheck === false) {\n      this.notifyUnknownUser(this.state.username);\n      this.setState({username: ''});\n    }\n  }\n\n  onInputKeyPress(key, evt) {\n    if (key === KEY_CODES.ENTER) {\n      evt.currentTarget.blur();\n      evt.preventDefault(); // prevent submitting form\n    }\n  }\n\n  /**\n   * Generic function for updating partial users text input\n   */\n  onPartialUsersChange(prop, users) {\n    const newState = this.state;\n    newState[prop] = users.split(USERNAMES_SEPARATOR).map((user) => user.trim());\n    this.setState(newState);\n  }\n\n  /**\n   * This function returns either boolean (for known username) or undefined\n   * for usernames that weren't checked before\n   */\n  checkUsernameSync(username) {\n    return stores.userExists.checkUsername(username);\n  }\n\n  /**\n   * This function calls API and relies on onUserExistsStoreChange callback\n   */\n  checkUsernameAsync(username) {\n    const usernamesBeingChecked = this.state.usernamesBeingChecked;\n    usernamesBeingChecked.add(username);\n    this.setState({usernamesBeingChecked: usernamesBeingChecked});\n    actions.misc.checkUsername(username);\n  }\n\n  notifyUnknownUser(username) {\n    if (navigator.onLine) {\n      notify(`${t('User not found:')} ${username}`, 'warning');\n    }\n  }\n\n  /**\n   * Remove nonexistent usernames from TagsInput list and from username input.\n   */\n  onUserExistsStoreChange(result) {\n    // check username\n    if (result[this.state.username] === false) {\n      this.notifyUnknownUser(this.state.username);\n      this.setState({username: ''});\n    }\n\n    // clean usernamesBeingChecked array\n    Object.keys(result).forEach((username) => {\n      const usernamesBeingChecked = this.state.usernamesBeingChecked;\n      usernamesBeingChecked.delete(username);\n      this.setState({usernamesBeingChecked: usernamesBeingChecked});\n    });\n  }\n\n  /**\n   * Multiple checkboxes have `partial_submissions`, so this function returns\n   * an array of items\n   */\n  getPermissionCheckboxPairs(permCodename) {\n    const found = [];\n    Object.keys(CHECKBOX_PERM_PAIRS).forEach((checkboxName) => {\n      if (CHECKBOX_PERM_PAIRS[checkboxName] === permCodename) {\n        found.push(checkboxName);\n      }\n    });\n    return found;\n  }\n\n  getImpliedPermissions(permCodename) {\n    const permDef = permConfig.getPermissionByCodename(\n      PERMISSIONS_CODENAMES[permCodename]\n    );\n    if (permDef) {\n      return permDef.implied;\n    } else {\n      return [];\n    }\n  }\n\n  getContradictoryPermissions(permCodename) {\n    const permDef = permConfig.getPermissionByCodename(\n      PERMISSIONS_CODENAMES[permCodename]\n    );\n    if (permDef) {\n      return permDef.contradictory;\n    } else {\n      return [];\n    }\n  }\n\n  getCheckboxLabel(checkboxName) {\n    let permName = CHECKBOX_PERM_PAIRS[checkboxName];\n    const permDef = permConfig.getPermissionByCodename(permName);\n    if (!permDef) {\n      return false;\n    } else if (PARTIAL_PERM_PAIRS.hasOwnProperty(checkboxName)) {\n      permName = PARTIAL_PERM_PAIRS[checkboxName];\n      const nestedPartialPermissions = this.props.assignablePerms.get(permDef.url);\n      return nestedPartialPermissions[permName];\n    } else {\n      return this.props.assignablePerms.get(permDef.url);\n    }\n  }\n\n  isAssignable(permCodename) {\n    const permDef = permConfig.getPermissionByCodename(\n      PERMISSIONS_CODENAMES[permCodename]\n    );\n    if (!permDef) {\n      return false;\n    } else {\n      return this.props.assignablePerms.has(permDef.url);\n    }\n  }\n\n  /**\n   * Blocks submitting non-ready form.\n   */\n  isSubmitEnabled() {\n    let isAnyCheckboxChecked = false;\n    Object.keys(CHECKBOX_PERM_PAIRS).forEach((checkboxName) => {\n      if (this.state[checkboxName] === true) {\n        isAnyCheckboxChecked = true;\n      }\n    });\n\n    return (\n      isAnyCheckboxChecked &&\n      this.isPartialValid(CHECKBOX_NAMES.submissionsViewPartial) &&\n      this.isPartialValid(CHECKBOX_NAMES.submissionsEditPartial) &&\n      this.isPartialValid(CHECKBOX_NAMES.submissionsDeletePartial) &&\n      this.isPartialValid(CHECKBOX_NAMES.submissionsValidatePartial) &&\n      !this.state.isSubmitPending &&\n      !this.state.isEditingUsername &&\n      this.state.username.length > 0 &&\n      this.state.usernamesBeingChecked.size === 0 &&\n      // we don't allow manual setting anonymous user permissions through UI\n      this.state.username !== ANON_USERNAME\n    );\n  }\n\n  /**\n   * Partial can't be empty if checked\n   */\n  isPartialValid(partialCheckboxName) {\n    return this.state[partialCheckboxName] ? this.state[partialCheckboxName + SUFFIX_USERS].length !== 0 : true;\n  }\n\n  /**\n   * Returns only the properties for assignable permissions\n   *\n   * @returns {FormData}\n   */\n  getFormData() {\n    const output = {\n      username: this.state.username,\n    };\n\n    Object.keys(CHECKBOX_PERM_PAIRS).forEach((checkboxName) => {\n      if (this.isAssignable(CHECKBOX_PERM_PAIRS[checkboxName])) {\n        output[checkboxName] = this.state[checkboxName];\n        if (checkboxName.endsWith(SUFFIX_PARTIAL)) {\n          output[checkboxName + SUFFIX_USERS] = this.state[checkboxName + SUFFIX_USERS];\n        }\n      }\n    });\n\n    return output;\n  }\n\n  submit(evt) {\n    evt.preventDefault();\n\n    if (!this.isSubmitEnabled()) {\n      return;\n    }\n\n    const formData = this.getFormData();\n\n    const parsedPerms = permParser.parseFormData(formData);\n\n    if (parsedPerms.length > 0) {\n      // bulk endpoint needs all other users permissions to be passed\n      let otherUserPerms = this.props.nonOwnerPerms.filter((perm) => {\n        return perm.user !== buildUserUrl(formData.username);\n      });\n      this.setState({isSubmitPending: true});\n      actions.permissions.bulkSetAssetPermissions(\n        this.props.uid,\n        otherUserPerms.concat(parsedPerms)\n      );\n    } else {\n      // if nothing changes but user submits, just notify parent we're good\n      this.notifyParentAboutSubmitEnd(true);\n    }\n\n    return false;\n  }\n\n  renderCheckbox(checkboxName) {\n    return (\n      <Checkbox\n        checked={this.state[checkboxName]}\n        disabled={this.state[checkboxName + SUFFIX_DISABLED]}\n        onChange={this.onCheckboxChange.bind(this, checkboxName)}\n        label={this.getCheckboxLabel(checkboxName)}\n      />\n    );\n  }\n\n  renderTextbox(checkboxName) {\n    return (\n      <TextBox\n        placeholder={PARTIAL_PLACEHOLDER}\n        value={this.state[checkboxName + SUFFIX_USERS].join(USERNAMES_SEPARATOR)}\n        onChange={this.onPartialUsersChange.bind(this, checkboxName + SUFFIX_USERS)}\n        errors={this.state[checkboxName] && this.state[checkboxName + SUFFIX_USERS].length === 0}\n        onKeyPress={this.onInputKeyPress}\n      />\n    );\n  }\n\n  renderPartialRow(checkboxName) {\n    if (this.isAssignable(CHECKBOX_PERM_PAIRS[checkboxName])) {\n      return (\n        <div className='user-permissions-editor__sub-row'>\n          {this.renderCheckbox(checkboxName)}\n\n          {this.state[checkboxName] === true &&\n            this.renderTextbox(checkboxName)\n          }\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const isNew = typeof this.props.username === 'undefined';\n\n    const formModifiers = [];\n    if (this.state.isSubmitPending) {\n      formModifiers.push('pending');\n    }\n\n    return (\n      <bem.FormModal__form\n        m={formModifiers}\n        className='user-permissions-editor'\n        onSubmit={this.submit}\n      >\n        {isNew &&\n          // don't display username editor when editing existing user\n          <div className='user-permissions-editor__row user-permissions-editor__row--username'>\n            <TextBox\n              placeholder={t('username')}\n              value={this.state.username}\n              onChange={this.onUsernameChange}\n              onBlur={this.onUsernameChangeEnd}\n              onKeyPress={this.onInputKeyPress}\n              errors={this.state.username.length === 0}\n            />\n          </div>\n        }\n\n        <div className='user-permissions-editor__row'>\n          {this.isAssignable(PERMISSIONS_CODENAMES.view_asset) &&\n            this.renderCheckbox(CHECKBOX_NAMES.formView)\n          }\n\n          {this.isAssignable(PERMISSIONS_CODENAMES.change_asset) &&\n            this.renderCheckbox(CHECKBOX_NAMES.formEdit)\n          }\n\n          {this.isAssignable(PERMISSIONS_CODENAMES.view_submissions) &&\n            this.renderCheckbox(CHECKBOX_NAMES.submissionsView)\n          }\n          {this.renderPartialRow(CHECKBOX_NAMES.submissionsViewPartial)}\n\n          {this.isAssignable(PERMISSIONS_CODENAMES.add_submissions) &&\n            this.renderCheckbox(CHECKBOX_NAMES.submissionsAdd)\n          }\n\n          {this.isAssignable(PERMISSIONS_CODENAMES.change_submissions) &&\n            this.renderCheckbox(CHECKBOX_NAMES.submissionsEdit)\n          }\n          {this.renderPartialRow(CHECKBOX_NAMES.submissionsEditPartial)}\n\n          {this.isAssignable(PERMISSIONS_CODENAMES.validate_submissions) &&\n            this.renderCheckbox(CHECKBOX_NAMES.submissionsValidate)\n          }\n          {this.renderPartialRow(CHECKBOX_NAMES.submissionsValidatePartial)}\n\n          {this.isAssignable(PERMISSIONS_CODENAMES.delete_submissions) &&\n            this.renderCheckbox(CHECKBOX_NAMES.submissionsDelete)\n          }\n          {this.renderPartialRow(CHECKBOX_NAMES.submissionsDeletePartial)}\n\n          {this.isAssignable(PERMISSIONS_CODENAMES.manage_asset) &&\n            this.renderCheckbox(CHECKBOX_NAMES.formManage)\n          }\n        </div>\n\n        <div className='user-permissions-editor__row'>\n          <bem.KoboButton\n            m='blue'\n            type='submit'\n            disabled={!this.isSubmitEnabled()}\n            >\n              {isNew ? t('Grant permissions') : t('Update permissions')}\n            </bem.KoboButton>\n        </div>\n      </bem.FormModal__form>\n    );\n  }\n}\nreactMixin(UserAssetPermsEditor.prototype, Reflux.ListenerMixin);\n\nexport default UserAssetPermsEditor;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Checkbox from 'js/components/common/checkbox';\nimport mixins from 'js/mixins';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport permConfig from 'js/components/permissions/permConfig';\nimport {buildUserUrl} from 'utils';\nimport {\n  ROOT_URL,\n  ANON_USERNAME,\n  PERMISSIONS_CODENAMES\n} from 'js/constants';\n\nclass PublicShareSettings extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n    this.anonCanViewPermUrl = permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.view_asset).url;\n    this.anonCanViewDataPermUrl = permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.view_submissions).url;\n  }\n  togglePerms(permCodename) {\n    var permission = this.props.publicPerms.filter((perm) => {\n      return perm.permission === permConfig.getPermissionByCodename(permCodename).url;\n    })[0];\n    if (permission) {\n      actions.permissions.removeAssetPermission(this.props.uid, permission.url);\n    } else {\n      actions.permissions.assignAssetPermission(\n        this.props.uid, {\n          user: buildUserUrl(ANON_USERNAME),\n          permission: permConfig.getPermissionByCodename(permCodename).url\n        }\n      );\n    }\n  }\n  render () {\n    const uid = this.props.uid;\n    const url = `${ROOT_URL}/#/forms/${uid}`;\n\n    const anonCanView = this.props.publicPerms.filter((perm) => {return perm.permission === this.anonCanViewPermUrl;})[0];\n    const anonCanViewData = this.props.publicPerms.filter((perm) => {return perm.permission === this.anonCanViewDataPermUrl;})[0];\n\n    return (\n      <bem.FormModal__item m='permissions'>\n        <bem.FormModal__item>\n          <Checkbox\n            checked={anonCanView ? true : false}\n            onChange={this.togglePerms.bind(this, 'view_asset')}\n            label={t('Anyone can view this form')}\n          />\n        </bem.FormModal__item>\n\n        { this.props.deploymentActive &&\n          <bem.FormModal__item>\n            <Checkbox\n              checked={anonCanViewData ? true : false}\n              onChange={this.togglePerms.bind(this, 'view_submissions')}\n              label={t('Anyone can view submissions made to this form')}\n            />\n          </bem.FormModal__item>\n        }\n\n        { anonCanView &&\n          <bem.FormModal__item m='shareable-link'>\n            <label>\n              {t('Shareable link')}\n            </label>\n            <input type='text' value={url} readOnly />\n          </bem.FormModal__item>\n        }\n      </bem.FormModal__item>\n    );\n  }\n}\n\nreactMixin(PublicShareSettings.prototype, mixins.permissions);\n\nexport default PublicShareSettings;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport alertify from 'alertifyjs';\nimport mixins from 'js/mixins';\nimport assetStore from 'js/assetStore';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport {stringToColor} from 'utils';\nimport {\n  ASSET_TYPES,\n  PERMISSIONS_CODENAMES\n} from 'js/constants';\nimport UserAssetPermsEditor from './userAssetPermsEditor';\nimport permConfig from './permConfig';\n\nclass UserPermissionRow extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n\n    this.state = {\n      isEditFormVisible: false,\n      isBeingDeleted: false\n    };\n  }\n\n  componentDidMount() {\n    this.listenTo(assetStore, this.onAssetChange);\n  }\n\n  onAssetChange() {\n    // fixes bug that disables a user who was re-added after being deleted\n    this.setState({isBeingDeleted: false});\n  }\n\n  removePermissions() {\n    const dialog = alertify.dialog('confirm');\n    const opts = {\n      title: t('Remove permissions?'),\n      message: t('This action will remove all permissions for user ##username##').replace('##username##', `<strong>${this.props.user.name}</strong>`),\n      labels: {ok: t('Remove'), cancel: t('Cancel')},\n      onok: this.removeAllPermissions,\n      oncancel: dialog.destroy\n    };\n    dialog.set(opts).show();\n  }\n\n  /**\n   * Note: we remove \"view_asset\" permission, as it is the most basic one,\n   * so removing it will in fact remove all permissions\n   */\n  removeAllPermissions() {\n    this.setState({isBeingDeleted: true});\n    const userViewAssetPerm = this.props.permissions.find((perm) => {\n      return perm.permission === permConfig.getPermissionByCodename(PERMISSIONS_CODENAMES.view_asset).url;\n    });\n    actions.permissions.removeAssetPermission(this.props.uid, userViewAssetPerm.url);\n  }\n\n  onPermissionsEditorSubmitEnd(isSuccess) {\n    if (isSuccess) {\n      this.setState({isEditFormVisible: false});\n    }\n  }\n\n  toggleEditForm() {\n    this.setState({isEditFormVisible: !this.state.isEditFormVisible});\n  }\n\n  // TODO this doesn't display partial_permissions in a nice way,\n  // as it assumes that there can be only \"view\" in them,\n  // but this is partially a fault of Backend giving a non universal label to \"partial_permissions\"\n  renderPermissions(permissions) {\n    const maxParentheticalUsernames = 3;\n    return (\n      <bem.UserRow__perms>\n        {permissions.map((perm) => {\n          let permUsers = [];\n\n          if (perm.partial_permissions) {\n            perm.partial_permissions.forEach((partial) => {\n              partial.filters.forEach((filter) => {\n                if (filter._submitted_by) {\n                  permUsers = permUsers.concat(filter._submitted_by.$in);\n                }\n              });\n            });\n          }\n\n          // Keep only unique values\n          permUsers = [...new Set(permUsers)];\n\n          let permLabel = '???';\n          if (this.props.assignablePerms.has(perm.permission)) {\n            permLabel = this.props.assignablePerms.get(perm.permission);\n            if (typeof permLabel === 'object') {\n              // let's assume back end always returns a `default` property with\n              // nested permissions\n              permLabel = permLabel.default;\n            }\n          }\n\n          // Hopefully this is friendly to translators of RTL languages\n          let permNameTemplate;\n          if (permUsers.length === 0) {\n            permNameTemplate = '##permission_label##';\n          } else if (permUsers.length <= maxParentheticalUsernames) {\n            permNameTemplate = t('##permission_label## (##username_list##)');\n          } else if (permUsers.length === maxParentheticalUsernames + 1) {\n            permNameTemplate = t('##permission_label## (##username_list## and 1 other)');\n          } else {\n            permNameTemplate = t('##permission_label## (##username_list## and ' +\n                                 '##hidden_username_count## others)');\n          }\n\n          let friendlyPermName = (\n            permNameTemplate.replace('##permission_label##', permLabel)\n                            .replace('##username_list##', permUsers.slice(0, maxParentheticalUsernames).join(', '))\n                            .replace('##hidden_username_count##', permUsers.length - maxParentheticalUsernames)\n          );\n\n\n          return <bem.UserRow__perm\n            title={perm.description}\n            key={permLabel}\n          >\n            {friendlyPermName}\n          </bem.UserRow__perm>;\n        })}\n      </bem.UserRow__perms>\n    );\n  }\n\n  render() {\n    const initialsStyle = {\n      background: `#${stringToColor(this.props.user.name)}`\n    };\n\n    const modifiers = [];\n    if (this.props.permissions.length === 0) {\n      modifiers.push('deleted');\n    }\n    if (this.state.isBeingDeleted) {\n      modifiers.push('pending');\n    }\n\n    return (\n      <bem.UserRow m={modifiers}>\n        <bem.UserRow__info>\n          <bem.UserRow__avatar>\n            <bem.AccountBox__initials style={initialsStyle}>\n              {this.props.user.name.charAt(0)}\n            </bem.AccountBox__initials>\n          </bem.UserRow__avatar>\n\n          <bem.UserRow__name>\n            {this.props.user.name}\n          </bem.UserRow__name>\n\n          {this.props.user.isOwner &&\n            <bem.UserRow__perms>{t('is owner')}</bem.UserRow__perms>\n          }\n          {!this.props.user.isOwner &&\n            <React.Fragment>\n              {this.renderPermissions(this.props.permissions)}\n\n              <bem.Button m='icon' onClick={this.toggleEditForm}>\n                {this.state.isEditFormVisible &&\n                  <i className='k-icon k-icon-close'/>\n                }\n                {!this.state.isEditFormVisible &&\n                  <i className='k-icon k-icon-edit'/>\n                }\n              </bem.Button>\n\n              <bem.Button m='icon' onClick={this.removePermissions}>\n                <i className='k-icon k-icon-trash' />\n              </bem.Button>\n            </React.Fragment>\n          }\n        </bem.UserRow__info>\n\n        {this.state.isEditFormVisible &&\n          <bem.UserRow__editor>\n            <UserAssetPermsEditor\n              uid={this.props.uid}\n              username={this.props.user.name}\n              permissions={this.props.permissions}\n              assignablePerms={this.props.assignablePerms}\n              nonOwnerPerms={this.props.nonOwnerPerms}\n              onSubmitEnd={this.onPermissionsEditorSubmitEnd}\n            />\n          </bem.UserRow__editor>\n        }\n      </bem.UserRow>\n      );\n  }\n}\n\nreactMixin(UserPermissionRow.prototype, mixins.permissions);\nreactMixin(UserPermissionRow.prototype, Reflux.ListenerMixin);\n\nexport default UserPermissionRow;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport mixins from 'js/mixins';\nimport {stores} from 'js/stores';\nimport assetStore from 'js/assetStore';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {buildUserUrl} from 'utils';\nimport {\n  ASSET_TYPES,\n  ANON_USERNAME,\n} from 'js/constants';\nimport './sharingForm.scss';\nimport {ROUTES} from 'js/router/routerConstants';\n// parts\nimport CopyTeamPermissions from './copyTeamPermissions';\nimport UserAssetPermsEditor from './userAssetPermsEditor';\nimport PublicShareSettings from './publicShareSettings';\nimport UserPermissionRow from './userPermissionRow';\nimport {permParser} from './permParser';\n\nclass SharingForm extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n    this.state = {\n      allAssetsCount: 0,\n      isAddUserEditorVisible: false,\n    };\n  }\n\n  componentDidMount() {\n    this.listenTo(assetStore, this.onAssetChange);\n    this.listenTo(stores.allAssets, this.onAllAssetsChange);\n    this.listenTo(actions.permissions.bulkSetAssetPermissions.completed, this.onAssetPermissionsUpdated);\n    this.listenTo(actions.permissions.getAssetPermissions.completed, this.onAssetPermissionsUpdated);\n\n    if (this.props.uid) {\n      actions.resources.loadAsset({id: this.props.uid});\n    }\n\n    this.onAllAssetsChange();\n  }\n\n  onAllAssetsChange() {\n    this.setState({allAssetsCount: Object.keys(stores.allAssets.byUid).length});\n  }\n\n  onAssetPermissionsUpdated(permissionAssignments) {\n    const parsedPerms = permParser.parseBackendData(permissionAssignments, this.state.asset.owner, true);\n    const anonUserUrl = buildUserUrl(ANON_USERNAME);\n    const publicPerms = permissionAssignments.filter((assignment) => {\n      return assignment.user === anonUserUrl;\n    });\n    const nonOwnerPerms = permParser.parseUserWithPermsList(parsedPerms).filter((perm) => {\n      return perm.user !== buildUserUrl(this.state.asset.owner);\n    });\n\n    this.setState({\n      permissions: parsedPerms,\n      nonOwnerPerms: nonOwnerPerms,\n      publicPerms: publicPerms,\n    });\n  }\n\n  onAssetChange(data) {\n    const uid = this.props.uid || this.currentAssetID;\n    const asset = data[uid];\n\n    if (asset) {\n      this.setState({asset: asset});\n    }\n\n    this.setState({\n      assignablePerms: this.getAssignablePermsMap(asset.assignable_permissions)\n    });\n    // we need to fetch permissions after asset has loaded,\n    // as we need the owner username to parse permissions\n    actions.permissions.getAssetPermissions(uid);\n  }\n\n  getAssignablePermsMap(backendPerms) {\n    const assignablePerms = new Map();\n    backendPerms.forEach((backendPerm) => {\n      assignablePerms.set(backendPerm.url, backendPerm.label);\n    });\n    return assignablePerms;\n  }\n\n  toggleAddUserEditor() {\n    this.setState({isAddUserEditorVisible: !this.state.isAddUserEditorVisible});\n  }\n\n  onPermissionsEditorSubmitEnd(isSuccess) {\n    if (isSuccess) {\n      this.setState({isAddUserEditorVisible: false});\n    }\n  }\n\n  render() {\n    if (!this.state.permissions) {\n      return (<LoadingSpinner/>);\n    }\n\n    let uid = this.state.asset.uid,\n        asset_type = this.state.asset.asset_type,\n        objectUrl = this.state.asset.url;\n\n    return (\n      <bem.FormModal m='sharing-form'>\n        <bem.Modal__subheader>\n          {this.state.asset.name}\n        </bem.Modal__subheader>\n\n        {stores.session.currentAccount.extra_details?.require_auth !== true &&\n          <bem.FormModal__item>\n            <bem.FormView__cell m='warning'>\n              <i className='k-icon k-icon-alert' />\n              <p>\n                {t('Anyone can see this blank form and add submissions to it because you have not set ')}\n                <a href={`/#${ROUTES.ACCOUNT_SETTINGS}`}>\n                  {t('your account')}\n                </a>\n                {t(' to require authentication.')}\n              </p>\n            </bem.FormView__cell>\n          </bem.FormModal__item>\n        }\n\n        {/* list of users and their permissions */}\n        <bem.FormModal__item>\n          <h2>{t('Who has access')}</h2>\n\n          {this.state.permissions.map((perm) => {\n            // don't show anonymous user permissions in UI\n            if (perm.user.name === ANON_USERNAME) {\n              return null;\n            }\n            return <UserPermissionRow\n              key={`perm.${uid}.${perm.user.name}`}\n              uid={uid}\n              nonOwnerPerms={this.state.nonOwnerPerms}\n              assignablePerms={this.state.assignablePerms}\n              assetType={asset_type}\n              {...perm}\n            />;\n          })}\n\n          {!this.state.isAddUserEditorVisible &&\n            <bem.KoboButton\n              m='blue'\n              onClick={this.toggleAddUserEditor}\n            >\n              {t('Add user')}\n            </bem.KoboButton>\n          }\n\n          {this.state.isAddUserEditorVisible &&\n            <bem.FormModal__item m={['gray-row', 'copy-team-permissions']}>\n              <bem.Button\n                m='icon'\n                className='user-permissions-editor-closer'\n                onClick={this.toggleAddUserEditor}\n              >\n                <i className='k-icon k-icon-close'/>\n              </bem.Button>\n\n              <UserAssetPermsEditor\n                uid={uid}\n                assignablePerms={this.state.assignablePerms}\n                nonOwnerPerms={this.state.nonOwnerPerms}\n                onSubmitEnd={this.onPermissionsEditorSubmitEnd}\n              />\n\n            </bem.FormModal__item>\n          }\n        </bem.FormModal__item>\n\n        {/* public sharing settings */}\n        { asset_type === ASSET_TYPES.survey.id &&\n          <React.Fragment>\n            <bem.Modal__hr/>\n\n            <bem.FormModal__item m='share-settings'>\n              <h2>{t('Share publicly by link')}</h2>\n\n              <PublicShareSettings\n                publicPerms={this.state.publicPerms}\n                uid={uid}\n                objectUrl={objectUrl}\n                deploymentActive={this.state.asset.deployment__active}\n              />\n            </bem.FormModal__item>\n          </React.Fragment>\n        }\n\n        {/* copying permissions from other assets */}\n        { asset_type !== ASSET_TYPES.collection.id && this.state.allAssetsCount === 0 &&\n          <React.Fragment>\n            <bem.Modal__hr/>\n            {t('Waiting for all projects to load…')}\n          </React.Fragment>\n        }\n        { asset_type !== ASSET_TYPES.collection.id && this.state.allAssetsCount >= 2 &&\n          <React.Fragment>\n            <bem.Modal__hr/>\n            <CopyTeamPermissions uid={uid}/>\n          </React.Fragment>\n        }\n      </bem.FormModal>\n    );\n  }\n}\n\nSharingForm.contextTypes = {router: PropTypes.object};\n\nreactMixin(SharingForm.prototype, mixins.permissions);\nreactMixin(SharingForm.prototype, mixins.contextRouter);\nreactMixin(SharingForm.prototype, Reflux.ListenerMixin);\n\nexport default SharingForm;\n","import assetUtils from 'js/assetUtils';\n\n/* Figure out what columns need to be 'checked' or 'unchecked'\n *\n * @param {Array} selectedColumns - the columns that are already selected\n * @param {Array} selectableQuestions - the questions that are allowed to be exposed\n */\nexport function generateColumnFilters(selectedColumns, selectableQuestions) {\n  let selectableColumns = [];\n\n  // We need to flatten questions if coming from survey in order to compare\n  // to `selectableQuestions`\n  if (selectableQuestions?.length && typeof selectableQuestions[0] === 'object') {\n    let questions = assetUtils.getSurveyFlatPaths(selectableQuestions);\n    for (const key in questions) {\n      if (!questions[key].includes('version')) {\n        selectableColumns.push(questions[key]);\n      }\n    }\n  } else {\n    selectableColumns = selectableQuestions;\n  }\n\n  const columnsToDisplay = [];\n  // Columns are unchecked by default to avoid exposing new questions if user\n  // has selected `Share some questions`\n  if (selectedColumns.length == 0) {\n    selectableColumns.forEach((column) => {\n      columnsToDisplay.push({label: column, checked: false});\n    });\n  } else {\n    selectableColumns.forEach((column) => {\n      // 'Check' only matching columns\n      columnsToDisplay.push({\n        label: column,\n        checked: selectedColumns.includes(column),\n      });\n    });\n  }\n  return columnsToDisplay;\n}\n\nexport default {\n  generateColumnFilters,\n};\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport Checkbox from 'js/components/common/checkbox';\nimport './multiCheckbox.scss';\n\n/**\n * @namespace MultiCheckboxItem\n * @prop {boolean} checked\n * @prop {boolean} disabled\n * @prop {string} label\n * @prop … any other properties will be passed back with onChange\n */\n\n/**\n * A MultiCheckbox generic component.\n *\n * @prop {MultiCheckboxItem[]} items\n * @prop {function} onChange - returns whole list whenever any item changes\n */\nclass MultiCheckbox extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  onChange(itemIndex, isChecked) {\n    let updatedList = this.props.items;\n    updatedList[itemIndex].checked = isChecked;\n    this.props.onChange(updatedList);\n  }\n\n  render() {\n    return (\n      <bem.MultiCheckbox>\n        {this.props.items.map((item, itemIndex) => {\n          return (\n            <bem.MultiCheckbox__item key={itemIndex}>\n              <Checkbox\n                checked={item.checked}\n                disabled={item.disabled}\n                onChange={this.onChange.bind(this, itemIndex)}\n                label={item.label}\n              />\n            </bem.MultiCheckbox__item>\n          );\n        })}\n      </bem.MultiCheckbox>\n    );\n  }\n}\n\nexport default MultiCheckbox;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport dataAttachmentsUtils from 'js/components/dataAttachments/dataAttachmentsUtils';\nimport MultiCheckbox from 'js/components/common/multiCheckbox';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\n\n/**\n * Attributes from source needed to generate `columnsToDisplay`\n *\n * @namespace sourceAttributes\n * @prop {string} uid\n * @prop {string} name\n * @prop {string} url\n */\n\n/**\n * The content of the DATA_ATTACHMENT_COLUMNS modal\n *\n * @prop {function} onSetModalTitle - for changing the modal title by this component\n * @prop {function} onModalClose - causes the modal to close\n * @prop {object} asset - current asset\n * @prop {sourceAttributes} source\n * @prop {string} fileName\n * @prop {string[]} fields - selected fields to retrieve from source\n * @prop {string} attachmentUrl - if exists, we are patching an existing attachment\n                                  otherwise, this is a new import\n */\nclass DataAttachmentColumnsForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isInitalised: false,\n      isLoading: false,\n      columnsToDisplay: [],\n    };\n    autoBind(this);\n    this.unlisteners = [];\n  }\n\n  componentDidMount() {\n    // We must query for source's asset content in order to display their\n    // available columns\n\n    // TODO: See if we can simplify this to only call this if props does not\n    // have any connected questions\n    actions.resources.loadAsset({id: this.props.source.uid});\n\n    this.unlisteners.push(\n      actions.dataShare.attachToSource.started.listen(\n        this.markComponentAsLoading\n      ),\n      actions.dataShare.attachToSource.completed.listen(\n        this.onAttachToSourceCompleted\n      ),\n      actions.dataShare.attachToSource.failed.listen(\n        this.stopLoading\n      ),\n      actions.dataShare.patchSource.started.listen(\n        this.markComponentAsLoading\n      ),\n      actions.dataShare.patchSource.completed.listen(\n        this.onPatchSourceCompleted\n      ),\n      actions.dataShare.patchSource.failed.listen(\n        this.stopLoading\n      ),\n      actions.resources.loadAsset.completed.listen(\n        this.onLoadAssetContentCompleted\n      ),\n      actions.resources.loadAsset.failed.listen(\n        this.stopLoading\n      ),\n    );\n    this.setModalTitle();\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  setModalTitle() {\n    this.props.onSetModalTitle(\n      t('Import data from ##SOURCE_NAME##')\n        .replace('##SOURCE_NAME##', this.props.source.name)\n    );\n  }\n\n  onAttachToSourceCompleted() {\n    this.props.onModalClose();\n  }\n  onBulkSelect() {\n    let newList = this.state.columnsToDisplay.map((item) => {\n      return {label: item.label, checked: true}\n    });\n    this.setState({columnsToDisplay: newList})\n  }\n  onBulkDeselect() {\n    let newList = this.state.columnsToDisplay.map((item) => {\n      return {label: item.label, checked: false}\n    });\n    this.setState({columnsToDisplay: newList})\n  }\n  onLoadAssetContentCompleted(response) {\n    if (\n      response.data_sharing?.fields?.length > 0\n    ) {\n      this.setState({\n        isInitialised: true,\n        columnsToDisplay: dataAttachmentsUtils.generateColumnFilters(\n          this.props.fields,\n          response.data_sharing.fields,\n        ),\n      });\n    } else {\n      // empty `fields` implies all source questions are exposed\n      this.setState({\n        isInitialised: true,\n        columnsToDisplay: dataAttachmentsUtils.generateColumnFilters(\n          this.props.fields,\n          response.content.survey,\n        ),\n      });\n    }\n  }\n  onPatchSourceCompleted(response) {\n    this.setState({\n      isLoading: false,\n      columnsToDisplay: dataAttachmentsUtils.generateColumnFilters(\n        this.props.fields,\n        response.fields,\n      ),\n    });\n    this.props.onModalClose();\n  }\n  // Actions take care of the error handling for this modal\n  stopLoading() {\n    this.setState({isLoading: false});\n  }\n\n  onColumnSelected(newList) {\n    this.setState({columnsToDisplay: newList});\n  }\n\n  onSubmit(evt) {\n    evt.preventDefault();\n\n    const fields = [];\n    let data = '';\n\n    this.state.columnsToDisplay.forEach((item) => {\n      if (item.checked) {\n        fields.push(item.label);\n      }\n    });\n\n    if (this.props.attachmentUrl) {\n      data = {\n        fields: fields,\n        filename: this.props.filename,\n      };\n      actions.dataShare.patchSource(this.props.attachmentUrl, data);\n    } else {\n      data = {\n        source: this.props.source.url,\n        fields: fields,\n        filename: this.props.filename,\n      };\n      actions.dataShare.attachToSource(this.props.asset.uid, data);\n    }\n  }\n\n  markComponentAsLoading() {\n    this.setState({isLoading: true});\n  }\n\n  render() {\n    return (\n      // TODO: Use BEM elements\n      <bem.FormModal__form m='data-attachment-columns'>\n        <div className='header'>\n          <span className='modal-description'>\n            {t('You are about to import ##SOURCE_NAME##. Select or deselect in the list below to narrow down the number of questions to import.').replace('##SOURCE_NAME##', this.props.source.name)}\n          </span>\n\n          <div className='bulk-options'>\n            <span className='bulk-options__description'>\n              {t('Select below the questions you want to import')}\n            </span>\n\n            <div className='bulk-options__buttons'>\n              <bem.KoboLightButton\n                m='blue'\n                onClick={this.onBulkSelect}\n              >\n                {t('Select all')}\n              </bem.KoboLightButton>\n\n              <span>\n                {t('|')}\n              </span>\n\n              <bem.KoboLightButton\n                m='blue'\n                onClick={this.onBulkDeselect}\n              >\n                {t('Deselect all')}\n              </bem.KoboLightButton>\n            </div>\n          </div>\n        </div>\n\n        {!this.state.isInitialised &&\n          <LoadingSpinner message={t('Loading imported questions')}/>\n        }\n\n        <MultiCheckbox\n          items={this.state.columnsToDisplay}\n          onChange={this.onColumnSelected}\n          disabled={this.state.isLoading}\n        />\n\n        {this.state.isLoading &&\n          <LoadingSpinner message={t('Updating imported questions')}/>\n        }\n\n        <footer className='modal__footer'>\n          <bem.KoboButton\n            m='blue'\n            type='submit'\n            onClick={this.onSubmit}\n            disabled={this.state.isLoading}\n          >\n            {t('Accept')}\n          </bem.KoboButton>\n        </footer>\n\n      </bem.FormModal__form>\n    );\n  }\n}\n\nexport default DataAttachmentColumnsForm;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport {\n  formatTimeDate,\n  formatDate,\n} from 'utils';\nimport bem from 'js/bem';\nimport {renderQuestionTypeIcon} from 'js/assetUtils';\nimport {\n  DISPLAY_GROUP_TYPES,\n  getSubmissionDisplayData,\n} from 'js/components/submissions/submissionUtils';\nimport {\n  META_QUESTION_TYPES,\n  QUESTION_TYPES,\n  SCORE_ROW_TYPE,\n  RANK_LEVEL_TYPE,\n} from 'js/constants';\nimport './submissionDataTable.scss';\n\n/**\n * @prop {object} asset\n * @prop {object} submissionData\n * @prop {number} translationIndex\n * @prop {boolean} [showXMLNames]\n */\nclass SubmissionDataTable extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  /**\n   * @prop {DisplayGroup} item\n   * @prop {number} itemIndex\n   */\n  renderGroup(item, itemIndex) {\n    return (\n      <bem.SubmissionDataTable__row\n        m={['group', `type-${item.type}`]}\n        key={`${item.name}__${itemIndex}`}\n      >\n        {item.name !== null &&\n          <bem.SubmissionDataTable__row m='group-label'>\n            {item.label}\n            {this.props.showXMLNames &&\n              <bem.SubmissionDataTable__XMLName>\n                {item.name}\n              </bem.SubmissionDataTable__XMLName>\n            }\n          </bem.SubmissionDataTable__row>\n        }\n\n        {item.type === DISPLAY_GROUP_TYPES.group_root &&\n          <bem.SubmissionDataTable__row m={['columns', 'column-names']}>\n            <bem.SubmissionDataTable__column m='type'>\n              {t('Type')}\n            </bem.SubmissionDataTable__column>\n\n            <bem.SubmissionDataTable__column m='label'>\n              {t('Question')}\n            </bem.SubmissionDataTable__column>\n\n            <bem.SubmissionDataTable__column m='data'>\n              {t('Response')}\n            </bem.SubmissionDataTable__column>\n          </bem.SubmissionDataTable__row>\n        }\n\n        <bem.SubmissionDataTable__row m='group-children'>\n          {item.children.map((child, index) => {\n            if (DISPLAY_GROUP_TYPES[child.type]) {\n              return this.renderGroup(child, index);\n            } else {\n              return this.renderResponse(child, index);\n            }\n          })}\n        </bem.SubmissionDataTable__row>\n      </bem.SubmissionDataTable__row>\n    );\n  }\n\n  /**\n   * @prop {DisplayResponse} item\n   * @prop {number} itemIndex\n   */\n  renderResponse(item, itemIndex) {\n    return (\n      <bem.SubmissionDataTable__row\n        m={['columns', 'response', `type-${item.type}`]}\n        key={`${item.name}__${itemIndex}`}\n      >\n        <bem.SubmissionDataTable__column m='type'>\n          {renderQuestionTypeIcon(item.type)}\n        </bem.SubmissionDataTable__column>\n\n        <bem.SubmissionDataTable__column m='label'>\n          {item.label}\n          {this.props.showXMLNames &&\n            <bem.SubmissionDataTable__XMLName>\n              {item.name}\n            </bem.SubmissionDataTable__XMLName>\n          }\n        </bem.SubmissionDataTable__column>\n\n        <bem.SubmissionDataTable__column m='data'>\n          {this.renderResponseData(item.type, item.data, item.listName)}\n        </bem.SubmissionDataTable__column>\n      </bem.SubmissionDataTable__row>\n    );\n  }\n\n  /**\n   * @prop {string} type\n   * @prop {string|null} data\n   * @prop {string|undefined} listName\n   */\n  renderResponseData(type, data, listName) {\n    if (data === null) {\n      return null;\n    }\n\n    let choice;\n\n    switch (type) {\n      case QUESTION_TYPES.select_one.id:\n      case SCORE_ROW_TYPE:\n      case RANK_LEVEL_TYPE:\n        choice = this.findChoice(listName, data);\n        if (!choice) {\n          console.error(`Choice not found for \"${listName}\" and \"${data}\".`);\n          // fallback to raw data to display anything meaningful\n          return data;\n        } else {\n          return (\n            <bem.SubmissionDataTable__value>\n              {choice.label[this.props.translationIndex] || choice.name}\n            </bem.SubmissionDataTable__value>\n          );\n        }\n      case QUESTION_TYPES.select_multiple.id:\n        return (\n          <ul>\n            {data.split(' ').map((answer, answerIndex) => {\n              choice = this.findChoice(listName, answer);\n              if (!choice) {\n                console.error(`Choice not found for \"${listName}\" and \"${answer}\".`);\n                // fallback to raw data to display anything meaningful\n                return answer;\n              } else {\n                return (\n                  <li key={answerIndex}>\n                    <bem.SubmissionDataTable__value>\n                      {choice.label[this.props.translationIndex] || choice.name}\n                    </bem.SubmissionDataTable__value>\n                  </li>\n                );\n              }\n            })}\n          </ul>\n        );\n      case QUESTION_TYPES.date.id:\n        return (\n          <bem.SubmissionDataTable__value>\n            {formatDate(data)}\n          </bem.SubmissionDataTable__value>\n        );\n      case QUESTION_TYPES.datetime.id:\n        return (\n          <bem.SubmissionDataTable__value>\n            {formatTimeDate(data)}\n          </bem.SubmissionDataTable__value>\n        );\n      case QUESTION_TYPES.geopoint.id:\n        return this.renderPointData(data);\n      case QUESTION_TYPES.image.id:\n      case QUESTION_TYPES.audio.id:\n      case QUESTION_TYPES.video.id:\n      case QUESTION_TYPES.file.id:\n        return this.renderAttachment(type, data);\n      case QUESTION_TYPES.geotrace.id:\n        return this.renderMultiplePointsData(data);\n      case QUESTION_TYPES.geoshape.id:\n        return this.renderMultiplePointsData(data);\n      default:\n        // all types not specified above just returns raw data\n        return (\n          <bem.SubmissionDataTable__value>\n            {data}\n          </bem.SubmissionDataTable__value>\n        );\n    }\n  }\n\n  /**\n   * @prop {string} listName\n   * @prop {string} choiceName\n   * @returns {object|undefined}\n   */\n  findChoice(listName, choiceName) {\n    return this.props.asset.content.choices.find((choice) => {\n      return choice.name === choiceName && choice.list_name === listName;\n    });\n  }\n\n  /**\n   * @prop {string} filename\n   * @returns {object|undefined}\n   */\n  findAttachmentData(targetFilename) {\n    // Match filename with full filename in attachment list\n    // BUG: this works but is possible to find bad attachment as `includes` can match multiple\n    return this.props.submissionData._attachments.find((attachment) => {\n      return attachment.filename.endsWith(`/${targetFilename}`);\n    });\n  }\n\n  /**\n   * @prop {string} data\n   */\n  renderPointData(data) {\n    const parts = data.split(' ');\n    return (\n      <ul>\n        <li>\n          {t('latitude (x.y °):') + ' '}\n          <bem.SubmissionDataTable__value>{parts[0]}</bem.SubmissionDataTable__value>\n        </li>\n        <li>\n          {t('longitude (x.y °):') + ' '}\n          <bem.SubmissionDataTable__value>{parts[1]}</bem.SubmissionDataTable__value>\n        </li>\n        <li>\n          {t('altitude (m):') + ' '}\n          <bem.SubmissionDataTable__value>{parts[2]}</bem.SubmissionDataTable__value>\n        </li>\n        <li>\n          {t('accuracy (m):') + ' '}\n          <bem.SubmissionDataTable__value>{parts[3]}</bem.SubmissionDataTable__value>\n        </li>\n      </ul>\n    );\n  }\n\n  /**\n   * @prop {string} data\n   */\n  renderMultiplePointsData(data) {\n    return (data.split(';').map((pointData, pointIndex) => {\n      return (\n        <bem.SubmissionDataTable__row m={['columns', 'point']} key={pointIndex}>\n          <bem.SubmissionDataTable__column>\n            P<sub>{pointIndex + 1}</sub>\n          </bem.SubmissionDataTable__column>\n          <bem.SubmissionDataTable__column>\n            {this.renderPointData(pointData)}\n          </bem.SubmissionDataTable__column>\n        </bem.SubmissionDataTable__row>\n      );\n    }));\n  }\n\n  /**\n   * @prop {string} type\n   * @prop {string} filename\n   */\n  renderAttachment(type, filename) {\n    const fileNameNoSpaces = filename.replace(/ /g, '_');\n    const attachment = this.findAttachmentData(fileNameNoSpaces);\n\n    if (attachment) {\n      if (type === QUESTION_TYPES.image.id) {\n        return (\n          <a href={attachment.download_url} target='_blank'>\n            <img src={attachment.download_medium_url}/>\n          </a>\n        );\n      } else {\n        return (<a href={attachment.download_url} target='_blank'>{filename}</a>);\n      }\n    // In the case that an attachment is missing, don't crash the page\n    } else {\n      return(t('Could not retrieve ##filename##').replace('##filename##', filename));\n    }\n  }\n\n  /**\n   * @prop {string} dataName\n   * @prop {string} label\n   */\n  renderMetaResponse(dataName, label) {\n    return (\n      <bem.SubmissionDataTable__row m={['columns', 'response', 'metadata']}>\n        <bem.SubmissionDataTable__column m='type'>\n          {renderQuestionTypeIcon(dataName)}\n        </bem.SubmissionDataTable__column>\n\n        <bem.SubmissionDataTable__column m='label'>\n          {label}\n          {this.props.showXMLNames &&\n            <bem.SubmissionDataTable__XMLName>\n              {dataName}\n            </bem.SubmissionDataTable__XMLName>\n          }\n        </bem.SubmissionDataTable__column>\n\n        <bem.SubmissionDataTable__column m='data'>\n          {this.props.submissionData[dataName]}\n        </bem.SubmissionDataTable__column>\n      </bem.SubmissionDataTable__row>\n    );\n  }\n\n  render() {\n    const displayData = getSubmissionDisplayData(\n      this.props.asset.content.survey,\n      this.props.asset.content.choices,\n      this.props.translationIndex,\n      this.props.submissionData\n    );\n\n    return (\n      <bem.SubmissionDataTable>\n        {this.renderGroup(displayData)}\n\n        {this.renderMetaResponse(META_QUESTION_TYPES.start, t('start'))}\n        {this.renderMetaResponse(META_QUESTION_TYPES.end, t('end'))}\n        {this.renderMetaResponse(META_QUESTION_TYPES.today, t('today'))}\n        {this.renderMetaResponse(META_QUESTION_TYPES.username, t('username'))}\n        {this.renderMetaResponse(META_QUESTION_TYPES.simserial, t('sim serial'))}\n        {this.renderMetaResponse(META_QUESTION_TYPES.subscriberid, t('subscriber ID'))}\n        {this.renderMetaResponse(META_QUESTION_TYPES.deviceid, t('device ID'))}\n        {this.renderMetaResponse(META_QUESTION_TYPES.phonenumber, t('phone number'))}\n        {this.renderMetaResponse(META_QUESTION_TYPES.audit, t('audit'))}\n        {this.renderMetaResponse('__version__', t('__version__'))}\n        {this.renderMetaResponse('_id', t('_id'))}\n        {this.renderMetaResponse('meta/instanceID', t('instanceID'))}\n        {this.renderMetaResponse('_submitted_by', t('Submitted by'))}\n      </bem.SubmissionDataTable>\n    );\n  }\n}\n\nexport default SubmissionDataTable;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport alertify from 'alertifyjs';\nimport reactMixin from 'react-mixin';\nimport Select from 'react-select';\nimport enketoHandler from 'js/enketoHandler';\nimport {dataInterface} from 'js/dataInterface';\nimport {actions} from 'js/actions';\nimport mixins from 'js/mixins';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {launchPrinting} from 'utils';\nimport {stores} from 'js/stores';\nimport {\n  VALIDATION_STATUSES_LIST,\n  MODAL_TYPES,\n  META_QUESTION_TYPES,\n  ENKETO_ACTIONS,\n} from 'js/constants';\nimport SubmissionDataTable from 'js/components/submissions/submissionDataTable';\nimport Checkbox from 'js/components/common/checkbox';\n\nconst DETAIL_NOT_FOUND = '{\\\"detail\\\":\\\"Not found.\\\"}';\n\nclass SubmissionModal extends React.Component {\n  constructor(props) {\n    super(props);\n    let translations = this.props.asset.content.translations;\n    let translationOptions = [];\n\n    if (translations.length > 1) {\n      translationOptions = translations.map((trns) => {\n        return {\n          value: trns,\n          label: trns || t('Unnamed language'),\n        };\n      });\n    }\n\n    this.state = {\n      submission: {},\n      loading: true,\n      error: false,\n      // For previous and next:\n      // -1 means there is none,\n      // -2 means there is but on different table page.\n      previous: -1,\n      next: -1,\n      sid: props.sid,\n      showBetaFieldsWarning: false,\n      isEditLoading: false,\n      isViewLoading: false,\n      isDuplicated: props.isDuplicated,\n      duplicatedSubmission: props.duplicatedSubmission || null,\n      isEditingDuplicate: false,\n      promptRefresh: false,\n      translationIndex: 0,\n      translationOptions: translationOptions,\n      showXMLNames: false,\n    };\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.getSubmission(this.props.asset.uid, this.state.sid);\n    this.listenTo(actions.resources.updateSubmissionValidationStatus.completed, this.refreshSubmissionValidationStatus);\n    this.listenTo(actions.resources.removeSubmissionValidationStatus.completed, this.refreshSubmissionValidationStatus);\n    this.listenTo(actions.resources.deleteSubmission.completed, this.onDeletedSubmissionCompleted);\n  }\n\n  refreshSubmissionValidationStatus(result) {\n    if (result && result.uid) {\n      this.state.submission._validation_status = result;\n    } else {\n      this.state.submission._validation_status = {};\n    }\n    this.setState({submission: this.state.submission});\n  }\n\n  isSubmissionEditable() {\n    return this.props.asset.deployment__active && !this.state.isEditLoading;\n  }\n\n  getSubmission(assetUid, sid) {\n    dataInterface.getSubmission(assetUid, sid).done((data) => {\n      let prev = -1;\n      let next = -1;\n\n      if (this.props.ids && sid) {\n        const c = this.props.ids.findIndex((k) => k === parseInt(sid));\n        let tableInfo = this.props.tableInfo || false;\n        if (this.props.ids[c - 1]) {\n          prev = this.props.ids[c - 1];\n        }\n        if (this.props.ids[c + 1]) {\n          next = this.props.ids[c + 1];\n        }\n\n        // table submissions pagination\n        if (tableInfo) {\n          const nextAvailable = tableInfo.resultsTotal > (tableInfo.currentPage + 1) * tableInfo.pageSize;\n          if (c + 1 === this.props.ids.length && nextAvailable) {\n            next = -2;\n          }\n\n          if (tableInfo.currentPage > 0 && prev === -1) {\n            prev = -2;\n          }\n        }\n      }\n\n      this.setState({\n        submission: data,\n        loading: false,\n        next: next,\n        previous: prev,\n      });\n    }).fail((error) => {\n      if (error.responseText) {\n        let error_message = error.responseText;\n        if (error_message === DETAIL_NOT_FOUND) {\n          error_message = t('The submission could not be found. It may have been deleted. Submission ID: ##id##').replace('##id##', sid);\n        }\n        this.setState({error: error_message, loading: false});\n      } else if (error.statusText) {\n          this.setState({error: error.statusText, loading: false});\n      } else {\n        this.setState({error: t('Error: could not load data.'), loading: false});\n      }\n    });\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (!(state.sid === props.sid)) {\n      return {\n        sid: props.sid,\n        promptRefresh: false,\n      };\n    }\n    // Return null to indicate no change to state.\n    return null;\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.asset && prevProps.sid !== this.props.sid) {\n      this.getSubmission(this.props.asset.uid, this.props.sid);\n    }\n  }\n\n  deleteSubmission() {\n    let dialog = alertify.dialog('confirm');\n    let opts = {\n      title: t('Delete submission?'),\n      message: `${t('Are you sure you want to delete this submission?')} ${t('This action cannot be undone')}.`,\n      labels: {ok: t('Delete'), cancel: t('Cancel')},\n      onok: () => {\n        actions.resources.deleteSubmission(this.props.asset.uid, this.props.sid);\n      },\n      oncancel: () => {\n        dialog.destroy();\n      },\n    };\n    dialog.set(opts).show();\n  }\n\n  onDeletedSubmissionCompleted() {\n    stores.pageState.hideModal();\n  }\n\n  launchEditSubmission() {\n    this.setState({\n      promptRefresh: true,\n      isEditLoading: true,\n      isEditingDuplicate: true,\n    });\n    enketoHandler.openSubmission(\n      this.props.asset.uid,\n      this.state.sid,\n      ENKETO_ACTIONS.edit\n    ).then(\n      () => {this.setState({isEditLoading: false});},\n      () => {this.setState({isEditLoading: false});}\n    );\n  }\n\n  launchViewSubmission() {\n    this.setState({\n      isViewLoading: true,\n    });\n    enketoHandler.openSubmission(\n      this.props.asset.uid,\n      this.state.sid,\n      ENKETO_ACTIONS.view\n    ).then(\n      () => {this.setState({isViewLoading: false});}\n    );\n  }\n\n  duplicateSubmission() {\n    // Due to how modals are created, we must close this modal and recreate\n    // an almost identical one to display the new submission with a different\n    // title bar\n    stores.pageState.hideModal();\n    actions.resources.duplicateSubmission(this.props.asset.uid, this.state.sid, this.state.submission);\n  }\n\n  triggerRefresh() {\n    this.getSubmission(this.props.asset.uid, this.props.sid);\n    this.setState({\n      promptRefresh: false,\n    });\n    // Prompt table to refresh submission list\n    actions.resources.refreshTableSubmissions();\n  }\n\n  switchSubmission(sid) {\n    this.setState({ loading: true});\n    stores.pageState.showModal({\n      type: MODAL_TYPES.SUBMISSION,\n      sid: sid,\n      asset: this.props.asset,\n      ids: this.props.ids,\n      tableInfo: this.props.tableInfo || false,\n    });\n  }\n\n  prevTablePage() {\n    this.setState({ loading: true});\n\n    stores.pageState.showModal({\n      type: MODAL_TYPES.SUBMISSION,\n      sid: false,\n      page: 'prev',\n    });\n  }\n\n  nextTablePage() {\n    this.setState({ loading: true});\n\n    stores.pageState.showModal({\n      type: MODAL_TYPES.SUBMISSION,\n      sid: false,\n      page: 'next',\n    });\n  }\n\n  onShowXMLNamesChange(newValue) {\n    this.setState({showXMLNames: newValue});\n  }\n\n  validationStatusChange(evt) {\n    if (evt.value === null) {\n      actions.resources.removeSubmissionValidationStatus(this.props.asset.uid, this.state.sid);\n    } else {\n      actions.resources.updateSubmissionValidationStatus(this.props.asset.uid, this.state.sid, {'validation_status.uid': evt.value});\n    }\n  }\n\n  languageChange(e) {\n    let index = this.state.translationOptions.findIndex((x) => x === e);\n    this.setState({\n      translationIndex: index || 0,\n    });\n  }\n\n  hasBackgroundAudio() {\n    return this.props?.asset?.content?.survey.some(\n      (question) => question.type === META_QUESTION_TYPES['background-audio']\n    );\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (<LoadingSpinner/>);\n    }\n\n    if (this.state.error) {\n      return (\n        <bem.Loading>\n          <bem.Loading__inner>\n            {this.state.error}\n          </bem.Loading__inner>\n        </bem.Loading>\n      );\n    }\n\n    const s = this.state.submission;\n    let translationOptions = this.state.translationOptions;\n\n    // Use this modal if we just duplicated a submission, but not if we are\n    // editing it\n    if (this.state.isDuplicated && !this.state.isEditingDuplicate) {\n      return(\n        <bem.FormModal>\n          <h1 className='submission-duplicate__header'>{t('Duplicate created')}</h1>\n          <p className='submission-duplicate__text'>\n            {t('A duplicate of the submission record was successfully created. You can view the new instance below and make changes using the action buttons below.')}\n            <br/>\n            <br/>\n            {t('Source submission uuid:' + ' ')}\n            <code>{this.state.duplicatedSubmission._uuid}</code>\n          </p>\n          <bem.FormModal__group>\n            <div className='submission-duplicate__actions'>\n              {(this.userCan('change_submissions', this.props.asset) ||\n                this.isSubmissionWritable('change_submissions', this.props.asset, this.state.submission)) &&\n                <a\n                  onClick={this.launchEditSubmission.bind(this)}\n                  className='kobo-button kobo-button--blue'\n                  disabled={!this.isSubmissionEditable()}\n                >\n                  {this.state.isEditLoading && t('Loading…')}\n                  {!this.state.isEditLoading && t('Edit')}\n                </a>\n              }\n\n              {(this.userCan('delete_submissions', this.props.asset) ||\n                this.isSubmissionWritable('delete_submissions', this.props.asset, this.state.submission)) &&\n                <a\n                  onClick={this.deleteSubmission}\n                  className='kobo-button kobo-button--red submission-duplicate__button'\n                  data-tip={t('Discard duplicated submission')}\n                >\n                  {t('Discard')}\n                </a>\n              }\n            </div>\n          </bem.FormModal__group>\n\n          {this.props.asset.deployment__active &&\n            <bem.FormModal__group>\n              {translationOptions.length > 1 &&\n                <div className='switch--label-language'>\n                  <label>{t('Language:')}</label>\n                  <Select\n                    isClearable={false}\n                    value={translationOptions[this.state.translationIndex]}\n                    options={translationOptions}\n                    onChange={this.languageChange}\n                    className='kobo-select'\n                    classNamePrefix='kobo-select'\n                    menuPlacement='auto'\n                  />\n                </div>\n              }\n              <div className='switch--validation-status'>\n                <label>{t('Validation status:')}</label>\n                <Select\n                  isDisabled={!(\n                    this.userCan('validate_submissions', this.props.asset) ||\n                    this.isSubmissionWritable('validate_submissions', this.props.asset, this.state.submission)\n                  )}\n                  isClearable={false}\n                  value={s._validation_status && s._validation_status.uid ? s._validation_status : false}\n                  options={VALIDATION_STATUSES_LIST}\n                  onChange={this.validationStatusChange}\n                  className='kobo-select'\n                  classNamePrefix='kobo-select'\n                  menuPlacement='auto'\n                  isSearchable={false}\n                />\n              </div>\n            </bem.FormModal__group>\n          }\n\n          <SubmissionDataTable\n            asset={this.props.asset}\n            submissionData={this.state.submission}\n            translationIndex={this.state.translationIndex}\n            showXMLNames={this.state.showXMLNames}\n          />\n        </bem.FormModal>\n      );\n    }\n\n    // Use this modal if we are not viewing a duplicate, or we are editing one\n    if (!this.state.isDuplicated || this.state.isEditingDuplicate) {\n      return (\n        <bem.FormModal>\n          {this.state.promptRefresh &&\n            <div className='submission--warning'>\n              <p>{t('Click on the button below to load the most recent data for this submission. ')}</p>\n              <a onClick={this.triggerRefresh} className='kobo-button kobo-button--blue'>\n                {t('Refresh submission')}\n              </a>\n            </div>\n          }\n\n          <bem.FormModal__group>\n          {this.hasBackgroundAudio() &&\n            <bem.BackgroundAudioPlayer>\n              <bem.BackgroundAudioPlayer__label>\n                {t('Background audio recording')}\n              </bem.BackgroundAudioPlayer__label>\n\n              <bem.BackgroundAudioPlayer__audio\n                controls\n                src={this.props?.backgroundAudioUrl}\n              />\n            </bem.BackgroundAudioPlayer>\n          }\n\n          {this.props.asset.deployment__active &&\n            <div className='submission-modal-dropdowns'>\n              {translationOptions.length > 1 &&\n                <div className='switch--label-language'>\n                  <label>{t('Language:')}</label>\n                  <Select\n                    isClearable={false}\n                    value={translationOptions[this.state.translationIndex]}\n                    options={translationOptions}\n                    onChange={this.languageChange}\n                    className='kobo-select'\n                    classNamePrefix='kobo-select'\n                    menuPlacement='auto'\n                  />\n                </div>\n              }\n              <div className='switch--validation-status'>\n                <label>{t('Validation status:')}</label>\n                <Select\n                  isDisabled={!(\n                    this.userCan('validate_submissions', this.props.asset) ||\n                    this.isSubmissionWritable('validate_submissions', this.props.asset, this.state.submission)\n                  )}\n                  isClearable={false}\n                  value={s._validation_status && s._validation_status.uid ? s._validation_status : false}\n                  options={VALIDATION_STATUSES_LIST}\n                  onChange={this.validationStatusChange}\n                  className='kobo-select'\n                  classNamePrefix='kobo-select'\n                  menuPlacement='auto'\n                  isSearchable={false}\n                />\n              </div>\n            </div>\n          }\n          </bem.FormModal__group>\n\n          <bem.FormModal__group>\n\n            {this.state.isEditingDuplicate &&\n              <div className='preserveFlexCSS'/>\n            }\n\n            {!this.state.isEditingDuplicate &&\n              <div className='submission-pager'>\n                {/* don't display previous button if `previous` is -1 */}\n                {this.state.previous > -1 &&\n                  <a\n                    onClick={this.switchSubmission.bind(this, this.state.previous)}\n                    className='mdl-button mdl-button--colored'\n                  >\n                    <i className='k-icon k-icon-prev' />\n                    {t('Previous')}\n                  </a>\n                }\n                {this.state.previous === -2 &&\n                  <a\n                    onClick={this.prevTablePage}\n                    className='mdl-button mdl-button--colored'\n                  >\n                    <i className='k-icon k-icon-prev' />\n                    {t('Previous')}\n                  </a>\n                }\n\n                {/* don't display next button if `next` is -1 */}\n                {this.state.next > -1 &&\n                  <a\n                    onClick={this.switchSubmission.bind(this, this.state.next)}\n                    className='mdl-button mdl-button--colored'\n                  >\n                    {t('Next')}\n                    <i className='k-icon k-icon-next' />\n                  </a>\n                }\n                {this.state.next === -2 &&\n                  <a\n                    onClick={this.nextTablePage}\n                    className='mdl-button mdl-button--colored'\n                  >\n                    {t('Next')}\n                    <i className='k-icon k-icon-next' />\n                  </a>\n                }\n              </div>\n            }\n\n            <div className='submission-actions'>\n              <Checkbox\n                checked={this.state.showXMLNames}\n                onChange={this.onShowXMLNamesChange}\n                label={t('Display XML names')}\n              />\n\n              {(this.userCan('change_submissions', this.props.asset) ||\n                this.isSubmissionWritable('change_submissions', this.props.asset, this.state.submission)) &&\n                <a\n                  onClick={this.launchEditSubmission.bind(this)}\n                  className='kobo-button kobo-button--blue submission-duplicate__button'\n                  disabled={!this.isSubmissionEditable()}\n                >\n                  {this.state.isEditLoading && t('Loading…')}\n                  {!this.state.isEditLoading && t('Edit')}\n                </a>\n              }\n\n              {(\n                this.userCan('view_submissions', this.props.asset) ||\n                this.isSubmissionWritable('view_submissions', this.props.asset, this.state.submission)\n              ) &&\n                <a\n                  onClick={this.launchViewSubmission.bind(this)}\n                  className='kobo-button kobo-button--blue submission-duplicate__button'\n                  disabled={this.state.isViewLoading}\n                >\n                  {this.state.isViewLoading && t('Loading…')}\n                  {!this.state.isViewLoading && t('View')}\n                </a>\n              }\n\n              {(\n                this.userCan('change_submissions', this.props.asset) ||\n                this.isSubmissionWritable('change_submissions', this.props.asset, this.state.submission)\n              ) &&\n                <a\n                  onClick={this.duplicateSubmission.bind(this)}\n                  className='kobo-button kobo-button--blue submission-duplicate__button'\n                  disabled={!this.isSubmissionEditable()}\n                >\n                  {t('Duplicate')}\n                </a>\n              }\n\n              <bem.Button\n                m='icon'\n                className='report-button__print'\n                onClick={launchPrinting}\n                data-tip={t('Print')}\n              >\n                <i className='k-icon k-icon-print' />\n              </bem.Button>\n\n              {(this.userCan('delete_submissions', this.props.asset) ||\n                this.isSubmissionWritable('delete_submissions', this.props.asset, this.state.submission)) &&\n                <a\n                  onClick={this.deleteSubmission}\n                  className='mdl-button mdl-button--icon mdl-button--colored mdl-button--red right-tooltip'\n                  data-tip={t('Delete submission')}\n                >\n                  <i className='k-icon k-icon-trash' />\n                </a>\n              }\n            </div>\n          </bem.FormModal__group>\n\n          <SubmissionDataTable\n            asset={this.props.asset}\n            submissionData={this.state.submission}\n            translationIndex={this.state.translationIndex}\n            showXMLNames={this.state.showXMLNames}\n          />\n        </bem.FormModal>\n      );\n    }\n  }\n}\n\nreactMixin(SubmissionModal.prototype, Reflux.ListenerMixin);\nreactMixin(SubmissionModal.prototype, mixins.permissions);\n\nexport default SubmissionModal;\n","import React from 'react';\nimport Reflux from 'reflux';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Checkbox from 'js/components/common/checkbox';\nimport Radio from 'js/components/common/radio';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport mixins from 'js/mixins';\nimport {notify} from 'utils';\nimport {DATA_TABLE_SETTINGS} from 'js/components/submissions/tableConstants';\nimport tableStore from 'js/components/submissions/tableStore';\nimport './tableSettings.scss';\n\n/**\n * This is a modal form that handles changing some of the table settings.\n */\nclass TableSettings extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      showGroupName: tableStore.getShowGroupName(),\n      showHXLTags: tableStore.getShowHXLTags(),\n      translationIndex: tableStore.getTranslationIndex(),\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    actions.table.updateSettings.failed.listen(this.onUpdateSettingsFailed);\n    tableStore.listen(this.onTableStoreChange);\n  }\n\n  onTableStoreChange() {\n    this.setState({\n      showGroupName: tableStore.getShowGroupName(),\n      showHXLTags: tableStore.getShowHXLTags(),\n      translationIndex: tableStore.getTranslationIndex(),\n    });\n  }\n\n  updateGroupHeaderDisplay(isChecked) {\n    this.setState({showGroupName: isChecked});\n  }\n\n  onHXLTagsChange(isChecked) {\n    this.setState({showHXLTags: isChecked});\n  }\n\n  onLabelChange(name, value) {\n    this.setState({translationIndex: parseInt(value)});\n  }\n\n  onUpdateSettingsFailed() {\n    notify(t('There was an error, table settings could not be saved.'));\n  }\n\n  onSave() {\n    const newTableSettings = {};\n    newTableSettings[DATA_TABLE_SETTINGS.SHOW_GROUP] = this.state.showGroupName;\n    newTableSettings[DATA_TABLE_SETTINGS.TRANSLATION] = this.state.translationIndex;\n    newTableSettings[DATA_TABLE_SETTINGS.SHOW_HXL] = this.state.showHXLTags;\n    tableStore.saveTableSettings(newTableSettings);\n  }\n\n  onReset() {\n    const newTableSettings = {};\n    newTableSettings[DATA_TABLE_SETTINGS.SHOW_GROUP] = null;\n    newTableSettings[DATA_TABLE_SETTINGS.TRANSLATION] = null;\n    newTableSettings[DATA_TABLE_SETTINGS.SHOW_HXL] = null;\n    tableStore.saveTableSettings(newTableSettings);\n  }\n\n  getDisplayedLabelOptions() {\n    const options = [];\n    options.push({\n      value: -1,\n      label: t('XML Values'),\n    });\n    this.props.asset.content.translations.map((trns, n) => {\n      let label = t('Labels');\n      if (trns) {\n        label += ` - ${trns}`;\n      }\n      options.push({\n        value: n,\n        label: label,\n      });\n    });\n    return options;\n  }\n\n  render() {\n    return (\n      <div className='tableColumn-modal'>\n        <bem.FormModal__item m='translation-radios'>\n          <Radio\n            title={t('Display labels or XML values?')}\n            options={this.getDisplayedLabelOptions()}\n            selected={this.state.translationIndex}\n            onChange={this.onLabelChange}\n          />\n        </bem.FormModal__item>\n        <bem.FormModal__item m='group-headings'>\n          <Checkbox\n            checked={this.state.showGroupName}\n            onChange={this.updateGroupHeaderDisplay}\n            label={t('Show group names in table headers')}\n          />\n        </bem.FormModal__item>\n\n        <bem.FormModal__item>\n          <Checkbox\n            checked={this.state.showHXLTags}\n            onChange={this.onHXLTagsChange}\n            label={t('Show HXL tags')}\n          />\n        </bem.FormModal__item>\n\n        <bem.Modal__footer>\n          {this.userCan('change_asset', this.props.asset) &&\n            <bem.KoboButton m='whitegray' onClick={this.onReset}>\n              {t('Reset')}\n            </bem.KoboButton>\n          }\n\n          <bem.KoboButton m='blue' onClick={this.onSave}>\n            {t('Save')}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </div>\n    );\n  }\n}\n\nreactMixin(TableSettings.prototype, Reflux.ListenerMixin);\nreactMixin(TableSettings.prototype, mixins.permissions);\n\nexport default TableSettings;\n","import React from 'react'\nimport bem, {makeBem} from 'js/bem'\nimport './koboRange.scss'\n\nbem.KoboRange = makeBem(null, 'kobo-range')\nbem.KoboRange__values = makeBem(bem.KoboRange, 'values', 'div')\nbem.KoboRange__maxValue = makeBem(bem.KoboRange, 'max-value', 'span')\nbem.KoboRange__currentValue = makeBem(bem.KoboRange, 'current-value', 'span')\nbem.KoboRange__number = makeBem(bem.KoboRange, 'number', 'span')\nbem.KoboRange__unit = makeBem(bem.KoboRange, 'unit', 'span')\nbem.KoboRange__progress = makeBem(bem.KoboRange, 'progress', 'div')\nbem.KoboRange__input = makeBem(bem.KoboRange, 'input', 'input')\n\nexport enum KoboRangeColours {\n  'default' =  'default',\n  'warning' = 'warning',\n  'teal' = 'teal',\n}\n\ntype KoboRangeProps = {\n  max: number,\n  /** `value` should be un-converted seconds if using `isTime` */\n  value: number,\n  /** uses time display for all required values */\n  isTime?: boolean,\n  /** required for input to be enabled (disabled without)*/\n  onChange?: Function,\n  /** defaults to $kobo-blue */\n  color?: string,\n  /** optional string to append to max */\n  totalLabel?: string,\n  /** optional string to append to value */\n  currentLabel?: string,\n}\n\n/**\n * Extendable custom styled range input\n *\n */\nexport default class KoboRange extends React.Component<KoboRangeProps> {\n  constructor(props: KoboRangeProps) {\n    super(props)\n  }\n\n  /** We deal internally with un-converted seconds for easier computing. Only use\n   * this if `props.isTime` and when it's time to display\n   */\n  convertToClock(time: number) {\n    let minutes = Math.floor(time / 60)\n    // The duration is given in decimal seconds, so we have to do ceiling here\n    let seconds = Math.ceil(time - minutes * 60)\n\n    let finalSeconds: string;\n    if (seconds < 10) {\n      finalSeconds = '0' + seconds\n    } else {\n      finalSeconds = String(seconds)\n    }\n\n    return minutes + ':' + finalSeconds\n  }\n\n  onChange(evt: React.ChangeEvent<HTMLInputElement> | any) {\n    if (this.props.onChange) {\n      const currentValue = evt.currentTarget.value\n      this.props.onChange(currentValue)\n    }\n  }\n\n  render() {\n    let isDataLoaded = !(this.props.max === 0)\n\n    return (\n      <bem.KoboRange>\n        {isDataLoaded &&\n          <bem.KoboRange__values>\n            <bem.KoboRange__currentValue>\n              <bem.KoboRange__number>\n                {!this.props.isTime && this.props.value}\n                {this.props.isTime && this.convertToClock(this.props.value)}\n              </bem.KoboRange__number>\n\n              <bem.KoboRange__unit>\n                {this.props.currentLabel}\n              </bem.KoboRange__unit>\n            </bem.KoboRange__currentValue>\n\n            <bem.KoboRange__maxValue>\n              <bem.KoboRange__number>\n                {!this.props.isTime && this.props.max}\n                {this.props.isTime && this.convertToClock(this.props.max)}\n              </bem.KoboRange__number>\n\n              <bem.KoboRange__unit>\n                {this.props.totalLabel}\n              </bem.KoboRange__unit>\n            </bem.KoboRange__maxValue>\n          </bem.KoboRange__values>\n        }\n\n        <bem.KoboRange__progress>\n          <bem.KoboRange__input\n            m={this.props?.color ? this.props.color : KoboRangeColours.default}\n            type='range'\n            max={this.props.max}\n            value={this.props.value}\n            disabled={!this.props.onChange}\n            onChange={this.props?.onChange && this.onChange.bind(this)}\n          />\n        </bem.KoboRange__progress>\n      </bem.KoboRange>\n    )\n  }\n}\n","import React from 'react'\nimport autoBind from 'react-autobind'\nimport bem, {makeBem} from 'js/bem'\nimport KoboRange from 'js/components/common/koboRange'\nimport 'js/components/common/audioPlayer.scss'\n\nbem.AudioPlayer = makeBem(null, 'audio-player')\nbem.AudioPlayer__controls = makeBem(bem.AudioPlayer, 'controls', 'div')\nbem.AudioPlayer__progress = makeBem(bem.AudioPlayer, 'progress', 'div')\nbem.AudioPlayer__time = makeBem(bem.AudioPlayer, 'time', 'div')\nbem.AudioPlayer__timeCurrent = makeBem(bem.AudioPlayer, 'time-current', 'span')\nbem.AudioPlayer__timeTotal = makeBem(bem.AudioPlayer, 'time-total', 'span')\nbem.AudioPlayer__seek = makeBem(bem.AudioPlayer, 'seek', 'div')\n\ntype AudioPlayerProps = {\n  mediaURL: string\n}\n\ntype AudioPlayerState = {\n  isLoading: boolean,\n  isPlaying: boolean,\n  currentTime: number,\n  totalTime: number,\n}\n\n/**\n * Custom audio player for viewing audio submissions in data table\n *\n * @param {string} mediaURL\n */\nclass AudioPlayer extends React.Component<AudioPlayerProps, AudioPlayerState> {\n  audioInterface: HTMLAudioElement\n\n  constructor(props: AudioPlayerProps) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isPlaying: false,\n      currentTime: 0,\n      totalTime: 0,\n    }\n\n    this.audioInterface = new Audio(this.props.mediaURL)\n\n    // Set up listeners for audio component\n    this.audioInterface.onloadedmetadata = () => {\n      this.setState({\n        totalTime: this.audioInterface.duration,\n      })\n    }\n\n    this.audioInterface.ontimeupdate = () => {\n      // Pause the player when it reaches the end\n      if (\n        this.audioInterface.currentTime === this.state.totalTime &&\n        this.state.isPlaying\n      ) {\n        this.onPlayStatusChange()\n      }\n\n      this.setState({\n        currentTime: this.audioInterface.currentTime,\n      })\n    }\n\n    autoBind(this)\n  }\n\n  componentWillUnmount() {\n    this.audioInterface.pause()\n  }\n\n  onPlayStatusChange() {\n    if (!this.state.isPlaying) {\n      this.audioInterface.play()\n    } else {\n      this.audioInterface.pause()\n    }\n\n    this.setState({\n      isPlaying: !this.state.isPlaying,\n    })\n  }\n\n  onSeekChange(newTime: string) {\n    this.audioInterface.currentTime = parseInt(newTime)\n\n    this.setState({\n      currentTime: parseInt(newTime),\n    })\n  }\n\n  /* We deal internally with un-converted time for easier computing. Only use\n   * this when it's time to display\n   *\n   * @param {float} time - HTMLElementAudio.duration returns a float in seconds\n   */\n\n  convertToClock(time: number) {\n    let minutes = Math.floor(time / 60)\n    // The duration is given in decimal seconds, so we have to do ceiling here\n    let seconds = Math.ceil(time - minutes * 60)\n\n    let finalSeconds: string;\n    if (seconds < 10) {\n      finalSeconds = '0' + seconds\n    } else {\n      finalSeconds = String(seconds)\n    }\n\n    return minutes + ':' + finalSeconds\n  }\n\n  getControlIcon(isPlaying: boolean) {\n    const iconClassNames = ['k-icon']\n\n    if (isPlaying) {\n      iconClassNames.push('k-icon-pause')\n    } else {\n      iconClassNames.push('k-icon-caret-right')\n    }\n\n    return iconClassNames.join(' ')\n  }\n\n  render() {\n    return (\n      <bem.AudioPlayer>\n        <bem.AudioPlayer__controls>\n          <i\n            className={this.getControlIcon(this.state.isPlaying)}\n            onClick={this.onPlayStatusChange}\n          />\n        </bem.AudioPlayer__controls>\n\n        <KoboRange\n          max={this.state.totalTime}\n          value={this.state.currentTime}\n          isTime={true}\n          onChange={this.onSeekChange}\n        />\n      </bem.AudioPlayer>\n    )\n  }\n}\n\nexport default AudioPlayer\n","import autoBind from 'react-autobind';\nimport React from 'react';\n\nimport bem, {makeBem} from 'js/bem';\nimport AudioPlayer from 'js/components/common/audioPlayer';\nimport {\n  QUESTION_TYPES,\n  META_QUESTION_TYPES,\n} from 'js/constants';\n\nbem.TableMediaPreview = makeBem(null, 'table-media-preview');\nbem.TableMediaPreview__image = makeBem(bem.TableMediaPreview, 'image', 'img');\nbem.TableMediaPreview__audio = makeBem(bem.TableMediaPreview, 'audio', 'div');\nbem.TableMediaPreview__video = makeBem(bem.TableMediaPreview, 'video', 'video');\nbem.TableMediaPreview__text = makeBem(bem.TableMediaPreview, 'text', 'div');\n\n/**\n * Backend stored media attachment\n *\n * @namespace mediaAttachment\n * @prop {string} download_url - full file size\n * @prop {string} download_small_url - smallest file size\n * @prop {string} download_medium_url\n * @prop {string} download_large_url\n */\n\n/**\n * Table cell replacement for media submissions\n *\n * @prop {string} questionType\n * @prop {mediaAttachment} mediaAttachment - `null` for text questions\n * @prop {string} mediaName - Backend stored media attachment file name or the\n                              content of a text question\n */\nclass TableMediaPreview extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: false,\n    };\n\n    autoBind(this);\n  }\n\n  renderPreviewByType() {\n    switch (this.props.questionType) {\n      case QUESTION_TYPES.image.id:\n        return (\n          <bem.TableMediaPreview__image\n            src={this.props?.mediaAttachment?.download_medium_url}\n          />\n        );\n      case QUESTION_TYPES.audio.id:\n      case META_QUESTION_TYPES['background-audio']:\n        return (\n          <bem.TableMediaPreview__audio>\n            <i className='k-icon k-icon-file-audio' />\n\n            <AudioPlayer mediaURL={this.props?.mediaAttachment?.download_url} />\n          </bem.TableMediaPreview__audio>\n        );\n      case QUESTION_TYPES.video.id:\n        return (\n          <bem.TableMediaPreview__video\n            src={this.props?.mediaAttachment?.download_url}\n            controls\n            autoPlay\n          />\n        );\n      case QUESTION_TYPES.text.id:\n        return (\n          <bem.TableMediaPreview__text>\n            {this.props.mediaName}\n          </bem.TableMediaPreview__text>\n        );\n      default:\n        return (\n          <label>\n            {t('Unsupported media type: ##QUESTION_TYPE##').replace(\n              '##QUESTION_TYPE##',\n              this.props.questionType\n            )}\n          </label>\n        );\n    }\n  }\n\n  render() {\n    return (\n      <bem.TableMediaPreview>\n        {this.props.questionType && this.renderPreviewByType()}\n      </bem.TableMediaPreview>\n    );\n  }\n}\n\nexport default TableMediaPreview;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport TextBox from 'js/components/common/textBox';\nimport {\n  getLangAsObject,\n  toTitleCase\n} from 'utils';\n\n/*\nProperties:\n- langString <string>: follows pattern \"Name (code)\"\n- langIndex <string>\n- onLanguageChange <function>: required\n- existingLanguages <langString[]>: for validation purposes\n- isDefault <boolean>: for default language only\n*/\nclass LanguageForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      nameError: null,\n      code: '',\n      codeError: null\n    };\n\n    if (this.props.langString) {\n      const lang = getLangAsObject(this.props.langString);\n\n      if (lang) {\n        this.state = {\n          name: lang.name || '',\n          code: lang.code || ''\n        };\n      } else {\n        // if language isn't in \"English (en)\" format, assume it is a simple language name string\n        this.state = {\n          name: this.props.langString,\n          code: ''\n        };\n      }\n    }\n\n    autoBind(this);\n  }\n  isLanguageNameValid() {\n    if (this.props.existingLanguages) {\n      let isNameUnique = true;\n      this.props.existingLanguages.forEach((langString) => {\n        if (this.props.langString && langString === this.props.langString) {\n          // skip comparing to itself (editing language context)\n        } else if (langString !== null) {\n          const langObj = getLangAsObject(langString);\n          if (langObj && langObj.name === this.state.name) {\n            isNameUnique = false;\n          }\n        }\n      });\n      return isNameUnique;\n    } else {\n      return true;\n    }\n  }\n  isLanguageCodeValid() {\n    if (this.props.existingLanguages) {\n      let isCodeUnique = true;\n      this.props.existingLanguages.forEach((langString) => {\n        if (this.props.langString && langString === this.props.langString) {\n          // skip comparing to itself (editing language context)\n        } else if (langString !== null) {\n          const langObj = getLangAsObject(langString);\n          if (langObj && langObj.code === this.state.code) {\n            isCodeUnique = false;\n          }\n        }\n      });\n      return isCodeUnique;\n    } else {\n      return true;\n    }\n  }\n  onSubmit(evt) {\n    evt.preventDefault();\n    evt.currentTarget.disabled = true;\n\n    const isNameValid = this.isLanguageNameValid();\n    if (!isNameValid) {\n      this.setState({nameError: t('Name must be unique!')});\n      evt.currentTarget.disabled = false;\n    } else {\n      this.setState({nameError: null});\n    }\n\n    const isCodeValid = this.isLanguageCodeValid();\n    if (!isCodeValid) {\n      this.setState({codeError: t('Code must be unique!')});\n      evt.currentTarget.disabled = false;\n    } else {\n      this.setState({codeError: null});\n    }\n\n    if (isNameValid && isCodeValid) {\n      let langIndex = (this.props.isDefault) ? 0 : -1;\n      if (this.props.langIndex !== undefined) {\n        langIndex = this.props.langIndex;\n      }\n      this.props.onLanguageChange({\n        name: this.state.name,\n        code: this.state.code\n      }, langIndex);\n    }\n  }\n  onNameChange(newName) {\n    this.setState({name: toTitleCase(newName.trim().toLowerCase())});\n  }\n  onCodeChange(newCode) {\n    this.setState({code: newCode.trim().toLowerCase()});\n  }\n  render() {\n    let isAnyFieldEmpty = this.state.name.length === 0 || this.state.code.length === 0;\n\n    return (\n      <bem.FormView__form m='add-language-fields'>\n        <bem.FormView__cell m='lang-name'>\n          <bem.FormModal__item>\n            <label>{(this.props.isDefault) ? t('Default language name') : t('Language name')}</label>\n            <TextBox\n              value={this.state.name}\n              onChange={this.onNameChange}\n              errors={this.state.nameError}\n            />\n          </bem.FormModal__item>\n        </bem.FormView__cell>\n\n        <bem.FormView__cell m='lang-code'>\n          <bem.FormModal__item>\n            <label>{(this.props.isDefault) ? t('Default language code') : t('Language code')}</label>\n            <TextBox\n              value={this.state.code}\n              onChange={this.onCodeChange}\n              errors={this.state.codeError}\n            />\n          </bem.FormModal__item>\n        </bem.FormView__cell>\n\n        <bem.FormView__cell m='submit-button'>\n          <bem.KoboButton\n            m='blue'\n            onClick={this.onSubmit} type='submit'\n            disabled={isAnyFieldEmpty}\n          >\n            {this.props.langIndex !== undefined ? t('Update') : (this.props.isDefault) ? t('Set') : t('Add')}\n          </bem.KoboButton>\n        </bem.FormView__cell>\n      </bem.FormView__form>\n      );\n  }\n}\n\nexport default LanguageForm;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport alertify from 'alertifyjs';\nimport LanguageForm from 'js/components/modalForms/languageForm';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {stores} from 'js/stores';\nimport assetStore from 'js/assetStore';\nimport {actions} from 'js/actions';\nimport {MODAL_TYPES} from 'js/constants';\nimport {getLangString, notify} from 'utils';\nimport {LOCKING_RESTRICTIONS} from 'js/components/locking/lockingConstants';\nimport {hasAssetRestriction} from 'js/components/locking/lockingUtils';\nimport envStore from 'js/envStore';\n\nconst LANGUAGE_SUPPORT_URL = 'language_dashboard.html';\n\nexport class TranslationSettings extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let translations = [];\n    if (\n      props.asset &&\n      props.asset.content &&\n      props.asset.content.translations\n    ) {\n      translations = props.asset.content.translations;\n    }\n\n    this.state = {\n      assetUid: props.assetUid,\n      asset: props.asset,\n      translations: translations,\n      showAddLanguageForm: false,\n      isUpdatingDefaultLanguage: false,\n      renameLanguageIndex: -1,\n    };\n    autoBind(this);\n  }\n  componentDidMount() {\n    this.listenTo(assetStore, this.onAssetsChange);\n\n    if (this.state.asset && !this.state.asset.content) {\n      stores.allAssets.whenLoaded(this.props.assetUid, this.onAssetChange);\n      actions.resources.loadAsset({id: this.state.asset.uid});\n    }\n\n    if (!this.state.asset && this.state.assetUid) {\n      if (assetStore.data[this.state.assetUid]) {\n        this.onAssetChange(assetStore.data[this.state.assetUid]);\n      } else {\n        stores.allAssets.whenLoaded(this.props.assetUid, this.onAssetChange);\n      }\n    }\n  }\n  onAssetChange(asset) {\n    this.setState({\n      asset: asset,\n      translations: asset.content.translations || [],\n      showAddLanguageForm: false,\n      isUpdatingDefaultLanguage: false,\n      renameLanguageIndex: -1,\n    });\n\n    stores.pageState.showModal({\n      type: MODAL_TYPES.FORM_LANGUAGES,\n      asset: asset,\n    });\n  }\n  onAssetsChange(assetsList) {\n    let uid;\n    if (this.state.asset) {\n      uid = this.state.asset.uid;\n    } else if (this.state.assetUid) {\n      uid = this.state.assetUid;\n    }\n    this.onAssetChange(assetsList[uid]);\n  }\n  showAddLanguageForm() {\n    this.setState({showAddLanguageForm: true});\n  }\n  hideAddLanguageForm() {\n    this.setState({showAddLanguageForm: false});\n  }\n  toggleRenameLanguageForm(evt) {\n    const index = parseInt(evt.currentTarget.dataset.index);\n    if (this.state.renameLanguageIndex === index) {\n      this.setState({renameLanguageIndex: -1});\n    } else {\n      this.setState({renameLanguageIndex: index});\n    }\n  }\n  launchTranslationTableModal(evt) {\n    const index = evt.currentTarget.dataset.index;\n    const langString = evt.currentTarget.dataset.string;\n    stores.pageState.switchModal({\n      type: MODAL_TYPES.FORM_TRANSLATIONS_TABLE,\n      asset: this.state.asset,\n      langString: langString,\n      langIndex: index,\n    });\n  }\n  onLanguageChange(lang, index) {\n    let content = this.state.asset.content;\n    const langString = getLangString(lang);\n\n    if (index > -1) {\n      content.translations[index] = langString;\n    } else {\n      content.translations.push(langString);\n      content = this.prepareTranslations(content);\n    }\n\n    if (index === 0) {\n      content.settings.default_language = langString;\n    }\n\n    this.updateAsset(content);\n  }\n  // Check if the default `null` language has been replaced yet\n  canAddLanguages() {\n    return !(\n      this.state.translations.length === 1 &&\n      this.state.translations[0] === null\n    );\n  }\n  // `language_edit` restriction implies canAddLanguages but restricts it\n  canEditLanguages() {\n    return !this.isEditingLanguagesLocked() && this.canAddLanguages();\n  }\n  getAllLanguages() {\n    return this.state.translations;\n  }\n  deleteLanguage(evt) {\n    const index = evt.currentTarget.dataset.index;\n    const content = this.deleteTranslations(this.state.asset.content, index);\n    if (content) {\n      content.translations.splice(index, 1);\n      const dialog = alertify.dialog('confirm');\n      const opts = {\n        title: t('Delete language?'),\n        message: t(\n          'Are you sure you want to delete this language? This action is not reversible.'\n        ),\n        labels: {ok: t('Delete'), cancel: t('Cancel')},\n        onok: () => {\n          this.updateAsset(content);\n          dialog.destroy();\n        },\n        oncancel: dialog.destroy,\n      };\n      dialog.set(opts).show();\n    } else {\n      notify(t('Translation index mismatch. Cannot delete language.'), 'error');\n    }\n  }\n  prepareTranslations(content) {\n    let translated = content.translated;\n    let translationsLength = content.translations.length;\n    let survey = content.survey;\n    let choices = content.choices;\n\n    // append null values to translations for each survey row\n    for (let i = 0, len = survey.length; i < len; i++) {\n      let row = survey[i];\n      for (let j = 0, len2 = translated.length; j < len2; j++) {\n        var property = translated[j];\n        if (row[property] && row[property].length < translationsLength) {\n          row[property].push(null);\n        }\n      }\n    }\n\n    // append null values to translations for choices\n    if (content.choices && content.choices.length) {\n      for (let i = 0, len = choices.length; i < len; i++) {\n        if (choices[i].label.length < translationsLength) {\n          choices[i].label.push(null);\n        }\n      }\n    }\n    return content;\n  }\n  deleteTranslations(content, langIndex) {\n    let translated = content.translated;\n    let translationsLength = content.translations.length;\n    let survey = content.survey;\n    let choices = content.choices;\n\n    for (let i = 0, len = survey.length; i < len; i++) {\n      let row = survey[i];\n      for (let j = 0, len2 = translated.length; j < len2; j++) {\n        var property = translated[j];\n        if (row[property]) {\n          if (row[property].length === translationsLength) {\n            row[property].splice(langIndex, 1);\n          } else {\n            console.error('Translations index mismatch');\n            return false;\n          }\n        }\n      }\n    }\n\n    if (content.choices && content.choices.length) {\n      for (let i = 0, len = choices.length; i < len; i++) {\n        if (choices[i].label) {\n          if (choices[i].label.length === translationsLength) {\n            choices[i].label.splice(langIndex, 1);\n          } else {\n            console.error('Translations index mismatch');\n            return false;\n          }\n        }\n      }\n    }\n    return content;\n  }\n  changeDefaultLanguage(evt) {\n    const index = evt.currentTarget.dataset.index;\n    const langString = this.state.translations[index];\n\n    const dialog = alertify.dialog('confirm');\n    const opts = {\n      title: t('Change default language?'),\n      message: t(\n        'Are you sure you would like to set ##lang## as the default language for this form?'\n      ).replace('##lang##', langString),\n      labels: {ok: t('Confirm'), cancel: t('Cancel')},\n      onok: () => {\n        this.setState({isUpdatingDefaultLanguage: true});\n        const content = this.state.asset.content;\n        content.settings.default_language = langString;\n        this.updateAsset(content);\n        dialog.destroy();\n      },\n      oncancel: dialog.destroy,\n    };\n    dialog.set(opts).show();\n  }\n  updateAsset(content) {\n    actions.resources.updateAsset(\n      this.state.asset.uid,\n      {content: JSON.stringify(content)},\n      // reload asset on failure\n      {\n        onFailed: () => {\n          actions.resources.loadAsset({id: this.state.asset.uid});\n          alertify.error('failed to update translations');\n        },\n      }\n    );\n  }\n  isEditingLanguagesLocked() {\n    return (\n      this.state.asset?.content &&\n      hasAssetRestriction(\n        this.state.asset.content,\n        LOCKING_RESTRICTIONS.language_edit.name\n      )\n    );\n  }\n  renderEmptyMessage() {\n    return (\n      <bem.FormModal m='translation-settings'>\n        <bem.FormModal__item>\n          <bem.FormView__cell>\n            {t('There is nothing to translate in this form.')}\n          </bem.FormView__cell>\n        </bem.FormModal__item>\n      </bem.FormModal>\n    );\n  }\n  renderUndefinedDefaultSettings() {\n    return (\n      <bem.FormModal m='translation-settings'>\n        <bem.FormModal__item>\n          <bem.FormView__cell m='translation-note'>\n            <p>\n              {t(\n                'Here you can add more languages to your project, and translate the strings in each of them.'\n              )}\n            </p>\n            <p>\n              {t('For the language code field, we suggest using the')}\n              <a\n                target='_blank'\n                href='https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry'\n              >\n                {' ' + t('official language code') + ' '}\n              </a>\n              {t('(e.g. \"English (en)\" or \"Rohingya (rhg)\").')}\n\n              {envStore.isReady &&\n                envStore.data.support_url && (\n                  <a\n                    target='_blank'\n                    href={\n                      envStore.data.support_url +\n                      LANGUAGE_SUPPORT_URL\n                    }\n                  >\n                    {' ' + t('Read more.')}\n                  </a>\n                )}\n            </p>\n          </bem.FormView__cell>\n          <bem.FormView__cell m='translation'>\n            <p>\n              <strong>\n                {t(\n                  'Please name your default language before adding languages and translations.'\n                )}\n              </strong>\n            </p>\n          </bem.FormView__cell>\n          <bem.FormView__cell m='update-language-form'>\n            <LanguageForm\n              onLanguageChange={this.onLanguageChange}\n              existingLanguages={this.getAllLanguages()}\n              isDefault\n            />\n          </bem.FormView__cell>\n        </bem.FormModal__item>\n      </bem.FormModal>\n    );\n  }\n  renderTranslationsSettings(translations) {\n    return (\n      <bem.FormModal m='translation-settings'>\n        <bem.FormModal__item>\n          <bem.FormView__cell m='label'>\n            {t('Current languages')}\n          </bem.FormView__cell>\n          {translations[0] === null && (\n            <bem.FormView__cell m={['warning', 'translation-modal-warning']}>\n              <i className='k-icon k-icon-alert' />\n              <p>\n                {t(\n                  'You have named translations in your form but the default translation is unnamed. Please specifiy a default translation or make an existing one default.'\n                )}\n              </p>\n            </bem.FormView__cell>\n          )}\n          {translations.map((l, i) => {\n            return (\n              <React.Fragment key={`lang-${i}`}>\n                <bem.FormView__cell m='translation'>\n                  <bem.FormView__cell m='translation-name'>\n                    {l}\n\n                    {i === 0 && (\n                      <bem.FormView__label m='default-language'>\n                        {t('default')}\n                      </bem.FormView__label>\n                    )}\n\n                    {i !== 0 && (\n                      <bem.FormView__iconButton\n                        data-index={i}\n                        onClick={this.changeDefaultLanguage}\n                        disabled={\n                          this.state.isUpdatingDefaultLanguage ||\n                          !this.canEditLanguages()\n                        }\n                        data-tip={t('Make default')}\n                      >\n                        <i className='k-icon k-icon-language-default' />\n                      </bem.FormView__iconButton>\n                    )}\n                  </bem.FormView__cell>\n\n                  <bem.FormView__cell m='translation-actions'>\n                    <bem.FormView__iconButton\n                      data-index={i}\n                      onClick={this.toggleRenameLanguageForm}\n                      disabled={\n                        this.state.isUpdatingDefaultLanguage ||\n                        !this.canEditLanguages()\n                      }\n                      data-tip={t('Edit language')}\n                      className='right-tooltip'\n                    >\n                      {this.state.renameLanguageIndex === i && (\n                        <i className='k-icon k-icon-close' />\n                      )}\n                      {this.state.renameLanguageIndex !== i && (\n                        <i className='k-icon k-icon-edit' />\n                      )}\n                    </bem.FormView__iconButton>\n\n                    <bem.FormView__iconButton\n                      data-index={i}\n                      data-string={this.state.translations[i]}\n                      onClick={this.launchTranslationTableModal}\n                      disabled={this.state.isUpdatingDefaultLanguage}\n                      data-tip={t('Update translations')}\n                      className='right-tooltip'\n                    >\n                      <i className='k-icon k-icon-language-settings' />\n                    </bem.FormView__iconButton>\n\n                    {i !== 0 && (\n                      <bem.FormView__iconButton\n                        data-index={i}\n                        onClick={this.deleteLanguage}\n                        disabled={\n                          this.state.isUpdatingDefaultLanguage ||\n                          !this.canEditLanguages()\n                        }\n                        data-tip={t('Delete language')}\n                        className='right-tooltip'\n                      >\n                        <i className='k-icon k-icon-trash' />\n                      </bem.FormView__iconButton>\n                    )}\n                  </bem.FormView__cell>\n                </bem.FormView__cell>\n\n                {this.state.renameLanguageIndex === i && (\n                  <bem.FormView__cell m='update-language-form'>\n                    <LanguageForm\n                      langString={l}\n                      langIndex={i}\n                      onLanguageChange={this.onLanguageChange}\n                      existingLanguages={this.getAllLanguages(l)}\n                    />\n                  </bem.FormView__cell>\n                )}\n              </React.Fragment>\n            );\n          })}\n          {!this.state.showAddLanguageForm && (\n            <bem.FormView__cell m='add-language'>\n              <bem.KoboButton\n                m='blue'\n                onClick={this.showAddLanguageForm}\n                disabled={!this.canAddLanguages() || !this.canEditLanguages()}\n              >\n                {t('Add language')}\n              </bem.KoboButton>\n            </bem.FormView__cell>\n          )}\n          {this.state.showAddLanguageForm && (\n            <bem.FormView__cell m='add-language-form'>\n              <bem.FormView__link m='close' onClick={this.hideAddLanguageForm}>\n                <i className='k-icon k-icon-close' />\n              </bem.FormView__link>\n              <bem.FormView__cell m='label'>\n                {t('Add a new language')}\n              </bem.FormView__cell>\n              <LanguageForm\n                onLanguageChange={this.onLanguageChange}\n                existingLanguages={this.getAllLanguages()}\n              />\n            </bem.FormView__cell>\n          )}\n        </bem.FormModal__item>\n      </bem.FormModal>\n    );\n  }\n  render() {\n    if (\n      !this.state.asset ||\n      !this.state.asset.content ||\n      this.state.translations === null\n    ) {\n      return <LoadingSpinner />;\n    }\n\n    let translations = this.state.translations;\n    if (translations.length === 0) {\n      return this.renderEmptyMessage();\n    } else if (translations.length === 1 && translations[0] === null) {\n      // use this modal if there are only unnamed translations\n      return this.renderUndefinedDefaultSettings();\n    } else {\n      return this.renderTranslationsSettings(translations);\n    }\n  }\n}\n\nreactMixin(TranslationSettings.prototype, Reflux.ListenerMixin);\n\nexport default TranslationSettings;\n","import React from 'react';\nimport ReactTable from 'react-table';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport LanguageForm from 'js/components/modalForms/languageForm';\nimport alertify from 'alertifyjs';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {actions} from 'js/actions';\nimport {stores} from 'js/stores';\nimport {getLangString} from 'utils';\nimport {LOCKING_RESTRICTIONS} from 'js/components/locking/lockingConstants';\nimport {\n  MODAL_TYPES,\n  QUESTION_TYPES,\n  GROUP_TYPES_BEGIN,\n} from 'js/constants';\nimport {\n  hasRowRestriction,\n  hasAssetRestriction,\n} from 'js/components/locking/lockingUtils';\n\nconst SAVE_BUTTON_TEXT = {\n  DEFAULT: t('Save Changes'),\n  UNSAVED: t('* Save Changes'),\n  PENDING: t('Saving…'),\n};\n\nexport class TranslationTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      saveChangesButtonText: SAVE_BUTTON_TEXT.DEFAULT,\n      isSaveChangesButtonPending: false,\n      tableData: [],\n      showLanguageForm: false,\n      langString: props.langString,\n    };\n    stores.translations.setTranslationTableUnsaved(false);\n    const {translated, survey, choices, translations} = props.asset.content;\n    const langIndex = props.langIndex;\n    const editableColTitle =\n      langIndex == 0 ? t('updated text') : t('translation');\n    const lockedChoiceLists = [];\n\n    // add each translatable property for survey items to translation table\n    survey.forEach((row) => {\n      let isLabelLocked = false;\n      if (row?.label) {\n        isLabelLocked = this.isRowLabelLocked(row.type, row.name);\n      }\n\n      // choices don't know what questions use them so we keep track of the\n      // choice lists here to know if a question that uses them has\n      // `choice_label_edit` enabled\n      if (this.isChoiceLabelLocked(row.name) && row.select_from_list_name) {\n        lockedChoiceLists.push(row.select_from_list_name);\n      }\n\n      translated.forEach((property) => {\n        if (row[property] && row[property][0]) {\n          this.state.tableData.push({\n            original: row[property][0],\n            value: row[property][langIndex],\n            name: row.name || row.$autoname,\n            itemProp: property,\n            contentProp: 'survey',\n            isLabelLocked: isLabelLocked,\n          });\n        }\n      });\n    });\n\n    // add choice options to translation table\n    if (choices && choices.length) {\n      choices.forEach((choice) => {\n        let isLabelLocked = lockedChoiceLists.includes(choice.list_name);\n        if (choice.label && choice.label[0]) {\n          this.state.tableData.push({\n            original: choice.label[0],\n            value: choice.label[langIndex],\n            name: choice.name || choice.$autovalue,\n            listName: choice.list_name,\n            itemProp: 'label',\n            contentProp: 'choices',\n            isLabelLocked: isLabelLocked,\n          });\n        }\n      });\n    }\n\n    this.columns = [\n      {\n        Header: t('Original string'),\n        accessor: 'original',\n        minWidth: 130,\n        Cell: (cellInfo) => {\n          // Disabling has no effect on this cell, but we do it to gray out the\n          // text to indicate that the label is locked\n          // TODO: Figure out what to do for the case of adding a new language\n          //       when there are locked labels. These labels should be unlocked\n          //       for the newly added languages and their translations only.\n          return (\n            <div\n              className={\n                cellInfo.original.isLabelLocked ? 'rt-td--disabled' : ''\n              }\n            >\n              {cellInfo.original.original}\n            </div>\n          );\n        },\n      },\n      {\n        Header: () => {\n          return (\n            <React.Fragment>\n              <bem.FormView__iconButton\n                onClick={this.toggleRenameLanguageForm.bind(this)}\n                disabled={!this.canEditLanguages()}\n                className='right-tooltip form-view__icon-button-edit'\n              >\n                {this.state.showLanguageForm && <i className='k-icon k-icon-close' />}\n                {!this.state.showLanguageForm && <i className='k-icon k-icon-edit' />}\n              </bem.FormView__iconButton>\n              {`${translations[langIndex]} ${editableColTitle}`}\n            </React.Fragment>\n          );\n        },\n        accessor: 'translation',\n        className: 'translation',\n        Cell: (cellInfo) => {\n          return (\n            <TextareaAutosize\n              onChange={(e) => {\n                const data = [...this.state.tableData];\n                data[cellInfo.index].value = e.target.value;\n                this.setState({data});\n                this.markFormUnsaved();\n              }}\n              value={this.state.tableData[cellInfo.index].value || ''}\n              disabled={cellInfo.original.isLabelLocked}\n            />\n          );\n        },\n      },\n    ];\n  }\n\n  markFormUnsaved() {\n    this.setState({\n      saveChangesButtonText: SAVE_BUTTON_TEXT.UNSAVED,\n      isSaveChangesButtonPending: false,\n    });\n    stores.translations.setTranslationTableUnsaved(true);\n  }\n\n  markFormPending() {\n    this.setState({\n      saveChangesButtonText: SAVE_BUTTON_TEXT.PENDING,\n      isSaveChangesButtonPending: true,\n    });\n    stores.translations.setTranslationTableUnsaved(true);\n  }\n\n  markFormIdle() {\n    this.setState({\n      saveChangesButtonText: SAVE_BUTTON_TEXT.DEFAULT,\n      isSaveChangesButtonPending: false,\n    });\n    stores.translations.setTranslationTableUnsaved(false);\n  }\n\n  toggleRenameLanguageForm(evt) {\n    evt.stopPropagation();\n    this.setState({showLanguageForm: !this.state.showLanguageForm});\n  }\n\n  saveChanges() {\n    let content = this.props.asset.content,\n      rows = this.state.tableData,\n      langIndex = this.props.langIndex;\n    for (var i = 0, len = rows.length; i < len; i++) {\n      let item = content[rows[i].contentProp].find((o) => {\n        return (\n          (o.name === rows[i].name ||\n            o.$autoname === rows[i].name ||\n            o.$autovalue === rows[i].name) &&\n          o.list_name === rows[i].listName\n        );\n      });\n      let itemProp = rows[i].itemProp;\n\n      if (item[itemProp][langIndex] !== rows[i].value) {\n        item[itemProp][langIndex] = rows[i].value;\n      }\n    }\n\n    this.markFormPending();\n    actions.resources.updateAsset(\n      this.props.asset.uid,\n      {\n        content: JSON.stringify(content),\n      },\n      {\n        onComplete: this.markFormIdle.bind(this),\n        onFailed: this.markFormUnsaved.bind(this),\n      }\n    );\n  }\n\n  onBack() {\n    if (stores.translations.state.isTranslationTableUnsaved) {\n      const dialog = alertify.dialog('confirm');\n      const opts = {\n        title: t('Go back?'),\n        message: t('You will lose all unsaved changes.'),\n        labels: {ok: t('Confirm'), cancel: t('Cancel')},\n        onok: this.showManageLanguagesModal.bind(this),\n        oncancel: dialog.destroy,\n      };\n      dialog.set(opts).show();\n    } else {\n      this.showManageLanguagesModal();\n    }\n  }\n\n  showManageLanguagesModal() {\n    stores.pageState.switchModal({\n      type: MODAL_TYPES.FORM_LANGUAGES,\n      asset: this.props.asset,\n    });\n  }\n\n  onLanguageChange(lang, index) {\n    let content = this.props.asset.content,\n      langString = getLangString(lang);\n\n    content.translations[index] = langString;\n    this.setState({langString: langString});\n\n    if (index === 0) {\n      content.settings.default_language = langString;\n    }\n\n    this.updateHeader(content);\n  }\n\n  updateHeader(content) {\n    actions.resources.updateAsset(\n      this.props.asset.uid,\n      {content: JSON.stringify(content)},\n      // reload asset on failure\n      {\n        onFailed: () => {\n          actions.resources.loadAsset({id: this.props.asset.uid});\n          alertify.error('failed to update translations');\n        },\n      }\n    );\n  }\n\n  getAllLanguages() {\n    return this.props.asset.content.translations;\n  }\n\n  // Compare current row type agaisnt those with lockable labels and return if\n  // the relevant label restriction applies\n  isRowLabelLocked(rowType, rowName) {\n    if (rowType === GROUP_TYPES_BEGIN.begin_group) {\n      return hasRowRestriction(\n        this.props.asset.content,\n        rowName,\n        LOCKING_RESTRICTIONS.group_label_edit.name\n      );\n    } else {\n      if (Object.keys(QUESTION_TYPES).includes(rowType)) {\n        return hasRowRestriction(\n          this.props.asset.content,\n          rowName,\n          LOCKING_RESTRICTIONS.question_label_edit.name\n        );\n      } else {\n        return false;\n      }\n    }\n  }\n\n  isChoiceLabelLocked(rowName) {\n    return hasRowRestriction(\n      this.props.asset.content,\n      rowName,\n      LOCKING_RESTRICTIONS.choice_label_edit.name\n    );\n  }\n\n  canEditLanguages() {\n    return (\n      this.props.asset?.content &&\n      !hasAssetRestriction(\n        this.props.asset.content,\n        LOCKING_RESTRICTIONS.language_edit.name\n      )\n    );\n  }\n\n  render() {\n    return (\n      <bem.FormModal m='translation-table'>\n        {this.state.showLanguageForm && (\n          <bem.FormModal>\n            <bem.FormModal__item>\n              <bem.FormView__cell m='update-language-form'>\n                <LanguageForm\n                  langString={this.state.langString}\n                  langIndex={this.props.langIndex}\n                  onLanguageChange={this.onLanguageChange.bind(this)}\n                  existingLanguages={this.getAllLanguages()}\n                  isDefault={this.props.langIndex === 0}\n                />\n              </bem.FormView__cell>\n            </bem.FormModal__item>\n          </bem.FormModal>\n        )}\n        <div className='translation-table-container'>\n          <ReactTable\n            data={this.state.tableData}\n            columns={this.columns}\n            defaultPageSize={30}\n            showPageSizeOptions={false}\n            previousText={t('Prev')}\n            nextText={t('Next')}\n            minRows={1}\n            loadingText={<LoadingSpinner />}\n          />\n        </div>\n\n        <bem.Modal__footer>\n          <bem.KoboButton m='whitegray' onClick={this.onBack.bind(this)}>\n            {t('Back')}\n          </bem.KoboButton>\n\n          <bem.KoboButton\n            m='blue'\n            onClick={this.saveChanges.bind(this)}\n            disabled={this.state.isSaveChangesButtonPending}\n          >\n            {this.state.saveChangesButtonText}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </bem.FormModal>\n    );\n  }\n}\n\nexport default TranslationTable;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport alertify from 'alertifyjs';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport Modal from 'js/components/common/modal';\nimport {stores} from 'js/stores';\nimport {\n  PROJECT_SETTINGS_CONTEXTS,\n  MODAL_TYPES,\n  ASSET_TYPES,\n} from 'js/constants';\nimport {AssetTagsForm} from 'js/components/modalForms/assetTagsForm';\nimport {LibraryAssetForm} from 'js/components/modalForms/libraryAssetForm';\nimport LibraryNewItemForm from 'js/components/modalForms/libraryNewItemForm';\nimport LibraryUploadForm from 'js/components/modalForms/libraryUploadForm';\nimport EncryptForm from 'js/components/modalForms/encryptForm';\nimport BulkEditSubmissionsForm from 'js/components/modalForms/bulkEditSubmissionsForm';\nimport ProjectSettings from 'js/components/modalForms/projectSettings';\nimport RESTServicesForm from 'js/components/RESTServices/RESTServicesForm';\nimport SharingForm from 'js/components/permissions/sharingForm';\nimport DataAttachmentColumnsForm from 'js/components/dataAttachments/dataAttachmentColumnsForm';\nimport SubmissionModal from 'js/components/submissions/submissionModal';\nimport TableSettings from 'js/components/submissions/tableSettings';\nimport TableMediaPreview from 'js/components/submissions/tableMediaPreview';\nimport TranslationSettings from 'js/components/modalForms/translationSettings';\nimport TranslationTable from 'js/components/modalForms/translationTable';\n\nfunction getSubmissionTitle(props) {\n  let title = t('Success!');\n  let p = props.params;\n  let sid = parseInt(p.sid);\n\n  if (!p.isDuplicated) {\n    title = t('Submission Record');\n    if (p.tableInfo) {\n      let index = p.ids.indexOf(sid) + (p.tableInfo.pageSize * p.tableInfo.currentPage) + 1;\n      title = `${t('Submission Record')} (${index} ${t('of')} ${p.tableInfo.resultsTotal})`;\n    } else {\n      let index = p.ids.indexOf(sid);\n      if (p.ids.length === 1) {\n        title = `${t('Submission Record')}`;\n      } else {\n        title = `${t('Submission Record')} (${index} ${t('of')} ${p.ids.length})`;\n      }\n    }\n  }\n\n  return title;\n}\n\n/**\n * Custom modal component for displaying complex modals.\n *\n * It allows for displaying single modal at a time, as there is only single\n * modal element with adjustable title content.\n *\n * To display a modal, you need to use `pageState` store with `showModal` method:\n *\n * ```\n * stores.pageState.showModal({\n *   type: MODAL_TYPES.NEW_FORM\n * });\n * ```\n *\n * Each modal type uses different props, you can add them in the above object.\n *\n * There are also two other important methods: `hideModal` and `switchModal`.\n *\n * @prop {object} params - to be passed to the custom modal component\n */\nclass BigModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enketopreviewlink: false,\n      error: false,\n      modalClass: false,\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    var type = this.props.params.type;\n    switch(type) {\n      case MODAL_TYPES.SHARING:\n        this.setModalTitle(t('Sharing Permissions'));\n        break;\n\n      case MODAL_TYPES.UPLOADING_XLS:\n        var filename = this.props.params.filename || '';\n        this.setState({\n          title: t('Uploading XLS file'),\n          message: t('Uploading: ') + filename,\n        });\n        break;\n\n      case MODAL_TYPES.NEW_FORM:\n        // title is set by formEditors\n        break;\n\n      case MODAL_TYPES.LIBRARY_NEW_ITEM:\n        this.setModalTitle(t('Create Library Item'));\n        break;\n\n      case MODAL_TYPES.LIBRARY_TEMPLATE:\n        this.setModalTitle(t('Template details'));\n        break;\n\n      case MODAL_TYPES.LIBRARY_COLLECTION:\n        this.setModalTitle(t('Collection details'));\n        break;\n\n      case MODAL_TYPES.ASSET_TAGS:\n        this.setModalTitle(t('Edit tags'));\n        break;\n\n      case MODAL_TYPES.LIBRARY_UPLOAD:\n        this.setModalTitle(t('Upload file'));\n        break;\n\n      case MODAL_TYPES.ENKETO_PREVIEW:\n        const uid = this.props.params.assetid || this.props.params.uid;\n        stores.allAssets.whenLoaded(uid, (asset) => {\n          actions.resources.createSnapshot({\n            asset: asset.url,\n          });\n        });\n        this.listenTo(stores.snapshots, this.enketoSnapshotCreation);\n\n        this.setState({\n          title: t('Form Preview'),\n          modalClass: 'modal--large',\n        });\n        break;\n\n      case MODAL_TYPES.SUBMISSION:\n        this.setState({\n          title: getSubmissionTitle(this.props),\n          modalClass: 'modal--large modal-submission',\n          sid: this.props.params.sid,\n        });\n      break;\n\n      case MODAL_TYPES.REST_SERVICES:\n        if (this.props.params.hookUid) {\n          this.setState({title: t('Edit REST Service')});\n        } else {\n          this.setState({title: t('New REST Service')});\n        }\n        break;\n\n      case MODAL_TYPES.REPLACE_PROJECT:\n        // title is set by formEditors\n        break;\n\n      case MODAL_TYPES.TABLE_SETTINGS:\n        this.setModalTitle(t('Table display options'));\n        break;\n\n      case MODAL_TYPES.FORM_LANGUAGES:\n        this.setModalTitle(t('Manage Languages'));\n        break;\n\n      case MODAL_TYPES.FORM_TRANSLATIONS_TABLE:\n        this.setState({\n          title: t('Translations Table'),\n          modalClass: 'modal--large',\n        });\n        break;\n\n      case MODAL_TYPES.ENCRYPT_FORM:\n        this.setModalTitle(t('Manage Form Encryption'));\n        break;\n\n      case MODAL_TYPES.BULK_EDIT_SUBMISSIONS:\n        // title is set by BulkEditSubmissionsForm\n        this.setState({\n          modalClass: 'modal--large modal--large-shorter',\n        });\n        break;\n\n      case MODAL_TYPES.TABLE_MEDIA_PREVIEW:\n        // Size and title will depend on its props\n        this.setState({\n          modalClass: 'modal-media-preview'\n        });\n        break;\n\n      case MODAL_TYPES.DATA_ATTACHMENT_COLUMNS:\n        // title is set by DataAttachmentColumnsForm\n        break;\n\n      default:\n        console.error(`Unknown modal type: \"${type}\"!`);\n    }\n  }\n\n  /**\n   * @param {string} title\n   */\n  setModalTitle(title) {\n    this.setState({title: title});\n  }\n\n  /**\n   * @param {object} data\n   * @param {boolean} data.success\n   * @param {string} data.error\n   * @param {string} data.enketopreviewlink\n   */\n  enketoSnapshotCreation(data) {\n    if (data.success) {\n      this.setState({\n        enketopreviewlink: data.enketopreviewlink,\n      });\n    } else {\n      this.setState({\n        message: data.error,\n        error: true,\n      });\n    }\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.params) {\n      const newState = {};\n      if (props.params.sid) {\n        newState.title = getSubmissionTitle(props);\n        newState.sid = props.params.sid;\n      } else {\n        newState.sid = false;\n      }\n\n      if (\n        state.prevType !== props.params.type &&\n        props.params.type === MODAL_TYPES.UPLOADING_XLS\n      ) {\n        var filename = props.params.filename || '';\n        newState.title = t('Uploading XLS file');\n        newState.message = t('Uploading: ') + filename;\n      }\n\n      // store for later\n      newState.prevType = props.params.type;\n      return newState;\n    }\n    return null;\n  }\n\n  /**\n   * @param {string} title\n   * @param {string} message\n   */\n  displaySafeCloseConfirm(title, message) {\n    const dialog = alertify.dialog('confirm');\n    const opts = {\n      title: title,\n      message: message,\n      labels: {ok: t('Close'), cancel: t('Cancel')},\n      onok: stores.pageState.hideModal,\n      oncancel: dialog.destroy,\n    };\n    dialog.set(opts).show();\n  }\n\n  onModalClose() {\n    if (\n      this.props.params.type === MODAL_TYPES.FORM_TRANSLATIONS_TABLE &&\n      stores.translations.state.isTranslationTableUnsaved\n    ) {\n      this.displaySafeCloseConfirm(\n        t('Close Translations Table?'),\n        t('You will lose all unsaved changes.')\n      );\n    } else {\n      stores.pageState.hideModal();\n    }\n  }\n\n  render() {\n    const uid = this.props.params.assetid || this.props.params.uid;\n\n    return (\n      <Modal\n        open\n        onClose={this.onModalClose}\n        title={this.state.title}\n        className={this.state.modalClass}\n        isDuplicated={this.props.params.isDuplicated}\n        customModalHeader={this.props.params.customModalHeader}\n      >\n        <Modal.Body>\n            { this.props.params.type === MODAL_TYPES.SHARING &&\n              <SharingForm uid={uid} />\n            }\n            { this.props.params.type === MODAL_TYPES.NEW_FORM &&\n              <ProjectSettings\n                context={PROJECT_SETTINGS_CONTEXTS.NEW}\n                onSetModalTitle={this.setModalTitle}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.LIBRARY_NEW_ITEM &&\n              <LibraryNewItemForm\n                onSetModalTitle={this.setModalTitle}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.LIBRARY_TEMPLATE &&\n              <LibraryAssetForm\n                asset={this.props.params.asset}\n                assetType={ASSET_TYPES.template.id}\n                onSetModalTitle={this.setModalTitle}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.LIBRARY_COLLECTION &&\n              <LibraryAssetForm\n                asset={this.props.params.asset}\n                assetType={ASSET_TYPES.collection.id}\n                onSetModalTitle={this.setModalTitle}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.ASSET_TAGS &&\n              <AssetTagsForm\n                asset={this.props.params.asset}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.LIBRARY_UPLOAD &&\n              <LibraryUploadForm\n                onSetModalTitle={this.setModalTitle}\n                file={this.props.params.file}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.REPLACE_PROJECT &&\n              <ProjectSettings\n                context={PROJECT_SETTINGS_CONTEXTS.REPLACE}\n                onSetModalTitle={this.setModalTitle}\n                formAsset={this.props.params.asset}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.ENKETO_PREVIEW && this.state.enketopreviewlink &&\n              <div className='enketo-holder'>\n                <iframe src={this.state.enketopreviewlink} />\n              </div>\n            }\n            { this.props.params.type === MODAL_TYPES.ENKETO_PREVIEW && !this.state.enketopreviewlink &&\n              <LoadingSpinner/>\n            }\n            { this.props.params.type === MODAL_TYPES.ENKETO_PREVIEW && this.state.error &&\n              <div>\n                {this.state.message}\n              </div>\n            }\n            { this.props.params.type === MODAL_TYPES.UPLOADING_XLS &&\n              <div>\n                <LoadingSpinner message={this.state.message}/>\n              </div>\n            }\n            { this.props.params.type === MODAL_TYPES.SUBMISSION && this.state.sid &&\n              <SubmissionModal\n                sid={this.state.sid}\n                asset={this.props.params.asset}\n                ids={this.props.params.ids}\n                isDuplicated={this.props.params.isDuplicated}\n                duplicatedSubmission={this.props.params.duplicatedSubmission}\n                backgroundAudioUrl={this.props.params.backgroundAudioUrl}\n                tableInfo={this.props.params.tableInfo || false}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.SUBMISSION && !this.state.sid &&\n              <div>\n                <bem.Loading>\n                  <bem.Loading__inner>\n                    <i className='k-spin k-icon k-icon-spinner'/>\n                  </bem.Loading__inner>\n                </bem.Loading>\n              </div>\n            }\n            { this.props.params.type === MODAL_TYPES.TABLE_SETTINGS &&\n              <TableSettings\n                asset={this.props.params.asset}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.REST_SERVICES &&\n              <RESTServicesForm\n                assetUid={this.props.params.assetUid}\n                hookUid={this.props.params.hookUid}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.FORM_LANGUAGES &&\n              <TranslationSettings\n                asset={this.props.params.asset}\n                assetUid={this.props.params.assetUid}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.FORM_TRANSLATIONS_TABLE &&\n              <TranslationTable\n                asset={this.props.params.asset}\n                langString={this.props.params.langString}\n                langIndex={this.props.params.langIndex}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.ENCRYPT_FORM &&\n              <EncryptForm\n                asset={this.props.params.asset}\n                assetUid={this.props.params.assetUid}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.BULK_EDIT_SUBMISSIONS &&\n              <BulkEditSubmissionsForm\n                onSetModalTitle={this.setModalTitle}\n                onModalClose={this.onModalClose}\n                asset={this.props.params.asset}\n                {...this.props.params}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.TABLE_MEDIA_PREVIEW &&\n              <TableMediaPreview\n                {...this.props.params}\n              />\n            }\n            { this.props.params.type === MODAL_TYPES.DATA_ATTACHMENT_COLUMNS &&\n              <DataAttachmentColumnsForm\n                onSetModalTitle={this.setModalTitle}\n                onModalClose={this.onModalClose}\n                {...this.props.params}\n              />\n            }\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nreactMixin(BigModal.prototype, Reflux.ListenerMixin);\n\nexport default BigModal;\n","/**\n * A component with common layout elements for all routes.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport DocumentTitle from 'react-document-title';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport {hashHistory} from 'react-router';\nimport {stores} from 'js/stores';\nimport {surveyCompanionStore} from 'js/surveyCompanionStore'; // importing it so it exists\nimport {} from 'js/bemComponents'; // importing it so it exists\nimport bem from 'js/bem';\nimport mixins from 'js/mixins';\nimport MainHeader from 'js/components/header';\nimport Drawer from 'js/components/drawer';\nimport FormViewTabs from 'js/components/formViewTabs';\nimport IntercomHandler from 'js/components/intercomHandler';\nimport PermValidator from 'js/components/permissions/permValidator';\nimport {assign} from 'utils';\nimport BigModal from 'js/components/bigModal/bigModal';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = assign({\n      pageState: stores.pageState.state,\n    });\n  }\n\n  componentDidMount() {\n    hashHistory.listen(this.onRouteChange.bind(this));\n  }\n\n  onRouteChange() {\n    // slide out drawer overlay on every page change (better mobile experience)\n    if (this.state.pageState.showFixedDrawer) {\n      stores.pageState.setState({showFixedDrawer: false});\n    }\n\n    // hide modal on every page change\n    if (this.state.pageState.modal) {\n      stores.pageState.hideModal();\n    }\n  }\n\n  render() {\n    var assetid = this.props.params.assetid || this.props.params.uid || null;\n\n    const pageWrapperContentModifiers = [];\n    if (this.isFormSingle()) {\n      pageWrapperContentModifiers.push('form-landing');\n    }\n    if (this.isLibrarySingle()) {\n      pageWrapperContentModifiers.push('library-landing');\n    }\n\n    const pageWrapperModifiers = {\n      'fixed-drawer': this.state.pageState.showFixedDrawer,\n      'in-formbuilder': this.isFormBuilder(),\n      'is-modal-visible': Boolean(this.state.pageState.modal),\n    };\n\n    if (typeof this.state.pageState.modal === 'object') {\n      pageWrapperModifiers[`is-modal-${this.state.pageState.modal.type}`] = true;\n    }\n\n    return (\n      <DocumentTitle title='KoBoToolbox'>\n        <React.Fragment>\n          <PermValidator/>\n          <IntercomHandler/>\n          <div className='header-stretch-bg'/>\n          <bem.PageWrapper m={pageWrapperModifiers} className='mdl-layout mdl-layout--fixed-header'>\n            { this.state.pageState.modal &&\n              <BigModal params={this.state.pageState.modal} />\n            }\n\n            { !this.isFormBuilder() &&\n              <React.Fragment>\n                <MainHeader assetid={assetid}/>\n                <Drawer/>\n              </React.Fragment>\n            }\n\n            <bem.PageWrapper__content className='mdl-layout__content' m={pageWrapperContentModifiers}>\n              { !this.isFormBuilder() &&\n                <React.Fragment>\n                  <FormViewTabs type={'top'} show={this.isFormSingle()} />\n                  <FormViewTabs type={'side'} show={this.isFormSingle()} />\n                </React.Fragment>\n              }\n              {this.props.children}\n            </bem.PageWrapper__content>\n          </bem.PageWrapper>\n        </React.Fragment>\n      </DocumentTitle>\n    );\n  }\n}\n\nApp.contextTypes = {router: PropTypes.object};\n\nreactMixin(App.prototype, Reflux.connect(stores.pageState, 'pageState'));\nreactMixin(App.prototype, mixins.contextRouter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport editableFormMixin from '../editorMixins/editableForm';\nimport {update_states} from 'js/constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport mixins from '../mixins';\n\n/**\n * These are the components that are used for Form Builder routes.\n */\n\nexport class FormPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      asset_updated: update_states.UP_TO_DATE,\n      multioptionsExpanded: true,\n      surveyAppRendered: false,\n      name: '',\n      isNewAsset: false,\n      backRoute: ROUTES.FORMS,\n    };\n    autoBind(this);\n  }\n}\nreactMixin(FormPage.prototype, Reflux.ListenerMixin);\nreactMixin(FormPage.prototype, editableFormMixin);\nreactMixin(FormPage.prototype, mixins.permissions);\nFormPage.contextTypes = {router: PropTypes.object};\n\nexport class LibraryAssetEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      asset_updated: update_states.UP_TO_DATE,\n      multioptionsExpanded: true,\n      surveyAppRendered: false,\n      name: '',\n      isNewAsset: true,\n      backRoute: ROUTES.LIBRARY,\n    };\n    autoBind(this);\n\n    if (this.props.route.path === ROUTES.EDIT_LIBRARY_ITEM) {\n      this.state.isNewAsset = false;\n    }\n\n    if (this.props.route.path === ROUTES.NEW_LIBRARY_ITEM) {\n      this.state.asset = false;\n    }\n\n    if (this.props.route.path === ROUTES.NEW_LIBRARY_CHILD) {\n      this.state.asset = false;\n      this.state.parentAsset = this.props.params.uid;\n      this.state.backRoute = ROUTES.LIBRARY_ITEM.replace(':uid', this.props.params.uid);\n    }\n\n    if (this.props.location.query.back) {\n      this.state.backRoute = this.props.location.query.back;\n    }\n  }\n}\nreactMixin(LibraryAssetEditor.prototype, Reflux.ListenerMixin);\nreactMixin(LibraryAssetEditor.prototype, editableFormMixin);\nLibraryAssetEditor.contextTypes = {router: PropTypes.object};\n","// TODO: double check the display logic for buttons (permissions)\n\n/**\n * This is intended to be displayed in multiple places:\n * - library asset landing page\n * - library listing row\n * - project landing page (TODO in future)\n * - projects listing row (TODO in future)\n */\n\nimport React from 'react';\nimport Reflux from 'reflux';\nimport autoBind from 'react-autobind';\nimport {hashHistory} from 'react-router';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport _ from 'lodash';\nimport PopoverMenu from 'js/popoverMenu';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport assetUtils from 'js/assetUtils';\nimport {\n  ASSET_TYPES,\n  ACCESS_TYPES,\n} from 'js/constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport mixins from 'js/mixins';\nimport ownedCollectionsStore from './ownedCollectionsStore';\nimport './assetActionButtons.scss';\n\nconst assetActions = mixins.clickAssets.click.asset;\n\n/**\n * @prop {object} asset\n */\nclass AssetActionButtons extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      ownedCollections: ownedCollectionsStore.data.collections,\n      shouldHidePopover: false,\n      isPopoverVisible: false,\n      isSubscribePending: false\n    };\n    this.unlisteners = [];\n    this.hidePopoverDebounced = _.debounce(() => {\n      if (this.state.isPopoverVisible) {\n        this.setState({shouldHidePopover: true});\n      }\n    }, 500);\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(ownedCollectionsStore, this.onOwnedCollectionsStoreChanged);\n    this.unlisteners.push(\n      actions.library.subscribeToCollection.completed.listen(this.onSubscribingCompleted),\n      actions.library.unsubscribeFromCollection.completed.listen(this.onSubscribingCompleted),\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onSubscribingCompleted() {\n    this.setState({ isSubscribePending: false });\n  }\n\n  onOwnedCollectionsStoreChanged(storeData) {\n    this.setState({\n      ownedCollections: storeData.collections\n    });\n  }\n\n  // methods for inner workings of component\n\n  /**\n   * Allow for some time for user to go back to the popover menu.\n   * Then force hide popover in next render cycle (PopoverMenu interface\n   * handles it this way)\n   */\n  onMouseLeave() {\n    this.hidePopoverDebounced();\n  }\n\n  onMouseEnter() {\n    this.hidePopoverDebounced.cancel();\n  }\n\n  onPopoverSetVisible() {\n    this.setState({isPopoverVisible: true});\n  }\n\n  // Methods for managing the asset\n\n  modifyDetails() {\n    assetUtils.modifyDetails(this.props.asset);\n  }\n\n  editLanguages() {\n    assetUtils.editLanguages(this.props.asset);\n  }\n\n  share() {\n    assetUtils.share(this.props.asset);\n  }\n\n  showTagsModal() {\n    assetUtils.editTags(this.props.asset);\n  }\n\n  replace() {\n    assetUtils.replaceForm(this.props.asset);\n  }\n\n  delete() {\n    assetActions.delete(\n      this.props.asset,\n      assetUtils.getAssetDisplayName(this.props.asset).final,\n      this.onDeleteComplete.bind(this, this.props.asset.uid)\n    );\n  }\n\n  /**\n   * Navigates out of nonexistent paths after asset was successfuly deleted\n   */\n  onDeleteComplete(assetUid) {\n    if (this.isLibrarySingle() && this.currentAssetID() === assetUid) {\n      hashHistory.push(ROUTES.LIBRARY);\n    }\n    if (this.isFormSingle() && this.currentAssetID() === assetUid) {\n      hashHistory.push(ROUTES.FORMS);\n    }\n  }\n\n  deploy() {\n    mixins.dmix.deployAsset(this.props.asset);\n  }\n\n  archive() {\n    assetActions.archive(this.props.asset);\n  }\n\n  unarchive() {\n    assetActions.unarchive(this.props.asset);\n  }\n\n  clone() {\n    assetActions.clone(this.props.asset);\n  }\n\n  cloneAsSurvey() {\n    assetActions.cloneAsSurvey(\n      this.props.asset.uid,\n      assetUtils.getAssetDisplayName(this.props.asset).final\n    );\n  }\n\n  cloneAsTemplate() {\n    assetActions.cloneAsTemplate(\n      this.props.asset.uid,\n      assetUtils.getAssetDisplayName(this.props.asset).final\n    );\n  }\n\n  moveToCollection(collectionUrl) {\n    actions.library.moveToCollection(this.props.asset.uid, collectionUrl);\n  }\n\n  subscribeToCollection() {\n    this.setState({ isSubscribePending: true });\n    actions.library.subscribeToCollection(this.props.asset.url);\n  }\n\n  unsubscribeFromCollection() {\n    this.setState({ isSubscribePending: true });\n    actions.library.unsubscribeFromCollection(this.props.asset.uid);\n  }\n\n  viewContainingCollection() {\n    const parentArr = this.props.asset.parent.split('/');\n    const parentAssetUid = parentArr[parentArr.length - 2];\n    hashHistory.push(`/library/asset/${parentAssetUid}`);\n    hashHistory.push(ROUTES.LIBRARY_ITEM.replace(':uid', parentAssetUid));\n  }\n\n  getFormBuilderLink() {\n    let link = '#' + ROUTES.EDIT_LIBRARY_ITEM.replace(':uid', this.props.asset.uid);\n\n    // when editing a child from within a collection page\n    // make sure the \"Return to list\" button goes back to collection\n    const currentAssetUid = this.currentAssetID();\n    if (\n      this.props.asset.asset_type !== ASSET_TYPES.collection.id &&\n      this.props.asset.parent !== null &&\n      this.props.asset.parent.includes(currentAssetUid)\n    ) {\n      const backPath = ROUTES.LIBRARY_ITEM.replace(':uid', currentAssetUid);\n      link += `?back=${backPath}`;\n    }\n\n    return link;\n  }\n\n  renderMoreActionsTrigger() {\n    return (\n      <div\n        className='right-tooltip'\n        data-tip={t('More actions')}\n      >\n        <i className='k-icon k-icon-more'/>\n      </div>\n    );\n  }\n\n  renderMoreActions() {\n    const assetType = this.props.asset.asset_type;\n    let downloads = [];\n    if (assetType !== ASSET_TYPES.collection.id) {\n      downloads = this.props.asset.downloads;\n    }\n    const userCanEdit = this.userCan('change_asset', this.props.asset);\n    const isDeployable = (\n      assetType === ASSET_TYPES.survey.id &&\n      this.props.asset.deployed_version_id === null\n    );\n\n    // avoid rendering empty menu\n    if (!userCanEdit && downloads.length === 0) {\n      return null;\n    }\n\n    return (\n      <PopoverMenu\n        triggerLabel={this.renderMoreActionsTrigger()}\n        clearPopover={this.state.shouldHidePopover}\n        popoverSetVisible={this.onPopoverSetVisible}\n      >\n        {userCanEdit && isDeployable &&\n          <bem.PopoverMenu__link onClick={this.deploy}>\n            <i className='k-icon k-icon-deploy'/>\n            {t('Deploy')}\n          </bem.PopoverMenu__link>\n        }\n\n        {userCanEdit && assetType === ASSET_TYPES.survey.id &&\n          <bem.PopoverMenu__link onClick={this.replace}>\n            <i className='k-icon k-icon-replace'/>\n            {t('Replace form')}\n          </bem.PopoverMenu__link>\n        }\n\n        {userCanEdit && assetType !== ASSET_TYPES.collection.id &&\n          <bem.PopoverMenu__link onClick={this.editLanguages}>\n            <i className='k-icon k-icon-language'/>\n            {t('Manage translations')}\n          </bem.PopoverMenu__link>\n        }\n\n        {userCanEdit && assetType === ASSET_TYPES.survey.id &&\n          <bem.PopoverMenu__link onClick={this.cloneAsTemplate}>\n            <i className='k-icon k-icon-template'/>\n            {t('Create template')}\n          </bem.PopoverMenu__link>\n        }\n\n        {downloads.map((dl) => {\n          return (\n            <bem.PopoverMenu__link\n              href={dl.url}\n              key={`dl-${dl.format}`}\n            >\n              <i className={`k-icon k-icon-${dl.format}-file`}/>\n              {t('Download')}&nbsp;{dl.format.toString().toUpperCase()}\n            </bem.PopoverMenu__link>\n          );\n        })}\n\n        {userCanEdit &&\n          assetType !== ASSET_TYPES.survey.id &&\n          assetType !== ASSET_TYPES.collection.id &&\n          this.props.asset.parent !== null &&\n          <bem.PopoverMenu__link onClick={this.moveToCollection.bind(this, null)}>\n            <i className='k-icon k-icon-folder-out'/>\n            {t('Remove from collection')}\n          </bem.PopoverMenu__link>\n        }\n\n        {userCanEdit &&\n          assetType !== ASSET_TYPES.survey.id &&\n          assetType !== ASSET_TYPES.collection.id &&\n          this.state.ownedCollections.length > 0 && [\n          <bem.PopoverMenu__heading key='heading'>\n            {t('Move to')}\n          </bem.PopoverMenu__heading>,\n          <bem.PopoverMenu__moveTo key='list'>\n            {this.state.ownedCollections.map((collection) => {\n              const modifiers = ['move-coll-item'];\n              const isAssetParent = collection.url === this.props.asset.parent;\n              if (isAssetParent) {\n                modifiers.push('move-coll-item-parent');\n              }\n              const displayName = assetUtils.getAssetDisplayName(collection).final;\n              return (\n                <bem.PopoverMenu__item\n                  onClick={this.moveToCollection.bind(this, collection.url)}\n                  key={collection.uid}\n                  title={displayName}\n                  m={modifiers}\n                >\n                  {isAssetParent &&\n                    <i className='k-icon k-icon-check'/>\n                  }\n                  {!isAssetParent &&\n                    <i className='k-icon k-icon-folder-in'/>\n                  }\n                  {displayName}\n                </bem.PopoverMenu__item>\n              );\n            })}\n          </bem.PopoverMenu__moveTo>\n        ]}\n\n        {userCanEdit &&\n          assetType === ASSET_TYPES.survey.id &&\n          this.props.has_deployment &&\n          !this.props.deployment__active &&\n          <bem.PopoverMenu__link onClick={this.unarchive}>\n            <i className='k-icon k-icon-archived'/>\n            {t('Unarchive')}\n          </bem.PopoverMenu__link>\n        }\n\n        {userCanEdit &&\n          assetType === ASSET_TYPES.survey.id &&\n          this.props.has_deployment &&\n          this.props.deployment__active &&\n          <bem.PopoverMenu__link onClick={this.archive}>\n            <i className='k-icon k-icon-archived'/>\n            {t('Archive')}\n          </bem.PopoverMenu__link>\n        }\n\n        {userCanEdit &&\n          <bem.PopoverMenu__link onClick={this.delete}>\n            <i className='k-icon k-icon-trash'/>\n            {t('Delete')}\n          </bem.PopoverMenu__link>\n        }\n      </PopoverMenu>\n    );\n  }\n\n  renderSubButton() {\n    const isSelfOwned = assetUtils.isSelfOwned(this.props.asset);\n    const isPublic = assetUtils.isAssetPublic(this.props.asset.permissions);\n    const isUserSubscribed = (\n      this.props.asset.access_types &&\n      this.props.asset.access_types.includes(ACCESS_TYPES.subscribed)\n    );\n\n    if (\n      !isSelfOwned &&\n      isPublic &&\n      this.props.asset.asset_type === ASSET_TYPES.collection.id\n    ) {\n      const modifiers = isUserSubscribed ? ['off'] : ['on'];\n      const fn = isUserSubscribed ? this.unsubscribeFromCollection.bind(this) : this.subscribeToCollection.bind(this);\n      if (this.state.isSubscribePending) {\n        modifiers.push('pending');\n      }\n      let icon = null;\n      let title = t('Pending…');\n      if (!this.state.isSubscribePending) {\n        if (isUserSubscribed) {\n          icon = (<i className='k-icon k-icon-close'/>);\n          title = t('Unsubscribe');\n        } else {\n          icon = (<i className='k-icon k-icon-subscribe'/>);\n          title = t('Subscribe');\n        }\n      }\n\n      return (\n        <bem.AssetActionButtons__button\n          m={modifiers}\n          onClick={fn}\n          disabled={this.state.isSubscribePending}\n        >\n          {icon}\n          {title}\n        </bem.AssetActionButtons__button>\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    if (!this.props.asset) {\n      return null;\n    }\n\n    const assetType = this.props.asset.asset_type;\n    const userCanEdit = this.userCan('change_asset', this.props.asset);\n    const hasDetailsEditable = (\n      assetType === ASSET_TYPES.template.id ||\n      assetType === ASSET_TYPES.collection.id\n    );\n\n    return (\n      <bem.AssetActionButtons\n        onMouseLeave={this.onMouseLeave}\n        onMouseEnter={this.onMouseEnter}\n      >\n        {this.renderSubButton()}\n\n        {userCanEdit && assetType !== ASSET_TYPES.collection.id &&\n          <bem.AssetActionButtons__iconButton\n            href={this.getFormBuilderLink()}\n            data-tip={t('Edit in Form Builder')}\n            className='right-tooltip'\n          >\n            <i className='k-icon k-icon-edit'/>\n          </bem.AssetActionButtons__iconButton>\n        }\n\n        {userCanEdit && hasDetailsEditable &&\n          <bem.AssetActionButtons__iconButton\n            onClick={this.modifyDetails}\n            data-tip={t('Modify details')}\n            className='right-tooltip'\n          >\n            <i className='k-icon k-icon-settings' />\n          </bem.AssetActionButtons__iconButton>\n        }\n\n        {userCanEdit &&\n          <bem.AssetActionButtons__iconButton\n            onClick={this.showTagsModal}\n            data-tip= {t('Edit Tags')}\n            className='right-tooltip'\n          >\n            <i className='k-icon k-icon-tag'/>\n          </bem.AssetActionButtons__iconButton>\n        }\n\n        {userCanEdit &&\n          <bem.AssetActionButtons__iconButton\n            onClick={this.share}\n            data-tip= {t('Share')}\n            className='right-tooltip'\n          >\n            <i className='k-icon k-icon-user-share'/>\n          </bem.AssetActionButtons__iconButton>\n        }\n\n        {assetType !== ASSET_TYPES.collection.id &&\n          <bem.AssetActionButtons__iconButton\n            onClick={this.clone}\n            data-tip={t('Clone')}\n            className='right-tooltip'\n          >\n            <i className='k-icon k-icon-clone'/>\n          </bem.AssetActionButtons__iconButton>\n        }\n\n        {assetType === ASSET_TYPES.template.id &&\n          <bem.AssetActionButtons__iconButton\n            onClick={this.cloneAsSurvey}\n            data-tip={t('Create project')}\n            className='right-tooltip'\n          >\n            <i className='k-icon k-icon-projects'/>\n          </bem.AssetActionButtons__iconButton>\n        }\n\n        {this.props.asset.parent !== null &&\n          !this.props.asset.parent.includes(this.currentAssetID()) &&\n          <bem.AssetActionButtons__iconButton\n            onClick={this.viewContainingCollection}\n            data-tip={t('View containing Collection')}\n            className='right-tooltip'\n          >\n            <i className='k-icon k-icon-folder'/>\n          </bem.AssetActionButtons__iconButton>\n        }\n\n        {this.renderMoreActions()}\n      </bem.AssetActionButtons>\n    );\n  }\n}\n\nreactMixin(AssetActionButtons.prototype, mixins.contextRouter);\nreactMixin(AssetActionButtons.prototype, mixins.permissions);\nreactMixin(AssetActionButtons.prototype, Reflux.ListenerMixin);\nAssetActionButtons.contextTypes = {\n  router: PropTypes.object\n};\n\nexport default AssetActionButtons;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport AssetActionButtons from './assetActionButtons';\nimport AssetName from 'js/components/common/assetName';\nimport {formatTime} from 'utils';\nimport {ASSET_TYPES} from 'js/constants';\nimport assetUtils from 'js/assetUtils';\nimport {ASSETS_TABLE_CONTEXTS} from 'js/components/library/libraryConstants';\n\n\nclass AssetsTableRow extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  render() {\n    let iconClassName = '';\n    if (this.props.asset) {\n      iconClassName = assetUtils.getAssetIcon(this.props.asset);\n    }\n\n    let rowCount = null;\n    if (\n      this.props.asset.asset_type !== ASSET_TYPES.collection.id &&\n      this.props.asset.summary?.row_count\n    ) {\n      rowCount = this.props.asset.summary.row_count;\n    } else if (\n      this.props.asset.asset_type === ASSET_TYPES.collection.id &&\n      this.props.asset.children\n    ) {\n      rowCount = this.props.asset.children.count;\n    }\n\n    return (\n      <bem.AssetsTableRow m={['asset', `type-${this.props.asset.asset_type}`]}>\n        <bem.AssetsTableRow__link href={`#/library/asset/${this.props.asset.uid}`}/>\n\n        <bem.AssetsTableRow__buttons>\n          <AssetActionButtons asset={this.props.asset}/>\n        </bem.AssetsTableRow__buttons>\n\n        <bem.AssetsTableRow__column m='icon-status'>\n          <i className={`k-icon ${iconClassName}`}/>\n        </bem.AssetsTableRow__column>\n\n        <bem.AssetsTableRow__column m='name'>\n          <AssetName asset={this.props.asset}/>\n\n          {this.props.asset.settings && this.props.asset.tag_string && this.props.asset.tag_string.length > 0 &&\n            <bem.AssetsTableRow__tags>\n              {this.props.asset.tag_string.split(',').map((tag) => {\n                return ([' ', <bem.AssetsTableRow__tag key={tag}>{tag}</bem.AssetsTableRow__tag>]);\n              })}\n            </bem.AssetsTableRow__tags>\n          }\n        </bem.AssetsTableRow__column>\n\n        <bem.AssetsTableRow__column m='item-count'>\n          {rowCount !== null &&\n            <bem.AssetsTableRow__tag m='gray-circle'>{rowCount}</bem.AssetsTableRow__tag>\n          }\n        </bem.AssetsTableRow__column>\n\n        <bem.AssetsTableRow__column m='owner'>\n          {assetUtils.getAssetOwnerDisplayName(this.props.asset.owner__username)}\n        </bem.AssetsTableRow__column>\n\n        {this.props.context === ASSETS_TABLE_CONTEXTS.PUBLIC_COLLECTIONS &&\n          <bem.AssetsTableRow__column m='subscribers-count'>\n            {this.props.asset.subscribers_count}\n          </bem.AssetsTableRow__column>\n        }\n\n        <bem.AssetsTableRow__column m='languages'>\n          {assetUtils.getLanguagesDisplayString(this.props.asset)}\n        </bem.AssetsTableRow__column>\n\n        {this.props.context === ASSETS_TABLE_CONTEXTS.PUBLIC_COLLECTIONS &&\n          <bem.AssetsTableRow__column m='primary-sector'>\n            {assetUtils.getSectorDisplayString(this.props.asset)}\n          </bem.AssetsTableRow__column>\n        }\n\n        <bem.AssetsTableRow__column m='date-modified'>\n          {formatTime(this.props.asset.date_modified)}\n        </bem.AssetsTableRow__column>\n      </bem.AssetsTableRow>\n    );\n  }\n}\n\nexport default AssetsTableRow;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport autoBind from 'react-autobind';\nimport PopoverMenu from 'js/popoverMenu';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport bem from 'js/bem';\nimport {\n  hasVerticalScrollbar,\n  getScrollbarWidth,\n} from 'utils';\nimport AssetsTableRow from './assetsTableRow';\nimport {\n  ASSETS_TABLE_CONTEXTS,\n  ORDER_DIRECTIONS,\n  ASSETS_TABLE_COLUMNS,\n} from './libraryConstants';\nimport './assetsTable.scss';\n\n/**\n * Displays a table of assets.\n *\n * @prop {string} context - One of ASSETS_TABLE_CONTEXTS.\n * @prop {boolean} [isLoading] - To display spinner.\n * @prop {string} [emptyMessage] - To display contextual empty message when zero assets.\n * @prop {Array<object>} assets - List of assets to be displayed.\n * @prop {number} totalAssets - Number of assets on all pages.\n * @prop {Array<object>} metadata - List of available filters values.\n * @prop {string} orderColumnId - Seleceted order column id, one of ASSETS_TABLE_COLUMNS.\n * @prop {string} orderValue - Seleceted order column value.\n * @prop {columnChangeCallback} onOrderChange - Called when user selects a column for odering.\n * @prop {string} filterColumnId - Seleceted filter column, one of ASSETS_TABLE_COLUMNS.\n * @prop {string} filterValue - Seleceted filter column value.\n * @prop {columnChangeCallback} onFilterChange - Called when user selects a column for filtering.\n * @prop {number} [currentPage] - For displaying pagination.\n * @prop {number} [totalPages] - For displaying pagination.\n * @prop {switchPageCallback} [onSwitchPage] - Called when user clicks page change.\n */\nexport default class AssetsTable extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      shouldHidePopover: false,\n      isPopoverVisible: false,\n      scrollbarWidth: null,\n      isFullscreen: false\n    };\n    this.bodyRef = React.createRef();\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.updateScrollbarWidth();\n    window.addEventListener('resize', this.updateScrollbarWidth);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateScrollbarWidth);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isLoading !== this.props.isLoading) {\n      this.updateScrollbarWidth();\n    }\n  }\n\n  toggleFullscreen() {\n    this.setState({isFullscreen: !this.state.isFullscreen});\n  }\n\n  updateScrollbarWidth() {\n    if (\n      this.bodyRef &&\n      this.bodyRef.current &&\n      hasVerticalScrollbar(ReactDOM.findDOMNode(this.bodyRef.current))\n    ) {\n      this.setState({scrollbarWidth: getScrollbarWidth()});\n    } else {\n      this.setState({scrollbarWidth: null});\n    }\n  }\n\n  /**\n   * @param {number} newPageNumber\n   */\n  switchPage(newPageNumber) {\n    this.props.onSwitchPage(newPageNumber);\n  }\n\n  /**\n   * This function is only a callback handler, as the asset reordering itself\n   * should be handled by the component that is providing the assets list.\n   * @param {string} columnId\n   */\n  onChangeOrder(columnId) {\n    if (this.props.orderColumnId === columnId) {\n      // clicking already selected column results in switching the order direction\n      let newVal;\n      if (this.props.orderValue === ORDER_DIRECTIONS.ascending) {\n        newVal = ORDER_DIRECTIONS.descending;\n      } else if (this.props.orderValue === ORDER_DIRECTIONS.descending) {\n        newVal = ORDER_DIRECTIONS.ascending;\n      }\n      this.props.onOrderChange(this.props.orderColumnId, newVal);\n    } else {\n      // change column and revert order direction to default\n      this.props.onOrderChange(columnId, ASSETS_TABLE_COLUMNS[columnId].defaultValue);\n    }\n  }\n\n  /**\n   * This function is only a callback handler, as the asset filtering itself\n   * should be handled by the component that is providing the assets list.\n   * @param {string} columnId\n   * @param {string} filterValue\n   */\n  onChangeFilter(columnId, filterValue) {\n    if (\n      this.props.filterColumnId === columnId &&\n      this.props.filterValue === filterValue\n    ) {\n      // when clicking already selected item, clear it\n      this.props.onFilterChange(null, null);\n    } else {\n      this.props.onFilterChange(columnId, filterValue);\n    }\n  }\n\n  onClearFilter(evt) {\n    evt.stopPropagation();\n    this.props.onFilterChange(null, null);\n  }\n\n  /**\n   * @param {AssetsTableColumn} columnDef - Given column definition.\n   * @param {string} [option] - Currently either 'first' or 'last'.\n   */\n  renderHeader(columnDef, option) {\n    if (columnDef.orderBy) {\n      return this.renderOrderableHeader(columnDef, option);\n    } else if (columnDef.filterBy) {\n      return this.renderFilterableHeader(columnDef, option);\n    } else {\n      let displayLabel = columnDef.label;\n      if (\n        columnDef.id === ASSETS_TABLE_COLUMNS['items-count'].id &&\n        this.props.context === ASSETS_TABLE_CONTEXTS.COLLECTION_CONTENT\n      ) {\n        displayLabel = t('Questions');\n      }\n      return (\n        <bem.AssetsTableRow__column m={columnDef.id} disabled>\n          {displayLabel}\n        </bem.AssetsTableRow__column>\n      );\n    }\n  }\n\n  onMouseLeave() {\n    // force hide popover in next render cycle\n    // (PopoverMenu interface handles it this way)\n    if (this.state.isPopoverVisible) {\n      this.setState({shouldHidePopover: true});\n    }\n  }\n\n  onPopoverSetVisible() {\n    this.setState({isPopoverVisible: true});\n  }\n\n  renderFilterableHeader(columnDef) {\n    let options = [];\n    if (this.props.metadata[columnDef.filterByMetadataName]) {\n      options = this.props.metadata[columnDef.filterByMetadataName];\n    }\n\n    if (options.length === 0) {\n      return (\n        <bem.AssetsTableRow__column m={columnDef.id} disabled>\n          {columnDef.label}\n        </bem.AssetsTableRow__column>\n      );\n    }\n\n    let icon = (<i className='k-icon k-icon-filter-arrows'/>);\n    if (this.props.filterColumnId === columnDef.id) {\n      icon = (<i className='k-icon k-icon-close' onClick={this.onClearFilter}/>);\n    }\n\n    return (\n      <bem.AssetsTableRow__column m={columnDef.id}>\n        <PopoverMenu\n          type='assets-table'\n          triggerLabel={<span>{columnDef.label} {icon}</span>}\n          clearPopover={this.state.shouldHidePopover}\n          popoverSetVisible={this.onPopoverSetVisible}\n        >\n          {options.map((option, index) => {\n            let optionValue;\n            let optionLabel;\n\n            if (typeof option === 'string') {\n              optionValue = option;\n              optionLabel = option;\n            }\n            if (Array.isArray(option)) {\n              optionValue = option[0];\n              optionLabel = option[1];\n            }\n\n            return (\n              <bem.PopoverMenu__link\n                onClick={this.onChangeFilter.bind(this, columnDef.id, optionValue)}\n                key={`option-${index}`}\n              >\n                {optionLabel}\n                {optionValue === this.props.filterValue &&\n                  <i className='k-icon k-icon-check'/>\n                }\n              </bem.PopoverMenu__link>\n            );\n          })}\n        </PopoverMenu>\n      </bem.AssetsTableRow__column>\n    );\n  }\n\n  renderOrderableHeader(columnDef) {\n    let hideIcon = false;\n    let hideLabel = false;\n\n    // for `icon-status` we don't display empty icon, because the column is\n    // too narrow to display label and icon together\n    if (columnDef.id === ASSETS_TABLE_COLUMNS['icon-status'].id) {\n      hideIcon = this.props.orderColumnId !== columnDef.id;\n      hideLabel = this.props.orderColumnId === columnDef.id;\n    }\n\n    // empty icon to take up space in column\n    let icon = (<i className='k-icon'/>);\n    if (this.props.orderColumnId === columnDef.id) {\n      if (this.props.orderValue === ORDER_DIRECTIONS.ascending) {\n        icon = (<i className='k-icon k-icon-up'/>);\n      }\n      if (this.props.orderValue === ORDER_DIRECTIONS.descending) {\n        icon = (<i className='k-icon k-icon-down'/>);\n      }\n    }\n\n    const classNames = [];\n\n    return (\n      <bem.AssetsTableRow__column\n        m={columnDef.id}\n        onClick={this.onChangeOrder.bind(this, columnDef.id)}\n        classNames={classNames}\n      >\n        {!hideLabel &&\n          <bem.AssetsTableRow__headerLabel>{columnDef.label}</bem.AssetsTableRow__headerLabel>\n        }\n        {!hideIcon && icon}\n      </bem.AssetsTableRow__column>\n    );\n  }\n\n  /**\n   * Safe: returns nothing if pagination properties are not set.\n   */\n  renderPagination() {\n    const hasPagination = (\n      typeof this.props.currentPage === 'number' &&\n      typeof this.props.totalPages === 'number' &&\n      typeof this.props.onSwitchPage === 'function'\n    );\n    const naturalCurrentPage = this.props.currentPage + 1;\n\n    if (hasPagination) {\n      return (\n        <bem.AssetsTablePagination>\n          <bem.AssetsTablePagination__button\n            disabled={this.props.currentPage === 0}\n            onClick={this.switchPage.bind(this, this.props.currentPage - 1)}\n          >\n            <i className='k-icon k-icon-prev'/>\n            {t('Previous')}\n          </bem.AssetsTablePagination__button>\n\n          <bem.AssetsTablePagination__index>\n            {/* we avoid displaying 1/0 as it doesn't make sense to humans */}\n            {naturalCurrentPage}/{this.props.totalPages || 1}\n          </bem.AssetsTablePagination__index>\n\n          <bem.AssetsTablePagination__button\n            disabled={naturalCurrentPage >= this.props.totalPages}\n            onClick={this.switchPage.bind(this, this.props.currentPage + 1)}\n          >\n            {t('Next')}\n            <i className='k-icon k-icon-next'/>\n          </bem.AssetsTablePagination__button>\n        </bem.AssetsTablePagination>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  renderFooter() {\n    return (\n      <bem.AssetsTable__footer>\n        {this.props.totalAssets !== null &&\n          <span>\n            {t('##count## items').replace('##count##', this.props.totalAssets)}\n          </span>\n        }\n\n        {this.renderPagination()}\n\n        {this.props.totalAssets !== null &&\n          <button\n            className='mdl-button'\n            onClick={this.toggleFullscreen}\n          >\n            {t('Toggle fullscreen')}\n            <i className='k-icon k-icon-expand' />\n          </button>\n        }\n      </bem.AssetsTable__footer>\n    );\n  }\n\n  render() {\n    const modifiers = [this.props.context];\n    if (this.state.isFullscreen) {\n      modifiers.push('fullscreen');\n    }\n\n    return (\n      <bem.AssetsTable m={modifiers}>\n        <bem.AssetsTable__header>\n          <bem.AssetsTableRow m='header'>\n            {this.renderHeader(ASSETS_TABLE_COLUMNS['icon-status'], 'first')}\n            {this.renderHeader(ASSETS_TABLE_COLUMNS.name)}\n            {this.renderHeader(ASSETS_TABLE_COLUMNS['items-count'])}\n            {this.renderHeader(ASSETS_TABLE_COLUMNS.owner)}\n            {this.props.context === ASSETS_TABLE_CONTEXTS.PUBLIC_COLLECTIONS &&\n              this.renderHeader(ASSETS_TABLE_COLUMNS['subscribers-count'])\n            }\n            {this.renderHeader(ASSETS_TABLE_COLUMNS.languages)}\n            {this.props.context === ASSETS_TABLE_CONTEXTS.PUBLIC_COLLECTIONS &&\n              this.renderHeader(ASSETS_TABLE_COLUMNS['primary-sector'])\n            }\n            {this.renderHeader(ASSETS_TABLE_COLUMNS['date-modified'], 'last')}\n\n            {this.state.scrollbarWidth !== 0 && this.state.scrollbarWidth !== null &&\n              <div\n                className='assets-table__scrollbar-padding'\n                style={{width: `${this.state.scrollbarWidth}px`}}\n              />\n            }\n          </bem.AssetsTableRow>\n        </bem.AssetsTable__header>\n\n        <bem.AssetsTable__body ref={this.bodyRef}>\n          {this.props.isLoading &&\n            <LoadingSpinner/>\n          }\n\n          {!this.props.isLoading && this.props.assets.length === 0 &&\n            <bem.AssetsTableRow m='empty-message'>\n              {this.props.emptyMessage || t('There are no assets to display.')}\n            </bem.AssetsTableRow>\n          }\n\n          {!this.props.isLoading && this.props.assets.map((asset) => {\n            return (\n              <AssetsTableRow\n                asset={asset}\n                key={asset.uid}\n                context={this.props.context}\n              />\n            );\n          })}\n        </bem.AssetsTable__body>\n\n        {this.renderFooter()}\n      </bem.AssetsTable>\n    );\n  }\n}\n\n/**\n * @callback columnChangeCallback\n * @param {string} columnId\n * @param {string} columnValue\n */\n\n/**\n * @callback switchPageCallback\n * @param {string} pageNumber\n */\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport DocumentTitle from 'react-document-title';\nimport Dropzone from 'react-dropzone';\nimport mixins from 'js/mixins';\nimport bem from 'js/bem';\nimport {stores} from 'js/stores';\nimport {validFileTypes} from 'utils';\nimport myLibraryStore from './myLibraryStore';\nimport AssetsTable from './assetsTable';\nimport {MODAL_TYPES} from 'js/constants';\nimport {\n  ROOT_BREADCRUMBS,\n  ASSETS_TABLE_CONTEXTS,\n} from 'js/components/library/libraryConstants';\n\nclass MyLibraryRoute extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.getFreshState();\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  getFreshState() {\n    return {\n      isLoading: myLibraryStore.data.isFetchingData,\n      assets: myLibraryStore.data.assets,\n      metadata: myLibraryStore.data.metadata,\n      totalAssets: myLibraryStore.data.totalSearchAssets,\n      orderColumnId: myLibraryStore.data.orderColumnId,\n      orderValue: myLibraryStore.data.orderValue,\n      filterColumnId: myLibraryStore.data.filterColumnId,\n      filterValue: myLibraryStore.data.filterValue,\n      currentPage: myLibraryStore.data.currentPage,\n      totalPages: myLibraryStore.data.totalPages,\n    };\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      myLibraryStore.listen(this.myLibraryStoreChanged)\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  myLibraryStoreChanged() {\n    this.setState(this.getFreshState());\n  }\n\n  onAssetsTableOrderChange(orderColumnId, orderValue) {\n    myLibraryStore.setOrder(orderColumnId, orderValue);\n  }\n\n  onAssetsTableFilterChange(filterColumnId, filterValue) {\n    myLibraryStore.setFilter(filterColumnId, filterValue);\n  }\n\n  onAssetsTableSwitchPage(pageNumber) {\n    myLibraryStore.setCurrentPage(pageNumber);\n  }\n\n  /**\n   * If only one file was passed, then open a modal for selecting the type.\n   * Otherwise just start uploading all files.\n   */\n  onFileDrop(files, rejectedFiles, evt) {\n    if (files.length === 1) {\n      stores.pageState.switchModal({\n        type: MODAL_TYPES.LIBRARY_UPLOAD,\n        file: files[0],\n      });\n    } else {\n      this.dropFiles(files, rejectedFiles, evt);\n    }\n  }\n\n  render() {\n    let contextualEmptyMessage = t('Your search returned no results.');\n\n    if (myLibraryStore.data.totalUserAssets === 0) {\n      contextualEmptyMessage = (\n        <div>\n          {t(\"Let's get started by creating your first library question, block, template or collection. Click the New button to create it.\")}\n          <div className='pro-tip'>\n            {t('Advanced users: You can also drag and drop XLSForms here and they will be uploaded and converted to library items.')}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <DocumentTitle title={`${t('My Library')} | KoboToolbox`}>\n        <Dropzone\n          onDrop={this.onFileDrop}\n          disableClick\n          multiple\n          className='dropzone'\n          activeClassName='dropzone--active'\n          accept={validFileTypes()}\n        >\n          <bem.Breadcrumbs m='gray-wrapper'>\n            <bem.Breadcrumbs__crumb>{ROOT_BREADCRUMBS.MY_LIBRARY.label}</bem.Breadcrumbs__crumb>\n          </bem.Breadcrumbs>\n\n          <AssetsTable\n            context={ASSETS_TABLE_CONTEXTS.MY_LIBRARY}\n            isLoading={this.state.isLoading}\n            assets={this.state.assets}\n            totalAssets={this.state.totalAssets}\n            metadata={this.state.metadata}\n            orderColumnId={this.state.orderColumnId}\n            orderValue={this.state.orderValue}\n            onOrderChange={this.onAssetsTableOrderChange.bind(this)}\n            filterColumnId={this.state.filterColumnId}\n            filterValue={this.state.filterValue}\n            onFilterChange={this.onAssetsTableFilterChange.bind(this)}\n            currentPage={this.state.currentPage}\n            totalPages={this.state.totalPages}\n            onSwitchPage={this.onAssetsTableSwitchPage.bind(this)}\n            emptyMessage={contextualEmptyMessage}\n          />\n\n          <div className='dropzone-active-overlay'>\n            <i className='k-icon k-icon-upload'/>\n            {t('Drop files to upload')}\n          </div>\n        </Dropzone>\n      </DocumentTitle>\n    );\n  }\n}\n\nMyLibraryRoute.contextTypes = {\n  router: PropTypes.object,\n};\n\nreactMixin(MyLibraryRoute.prototype, mixins.droppable);\nreactMixin(MyLibraryRoute.prototype, Reflux.ListenerMixin);\n\nexport default MyLibraryRoute;\n","import Reflux from 'reflux';\nimport {hashHistory} from 'react-router';\nimport {\n  SEARCH_CONTEXTS,\n  searchBoxStore\n} from '../header/searchBoxStore';\nimport assetUtils from 'js/assetUtils';\nimport {\n  getCurrentPath,\n  isPublicCollectionsRoute,\n} from 'js/router/routerUtils';\nimport {actions} from 'js/actions';\nimport {\n  ORDER_DIRECTIONS,\n  ASSETS_TABLE_COLUMNS\n} from './libraryConstants';\nimport {\n  ASSET_TYPES,\n  ACCESS_TYPES,\n} from 'js/constants';\nimport {ROUTES} from 'js/router/routerConstants';\n\nconst publicCollectionsStore = Reflux.createStore({\n  /**\n   * A method for aborting current XHR fetch request.\n   * It doesn't need to be defined upfront, but I'm adding it here for clarity.\n   */\n  abortFetchData: undefined,\n  previousPath: getCurrentPath(),\n  previousSearchPhrase: searchBoxStore.getSearchPhrase(),\n  PAGE_SIZE: 100,\n  DEFAULT_ORDER_COLUMN: ASSETS_TABLE_COLUMNS['date-modified'],\n\n  isInitialised: false,\n\n  data: {\n    isFetchingData: false,\n    currentPage: 0,\n    totalPages: null,\n    totalSearchAssets: null,\n    assets: [],\n    metadata: {}\n  },\n\n  init() {\n    this.setDefaultColumns();\n\n    hashHistory.listen(this.onRouteChange.bind(this));\n    searchBoxStore.listen(this.searchBoxStoreChanged);\n    actions.library.searchPublicCollections.started.listen(this.onSearchStarted);\n    actions.library.searchPublicCollections.completed.listen(this.onSearchCompleted);\n    actions.library.searchPublicCollections.failed.listen(this.onSearchFailed);\n    actions.library.searchPublicCollectionsMetadata.completed.listen(this.onSearchMetadataCompleted);\n    actions.library.subscribeToCollection.completed.listen(this.onSubscribeCompleted);\n    actions.library.unsubscribeFromCollection.listen(this.onUnsubscribeCompleted);\n    actions.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted);\n    actions.resources.loadAsset.completed.listen(this.onAssetChanged);\n    actions.resources.updateAsset.completed.listen(this.onAssetChanged);\n    actions.resources.cloneAsset.completed.listen(this.onAssetCreated);\n    actions.resources.createResource.completed.listen(this.onAssetCreated);\n    actions.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted);\n\n    // startup store after config is ready\n    actions.permissions.getConfig.completed.listen(this.startupStore);\n  },\n\n  /**\n   * Only makes a call to BE when loaded app on a library route\n   * otherwise wait until route changes to a library (see `onRouteChange`)\n   */\n  startupStore() {\n    if (!this.isInitialised && isPublicCollectionsRoute() && !this.data.isFetchingData) {\n      this.fetchData(true);\n    }\n  },\n\n  setDefaultColumns() {\n    this.data.orderColumnId = this.DEFAULT_ORDER_COLUMN.id;\n    this.data.orderValue = this.DEFAULT_ORDER_COLUMN.defaultValue;\n    this.data.filterColumnId = null;\n    this.data.filterValue = null;\n  },\n\n  // methods for handling search and data fetch\n\n  /**\n   * @return {object} search params shared by all searches\n   */\n  getSearchParams() {\n    const params = {\n      searchPhrase: searchBoxStore.getSearchPhrase(),\n      pageSize: this.PAGE_SIZE,\n      page: this.data.currentPage\n    };\n\n    if (this.data.filterColumnId !== null) {\n      const filterColumn = ASSETS_TABLE_COLUMNS[this.data.filterColumnId];\n      params.filterProperty = filterColumn.filterBy;\n      params.filterValue = this.data.filterValue;\n    }\n\n    // Surrounds `filterValue` with double quotes to avoid filters that have\n    // spaces which would split the query in two, thus breaking the filter\n    if (params.filterValue !== undefined) {\n      params.filterValue = JSON.stringify(params.filterValue); // Adds quotes\n    }\n\n    return params;\n  },\n\n  fetchMetadata() {\n    actions.library.searchPublicCollectionsMetadata(this.getSearchParams());\n  },\n\n  /**\n   * @param {boolean} needsMetadata\n   */\n  fetchData(needsMetadata = false) {\n    if (this.abortFetchData) {\n      this.abortFetchData();\n    }\n\n    const params = this.getSearchParams();\n\n    params.metadata = needsMetadata;\n\n    const orderColumn = ASSETS_TABLE_COLUMNS[this.data.orderColumnId];\n    const direction = this.data.orderValue === ORDER_DIRECTIONS.ascending ? '' : '-';\n    params.ordering = `${direction}${orderColumn.orderBy}`;\n\n    actions.library.searchPublicCollections(params);\n  },\n\n  onRouteChange(data) {\n    if (!this.isInitialised && isPublicCollectionsRoute() && !this.data.isFetchingData) {\n      this.fetchData(true);\n    } else if (\n      this.previousPath.startsWith(ROUTES.PUBLIC_COLLECTIONS) === false &&\n      isPublicCollectionsRoute()\n    ) {\n      // refresh data when navigating into public-collections from other place\n      this.setDefaultColumns();\n      this.fetchData(true);\n    }\n    this.previousPath = data.pathname;\n  },\n\n  searchBoxStoreChanged() {\n    if (\n      searchBoxStore.getContext() === SEARCH_CONTEXTS.PUBLIC_COLLECTIONS &&\n      searchBoxStore.getSearchPhrase() !== this.previousSearchPhrase\n    ) {\n      // reset to first page when search changes\n      this.data.currentPage = 0;\n      this.data.totalPages = null;\n      this.data.totalSearchAssets = null;\n      this.previousSearchPhrase = searchBoxStore.getSearchPhrase();\n      this.fetchData(true);\n    }\n  },\n\n  onSearchStarted(abort) {\n    this.abortFetchData = abort;\n    this.data.isFetchingData = true;\n    this.trigger(this.data);\n  },\n\n  onSearchCompleted(response) {\n    delete this.abortFetchData;\n    this.data.totalPages = Math.ceil(response.count / this.PAGE_SIZE);\n    this.data.assets = response.results;\n    // if we didn't fetch metadata, we assume it didn't change so leave current one\n    if (response.metadata) {\n      this.data.metadata = response.metadata;\n    }\n    this.data.totalSearchAssets = response.count;\n    this.data.isFetchingData = false;\n    this.isInitialised = true;\n    this.trigger(this.data);\n  },\n\n  onSearchFailed() {\n    delete this.abortFetchData;\n    this.data.isFetchingData = false;\n    this.trigger(this.data);\n  },\n\n  onSearchMetadataCompleted(response) {\n    this.data.metadata = response;\n    this.trigger(this.data);\n  },\n\n  // methods for handling actions that update assets\n\n  onSubscribeCompleted(subscriptionData) {\n    this.onAssetAccessTypeChanged(subscriptionData.asset, true);\n  },\n\n  onUnsubscribeCompleted(assetUid) {\n    this.onAssetAccessTypeChanged(assetUid, false);\n  },\n\n  onAssetAccessTypeChanged(assetUidOrUrl, setSubscribed) {\n    let wasUpdated = false;\n    for (let i = 0; i < this.data.assets.length; i++) {\n      if (\n        this.data.assets[i].uid === assetUidOrUrl ||\n        this.data.assets[i].url === assetUidOrUrl\n      ) {\n        if (setSubscribed) {\n          this.data.assets[i].access_types.push(ACCESS_TYPES.subscribed);\n        } else {\n          this.data.assets[i].access_types.splice(\n            this.data.assets[i].access_types.indexOf(ACCESS_TYPES.subscribed),\n            1\n          );\n        }\n        wasUpdated = true;\n        break;\n      }\n    }\n    if (wasUpdated) {\n      this.trigger(this.data);\n    }\n  },\n\n  onMoveToCollectionCompleted(asset) {\n    if (\n      asset.asset_type === ASSET_TYPES.collection.id &&\n      assetUtils.isAssetPublic(asset.permissions)\n    ) {\n      this.fetchData(true);\n    }\n  },\n\n  onAssetChanged(asset) {\n    if (\n      asset.asset_type === ASSET_TYPES.collection.id &&\n      assetUtils.isAssetPublic(asset.permissions) &&\n      this.data.assets.length !== 0\n    ) {\n      let wasUpdated = false;\n      for (let i = 0; i < this.data.assets.length; i++) {\n        if (this.data.assets[i].uid === asset.uid) {\n          this.data.assets[i] = asset;\n          wasUpdated = true;\n          break;\n        }\n      }\n      if (wasUpdated) {\n        this.trigger(this.data);\n        this.fetchMetadata();\n      }\n    }\n  },\n\n  onAssetCreated(asset) {\n    if (\n      asset.asset_type === ASSET_TYPES.collection.id &&\n      assetUtils.isAssetPublic(asset.permissions)\n    ) {\n      this.fetchData(true);\n    }\n  },\n\n  onDeleteAssetCompleted({uid, assetType}) {\n    if (assetType === ASSET_TYPES.collection.id) {\n      const found = this.findAsset(uid);\n      if (found) {\n        this.fetchData(true);\n      }\n      // if not found it is possible it is on other page of results, but it is\n      // not important enough to do a data fetch\n    }\n  },\n\n  // public methods\n\n  setCurrentPage(newCurrentPage) {\n    this.data.currentPage = newCurrentPage;\n    this.fetchData();\n  },\n\n  /**\n   * @param {string} orderColumnId\n   * @param {string} orderValue\n   */\n  setOrder(orderColumnId, orderValue) {\n    if (\n      this.data.orderColumnId !== orderColumnId ||\n      this.data.orderValue !== orderValue\n    ) {\n      this.data.orderColumnId = orderColumnId;\n      this.data.orderValue = orderValue;\n      this.fetchData();\n    }\n  },\n\n  /**\n   * @param {string|null} filterColumnId - pass null to clear filter column\n   * @param {string} filterValue - pass null to clear filter column\n   */\n  setFilter(filterColumnId, filterValue) {\n    if (\n      this.data.filterColumnId !== filterColumnId ||\n      this.data.filterValue !== filterValue\n    ) {\n      this.data.filterColumnId = filterColumnId;\n      this.data.filterValue = filterValue;\n      this.fetchData(true);\n    }\n  },\n\n  resetOrderAndFilter() {\n    this.setDefaultColumns();\n    this.fetchData(true);\n  },\n\n  hasAllDefaultValues() {\n    return (\n      this.data.orderColumnId === this.DEFAULT_ORDER_COLUMN.id &&\n      this.data.orderValue === this.DEFAULT_ORDER_COLUMN.defaultValue &&\n      this.data.filterColumnId === null &&\n      this.data.filterValue === null\n    );\n  },\n\n  findAsset(uid) {\n    return this.data.assets.find((asset) => {return asset.uid === uid;});\n  }\n});\n\nexport default publicCollectionsStore;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport DocumentTitle from 'react-document-title';\nimport bem from 'js/bem';\nimport publicCollectionsStore from './publicCollectionsStore';\nimport AssetsTable from './assetsTable';\nimport {\n  ROOT_BREADCRUMBS,\n  ASSETS_TABLE_CONTEXTS,\n} from 'js/components/library/libraryConstants';\n\nclass PublicCollectionsRoute extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.getFreshState();\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  getFreshState() {\n    return {\n      isLoading: publicCollectionsStore.data.isFetchingData,\n      assets: publicCollectionsStore.data.assets,\n      metadata: publicCollectionsStore.data.metadata,\n      totalAssets: publicCollectionsStore.data.totalSearchAssets,\n      orderColumnId: publicCollectionsStore.data.orderColumnId,\n      orderValue: publicCollectionsStore.data.orderValue,\n      filterColumnId: publicCollectionsStore.data.filterColumnId,\n      filterValue: publicCollectionsStore.data.filterValue,\n      currentPage: publicCollectionsStore.data.currentPage,\n      totalPages: publicCollectionsStore.data.totalPages\n    };\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      publicCollectionsStore.listen(this.publicCollectionsStoreChanged)\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  publicCollectionsStoreChanged() {\n    this.setState(this.getFreshState());\n  }\n\n  onAssetsTableOrderChange(orderColumnId, orderValue) {\n    publicCollectionsStore.setOrder(orderColumnId, orderValue);\n  }\n\n  onAssetsTableFilterChange(filterColumnId, filterValue) {\n    publicCollectionsStore.setFilter(filterColumnId, filterValue);\n  }\n\n  onAssetsTableSwitchPage(pageNumber) {\n    publicCollectionsStore.setCurrentPage(pageNumber);\n  }\n\n  render() {\n    return (\n      <DocumentTitle title={`${t('Public Collections')} | KoboToolbox`}>\n        <div className='public-collections-wrapper'>\n          <bem.Breadcrumbs m='gray-wrapper'>\n            <bem.Breadcrumbs__crumb>{ROOT_BREADCRUMBS.PUBLIC_COLLECTIONS.label}</bem.Breadcrumbs__crumb>\n          </bem.Breadcrumbs>\n\n          <AssetsTable\n            context={ASSETS_TABLE_CONTEXTS.PUBLIC_COLLECTIONS}\n            isLoading={this.state.isLoading}\n            assets={this.state.assets}\n            totalAssets={this.state.totalAssets}\n            metadata={this.state.metadata}\n            orderColumnId={this.state.orderColumnId}\n            orderValue={this.state.orderValue}\n            onOrderChange={this.onAssetsTableOrderChange.bind(this)}\n            filterColumnId={this.state.filterColumnId}\n            filterValue={this.state.filterValue}\n            onFilterChange={this.onAssetsTableFilterChange.bind(this)}\n            currentPage={this.state.currentPage}\n            totalPages={this.state.totalPages}\n            onSwitchPage={this.onAssetsTableSwitchPage.bind(this)}\n          />\n        </div>\n      </DocumentTitle>\n    );\n  }\n}\n\nPublicCollectionsRoute.contextTypes = {\n  router: PropTypes.object\n};\n\nreactMixin(PublicCollectionsRoute.prototype, Reflux.ListenerMixin);\n\nexport default PublicCollectionsRoute;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport {stores} from 'js/stores';\nimport assetUtils from 'js/assetUtils';\nimport {ASSET_TYPES} from 'js/constants';\nimport {\n  notify,\n  formatTime,\n} from 'utils';\nimport './assetInfoBox.scss';\n\n/**\n * @prop asset\n */\nclass AssetInfoBox extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      areDetailsVisible: false,\n      ownerData: null,\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    if (!assetUtils.isSelfOwned(this.props.asset)) {\n      this.listenTo(actions.misc.getUser.completed, this.onGetUserCompleted);\n      this.listenTo(actions.misc.getUser.failed, this.onGetUserFailed);\n      actions.misc.getUser(this.props.asset.owner);\n    } else {\n      this.setState({ownerData: stores.session.currentAccount});\n    }\n  }\n\n  toggleDetails() {\n    this.setState({areDetailsVisible: !this.state.areDetailsVisible});\n  }\n\n  onGetUserCompleted(userData) {\n    this.setState({ownerData: userData});\n  }\n\n  onGetUserFailed() {\n    notify(t('Failed to get owner data.'), 'error');\n  }\n\n  render() {\n    if (!this.props.asset) {\n      return null;\n    }\n\n    return (\n      <bem.AssetInfoBox>\n        <bem.AssetInfoBox__column>\n          <bem.AssetInfoBox__cell>\n            <label>{t('Date Created')}</label>\n            {formatTime(this.props.asset.date_created)}\n          </bem.AssetInfoBox__cell>\n\n          {this.state.areDetailsVisible &&\n          <bem.AssetInfoBox__cell>\n            <label>{t('Last Modified')}</label>\n            {formatTime(this.props.asset.date_modified)}\n          </bem.AssetInfoBox__cell>\n          }\n\n          {this.state.areDetailsVisible &&\n          <bem.AssetInfoBox__cell>\n            <label>{t('Owner')}</label>\n            {assetUtils.getAssetOwnerDisplayName(this.props.asset.owner__username)}\n          </bem.AssetInfoBox__cell>\n          }\n\n          {this.state.areDetailsVisible &&\n          <bem.AssetInfoBox__cell>\n            <label>{t('Description')}</label>\n            {this.props.asset.settings.description || '-'}\n          </bem.AssetInfoBox__cell>\n          }\n\n          {this.state.areDetailsVisible &&\n          <bem.AssetInfoBox__cell>\n            <label>{t('Tags')}</label>\n            {this.props.asset.tag_string && this.props.asset.tag_string.split(',').join(', ') || '-'}\n          </bem.AssetInfoBox__cell>\n          }\n        </bem.AssetInfoBox__column>\n\n        <bem.AssetInfoBox__column>\n          <bem.AssetInfoBox__cell>\n            {this.props.asset.asset_type === ASSET_TYPES.collection.id &&\n              <React.Fragment>\n                <label>{t('Items')}</label>\n                {this.props.asset.children.count || 0}\n              </React.Fragment>\n            }\n            {this.props.asset.asset_type !== ASSET_TYPES.collection.id &&\n              <React.Fragment>\n                <label>{t('Questions')}</label>\n                {this.props.asset.summary.row_count || 0}\n              </React.Fragment>\n            }\n          </bem.AssetInfoBox__cell>\n\n          {this.state.areDetailsVisible &&\n          <bem.AssetInfoBox__cell>\n            <label>{t('Organization')}</label>\n            {assetUtils.getOrganizationDisplayString(this.props.asset)}\n          </bem.AssetInfoBox__cell>\n          }\n\n          {this.state.areDetailsVisible &&\n          <bem.AssetInfoBox__cell>\n            <label>{t('Sector')}</label>\n            {assetUtils.getSectorDisplayString(this.props.asset)}\n          </bem.AssetInfoBox__cell>\n          }\n\n          {this.state.areDetailsVisible &&\n          <bem.AssetInfoBox__cell>\n            <label>{t('Country')}</label>\n            {assetUtils.getCountryDisplayString(this.props.asset, true)}\n          </bem.AssetInfoBox__cell>\n          }\n\n          {this.state.areDetailsVisible &&\n          <bem.AssetInfoBox__cell>\n            <label>{t('Languages')}</label>\n            {assetUtils.getLanguagesDisplayString(this.props.asset)}\n          </bem.AssetInfoBox__cell>\n          }\n        </bem.AssetInfoBox__column>\n\n        <bem.AssetInfoBox__column m='toggle'>\n          <bem.AssetInfoBox__toggle onClick={this.toggleDetails}>\n            {this.state.areDetailsVisible ? <i className='k-icon k-icon-up'/> : <i className='k-icon k-icon-down'/>}\n            {this.state.areDetailsVisible ? t('Hide full details') : t('Show full details')}\n          </bem.AssetInfoBox__toggle>\n        </bem.AssetInfoBox__column>\n      </bem.AssetInfoBox>\n    );\n  }\n}\n\nreactMixin(AssetInfoBox.prototype, Reflux.ListenerMixin);\n\nexport default AssetInfoBox;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport assetUtils from 'js/assetUtils';\nimport {ASSET_TYPES} from 'js/constants';\nimport {\n  notify\n} from 'js/utils';\n\n/**\n * @prop asset\n */\nclass AssetPublicButton extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isPublicPending: false,\n      isAwaitingFreshPermissions: false\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    actions.permissions.setAssetPublic.completed.listen(this.onSetAssetPublicCompleted);\n    actions.permissions.setAssetPublic.failed.listen(this.onSetAssetPublicFailed);\n  }\n\n  componentWillReceiveProps() {\n    this.setState({isAwaitingFreshPermissions: false});\n  }\n\n  onSetAssetPublicCompleted(assetUid) {\n    if (this.props.asset.uid === assetUid) {\n      this.setState({\n        isPublicPending: false,\n        isAwaitingFreshPermissions: true,\n      });\n    }\n  }\n\n  onSetAssetPublicFailed(assetUid) {\n    if (this.props.asset.uid === assetUid) {\n      this.setState({isPublicPending: false});\n      notify(t('Failed to change asset public status.'), 'error');\n    }\n  }\n\n  makePublic() {\n    const publicReadyErrors = assetUtils.isAssetPublicReady(this.props.asset);\n\n    if (publicReadyErrors.length === 0) {\n      this.setState({isPublicPending: true});\n      actions.permissions.setAssetPublic(this.props.asset, true);\n    } else {\n      publicReadyErrors.forEach((err) => {notify(err, 'error');});\n    }\n  }\n\n  makePrivate() {\n    this.setState({isPublicPending: true});\n    actions.permissions.setAssetPublic(this.props.asset, false);\n  }\n\n  isSetPublicButtonDisabled() {\n    return this.state.isPublicPending || this.state.isAwaitingFreshPermissions;\n  }\n\n  render() {\n    if (!this.props.asset) {\n      return null;\n    }\n\n    const isPublicable = this.props.asset.asset_type === ASSET_TYPES.collection.id;\n    const isPublic = isPublicable && assetUtils.isAssetPublic(this.props.asset.permissions);\n    const isSelfOwned = assetUtils.isSelfOwned(this.props.asset);\n\n    if (!isPublicable || !isSelfOwned) {\n      return null;\n    }\n\n    return (\n      <React.Fragment>\n        {/* NOTE: this button is purposely available for not ready\n        collections as a means to teach users (via error notifications). */}\n        {!isPublic &&\n          <bem.AssetActionButtons__button\n            m='on'\n            onClick={this.makePublic}\n            disabled={this.isSetPublicButtonDisabled()}\n          >\n            <i className='k-icon k-icon-globe-alt'/>\n            {t('Make public')}\n          </bem.AssetActionButtons__button>\n        }\n        {isPublic &&\n          <bem.AssetActionButtons__button\n            m='off'\n            onClick={this.makePrivate}\n            disabled={this.isSetPublicButtonDisabled()}\n          >\n            <i className='k-icon k-icon-close'/>\n            {t('Make private')}\n          </bem.AssetActionButtons__button>\n        }\n      </React.Fragment>\n    );\n  }\n}\n\nexport default AssetPublicButton;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {\n  isSelfOwned,\n  getAssetDisplayName,\n} from 'js/assetUtils';\nimport {isAnyLibraryRoute} from 'js/router/routerUtils';\nimport myLibraryStore from './myLibraryStore';\nimport publicCollectionsStore from './publicCollectionsStore';\nimport {ROOT_BREADCRUMBS} from './libraryConstants';\nimport {\n  ACCESS_TYPES,\n  ASSET_TYPES,\n} from 'js/constants';\nimport './assetBreadcrumbs.scss';\n\n/**\n * @prop asset\n */\nclass AssetBreadcrumbs extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  getRootBreadcrumb() {\n    const parentAssetData = this.getParentAssetData();\n\n    if (\n      isAnyLibraryRoute() &&\n      isSelfOwned(this.props.asset)\n    ) {\n      // case for self owned asset\n      return ROOT_BREADCRUMBS.MY_LIBRARY;\n    } else if (\n      isAnyLibraryRoute() &&\n      this.props.asset &&\n      this.props.asset.asset_type === ASSET_TYPES.collection.id &&\n      this.props.asset.access_types !== null &&\n      this.props.asset.access_types.includes(ACCESS_TYPES.public) &&\n      !this.props.asset.access_types.includes(ACCESS_TYPES.subscribed) &&\n      !this.props.asset.access_types.includes(ACCESS_TYPES.shared)\n    ) {\n      // case for a collection that is public\n      return ROOT_BREADCRUMBS.PUBLIC_COLLECTIONS;\n    } else if (\n      isAnyLibraryRoute() &&\n      this.props.asset &&\n      this.props.asset.asset_type !== ASSET_TYPES.collection.id &&\n      parentAssetData &&\n      parentAssetData.access_types !== null &&\n      parentAssetData.access_types.includes(ACCESS_TYPES.public) &&\n      !parentAssetData.access_types.includes(ACCESS_TYPES.subscribed) &&\n      !parentAssetData.access_types.includes(ACCESS_TYPES.shared)\n    ) {\n      // case for an asset that has parent collection that is public\n      return ROOT_BREADCRUMBS.PUBLIC_COLLECTIONS;\n    } else if (isAnyLibraryRoute()) {\n      // all the other library assets\n      return ROOT_BREADCRUMBS.MY_LIBRARY;\n    } else {\n      return ROOT_BREADCRUMBS.PROJECTS;\n    }\n  }\n\n  getParentAssetData() {\n    let foundParent = null;\n    const parentUid = this.getParentUid();\n    if (parentUid) {\n      foundParent = myLibraryStore.findAsset(this.getParentUid());\n    }\n    if (parentUid && !foundParent) {\n      foundParent = publicCollectionsStore.findAsset(this.getParentUid());\n    }\n    return foundParent;\n  }\n\n  getParentUid() {\n    if (this.props.asset.parent) {\n      const parentArr = this.props.asset.parent.split('/');\n      const parentAssetUid = parentArr[parentArr.length - 2];\n      return parentAssetUid;\n    } else {\n      return null;\n    }\n  }\n\n  getParentName() {\n    const parentAssetData = this.getParentAssetData();\n\n    if (parentAssetData) {\n      return getAssetDisplayName(parentAssetData).final;\n    } else {\n      return t('Parent Collection');\n    }\n  }\n\n  getParentHref() {\n    const parentUid = this.getParentUid();\n    if (parentUid) {\n      return `#/library/asset/${this.getParentUid()}`;\n    } else {\n      return '#';\n    }\n  }\n\n  render() {\n    if (!this.props.asset) {\n      return null;\n    }\n\n    const assetName = getAssetDisplayName(this.props.asset);\n    const rootBreadcrumb = this.getRootBreadcrumb();\n\n    return (\n      <bem.Breadcrumbs>\n        <bem.Breadcrumbs__crumb href={rootBreadcrumb.href}>\n          {rootBreadcrumb.label}\n        </bem.Breadcrumbs__crumb>\n        <i className='k-icon k-icon-next'/>\n\n        {this.props.asset.parent !== null &&\n          <React.Fragment>\n          <bem.Breadcrumbs__crumb href={this.getParentHref()}>\n            {this.getParentName()}\n          </bem.Breadcrumbs__crumb>\n          <i className='k-icon k-icon-next'/>\n          </React.Fragment>\n        }\n\n        <bem.Breadcrumbs__crumb>\n          {assetName.final}\n        </bem.Breadcrumbs__crumb>\n      </bem.Breadcrumbs>\n    );\n  }\n}\n\nexport default AssetBreadcrumbs;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {\n  getFlatQuestionsList,\n  renderQuestionTypeIcon,\n} from 'js/assetUtils';\nimport {QUESTION_TYPES} from 'js/constants';\n\nconst DISPLAY_LIMIT = 8;\n\n/**\n * AKA \"Quick Look\" component\n */\n\nclass AssetContentSummary extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isExpanded: false,\n    };\n    autoBind(this);\n  }\n\n  renderQuestion(question, itemIndex) {\n    const modifiers = ['columns', 'padding-small'];\n    if (itemIndex !== 0) {\n      modifiers.push('bordertop');\n    }\n    return (\n      <bem.FormView__cell m={modifiers} key={itemIndex}>\n        <bem.FormView__cell m='column-icon'>\n          {renderQuestionTypeIcon(question.type)}\n        </bem.FormView__cell>\n\n        <bem.FormView__cell m={['column-1', 'asset-content-summary-name']}>\n          {question.parents.length > 0 &&\n            <small>{question.parents.join(' / ') + ' /'}</small>\n          }\n\n          <div>\n            {question.isRequired && <strong>*&nbsp;</strong>}\n            {question.label}\n          </div>\n        </bem.FormView__cell>\n      </bem.FormView__cell>\n    );\n  }\n\n  filterRealQuestions(questions) {\n    return questions.filter((question) => {\n      return QUESTION_TYPES[question.type];\n    });\n  }\n\n  toggleExpanded() {\n    this.setState({isExpanded: !this.state.isExpanded});\n  }\n\n  render() {\n    if (!this.props.asset) {\n      return null;\n    }\n\n    // TODO add a language selection to display localized questions labels\n    let items = getFlatQuestionsList(this.props.asset.content.survey);\n    const isExpandable = items.length > DISPLAY_LIMIT;\n\n    if (isExpandable && !this.state.isExpanded) {\n      items = items.slice(0, DISPLAY_LIMIT);\n    }\n\n    if (items.length === 0) {\n      return (\n        <bem.FormView__cell m={['box', 'padding-small']}>\n          {t('This ##asset_type## is empty.').replace('##asset_type##', this.props.asset.asset_type)}\n        </bem.FormView__cell>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <bem.FormView__cell m={['box', 'bordered']}>\n          {items.map(this.renderQuestion)}\n        </bem.FormView__cell>\n\n        {isExpandable &&\n          <bem.FormView__cell m={['toggle-details']}>\n            <button onClick={this.toggleExpanded}>\n              {this.state.isExpanded ? <i className='k-icon k-icon-up'/> : <i className='k-icon k-icon-down'/>}\n              {this.state.isExpanded ? t('Show less') : t('Show more')}\n            </button>\n          </bem.FormView__cell>\n        }\n      </React.Fragment>\n    );\n  }\n}\n\nexport default AssetContentSummary;\n","import Reflux from 'reflux';\nimport {hashHistory} from 'react-router';\nimport assetUtils from 'js/assetUtils';\nimport {\n  getCurrentPath,\n  getRouteAssetUid,\n  isAnyLibraryItemRoute,\n} from 'js/router/routerUtils';\nimport {actions} from 'js/actions';\nimport {\n  ORDER_DIRECTIONS,\n  ASSETS_TABLE_COLUMNS,\n} from './libraryConstants';\nimport {ROUTES} from 'js/router/routerConstants';\n\n// A store that listens for actions on assets from a single collection\n// Extends most functionality from myLibraryStore but overwrites some actions:\n// - searchMyLibraryAssets.* -> searchMyCollectionAssets.*\n// - searchMyLibraryMetadata.completed -> searchMyCollectionMetadata.completed\nconst singleCollectionStore = Reflux.createStore({\n  /**\n   * A method for aborting current XHR fetch request.\n   * It doesn't need to be defined upfront, but I'm adding it here for clarity.\n   */\n  abortFetchData: undefined,\n  previousPath: getCurrentPath(),\n  PAGE_SIZE: 100,\n  DEFAULT_ORDER_COLUMN: ASSETS_TABLE_COLUMNS['date-modified'],\n\n  isInitialised: false,\n\n  data: {\n    isFetchingData: false,\n    currentPage: 0,\n    totalPages: null,\n    totalUserAssets: null,\n    totalSearchAssets: null,\n    assets: [],\n    metadata: {},\n  },\n\n  init() {\n    this.setDefaultColumns();\n\n    hashHistory.listen(this.onRouteChange.bind(this));\n    actions.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted);\n    actions.library.subscribeToCollection.completed.listen(this.fetchData.bind(this, true));\n    actions.library.unsubscribeFromCollection.completed.listen(this.fetchData.bind(this, true));\n    actions.resources.loadAsset.completed.listen(this.onAssetChanged);\n    actions.resources.updateAsset.completed.listen(this.onAssetChanged);\n    actions.resources.cloneAsset.completed.listen(this.onAssetCreated);\n    actions.resources.createResource.completed.listen(this.onAssetCreated);\n    actions.resources.deleteAsset.completed.listen(this.onDeleteAssetCompleted);\n    // Actions unique to a single collection store (overwriting myLibraryStore)\n    actions.library.searchMyCollectionAssets.started.listen(this.onSearchStarted);\n    actions.library.searchMyCollectionAssets.completed.listen(this.onSearchCompleted);\n    actions.library.searchMyCollectionAssets.failed.listen(this.onSearchFailed);\n    actions.library.searchMyCollectionMetadata.completed.listen(this.onSearchMetadataCompleted);\n\n    // startup store after config is ready\n    actions.permissions.getConfig.completed.listen(this.startupStore);\n  },\n\n  /**\n   * Only makes a call to BE when loaded app on a library route\n   * otherwise wait until route changes to a library (see `onRouteChange`)\n   */\n  startupStore() {\n    if (!this.isInitialised && isAnyLibraryItemRoute() && !this.data.isFetchingData) {\n      this.fetchData(true);\n    }\n  },\n\n  setDefaultColumns() {\n    this.data.orderColumnId = this.DEFAULT_ORDER_COLUMN.id;\n    this.data.orderValue = this.DEFAULT_ORDER_COLUMN.defaultValue;\n    this.data.filterColumnId = null;\n    this.data.filterValue = null;\n  },\n\n  // methods for handling search and data fetch\n\n  /**\n   * @return {object} search params shared by all searches\n   */\n  getSearchParams() {\n    const params = {\n      pageSize: this.PAGE_SIZE,\n      page: this.data.currentPage,\n      uid: getRouteAssetUid(),\n    };\n\n    if (this.data.filterColumnId !== null) {\n      const filterColumn = ASSETS_TABLE_COLUMNS[this.data.filterColumnId];\n      params.filterProperty = filterColumn.filterBy;\n      params.filterValue = this.data.filterValue;\n    }\n\n    return params;\n  },\n\n  fetchMetadata() {\n    actions.library.searchMyCollectionMetadata(this.getSearchParams());\n  },\n\n  /**\n   * @param {boolean} needsMetadata\n   */\n  fetchData(needsMetadata = false) {\n    // Avoid triggering search if not on the collection route (e.g. subscribed\n    // to a collection from Public Collections list) as it will cause 500 error\n    // caused by getRouteAssetUid being `undefined` (rightfuly so)\n    if (!isAnyLibraryItemRoute()) {\n      return;\n    }\n\n    if (this.abortFetchData) {\n      this.abortFetchData();\n    }\n\n    const params = this.getSearchParams();\n    // Surrounds `filterValue` with double quotes to avoid filters that have\n    // spaces which would split the query in two, thus breaking the filter\n    if (params.filterProperty !== undefined) {\n      params.filterValue = JSON.stringify(params.filterValue); // Adds quotes\n    }\n\n    params.metadata = needsMetadata;\n\n    const orderColumn = ASSETS_TABLE_COLUMNS[this.data.orderColumnId];\n    const direction = this.data.orderValue === ORDER_DIRECTIONS.ascending ? '' : '-';\n    params.ordering = `${direction}${orderColumn.orderBy}`;\n\n    actions.library.searchMyCollectionAssets(params);\n  },\n\n  onRouteChange(data) {\n    if (!this.isInitialised && isAnyLibraryItemRoute() && !this.data.isFetchingData) {\n      this.fetchData(true);\n    } else if (\n      (\n        // coming from the library\n        this.previousPath.split('/')[1] === 'library' ||\n        // public-collections is a special case that is kinda in library, but\n        // actually outside of it\n        this.previousPath.startsWith(ROUTES.PUBLIC_COLLECTIONS)\n      ) &&\n      isAnyLibraryItemRoute()\n    ) {\n      // refresh data when navigating into library from other place\n      this.setDefaultColumns();\n      this.fetchData(true);\n    }\n    this.previousPath = data.pathname;\n  },\n\n  onSearchStarted(abort) {\n    this.abortFetchData = abort;\n    this.data.isFetchingData = true;\n    this.trigger(this.data);\n  },\n\n  onSearchCompleted(response) {\n    delete this.abortFetchData;\n    this.data.totalPages = Math.ceil(response.count / this.PAGE_SIZE);\n    this.data.assets = response.results;\n    // if we didn't fetch metadata, we assume it didn't change so leave current one\n    if (response.metadata) {\n      this.data.metadata = response.metadata;\n    }\n    this.data.totalSearchAssets = response.count;\n    // update total count for the first time and the ones that will get a full count\n    if (this.data.totalUserAssets === null) {\n      this.data.totalUserAssets = this.data.totalSearchAssets;\n    }\n    this.data.isFetchingData = false;\n    this.isInitialised = true;\n    this.trigger(this.data);\n  },\n\n  onSearchFailed() {\n    delete this.abortFetchData;\n    this.data.isFetchingData = false;\n    this.trigger(this.data);\n  },\n\n  onSearchMetadataCompleted(response) {\n    this.data.metadata = response;\n    this.trigger(this.data);\n  },\n\n  // methods for handling actions that update assets\n\n  onMoveToCollectionCompleted(asset) {\n    if (assetUtils.isLibraryAsset(asset.asset_type)) {\n      // update total root assets after moving asset into/out of collection\n      if (asset.parent === null) {\n        this.data.totalUserAssets++;\n      } else {\n        this.data.totalUserAssets--;\n      }\n      this.fetchData(true);\n    }\n  },\n\n  onAssetChanged(asset) {\n    if (\n      assetUtils.isLibraryAsset(asset.asset_type) &&\n      this.data.assets.length !== 0\n    ) {\n      let wasUpdated = false;\n      for (let i = 0; i < this.data.assets.length; i++) {\n        const loopAsset = this.data.assets[i];\n        if (\n          loopAsset.uid === asset.uid &&\n          (\n            // if the changed asset didn't change (e.g. was just loaded)\n            // let's not cause it to fetchMetadata\n            loopAsset.date_modified !== asset.date_modified ||\n            loopAsset.version_id !== asset.version_id\n          )\n        ) {\n          this.data.assets[i] = asset;\n          wasUpdated = true;\n          break;\n        }\n      }\n      if (wasUpdated) {\n        this.trigger(this.data);\n        this.fetchMetadata();\n      }\n    }\n  },\n\n  onAssetCreated(asset) {\n    if (\n      assetUtils.isLibraryAsset(asset.asset_type) &&\n      asset.parent === null\n    ) {\n      this.data.totalUserAssets++;\n      this.fetchData(true);\n    }\n  },\n\n  onDeleteAssetCompleted({uid, assetType}) {\n    if (assetUtils.isLibraryAsset(assetType)) {\n      const found = this.findAsset(uid);\n      if (found) {\n        this.data.totalUserAssets--;\n        this.fetchData(true);\n      }\n      // if not found it is possible it is on other page of results, but it is\n      // not important enough to do a data fetch\n    }\n  },\n\n  // public methods\n\n  setCurrentPage(newCurrentPage) {\n    this.data.currentPage = newCurrentPage;\n    this.fetchData();\n  },\n\n  /**\n   * @param {string} orderColumnId\n   * @param {string} orderValue\n   */\n  setOrder(orderColumnId, orderValue) {\n    if (\n      this.data.orderColumnId !== orderColumnId ||\n      this.data.orderValue !== orderValue\n    ) {\n      this.data.orderColumnId = orderColumnId;\n      this.data.orderValue = orderValue;\n      this.fetchData();\n    }\n  },\n\n  /**\n   * @param {string|null} filterColumnId - pass null to clear filter column\n   * @param {string} filterValue - pass null to clear filter column\n   */\n  setFilter(filterColumnId, filterValue) {\n    if (\n      this.data.filterColumnId !== filterColumnId ||\n      this.data.filterValue !== filterValue\n    ) {\n      this.data.filterColumnId = filterColumnId;\n      this.data.filterValue = filterValue;\n      // When a filter is selected, the pages reflects the total number of\n      // filtered assets, so we have to reset page number to display them\n      // properly, otherwise we can be out of bounds.\n      this.data.currentPage = 0;\n      this.fetchData(true);\n    }\n  },\n\n  resetOrderAndFilter() {\n    this.setDefaultColumns();\n    this.fetchData(true);\n  },\n\n  hasAllDefaultValues() {\n    return (\n      this.data.orderColumnId === this.DEFAULT_ORDER_COLUMN.id &&\n      this.data.orderValue === this.DEFAULT_ORDER_COLUMN.defaultValue &&\n      this.data.filterColumnId === null &&\n      this.data.filterValue === null\n    );\n  },\n\n  getCurrentUserTotalAssets() {\n    return this.data.totalUserAssets;\n  },\n\n  findAsset(uid) {\n    return this.data.assets.find((asset) => {return asset.uid === uid;});\n  },\n});\n\nexport default singleCollectionStore;\n","import _ from 'underscore';\nimport React from 'react';\nimport autoBind from 'react-autobind';\nimport AssetsTable from './assetsTable';\nimport {ASSETS_TABLE_CONTEXTS} from './libraryConstants';\nimport singleCollectionStore from './singleCollectionStore';\n\n/**\n * A wrapper component over AssetsTable for usage on collection landing page.\n *\n * Operates identically to `myLibraryRoute` but utilizes `singleCollectionStore`\n * instead.\n *\n * @prop {object} asset\n */\nclass CollectionAssetsTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.getFreshState();\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  getFreshState() {\n    return {\n      isLoading: singleCollectionStore.data.isFetchingData,\n      assets: singleCollectionStore.data.assets,\n      metadata: singleCollectionStore.data.metadata,\n      totalAssets: singleCollectionStore.data.totalSearchAssets,\n      orderColumnId: singleCollectionStore.data.orderColumnId,\n      orderValue: singleCollectionStore.data.orderValue,\n      filterColumnId: singleCollectionStore.data.filterColumnId,\n      filterValue: singleCollectionStore.data.filterValue,\n      currentPage: singleCollectionStore.data.currentPage,\n      totalPages: singleCollectionStore.data.totalPages\n    };\n  }\n\n  // Listen for changes in store and update state to match\n  componentDidMount() {\n    this.unlisteners.push(\n      singleCollectionStore.listen(this.singleCollectionStoreChanged)\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  singleCollectionStoreChanged() {\n    this.setState(this.getFreshState());\n  }\n\n  onAssetsTableOrderChange(orderColumnId, orderValue) {\n    singleCollectionStore.setOrder(orderColumnId, orderValue);\n  }\n\n  onAssetsTableFilterChange(filterColumnId, filterValue) {\n    singleCollectionStore.setFilter(filterColumnId, filterValue);\n  }\n\n  onAssetsTableSwitchPage(pageNumber) {\n    singleCollectionStore.setCurrentPage(pageNumber);\n  }\n\n  render() {\n    return (\n      <AssetsTable\n        context={ASSETS_TABLE_CONTEXTS.COLLECTION_CONTENT}\n        isLoading={this.state.isLoading}\n        assets={this.state.assets}\n        totalAssets={this.state.totalAssets}\n        metadata={this.state.metadata}\n        orderColumnId={this.state.orderColumnId}\n        orderValue={this.state.orderValue}\n        onOrderChange={this.onAssetsTableOrderChange.bind(this)}\n        filterColumnId={this.state.filterColumnId}\n        filterValue={this.state.filterValue}\n        onFilterChange={this.onAssetsTableFilterChange.bind(this)}\n        currentPage={this.state.currentPage}\n        totalPages={this.state.totalPages}\n        onSwitchPage={this.onAssetsTableSwitchPage.bind(this)}\n      />\n    );\n  }\n}\n\nexport default CollectionAssetsTable;\n","import _ from 'underscore';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport autoBind from 'react-autobind';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport DocumentTitle from 'react-document-title';\nimport bem from 'js/bem';\nimport mixins from 'js/mixins';\nimport {actions} from 'js/actions';\nimport assetUtils from 'js/assetUtils';\nimport {ASSET_TYPES, ACCESS_TYPES} from 'js/constants';\nimport AssetActionButtons from './assetActionButtons';\nimport AssetInfoBox from './assetInfoBox';\nimport AssetPublicButton from './assetPublicButton';\nimport AssetBreadcrumbs from './assetBreadcrumbs';\nimport AssetContentSummary from './assetContentSummary';\nimport CollectionAssetsTable from './collectionAssetsTable';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\n\nclass AssetRoute extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {asset: false};\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      actions.library.moveToCollection.completed.listen(this.onMoveToCollectionCompleted),\n      actions.library.subscribeToCollection.completed.listen(this.onSubscribeToCollectionCompleted),\n      actions.library.unsubscribeFromCollection.completed.listen(this.onUnsubscribeFromCollectionCompleted),\n      actions.resources.loadAsset.completed.listen(this.onAssetChanged),\n      actions.resources.updateAsset.completed.listen(this.onAssetChanged),\n      actions.resources.cloneAsset.completed.listen(this.onAssetChanged),\n      actions.resources.createResource.completed.listen(this.onAssetChanged),\n    );\n    this.loadCurrentAsset();\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // trigger loading when switching assets\n    if (nextProps.params.uid !== this.props.params.uid) {\n      this.setState({asset: false});\n      this.loadCurrentAsset();\n    }\n  }\n\n  loadCurrentAsset() {\n    const uid = this.currentAssetID();\n    if (uid) {\n      actions.resources.loadAsset({id: uid});\n    }\n  }\n\n  onSubscribeToCollectionCompleted() {\n    this.onAssetAccessTypeChanged(true);\n  }\n\n  onUnsubscribeFromCollectionCompleted() {\n    this.onAssetAccessTypeChanged(false);\n  }\n\n  onAssetAccessTypeChanged(setSubscribed) {\n    let newAsset = this.state.asset;\n    if (setSubscribed) {\n      newAsset.access_types.push(ACCESS_TYPES.subscribed);\n    } else {\n      newAsset.access_types.splice(\n        newAsset.access_types.indexOf(ACCESS_TYPES.subscribed),\n        1\n      );\n    }\n    this.setState({asset: newAsset});\n  }\n\n  onMoveToCollectionCompleted(asset) {\n    if (asset.parent === null) {\n      this.onAssetRemoved(asset.uid);\n    } else {\n      this.onAssetChanged(asset);\n    }\n  }\n\n  onAssetChanged(asset) {\n    if (asset.uid === this.currentAssetID()) {\n      this.setState({asset: asset});\n    }\n  }\n\n  render() {\n    if (this.state.asset === false) {\n      return (<LoadingSpinner/>);\n    }\n\n    const assetName = assetUtils.getAssetDisplayName(this.state.asset);\n    const isUserSubscribed = this.state.asset.access_types && this.state.asset.access_types.includes(ACCESS_TYPES.subscribed);\n\n    return (\n      <DocumentTitle title={`${assetName.final} | KoboToolbox`}>\n        <bem.FormView m='library-asset'>\n          <bem.FormView__row>\n            <bem.FormView__cell m={['columns', 'columns-right', 'first']}>\n              {isUserSubscribed &&\n                <bem.FormView__cell m='subscribed-badge'>\n                  <i className='k-icon k-icon-folder-subscribed' />\n                  {t('Subscribed')}\n                </bem.FormView__cell>\n              }\n\n              <AssetPublicButton asset={this.state.asset}/>\n\n              <AssetActionButtons asset={this.state.asset}/>\n            </bem.FormView__cell>\n\n            <bem.FormView__cell m='first'>\n              <AssetBreadcrumbs asset={this.state.asset}/>\n            </bem.FormView__cell>\n\n            <AssetInfoBox asset={this.state.asset}/>\n          </bem.FormView__row>\n\n          {this.state.asset.asset_type !== ASSET_TYPES.collection.id &&\n            <bem.FormView__row>\n              <bem.FormView__cell m={['columns', 'first']}>\n                <bem.FormView__cell m='label'>\n                  {t('Quick look')}\n                </bem.FormView__cell>\n              </bem.FormView__cell>\n\n              <AssetContentSummary asset={this.state.asset}/>\n            </bem.FormView__row>\n          }\n\n          {this.state.asset.asset_type === ASSET_TYPES.collection.id &&\n            <bem.FormView__row>\n              <bem.FormView__cell m={['box', 'bordered', 'assets-table-wrapper']}>\n                <CollectionAssetsTable asset={this.state.asset}/>\n              </bem.FormView__cell>\n            </bem.FormView__row>\n          }\n        </bem.FormView>\n      </DocumentTitle>\n    );\n  }\n}\n\nreactMixin(AssetRoute.prototype, mixins.contextRouter);\nreactMixin(AssetRoute.prototype, Reflux.ListenerMixin);\n\nAssetRoute.contextTypes = {\n  router: PropTypes.object\n};\n\nexport default AssetRoute;\n","export const REPORT_STYLES = Object.freeze({\n  vertical: {\n    value: 'vertical',\n    label: t('Vertical'),\n    chartJsType: 'bar',\n  },\n  donut: {\n    value: 'donut',\n    label: t('Donut'),\n    chartJsType: 'pie',\n  },\n  area: {\n    value: 'area',\n    label: t('Area'),\n    chartJsType: 'line',\n  },\n  horizontal: {\n    value: 'horizontal',\n    label: t('Horizontal'),\n    chartJsType: 'horizontalBar',\n  },\n  pie: {\n    value: 'pie',\n    label: t('Pie'),\n    chartJsType: 'pie',\n  },\n  line: {\n    value: 'line',\n    label: t('Line'),\n    chartJsType: 'line',\n  },\n});\n\nexport const REPORT_COLOR_SETS = [\n  {\n    label: 'set1',\n    colors: [\n      'rgba(52, 106, 200, 0.8)',\n      'rgba(252, 74, 124, 0.8)',\n      'rgba(250, 213, 99, 0.8)',\n      'rgba(113, 230, 33, 0.8)',\n      'rgba(78, 203, 255, 0.8)',\n      'rgba(253, 190, 76, 0.8)',\n      'rgba(77, 124, 244, 0.8)',\n      'rgba(33, 231, 184, 0.8)',\n    ],\n  },\n  {\n    label: 'set2',\n    colors: [\n      'rgba(40, 106, 163, 0.8)',\n      'rgba(69, 137, 197, 0.8)',\n      'rgba(0, 123, 234, 0.8)',\n      'rgba(0, 134, 255, 0.8)',\n      'rgba(50, 159, 255, 0.8)',\n      'rgba(100, 182, 255, 0.8)',\n      'rgba(141, 200, 255, 0.8)',\n      'rgba(192, 224, 255, 0.8)',\n    ],\n  },\n  {\n    label: 'set3',\n    colors: [\n      'rgba(39, 69, 255, 0.8)',\n      'rgba(34, 122, 233, 0.8)',\n      'rgba(46, 145, 243, 0.8)',\n      'rgba(92, 173, 255, 0.8)',\n      'rgba(148, 200, 255, 0.8)',\n      'rgba(31, 174, 228, 0.8)',\n      'rgba(25, 214, 209, 0.8)',\n      'rgba(28, 234, 225, 0.8)',\n    ],\n  },\n  {\n    label: 'set4',\n    colors: [\n      'rgba(253, 35, 4, 0.8)',\n      'rgba(253, 104, 97, 0.8)',\n      'rgba(232, 65, 14, 0.8)',\n      'rgba(253, 146, 72, 0.8)',\n      'rgba(233, 139, 3, 0.8)',\n      'rgba(253, 215, 114, 0.8)',\n      'rgba(254, 227, 159, 0.8)',\n      'rgba(253, 146, 72, 0.8)',\n    ],\n  },\n  {\n    label: 'set5',\n    colors: [\n      'rgba(63, 63, 63, 1)',\n      'rgba(90, 90, 90, 1)',\n      'rgba(107, 107, 107, 1)',\n      'rgba(128, 128, 128, 1)',\n      'rgba(151, 151, 151, 1)',\n      'rgba(169, 169, 169, 1)',\n      'rgba(196, 196, 196, 1)',\n      'rgba(178, 179, 190, 1)',\n    ],\n  },\n];\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport Checkbox from 'js/components/common/checkbox';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\n\nexport default class CustomReportForm extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n\n    this.state = {\n      customReport: props.customReport,\n    };\n  }\n\n  customReportNameChange(evt) {\n    var report = this.state.customReport;\n    report.name = evt.target.value;\n    this.setState({customReport: report});\n  }\n\n  customReportQuestionChange(name, isChecked) {\n    var r = this.state.customReport;\n\n    if (isChecked) {\n      r.questions.push(name);\n    } else {\n      r.questions.splice(r.questions.indexOf(name), 1);\n    }\n    this.setState({customReport: r});\n  }\n\n  saveCustomReport() {\n    let report_custom = this.props.asset.report_custom;\n    const crid = this.state.customReport.crid;\n\n    report_custom[crid] = this.state.customReport;\n    actions.reports.setCustom(this.props.asset.uid, report_custom);\n  }\n\n  deleteCustomReport() {\n    let report_custom = this.props.asset.report_custom;\n    const crid = this.state.customReport.crid;\n\n    delete report_custom[crid];\n    actions.reports.setCustom(this.props.asset.uid, report_custom);\n  }\n\n  render() {\n    const crid = this.state.customReport.crid;\n    var questionList = this.props.reportData.map(function (q, i) {\n      return (\n        <div className='graph-settings__question' key={i}>\n          <Checkbox\n            checked={this.state.customReport.questions.includes(q.name)}\n            onChange={this.customReportQuestionChange.bind(this, q.name)}\n            label={q.row.label ? q.row.label[0] : t('Unlabeled')}\n          />\n        </div>\n      );\n    }, this);\n\n    return (\n      <div className='custom-report-form'>\n        <div className='custom-report--title'>\n          <input\n            type='text'\n            name='title'\n            value={this.state.customReport.name}\n            placeholder={t('Untitled Report')}\n            onChange={this.customReportNameChange}\n          />\n        </div>\n\n        <strong>{t('Include the following questions:')}</strong>\n\n        <div className='custom-report--questions'>{questionList}</div>\n\n        <bem.Modal__footer>\n          {this.props.asset.report_custom[crid] && (\n            <bem.KoboButton m='red' onClick={this.deleteCustomReport}>\n              {t('Delete')}\n            </bem.KoboButton>\n          )}\n          <bem.KoboButton m='blue' onClick={this.saveCustomReport}>\n            {t('Save')}\n          </bem.KoboButton>\n        </bem.Modal__footer>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {REPORT_STYLES} from './reportsConstants';\n\n/**\n * @prop {function} onChange\n * @prop {object} defaultStyle\n */\nexport default class ChartTypePicker extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n  }\n\n  defaultReportStyleChange(evt) {\n    this.props.onChange(\n      {default: true},\n      {report_type: evt.currentTarget.value || 'bar'}\n    );\n  }\n\n  render() {\n    let reportStylesOrdered = [\n      REPORT_STYLES.vertical,\n      REPORT_STYLES.donut,\n      REPORT_STYLES.area,\n      REPORT_STYLES.horizontal,\n      REPORT_STYLES.pie,\n      REPORT_STYLES.line,\n    ];\n\n    var radioButtons = reportStylesOrdered.map(function (style, i) {\n      return (\n        <bem.GraphSettings__radio m={style.value} key={i}>\n          <input\n            type='radio'\n            name='chart_type'\n            value={style.value}\n            checked={this.props.defaultStyle.report_type === style.value}\n            onChange={this.defaultReportStyleChange}\n            id={'type-' + style.value}\n          />\n          <label htmlFor={'type-' + style.value}>{style.label}</label>\n        </bem.GraphSettings__radio>\n      );\n    }, this);\n\n    return (\n      <bem.GraphSettings__charttype>\n        {radioButtons}\n      </bem.GraphSettings__charttype>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {REPORT_COLOR_SETS} from './reportsConstants';\n\n/**\n * @prop {function} onChange\n * @prop {object} defaultStyle\n */\nexport default class ChartColorsPicker extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n  }\n\n  defaultReportColorsChange(evt) {\n    let newColors = REPORT_COLOR_SETS[0].colors;\n    if (\n      REPORT_COLOR_SETS[evt.currentTarget.value] &&\n      REPORT_COLOR_SETS[evt.currentTarget.value].colors\n    ) {\n      newColors = REPORT_COLOR_SETS[evt.currentTarget.value].colors;\n    }\n\n    this.props.onChange({default: true}, {report_colors: newColors});\n  }\n\n  defaultValue(set, index) {\n    if (this.props.defaultStyle.report_colors === undefined && index === 0) {\n      return true;\n    }\n\n    return (\n      JSON.stringify(this.props.defaultStyle.report_colors) ===\n      JSON.stringify(set.colors)\n    );\n  }\n\n  render() {\n    var radioButtons = REPORT_COLOR_SETS.map(function (set, index) {\n      return (\n        <bem.GraphSettings__radio key={index}>\n          <input\n            type='radio'\n            name='chart_colors'\n            value={index}\n            checked={this.defaultValue(set, index)}\n            onChange={this.defaultReportColorsChange}\n            id={'type-' + set.label}\n          />\n          <label htmlFor={'type-' + set.label}>\n            {REPORT_COLOR_SETS[index].colors.map(function (color, i) {\n              return <div style={{backgroundColor: color}} key={i} />;\n            }, this)}\n          </label>\n        </bem.GraphSettings__radio>\n      );\n    }, this);\n\n    return (\n      <bem.GraphSettings__colors>{radioButtons}</bem.GraphSettings__colors>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport Modal from 'js/components/common/modal';\nimport ChartTypePicker from './chartTypePicker';\nimport ChartColorsPicker from './chartColorsPicker';\n\nexport default class QuestionGraphSettings extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n\n    this.state = {\n      activeModalTab: 0,\n      rStyle: {\n        report_type: false,\n        report_colors: false,\n        width: false,\n      },\n    };\n  }\n\n  toggleTab(evt) {\n    var i = evt.target.getAttribute('data-index');\n    this.setState({activeModalTab: parseInt(i)});\n  }\n\n  componentDidMount() {\n    let _qn = this.props.question;\n    let specificSettings = null;\n\n    if (!this.props.parentState.currentCustomReport) {\n      specificSettings = this.props.parentState.reportStyles.specified;\n    } else {\n      specificSettings = this.props.parentState.currentCustomReport.specified;\n    }\n\n    if (\n      specificSettings &&\n      specificSettings[_qn] &&\n      Object.keys(specificSettings[_qn]).length\n    ) {\n      const rStyle = Object.assign({}, specificSettings[_qn]);\n      this.setState({rStyle: rStyle});\n    }\n  }\n\n  saveQS(reset) {\n    let assetUid = this.props.parentState.asset.uid;\n    let customReport = this.props.parentState.currentCustomReport;\n    let _qn = this.props.question;\n\n    if (!customReport) {\n      var sett_ = this.props.parentState.reportStyles;\n      sett_.specified[_qn] = reset ? {} : this.state.rStyle;\n      actions.reports.setStyle(assetUid, sett_);\n    } else {\n      let report_custom = this.props.parentState.asset.report_custom;\n      if (report_custom[customReport.crid].specified === undefined) {\n        report_custom[customReport.crid].specified = {};\n      }\n\n      if (reset) {\n        report_custom[customReport.crid].specified[_qn] = {};\n      } else {\n        report_custom[customReport.crid].specified[_qn] = this.state.rStyle;\n      }\n      actions.reports.setCustom(assetUid, report_custom);\n    }\n  }\n\n  questionStyleChange(params, value) {\n    var styles = this.state.rStyle;\n\n    if (value && value.report_type) {\n      styles.report_type = value.report_type;\n    }\n    if (value && value.report_colors) {\n      styles.report_colors = value.report_colors;\n    }\n    if (params && params.id === 'width') {\n      styles.width = params.value;\n    }\n\n    this.setState({rStyle: styles});\n  }\n\n  render() {\n    let reportStyle = this.state.rStyle;\n\n    var tabs = [t('Chart Type'), t('Colors')];\n    var modalTabs = tabs.map(function (tab, i) {\n      let tabClassNames = [\n        'mdl-button',\n        'mdl-button--tab',\n      ];\n      if (this.state.activeModalTab === i) {\n        tabClassNames.push('active');\n      }\n\n      return (\n        <button\n          className={tabClassNames.join(' ')}\n          onClick={this.toggleTab}\n          data-index={i}\n          key={i}\n        >\n          {tab}\n        </button>\n      );\n    }, this);\n\n    return (\n      <bem.GraphSettings>\n        <Modal.Tabs>{modalTabs}</Modal.Tabs>\n        <Modal.Body>\n          <div className='tabs-content'>\n            {this.state.activeModalTab === 0 && (\n              <div id='graph-type'>\n                <ChartTypePicker\n                  defaultStyle={reportStyle}\n                  onChange={this.questionStyleChange}\n                />\n              </div>\n            )}\n            {this.state.activeModalTab === 1 && (\n              <div id='graph-colors'>\n                <ChartColorsPicker\n                  defaultStyle={reportStyle}\n                  onChange={this.questionStyleChange}\n                />\n              </div>\n            )}\n          </div>\n        </Modal.Body>\n\n        <Modal.Footer>\n          {(reportStyle.report_type ||\n            reportStyle.report_colors ||\n            reportStyle.width) && (\n            <bem.Button\n              className='reset'\n              onClick={this.saveQS.bind(this, true)}\n            >\n              {t('Reset')}\n            </bem.Button>\n          )}\n          <bem.Button\n            className='primary'\n            onClick={this.saveQS.bind(this, false)}\n          >\n            {t('Save')}\n          </bem.Button>\n        </Modal.Footer>\n      </bem.GraphSettings>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class ReportTable extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  formatNumber(x) {\n    if (isNaN(x)) {\n      return x;\n    }\n    return x.toFixed(2);\n  }\n\n  render() {\n    let th = [''];\n    let rows = [];\n\n    if (this.props.type === 'numerical') {\n      th = [t('Mean'), t('Median'), t('Mode'), t('Standard deviation')];\n      if (this.props.rows) {\n        th.unshift('');\n      }\n      if (this.props.values) {\n        var v = this.props.values;\n      }\n      return (\n        <table>\n          <thead>\n            <tr>\n              {th.map((t, i) => {\n                return <th key={i}>{t}</th>;\n              })}\n            </tr>\n          </thead>\n          {this.props.values && (\n            <tbody>\n              <tr>\n                <td>{this.formatNumber(v.mean) || t('N/A')}</td>\n                <td>{this.formatNumber(v.median) || t('N/A')}</td>\n                <td>{this.formatNumber(v.mode) || t('N/A')}</td>\n                <td>{this.formatNumber(v.stdev) || t('N/A')}</td>\n              </tr>\n            </tbody>\n          )}\n          {this.props.rows && (\n            <tbody>\n              {this.props.rows.map((r) => {\n                return (\n                  <tr key={r[0]}>\n                    <td>{r[0]}</td>\n                    <td>{this.formatNumber(r[1].mean) || t('N/A')}</td>\n                    <td>{this.formatNumber(r[1].median) || t('N/A')}</td>\n                    <td>{this.formatNumber(r[1].mode) || t('N/A')}</td>\n                    <td>{this.formatNumber(r[1].stdev) || t('N/A')}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          )}\n        </table>\n      );\n    }\n    if (this.props.type === 'regular') {\n      th = [t('Value'), t('Frequency'), t('Percentage')];\n      rows = this.props.rows;\n      // prepare table data for disaggregated rows\n    } else if (this.props.rows.length > 0) {\n      let rowsB = this.props.rows;\n      if (this.props.responseLabels) {\n        th = th.concat(this.props.responseLabels);\n      } else if (rowsB[0] && rowsB[0][1] && rowsB[0][1].responses) {\n        th = th.concat(rowsB[0][1].responses);\n      }\n\n      rowsB.map((row) => {\n        var rowitem = row[2] ? [row[2]] : [row[0]];\n        rowitem = rowitem.concat(row[1].percentages);\n        rows.push(rowitem);\n      });\n    }\n\n    if (rows.length === 0) {\n      return false;\n    }\n\n    return (\n      <table>\n        <thead>\n          <tr>\n            {th.map((t, i) => {\n              return <th key={i}>{t}</th>;\n            })}\n          </tr>\n        </thead>\n        <tbody>\n          {rows.map((row) => {\n            return (\n              <tr key={row[0]}>\n                {row.map((r, i) => {\n                  return <td key={i}>{r}</td>;\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport ReactDOM from 'react-dom';\nimport _ from 'underscore';\nimport Chart from 'chart.js';\nimport bem from 'js/bem';\nimport {stores} from 'js/stores';\nimport {REPORT_STYLES, REPORT_COLOR_SETS} from './reportsConstants';\nimport ReportTable from './reportTable';\n\nfunction getPreparedTable(data) {\n  let reportTable = [];\n  if (data.percentages && data.responses && data.frequencies) {\n    reportTable = _.zip(\n      data.responseLabels || data.responses,\n      data.frequencies,\n      data.percentages,\n    );\n  }\n  if (data.mean) {\n    reportTable = false;\n  }\n  return reportTable;\n}\n\nexport default class ReportViewItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {reportTable: false};\n    this.itemChart = false;\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.setState({reportTable: getPreparedTable(this.props.data)});\n    if (this.props.data.show_graph) {\n      this.loadChart();\n    }\n  }\n\n  static getDerivedStateFromProps(props) {\n    return {reportTable: getPreparedTable(props.data)};\n  }\n\n  componentDidUpdate() {\n    // refreshes a chart right after render()\n    // TODO: ideally this shouldn't refresh a chart if it hasn't changed\n    if (this.props.data.show_graph) {\n      this.loadChart();\n    }\n  }\n\n  loadChart() {\n    var canvas = ReactDOM.findDOMNode(this.refs.canvas);\n    var opts = this.buildChartOptions();\n\n    if (this.itemChart) {\n      this.itemChart.destroy();\n      this.itemChart = new Chart(canvas, opts);\n    } else {\n      this.itemChart = new Chart(canvas, opts);\n    }\n  }\n\n  truncateLabel(label, length = 25) {\n    if (label.length > length) {\n      return label.substring(0, length - 3) + '…';\n    }\n    return label;\n  }\n\n  buildChartOptions() {\n    var data = this.props.data;\n    var chartType = this.props.style.report_type || 'bar';\n    let _this = this;\n\n    var maxPercentage = 100;\n    var barPercentage = 0.5;\n    var showLegend = false;\n\n    // TODO: set as default globally in a higher level (PM)\n    var colors = this.buildChartColors();\n\n    var baseColor = colors[0];\n    Chart.defaults.global.elements.rectangle.backgroundColor = baseColor;\n    Chart.defaults.global.elements.line.borderColor = baseColor;\n    Chart.defaults.global.elements.line.backgroundColor =\n      'rgba(255, 255, 255, 0.1)';\n    Chart.defaults.global.elements.point.backgroundColor = baseColor;\n    Chart.defaults.global.elements.point.radius = 4;\n    Chart.defaults.global.elements.arc.backgroundColor = baseColor;\n    Chart.defaults.global.maintainAspectRatio = false;\n\n    // if report styles are invalid we default to vertical\n    if (Object.keys(REPORT_STYLES).includes(chartType) !== true) {\n      chartType = REPORT_STYLES.vertical.value;\n    }\n\n    if (chartType === REPORT_STYLES.donut.value) {\n      chartType = REPORT_STYLES.donut.chartJsType;\n    }\n\n    if (chartType === REPORT_STYLES.area.value) {\n      chartType = REPORT_STYLES.area.chartJsType;\n    }\n\n    if (chartType === REPORT_STYLES.horizontal.value) {\n      chartType = REPORT_STYLES.horizontal.chartJsType;\n    }\n\n    if (\n      chartType === REPORT_STYLES.vertical.value ||\n      chartType === 'bar_chart'\n    ) {\n      chartType = REPORT_STYLES.vertical.chartJsType;\n    }\n\n    var datasets = [];\n\n    if (data.values != undefined) {\n      if (data.responseLabels) {\n        data.responseLabels.forEach(function (r, i) {\n          data.responseLabels[i] = _this.truncateLabel(r);\n        });\n      }\n      var allPercentages = [];\n      data.values.forEach(function (val, i) {\n        var item = {};\n        var choiceLabel = val[2] || val[0];\n        item.label = _this.truncateLabel(choiceLabel, 20);\n        let itemPerc = [];\n        // TODO: Make the backend behave consistently?\n        // https://github.com/kobotoolbox/kpi/issues/2562\n        if (Array.isArray(val[1].percentage)) {\n          itemPerc = val[1].percentage;\n        }\n        if (Array.isArray(val[1].percentages)) {\n          itemPerc = val[1].percentages;\n        }\n\n        item.data = itemPerc;\n        allPercentages = [...new Set([...allPercentages, ...itemPerc])];\n        item.backgroundColor = colors[i];\n        datasets.push(item);\n      });\n\n      maxPercentage = Math.max.apply(Math, allPercentages);\n      barPercentage = 0.9;\n      showLegend = true;\n    } else {\n      maxPercentage = Math.max.apply(Math, data.percentages);\n      datasets.push({data: data.percentages});\n      if (data.responseLabels) {\n        data.responseLabels.forEach(function (r, i) {\n          data.responseLabels[i] = _this.truncateLabel(r);\n        });\n      }\n      if (data.responses) {\n        data.responses.forEach(function (r, i) {\n          data.responses[i] = _this.truncateLabel(r);\n        });\n      }\n    }\n\n    maxPercentage =\n      maxPercentage < 85 ? (parseInt(maxPercentage / 10, 10) + 1) * 10 : 100;\n    var opts = {\n      type: chartType,\n      data: {\n        labels: data.responseLabels || data.responses,\n        datasets: datasets,\n      },\n      options: {\n        // events: [''],\n        legend: {\n          display: showLegend,\n        },\n        animation: {\n          duration: 500,\n        },\n        scales: {\n          xAxes: [\n            {\n              ticks: {\n                autoSkip: false,\n                beginAtZero: true,\n                max: maxPercentage,\n              },\n              barPercentage: barPercentage,\n              // gridLines: {\n              //   display: chartType == 'horizontalBar' ? true : false\n              // }\n            },\n          ],\n          yAxes: [\n            {\n              ticks: {\n                autoSkip: false,\n                beginAtZero: true,\n                max: maxPercentage,\n              },\n              barPercentage: barPercentage,\n              // gridLines: {\n              //   display: chartType == 'horizontalBar' ? false : true\n              // }\n            },\n          ],\n        },\n      },\n    };\n\n    if (chartType === 'pie') {\n      opts.options.legend.display = true;\n      opts.data.datasets[0].backgroundColor = colors;\n      opts.options.scales.xAxes = [];\n      opts.options.scales.yAxes = [];\n\n      if (this.props.style.report_type === REPORT_STYLES.donut.value) {\n        opts.options.cutoutPercentage = 50;\n      }\n    }\n\n    if (this.props.style.report_type === REPORT_STYLES.area.value) {\n      opts.data.datasets[0].backgroundColor = colors[0];\n    }\n\n    return opts;\n  }\n\n  buildChartColors() {\n    var colors = this.props.style.report_colors || REPORT_COLOR_SETS[0].colors;\n\n    var c1 = colors.slice(0).map((c) => {\n      c = c.replace('1)', '0.75)');\n      return c.replace('0.8', '0.5');\n    });\n    colors = colors.concat(c1);\n\n    var c2 = colors.slice(0).map((c) => {\n      c = c.replace('1)', '0.5)');\n      return c.replace('0.8', '0.25');\n    });\n    colors = colors.concat(c2);\n\n    return colors;\n  }\n\n  render() {\n    let p = this.props;\n    let d = p.data;\n    let r = p.row;\n    let _type = r.type;\n    let name = p.name;\n\n    if (!_type) {\n      console.error('No type given for row: ', p);\n      return (\n        <p className='error'>\n          {'Error displaying row: '}\n          <code>{p.kuid}</code>\n        </p>\n      );\n    }\n    if (_type.select_one || _type.select_multiple) {\n      _type = _.keys(_type)[0];\n    }\n    _type = JSON.stringify(_type);\n    return (\n      <div>\n        <bem.ReportView__itemHeading>\n          <h2>{p.label}</h2>\n          <bem.ReportView__headingMeta>\n            <span className='type'>{t('Type: ') + _type + t('. ')}</span>\n            <span className='respondents'>\n              {t('#1 out of #2 respondents answered this question. ')\n                .replace('#1', d.provided)\n                .replace('#2', d.total_count)}\n            </span>\n            <span>\n              {t('(# were without data.)').replace('#', d.not_provided)}\n            </span>\n          </bem.ReportView__headingMeta>\n          {d.show_graph && stores.session.isLoggedIn && (\n            <bem.Button\n              m='icon'\n              className='report-button__question-settings'\n              onClick={this.props.triggerQuestionSettings}\n              data-question={name}\n              data-tip={t('Override Graph Style')}\n            >\n              <i className='k-icon k-icon-more' data-question={name} />\n            </bem.Button>\n          )}\n        </bem.ReportView__itemHeading>\n        <bem.ReportView__itemContent>\n          {d.show_graph && (\n            <bem.ReportView__chart\n              style={{width: this.props.style.graphWidth + 'px'}}\n            >\n              <canvas ref='canvas' />\n            </bem.ReportView__chart>\n          )}\n          {this.state.reportTable && !d.values && (\n            <ReportTable rows={this.state.reportTable} type='regular' />\n          )}\n          {d.values &&\n            d.values[0] &&\n            d.values[0][1] &&\n            d.values[0][1].percentages && (\n              <ReportTable\n                rows={d.values}\n                responseLabels={d.responseLabels}\n                type='disaggregated'\n              />\n            )}\n          {d.values && d.values[0] && d.values[0][1] && d.values[0][1].mean && (\n            <ReportTable rows={d.values} type='numerical' />\n          )}\n          {d.mean && <ReportTable values={d} type='numerical' />}\n        </bem.ReportView__itemContent>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport _ from 'underscore';\nimport bem from 'js/bem';\nimport {QUESTION_TYPES} from 'js/constants';\nimport ReportViewItem from './reportViewItem';\n\nexport default class ReportContents extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    // to improve UI performance, don't refresh report while a modal window is visible\n    if (\n      nextProps.parentState.showReportGraphSettings ||\n      nextProps.parentState.showCustomReportModal ||\n      nextProps.parentState.currentQuestionGraph\n    ) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    var tnslIndex = 0;\n    let customReport = this.props.parentState.currentCustomReport;\n    let defaultRS = this.props.parentState.reportStyles;\n    let asset = this.props.parentState.asset;\n    let groupBy = this.props.parentState.groupBy;\n\n    if (customReport) {\n      if (customReport.reportStyle && customReport.reportStyle.translationIndex) {\n        tnslIndex = parseInt(customReport.reportStyle.translationIndex);\n      }\n    } else {\n      tnslIndex = defaultRS.default.translationIndex || 0;\n    }\n\n    // reset to first language if trnslt index cannot be found\n    if (asset.content.translations && !asset.content.translations[tnslIndex]) {\n      tnslIndex = 0;\n    }\n\n    var reportData = this.props.reportData;\n\n    for (var i = reportData.length - 1; i > -1; i--) {\n      let _qn = reportData[i].name;\n      let _type = reportData[i].row.type || null;\n      let _defSpec;\n\n      if (customReport) {\n        if (customReport.specified && customReport.specified[_qn]) {\n          _defSpec = customReport.specified[_qn];\n        }\n      } else {\n        _defSpec = defaultRS.specified[_qn];\n      }\n\n      if (_defSpec && Object.keys(_defSpec).length) {\n        reportData[i].style = _defSpec;\n      } else if (customReport && customReport.reportStyle) {\n        reportData[i].style = customReport.reportStyle;\n      } else {\n        reportData[i].style = defaultRS.default;\n      }\n\n      if (\n        asset.content.choices &&\n        (\n          _type === QUESTION_TYPES.select_one.id ||\n          _type === QUESTION_TYPES.select_multiple.id\n        )\n      ) {\n        let question = asset.content.survey.find((z) => {\n          return z.name === _qn || z.$autoname === _qn;\n        });\n        let resps = reportData[i].data.responses;\n        let choice;\n        if (resps) {\n          reportData[i].data.responseLabels = [];\n          for (var j = resps.length - 1; j >= 0; j--) {\n            choice = asset.content.choices.find((o) => {\n              return (\n                question &&\n                o.list_name === question.select_from_list_name &&\n                (o.name === resps[j] || o.$autoname === resps[j])\n              );\n            });\n            if (choice && choice.label && choice.label[tnslIndex]) {\n              reportData[i].data.responseLabels.unshift(choice.label[tnslIndex]);\n            } else {\n              reportData[i].data.responseLabels.unshift(resps[j]);\n            }\n          }\n        } else {\n          const vals = reportData[i].data.values;\n          if (vals && vals[0] && vals[0][1] && vals[0][1].responses) {\n            var respValues = vals[0][1].responses;\n            reportData[i].data.responseLabels = [];\n            let qGB = asset.content.survey.find((z) => {\n              return z.name === groupBy || z.$autoname === groupBy;\n            });\n            respValues.forEach(function(r, ind){\n              choice = asset.content.choices.find((o) => {\n                return (\n                  qGB &&\n                  o.list_name === qGB.select_from_list_name &&\n                  (o.name === r || o.$autoname === r)\n                );\n              });\n              if (choice?.label && choice.label[tnslIndex]) {\n                reportData[i].data.responseLabels[ind] = choice.label[tnslIndex];\n              } else {\n                reportData[i].data.responseLabels[ind] = r;\n              }\n            });\n\n            // TODO: use a better way to store translated labels per row\n            for (var vD = vals.length - 1; vD >= 0; vD--) {\n              choice = asset.content.choices.find((o) => {\n                return (\n                  question &&\n                  o.list_name === question.select_from_list_name &&\n                  (o.name === vals[vD][0] || o.$autoname === vals[vD][0])\n                );\n              });\n              if (choice && choice.label && choice.label[tnslIndex]) {\n                vals[vD][2] = choice.label[tnslIndex];\n              } else {\n                vals[vD][2] = vals[vD][0];\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return (\n      <div>\n        {\n          reportData.map((rowContent, i) => {\n            let label = t('Unlabeled');\n            if (_.isArray(rowContent.row.label)) {\n              label = rowContent.row.label[tnslIndex];\n            } else if (_.isString(rowContent.row.label)) {\n              label = rowContent.row.label;\n            }\n\n            if (!rowContent.data.provided) {\n              return false;\n            }\n\n            return (\n              <bem.ReportView__item key={i}>\n                <ReportViewItem\n                  {...rowContent}\n                  label={label}\n                  triggerQuestionSettings={this.props.triggerQuestionSettings}\n                />\n              </bem.ReportView__item>\n            );\n          })\n        }\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport Radio from 'js/components/common/radio';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport Modal from 'js/components/common/modal';\nimport {assign} from 'utils';\nimport ChartTypePicker from './chartTypePicker';\nimport ChartColorsPicker from './chartColorsPicker';\n\nexport default class ReportStyleSettings extends React.Component {\n  constructor(props) {\n    super(props);\n    autoBind(this);\n    this.state = {\n      activeModalTab: 0,\n      reportStyle: props.parentState.reportStyles.default,\n    };\n\n    if (\n      props.parentState.currentCustomReport &&\n      props.parentState.currentCustomReport.reportStyle\n    ) {\n      this.state.reportStyle =\n        props.parentState.currentCustomReport.reportStyle;\n    }\n  }\n\n  toggleTab(evt) {\n    var i = evt.target.getAttribute('data-index');\n    this.setState({\n      activeModalTab: parseInt(i),\n    });\n  }\n\n  reportStyleChange(params, value) {\n    let styles = this.state.reportStyle;\n    assign(styles, value);\n    this.setState({reportStyle: styles});\n  }\n\n  reportSizeChange(params) {\n    if (params.id === 'width') {\n      let styles = this.state.reportStyle;\n      styles.graphWidth = params.value;\n      this.setState({reportStyle: styles});\n    }\n  }\n\n  translationIndexChange(name, value) {\n    let styles = this.state.reportStyle;\n    styles.translationIndex = parseInt(value);\n    this.setState({reportStyle: styles});\n  }\n\n  onGroupByChange(name, value) {\n    let styles = this.state.reportStyle;\n    styles.groupDataBy = value;\n    this.setState({reportStyle: styles});\n  }\n\n  saveReportStyles() {\n    let currentCustomReport = this.props.parentState.currentCustomReport;\n    let assetUid = this.props.parentState.asset.uid;\n    if (currentCustomReport) {\n      let report_custom = this.props.parentState.asset.report_custom;\n      report_custom[\n        currentCustomReport.crid\n      ].reportStyle = this.state.reportStyle;\n      actions.reports.setCustom(assetUid, report_custom);\n    } else {\n      let sett_ = this.props.parentState.reportStyles;\n      assign(sett_.default, this.state.ReportStyle);\n      actions.reports.setStyle(assetUid, sett_);\n    }\n  }\n\n  render() {\n    let rows = this.props.parentState.rowsByIdentifier || {};\n    let translations = this.props.parentState.translations;\n    let reportStyle = this.state.reportStyle;\n\n    const groupByOptions = [];\n    groupByOptions.push({\n      value: '',\n      label: t('No grouping'),\n    });\n\n    for (let key in rows) {\n      if (\n        rows.hasOwnProperty(key) &&\n        rows[key].hasOwnProperty('type') &&\n        rows[key].type === 'select_one'\n      ) {\n        const row = rows[key];\n        const val = row.name || row.$autoname;\n        let label = row.label;\n        if (translations) {\n          label = row.label[reportStyle.translationIndex];\n        }\n        groupByOptions.push({\n          value: val,\n          label: label,\n        });\n      }\n    }\n\n    var tabs = [t('Chart Type'), t('Colors')];\n\n    if (groupByOptions.length > 1) {\n      tabs.push(t('Group By'));\n    }\n\n    const selectedTranslationOptions = [];\n    if (translations) {\n      tabs.push(t('Translation'));\n      this.props.parentState.asset.content.translations.map((row, i) => {\n        selectedTranslationOptions.push({\n          value: i,\n          label: row || t('Unnamed language'),\n        });\n      });\n    }\n\n    var modalTabs = tabs.map(function (tab, i) {\n      let tabClassNames = [\n        'mdl-button',\n        'mdl-button--tab',\n      ];\n      if (this.state.activeModalTab === i) {\n        tabClassNames.push('active');\n      }\n      return (\n        <button\n          className={tabClassNames.join(' ')}\n          onClick={this.toggleTab}\n          data-index={i}\n          key={i}\n        >\n          {tab}\n        </button>\n      );\n    }, this);\n\n    return (\n      <bem.GraphSettings>\n        <Modal.Tabs>{modalTabs}</Modal.Tabs>\n        <Modal.Body>\n          <div className='tabs-content'>\n            {tabs[this.state.activeModalTab] === t('Chart Type') && (\n              <div id='graph-type'>\n                <ChartTypePicker\n                  defaultStyle={reportStyle}\n                  onChange={this.reportStyleChange}\n                />\n              </div>\n            )}\n            {tabs[this.state.activeModalTab] === t('Colors') && (\n              <div id='graph-colors'>\n                <ChartColorsPicker\n                  defaultStyle={reportStyle}\n                  onChange={this.reportStyleChange}\n                />\n              </div>\n            )}\n            {tabs[this.state.activeModalTab] === t('Group By') &&\n              groupByOptions.length > 1 && (\n                <div className='graph-tab__groupby' id='graph-labels'>\n                  <Radio\n                    name='reports-groupby'\n                    options={groupByOptions}\n                    onChange={this.onGroupByChange}\n                    selected={reportStyle.groupDataBy}\n                  />\n                </div>\n              )}\n            {tabs[this.state.activeModalTab] === t('Translation') &&\n              selectedTranslationOptions.length > 1 && (\n                <div className='graph-tab__translation' id='graph-labels'>\n                  <Radio\n                    name='reports-selected-translation'\n                    options={selectedTranslationOptions}\n                    onChange={this.translationIndexChange}\n                    selected={reportStyle.translationIndex}\n                  />\n                </div>\n              )}\n          </div>\n          <Modal.Footer>\n            <bem.KoboButton m='blue' onClick={this.saveReportStyles}>\n              {t('Save')}\n            </bem.KoboButton>\n          </Modal.Footer>\n        </Modal.Body>\n      </bem.GraphSettings>\n    );\n  }\n}\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport {dataInterface} from 'js/dataInterface';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport {stores} from 'js/stores';\nimport PopoverMenu from 'js/popoverMenu';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport Modal from 'js/components/common/modal';\nimport mixins from 'js/mixins';\nimport DocumentTitle from 'react-document-title';\nimport {txtid} from '../../../xlform/src/model.utils';\nimport alertify from 'alertifyjs';\nimport {launchPrinting} from 'utils';\nimport {REPORT_STYLES} from './reportsConstants';\nimport CustomReportForm from './customReportForm';\nimport QuestionGraphSettings from './questionGraphSettings';\nimport ReportContents from './reportContents';\nimport ReportStyleSettings from './reportStyleSettings';\nimport './reports.scss';\n\nexport default class Reports extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      graphWidth: '700',\n      graphHeight: '250',\n      translations: false,\n      activeModalTab: 0,\n      error: false,\n      isFullscreen: false,\n      reportLimit: 200,\n      customReports: false,\n      showReportGraphSettings: false,\n      showCustomReportModal: false,\n      currentCustomReport: false,\n      currentQuestionGraph: false,\n      groupBy: '',\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.loadReportData();\n    this.listenTo(actions.reports.setStyle, this.reportStyleListener);\n    this.listenTo(actions.reports.setCustom, this.reportCustomListener);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.currentCustomReport !== prevState.currentCustomReport) {\n      this.refreshReportData();\n    }\n    if (this.state.groupBy !== prevState.groupBy) {\n      this.refreshReportData();\n    }\n  }\n\n  loadReportData() {\n    const uid = this.props.params.assetid || this.props.params.uid;\n\n    stores.allAssets.whenLoaded(uid, (asset) => {\n      let rowsByKuid = {};\n      let rowsByIdentifier = {};\n      let groupBy = '';\n      let reportStyles = asset.report_styles;\n      let reportCustom = asset.report_custom;\n\n      if (\n        this.state.currentCustomReport &&\n        this.state.currentCustomReport.reportStyle &&\n        this.state.currentCustomReport.reportStyle.groupDataBy\n      ) {\n        groupBy = this.state.currentCustomReport.reportStyle.groupDataBy;\n      } else if (reportStyles.default.groupDataBy !== undefined) {\n        groupBy = reportStyles.default.groupDataBy;\n      }\n\n      // TODO: improve the defaults below\n      if (reportStyles.default.report_type === undefined) {\n        reportStyles.default.report_type = REPORT_STYLES.vertical.value;\n      }\n      if (reportStyles.default.translationIndex === undefined) {\n        reportStyles.default.translationIndex = 0;\n      }\n      if (reportStyles.default.groupDataBy === undefined) {\n        reportStyles.default.groupDataBy = '';\n      }\n\n      if (asset.content.survey != undefined) {\n        asset.content.survey.forEach(function (r) {\n          if (r.$kuid) {\n            rowsByKuid[r.$kuid] = r;\n          }\n\n          let $identifier = r.$autoname || r.name;\n          rowsByIdentifier[$identifier] = r;\n        });\n\n        dataInterface\n          .getReportData({uid: uid, identifiers: [], group_by: groupBy})\n          .done((data) => {\n            var dataWithResponses = [];\n\n            data.list.forEach(function (row) {\n              if (row.data.responses || row.data.values || row.data.mean) {\n                if (rowsByIdentifier[row.name] !== undefined) {\n                  row.row.label = rowsByIdentifier[row.name].label;\n                } else if (row.name !== undefined) {\n                  row.row.label = row.name;\n                } else {\n                  row.row.label = t('untitled');\n                }\n                dataWithResponses.push(row);\n              }\n            });\n\n            this.setState({\n              asset: asset,\n              rowsByKuid: rowsByKuid,\n              rowsByIdentifier: rowsByIdentifier,\n              reportStyles: reportStyles,\n              reportData: dataWithResponses,\n              reportCustom: reportCustom,\n              translations: asset.content.translations.length > 1,\n              groupBy: groupBy,\n              error: false,\n            });\n          })\n          .fail((err) => {\n            if (\n              groupBy &&\n              groupBy.length > 0 &&\n              !this.state.currentCustomReport &&\n              reportStyles.default.groupDataBy !== undefined\n            ) {\n              // reset default report groupBy if it fails and notify user\n              reportStyles.default.groupDataBy = '';\n              this.setState({reportStyles: reportStyles});\n              alertify.error(\n                t(\n                  'Could not load grouped results via \"##\". Will attempt to load the ungrouped report.'\n                ).replace('##', groupBy)\n              );\n              this.loadReportData();\n            } else {\n              this.setState({\n                error: err,\n                asset: asset,\n              });\n            }\n          });\n      } else {\n        // Redundant?\n        console.error('Survey not defined.');\n      }\n    });\n  }\n\n  refreshReportData() {\n    let uid = this.props.params.assetid || this.props.params.uid;\n    let rowsByIdentifier = this.state.rowsByIdentifier;\n    let customReport = this.state.currentCustomReport;\n\n    var groupBy = '';\n\n    if (\n      !customReport &&\n      this.state.reportStyles.default.groupDataBy !== undefined\n    ) {\n      groupBy = this.state.reportStyles.default.groupDataBy;\n    }\n\n    if (\n      customReport &&\n      customReport.reportStyle &&\n      customReport.reportStyle.groupDataBy\n    ) {\n      groupBy = this.state.currentCustomReport.reportStyle.groupDataBy;\n    }\n\n    dataInterface\n      .getReportData({uid: uid, identifiers: [], group_by: groupBy})\n      .done((data) => {\n        var dataWithResponses = [];\n\n        data.list.forEach(function (row) {\n          if (row.data.responses || row.data.values || row.data.mean) {\n            if (rowsByIdentifier[row.name] !== undefined) {\n              row.row.label = rowsByIdentifier[row.name].label;\n            } else if (row.name !== undefined) {\n              row.row.label = row.name;\n            } else {\n              row.row.label = t('untitled');\n            }\n            dataWithResponses.push(row);\n          }\n        });\n\n        this.setState({\n          reportData: dataWithResponses,\n          error: false,\n        });\n      })\n      .fail((err) => {\n        alertify.error(t('Could not refresh report.'));\n        this.setState({error: err});\n      });\n  }\n\n  reportStyleListener(assetUid, reportStyles) {\n    this.setState({\n      reportStyles: reportStyles,\n      showReportGraphSettings: false,\n      currentQuestionGraph: false,\n      groupBy: reportStyles.default.groupDataBy,\n    });\n  }\n\n  reportCustomListener(assetUid, reportCustom) {\n    var crid = this.state.currentCustomReport.crid;\n    let newGroupBy = false;\n\n    if (reportCustom[crid]) {\n      if (\n        reportCustom[crid].reportStyle &&\n        reportCustom[crid].reportStyle.groupDataBy\n      ) {\n        newGroupBy = reportCustom[crid].reportStyle.groupDataBy;\n      }\n\n      this.setState({\n        reportCustom: reportCustom,\n        showCustomReportModal: false,\n        showReportGraphSettings: false,\n        currentQuestionGraph: false,\n        groupBy: newGroupBy,\n      });\n    } else {\n      if (REPORT_STYLES.default && REPORT_STYLES.default.groupDataBy) {\n        newGroupBy = REPORT_STYLES.default.groupDataBy;\n      }\n\n      this.setState({\n        reportCustom: reportCustom,\n        showCustomReportModal: false,\n        showReportGraphSettings: false,\n        currentQuestionGraph: false,\n        currentCustomReport: false,\n        groupBy: newGroupBy,\n      });\n    }\n  }\n\n  toggleReportGraphSettings() {\n    this.setState({\n      showReportGraphSettings: !this.state.showReportGraphSettings,\n    });\n  }\n\n  hasAnyProvidedData(reportData) {\n    let hasAny = false;\n    reportData.map((rowContent) => {\n      if (rowContent.data.provided) {\n        hasAny = true;\n      }\n    });\n    return hasAny;\n  }\n\n  setCustomReport(e) {\n    var crid = e ? e.target.getAttribute('data-crid') : false;\n\n    if (!this.state.showCustomReportModal) {\n      let currentCustomReport;\n      if (crid) {\n        // existing report\n        currentCustomReport = this.state.reportCustom[crid];\n      } else {\n        // new custom report\n        currentCustomReport = {\n          crid: txtid(),\n          name: '',\n          questions: [],\n        };\n      }\n      this.setState({currentCustomReport: currentCustomReport});\n    }\n  }\n\n  editCustomReport() {\n    if (this.state.currentCustomReport) {\n      this.setState({showCustomReportModal: true});\n    }\n  }\n\n  toggleCustomReportModal() {\n    if (!this.state.showCustomReportModal) {\n      this.setCustomReport();\n    } else if (this.state.currentCustomReport) {\n      var crid = this.state.currentCustomReport.crid;\n      if (this.state.reportCustom[crid] == undefined) {\n        this.triggerDefaultReport();\n      }\n    }\n\n    this.setState({showCustomReportModal: !this.state.showCustomReportModal});\n  }\n\n  triggerDefaultReport() {\n    this.setState({currentCustomReport: false});\n  }\n\n  toggleFullscreen() {\n    this.setState({isFullscreen: !this.state.isFullscreen});\n  }\n\n  renderReportButtons() {\n    var customReports = this.state.reportCustom || {};\n    var customReportsList = [];\n    for (var key in customReports) {\n      if (customReports[key] && customReports[key].crid) {\n        customReportsList.push(customReports[key]);\n      }\n    }\n\n    customReportsList.sort((a, b) => {\n      return a.name.localeCompare(b.name);\n    });\n    var _this = this;\n\n    let menuLabel = t('Custom Reports');\n    if (this.state.currentCustomReport) {\n      menuLabel = this.state.currentCustomReport.name || t('Untitled Report');\n    }\n\n    return (\n      <bem.FormView__reportButtons>\n        <PopoverMenu type='custom-reports' triggerLabel={menuLabel}>\n          <bem.PopoverMenu__link\n            key='default'\n            data-name=''\n            onClick={this.triggerDefaultReport}\n            className={!this.state.currentCustomReport ? 'active' : ''}\n          >\n            {t('Default Report')}\n          </bem.PopoverMenu__link>\n          {customReportsList.map(function (m) {\n            let itemClassName;\n            if (\n              _this.state.currentCustomReport &&\n              _this.state.currentCustomReport.crid === m.crid\n            ) {\n              itemClassName = 'active';\n            }\n            return (\n              <bem.PopoverMenu__link\n                key={m.crid}\n                data-crid={m.crid}\n                onClick={_this.setCustomReport}\n                className={itemClassName}\n              >\n                {m.name || t('Untitled report')}\n              </bem.PopoverMenu__link>\n            );\n          })}\n          {this.userCan('change_asset', this.state.asset) && (\n            <bem.PopoverMenu__link\n              key='new'\n              onClick={this.toggleCustomReportModal}\n            >\n              {t('Create New Report')}\n            </bem.PopoverMenu__link>\n          )}\n        </PopoverMenu>\n\n        {this.state.currentCustomReport && (\n          <bem.Button\n            m='icon'\n            className='report-button__edit'\n            onClick={this.editCustomReport}\n            data-tip={t('Edit Report Questions')}\n          >\n            <i className='k-icon k-icon-edit' />\n          </bem.Button>\n        )}\n\n        <bem.Button\n          m='icon'\n          className='report-button__expand right-tooltip'\n          onClick={this.toggleFullscreen}\n          data-tip={t('Toggle fullscreen')}\n        >\n          <i className='k-icon k-icon-expand' />\n        </bem.Button>\n\n        <bem.Button\n          m='icon'\n          className='report-button__print'\n          onClick={launchPrinting}\n          data-tip={t('Print')}\n        >\n          <i className='k-icon k-icon-print' />\n        </bem.Button>\n\n        {this.userCan('change_asset', this.state.asset) && (\n          <bem.Button\n            m='icon'\n            className='report-button__settings'\n            onClick={this.toggleReportGraphSettings}\n            data-tip={t('Configure Report Style')}\n          >\n            <i className='k-icon k-icon-settings' />\n          </bem.Button>\n        )}\n      </bem.FormView__reportButtons>\n    );\n  }\n\n  renderCustomReportModal() {\n    return (\n      <bem.GraphSettings>\n        <Modal.Body>\n          <CustomReportForm\n            reportData={this.state.reportData}\n            customReport={this.state.currentCustomReport}\n            asset={this.state.asset}\n          />\n        </Modal.Body>\n      </bem.GraphSettings>\n    );\n  }\n\n  resetReportLimit() {\n    this.setState({\n      reportLimit: false,\n    });\n  }\n\n  triggerQuestionSettings(evt) {\n    let question = evt.target.getAttribute('data-question');\n    if (question) {\n      this.setState({currentQuestionGraph: question});\n    }\n  }\n\n  renderQuestionSettings() {\n    return (\n      <bem.GraphSettings>\n        <Modal.Body />\n      </bem.GraphSettings>\n    );\n  }\n  closeQuestionSettings() {\n    this.setState({currentQuestionGraph: false});\n  }\n\n  renderLoadingOrError() {\n    if (this.state.error) {\n      return (\n        <bem.Loading>\n          <bem.Loading__inner>\n            {t('This report cannot be loaded.')}\n            <br />\n            <code>\n              {this.state.error.statusText}\n              {': ' + this.state.error.responseText}\n            </code>\n          </bem.Loading__inner>\n        </bem.Loading>\n      );\n    } else {\n      return (\n        <bem.Loading>\n          <LoadingSpinner />\n        </bem.Loading>\n      );\n    }\n  }\n\n  render() {\n    if (!this.state.asset) {\n      return this.renderLoadingOrError();\n    }\n\n    let asset = this.state.asset;\n    let currentCustomReport = this.state.currentCustomReport;\n    let docTitle;\n\n    if (asset && asset.content) {\n      docTitle = asset.name || t('Untitled');\n    }\n\n    var reportData = this.state.reportData || [];\n\n    if (reportData.length) {\n      if (currentCustomReport && currentCustomReport.questions.length) {\n        const currentQuestions = currentCustomReport.questions;\n        const fullReportData = this.state.reportData;\n        reportData = fullReportData.filter((q) => {\n          return currentQuestions.includes(q.name);\n        });\n      }\n\n      if (\n        this.state.reportLimit &&\n        reportData.length > this.state.reportLimit\n      ) {\n        reportData = reportData.slice(0, this.state.reportLimit);\n      }\n    }\n\n    if (this.state.reportData === undefined) {\n      return this.renderLoadingOrError();\n    }\n\n    const formViewModifiers = [];\n    if (this.state.isFullscreen) {\n      formViewModifiers.push('fullscreen');\n    }\n\n    const hasAnyProvidedData = this.hasAnyProvidedData(reportData);\n    const hasGroupBy = this.state.groupBy.length !== 0;\n\n    return (\n      <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n        <bem.FormView m={formViewModifiers}>\n          <bem.ReportView>\n            {this.renderReportButtons()}\n\n            {!hasAnyProvidedData && (\n              <bem.ReportView__wrap>\n                <bem.Loading>\n                  <bem.Loading__inner>\n                    {t('This report has no data.')}\n\n                    {hasGroupBy &&\n                      ' ' + t('Try changing Report Style to \"No grouping\".')}\n                  </bem.Loading__inner>\n                </bem.Loading>\n              </bem.ReportView__wrap>\n            )}\n\n            {hasAnyProvidedData && (\n              <bem.ReportView__wrap>\n                <bem.PrintOnly>\n                  <h3>{asset.name}</h3>\n                </bem.PrintOnly>\n                {!this.state.currentCustomReport &&\n                  this.state.reportLimit &&\n                  reportData.length &&\n                  this.state.reportData.length > this.state.reportLimit && (\n                    <bem.FormView__cell m={['centered', 'reportLimit']}>\n                      <div>\n                        {t(\n                          'For performance reasons, this report only includes the first ## questions.'\n                        ).replace('##', this.state.reportLimit)}\n                      </div>\n                      <bem.Button m='colored' onClick={this.resetReportLimit}>\n                        {t('Show all (##)').replace(\n                          '##',\n                          this.state.reportData.length\n                        )}\n                      </bem.Button>\n                    </bem.FormView__cell>\n                  )}\n\n                <bem.FormView__cell m='warning'>\n                  <i className='k-icon k-icon-alert' />\n                  <p>\n                    {t(\n                      'This is an automated report based on raw data submitted to this project. Please conduct proper data cleaning prior to using the graphs and figures used on this page. '\n                    )}\n                  </p>\n                </bem.FormView__cell>\n\n                <ReportContents\n                  parentState={this.state}\n                  reportData={reportData}\n                  triggerQuestionSettings={this.triggerQuestionSettings}\n                />\n              </bem.ReportView__wrap>\n            )}\n\n            {this.state.showReportGraphSettings && (\n              <Modal\n                open\n                onClose={this.toggleReportGraphSettings}\n                title={t('Edit Report Style')}\n              >\n                <ReportStyleSettings parentState={this.state} />\n              </Modal>\n            )}\n\n            {this.state.showCustomReportModal && (\n              <Modal\n                open\n                onClose={this.toggleCustomReportModal}\n                title={t('Custom Report')}\n              >\n                {this.renderCustomReportModal()}\n              </Modal>\n            )}\n\n            {this.state.currentQuestionGraph && (\n              <Modal\n                open\n                onClose={this.closeQuestionSettings}\n                title={t('Question Style')}\n              >\n                <QuestionGraphSettings\n                  question={this.state.currentQuestionGraph}\n                  parentState={this.state}\n                />\n              </Modal>\n            )}\n          </bem.ReportView>\n        </bem.FormView>\n      </DocumentTitle>\n    );\n  }\n}\n\nreactMixin(Reports.prototype, mixins.permissions);\nreactMixin(Reports.prototype, Reflux.ListenerMixin);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport assetUtils from 'js/assetUtils';\nimport bem from 'js/bem';\nimport {dataInterface} from '../dataInterface';\nimport {stores} from '../stores';\nimport PopoverMenu from 'js/popoverMenu';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport mixins from '../mixins';\nimport {actions} from '../actions';\nimport DocumentTitle from 'react-document-title';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport {\n  MODAL_TYPES,\n  COLLECTION_METHODS,\n} from '../constants';\nimport {ROUTES} from 'js/router/routerConstants';\nimport {\n  formatTime,\n  notify\n} from 'utils';\nimport {\n  Link,\n  hashHistory,\n} from 'react-router';\n\nconst DVCOUNT_LIMIT_MINIMUM = 20;\n\nexport class FormLanding extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      selectedCollectMethod: COLLECTION_METHODS.offline_url.id,\n      DVCOUNT_LIMIT: DVCOUNT_LIMIT_MINIMUM,\n      nextPageUrl: null,\n      nextPagesVersions: []\n    };\n    autoBind(this);\n  }\n  componentDidMount () {\n    // reset loaded versions when new one is deployed\n    this.listenTo(actions.resources.deployAsset.completed, this.resetLoadedVersions);\n  }\n  resetLoadedVersions() {\n    this.setState({\n      DVCOUNT_LIMIT: DVCOUNT_LIMIT_MINIMUM,\n      nextPageUrl: null,\n      nextPagesVersions: []\n    });\n  }\n  enketoPreviewModal (evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.ENKETO_PREVIEW,\n      assetid: this.state.uid\n    });\n  }\n  callUnarchiveAsset() {\n    this.unarchiveAsset();\n  }\n  renderFormInfo (userCanEdit) {\n    var dvcount = this.state.deployed_versions.count;\n    var undeployedVersion;\n    if (!this.isCurrentVersionDeployed()) {\n      undeployedVersion = `(${t('undeployed')})`;\n      dvcount = dvcount + 1;\n    }\n    return (\n        <bem.FormView__cell m={['columns', 'padding']}>\n          <bem.FormView__cell>\n            <bem.FormView__cell m='version'>\n              {dvcount > 0 ? `v${dvcount}` : ''}\n            </bem.FormView__cell>\n            {undeployedVersion && userCanEdit &&\n              <bem.FormView__cell m='undeployed'>\n                &nbsp;{undeployedVersion}\n              </bem.FormView__cell>\n            }\n            <bem.FormView__cell m='date'>\n              {t('Last Modified')}&nbsp;:&nbsp;\n              {formatTime(this.state.date_modified)}&nbsp;-&nbsp;\n              <span className='question-count'>\n                {this.state.summary.row_count || '0'}&nbsp;\n                {t('questions')}\n                </span>\n            </bem.FormView__cell>\n          </bem.FormView__cell>\n          <bem.FormView__cell m='buttons'>\n            {userCanEdit && this.state.has_deployment && this.state.deployment__active &&\n              <a\n                className='kobo-button kobo-button--blue'\n                onClick={this.deployAsset}>\n                  {t('redeploy')}\n              </a>\n            }\n            {userCanEdit && !this.state.has_deployment && !this.state.deployment__active &&\n              <a\n                className='kobo-button kobo-button--blue'\n                onClick={this.deployAsset}>\n                  {t('deploy')}\n              </a>\n            }\n            {userCanEdit && this.state.has_deployment && !this.state.deployment__active &&\n              <a\n                className='kobo-button kobo-button--blue'\n                onClick={this.callUnarchiveAsset}>\n                  {t('unarchive')}\n              </a>\n            }\n          </bem.FormView__cell>\n        </bem.FormView__cell>\n      );\n  }\n  showSharingModal (evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.SHARING,\n      assetid: this.state.uid\n    });\n  }\n  showReplaceProjectModal (evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.REPLACE_PROJECT,\n      asset: this.state\n    });\n  }\n  isCurrentVersionDeployed() {\n    if (\n      this.state.deployment__active &&\n      this.state.deployed_versions.count > 0 &&\n      this.state.deployed_version_id\n    ) {\n      const deployed_version = this.state.deployed_versions.results.find(\n        (version) => {return version.uid === this.state.deployed_version_id;}\n      );\n      return deployed_version.content_hash === this.state.version__content_hash;\n    }\n    return false;\n  }\n  isFormRedeploymentNeeded() {\n    return !this.isCurrentVersionDeployed() && this.userCan('change_asset', this.state);\n  }\n  hasLanguagesDefined(translations) {\n    return translations && (translations.length > 1 || translations[0] !== null);\n  }\n  showLanguagesModal (evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.FORM_LANGUAGES,\n      asset: this.state\n    });\n  }\n  showEncryptionModal (evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.ENCRYPT_FORM,\n      asset: this.state\n    });\n  }\n  loadMoreVersions() {\n    if (this.state.DVCOUNT_LIMIT + DVCOUNT_LIMIT_MINIMUM <= this.state.deployed_versions.count + DVCOUNT_LIMIT_MINIMUM) {\n      this.setState({ DVCOUNT_LIMIT: this.state.DVCOUNT_LIMIT + DVCOUNT_LIMIT_MINIMUM });\n    }\n    let urlToLoad = null;\n    if(this.state.nextPageUrl) {\n      urlToLoad = this.state.nextPageUrl;\n    } else if (this.state.deployed_versions.next) {\n      urlToLoad = this.state.deployed_versions.next;\n    }\n    if (urlToLoad !== null) {\n      dataInterface.loadNextPageUrl(urlToLoad).done((data) => {\n        this.setState({nextPageUrl: data.deployed_versions.next});\n        const newNextPagesVersions = this.state.nextPagesVersions;\n        Object.values(data.deployed_versions.results).forEach((item) => {\n          newNextPagesVersions.push(item);\n        });\n        this.setState({nextPagesVersions: newNextPagesVersions});\n      });\n    }\n  }\n  renderHistory () {\n    var dvcount = this.state.deployed_versions.count;\n    const versionsToDisplay = this.state.deployed_versions.results.concat(\n      this.state.nextPagesVersions\n    );\n    const isLoggedIn = stores.session.isLoggedIn;\n    return (\n      <bem.FormView__row className={this.state.historyExpanded ? 'historyExpanded' : 'historyHidden'}>\n        <bem.FormView__cell m={['columns', 'label', 'first', 'history-label']}>\n          <bem.FormView__cell m='label'>\n            {t('Form history')}\n          </bem.FormView__cell>\n        </bem.FormView__cell>\n\n        <bem.FormView__cell m={['box', 'history-table']}>\n          <bem.FormView__group m='deployments'>\n            <bem.FormView__group m={['items', 'headings']}>\n              <bem.FormView__label m='version'>{t('Version')}</bem.FormView__label>\n              <bem.FormView__label m='date'>{t('Last Modified')}</bem.FormView__label>\n              {isLoggedIn &&\n                <bem.FormView__label m='clone'>{t('Clone')}</bem.FormView__label>\n              }\n            </bem.FormView__group>\n            {versionsToDisplay.map((item, n) => {\n              if (dvcount - n > 0) {\n                return (\n                  <bem.FormView__group m='items' key={n} className={n >= this.state.DVCOUNT_LIMIT ? 'hidden' : ''} >\n                    <bem.FormView__label m='version'>\n                      {`v${dvcount - n}`}\n                      {item.uid === this.state.deployed_version_id && this.state.deployment__active &&\n                        <bem.FormView__cell m='deployed'>\n                          {t('Deployed')}\n                        </bem.FormView__cell>\n                      }\n                    </bem.FormView__label>\n                    <bem.FormView__label m='date'>\n                      {formatTime(item.date_deployed)}\n                    </bem.FormView__label>\n                    {isLoggedIn &&\n                      <bem.FormView__label m='clone' className='right-tooltip'>\n                        <bem.FormView__link\n                          m='clone'\n                          data-version-id={item.uid}\n                          data-tip={t('Clone this version as a new project')}\n                          onClick={this.saveCloneAs}\n                        >\n                          <i className='k-icon k-icon-clone' />\n                        </bem.FormView__link>\n                      </bem.FormView__label>\n                    }\n                  </bem.FormView__group>\n                );\n              }\n            })}\n          </bem.FormView__group>\n        </bem.FormView__cell>\n        {this.state.deployed_versions.count > 1 &&\n          <bem.FormView__cell m={['centered']}>\n            <bem.Button m='colored' onClick={this.toggleDeploymentHistory}>\n              {this.state.historyExpanded ? t('Hide full history') : t('Show full history')}\n            </bem.Button>\n            {(this.state.historyExpanded && this.state.DVCOUNT_LIMIT < dvcount) &&\n              <bem.Button m='colored' onClick={this.loadMoreVersions}>\n                {t('Load more')}\n              </bem.Button>\n            }\n          </bem.FormView__cell>\n        }\n      </bem.FormView__row>\n    );\n  }\n  renderCollectData () {\n    const deployment__links_list = [];\n    Object.keys(COLLECTION_METHODS).forEach((methodId) => {\n      const methodDef = COLLECTION_METHODS[methodId];\n      deployment__links_list.push(\n        {\n          key: methodDef.id,\n          label: methodDef.label,\n          desc: methodDef.desc,\n        }\n      );\n    });\n\n    const chosenMethod = this.state.selectedCollectMethod;\n    const chosenMethodLink = this.state.deployment__links[chosenMethod] || null;\n\n    var kc_server = document.createElement('a');\n    kc_server.href = this.state.deployment__identifier;\n    var kobocollect_url = kc_server.origin;\n\n    return (\n      <bem.FormView__row>\n        <bem.FormView__cell m={['label', 'first']}>\n            {t('Collect data')}\n        </bem.FormView__cell>\n        <bem.FormView__cell m='box'>\n          <bem.FormView__cell m={['columns', 'padding', 'collect-header']}>\n            <bem.FormView__cell>\n              <PopoverMenu\n                type=\"collectData-menu\"\n                triggerLabel={COLLECTION_METHODS[chosenMethod].label}\n              >\n                {deployment__links_list.map((c) => {\n                  return (\n                    <bem.PopoverMenu__link\n                      m={['collect-row']}\n                      key={`c-${c.key}`}\n                      data-method={c.key}\n                      onClick={this.setCollectMethod}\n                    >\n                      <div className='collect-data-label'>{c.label}</div>\n                      <div className='collect-data-desc'>{c.desc}</div>\n                    </bem.PopoverMenu__link>\n                  );\n                })}\n              </PopoverMenu>\n            </bem.FormView__cell>\n\n            <bem.FormView__cell>\n              {this.renderCollectLink()}\n            </bem.FormView__cell>\n          </bem.FormView__cell>\n          <bem.FormView__cell m={['padding', 'bordertop', 'collect-meta']}>\n            {chosenMethod !== COLLECTION_METHODS.android.id &&\n              COLLECTION_METHODS[chosenMethod].desc\n            }\n\n            {chosenMethod === COLLECTION_METHODS.iframe_url.id &&\n              <pre>\n                {`<iframe src=\"${chosenMethodLink}\" width=\"800\" height=\"600\"></iframe>`}\n              </pre>\n            }\n\n            {chosenMethod === COLLECTION_METHODS.android.id &&\n              <ol>\n                <li>\n                  {t('Install')}\n                  &nbsp;\n                  <a href='https://play.google.com/store/apps/details?id=org.koboc.collect.android&hl=en' target='_blank'>KoboCollect</a>\n                  &nbsp;\n                  {t('on your Android device.')}\n                </li>\n                <li>{t('Click on')} <i className='k-icon k-icon-more-vertical'/> {t('to open settings.')}</li>\n                <li>\n                  {t('Enter the server URL')}&nbsp;\n                  <code>{kobocollect_url}</code>&nbsp;\n                  {t('and your username and password')}\n                </li>\n                <li>{t('Open \"Get Blank Form\" and select this project. ')}</li>\n                <li>{t('Open \"Enter Data.\"')}</li>\n              </ol>\n            }\n\n          </bem.FormView__cell>\n        </bem.FormView__cell>\n      </bem.FormView__row>\n    );\n  }\n\n  renderCollectLink() {\n    const chosenMethod = this.state.selectedCollectMethod;\n    const chosenMethodLink = this.state.deployment__links[chosenMethod] || null;\n\n    if (chosenMethod === COLLECTION_METHODS.android.id) {\n      return (\n        <a className='mdl-button mdl-button--colored'\n          target='_blank'\n          href={COLLECTION_METHODS.android.url}>\n          {t('Download KoboCollect')}\n        </a>\n      );\n    }\n\n    if (chosenMethodLink === null) {\n      return (\n        <span\n          className='collect-link-missing right-tooltip'\n          data-tip={t(\"Try reloading the page, if problem doesn't go away, contact support.\")}\n        >\n          <i className='k-icon k-icon-alert'/>\n          {t('Link missing')}\n        </span>\n      );\n    }\n\n    if (chosenMethod === COLLECTION_METHODS.iframe_url.id) {\n      return (\n        <CopyToClipboard\n          text={`<iframe src=${chosenMethodLink} width=\"800\" height=\"600\"></iframe>`}\n          onCopy={() => {notify(t('Copied to clipboard'));}}\n          options={{format: 'text/plain'}}\n        >\n          <button className='copy mdl-button mdl-button--colored'>\n            {t('Copy')}\n          </button>\n        </CopyToClipboard>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <CopyToClipboard text={chosenMethodLink}\n          onCopy={() => {notify(t('Copied to clipboard'));}}\n          options={{format: 'text/plain'}}\n        >\n          <button className='copy mdl-button mdl-button--colored'>\n            {t('Copy')}\n          </button>\n        </CopyToClipboard>\n\n        <a className='mdl-button mdl-button--colored'\n          target='_blank'\n          href={chosenMethodLink}>\n          {t('Open')}\n        </a>\n      </React.Fragment>\n    );\n  }\n\n  setCollectMethod(evt) {\n    this.setState({selectedCollectMethod: evt.currentTarget.dataset.method});\n  }\n  goToProjectsList() {\n    hashHistory.push(ROUTES.FORMS);\n  }\n  nonOwnerSelfRemoval(evt) {\n    evt.preventDefault();\n    // Listen for permission removal here to avoid manage_asset user removal\n    // from triggering redirect\n    this.nonOwnerSelfRemovalListener = this.listenTo(\n      actions.permissions.removeAssetPermission.completed,\n      this.nonOwnerSelfRemovalCompleted\n    );\n    this.removeSharing();\n  }\n  nonOwnerSelfRemovalCompleted() {\n    // Remove listener after self removal\n    if (this.nonOwnerSelfRemovalListener) {\n      this.stopListeningTo(actions.permissions.removeAssetPermission.completed);\n    }\n    this.goToProjectsList();\n  }\n  renderButtons(userCanEdit) {\n    var downloads = [];\n    if (this.state.downloads) {\n      downloads = this.state.downloads;\n    }\n\n    const isLoggedIn = stores.session.isLoggedIn;\n\n    return (\n      <React.Fragment>\n        {userCanEdit ?\n          <Link to={`/forms/${this.state.uid}/edit`}\n                className='form-view__link form-view__link--edit'\n                data-tip={t('Edit in Form Builder')}>\n            <i className='k-icon k-icon-edit' />\n          </Link>\n        :\n          <bem.FormView__link m={['edit', 'disabled']}\n            className='right-tooltip'\n            data-tip={t('Editing capabilities not granted, you can only view this form')}>\n            <i className='k-icon k-icon-edit' />\n          </bem.FormView__link>\n        }\n\n        <bem.FormView__link m='preview'\n          onClick={this.enketoPreviewModal}\n          data-tip={t('Preview')}>\n          <i className='k-icon k-icon-view' />\n        </bem.FormView__link>\n\n        {userCanEdit &&\n          <bem.FormView__link\n            m='upload'\n            data-tip={t('Replace form')}\n            onClick={this.showReplaceProjectModal}\n          >\n            <i className='k-icon k-icon-replace' />\n          </bem.FormView__link>\n        }\n\n        <PopoverMenu\n          type='formLanding-menu'\n          triggerLabel={\n            <div data-tip={t('More actions')}>\n              <i className='k-icon k-icon-more'/>\n            </div>\n          }\n        >\n          {downloads.map((dl) => {\n            return (\n                <bem.PopoverMenu__link m={`dl-${dl.format}`} href={dl.url}\n                    key={`dl-${dl.format}`}>\n                  <i className={`k-icon k-icon-${dl.format}-file`}/>\n                  {t('Download')}&nbsp;\n                  {dl.format.toString().toUpperCase()}\n                </bem.PopoverMenu__link>\n              );\n          })}\n\n          {userCanEdit &&\n            <bem.PopoverMenu__link onClick={this.showSharingModal}>\n              <i className='k-icon k-icon-user-share'/>\n              {t('Share this project')}\n            </bem.PopoverMenu__link>\n          }\n\n          {isLoggedIn && !assetUtils.isSelfOwned(this.state) &&\n            <bem.PopoverMenu__link\n              onClick={this.nonOwnerSelfRemoval}\n            >\n              <i className='k-icon k-icon-trash'/>\n              {t('Remove shared project')}\n            </bem.PopoverMenu__link>\n          }\n\n          {isLoggedIn &&\n            <bem.PopoverMenu__link onClick={this.saveCloneAs}>\n              <i className='k-icon k-icon-clone'/>\n              {t('Clone this project')}\n            </bem.PopoverMenu__link>\n          }\n\n          {isLoggedIn &&\n            <bem.PopoverMenu__link\n              onClick={this.cloneAsTemplate}\n              data-asset-uid={this.state.uid}\n              data-asset-name={this.state.name}\n            >\n              <i className='k-icon k-icon-template'/>\n              {t('Create template')}\n            </bem.PopoverMenu__link>\n          }\n\n          {userCanEdit && this.state.content.survey.length > 0 &&\n            <bem.PopoverMenu__link onClick={this.showLanguagesModal}>\n              <i className='k-icon k-icon-language'/>\n              {t('Manage translations')}\n            </bem.PopoverMenu__link>\n          }\n          { /* temporarily disabled\n          <bem.PopoverMenu__link onClick={this.showEncryptionModal}>\n            <i className='k-icon k-icon-lock'/>\n            {t('Manage Encryption')}\n          </bem.PopoverMenu__link>\n          */ }\n        </PopoverMenu>\n      </React.Fragment>\n    );\n  }\n  renderLanguages (canEdit) {\n    let translations = this.state.content.translations;\n\n    return (\n      <bem.FormView__cell m={['columns', 'padding', 'bordertop']}>\n        <bem.FormView__cell m='translation-list'>\n          <strong>{t('Languages:')}</strong>\n          &nbsp;\n          {!this.hasLanguagesDefined(translations) &&\n            t('This project has no languages defined yet')\n          }\n          {this.hasLanguagesDefined(translations) &&\n            <ul>\n              {translations.map((langString, n) => {\n                return (\n                  <li key={n}>\n                    {langString || t('Unnamed language')}\n                  </li>\n                );\n              })}\n            </ul>\n          }\n        </bem.FormView__cell>\n\n        {canEdit &&\n          <bem.FormView__cell>\n            <bem.FormView__link\n              data-tip={t('Manage translations')}\n              onClick={this.showLanguagesModal}>\n              <i className='k-icon k-icon-language' />\n            </bem.FormView__link>\n          </bem.FormView__cell>\n        }\n      </bem.FormView__cell>\n    );\n  }\n  render () {\n    var docTitle = this.state.name || t('Untitled');\n    const userCanEdit = this.userCan('change_asset', this.state);\n    const isLoggedIn = stores.session.isLoggedIn;\n\n    if (this.state.uid === undefined) {\n      return (<LoadingSpinner/>);\n    }\n\n    return (\n      <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n        <bem.FormView m='form'>\n          <bem.FormView__row>\n            <bem.FormView__cell m={['columns', 'first']}>\n              <bem.FormView__cell m='label'>\n                {this.state.deployment__active ? t('Current version') :\n                  this.state.has_deployment ? t('Archived version') :\n                    t('Draft version')}\n              </bem.FormView__cell>\n              <bem.FormView__cell m='action-buttons'>\n                {this.renderButtons(userCanEdit)}\n              </bem.FormView__cell>\n            </bem.FormView__cell>\n            <bem.FormView__cell m='box'>\n              {this.isFormRedeploymentNeeded() &&\n                <bem.FormView__cell m='warning'>\n                  <i className='k-icon k-icon-alert' />\n                  <p>{t('If you want to make these changes public, you must deploy this form.')}</p>\n                </bem.FormView__cell>\n              }\n              {this.renderFormInfo(userCanEdit)}\n              {this.renderLanguages(userCanEdit)}\n            </bem.FormView__cell>\n          </bem.FormView__row>\n          {this.state.deployed_versions.count > 0 &&\n            this.renderHistory()\n          }\n          {this.state.deployed_versions.count > 0 && this.state.deployment__active &&\n            isLoggedIn &&\n              this.renderCollectData()\n          }\n        </bem.FormView>\n      </DocumentTitle>\n      );\n  }\n}\n\nreactMixin(FormLanding.prototype, mixins.permissions);\nreactMixin(FormLanding.prototype, mixins.dmix);\nreactMixin(FormLanding.prototype, Reflux.ListenerMixin);\n\nFormLanding.contextTypes = {\n  router: PropTypes.object\n};\n\nexport default FormLanding;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport { Link } from 'react-router';\nimport {dataInterface} from '../dataInterface';\nimport {stores} from '../stores';\nimport mixins from '../mixins';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport DocumentTitle from 'react-document-title';\nimport moment from 'moment';\nimport Chart from 'chart.js';\nimport {getFormDataTabs} from './formViewTabs';\nimport {\n  formatTime,\n  formatDate,\n  stringToColor,\n  getUsernameFromUrl,\n} from 'utils';\nimport {\n  MODAL_TYPES,\n  ANON_USERNAME,\n} from 'js/constants';\nimport './formSummary.scss';\n\nclass FormSummary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      subsCurrentPeriod: '',\n      subsPreviousPeriod: '',\n      lastSubmission: false,\n      chartVisible: false,\n      chart: {},\n      chartPeriod: 'week'\n    };\n    this.submissionsChart = false;\n    autoBind(this);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if(!this.submissionsChart) {\n      this.createChart();\n    }\n    if ((prevState.chartPeriod != this.state.chartPeriod) || (this.props.params != prevProps.params)) {\n      if (this.state.permissions && this.userCan('view_submissions', this.state)) {\n        this.prep();\n      }\n    }\n  }\n  prep() {\n    const uid = this.props.params.assetid || this.props.params.uid;\n    this.getLatestSubmissionTime(uid);\n    this.prepSubmissions(uid);\n  }\n  createChart() {\n    Chart.defaults.global.elements.rectangle.backgroundColor = 'rgba(61, 194, 212, 0.6)';\n    var opts = {\n      type: 'bar',\n      options: {\n        maintainAspectRatio: false,\n        responsive: true,\n        events: [''],\n        legend: {\n          display: false\n        },\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: true,\n              userCallback: function(label, index, labels) {\n                if (Math.floor(label) === label) {return label;}\n              },\n            }\n          }],\n        },\n      }\n    };\n\n    const canvas = ReactDOM.findDOMNode(this.refs.canvas);\n    if (canvas) {\n      this.submissionsChart = new Chart(canvas, opts);\n      this.prep();\n    }\n  }\n  prepSubmissions(assetid) {\n    var wkStart = this.state.chartPeriod == 'week' ? moment().startOf('days').subtract(6, 'days') : moment().startOf('days').subtract(30, 'days');\n    var lastWeekStart = this.state.chartPeriod == 'week' ? moment().startOf('days').subtract(13, 'days') : moment().startOf('days').subtract(60, 'days');\n\n    const query = `query={\"_submission_time\": {\"$gte\":\"${wkStart.toISOString()}\"}}&fields=[\"_id\",\"_submission_time\"]`;\n    dataInterface.getSubmissionsQuery(assetid, query).done((thisWeekSubs) => {\n      var subsCurrentPeriod = thisWeekSubs.results.length;\n\n      const q2 = `query={\"_submission_time\": {\"$gte\":\"${lastWeekStart.toISOString()}\"}}&fields=[\"_id\"]`;\n      dataInterface.getSubmissionsQuery(assetid, q2).done((d) => {\n        if (subsCurrentPeriod > 0) {\n          let subsPerDay;\n          if (this.state.chartPeriod == 'week')\n            subsPerDay = [0,0,0,0,0,0,0];\n          else\n            subsPerDay = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];\n\n          thisWeekSubs.results.forEach(function(s, i) {\n            // As submission times are in UTC,\n            // this will get the computer timezone difference with UTC\n            // and adapt the submission date to reflect that in the chart.\n            var d = new Date(s._submission_time);\n            var timezoneToday = moment(d.valueOf() - (d.getTimezoneOffset() * 60 * 1000));\n            var diff = timezoneToday.diff(wkStart, 'days');\n            subsPerDay[diff] += 1;\n          });\n\n          var dayLabels = [];\n          var day = wkStart;\n          var today = moment();\n\n          while (day <= today) {\n            dayLabels.push(day.format('DD MMM'));\n            day = day.clone().add(1, 'd');\n          }\n\n          if (this.submissionsChart.data) {\n            this.submissionsChart.data.labels = dayLabels;\n            this.submissionsChart.data.datasets = [{data: subsPerDay}];\n            this.submissionsChart.update();\n          }\n        }\n\n        this.setState({\n          subsPreviousPeriod: d.results.length - subsCurrentPeriod,\n          subsCurrentPeriod: subsCurrentPeriod,\n          chartVisible: subsCurrentPeriod ? true : false\n        });\n      });\n    });\n\n  }\n  getLatestSubmissionTime(assetid) {\n    const fq = ['_id', 'end'];\n    const sort = [{id: '_id', desc: true}];\n    dataInterface.getSubmissions(assetid, 1, 0, sort, fq).done((data) => {\n      let results = data.results;\n      if (data.count)\n        this.setState({lastSubmission: results[0]['end']});\n      else\n        this.setState({lastSubmission: false});\n    });\n  }\n  renderSubmissionsGraph() {\n    return (\n      <bem.FormView__row m='summary-submissions'>\n        <bem.FormView__cell m={['label', 'first']}>\n          {t('Submissions')}\n        </bem.FormView__cell>\n        <bem.FormView__cell m={['box']}>\n          <bem.FormView__cell m='subs-graph'>\n            <bem.FormView__cell m='subs-graph-toggle'>\n              <a onClick={this.showGraphWeek} className={this.state.chartPeriod=='week' ? 'active' : ''}>\n                {t('Past 7 days')}\n              </a>\n              <a onClick={this.showGraphMonth} className={this.state.chartPeriod=='month' ? 'active' : ''}>\n                {t('Past 31 days')}\n              </a>\n            </bem.FormView__cell>\n            <bem.FormView__cell m={'summary-chart'} className={this.state.subsCurrentPeriod ? 'active' : 'inactive'}>\n              <canvas ref='canvas' className={this.state.chartVisible ? 'visible' : ''}/>\n            </bem.FormView__cell>\n            <bem.FormView__cell m={'chart-no-data'}>\n              <span>{t('No chart data available for current period.')}</span>\n            </bem.FormView__cell>\n          </bem.FormView__cell>\n          <bem.FormView__group m={['submission-stats']}>\n            <bem.FormView__cell>\n              <span className='subs-graph-number'>{this.state.subsCurrentPeriod}</span>\n              <bem.FormView__label>\n                {this.state.chartPeriod=='week' &&\n                  `${formatDate(moment().subtract(6, 'days'))} - ${formatDate(moment())}`\n                }\n                {this.state.chartPeriod!='week' &&\n                  `${formatDate(moment().subtract(30, 'days'))} - ${formatDate(moment())}`\n                }\n              </bem.FormView__label>\n            </bem.FormView__cell>\n            <bem.FormView__cell>\n              <span className='subs-graph-number'>{this.state.subsPreviousPeriod}</span>\n              <bem.FormView__label>\n                {this.state.chartPeriod=='week' &&\n                  `${formatDate(moment().subtract(13, 'days'))} - ${formatDate(moment().subtract(7, 'days'))}`\n                }\n                {this.state.chartPeriod!='week' &&\n                  `${formatDate(moment().subtract(60, 'days'))} - ${formatDate(moment().subtract(31, 'days'))}`\n                }\n              </bem.FormView__label>\n            </bem.FormView__cell>\n            <bem.FormView__cell>\n              <span className='subs-graph-number'>{this.state.deployment__submission_count}</span>\n              <bem.FormView__label>{t('Total')}</bem.FormView__label>\n            </bem.FormView__cell>\n          </bem.FormView__group>\n        </bem.FormView__cell>\n      </bem.FormView__row>\n    );\n  }\n  showGraphWeek() {\n    this.setState({chartPeriod: 'week'});\n  }\n  showGraphMonth() {\n    this.setState({chartPeriod: 'month'});\n  }\n  renderQuickLinks() {\n    return (\n      <bem.FormView__cell m='data-tabs'>\n        <Link\n          to={`/forms/${this.state.uid}/landing`}\n          key='landing'\n          data-path={`/forms/${this.state.uid}/landing`}\n          onClick={this.triggerRefresh}>\n            <i className='k-icon k-icon-projects' />\n            {t('Collect data')}\n            <i className='k-icon k-icon-next' />\n        </Link>\n\n        {this.userCan('change_asset', this.state) &&\n          <button onClick={this.sharingModal}>\n            <i className='k-icon k-icon-user-share'/>\n            {t('Share project')}\n            <i className='k-icon k-icon-next' />\n          </button>\n        }\n\n        {this.userCan('change_asset', this.state) &&\n          <Link\n            to={`/forms/${this.state.uid}/edit`}\n            key='edit'\n            data-path={`/forms/${this.state.uid}/edit`}\n            onClick={this.triggerRefresh}\n          >\n            <i className='k-icon k-icon-edit' />\n            {t('Edit form')}\n            <i className='k-icon k-icon-next' />\n          </Link>\n        }\n\n        <button onClick={this.enketoPreviewModal}>\n          <i className='k-icon k-icon-view' />\n          {t('Preview form')}\n          <i className='k-icon k-icon-next' />\n        </button>\n      </bem.FormView__cell>\n    );\n  }\n  renderDataTabs() {\n    const sideTabs = getFormDataTabs(this.state.uid);\n\n    return (\n      <bem.FormView__cell m='data-tabs'>\n        { sideTabs.map((item, ind) =>\n          <Link\n            to={item.path}\n            key={ind}\n            activeClassName='active'\n            onlyActiveOnIndex\n            data-path={item.path}\n            onClick={this.triggerRefresh}\n          >\n            <i className={`k-icon ${item.icon}`} />\n            {item.label}\n            <i className='k-icon k-icon-next' />\n          </Link>\n        )}\n      </bem.FormView__cell>\n    );\n  }\n  sharingModal (evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.SHARING,\n      assetid: this.state.uid\n    });\n  }\n  enketoPreviewModal (evt) {\n    evt.preventDefault();\n    stores.pageState.showModal({\n      type: MODAL_TYPES.ENKETO_PREVIEW,\n      assetid: this.state.uid\n    });\n  }\n\n  renderTeam() {\n    const team = [];\n    this.state.permissions.forEach((perm) => {\n      let username = null;\n      if (perm.user) {\n        username = getUsernameFromUrl(perm.user);\n      }\n\n      if (username && !team.includes(username) && username !== ANON_USERNAME) {\n        team.push(username);\n      }\n    });\n\n    if (team.length < 2) {\n      return false;\n    }\n\n    return (\n      <bem.FormView__row m='team'>\n        <bem.FormView__cell m={['label', 'first']}>\n          {t('Team members')}\n        </bem.FormView__cell>\n        {this.userCan('change_asset', this.state) &&\n          <a onClick={this.sharingModal} className='team-sharing-button'>\n            <i className='k-icon k-icon-user-share' />\n          </a>\n        }\n        <bem.FormView__cell m={['box', 'padding']}>\n          { team.map((username, ind) =>\n            <bem.UserRow key={ind}>\n              <bem.UserRow__avatar data-tip={username}>\n                <bem.AccountBox__initials style={{background: `#${stringToColor(username)}`}}>\n                  {username.charAt(0)}\n                </bem.AccountBox__initials>\n              </bem.UserRow__avatar>\n            </bem.UserRow>\n          )}\n        </bem.FormView__cell>\n      </bem.FormView__row>\n    );\n  }\n  render () {\n    let docTitle = this.state.name || t('Untitled');\n\n    if (!this.state.permissions) {\n      return (<LoadingSpinner/>);\n    }\n\n    return (\n      <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n        <bem.FormView m='summary'>\n          <bem.FormView__column m='left'>\n            {(this.state.settings && (this.state.settings.country || this.state.settings.sector || this.state.settings.description)) &&\n              <bem.FormView__row m='summary-description'>\n                <bem.FormView__cell m={['label', 'first']}>\n                  {t('Description')}\n                </bem.FormView__cell>\n                <bem.FormView__cell m={['box']}>\n                  {(this.state.settings.country || this.state.settings.sector) &&\n                    <bem.FormView__group m={['items', 'description-cols']}>\n                      {this.state.settings.country &&\n                        <bem.FormView__cell>\n                          <bem.FormView__label m='country'>{t('Project country')}</bem.FormView__label>\n                          {this.state.settings.country.label}\n                        </bem.FormView__cell>\n                      }\n                      {this.state.settings.sector &&\n                        <bem.FormView__cell>\n                          <bem.FormView__label m='sector'>{t('Sector')}</bem.FormView__label>\n                          {this.state.settings.sector.label}\n                        </bem.FormView__cell>\n                      }\n                    </bem.FormView__group>\n                  }\n                  {this.state.settings.description &&\n                    <bem.FormView__cell m={['padding', 'description']}>\n                      {this.state.settings.description}\n                    </bem.FormView__cell>\n                  }\n                </bem.FormView__cell>\n              </bem.FormView__row>\n            }\n            {this.renderSubmissionsGraph()}\n            <bem.FormView__row m='summary-details'>\n              <bem.FormView__cell m={['label', 'first']}>\n                {t('Form details')}\n              </bem.FormView__cell>\n              <bem.FormView__cell m={['box']}>\n                <bem.FormView__group m='summary-details-cols'>\n                  <bem.FormView__cell>\n                    <bem.FormView__label>{t('Last modified')}</bem.FormView__label>\n                    {formatTime(this.state.date_modified)}\n                  </bem.FormView__cell>\n                  {this.state.lastSubmission &&\n                    <bem.FormView__cell>\n                      <bem.FormView__label>{t('Latest submission')}</bem.FormView__label>\n                      {formatTime(this.state.lastSubmission)}\n                    </bem.FormView__cell>\n                  }\n                  {this.state.summary &&\n                    <bem.FormView__cell>\n                      <bem.FormView__label>{t('Questions')}</bem.FormView__label>\n                      {this.state.summary.row_count}\n                    </bem.FormView__cell>\n                  }\n\n                  {this.state.summary && this.state.summary.languages && this.state.summary.languages.length > 1 &&\n                    <bem.FormView__cell>\n                      <bem.FormView__label>{t('Languages')}</bem.FormView__label>\n                      {this.state.summary.languages.map((l, i)=>{\n                        return (\n                          <bem.FormView__cell key={`lang-${i}`} data-index={i}>\n                            {l}\n                          </bem.FormView__cell>\n                        );\n                      })}\n                    </bem.FormView__cell>\n                  }\n                </bem.FormView__group>\n              </bem.FormView__cell>\n            </bem.FormView__row>\n          </bem.FormView__column>\n\n          <bem.FormView__column m='right'>\n            <bem.FormView__row m='quick-links'>\n              <bem.FormView__cell m={['label', 'first']}>\n                {t('Quick Links')}\n              </bem.FormView__cell>\n              <bem.FormView__cell m='box'>\n                {this.renderQuickLinks()}\n              </bem.FormView__cell>\n            </bem.FormView__row>\n\n            {this.state.deployment__submission_count > 0 &&\n              <bem.FormView__row m='data-links'>\n                <bem.FormView__cell m={['label', 'first']}>\n                  {t('Data')}\n                </bem.FormView__cell>\n                <bem.FormView__cell m='box'>\n                  {this.renderDataTabs()}\n                </bem.FormView__cell>\n              </bem.FormView__row>\n            }\n            {this.renderTeam()}\n\n          </bem.FormView__column>\n        </bem.FormView>\n      </DocumentTitle>\n      );\n  }\n\n}\n\nreactMixin(FormSummary.prototype, mixins.dmix);\nreactMixin(FormSummary.prototype, mixins.permissions);\nreactMixin(FormSummary.prototype, Reflux.ListenerMixin);\n\nexport default FormSummary;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport alertify from 'alertifyjs';\nimport dataAttachmentsUtils from 'js/components/dataAttachments/dataAttachmentsUtils';\nimport Select from 'react-select';\nimport ToggleSwitch from 'js/components/common/toggleSwitch';\nimport Checkbox from 'js/components/common/checkbox';\nimport TextBox from 'js/components/common/textBox';\nimport MultiCheckbox from 'js/components/common/multiCheckbox';\nimport {actions} from 'js/actions';\nimport {stores} from 'js/stores';\nimport bem from 'js/bem';\nimport {generateAutoname} from 'js/utils';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport envStore from 'js/envStore';\nimport {\n  MODAL_TYPES,\n  MAX_DISPLAYED_STRING_LENGTH,\n} from 'js/constants';\n\nimport './connect-projects.scss';\n\nconst DYNAMIC_DATA_ATTACHMENTS_SUPPORT_URL = 'dynamic_data_attachment.html';\n\n/*\n * Modal for connecting project data\n *\n * @prop {object} asset\n */\nclass ConnectProjects extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isInitialised: false,\n      isLoading: false,\n      // `data_sharing` is an empty object if never enabled before\n      isShared: props.asset.data_sharing?.enabled || false,\n      isSharingAnyQuestions: Boolean(props.asset.data_sharing?.fields?.length) || false,\n      attachedSources: [],\n      sharingEnabledAssets: null,\n      newSource: null,\n      newFilename: '',\n      columnsToDisplay: [],\n      fieldsErrors: {},\n    };\n\n    if (this.state.isShared) {\n      this.state.columnsToDisplay = dataAttachmentsUtils.generateColumnFilters(\n          this.props.asset.data_sharing.fields,\n          this.props.asset.content.survey,\n      );\n    }\n\n\n    autoBind(this);\n\n    this.unlisteners = [];\n  }\n\n  /*\n   * Setup\n   */\n\n  componentDidMount() {\n    this.unlisteners.push(\n      actions.dataShare.attachToSource.started.listen(\n        this.markComponentAsLoading\n      ),\n      actions.dataShare.attachToSource.completed.listen(\n        this.refreshAttachmentList\n      ),\n      actions.dataShare.attachToSource.failed.listen(\n        this.onAttachToSourceFailed\n      ),\n      actions.dataShare.detachSource.completed.listen(\n        this.refreshAttachmentList\n      ),\n      actions.dataShare.patchSource.started.listen(\n        this.markComponentAsLoading\n      ),\n      actions.dataShare.patchSource.completed.listen(\n        this.onPatchSourceCompleted\n      ),\n      actions.dataShare.getSharingEnabledAssets.completed.listen(\n        this.onGetSharingEnabledAssetsCompleted\n      ),\n      actions.dataShare.getAttachedSources.completed.listen(\n        this.onGetAttachedSourcesCompleted\n      ),\n      actions.dataShare.toggleDataSharing.completed.listen(\n        this.onToggleDataSharingCompleted\n      ),\n      actions.dataShare.updateColumnFilters.completed.listen(\n        this.onUpdateColumnFiltersCompleted\n      ),\n      actions.dataShare.updateColumnFilters.failed.listen(\n        this.stopLoading\n      ),\n      actions.dataShare.detachSource.failed.listen(\n        this.stopLoading\n      ),\n      actions.dataShare.patchSource.completed.listen(\n        this.stopLoading\n      ),\n      actions.dataShare.patchSource.failed.listen(\n        this.stopLoading\n      ),\n    );\n\n    this.refreshAttachmentList();\n\n    actions.dataShare.getSharingEnabledAssets();\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  /*\n   * `actions` Listeners\n   */\n\n  onAttachToSourceFailed(response) {\n    this.setState({\n      isLoading: false,\n      fieldsErrors: response?.responseJSON || t('Please check file name'),\n    });\n  }\n\n  onGetAttachedSourcesCompleted(response) {\n    this.setState({\n      isInitialised: true,\n      isLoading: false,\n      attachedSources: response,\n    });\n  }\n\n  onGetSharingEnabledAssetsCompleted(response) {\n    this.setState({sharingEnabledAssets: response});\n  }\n\n  onToggleDataSharingCompleted(response) {\n    this.setState({\n      isShared: response.data_sharing.enabled,\n      isSharingAnyQuestions: false,\n      columnsToDisplay: dataAttachmentsUtils.generateColumnFilters(\n        [],\n        this.props.asset.content.survey,\n      ),\n    });\n  }\n\n  // Safely update state after guaranteed column changes\n  onUpdateColumnFiltersCompleted(response) {\n    this.setState({\n      isLoading: false,\n      columnsToDisplay: dataAttachmentsUtils.generateColumnFilters(\n        response.data_sharing.fields,\n        this.props.asset.content.survey,\n      ),\n    });\n  }\n\n  onPatchSourceCompleted() {\n    actions.dataShare.getAttachedSources(this.props.asset.uid);\n  }\n\n  refreshAttachmentList() {\n    this.setState({\n      newSource: null,\n      newFilename: '',\n      fieldsErrors: {},\n    });\n    actions.dataShare.getAttachedSources(this.props.asset.uid);\n  }\n\n  stopLoading() {\n    this.setState({isLoading: false});\n  }\n\n  /*\n   * UI Listeners\n   */\n\n  onFilenameChange(newVal) {\n    this.setState({\n      newFilename: newVal,\n      fieldsErrors: {},\n    });\n  }\n\n  onSourceChange(newVal) {\n    this.setState({\n      newSource: newVal,\n      newFilename: generateAutoname(\n        newVal?.name,\n        0,\n        MAX_DISPLAYED_STRING_LENGTH.connect_projects\n      ),\n      fieldsErrors: {},\n    });\n  }\n\n  onConfirmAttachment(evt) {\n    evt.preventDefault();\n    if (this.state.newFilename !== '' && this.state.newSource?.url) {\n      this.setState({\n        fieldsErrors: {},\n      });\n\n      this.showColumnFilterModal(\n        this.props.asset,\n        this.state.newSource,\n        this.state.newFilename,\n        [],\n      );\n    } else {\n      if (!this.state.newSource?.url) {\n        this.setState((state) => {\n          return {\n            fieldsErrors: {\n              ...state.fieldsErrors,\n              source: t('No project selected')\n            }\n          }\n        });\n      }\n      if (this.state.newFilename === '') {\n        this.setState((state) => {\n          return {\n            fieldsErrors: {\n              ...state.fieldsErrors,\n              filename: t('Field is empty')\n            }\n          }\n        });\n      }\n    }\n  }\n\n  onRemoveAttachment(newVal) {\n    this.setState({isLoading: true});\n    actions.dataShare.detachSource(newVal);\n  }\n\n  onToggleSharingData() {\n    const data = {\n      data_sharing: {\n        enabled: !this.state.isShared,\n        fields: [],\n      },\n    };\n\n    if (!this.state.isShared) {\n      let dialog = alertify.dialog('confirm');\n      let opts = {\n        title: `${t('Privacy Notice')}`,\n        message: t('This will attach the full dataset from \"##ASSET_NAME##\" as a background XML file to this form. While not easily visible, it is technically possible for anyone entering data to your form to retrieve and view this dataset. Do not use this feature if \"##ASSET_NAME##\" includes sensitive data.').replaceAll('##ASSET_NAME##', this.props.asset.name),\n        labels: {ok: t('Acknowledge and continue'), cancel: t('Cancel')},\n        onok: () => {\n          actions.dataShare.toggleDataSharing(this.props.asset.uid, data);\n          dialog.destroy();\n        },\n        oncancel: dialog.destroy,\n      };\n      dialog.set(opts).show();\n    } else {\n      actions.dataShare.toggleDataSharing(this.props.asset.uid, data);\n    }\n  }\n\n  onColumnSelected(columnList) {\n    this.setState({isLoading: true});\n\n    const fields = [];\n    columnList.forEach((item) => {\n      if (item.checked) {\n        fields.push(item.label);\n      }\n    });\n\n    const data = {\n      data_sharing: {\n        enabled: this.state.isShared,\n        fields: fields,\n      },\n    };\n\n    actions.dataShare.updateColumnFilters(this.props.asset.uid, data);\n  }\n\n  onSharingCheckboxChange(checked) {\n    let columnsToDisplay = this.state.columnsToDisplay;\n    if (!checked) {\n      columnsToDisplay = [];\n      const data = {\n        data_sharing: {\n          enabled: this.state.isShared,\n          fields: [],\n        },\n      };\n      actions.dataShare.updateColumnFilters(this.props.asset.uid, data);\n    }\n\n    this.setState({\n      columnsToDisplay: columnsToDisplay,\n      isSharingAnyQuestions: checked,\n    });\n  }\n\n  /*\n   * Utilities\n   */\n\n  generateFilteredAssetList() {\n    let attachedSourceUids = [];\n    this.state.attachedSources.forEach((item) => {\n      attachedSourceUids.push(item.sourceUid);\n    });\n\n    // Filter out attached projects from displayed asset list\n    return (\n      this.state.sharingEnabledAssets.results.filter(\n        item => !attachedSourceUids.includes(item.uid)\n      )\n    );\n  }\n\n  showColumnFilterModal(asset, source, filename, fields, attachmentUrl) {\n    stores.pageState.showModal(\n      {\n        type: MODAL_TYPES.DATA_ATTACHMENT_COLUMNS,\n        asset: asset,\n        source: source,\n        filename: filename,\n        fields: fields,\n        attachmentUrl: attachmentUrl,\n      }\n    );\n  }\n\n  markComponentAsLoading() {\n    this.setState({isLoading: true});\n  }\n\n  /*\n   * Rendering\n   */\n\n  //TODO: Use BEM elements instead\n\n  renderSelect() {\n    if (this.state.sharingEnabledAssets !== null) {\n      let sharingEnabledAssets = this.generateFilteredAssetList();\n      const selectClassNames = ['kobo-select__wrapper'];\n      if (this.state.fieldsErrors?.source) {\n        selectClassNames.push('kobo-select__wrapper--error');\n      }\n      return(\n        <div className={selectClassNames.join(' ')}>\n          <Select\n            placeholder={t('Select a different project to import data from')}\n            options={sharingEnabledAssets}\n            value={this.state.newSource}\n            isLoading={(!this.state.isInitialised || this.state.isLoading)}\n            getOptionLabel={(option) => option.name}\n            getOptionValue={(option) => option.url}\n            noOptionsMessage={() => t('No projects to connect')}\n            onChange={this.onSourceChange}\n            className='kobo-select'\n            classNamePrefix='kobo-select'\n          />\n\n          <label className='select-errors'>\n            {this.state.fieldsErrors?.source}\n          </label>\n        </div>\n      );\n    }\n  }\n\n  renderExports() {\n    if (this.state.isShared) {\n      return (\n        <div className='connect-projects__export'>\n          <div className='connect-projects__export-options'>\n            <ToggleSwitch\n              onChange={this.onToggleSharingData.bind(this)}\n              label={t('Data sharing enabled')}\n              checked={this.state.isShared}\n            />\n\n            <Checkbox\n              name='sharing'\n              checked={this.state.isSharingAnyQuestions}\n              onChange={this.onSharingCheckboxChange}\n              label={t('Select specific questions to share')}\n            />\n          </div>\n\n          {this.state.isSharingAnyQuestions &&\n            <div className='connect-projects__export-multicheckbox'>\n              <span>\n                {t('Select any questions you want to share in the right side table')}\n                {this.state.isLoading &&\n                  <LoadingSpinner message={t('Updating shared questions')}/>\n                }\n              </span>\n\n              <MultiCheckbox\n                items={this.state.columnsToDisplay}\n                disabled={this.state.isLoading}\n                onChange={this.onColumnSelected}\n              />\n            </div>\n          }\n        </div>\n      );\n    } else {\n      return (\n        <div className='connect-projects__export'>\n          <div className='connect-projects__export-switch'>\n            <ToggleSwitch\n              onChange={this.onToggleSharingData.bind(this)}\n              label={t('Data sharing disabled')}\n              checked={this.state.isShared}\n            />\n          </div>\n        </div>\n      );\n    }\n  }\n\n  renderImports() {\n    return (\n      <div className='connect-projects__import'>\n        <div className='connect-projects__import-form'>\n          {this.renderSelect()}\n\n          <TextBox\n            placeholder={t('Give a unique name to the import')}\n            value={this.state.newFilename}\n            onChange={this.onFilenameChange}\n            errors={this.state.fieldsErrors.filename}\n          />\n\n          <bem.KoboButton\n            m='blue'\n            onClick={this.onConfirmAttachment}\n          >\n            {t('Import')}\n          </bem.KoboButton>\n        </div>\n\n        {/* Display attached projects */}\n        <ul className='connect-projects__import-list'>\n          <label>{t('Imported')}</label>\n\n          {(!this.state.isInitialised || this.state.isLoading) &&\n            <div className='connect-projects__import-list-item'>\n              <LoadingSpinner message={t('Loading imported projects')} />\n            </div>\n          }\n\n          {!this.state.isLoading && this.state.attachedSources.length == 0 &&\n            <li className='connect-projects__import-list-item--no-imports'>\n              {t('No data imported')}\n            </li>\n          }\n\n          {!this.state.isLoading && this.state.attachedSources.length > 0 &&\n            this.state.attachedSources.map((item, n) => {\n              return (\n                <li key={n} className='connect-projects__import-list-item'>\n                  <i className='k-icon k-icon-check'/>\n\n                  <div className='connect-projects__import-labels'>\n                    <span className='connect-projects__import-labels-filename'>\n                      {item.filename}\n                    </span>\n\n                    <span className='connect-projects__import-labels-source'>\n                      {item.sourceName}\n                    </span>\n                  </div>\n\n                  <div className='connect-projects__import-options'>\n                    <bem.KoboLightButton\n                      m={['red', 'icon-only']}\n                      onClick={() => this.onRemoveAttachment(item.attachmentUrl)}\n                    >\n                      <i className='k-icon k-icon-trash'/>\n                    </bem.KoboLightButton>\n\n                    <bem.KoboLightButton\n                      m={['blue', 'icon-only']}\n                      onClick={() => this.showColumnFilterModal(\n                        this.props.asset,\n                        {\n                          uid: item.sourceUid,\n                          name: item.sourceName,\n                          url: item.sourceUrl,\n                        },\n                        item.filename,\n                        item.linkedFields,\n                        item.attachmentUrl,\n                      )}\n                    >\n                      <i className='k-icon k-icon-settings'/>\n                    </bem.KoboLightButton>\n                  </div>\n                </li>\n              );\n            })\n          }\n        </ul>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <bem.FormView__row>\n        {/* Enable data sharing */}\n        <bem.FormView__cell m={['page-title']}>\n          <i className=\"k-icon k-icon-folder-out\"/>\n          <h2>{t('Share data with other project forms')}</h2>\n        </bem.FormView__cell>\n\n        <bem.FormView__cell m={['box', 'padding']}>\n          <bem.FormView__form>\n            <span>\n              {t('Enable data sharing to allow other forms to import and use dynamic data from this project. Learn more about dynamic data attachments')}\n              &nbsp;\n              <a\n                href={\n                  envStore.data.support_url +\n                  DYNAMIC_DATA_ATTACHMENTS_SUPPORT_URL\n                }\n                target='_blank'\n              >\n                {t('here')}\n              </a>\n            </span>\n\n            {this.renderExports()}\n          </bem.FormView__form>\n        </bem.FormView__cell>\n\n        {/* Attach other projects data */}\n        <bem.FormView__cell m={['page-title']}>\n          <i className=\"k-icon k-icon-folder-in\"/>\n          <h2>{t('Import other project data')}</h2>\n        </bem.FormView__cell>\n\n        <bem.FormView__cell m={['box', 'padding']}>\n          <bem.FormView__form>\n            <span>\n              {t('Connect with other project(s) to import dynamic data from them into this project. Learn more about dynamic data attachments')}\n              &nbsp;\n              <a\n                href={\n                  envStore.data.support_url +\n                  DYNAMIC_DATA_ATTACHMENTS_SUPPORT_URL\n                }\n                target='_blank'\n              >\n                {t('here')}\n              </a>\n            </span>\n            {this.renderImports()}\n          </bem.FormView__form>\n        </bem.FormView__cell>\n      </bem.FormView__row>\n    );\n  }\n}\n\nexport default ConnectProjects;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport alertify from 'alertifyjs';\nimport Dropzone from 'react-dropzone';\nimport TextBox from 'js/components/common/textBox';\nimport {actions} from 'js/actions';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport envStore from 'js/envStore';\nimport {\n  ASSET_FILE_TYPES,\n  MAX_DISPLAYED_STRING_LENGTH,\n} from 'js/constants';\n\nimport {\n  truncateString,\n  truncateUrl,\n} from 'js/utils';\nimport './formMedia.scss';\n\nconst MAX_ITEM_LENGTH = 50;\nconst DEFAULT_MEDIA_DESCRIPTION = 'default';\nconst MEDIA_SUPPORT_URL = 'media.html';\n\n/**\n * @prop {object} asset\n *\n * Modal for uploading form media\n */\nclass FormMedia extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      uploadedAssets: [],\n      fieldsErrors: {},\n      inputURL: '',\n      // to show loading icon instead of nothing on first load\n      isInitialised: false,\n      // to show loading icon while uploading any file\n      isUploadFilePending: false,\n      isUploadURLPending: false,\n    };\n\n    autoBind(this);\n  }\n\n  /*\n   * setup\n   */\n\n  componentDidMount() {\n    actions.media.loadMedia(this.props.asset.uid);\n\n    actions.media.loadMedia.completed.listen(this.onGetMediaCompleted);\n    actions.media.uploadMedia.failed.listen(this.onUploadFailed);\n  }\n\n  /*\n   * action listeners\n   */\n\n  onGetMediaCompleted(uploadedAssets) {\n    this.setState({\n      uploadedAssets: uploadedAssets.results,\n      isUploadFilePending: false,\n      isUploadURLPending: false,\n      isInitialised: true,\n    });\n  }\n\n  onUploadFailed(response) {\n    this.setState({\n      fieldsErrors: response.responseJSON,\n      isUploadFilePending: false,\n      isUploadURLPending: false,\n    });\n  }\n\n  /*\n   * Utilities\n   */\n\n  toBase64(file) {\n    return new Promise((resolve, reject) => {\n      var reader = new FileReader();\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  }\n\n  /*\n   * Backend requires form media payload to include the following\n   *\n   * @namespace formMediaJSON\n   * @param {string} description - can be anything, when in doubt use 'default'\n   * @param {string} filetype - should be `ASSET_FILE_TYPES.form_media.id`\n   * @param {string} metadata - Won't break if not included, but should contain\n   *                            the JSON stringified filename for downloading\n   * @param {string} base64Encoded\n   *\n   * @param {formMediaJSON} formMediaJSON\n   *\n   * Taken from: https://github.com/kobotoolbox/kpi/blob/a5302750fa0974d075495bfc070afc85ff5cf60d/kpi/views/v2/asset_file.py#L49-L67\n   */\n\n  uploadMedia(formMediaJSON) {\n    // Reset error message before uploading again\n    this.setState({fieldsErrors: {}});\n    actions.media.uploadMedia(this.props.asset.uid, formMediaJSON);\n  }\n\n  /*\n   * DOM listeners\n   */\n\n  onFileDrop(files) {\n    if (files.length >= 1) {\n      this.setState({isUploadFilePending: true});\n\n      files.forEach(async (file) => {\n        var base64File = await this.toBase64(file);\n\n        this.uploadMedia({\n          description: DEFAULT_MEDIA_DESCRIPTION,\n          file_type: ASSET_FILE_TYPES.form_media.id,\n          metadata: JSON.stringify({filename: file.name}),\n          base64Encoded: base64File,\n        });\n      });\n    }\n  }\n\n  onInputURLChange(inputURL) {\n    this.setState({inputURL: inputURL});\n  }\n\n  onSubmitURL() {\n    var url = this.state.inputURL;\n\n    if (url === '') {\n      alertify.warning(t('URL is empty!'));\n    } else {\n      this.setState({\n        isUploadURLPending: true,\n        inputURL: '',\n      });\n\n      this.uploadMedia({\n        description: DEFAULT_MEDIA_DESCRIPTION,\n        file_type: ASSET_FILE_TYPES.form_media.id,\n        metadata: JSON.stringify({redirect_url: url}),\n      });\n    }\n  }\n\n  onDeleteMedia(evt, url) {\n    evt.preventDefault();\n    actions.media.deleteMedia(this.props.asset.uid, url);\n  }\n\n  /*\n   * rendering\n   */\n\n  renderButton() {\n    const buttonClassNames = [\n      'form-builder-header__button',\n      'form-builder-header__button--save',\n    ];\n\n    if (this.state.isUploadURLPending) {\n      buttonClassNames.push('form-builder-header__button--savepending');\n    }\n\n    return (\n      <button\n        className={buttonClassNames.join(' ')}\n        onClick={this.onSubmitURL}\n        disabled={!this.state.inputURL}\n      >\n        {/* Icon gets populated via CSS like formbuilder, see: kpi#3133 */}\n        <i />\n        {t('Add')}\n      </button>\n    );\n  }\n\n  renderFileName(item) {\n    // Check if current item is uploaded via URL. `redirect_url` is the indicator\n    var fileName = item.metadata.filename;\n    if (item.metadata.redirect_url) {\n      fileName = truncateUrl(item.metadata.redirect_url, MAX_DISPLAYED_STRING_LENGTH.form_media);\n    } else {\n      fileName = truncateString(fileName, MAX_DISPLAYED_STRING_LENGTH.form_media);\n    }\n\n    return (\n      <a\n        href={item?.content}\n        target='_blank'\n        // Added manually by frontend, not backend. See uploadMedia()\n        download={item?.metadata?.filename}\n      >\n        {fileName}\n      </a>\n    );\n  }\n\n  renderIcon(item) {\n    const iconClassNames = ['form-media__file-type', 'k-icon'];\n    // Check if current item is uploaded via URL. `redirect_url` is the indicator\n    if (item.metadata.redirect_url) {\n      iconClassNames.push('k-icon-link');\n    } else {\n      iconClassNames.push('k-icon-media-files');\n    }\n\n    return <i className={iconClassNames.join(' ')} />;\n  }\n\n  render() {\n    return (\n      <bem.FormView m='form-media'>\n        <bem.FormMedia>\n          {this.props.asset.deployment__active &&\n            <bem.FormView__cell m='warning'>\n              <i className='k-icon k-icon-alert' />\n              <p>{t('You must redeploy this form to see media changes.')}</p>\n            </bem.FormView__cell>\n          }\n\n          <bem.FormMedia__title>\n            <bem.FormMedia__label>\n              {t('Attach files')}\n            </bem.FormMedia__label>\n\n            {envStore.isReady &&\n              envStore.data.support_url && (\n                <a\n                  className='title-help'\n                  target='_blank'\n                  href={\n                    envStore.data.support_url +\n                    MEDIA_SUPPORT_URL\n                  }\n                  data-tip={t('Learn more about form media')}\n                >\n                  <i className='k-icon k-icon-help' />\n                </a>\n              )}\n          </bem.FormMedia__title>\n\n          <bem.FormMedia__upload>\n            {!this.state.isUploadFilePending && (\n              <Dropzone\n                onDrop={this.onFileDrop.bind(this)}\n                className='kobo-dropzone kobo-dropzone--form-media'\n              >\n                {this.state.fieldsErrors?.base64Encoded && (\n                  <bem.FormView__cell m='error'>\n                    <i className='k-icon k-icon-alert' />\n                    <p>{this.state.fieldsErrors?.base64Encoded}</p>\n                  </bem.FormView__cell>\n                )}\n                <i className='k-icon k-icon-upload' />\n                {t('Drag and drop files here')}\n                <div className='dropzone-description'>\n                  {t('or')} <a>{t('click here to browse')}</a>\n                </div>\n              </Dropzone>\n            )}\n\n            {this.state.isUploadFilePending && (\n              <div className='kobo-dropzone kobo-dropzone--form-media'>\n                <LoadingSpinner message={t('Uploading file…')} />\n              </div>\n            )}\n\n            <bem.FormMediaUploadUrl>\n              <bem.FormMediaUploadUrl__label>\n                {t('You can also add files using a URL')}\n              </bem.FormMediaUploadUrl__label>\n\n              <bem.FormMediaUploadUrl__form>\n                <TextBox\n                  type='url'\n                  placeholder={t('Paste URL here')}\n                  errors={this.state.fieldsErrors?.metadata}\n                  value={this.state.inputURL}\n                  onChange={this.onInputURLChange}\n                />\n\n                {this.renderButton()}\n              </bem.FormMediaUploadUrl__form>\n            </bem.FormMediaUploadUrl>\n          </bem.FormMedia__upload>\n\n          <bem.FormMedia__list>\n            <bem.FormMedia__label>\n              {t('Attached files')}\n            </bem.FormMedia__label>\n\n            <ul>\n              {(!this.state.isInitialised ||\n                this.state.isUploadFilePending ||\n                this.state.isUploadURLPending) && (\n                <bem.FormMedia__listItem>\n                  <LoadingSpinner message={t('loading media')} />\n                </bem.FormMedia__listItem>\n              )}\n\n              {this.state.isInitialised &&\n                !this.state.uploadedAssets.length && (\n                  <bem.FormMedia__listItem>\n                    {t('No files uploaded yet')}\n                  </bem.FormMedia__listItem>\n                )}\n\n              {this.state.uploadedAssets.map((item, n) => (\n                <bem.FormMedia__listItem key={n}>\n                  {this.renderIcon(item)}\n\n                  {this.renderFileName(item)}\n\n                  <bem.KoboLightButton\n                    m={['red', 'icon-only']}\n                    onClick={(evt) => this.onDeleteMedia(evt, item.url)}\n                  >\n                    <i className='k-icon k-icon-trash' />\n                  </bem.KoboLightButton>\n                </bem.FormMedia__listItem>\n              ))}\n            </ul>\n          </bem.FormMedia__list>\n        </bem.FormMedia>\n      </bem.FormView>\n    );\n  }\n}\n\nexport default FormMedia;\n","import {createEnum} from 'js/constants';\n\nexport const EXPORT_TYPES = Object.freeze({\n  csv_legacy: {value: 'csv_legacy', label: t('CSV (legacy)'), isLegacy: true},\n  csv: {value: 'csv', label: t('CSV'), isLegacy: false},\n  geojson: {value: 'geojson', label: t('GeoJSON'), isLegacy: false},\n  kml_legacy: {value: 'kml_legacy', label: t('GPS coordinates (KML)'), isLegacy: true},\n  spss_labels: {value: 'spss_labels', label: t('SPSS Labels'), isLegacy: false},\n  xls_legacy: {value: 'xls_legacy', label: t('XLS (legacy)'), isLegacy: true},\n  xls: {value: 'xls', label: t('XLS'), isLegacy: false},\n  zip_legacy: {value: 'zip_legacy', label: t('Media Attachments (ZIP)'), isLegacy: true},\n});\n\nexport const EXPORT_FORMATS = Object.freeze({\n  // Unchecked wisdom from old component:\n  // > The value of `formpack.constants.UNTRANSLATED` is `null` which is the same as `_default`\n  _default: {value: '_default', label: t('Labels')},\n  // Unchecked wisdom from old component:\n  // > The value of `formpack.constants.UNSPECIFIED_TRANSLATION` is `false` which is the same as `_xml`\n  //\n  // Unchecked wisdom from old component:\n  // > Exports previously used `xml` (no underscore) for this, which works so\n  // > long as the form has no language called `xml`. We shouldn't bank on that:\n  // > https://en.wikipedia.org/wiki/Malaysian_Sign_Language\n  _xml: {value: '_xml', label: t('XML values and headers')},\n});\n\nexport const EXPORT_MULTIPLE_OPTIONS = Object.freeze({\n  details: {\n    value: 'details',\n    label: t('Separate columns'),\n  },\n  summary: {\n    value: 'summary',\n    label: t('Single column'),\n  },\n  both: {\n    value: 'both',\n    label: t('Single and separate columns'),\n  },\n});\n\nexport const EXPORT_STATUSES = createEnum([\n  'created',\n  'processing',\n  'complete',\n  'error',\n]);\n\nexport const DEFAULT_EXPORT_SETTINGS = Object.freeze({\n  CUSTOM_EXPORT_NAME: '',\n  CUSTOM_SELECTION: false,\n  // Export format options are contextual - if asset has multiple languages,\n  // then there is no `_default` option, but the list of languages. Only `_xml`\n  // option is always here, so we treat it as a fallback default.\n  EXPORT_FORMAT: EXPORT_FORMATS._xml,\n  EXPORT_MULTIPLE: EXPORT_MULTIPLE_OPTIONS.both,\n  // xls is the most popular choice and we respect that\n  EXPORT_TYPE: EXPORT_TYPES.xls,\n  FLATTEN_GEO_JSON: false,\n  XLS_TYPES_AS_TEXT: false,\n  INCLUDE_MEDIA_URL: true,\n  GROUP_SEPARATOR: '/',\n  INCLUDE_ALL_VERSIONS: true,\n  INCLUDE_GROUPS: false,\n  SAVE_CUSTOM_EXPORT: false,\n  // by default all rows should be selected, but we can't know the asset rows\n  // here, so the set will be empty, and the component using\n  // DEFAULT_EXPORT_SETTINGS is responsible to fill it up\n  SELECTED_ROWS: new Set(),\n});\n\nexport const EXPORT_REFRESH_TIME = 4000;\n","import {EXPORT_FORMATS} from 'js/components/projectDownloads/exportsConstants';\n\n/**\n * @returns one of export format options, either the asset's default language\n * or `_default` (or more precisely: the first option)\n *\n * @param {object} asset\n * @returns {object} the default options from getExportFormatOptions\n */\nexport function getContextualDefaultExportFormat(asset) {\n  const exportFormatOptions = getExportFormatOptions(asset);\n  const defaultAssetLanguage = asset.summary?.default_translation;\n  const defaultAssetLanguageOption = exportFormatOptions.find((option) =>\n    defaultAssetLanguage === option.value\n  );\n  return defaultAssetLanguageOption || exportFormatOptions[0];\n}\n\n/**\n * @param {object} asset\n * @returns {object[]} list of options available as formats for given asset\n */\nexport function getExportFormatOptions(asset) {\n  const options = [];\n\n  // Step 1: add all defined languages as options (both named and unnamed)\n  if (asset.summary?.languages.length >= 1) {\n    asset.summary.languages.forEach((language, index) => {\n      // unnamed language gives the `_default` option\n      if (language === null) {\n        options.push(EXPORT_FORMATS._default);\n      } else {\n        options.push({\n          value: language,\n          label: language,\n          langIndex: index,\n        });\n      }\n    });\n  }\n\n  // Step 2: if for some reason nothing was added yet, add `_default`\n  if (options.length === 0) {\n    options.push(EXPORT_FORMATS._default);\n  }\n\n  // Step 3: `_xml` is always available and always last\n  options.push(EXPORT_FORMATS._xml);\n\n  return options;\n}\n","import Reflux from 'reflux';\nimport {hashHistory} from 'react-router';\nimport {DEFAULT_EXPORT_SETTINGS} from './exportsConstants';\n\n/**\n * It handles the selected export type.\n */\nconst exportsStore = Reflux.createStore({\n  previousPath: hashHistory.getCurrentLocation().pathname,\n  data: {\n    exportType: DEFAULT_EXPORT_SETTINGS.EXPORT_TYPE,\n  },\n\n  init() {\n    hashHistory.listen(this.onRouteChange.bind(this));\n  },\n\n  onRouteChange() {\n    if (!this.isOnProjectDownloadsRoute()) {\n      // when leaving the custom downloads route, reset the store\n      this.data.exportType = DEFAULT_EXPORT_SETTINGS.EXPORT_TYPE;\n      this.trigger(this.data);\n    }\n  },\n\n  isOnProjectDownloadsRoute() {\n    const path = hashHistory.getCurrentLocation().pathname;\n    return (\n      path.split('/')[1] === 'forms' &&\n      path.split('/')[3] === 'data' &&\n      path.split('/')[3] === 'downloads'\n    );\n  },\n\n  setExportType(newExportType, needsUpdating = true) {\n    this.data.exportType = newExportType;\n    if (needsUpdating) {\n      this.trigger(this.data);\n    }\n  },\n\n  getExportType() {\n    return this.data.exportType;\n  },\n});\n\nexport default exportsStore;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport Select from 'react-select';\nimport bem from 'js/bem';\nimport {EXPORT_TYPES} from 'js/components/projectDownloads/exportsConstants';\nimport exportsStore from 'js/components/projectDownloads/exportsStore';\n\n/**\n * This is a selector that is handling the currently selected export type and\n * is storing it in exportsStore.\n * @prop {boolean} [disabled]\n * @prop {boolean} [noLegacy] hides legacy options\n */\nexport default class ExportTypeSelector extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {selectedExportType: exportsStore.getExportType()};\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      exportsStore.listen(this.onExportsStoreChange),\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onExportsStoreChange() {\n    this.setState({selectedExportType: exportsStore.getExportType()});\n  }\n\n  onSelectedExportTypeChange(newValue) {\n    exportsStore.setExportType(newValue);\n  }\n\n  render() {\n    // make xls topmost (as most popular)\n    const exportTypesOptions = [\n      EXPORT_TYPES.xls,\n      EXPORT_TYPES.csv,\n      EXPORT_TYPES.geojson,\n      EXPORT_TYPES.spss_labels,\n    ];\n\n    // legacy options are optional\n    if (!this.props.noLegacy) {\n      exportTypesOptions.push(EXPORT_TYPES.csv_legacy);\n      exportTypesOptions.push(EXPORT_TYPES.kml_legacy);\n      exportTypesOptions.push(EXPORT_TYPES.xls_legacy);\n      exportTypesOptions.push(EXPORT_TYPES.zip_legacy);\n    }\n\n    return (\n      <label>\n        <bem.ProjectDownloads__title>\n          {t('Select export type')}\n        </bem.ProjectDownloads__title>\n\n        <Select\n          value={this.state.selectedExportType}\n          options={exportTypesOptions}\n          onChange={this.onSelectedExportTypeChange}\n          className='kobo-select'\n          classNamePrefix='kobo-select'\n          menuPlacement='auto'\n          isSearchable={false}\n          isDisabled={this.props.disabled}\n        />\n      </label>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport Select from 'react-select';\nimport alertify from 'alertifyjs';\nimport MultiCheckbox from 'js/components/common/multiCheckbox';\nimport Checkbox from 'js/components/common/checkbox';\nimport TextBox from 'js/components/common/textBox';\nimport ToggleSwitch from 'js/components/common/toggleSwitch';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport {formatTimeDate} from 'js/utils';\nimport mixins from 'js/mixins';\nimport {\n  ADDITIONAL_SUBMISSION_PROPS,\n  PERMISSIONS_CODENAMES,\n} from 'js/constants';\nimport {\n  EXPORT_TYPES,\n  DEFAULT_EXPORT_SETTINGS,\n  EXPORT_FORMATS,\n  EXPORT_MULTIPLE_OPTIONS,\n} from 'js/components/projectDownloads/exportsConstants';\nimport {\n  getContextualDefaultExportFormat,\n  getExportFormatOptions,\n} from 'js/components/projectDownloads/exportsUtils';\nimport assetUtils from 'js/assetUtils';\nimport exportsStore from 'js/components/projectDownloads/exportsStore';\nimport ExportTypeSelector from 'js/components/projectDownloads/exportTypeSelector';\n\nconst NAMELESS_EXPORT_NAME = t('Latest unsaved settings');\n\n/**\n * This is component responsible for creating and saving export settings. It can\n * also request a new download from backend.\n *\n * @prop {object} asset\n *\n * NOTE: we use a nameless export setting to keep last used export settings that\n * weren't saved as named custom setting.\n */\nexport default class ProjectExportsCreator extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isComponentReady: false,\n      isPending: false, // is either saving setting or creating export\n      // selectedExportType is being handled by exportsStore to allow other\n      // components to know it changed\n      selectedExportType: exportsStore.getExportType(),\n      selectedExportFormat: getContextualDefaultExportFormat(this.props.asset),\n      groupSeparator: DEFAULT_EXPORT_SETTINGS.GROUP_SEPARATOR,\n      selectedExportMultiple: DEFAULT_EXPORT_SETTINGS.EXPORT_MULTIPLE,\n      isIncludeGroupsEnabled: DEFAULT_EXPORT_SETTINGS.INCLUDE_GROUPS,\n      isIncludeAllVersionsEnabled: DEFAULT_EXPORT_SETTINGS.INCLUDE_ALL_VERSIONS,\n      isAdvancedViewVisible: false,\n      isSaveCustomExportEnabled: DEFAULT_EXPORT_SETTINGS.SAVE_CUSTOM_EXPORT,\n      customExportName: DEFAULT_EXPORT_SETTINGS.CUSTOM_EXPORT_NAME,\n      isCustomSelectionEnabled: DEFAULT_EXPORT_SETTINGS.CUSTOM_SELECTION,\n      isFlattenGeoJsonEnabled: DEFAULT_EXPORT_SETTINGS.FLATTEN_GEO_JSON,\n      isXlsTypesAsTextEnabled: DEFAULT_EXPORT_SETTINGS.XLS_TYPES_AS_TEXT,\n      isIncludeMediaUrlEnabled: DEFAULT_EXPORT_SETTINGS.INCLUDE_MEDIA_URL,\n      selectedRows: new Set(),\n      selectableRowsCount: 0,\n      selectedDefinedExport: null,\n      definedExports: [],\n      isUpdatingDefinedExportsList: false,\n    };\n\n    this.unlisteners = [];\n\n    const allSelectableRows = this.getAllSelectableRows();\n    if (allSelectableRows) {\n      this.state.selectedRows = new Set(allSelectableRows);\n      this.state.selectableRowsCount = this.state.selectedRows.size;\n    }\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      exportsStore.listen(this.onExportsStoreChange),\n      actions.exports.getExportSettings.completed.listen(this.onGetExportSettingsCompleted),\n      actions.exports.updateExportSetting.completed.listen(this.fetchExportSettings.bind(this, true)),\n      actions.exports.createExportSetting.completed.listen(this.fetchExportSettings.bind(this, true)),\n      actions.exports.deleteExportSetting.completed.listen(this.onDeleteExportSettingCompleted),\n    );\n\n    this.fetchExportSettings(true);\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  setDefaultExportSettings() {\n    exportsStore.setExportType(DEFAULT_EXPORT_SETTINGS.EXPORT_TYPE);\n    this.setState({\n      selectedExportFormat: getContextualDefaultExportFormat(this.props.asset),\n      groupSeparator: DEFAULT_EXPORT_SETTINGS.GROUP_SEPARATOR,\n      selectedExportMultiple: DEFAULT_EXPORT_SETTINGS.EXPORT_MULTIPLE,\n      isIncludeGroupsEnabled: DEFAULT_EXPORT_SETTINGS.INCLUDE_GROUPS,\n      isIncludeAllVersionsEnabled: DEFAULT_EXPORT_SETTINGS.INCLUDE_ALL_VERSIONS,\n      isSaveCustomExportEnabled: DEFAULT_EXPORT_SETTINGS.SAVE_CUSTOM_EXPORT,\n      customExportName: DEFAULT_EXPORT_SETTINGS.CUSTOM_EXPORT_NAME,\n      isCustomSelectionEnabled: DEFAULT_EXPORT_SETTINGS.CUSTOM_SELECTION,\n      isFlattenGeoJsonEnabled: DEFAULT_EXPORT_SETTINGS.FLATTEN_GEO_JSON,\n      isXlsTypesAsTextEnabled: DEFAULT_EXPORT_SETTINGS.XLS_TYPES_AS_TEXT,\n      isIncludeMediaUrlEnabled: DEFAULT_EXPORT_SETTINGS.INCLUDE_MEDIA_URL,\n      selectedRows: new Set(this.getAllSelectableRows()),\n    });\n  }\n\n  onExportsStoreChange() {\n    const newExportType = exportsStore.getExportType();\n    if (newExportType.value !== this.state.selectedExportType.value) {\n      const newStateObj = {\n        selectedExportType: newExportType,\n        // when export type changes, make sure the custom export is cleared\n        // to avoid users saving unwanted changes (the custom export name is not\n        // visible unless Advanced View is toggled)\n        isSaveCustomExportEnabled: false,\n        customExportName: '',\n      };\n\n      this.setState(newStateObj);\n    }\n  }\n\n  onGetExportSettingsCompleted(response, passData) {\n    // we need to prepare the results to be displayed in Select\n    const definedExports = [];\n    response.results.forEach((result, index) => {\n      definedExports.push({\n        value: index,\n        label: result.name ? result.name : NAMELESS_EXPORT_NAME,\n        data: result,\n      });\n    });\n\n    this.setState({\n      isUpdatingDefinedExportsList: false,\n      definedExports: definedExports,\n    });\n\n    // load last saved settings\n    if (response.count >= 1 && passData?.preselectLastSettings) {\n      this.applyExportSettingToState(response.results[0]);\n    }\n\n    if (!this.state.isComponentReady) {\n      this.setState({isComponentReady: true});\n    }\n  }\n\n  onDeleteExportSettingCompleted() {\n    this.clearSelectedDefinedExport();\n    this.fetchExportSettings();\n  }\n\n  getAllSelectableRows() {\n    const allRows = new Set();\n    if (this.props.asset?.content?.survey) {\n      const flatPaths = assetUtils.getSurveyFlatPaths(\n        this.props.asset.content.survey,\n        false,\n        true\n      );\n      Object.values(flatPaths).forEach((path) => {allRows.add(path);});\n      Object.keys(ADDITIONAL_SUBMISSION_PROPS).forEach((submissionProp) => {\n        allRows.add(submissionProp);\n      });\n    }\n    return allRows;\n  }\n\n  /**\n   * Used when update/create export settings call goes through to make a next\n   * call to create an export from this settings.\n   * We did not want to make export from every update/create response to make\n   * sure the export was actually wanted.\n   */\n  handleScheduledExport(response) {\n    if (typeof this.clearScheduledExport === 'function') {\n      this.clearScheduledExport();\n    }\n\n    this.setState({isPending: true});\n\n    const exportParams = response.export_settings;\n    actions.exports.createExport(this.props.asset.uid, exportParams);\n  }\n\n  /**\n   * @param {boolean} preselectLastSettings - wheter to make the last saved\n   * settings selected in the dropdown after fetching data\n   */\n  fetchExportSettings(preselectLastSettings = false) {\n    this.setState({isUpdatingDefinedExportsList: true});\n    actions.exports.getExportSettings(this.props.asset.uid, {preselectLastSettings});\n  }\n\n  onDeleteExportSetting(exportSettingUid, evt) {\n    evt.preventDefault();\n\n    const dialog = alertify.dialog('confirm');\n    const opts = {\n      title: t('Delete export settings?'),\n      message: t('Are you sure you want to delete this settings? This action is not reversible.'),\n      labels: {ok: t('Delete'), cancel: t('Cancel')},\n      onok: () => {\n        actions.exports.deleteExportSetting(\n          this.props.asset.uid,\n          exportSettingUid\n        );\n      },\n      oncancel: () => {dialog.destroy();},\n    };\n    dialog.set(opts).show();\n  }\n\n  onSelectedDefinedExportChange(newDefinedExport) {\n    if (newDefinedExport.value === null) {\n      this.setDefaultExportSettings();\n      this.clearSelectedDefinedExport();\n    } else {\n      this.applyExportSettingToState(newDefinedExport.data);\n    }\n  }\n\n  getSelectedDefinedExportOptions() {\n    return [\n      {\n        value: null,\n        label: t('None'),\n      },\n      ...this.state.definedExports,\n    ];\n  }\n\n  /**\n   * FYI changing anything in the form should clear the selected defined export\n   */\n  clearSelectedDefinedExport() {\n    this.setState({selectedDefinedExport: null});\n  }\n\n  onAnyInputChange(statePropName, newValue) {\n    this.clearSelectedDefinedExport();\n    const newStateObj = {};\n    newStateObj[statePropName] = newValue;\n    this.setState(newStateObj);\n  }\n\n  onSelectedRowsChange(newRowsArray) {\n    this.clearSelectedDefinedExport();\n    const newSelectedRows = new Set();\n    newRowsArray.forEach((item) => {\n      if (item.checked) {\n        newSelectedRows.add(item.path);\n      }\n    });\n    this.setState({selectedRows: newSelectedRows});\n  }\n\n  selectAllRows(evt) {\n    evt.preventDefault();\n    this.clearSelectedDefinedExport();\n    this.setState({selectedRows: new Set(this.getAllSelectableRows())});\n  }\n\n  clearSelectedRows(evt) {\n    evt.preventDefault();\n    this.clearSelectedDefinedExport();\n    this.setState({selectedRows: new Set()});\n  }\n\n  toggleAdvancedView(evt) {\n    evt.preventDefault();\n    this.setState({isAdvancedViewVisible: !this.state.isAdvancedViewVisible});\n  }\n\n  applyExportSettingToState(data) {\n    // this silently sets exportsStore value to current one\n    exportsStore.setExportType(EXPORT_TYPES[data.export_settings.type], false);\n\n    const exportFormatOptions = getExportFormatOptions(this.props.asset);\n    let selectedExportFormat = exportFormatOptions.find((option) =>\n      option.value === data.export_settings.lang\n    );\n\n    // If saved export lang option doesn't exist anymore select default one\n    if (!selectedExportFormat) {\n      selectedExportFormat = getContextualDefaultExportFormat(this.props.asset);\n    }\n\n    // Select custom export toggle if not all rows are selected\n    // but only if at least one is selected\n    const customSelectionEnabled = (\n      data.export_settings.fields.length !== 0 &&\n      this.state.selectableRowsCount !== data.export_settings.fields.length\n    );\n\n    const newStateObj = {\n      selectedExportType: EXPORT_TYPES[data.export_settings.type],\n      selectedExportFormat: selectedExportFormat,\n      groupSeparator: data.export_settings.group_sep,\n      selectedExportMultiple: EXPORT_MULTIPLE_OPTIONS[data.export_settings.multiple_select],\n      isIncludeGroupsEnabled: data.export_settings.hierarchy_in_labels,\n      isIncludeAllVersionsEnabled: data.export_settings.fields_from_all_versions,\n      // check whether a custom name was given\n      isSaveCustomExportEnabled: typeof data.name === 'string' && data.name.length >= 1,\n      customExportName: data.name,\n      isCustomSelectionEnabled: customSelectionEnabled,\n      isFlattenGeoJsonEnabled: data.export_settings.flatten,\n      isXlsTypesAsTextEnabled: data.export_settings.xls_types_as_text,\n      isIncludeMediaUrlEnabled: data.export_settings.include_media_url,\n      selectedRows: new Set(data.export_settings.fields),\n    };\n\n    // if all rows are selected then fields will be empty, so we need to select all checkboxes manually\n    if (newStateObj.selectedRows.size === 0) {\n      newStateObj.selectedRows = new Set(this.getAllSelectableRows());\n    }\n\n    // select existing item from the dropdown\n    this.state.definedExports.forEach((definedExport) => {\n      if (definedExport.data.name === data.name) {\n        newStateObj.selectedDefinedExport = definedExport;\n      }\n    });\n\n    this.setState(newStateObj);\n  }\n\n  onSubmit(evt) {\n    evt.preventDefault();\n\n    const payload = {\n      name: '',\n      export_settings: {\n        fields_from_all_versions: this.state.isIncludeAllVersionsEnabled,\n        fields: [],\n        group_sep: this.state.groupSeparator,\n        hierarchy_in_labels: this.state.isIncludeGroupsEnabled,\n        lang: this.state.selectedExportFormat.value,\n        multiple_select: this.state.selectedExportMultiple.value,\n        type: this.state.selectedExportType.value,\n      },\n    };\n\n    // flatten is only for GeoJSON\n    if (this.state.selectedExportType.value === EXPORT_TYPES.geojson.value) {\n      payload.export_settings.flatten = this.state.isFlattenGeoJsonEnabled;\n    }\n\n    // xls_types_as_text is only for xls\n    if (this.state.selectedExportType.value === EXPORT_TYPES.xls.value) {\n      payload.export_settings.xls_types_as_text = this.state.isXlsTypesAsTextEnabled;\n    }\n\n    // include_media_url is only for xls and csv\n    if (this.state.selectedExportType.value === EXPORT_TYPES.xls.value ||\n        this.state.selectedExportType.value === EXPORT_TYPES.csv.value\n    ) {\n      payload.export_settings.include_media_url = this.state.isIncludeMediaUrlEnabled;\n    }\n\n    // if custom export is enabled, but there is no name provided\n    // we generate a name for export ourselves\n    if (this.state.isSaveCustomExportEnabled) {\n      payload.name = this.state.customExportName || this.generateExportName();\n    }\n\n    // unless custom selection is enabled, we send empty fields (it means \"all\n    // fields\" for backend); otherwise we send the selected rows\n    if (this.state.isCustomSelectionEnabled) {\n      payload.export_settings.fields = Array.from(this.state.selectedRows);\n    }\n\n    const foundDefinedExport = this.state.definedExports.find((definedExport) =>\n      definedExport.data.name === payload.name\n    );\n\n    this.setState({isPending: true});\n\n    if (typeof this.clearScheduledExport === 'function') {\n      this.clearScheduledExport();\n    }\n\n    // Case 1: Don't need to save the export if currently selected a saved one,\n    // so we get directly to export creation.\n    // Case 2: Also omit saving if user doesn't have permissions to save.\n    if (\n      this.state.selectedDefinedExport !== null ||\n      !mixins.permissions.userCan(PERMISSIONS_CODENAMES.manage_asset, this.props.asset)\n    ) {\n      this.handleScheduledExport(payload);\n    // Case 3: There is a defined export with the same name already, so we need\n    // to update it.\n    } else if (foundDefinedExport) {\n      this.clearScheduledExport = actions.exports.updateExportSetting.completed.listen(\n        this.handleScheduledExport\n      );\n      actions.exports.updateExportSetting(\n        this.props.asset.uid,\n        foundDefinedExport.data.uid,\n        payload,\n      );\n    // Case 4: There is no defined export like this one, we need to create it.\n    } else {\n      this.clearScheduledExport = actions.exports.createExportSetting.completed.listen(\n        this.handleScheduledExport\n      );\n      actions.exports.createExportSetting(\n        this.props.asset.uid,\n        payload,\n      );\n    }\n  }\n\n  generateExportName() {\n    return `Export ${formatTimeDate()}`;\n  }\n\n  getQuestionsList() {\n    // survey question rows with data\n    const output = assetUtils.getFlatQuestionsList(\n      this.props.asset.content.survey,\n      this.state.selectedExportFormat?.langIndex,\n      true\n    );\n\n    // additional submission properties added by backend\n    Object.keys(ADDITIONAL_SUBMISSION_PROPS).forEach((submissionProp) => {\n      output.push({\n        name: submissionProp,\n        label: submissionProp,\n        path: submissionProp,\n      });\n    });\n\n    return output;\n  }\n\n  renderRowsSelector() {\n    const rows = this.getQuestionsList().map((row) => {\n      let checkboxLabel = '';\n      if (this.state.selectedExportFormat.value === EXPORT_FORMATS._xml.value) {\n        checkboxLabel = row.path;\n      } else if (row.parents?.length >= 1) {\n        checkboxLabel = row.parents.join(' / ') + ' / ' + row.label;\n      } else {\n        checkboxLabel = row.label;\n      }\n\n      return {\n        checked: this.state.selectedRows.has(row.path),\n        disabled: !this.state.isCustomSelectionEnabled,\n        label: checkboxLabel,\n        path: row.path,\n      };\n    });\n\n    return (\n      <MultiCheckbox\n        items={rows}\n        onChange={this.onSelectedRowsChange}\n      />\n    );\n  }\n\n  renderAdvancedView() {\n    const includeAllVersionsLabel = (\n      <span>\n        {t('Include data from all')}\n        &nbsp;\n        <strong>{this.props.asset.deployed_versions.count}</strong>\n        &nbsp;\n        {t('versions')}\n      </span>\n    );\n\n    // make sure the order is right, can't trust object definition ordering :)\n    const exportMultipleOptions = [\n      EXPORT_MULTIPLE_OPTIONS.details,\n      EXPORT_MULTIPLE_OPTIONS.summary,\n      EXPORT_MULTIPLE_OPTIONS.both,\n    ];\n\n    return (\n      <bem.ProjectDownloads__advancedView>\n        <bem.ProjectDownloads__column m='left'>\n          <label className='project-downloads__column-row'>\n            <bem.ProjectDownloads__title>\n              {t('Export')}\n              &nbsp;\n              <em>{t('Select Many')}</em>\n              &nbsp;\n              {t('questions as…')}\n            </bem.ProjectDownloads__title>\n\n            <Select\n              value={this.state.selectedExportMultiple}\n              options={exportMultipleOptions}\n              onChange={this.onAnyInputChange.bind(\n                this,\n                'selectedExportMultiple'\n              )}\n              className='kobo-select'\n              classNamePrefix='kobo-select'\n              menuPlacement='auto'\n              placeholder={t('Select…')}\n              isSearchable={false}\n            />\n          </label>\n\n          <bem.ProjectDownloads__columnRow>\n            <Checkbox\n              checked={this.state.isIncludeAllVersionsEnabled}\n              onChange={this.onAnyInputChange.bind(this, 'isIncludeAllVersionsEnabled')}\n              label={includeAllVersionsLabel}\n            />\n          </bem.ProjectDownloads__columnRow>\n\n          <bem.ProjectDownloads__columnRow>\n            <Checkbox\n              checked={this.state.isIncludeGroupsEnabled}\n              onChange={this.onAnyInputChange.bind(this, 'isIncludeGroupsEnabled')}\n              label={t('Include groups in headers')}\n            />\n\n            <TextBox\n              disabled={!this.state.isIncludeGroupsEnabled}\n              value={this.state.groupSeparator}\n              onChange={this.onAnyInputChange.bind(this, 'groupSeparator')}\n              label={t('Group separator')}\n              customModifiers={[\n                'on-white',\n                'group-separator',\n                (!this.state.isIncludeGroupsEnabled ? 'group-separator-disabled' : undefined),\n              ]}\n            />\n          </bem.ProjectDownloads__columnRow>\n\n          {this.state.selectedExportType.value === EXPORT_TYPES.geojson.value &&\n            <bem.ProjectDownloads__columnRow>\n              <Checkbox\n                checked={this.state.isFlattenGeoJsonEnabled}\n                onChange={this.onAnyInputChange.bind(this, 'isFlattenGeoJsonEnabled')}\n                label={t('Flatten GeoJSON')}\n              />\n            </bem.ProjectDownloads__columnRow>\n          }\n\n          {this.state.selectedExportType.value === EXPORT_TYPES.xls.value &&\n            <bem.ProjectDownloads__columnRow>\n              <Checkbox\n                checked={this.state.isXlsTypesAsTextEnabled}\n                onChange={this.onAnyInputChange.bind(this, 'isXlsTypesAsTextEnabled')}\n                label={t('Store date and number responses as text')}\n              />\n            </bem.ProjectDownloads__columnRow>\n          }\n\n          {(this.state.selectedExportType.value === EXPORT_TYPES.xls.value ||\n              this.state.selectedExportType.value == EXPORT_TYPES.csv.value) &&\n            <bem.ProjectDownloads__columnRow>\n              <Checkbox\n                checked={this.state.isIncludeMediaUrlEnabled}\n                onChange={this.onAnyInputChange.bind(this, 'isIncludeMediaUrlEnabled')}\n                label={t('Include media URLs')}\n              />\n            </bem.ProjectDownloads__columnRow>\n          }\n\n          <bem.ProjectDownloads__columnRow>\n            <Checkbox\n              checked={this.state.isSaveCustomExportEnabled}\n              onChange={this.onAnyInputChange.bind(\n                this,\n                'isSaveCustomExportEnabled'\n              )}\n              label={t('Save selection as…')}\n            />\n\n            <TextBox\n              disabled={!this.state.isSaveCustomExportEnabled}\n              value={this.state.customExportName}\n              onChange={this.onAnyInputChange.bind(this, 'customExportName')}\n              placeholder={t('Name your export settings')}\n              customModifiers={['on-white', 'custom-export']}\n            />\n          </bem.ProjectDownloads__columnRow>\n        </bem.ProjectDownloads__column>\n\n        <bem.ProjectDownloads__column m='right'>\n          <bem.ProjectDownloads__columnRow m='rows-selector-header'>\n            <ToggleSwitch\n              checked={this.state.isCustomSelectionEnabled}\n              onChange={this.onAnyInputChange.bind(\n                this,\n                'isCustomSelectionEnabled'\n              )}\n              label={t('Select questions to be exported')}\n            />\n\n            <bem.ProjectDownloads__textButton\n              disabled={(\n                !this.state.isCustomSelectionEnabled ||\n                this.state.selectedRows.size === this.state.selectableRowsCount\n              )}\n              onClick={this.selectAllRows}\n            >\n              {t('Select all')}\n            </bem.ProjectDownloads__textButton>\n\n            <span className='project-downloads__vr'/>\n\n            <bem.ProjectDownloads__textButton\n              disabled={(\n                !this.state.isCustomSelectionEnabled ||\n                this.state.selectedRows.size === 0\n              )}\n              onClick={this.clearSelectedRows}\n            >\n              {t('Deselect all')}\n            </bem.ProjectDownloads__textButton>\n          </bem.ProjectDownloads__columnRow>\n\n          {this.renderRowsSelector()}\n        </bem.ProjectDownloads__column>\n\n        <hr />\n      </bem.ProjectDownloads__advancedView>\n    );\n  }\n\n  getGroupSeparatorLabel() {\n    return (\n      <bem.ProjectDownloads__title>\n        {t('Group separator')}\n      </bem.ProjectDownloads__title>\n    );\n  }\n\n  render() {\n    let formClassNames = ['project-downloads__exports-creator'];\n    if (!this.state.isComponentReady) {\n      formClassNames.push('project-downloads__exports-creator--loading');\n    }\n\n    const exportFormatOptions = getExportFormatOptions(this.props.asset);\n\n    return (\n      <bem.FormView__cell m={['box', 'padding']}>\n        <bem.FormView__form className={formClassNames.join(' ')}>\n          <bem.ProjectDownloads__selectorRow>\n            <ExportTypeSelector/>\n\n            <label>\n              <bem.ProjectDownloads__title>\n                {t('Value and header format')}\n              </bem.ProjectDownloads__title>\n\n              <Select\n                value={this.state.selectedExportFormat}\n                options={exportFormatOptions}\n                onChange={this.onAnyInputChange.bind(\n                  this,\n                  'selectedExportFormat'\n                )}\n                className='kobo-select'\n                classNamePrefix='kobo-select'\n                menuPlacement='auto'\n                isSearchable={false}\n              />\n            </label>\n          </bem.ProjectDownloads__selectorRow>\n\n          <bem.ProjectDownloads__textButton onClick={this.toggleAdvancedView}>\n            {t('Advanced options')}\n            {this.state.isAdvancedViewVisible && (\n              <i className='k-icon k-icon-up' />\n            )}\n            {!this.state.isAdvancedViewVisible && (\n              <i className='k-icon k-icon-down' />\n            )}\n          </bem.ProjectDownloads__textButton>\n\n          <hr />\n\n          {this.state.isAdvancedViewVisible && this.renderAdvancedView()}\n\n          <bem.ProjectDownloads__submitRow>\n            <bem.ProjectDownloads__exportsSelector>\n              {this.state.definedExports.length >= 1 &&\n                <React.Fragment>\n                  <label>\n                    <bem.ProjectDownloads__title>\n                      {t('Apply saved export settings')}\n                    </bem.ProjectDownloads__title>\n\n                    <Select\n                      isLoading={this.state.isUpdatingDefinedExportsList}\n                      value={this.state.selectedDefinedExport}\n                      options={this.getSelectedDefinedExportOptions()}\n                      onChange={this.onSelectedDefinedExportChange}\n                      className='kobo-select'\n                      classNamePrefix='kobo-select'\n                      menuPlacement='auto'\n                      placeholder={t('No export settings selected')}\n                    />\n                  </label>\n\n                  {this.state.selectedDefinedExport &&\n                    mixins.permissions.userCan(PERMISSIONS_CODENAMES.manage_asset, this.props.asset) &&\n                    <bem.ProjectDownloads__deleteSettingsButton\n                      onClick={this.onDeleteExportSetting.bind(\n                        this,\n                        this.state.selectedDefinedExport.data.uid\n                      )}\n                      >\n                        <i className='k-icon k-icon-trash'/>\n                      </bem.ProjectDownloads__deleteSettingsButton>\n                    }\n                  </React.Fragment>\n                }\n              </bem.ProjectDownloads__exportsSelector>\n\n              <bem.KoboButton\n                m='blue'\n                type='submit'\n                onClick={this.onSubmit}\n                disabled={this.state.selectedRows.size === 0}\n              >\n                {t('Export')}\n              </bem.KoboButton>\n            </bem.ProjectDownloads__submitRow>\n          </bem.FormView__form>\n      </bem.FormView__cell>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport alertify from 'alertifyjs';\nimport mixins from 'js/mixins';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport {formatTime} from 'js/utils';\nimport {getLanguageIndex} from 'js/assetUtils';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {PERMISSIONS_CODENAMES} from 'js/constants';\nimport {\n  EXPORT_TYPES,\n  EXPORT_FORMATS,\n  EXPORT_STATUSES,\n  EXPORT_REFRESH_TIME,\n} from 'js/components/projectDownloads/exportsConstants';\nimport exportsStore from 'js/components/projectDownloads/exportsStore';\n\n/**\n * Component that displays all available downloads (for logged in user only).\n *\n * @prop {object} asset\n */\nexport default class ProjectExportsList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isComponentReady: false,\n      rows: [],\n      selectedExportType: exportsStore.getExportType(),\n    };\n\n    this.unlisteners = [];\n    this.fetchIntervals = new Map();\n\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      exportsStore.listen(this.onExportsStoreChange),\n      actions.exports.getExports.completed.listen(this.onGetExports),\n      actions.exports.createExport.completed.listen(this.onCreateExport),\n      actions.exports.deleteExport.completed.listen(this.onDeleteExport),\n      actions.exports.getExport.completed.listen(this.onGetExport),\n    );\n    this.fetchExports();\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n    this.removeAllFetchIntervals();\n  }\n\n  onExportsStoreChange() {\n    this.setState({selectedExportType: exportsStore.getExportType()});\n  }\n\n  onGetExports(response) {\n    response.results.forEach((exportData) => {\n      this.prepareFetchInterval(exportData.uid, exportData.status);\n    });\n\n    this.setState({\n      isComponentReady: true,\n      rows: response.results,\n    });\n  }\n\n  onCreateExport(response) {\n    this.fetchExport(response.uid);\n  }\n\n  onDeleteExport() {\n    this.fetchExports();\n  }\n\n  onGetExport(exportData) {\n    this.prepareFetchInterval(exportData.uid, exportData.status);\n\n    // Replace existing export with fresh data or add new on top\n    const newStateObj = {rows: this.state.rows};\n    let wasAdded = false;\n    newStateObj.rows.forEach((rowData, index) => {\n      if (rowData.uid === exportData.uid) {\n        newStateObj.rows[index] = exportData;\n        wasAdded = true;\n      }\n    });\n    if (!wasAdded) {\n      newStateObj.rows.unshift(exportData);\n    }\n    this.setState(newStateObj);\n  }\n\n  prepareFetchInterval(exportUid, exportStatus) {\n    // if the export is not complete yet, and there is no fetch interval\n    // fetch it in some time again and again\n    if (\n      exportStatus !== EXPORT_STATUSES.error &&\n      exportStatus !== EXPORT_STATUSES.complete &&\n      !this.fetchIntervals.has(exportUid)\n    ) {\n      const intervalId = setInterval(this.fetchExport.bind(this, exportUid), EXPORT_REFRESH_TIME);\n      this.fetchIntervals.set(exportUid, intervalId);\n    }\n\n    // clean up after it is completed\n    if (\n      exportStatus === EXPORT_STATUSES.error ||\n      exportStatus === EXPORT_STATUSES.complete\n    ) {\n      this.removeFetchInterval(exportUid);\n    }\n  }\n\n  removeFetchInterval(exportUid) {\n    clearInterval(this.fetchIntervals.get(exportUid));\n    this.fetchIntervals.delete(exportUid);\n  }\n\n  removeAllFetchIntervals() {\n    this.fetchIntervals.forEach((intervalId, exportUid) => {\n      this.removeFetchInterval(exportUid);\n    });\n  }\n\n  fetchExport(exportUid) {\n    actions.exports.getExport(this.props.asset.uid, exportUid);\n  }\n\n  fetchExports() {\n    actions.exports.getExports(this.props.asset.uid);\n  }\n\n  deleteExport(exportUid) {\n    const dialog = alertify.dialog('confirm');\n    const opts = {\n      title: t('Delete export?'),\n      message: t('Are you sure you want to delete this export? This action is not reversible.'),\n      labels: {ok: t('Delete'), cancel: t('Cancel')},\n      onok: () => {actions.exports.deleteExport(this.props.asset.uid, exportUid);},\n      oncancel: () => {dialog.destroy();},\n    };\n    dialog.set(opts).show();\n  }\n\n  /**\n   * For `true` it is \"Yes\", any other (e.g. `false` or missing) is \"No\"\n   */\n  renderBooleanAnswer(isTrue) {\n    if (isTrue) {\n      return t('Yes');\n    } else {\n      return t('No');\n    }\n  }\n\n  /**\n   * Unchecked wisdom copied from old version of this component:\n   * > Some old SPSS exports may have a meaningless `lang` attribute -- disregard it\n   */\n  renderLanguage(exportLang) {\n    // Unknown happens when export was done for a translated language that\n    // doesn't exist in current form version\n    let languageDisplay = (<em>{t('Unknown')}</em>);\n    const langIndex = getLanguageIndex(this.props.asset, exportLang);\n    if (langIndex !== null) {\n      languageDisplay = exportLang;\n    } else if (EXPORT_FORMATS[exportLang]) {\n      languageDisplay = EXPORT_FORMATS[exportLang].label;\n    }\n    return languageDisplay;\n  }\n\n  renderRow(exportData) {\n    return (\n      <bem.SimpleTable__row key={exportData.uid}>\n        <bem.SimpleTable__cell>\n          {EXPORT_TYPES[exportData.data.type]?.label}\n        </bem.SimpleTable__cell>\n\n        <bem.SimpleTable__cell>\n          {formatTime(exportData.date_created)}\n        </bem.SimpleTable__cell>\n\n        <bem.SimpleTable__cell>\n          {this.renderLanguage(exportData.data.lang)}\n        </bem.SimpleTable__cell>\n\n        <bem.SimpleTable__cell>\n          {this.renderBooleanAnswer(exportData.data.hierarchy_in_labels)}\n        </bem.SimpleTable__cell>\n\n        <bem.SimpleTable__cell>\n          {this.renderBooleanAnswer(exportData.data.fields_from_all_versions)}\n        </bem.SimpleTable__cell>\n\n        <bem.SimpleTable__cell>\n          {exportData.status === EXPORT_STATUSES.complete &&\n            <a\n              className='kobo-light-button kobo-light-button--blue'\n              href={exportData.result}\n            >\n              <i className='k-icon k-icon-download'/>\n              {t('Download')}\n            </a>\n          }\n\n          {exportData.status === EXPORT_STATUSES.error &&\n            <span className='right-tooltip' data-tip={exportData.messages?.error}>\n              {t('Export Failed')}\n            </span>\n          }\n\n          {(\n            exportData.status !== EXPORT_STATUSES.complete &&\n            exportData.status !== EXPORT_STATUSES.error\n          ) &&\n            <span className='animate-processing'>{t('Processing…')}</span>\n          }\n\n          {mixins.permissions.userCan(PERMISSIONS_CODENAMES.view_submissions, this.props.asset) &&\n            <bem.KoboLightButton\n              m={['red', 'icon-only']}\n              onClick={this.deleteExport.bind(this, exportData.uid)}\n            >\n              <i className='k-icon k-icon-trash'/>\n            </bem.KoboLightButton>\n          }\n        </bem.SimpleTable__cell>\n      </bem.SimpleTable__row>\n    );\n  }\n\n  render() {\n    if (!this.state.isComponentReady) {\n      return (\n        <bem.FormView__row>\n          <bem.FormView__cell>\n            <LoadingSpinner/>\n          </bem.FormView__cell>\n        </bem.FormView__row>\n      );\n    // don't display the component if no exports\n    // or if selected a legacy type\n    } else if (\n      this.state.rows.length === 0 ||\n      this.state.selectedExportType.isLegacy\n    ) {\n      return null;\n    } else {\n      return (\n        <React.Fragment>\n          <bem.FormView__cell m={['page-subtitle']}>\n            {t('Exports')}\n          </bem.FormView__cell>\n\n          <bem.SimpleTable m='project-exports'>\n            <bem.SimpleTable__header>\n              <bem.SimpleTable__row>\n                <bem.SimpleTable__cell>\n                  {t('Type')}\n                </bem.SimpleTable__cell>\n\n                <bem.SimpleTable__cell>\n                  {t('Created')}\n                </bem.SimpleTable__cell>\n\n                <bem.SimpleTable__cell>\n                  {t('Language')}\n                </bem.SimpleTable__cell>\n\n                <bem.SimpleTable__cell>\n                  {t('Include Groups')}\n                </bem.SimpleTable__cell>\n\n                <bem.SimpleTable__cell>\n                  {t('Multiple Versions')}\n                </bem.SimpleTable__cell>\n\n                <bem.SimpleTable__cell/>\n              </bem.SimpleTable__row>\n            </bem.SimpleTable__header>\n\n            <bem.SimpleTable__body>\n              {this.state.rows.map(this.renderRow)}\n              {this.state.rows.length === 0 &&\n                <bem.SimpleTable__messageRow>\n                  <bem.SimpleTable__cell colSpan='6'>\n                    {t('There is nothing to download yet.')}\n                  </bem.SimpleTable__cell>\n                </bem.SimpleTable__messageRow>\n              }\n            </bem.SimpleTable__body>\n          </bem.SimpleTable>\n        </React.Fragment>\n      );\n    }\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {EXPORT_TYPES} from 'js/components/projectDownloads/exportsConstants';\nimport exportsStore from 'js/components/projectDownloads/exportsStore';\nimport ExportTypeSelector from 'js/components/projectDownloads/exportTypeSelector';\n\n/**\n * A component for displaying the legacy exports iframe with an export type selector.\n * @prop {object} asset\n */\nexport default class LegacyExports extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {selectedExportType: exportsStore.getExportType()};\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      exportsStore.listen(this.onExportsStoreChange),\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onExportsStoreChange() {\n    this.setState({selectedExportType: exportsStore.getExportType()});\n  }\n\n  render() {\n    return (\n      <bem.FormView__cell m={['box', 'padding']}>\n        <bem.ProjectDownloads__selectorRow>\n          <ExportTypeSelector/>\n        </bem.ProjectDownloads__selectorRow>\n\n        {this.state.selectedExportType.value !== EXPORT_TYPES.zip_legacy.value && (\n          <bem.FormView__cell m='warning'>\n            <i className='k-icon-alert' />\n            <p>{t('This export format will not be supported in the future. Please consider using one of the other export types available.')}</p>\n          </bem.FormView__cell>\n        )}\n\n        <div className='project-downloads__legacy-iframe-wrapper'>\n          <iframe src={\n            this.props.asset.deployment__data_download_links[this.state.selectedExportType.value]\n          } />\n        </div>\n      </bem.FormView__cell>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {actions} from 'js/actions';\nimport {\n  EXPORT_STATUSES,\n  EXPORT_REFRESH_TIME,\n  DEFAULT_EXPORT_SETTINGS,\n} from 'js/components/projectDownloads/exportsConstants';\nimport {getContextualDefaultExportFormat} from 'js/components/projectDownloads/exportsUtils';\nimport exportsStore from 'js/components/projectDownloads/exportsStore';\nimport ExportTypeSelector from 'js/components/projectDownloads/exportTypeSelector';\n\n/**\n * A compontent that ROUTES.FORM_DOWNLOADS route is displayint for not logged in\n * users. It allows to select an export type and download a file.\n * @prop {object} asset\n */\nexport default class AnonymousExports extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      selectedExportType: exportsStore.getExportType(),\n      isPending: false,\n      exportUrl: null,\n    };\n    this.unlisteners = [];\n    this.fetchIntervalId = null;\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      exportsStore.listen(this.onExportsStoreChange),\n      actions.exports.createExport.completed.listen(this.onCreateExportCompleted),\n      actions.exports.getExport.completed.listen(this.onGetExportCompleted),\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onExportsStoreChange() {\n    this.setState({\n      selectedExportType: exportsStore.getExportType(),\n      exportUrl: null,\n    });\n  }\n\n  onCreateExportCompleted(exportData) {\n    this.fetchExport(exportData.uid);\n  }\n\n  onGetExportCompleted(exportData) {\n    this.prepareFetchInterval(exportData.uid, exportData.status);\n\n    if (exportData.status === EXPORT_STATUSES.complete) {\n      this.setState({\n        isPending: false,\n        exportUrl: exportData.result,\n      });\n      this.downloadUrl(this.state.exportUrl);\n    }\n  }\n\n  onSubmit() {\n    if (this.state.exportUrl) {\n      // we remember the current type download to not make multiple calls\n      // TODO: try storing all the created export urls (for some amount of\n      // time?) so that whenever user switches between types, in each clicking\n      // \"Export\" button, we don't make unnecessary calls.\n      this.downloadUrl(this.state.exportUrl);\n    } else {\n      this.setState({isPending: true});\n\n      const defaultExportFormat = getContextualDefaultExportFormat(this.props.asset);\n\n      // NOTE: this wouldn't work for legacy formats, but luckily we don't allow\n      // choosing legacy types in this component\n      actions.exports.createExport(\n        this.props.asset.uid,\n        {\n          type: this.state.selectedExportType.value,\n          fields_from_all_versions: DEFAULT_EXPORT_SETTINGS.INCLUDE_ALL_VERSIONS,\n          group_sep: DEFAULT_EXPORT_SETTINGS.GROUP_SEPARATOR,\n          hierarchy_in_labels: DEFAULT_EXPORT_SETTINGS.INCLUDE_GROUPS,\n          lang: defaultExportFormat.value,\n          multiple_select: DEFAULT_EXPORT_SETTINGS.EXPORT_MULTIPLE.value,\n        }\n      );\n    }\n  }\n\n  prepareFetchInterval(exportUid, exportStatus) {\n    // if the export is not complete yet, and there is no fetch interval\n    // fetch it in some time again and again\n    if (\n      exportStatus !== EXPORT_STATUSES.error &&\n      exportStatus !== EXPORT_STATUSES.complete &&\n      !this.fetchIntervalId\n    ) {\n      const intervalId = setInterval(this.fetchExport.bind(this, exportUid), EXPORT_REFRESH_TIME);\n      this.fetchIntervalId = intervalId;\n    }\n\n    // clean up after it is completed\n    if (\n      exportStatus === EXPORT_STATUSES.error ||\n      exportStatus === EXPORT_STATUSES.complete\n    ) {\n      this.removeFetchInterval();\n    }\n  }\n\n  removeFetchInterval() {\n    clearInterval(this.fetchIntervalId);\n    this.fetchIntervalId = null;\n  }\n\n  fetchExport(exportUid) {\n    actions.exports.getExport(this.props.asset.uid, exportUid);\n  }\n\n  downloadUrl(url) {\n    const aEl = document.createElement('a');\n    const splitUrl = url.split('/');\n    const fileName = splitUrl[splitUrl.length - 1];\n    aEl.href = url;\n    aEl.setAttribute('download', fileName);\n    aEl.click();\n  }\n\n  /**\n   * We allow only one pending download at a time, so we disable the type\n   * selector and the export button for simplicity.\n   */\n  render() {\n    const buttonModifiers = ['blue'];\n    if (this.state.isPending) {\n      buttonModifiers.push('pending');\n    }\n\n    return (\n      <bem.FormView__cell m={['box', 'padding']}>\n        <bem.ProjectDownloads__anonymousRow>\n          <bem.ProjectDownloads__exportsSelector>\n            <ExportTypeSelector\n              disabled={this.state.isPending}\n              noLegacy\n            />\n          </bem.ProjectDownloads__exportsSelector>\n\n          <bem.KoboButton\n            m={buttonModifiers}\n            type='submit'\n            onClick={this.onSubmit}\n            disabled={this.state.isPending}\n          >\n            {t('Export')}\n            {this.state.isPending &&\n              <i className='k-spin k-icon k-icon-spinner'/>\n            }\n          </bem.KoboButton>\n        </bem.ProjectDownloads__anonymousRow>\n      </bem.FormView__cell>\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport bem from 'js/bem';\nimport {stores} from 'js/stores';\nimport DocumentTitle from 'react-document-title';\nimport ProjectExportsCreator from 'js/components/projectDownloads/projectExportsCreator';\nimport ProjectExportsList from 'js/components/projectDownloads/projectExportsList';\nimport LegacyExports from 'js/components/projectDownloads/legacyExports';\nimport AnonymousExports from 'js/components/projectDownloads/anonymousExports';\nimport exportsStore from 'js/components/projectDownloads/exportsStore';\n\n/**\n * This is the ROUTES.FORM_DOWNLOADS route component. It will check whether the\n * user is logged in or not and display proper child components.\n *\n * @prop {object} asset\n */\nexport default class ProjectDownloads extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {selectedExportType: exportsStore.getExportType()};\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      exportsStore.listen(this.onExportsStoreChange),\n    );\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  onExportsStoreChange() {\n    this.setState({selectedExportType: exportsStore.getExportType()});\n  }\n\n  renderLoggedInExports() {\n    if (this.state.selectedExportType.isLegacy) {\n      return (\n        <LegacyExports asset={this.props.asset} />\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <ProjectExportsCreator asset={this.props.asset}/>\n          <ProjectExportsList asset={this.props.asset}/>\n        </React.Fragment>\n      );\n    }\n  }\n\n  render() {\n    var docTitle = this.props.asset.name || t('Untitled');\n    return (\n      <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n        <bem.FormView className='project-downloads'>\n          <bem.FormView__row>\n            <bem.FormView__cell m={['page-title']}>\n              {t('Downloads')}\n            </bem.FormView__cell>\n\n            {stores.session.isLoggedIn &&\n              this.renderLoggedInExports()\n            }\n\n            {!stores.session.isLoggedIn &&\n              <AnonymousExports asset={this.props.asset}/>\n            }\n          </bem.FormView__row>\n        </bem.FormView>\n      </DocumentTitle>\n    );\n  }\n}\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport {dataInterface} from '../dataInterface';\nimport {hashHistory} from 'react-router';\nimport bem from 'js/bem';\nimport {stores} from '../stores';\nimport {actions} from '../actions';\nimport PopoverMenu from 'js/popoverMenu';\nimport Modal from 'js/components/common/modal';\nimport classNames from 'classnames';\nimport omnivore from '@mapbox/leaflet-omnivore';\nimport JSZip from 'jszip';\nimport './map.scss';\nimport './map.marker-colors.scss';\nimport L from 'leaflet/dist/leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet.heat/dist/leaflet-heat';\nimport 'leaflet.markercluster/dist/leaflet.markercluster';\nimport 'leaflet.markercluster/dist/MarkerCluster.css';\n\nimport {\n  ASSET_FILE_TYPES,\n  MODAL_TYPES,\n  QUESTION_TYPES,\n  QUERY_LIMIT_DEFAULT,\n} from '../constants';\n\nimport {\n  notify,\n  checkLatLng\n} from 'utils';\nimport {getSurveyFlatPaths} from 'js/assetUtils';\n\nimport MapSettings from './mapSettings';\n\nvar streets = L.tileLayer(\n  'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n  {\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n    subdomains: ['a', 'b', 'c']\n  }\n);\n\nvar baseLayers = {\n  OpenStreetMap: streets,\n  OpenTopoMap: L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {\n    attribution: 'Map data: &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, <a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; <a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)'\n  }),\n  'ESRI World Imagery': L.tileLayer(\n    'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {\n      attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'\n  }),\n  Humanitarian: L.tileLayer(\n    'https://tile-{s}.openstreetmap.fr/hot/{z}/{x}/{y}.png', {\n      attribution: 'Tiles &copy; Humanitarian OpenStreetMap Team &mdash; &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n  })\n};\n\nvar controls = L.control.layers(baseLayers);\n\nexport class FormMap extends React.Component {\n  constructor(props){\n    super(props);\n\n    let survey = props.asset.content.survey;\n    var hasGeoPoint = false;\n    survey.forEach(function(s) {\n      if (s.type === QUESTION_TYPES.geopoint.id) {\n        hasGeoPoint = true;\n      }\n    });\n\n    this.state = {\n      map: false,\n      markers: false,\n      heatmap: false,\n      markersVisible: true,\n      markerMap: false,\n      fields: [],\n      hasGeoPoint: hasGeoPoint,\n      submissions: [],\n      error: false,\n      isFullscreen: false,\n      showExpandedLegend: true,\n      langIndex: 0,\n      filteredByMarker: false,\n      componentRefreshed: false,\n      showMapSettings: false,\n      overridenStyles: false,\n      clearDisaggregatedPopover: false,\n      noData: false,\n    };\n\n    autoBind(this);\n  }\n\n  componentWillUnmount () {\n    if (this.state.map) {\n      this.state.map.remove();\n    }\n  }\n\n  componentDidMount () {\n\n    var fields = [];\n    let fieldTypes = ['select_one', 'select_multiple', 'integer', 'decimal', 'text'];\n    this.props.asset.content.survey.forEach(function(q){\n      if (fieldTypes.includes(q.type)) {\n        fields.push(q);\n      }\n    });\n\n    L.Marker.prototype.options.icon = L.divIcon({\n      className: 'map-marker default-overlay-marker',\n      iconSize: [12, 12]\n    });\n\n    var map = L.map('data-map', {\n      maxZoom: 17,\n      scrollWheelZoom: false,\n      preferCanvas: true\n    });\n\n    streets.addTo(map);\n    controls.addTo(map);\n\n    this.setState({\n        map: map,\n        fields: fields\n      }\n    );\n\n    if(this.props.asset.deployment__submission_count > QUERY_LIMIT_DEFAULT) {\n      notify(t('By default map is limited to the ##number##  most recent submissions for performance reasons. Go to map settings to increase this limit.').replace('##number##', QUERY_LIMIT_DEFAULT));\n    }\n\n    this.requestData(map, this.props.viewby);\n    this.listenTo(actions.map.setMapStyles.started, this.onSetMapStylesStarted);\n    this.listenTo(actions.map.setMapStyles.completed, this.onSetMapStylesCompleted);\n    this.listenTo(actions.resources.getAssetFiles.completed, this.updateOverlayList);\n    actions.resources.getAssetFiles(this.props.asset.uid, ASSET_FILE_TYPES.map_layer.id);\n  }\n  loadOverlayLayers(map) {\n    dataInterface\n      .getAssetFiles(this.props.asset.uid, ASSET_FILE_TYPES.map_layer.id)\n      .done((data) => {});\n  }\n  updateOverlayList(data) {\n    let map = this.state.map;\n\n    // remove layers from controls if they are no longer in asset files\n    controls._layers.forEach(function(controlLayer) {\n      if (controlLayer.overlay) {\n        let layerMatch = data.results.filter(\n          result => result.name === controlLayer.name\n        );\n        if (!layerMatch.length) {\n          controls.removeLayer(controlLayer.layer);\n          map.removeLayer(controlLayer.layer);\n        }\n      }\n    });\n\n    // add new layers to controls (if they haven't been added already)\n    data.results.forEach(function(layer) {\n      if (layer.file_type !== 'map_layer') return false;\n      let layerMatch = controls._layers.filter(\n        controlLayer => controlLayer.name === layer.name\n      );\n      if (layerMatch.length) return false;\n\n      var overlayLayer = false;\n      switch (layer.metadata.type) {\n        case 'kml':\n          overlayLayer = omnivore.kml(layer.content);\n          break;\n        case 'csv':\n          overlayLayer = omnivore.csv(layer.content);\n          break;\n        case 'json':\n        case 'geojson':\n          overlayLayer = omnivore.geojson(layer.content);\n          break;\n        case 'wkt':\n          overlayLayer = omnivore.wkt(layer.content);\n          break;\n        case 'kmz':\n          // KMZ files are zipped KMLs, therefore\n          // unzip the KMZ file in the browser\n          // and feed the resulting text to map and controls\n          fetch(layer.content)\n          .then(function (response) {\n            if (response.status === 200 || response.status === 0) {\n              return Promise.resolve(response.blob());\n            } else {\n              return Promise.reject(new Error(response.statusText));\n            }\n          })\n          .then(JSZip.loadAsync)\n          .then(function (zip) {\n            return zip.file('doc.kml').async('string');\n          })\n          .then(function success(kml) {\n            overlayLayer = omnivore.kml.parse(kml);\n            controls.addOverlay(overlayLayer, layer.name);\n            overlayLayer.addTo(map);\n          });\n          break;\n      }\n\n      if (overlayLayer) {\n        overlayLayer.on('ready', function() {\n          overlayLayer.eachLayer(function(l) {\n            let fprops = l.feature.properties;\n            let name = fprops.name || fprops.title || fprops.NAME || fprops.TITLE;\n            if (name) {\n              l.bindPopup(name);\n            } else {\n              // when no name or title, load full list of feature's properties\n              l.bindPopup('<pre>' + JSON.stringify(fprops, null, 2).replace(/[{}\"]/g, '') + '</pre>');\n            }\n          });\n        });\n        controls.addOverlay(overlayLayer, layer.name);\n        overlayLayer.addTo(map);\n      }\n    });\n  }\n\n  onSetMapStylesCompleted() {\n    // asset is updated, no need to store oberriden styles as they are identical\n    this.setState({overridenStyles: false});\n  }\n\n  /**\n   * We don't want to wait for the asset (`asset.map_styles`) to be updated\n   * we use the settings being saved and fetch data with them\n   */\n  onSetMapStylesStarted(assetUid, upcomingMapSettings) {\n    if (!upcomingMapSettings.colorSet) {\n      upcomingMapSettings.colorSet = 'a';\n    }\n\n    if (!upcomingMapSettings.querylimit) {\n      upcomingMapSettings.querylimit = QUERY_LIMIT_DEFAULT.toString();\n    }\n\n    this.overrideStyles(upcomingMapSettings);\n  }\n\n  requestData(map, nextViewBy = '') {\n    // TODO: support area / line geodata questions\n    let selectedQuestion = this.props.asset.map_styles.selectedQuestion || null;\n\n    this.props.asset.content.survey.forEach(function(row) {\n      if (\n        typeof row.label !== 'undefined' &&\n        row.label !== null &&\n        selectedQuestion === row.label[0] &&\n        row.type !== QUESTION_TYPES.geopoint.id\n      ) {\n        selectedQuestion = null; //Ignore if not a geopoint question type\n      }\n    });\n\n    let queryLimit = QUERY_LIMIT_DEFAULT;\n    if (this.state.overridenStyles && this.state.overridenStyles.querylimit) {\n      queryLimit = this.state.overridenStyles.querylimit;\n    } else if (this.props.asset.map_styles.querylimit) {\n      queryLimit = this.props.asset.map_styles.querylimit;\n    }\n\n    var fq = ['_id', '_geolocation'];\n    if (selectedQuestion) fq.push(selectedQuestion);\n    if (nextViewBy) fq.push(this.nameOfFieldInGroup(nextViewBy));\n    const sort = [{id: '_id', desc: true}];\n    dataInterface.getSubmissions(this.props.asset.uid, queryLimit, 0, sort, fq).done((data) => {\n      let results = data.results;\n      if (selectedQuestion) {\n        results.forEach(function(row, i) {\n          if (row[selectedQuestion]) {\n            var coordsArray = row[selectedQuestion].split(' ');\n            results[i]._geolocation[0] = coordsArray[0];\n            results[i]._geolocation[1] = coordsArray[1];\n          }\n        });\n      }\n\n      this.setState({submissions: results});\n      this.buildMarkers(map);\n      this.buildHeatMap(map);\n    }).fail((error)=>{\n      if (error.responseText)\n        this.setState({error: error.responseText, loading: false});\n      else if (error.statusText)\n        this.setState({error: error.statusText, loading: false});\n      else\n        this.setState({error: t('Error: could not load data.'), loading: false});\n    });\n  }\n  calculateClusterRadius(zoom) {\n    if(zoom >= 12) {return 12;}\n    return 20;\n  }\n  calcColorSet() {\n    let colorSet;\n    if (this.state.overridenStyles && this.state.overridenStyles.colorSet) {\n      colorSet = this.state.overridenStyles.colorSet;\n    } else {\n      let ms = this.props.asset.map_styles;\n      colorSet = ms.colorSet ? ms.colorSet : undefined;\n    }\n\n    return colorSet;\n  }\n  buildMarkers(map) {\n    var _this = this,\n        prepPoints = [],\n        viewby = this.props.viewby || undefined,\n        colorSet = this.calcColorSet(),\n        currentQuestionChoices = [];\n\n    if (viewby) {\n      var mapMarkers = this.prepFilteredMarkers(this.state.submissions, this.props.viewby);\n      var mM = [];\n      let choices = this.props.asset.content.choices,\n          survey = this.props.asset.content.survey;\n\n      let question = survey.find(s => s.name === viewby || s.$autoname === viewby);\n\n      if (question && question.type === 'select_one') {\n        currentQuestionChoices = choices.filter(ch => ch.list_name === question.select_from_list_name);\n      }\n\n      Object.keys(mapMarkers).map(function(m, i) {\n        if (question && question.type === 'select_one') {\n          var choice = currentQuestionChoices.find(ch => ch.name === m || ch.$autoname === m);\n        }\n\n        mM.push({\n          count: mapMarkers[m].count,\n          id: mapMarkers[m].id,\n          labels: choice ? choice.label : undefined,\n          value: m != 'undefined' ? m : undefined\n        });\n      });\n\n      if (colorSet !== undefined && colorSet !== 'a' && question && question.type == 'select_one') {\n        // sort by question choice order, when using any other color set (only makes sense for select_ones)\n        // TODO: should we expose this for users to choose in map settings?\n        mM.sort(function(a, b) {\n          var aIndex = currentQuestionChoices.findIndex(ch => ch.name === a.value);\n          var bIndex = currentQuestionChoices.findIndex(ch => ch.name === b.value);\n          return aIndex - bIndex;\n        });\n      } else {\n        // sort by occurrence count\n        mM.sort(function(a, b) {\n          return a.count - b.count;\n        }).reverse();\n      }\n\n      // move elements with no data in submission for the disaggregated question to end of marker list\n      var emptyEl = mM.find(m => m.value === undefined);\n      if (emptyEl) {\n        mM = mM.filter(m => m !== emptyEl);\n        mM.push(emptyEl);\n      }\n      this.setState({markerMap: mM});\n    } else {\n      this.setState({markerMap: false});\n    }\n\n    this.state.submissions.forEach(function(item){\n      var markerProps = {};\n      if (checkLatLng(item._geolocation)) {\n        if (viewby && mM) {\n          var vb = _this.nameOfFieldInGroup(viewby);\n          var itemId = item[vb];\n          let index = mM.findIndex(m => m.value === itemId);\n\n          // spread indexes to use full colorset gamut if necessary\n          if (colorSet !== undefined && colorSet !== 'a') {\n            index = _this.calculateIconIndex(index, mM);\n          }\n\n          markerProps = {\n            icon: _this.buildIcon(index+1),\n            sId: item._id,\n            typeId: mapMarkers[itemId].id\n          };\n        } else {\n          markerProps = {\n            icon: _this.buildIcon(),\n            sId: item._id,\n            typeId: null\n          };\n        }\n\n        prepPoints.push(L.marker(item._geolocation, markerProps));\n      }\n    });\n\n    if (prepPoints.length >= 0) {\n      let markers;\n      if (viewby) {\n        markers = L.featureGroup(prepPoints);\n      } else {\n        markers = L.markerClusterGroup({\n          maxClusterRadius: this.calculateClusterRadius,\n          disableClusteringAtZoom: 16,\n          iconCreateFunction: function(cluster) {\n            var childCount = cluster.getChildCount();\n\n            var markerClass = 'marker-cluster marker-cluster-';\n            if (childCount < 10) {\n              markerClass += 'small';\n            } else if (childCount < 100) {\n              markerClass += 'medium';\n            } else {\n              markerClass += 'large';\n            }\n\n            return new L.divIcon({ html: '<div><span>' + childCount + '</span></div>', className: markerClass, iconSize: new L.Point(30, 30) });\n          }\n        });\n\n        markers.addLayers(prepPoints);\n      }\n\n      markers.on('click', this.launchSubmissionModal).addTo(map);\n\n      if (prepPoints.length > 0 && (!viewby || !this.state.componentRefreshed)) {\n        map.fitBounds(markers.getBounds());\n    }\n      if(prepPoints == 0) {\n        map.fitBounds([[42.373, -71.124]]);\n        this.setState({noData: true});\n      }\n      this.setState({\n          markers: markers\n        }\n      );\n    } else {\n      this.setState({error: t('Error: could not load data.'), loading: false});\n    }\n  }\n\n  calculateIconIndex(index, mM) {\n    // use neutral color for items with no set value\n    if (mM[index] && mM[index].value == undefined)\n      return '-novalue';\n\n    // if there are submissions with unset values, reset the local marker array\n    // this helps us use the full gamut of colors in the set\n    var emptyEl = mM.find(m => m.value === undefined);\n    if (emptyEl) mM = mM.filter(m => m !== emptyEl);\n\n    // return regular index for list >= 9 items\n    if (mM.length >= 9) return index;\n\n    // spread index fairly evenly from 1 to 9 when less than 9 items in list\n    var num = (index / mM.length) * 9.5;\n    return Math.round(num);\n  }\n\n  buildIcon(index = false) {\n    let colorSet = this.calcColorSet() || 'a';\n    let iconClass = index ? `map-marker-${colorSet}${index}` : 'map-marker-a';\n\n    return L.divIcon({\n      className: `map-marker ${iconClass}`,\n      iconSize: [20, 20],\n    });\n  }\n\n  prepFilteredMarkers (data, viewby) {\n    var markerMap = new Object();\n    var vb = this.nameOfFieldInGroup(viewby);\n    var idcounter = 1;\n\n    data.forEach(function(listitem, i) {\n      var m = listitem[vb];\n\n      if (markerMap[m] == null) {\n          markerMap[m] = {count: 1, id: idcounter};\n          idcounter++;\n      } else {\n          markerMap[m]['count'] += 1;\n      }\n    });\n\n    return markerMap;\n  }\n\n  buildHeatMap (map) {\n    var heatmapPoints = [];\n    this.state.submissions.forEach(function(item){\n      if (checkLatLng(item._geolocation))\n        heatmapPoints.push([item._geolocation[0], item._geolocation[1], 1]);\n    });\n    var heatmap = L.heatLayer(heatmapPoints, {\n      minOpacity: 0.25,\n      radius: 20,\n      blur: 8\n    });\n\n    if (!this.state.markersVisible) {\n      map.addLayer(heatmap);\n    }\n    this.setState({heatmap: heatmap});\n  }\n\n  showMarkers () {\n    var map = this.state.map;\n    map.addLayer(this.state.markers);\n    map.removeLayer(this.state.heatmap);\n    this.setState({\n        markersVisible: true\n      }\n    );\n  }\n\n  showLayerControls() {\n    controls.expand();\n  }\n\n  showHeatmap () {\n    var map = this.state.map;\n\n    map.addLayer(this.state.heatmap);\n    map.removeLayer(this.state.markers);\n    this.setState({\n        markersVisible: false\n      }\n    );\n  }\n  filterMap (evt) {\n    // roundabout solution for https://github.com/kobotoolbox/kpi/issues/1678\n    //\n    // when blurEventDisabled prop is set, no blur event takes place in PopoverMenu\n    // hence, dropdown stays visible when invoking other click events (like filterLanguage below)\n    // but when changing question, dropdown needs to be removed, clearDisaggregatedPopover does this via props\n    this.setState({clearDisaggregatedPopover: true});\n    // reset clearDisaggregatedPopover in order to maintain same behaviour on subsequent clicks\n    window.setTimeout(()=>{\n      this.setState({clearDisaggregatedPopover: false});\n    }, 1000);\n\n    let name = evt.target.getAttribute('data-name') || undefined;\n    if (name != undefined) {\n      hashHistory.push(`/forms/${this.props.asset.uid}/data/map/${name}`);\n    } else {\n      hashHistory.push(`/forms/${this.props.asset.uid}/data/map`);\n    }\n  }\n  filterLanguage (evt) {\n    let index = evt.target.getAttribute('data-index');\n    this.setState({langIndex: index});\n  }\n  static getDerivedStateFromProps(props, state) {\n    const newState = {\n      previousViewby: props.viewby\n    };\n    if (props.viewby !== undefined) {\n      newState.markersVisible = true;\n    }\n    if (state.previousViewby !== props.viewby) {\n      newState.filteredByMarker = false;\n      newState.componentRefreshed = true;\n    }\n    return newState;\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.viewby !== this.props.viewby) {\n      let map = this.refreshMap();\n      this.requestData(map, this.props.viewby);\n    }\n  }\n  refreshMap() {\n    var map = this.state.map;\n    map.removeLayer(this.state.markers);\n    map.removeLayer(this.state.heatmap);\n    return map;\n  }\n  launchSubmissionModal (evt) {\n    const td = this.state.submissions;\n    var ids = [];\n    td.forEach(function(r) {\n      ids.push(r._id);\n    })\n\n    stores.pageState.showModal({\n      type: MODAL_TYPES.SUBMISSION,\n      sid: evt.layer.options.sId,\n      asset: this.props.asset,\n      ids: ids\n    });\n  }\n  toggleMapSettings() {\n    this.setState({\n      showMapSettings: !this.state.showMapSettings\n    });\n  }\n  overrideStyles(mapStyles) {\n    this.setState({\n      filteredByMarker: false,\n      componentRefreshed: true,\n      overridenStyles: mapStyles\n    });\n\n    let map = this.refreshMap();\n\n    // HACK switch to setState callback after updating to React 16+\n    window.setTimeout(() => {\n      this.requestData(map, this.props.viewby);\n    }, 0);\n  }\n  toggleFullscreen () {\n    this.setState({isFullscreen: !this.state.isFullscreen});\n\n    var map = this.state.map;\n    setTimeout(function(){ map.invalidateSize()}, 300);\n  }\n\n  toggleLegend() {\n    this.setState({\n      showExpandedLegend: !this.state.showExpandedLegend,\n    });\n  }\n\n  filterByMarker(evt) {\n    let markers = this.state.markers,\n        id = evt.target.getAttribute('data-id'),\n        filteredByMarker = this.state.filteredByMarker,\n        unselectedClass = 'unselected';\n\n    if (!filteredByMarker)\n      filteredByMarker = [id];\n    else if (!filteredByMarker.includes(id))\n      filteredByMarker.push(id);\n    else\n      filteredByMarker = filteredByMarker.filter(l => l !== id);\n\n    this.setState({filteredByMarker: filteredByMarker});\n    markers.eachLayer( function(layer) {\n      if (!filteredByMarker.includes(layer.options.typeId.toString()))\n        layer._icon.classList.add(unselectedClass);\n      else\n        layer._icon.classList.remove(unselectedClass);\n    });\n  }\n\n  resetFilterByMarker() {\n    let markers = this.state.markers;\n    this.setState({filteredByMarker: false});\n    markers.eachLayer( function(layer) {\n      layer._icon.classList.remove('unselected');\n    });\n  }\n\n  nameOfFieldInGroup(fieldName) {\n    const flatPaths = getSurveyFlatPaths(this.props.asset.content.survey);\n    return flatPaths[fieldName];\n  }\n\n  render () {\n    if (this.state.error) {\n      return (\n        <bem.uiPanel>\n          <bem.uiPanel__body>\n            <bem.Loading>\n              <bem.Loading__inner>\n                {this.state.error}\n              </bem.Loading__inner>\n            </bem.Loading>\n          </bem.uiPanel__body>\n        </bem.uiPanel>\n      );\n    }\n\n    const fields = this.state.fields,\n          langIndex = this.state.langIndex,\n          langs = this.props.asset.content.translations.length > 1 ? this.props.asset.content.translations : [],\n          viewby = this.props.viewby;\n\n    let colorSet = this.calcColorSet() || 'a';\n    var label = t('Disaggregate by survey responses');\n\n    if (viewby) {\n      fields.forEach(function(f){\n        if(viewby === f.name || viewby === f.$autoname) {\n          label = `${t('Disaggregated using:')} ${f.label[langIndex]}`;\n        }\n      });\n    } else if (this.state.noData && this.state.hasGeoPoint) {\n      label = `${t('No \"geopoint\" responses have been received')}`;\n    } else if (!this.state.hasGeoPoint) {\n      label = `${t('The map does not show data because this form does not have a \"geopoint\" field.')}`\n    }\n\n    const formViewModifiers = ['map'];\n    if (this.state.isFullscreen) {\n      formViewModifiers.push('fullscreen');\n    }\n\n    return (\n      <bem.FormView m={formViewModifiers} className='right-tooltip'>\n        <bem.FormView__mapButton m={'expand'}\n          onClick={this.toggleFullscreen}\n          data-tip={t('Toggle Fullscreen')}\n          className={this.state.toggleFullscreen ? 'active': ''}>\n          <i className='k-icon k-icon-expand' />\n        </bem.FormView__mapButton>\n        <bem.FormView__mapButton m={'markers'}\n          onClick={this.showMarkers}\n          data-tip={t('Show as points')}\n          className={this.state.markersVisible ? 'active': ''}>\n          <i className='k-icon k-icon-pins' />\n        </bem.FormView__mapButton>\n        <bem.FormView__mapButton m={'layers'}\n          onClick={this.showLayerControls}\n          data-tip={t('Toggle layers')}>\n          <i className='k-icon k-icon-layer' />\n        </bem.FormView__mapButton>\n        <bem.FormView__mapButton\n          m={'map-settings'}\n          onClick={this.toggleMapSettings}\n          data-tip={t('Map display settings')}>\n          <i className='k-icon k-icon-settings' />\n        </bem.FormView__mapButton>\n        {!viewby &&\n          <bem.FormView__mapButton m={'heatmap'}\n            onClick={this.showHeatmap}\n            data-tip={t('Show as heatmap')}\n            className={!this.state.markersVisible ? 'active': ''}>\n            <i className='k-icon k-icon-heatmap' />\n          </bem.FormView__mapButton>\n        }\n\n        { this.state.hasGeoPoint && !this.state.noData &&\n          <PopoverMenu type='viewby-menu'\n                        triggerLabel={label}\n                        m={'above'}\n                        clearPopover={this.state.clearDisaggregatedPopover}\n                        blurEventDisabled\n                        >\n            {langs.length > 1 &&\n              <bem.PopoverMenu__heading>\n                {t('Language')}\n              </bem.PopoverMenu__heading>\n            }\n            {langs.map((l,i)=> {\n              return (\n                  <bem.PopoverMenu__link\n                    data-index={i} className={this.state.langIndex == i ? 'active': ''}\n                    key={`l-${i}`} onClick={this.filterLanguage}>\n                    {l ? l : t('Default')}\n                  </bem.PopoverMenu__link>\n                );\n            })}\n            <bem.PopoverMenu__link key={'all'} onClick={this.filterMap} className={!viewby ? 'active see-all': 'see-all'}>\n              {t('-- See all data --')}\n            </bem.PopoverMenu__link>\n            {fields.map((f)=>{\n              const name = f.name || f.$autoname;\n              const label = f.label ? f.label[langIndex] ? f.label[langIndex] : <em>{t('untranslated: ') + name}</em> : t('Question label not set');\n              return (\n                  <bem.PopoverMenu__link\n                    data-name={name} key={`f-${name}`}\n                    onClick={this.filterMap}\n                    className={viewby == name ? 'active': ''}>\n                    {label}\n                  </bem.PopoverMenu__link>\n                );\n            })}\n          </PopoverMenu>\n\n        }\n\n        {this.state.noData && !this.state.hasGeoPoint &&\n         <div className=\"map-transparent-background\">\n           <div className=\"map-no-geopoint-wrapper\">\n            <p className=\"map-no-geopoint\">\n              {t('The map does not show data because this form does not have a \"geopoint\" field.')}\n            </p>\n          </div>\n         </div>\n        }\n\n        {this.state.noData && this.state.hasGeoPoint &&\n         <div className=\"map-transparent-background\">\n           <div className=\"map-no-geopoint-wrapper\">\n            <p className=\"map-no-geopoint\">\n              {t('No \"geopoint\" responses have been received')}\n            </p>\n          </div>\n         </div>\n        }\n\n        {this.state.markerMap && this.state.markersVisible &&\n          <bem.FormView__mapList className={this.state.showExpandedLegend ? 'expanded' : 'collapsed'}>\n            <div className='maplist-contents'>\n              {this.state.filteredByMarker &&\n                <div key='m-reset' className='map-marker-item map-marker-reset' onClick={this.resetFilterByMarker}>\n                  {t('Reset')}\n                </div>\n              }\n              {this.state.markerMap.map((m, i)=>{\n                var markerItemClass = 'map-marker-item ';\n                if (this.state.filteredByMarker)\n                  markerItemClass += this.state.filteredByMarker.includes(m.id.toString()) ? 'selected' : 'unselected';\n                let label = m.labels ? m.labels[langIndex] : m.value ? m.value : t('not set');\n                var index = i;\n                if (colorSet !== undefined && colorSet !== 'a') {\n                  index = this.calculateIconIndex(index, this.state.markerMap);\n                }\n\n                return (\n                    <div key={`m-${i}`} className={markerItemClass}>\n                      <span className={`map-marker map-marker-${colorSet}${index + 1}`}>\n                        {m.count}\n                      </span>\n                      <span className={'map-marker-label'}\n                            onClick={this.filterByMarker} data-id={m.id} title={label}>\n                        {label}\n                      </span>\n                    </div>\n                  );\n              })}\n            </div>\n            <div className='maplist-legend' onClick={this.toggleLegend}>\n              <i className={classNames('k-icon', this.state.showExpandedLegend ? 'k-icon-down' : 'k-icon-up')} /> {t('Legend')}\n            </div>\n          </bem.FormView__mapList>\n        }\n        {!this.state.markers && !this.state.heatmap &&\n          <bem.Loading>\n            <bem.Loading__inner>\n              <i className='k-spin k-icon k-icon-spinner'/>\n            </bem.Loading__inner>\n          </bem.Loading>\n        }\n        {this.state.showMapSettings && (\n          <Modal\n            open\n            onClose={this.toggleMapSettings}\n            title={t('Map Settings')}>\n            <MapSettings\n              asset={this.props.asset}\n              toggleMapSettings={this.toggleMapSettings}\n              overrideStyles={this.overrideStyles}\n              overridenStyles={this.state.overridenStyles}\n            />\n          </Modal>\n        )}\n\n        <div id='data-map' />\n      </bem.FormView>\n      );\n  }\n}\n\nreactMixin(FormMap.prototype, Reflux.ListenerMixin);\n\nexport default FormMap;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport alertify from 'alertifyjs';\nimport {stores} from '../../stores';\nimport {actions} from '../../actions';\nimport bem from 'js/bem';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {MODAL_TYPES} from '../../constants';\nimport envStore from 'js/envStore';\n\nconst REST_SERVICES_SUPPORT_URL = 'rest_services.html';\n\nexport default class RESTServicesList extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isLoadingHooks: true,\n      assetUid: props.assetUid,\n      hooks: []\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(\n      actions.hooks.getAll.completed,\n      this.onHooksUpdate\n    );\n\n    actions.hooks.getAll(\n      this.state.assetUid,\n      {\n        onComplete: (data) => {\n          this.setState({\n            isLoadingHooks: false,\n            hooks: data.results\n          });\n        },\n        onFail: (data) => {\n          this.setState({\n            isLoadingHooks: false\n          });\n          alertify.error(t('Could not load REST Services'));\n        }\n      }\n    );\n  }\n\n  onHooksUpdate(data) {\n    this.setState({\n      isLoadingHooks: false,\n      hooks: data.results\n    })\n  }\n\n  editHook(evt) {\n    stores.pageState.showModal({\n      assetUid: this.state.assetUid,\n      type: MODAL_TYPES.REST_SERVICES,\n      hookUid: evt.currentTarget.dataset.hookUid\n    });\n  }\n\n  deleteHookSafe(evt) {\n    const hookName = evt.currentTarget.dataset.hookName;\n    const hookUid = evt.currentTarget.dataset.hookUid;\n    if (this.state.assetUid) {\n      const dialog = alertify.dialog('confirm');\n      const title = t('Are you sure you want to delete ##target?')\n        .replace('##target', hookName);\n      const message = t('You are about to delete ##target. This action cannot be undone.')\n        .replace('##target', `<strong>${hookName}</strong>`);\n      let dialogOptions = {\n        title: title,\n        message: message,\n        labels: { ok: t('Confirm'), cancel: t('Cancel') },\n        onok: () => {\n          actions.hooks.delete(this.state.assetUid, hookUid);\n        },\n        oncancel: () => {\n          dialog.destroy();\n        }\n      };\n      dialog.set(dialogOptions).show();\n    }\n  }\n\n  openNewRESTServiceModal() {\n    stores.pageState.showModal({\n      assetUid: this.state.assetUid,\n      // hookUid: not provided intentionally\n      type: MODAL_TYPES.REST_SERVICES\n    });\n  }\n\n  getSupportUrl() {\n    if (envStore.isReady && envStore.data.support_url) {\n      return envStore.data.support_url + REST_SERVICES_SUPPORT_URL;\n    }\n  }\n\n  renderModalButton() {\n    return (\n      <bem.KoboButton\n        m='blue'\n        onClick={this.openNewRESTServiceModal}\n      >\n        {t('Register a New Service')}\n      </bem.KoboButton>\n    );\n  }\n\n  renderEmptyView() {\n    return (\n      <bem.FormView m={'form-settings'} className='rest-services rest-services--empty'>\n        <bem.EmptyContent>\n          <bem.EmptyContent__icon className='k-icon k-icon-data-sync' />\n\n          <bem.EmptyContent__title>\n            {t(\"This project doesn't have any REST Services yet!\")}\n          </bem.EmptyContent__title>\n\n          <bem.EmptyContent__message>\n            {t('You can use REST Services to automatically post submissions to a third-party application.')}\n            &nbsp;\n            <a href={this.getSupportUrl()} target='_blank'>{t('Learn more')}</a>\n          </bem.EmptyContent__message>\n\n          {this.renderModalButton()}\n        </bem.EmptyContent>\n      </bem.FormView>\n    );\n  }\n\n  renderListView() {\n    return (\n      <bem.FormView m={'form-settings'} className='rest-services'>\n        <bem.FormView__cell m='rest-services-list'>\n          <header className='rest-services-list__header'>\n            <h2 className='rest-services-list__header-label'>\n              {t('REST Services: ##number##').replace('##number##', this.state.hooks.length)}\n            </h2>\n\n            <a\n              className='rest-services-list__header-help-link rest-services-list__header-right'\n              href={this.getSupportUrl()}\n              target='_blank'\n            >\n              <i className='k-icon k-icon-help' />\n              {t('Need help?')}\n            </a>\n          </header>\n\n          <bem.FormView__cell m={['box']}>\n            <bem.ServiceRow m='header'>\n              <bem.ServiceRow__column m='name'>{t('Service Name')}</bem.ServiceRow__column>\n              <bem.ServiceRow__column m='count'>{t('Success')}</bem.ServiceRow__column>\n              <bem.ServiceRow__column m='count'>{t('Pending')}</bem.ServiceRow__column>\n              <bem.ServiceRow__column m='count'>{t('Failed')}</bem.ServiceRow__column>\n              <bem.ServiceRow__column m='actions' />\n            </bem.ServiceRow>\n\n            {this.state.hooks.map((hook) => {\n              const logsUrl = `/#/forms/${this.state.assetUid}/settings/rest/${hook.uid}`;\n              return (\n                <bem.ServiceRow key={hook.uid} m={hook.active ? 'active' : 'inactive'}>\n                  <bem.ServiceRow__linkOverlay href={logsUrl}/>\n\n                  <bem.ServiceRow__column m='name'>{hook.name}</bem.ServiceRow__column>\n\n                  <bem.ServiceRow__column m='count'>{hook.success_count}</bem.ServiceRow__column>\n\n                  <bem.ServiceRow__column m='count'>{hook.pending_count}</bem.ServiceRow__column>\n\n                  <bem.ServiceRow__column m='count'>{hook.failed_count}</bem.ServiceRow__column>\n\n                  <bem.ServiceRow__column m='actions'>\n                    <bem.ServiceRow__actionButton\n                      onClick={this.editHook}\n                      data-hook-uid={hook.uid}\n                      data-tip={t('Edit')}\n                    >\n                      <i className='k-icon k-icon-edit' />\n                    </bem.ServiceRow__actionButton>\n\n                    <bem.ServiceRow__actionButton\n                      onClick={this.deleteHookSafe.bind(this)}\n                      data-hook-name={hook.name}\n                      data-hook-uid={hook.uid}\n                      data-tip={t('Delete')}\n                    >\n                      <i className='k-icon k-icon-trash' />\n                    </bem.ServiceRow__actionButton>\n                  </bem.ServiceRow__column>\n                </bem.ServiceRow>\n              );\n            })}\n          </bem.FormView__cell>\n        </bem.FormView__cell>\n\n        {this.renderModalButton()}\n      </bem.FormView>\n    );\n  }\n\n  render() {\n    if (this.state.isLoadingHooks) {\n      return (<LoadingSpinner/>);\n    } else if (this.state.hooks.length === 0) {\n      return this.renderEmptyView();\n    } else {\n      return this.renderListView();\n    }\n  }\n}\n\nreactMixin(RESTServicesList.prototype, Reflux.ListenerMixin);\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport DocumentTitle from 'react-document-title';\nimport RESTServicesList from './RESTServices/RESTServicesList';\nimport RESTServiceLogs from './RESTServices/RESTServiceLogs';\nimport './RESTServices.scss';\n\nexport default class RESTServices extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  render() {\n    const docTitle = this.props.asset.name || t('Untitled');\n    return (\n      <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n        <React.Fragment>\n          {this.props.hookUid &&\n            <RESTServiceLogs assetUid={this.props.asset.uid} hookUid={this.props.hookUid} />\n          }\n          {!this.props.hookUid &&\n            <RESTServicesList assetUid={this.props.asset.uid} />\n          }\n        </React.Fragment>\n      </DocumentTitle>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport {actions} from '../actions';\nimport bem from 'js/bem';\nimport {stores} from '../stores';\nimport assetStore from 'js/assetStore';\nimport mixins from '../mixins';\nimport DocumentTitle from 'react-document-title';\nimport SharingForm from './permissions/sharingForm';\nimport ProjectSettings from './modalForms/projectSettings';\nimport ConnectProjects from 'js/components/dataAttachments/connectProjects';\nimport FormMedia from './modalForms/formMedia';\nimport DataTable from 'js/components/submissions/table';\nimport ProjectDownloads from 'js/components/projectDownloads/projectDownloads';\nimport {PROJECT_SETTINGS_CONTEXTS} from '../constants';\nimport FormMap from './map';\nimport RESTServices from './RESTServices';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {ROUTES} from 'js/router/routerConstants';\n\nexport class FormSubScreens extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {};\n    autoBind(this);\n  }\n  componentDidMount () {\n    this.listenTo(assetStore, this.dmixAssetStoreChange);\n    var uid = this.props.params.assetid || this.props.uid || this.props.params.uid;\n    if (uid) {\n      actions.resources.loadAsset({id: uid});\n    }\n  }\n  render () {\n    if (!this.state.permissions) {\n      return false;\n    }\n\n    var iframeUrl = '';\n    var report__base = '';\n    var deployment__identifier = '';\n\n    if (this.state.uid != undefined) {\n      if (this.state.deployment__identifier != undefined) {\n        deployment__identifier = this.state.deployment__identifier;\n        report__base = deployment__identifier.replace('/forms/', '/reports/');\n      }\n      switch(this.props.location.pathname) {\n        case ROUTES.FORM_TABLE.replace(':uid', this.state.uid):\n          return <DataTable asset={this.state} />;\n        case ROUTES.FORM_GALLERY.replace(':uid', this.state.uid):\n          iframeUrl = deployment__identifier+'/photos';\n          break;\n        case ROUTES.FORM_MAP.replace(':uid', this.state.uid):\n          return <FormMap asset={this.state} />;\n        case ROUTES.FORM_MAP_BY\n            .replace(':uid', this.state.uid)\n            .replace(':viewby', this.props.params.viewby):\n          return <FormMap asset={this.state} viewby={this.props.params.viewby}/>;\n        case ROUTES.FORM_DOWNLOADS.replace(':uid', this.state.uid):\n          return <ProjectDownloads asset={this.state}/>;\n        case ROUTES.FORM_SETTINGS.replace(':uid', this.state.uid):\n          return this.renderSettingsEditor();\n        case ROUTES.FORM_MEDIA.replace(':uid', this.state.uid):\n          return this.renderUpload();\n        case ROUTES.FORM_SHARING.replace(':uid', this.state.uid):\n          return this.renderSharing();\n        case ROUTES.FORM_RECORDS.replace(':uid', this.state.uid):\n          return this.renderRecords();\n        case ROUTES.FORM_REST.replace(':uid', this.state.uid):\n          return <RESTServices asset={this.state} />;\n        case ROUTES.FORM_REST_HOOK\n            .replace(':uid', this.state.uid)\n            .replace(':hookUid', this.props.params.hookUid):\n          return <RESTServices asset={this.state} hookUid={this.props.params.hookUid}/>;\n        case ROUTES.FORM_KOBOCAT.replace(':uid', this.state.uid):\n          iframeUrl = deployment__identifier+'/form_settings';\n          break;\n        case ROUTES.FORM_RESET.replace(':uid', this.state.uid):\n          return this.renderReset();\n      }\n    }\n\n    var docTitle = this.state.name || t('Untitled');\n\n    return (\n        <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n          <bem.FormView>\n            <bem.FormView__cell m='iframe'>\n              <iframe src={iframeUrl} />\n            </bem.FormView__cell>\n          </bem.FormView>\n        </DocumentTitle>\n      );\n  }\n  renderSettingsEditor() {\n    var docTitle = this.state.name || t('Untitled');\n    return (\n        <DocumentTitle title={`${docTitle} | KoboToolbox`}>\n          <bem.FormView m='form-settings'>\n            <ProjectSettings\n              context={PROJECT_SETTINGS_CONTEXTS.EXISTING}\n              formAsset={this.state}\n            />\n          </bem.FormView>\n        </DocumentTitle>\n    );\n  }\n  renderSharing() {\n    const uid = this.props.params.assetid || this.props.params.uid;\n    return (\n      <bem.FormView m='form-settings-sharing'>\n        <SharingForm uid={uid} />\n      </bem.FormView>\n    );\n  }\n  renderRecords() {\n    return (\n      <bem.FormView className='connect-projects'>\n        <ConnectProjects asset={this.state}/>\n      </bem.FormView>\n    );\n  }\n  renderReset() {\n    return (<LoadingSpinner/>);\n  }\n\n  renderUpload() {\n    return (\n      <FormMedia asset={this.state}/>\n    );\n  }\n}\n\nreactMixin(FormSubScreens.prototype, Reflux.ListenerMixin);\nreactMixin(FormSubScreens.prototype, mixins.dmix);\nreactMixin(FormSubScreens.prototype, mixins.permissions);\nreactMixin(FormSubScreens.prototype, mixins.contextRouter);\n\nFormSubScreens.contextTypes = {\n  router: PropTypes.object\n};\n\nexport default FormSubScreens;\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport DocumentTitle from 'react-document-title';\nimport {actions} from '../actions';\nimport bem from 'js/bem';\nimport {stores} from '../stores';\nimport TextBox from 'js/components/common/textBox';\nimport {hashHistory} from 'react-router';\nimport PasswordStrength from 'js/components/passwordStrength';\nimport {stringToColor} from 'utils';\nimport {ROOT_URL} from 'js/constants';\n\nexport default class ChangePassword extends React.Component {\n  constructor(props) {\n    super(props);\n    this.errors = {};\n    this.state = {\n      errors: this.errors,\n      currentPassword: '',\n      newPassword: '',\n      verifyPassword: ''\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(actions.auth.changePassword.failed, this.onChangePasswordFailed);\n    this.listenTo(actions.auth.changePassword.completed, this.onChangePasswordCompleted);\n  }\n\n  validateRequired(what) {\n    if (!this.state[what]) {\n      this.errors[what] = t('This field is required.');\n    }\n  }\n\n  close() {\n    hashHistory.goBack();\n  }\n\n  changePassword() {\n    this.errors = {};\n    this.validateRequired('currentPassword');\n    this.validateRequired('newPassword');\n    this.validateRequired('verifyPassword');\n    if (this.state.newPassword !== this.state.verifyPassword) {\n      this.errors['newPassword'] = t('This field must match the Verify Password field.');\n    }\n    if (Object.keys(this.errors).length === 0) {\n      actions.auth.changePassword(this.state.currentPassword, this.state.newPassword);\n    }\n    this.setState({errors: this.errors});\n  }\n\n  onChangePasswordFailed(jqXHR) {\n    if (jqXHR.responseJSON.current_password) {\n      this.errors.currentPassword = jqXHR.responseJSON.current_password;\n    }\n    if (jqXHR.responseJSON.new_password) {\n      this.errors.newPassword = jqXHR.responseJSON.new_password;\n    }\n    this.setState({errors: this.errors});\n  }\n\n  onChangePasswordCompleted() {\n    this.close();\n  }\n\n  currentPasswordChange(val) {\n    this.setState({currentPassword: val});\n  }\n\n  newPasswordChange(val) {\n    this.setState({newPassword: val});\n  }\n\n  verifyPasswordChange(val) {\n    this.setState({verifyPassword: val});\n  }\n\n  render() {\n    if(!stores.session.isLoggedIn) {\n      return null;\n    }\n\n    var accountName = stores.session.currentAccount.username;\n    var initialsStyle = {\n      background: `#${stringToColor(accountName)}`\n    };\n\n    return (\n      <DocumentTitle title={`${accountName} | KoboToolbox`}>\n        <bem.AccountSettings>\n          <bem.AccountSettings__actions>\n            <bem.KoboButton\n              onClick={this.changePassword}\n              m={['blue']}\n            >\n              {t('Save Password')}\n            </bem.KoboButton>\n\n            <button\n              onClick={this.close}\n              className='account-settings-close mdl-button mdl-button--icon'\n            >\n              <i className='k-icon k-icon-close'/>\n            </button>\n          </bem.AccountSettings__actions>\n\n          <bem.AccountSettings__item m={'column'}>\n            <bem.AccountSettings__item m='username'>\n              <bem.AccountBox__initials style={initialsStyle}>\n                {accountName.charAt(0)}\n              </bem.AccountBox__initials>\n              <h4>{accountName}</h4>\n            </bem.AccountSettings__item>\n\n            <bem.AccountSettings__item m='fields'>\n              <bem.AccountSettings__item>\n                <h4>{t('Reset Password')}</h4>\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Current Password')}\n                  type='password'\n                  errors={this.state.errors.currentPassword}\n                  value={this.state.currentPassword}\n                  onChange={this.currentPasswordChange}\n                />\n\n                <a\n                  className='account-settings-link'\n                  href={`${ROOT_URL}/accounts/password/reset/`}\n                >\n                  {t('Forgot Password?')}\n                </a>\n              </bem.AccountSettings__item>\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('New Password')}\n                  type='password'\n                  errors={this.state.errors.newPassword}\n                  value={this.state.newPassword}\n                  onChange={this.newPasswordChange}\n                />\n              </bem.AccountSettings__item>\n\n              {\n                this.state.newPassword !== '' &&\n                <bem.AccountSettings__item>\n                  <PasswordStrength password={this.state.newPassword} />\n                </bem.AccountSettings__item>\n              }\n\n              <bem.AccountSettings__item>\n                <TextBox\n                  label={t('Verify Password')}\n                  type='password'\n                  errors={this.state.errors.verifyPassword}\n                  value={this.state.verifyPassword}\n                  onChange={this.verifyPasswordChange}\n                />\n              </bem.AccountSettings__item>\n            </bem.AccountSettings__item>\n          </bem.AccountSettings__item>\n        </bem.AccountSettings>\n      </DocumentTitle>\n    );\n  }\n}\n\nreactMixin(ChangePassword.prototype, Reflux.connect(stores.session, 'session'));\nreactMixin(ChangePassword.prototype, Reflux.ListenerMixin);\n","import React from 'react';\nimport bem from 'js/bem';\n\nexport default class SectionNotFound extends React.Component {\n  render() {\n    return (\n      <bem.uiPanel className='k404'>\n        <bem.uiPanel__body>\n          <i />\n          <em>section not found</em>\n        </bem.uiPanel__body>\n      </bem.uiPanel>\n    );\n  }\n}\n","import React from 'react';\nimport bem from 'js/bem';\n\nexport default class FormNotFound extends React.Component {\n  render() {\n    return (\n      <bem.uiPanel>\n        <bem.uiPanel__body>\n          <bem.Loading>\n            <bem.Loading__inner>\n              {t('path not found / recognized')}\n            </bem.Loading__inner>\n          </bem.Loading>\n        </bem.uiPanel__body>\n      </bem.uiPanel>\n    );\n  }\n}\n","import React from 'react';\nimport reactMixin from 'react-mixin';\nimport autoBind from 'react-autobind';\nimport Reflux from 'reflux';\nimport {actions} from 'js/actions';\nimport assetStore from 'js/assetStore';\nimport bem from 'js/bem';\n\nexport default class FormJson extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {assetContent: false};\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.listenTo(assetStore, this.assetStoreTriggered);\n    const uid = this.props.params.assetid || this.props.params.uid;\n    actions.resources.loadAsset({id: uid});\n  }\n\n  assetStoreTriggered(response) {\n    const { content } = Object.values(response)[0];\n    this.setState({assetContent: content});\n  }\n\n  render() {\n    let content = null;\n    if (this.state.assetContent) {\n      content = JSON.stringify(this.state.assetContent, null, 4);\n    }\n\n    return (\n      <bem.uiPanel>\n        <bem.uiPanel__body>\n          <bem.FormView>\n            <pre>\n              <code>\n                {content}\n              </code>\n            </pre>\n          </bem.FormView>\n        </bem.uiPanel__body>\n      </bem.uiPanel>\n    );\n  }\n}\n\nreactMixin(FormJson.prototype, Reflux.ListenerMixin);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactMixin from 'react-mixin';\nimport Reflux from 'reflux';\nimport {COMMON_QUERIES} from 'js/constants';\nimport {searches} from '../searches';\nimport mixins from '../mixins';\nimport SearchCollectionList from '../components/searchcollectionlist';\n\nclass FormsSearchableList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchContext: searches.getSearchContext('forms', {\n        filterParams: {\n          assetType: COMMON_QUERIES.s,\n        },\n        filterTags: COMMON_QUERIES.s,\n      })\n    };\n  }\n  componentDidMount () {\n    this.searchSemaphore();\n  }\n  render () {\n    return (\n      <SearchCollectionList\n        searchContext={this.state.searchContext} />\n      );\n  }\n}\n\nFormsSearchableList.contextTypes = {\n  router: PropTypes.object\n};\n\nreactMixin(FormsSearchableList.prototype, searches.common);\nreactMixin(FormsSearchableList.prototype, mixins.droppable);\nreactMixin(FormsSearchableList.prototype, Reflux.ListenerMixin);\n\nexport default FormsSearchableList;\n","import React from 'react';\nimport bem, {makeBem} from 'js/bem';\nimport {redirectToLogin} from 'js/router/routerUtils';\nimport {stores} from 'js/stores';\nimport {replaceBracketsWithLink} from 'utils';\n\nimport envStore from 'js/envStore';\nimport './accessDenied.scss';\n\nbem.AccessDenied = makeBem(null, 'access-denied');\nbem.AccessDenied__body = makeBem(bem.AccessDenied, 'body', 'section');\nbem.AccessDenied__header = makeBem(bem.AccessDenied, 'header', 'header');\nbem.AccessDenied__text = makeBem(bem.AccessDenied, 'text', 'section');\n\n/**\n * @prop {string} [errorMessage]\n */\nexport default class AccessDenied extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  goToLogin(evt) {\n    evt.preventDefault();\n    redirectToLogin();\n  }\n\n  render() {\n    let messageText;\n\n    if (stores.session.isLoggedIn) {\n      messageText = t(`Please try logging in using the header button or [contact the support team] if you think it's an error.`);\n    } else {\n      messageText = t(`Please [contact the support team] if you think it's an error.`);\n    }\n\n    let messageHtml = replaceBracketsWithLink(messageText, envStore.data.support_url);\n\n    return (\n      <bem.AccessDenied>\n        <bem.AccessDenied__body>\n          <bem.AccessDenied__header>\n            <i className='k-icon k-icon-lock-alt'/>\n            {t('Access denied')}\n          </bem.AccessDenied__header>\n\n          <bem.AccessDenied__text>\n            {t(\"Either you don't have access to this page or this page simply doesn't exist.\")}\n\n            <p dangerouslySetInnerHTML={{__html: messageHtml}} />\n          </bem.AccessDenied__text>\n\n          {this.props.errorMessage &&\n            <bem.AccessDenied__text>\n              {t('Additional details:')}\n\n              <code>{this.props.errorMessage}</code>\n            </bem.AccessDenied__text>\n          }\n        </bem.AccessDenied__body>\n      </bem.AccessDenied>\n    );\n  }\n}\n","import React from 'react';\nimport {stores} from 'js/stores';\nimport AccessDenied from 'js/router/accessDenied';\n\n/**\n * A gateway component for rendering the route only for authorized user.\n *\n * NOTE: we assume stores.session is already initialized because of\n * a conditional statement in `allRoutes`.\n *\n * @prop {string} path - one of PATHS\n * @prop {object} route\n * @prop {object} route.protectedComponent - the target route commponent that should be displayed for authenticateed user\n */\nexport default class AuthProtectedRoute extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    if (stores.session.isLoggedIn) {\n      return <this.props.route.protectedComponent {...this.props}/>;\n    }\n    return <AccessDenied/>;\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport {actions} from 'js/actions';\nimport {stores} from 'js/stores';\nimport mixins from 'js/mixins';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport AccessDenied from 'js/router/accessDenied';\n\n/**\n * A gateway component for rendering the route only for a user who has\n * permission to view it. Should be used only for asset routes.\n *\n * @prop {string} path - one of PATHS\n * @prop {object} route\n * @prop {object} route.protectedComponent - the target route commponent that should be displayed for authenticateed user\n * @prop {object} route.requiredPermission - the permission needed to be able to see the route\n */\nexport default class PermProtectedRoute extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.getInitialState();\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  getInitialState() {\n    return {\n      // Whether loadAsset call was made and ended, regardless of success or failure\n      isLoadAssetFinished: false,\n      userHasRequiredPermission: null,\n      errorMessage: null,\n      asset: null,\n    };\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      actions.resources.loadAsset.completed.listen(this.onLoadAssetCompleted),\n      actions.resources.loadAsset.failed.listen(this.onLoadAssetFailed)\n    );\n    actions.resources.loadAsset({id: this.props.params.uid});\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.params.uid !== nextProps.params.uid) {\n      this.setState(this.getInitialState());\n      actions.resources.loadAsset({id: nextProps.params.uid});\n    } else if (\n      this.props.route.requiredPermission !== nextProps.route.requiredPermission ||\n      this.props.route.protectedComponent !== nextProps.route.protectedComponent\n    ) {\n      this.setState({\n        userHasRequiredPermission: this.getUserHasRequiredPermission(\n          this.state.asset,\n          nextProps.route.requiredPermission\n        ),\n      });\n    }\n  }\n\n  onLoadAssetCompleted(asset) {\n    if (asset.uid !== this.props.params.uid) {\n      return;\n    }\n\n    this.setState({\n      asset: asset,\n      isLoadAssetFinished: true,\n      userHasRequiredPermission: this.getUserHasRequiredPermission(\n        asset,\n        this.props.route.requiredPermission\n      ),\n    });\n  }\n\n  onLoadAssetFailed(response) {\n    if (response.status >= 400) {\n      this.setState({\n        isLoadAssetFinished: true,\n        userHasRequiredPermission: false,\n        errorMessage: `${response.status.toString()}: ${response.responseJSON?.detail || response.statusText}`,\n      });\n    }\n  }\n\n  getUserHasRequiredPermission(asset, requiredPermission) {\n    return (\n      // we are ok with either full or partial permission\n      mixins.permissions.userCan(requiredPermission, asset) ||\n      mixins.permissions.userCanPartially(requiredPermission, asset)\n    );\n  }\n\n  render() {\n    if (!this.state.isLoadAssetFinished) {\n      return <LoadingSpinner/>;\n    } else if (this.state.userHasRequiredPermission) {\n      return (\n        <this.props.route.protectedComponent\n          {...this.props}\n          initialAssetLoadNotNeeded\n        />\n      );\n    } else {\n      return <AccessDenied errorMessage={this.state.errorMessage}/>;\n    }\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport {\n  IndexRoute,\n  IndexRedirect,\n  Route,\n  hashHistory,\n  Router,\n} from 'react-router';\nimport App from 'js/app';\nimport {\n  FormPage,\n  LibraryAssetEditor,\n} from 'js/components/formEditors';\nimport {actions} from 'js/actions';\nimport {stores} from 'js/stores';\nimport {envStore} from 'js/envStore'; // initializing it\nimport MyLibraryRoute from 'js/components/library/myLibraryRoute';\nimport PublicCollectionsRoute from 'js/components/library/publicCollectionsRoute';\nimport AssetRoute from 'js/components/library/assetRoute';\nimport Reports from 'js/components/reports/reports';\nimport FormLanding from 'js/components/formLanding';\nimport FormSummary from 'js/components/formSummary';\nimport FormSubScreens from 'js/components/formSubScreens';\nimport AccountSettings from 'js/components/accountSettings';\nimport ChangePassword from 'js/components/changePassword';\nimport SectionNotFound from 'js/components/sectionNotFound';\nimport FormNotFound from 'js/components/formNotFound';\nimport FormXform from 'js/components/formXform';\nimport FormJson from 'js/components/formJson';\nimport FormsSearchableList from 'js/lists/forms';\nimport {ROUTES} from 'js/router/routerConstants';\nimport permConfig from 'js/components/permissions/permConfig';\nimport LoadingSpinner from 'js/components/common/loadingSpinner';\nimport {\n  isRootRoute,\n  redirectToLogin,\n} from 'js/router/routerUtils';\nimport AuthProtectedRoute from 'js/router/authProtectedRoute';\nimport PermProtectedRoute from 'js/router/permProtectedRoute';\nimport {PERMISSIONS_CODENAMES} from 'js/constants';\n\nexport default class AllRoutes extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPermsConfigReady: permConfig.isReady(),\n      isSessionReady: stores.session.isAuthStateKnown,\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    actions.permissions.getConfig.completed.listen(this.onGetConfigCompleted);\n    stores.session.listen(this.onSessionChange);\n    actions.permissions.getConfig();\n  }\n\n  onGetConfigCompleted(response) {\n    permConfig.setPermissions(response.results);\n    this.setReady({isPermsConfigReady: permConfig.isReady()});\n  }\n\n  onSessionChange() {\n    this.setReady({isSessionReady: stores.session.isAuthStateKnown});\n  }\n\n  /**\n   * This convoluted function wants to check if redirect should be made before\n   * setting the state - which would cause an unwanted rerender.\n   *\n   * @param {object} data\n   * @param {boolean} [data.isPermsConfigReady]\n   * @param {boolean} [data.isSessionReady]\n   */\n  setReady(data) {\n    const newStateObj = {\n      isPermsConfigReady: this.state.isPermsConfigReady,\n      isSessionReady: this.state.isSessionReady,\n    };\n\n    if (typeof data.isPermsConfigReady !== 'undefined') {\n      newStateObj.isPermsConfigReady = data.isPermsConfigReady;\n    }\n\n    if (typeof data.isSessionReady !== 'undefined') {\n      newStateObj.isSessionReady = data.isSessionReady;\n    }\n\n    if (\n      newStateObj.isPermsConfigReady &&\n      newStateObj.isSessionReady &&\n      !stores.session.isLoggedIn &&\n      isRootRoute()\n    ) {\n      // If all necessary data is obtained, and user is not logged in, and on\n      // the root route, redirect immediately to the login page outside\n      // the React app, and skip setting the state (so no content blink).\n      redirectToLogin();\n    } else {\n      this.setState(newStateObj);\n    }\n  }\n\n  /**\n   * NOTE: For a new route, follow this guideline:\n   * - if route should be accessible to anyone, use `Route`\n   * - if route should be accessible only to logged in users, use `AuthProtectedRoute`\n   * - if route should be accessible only with given permission, use `PermProtectedRoute`\n   * @returns {Node} nested routes\n   */\n  getRoutes() {\n    return (\n      <Route name='home' path={ROUTES.ROOT} component={App}>\n        <IndexRedirect to={ROUTES.FORMS} />\n\n        {/* MISC */}\n        <Route\n          path={ROUTES.ACCOUNT_SETTINGS}\n          component={AuthProtectedRoute}\n          protectedComponent={AccountSettings}\n        />\n        <Route\n          path={ROUTES.CHANGE_PASSWORD}\n          component={AuthProtectedRoute}\n          protectedComponent={ChangePassword}\n        />\n\n        {/* LIBRARY */}\n        <Route path={ROUTES.LIBRARY}>\n          <IndexRedirect to={ROUTES.MY_LIBRARY}/>\n          <Route\n            path={ROUTES.MY_LIBRARY}\n            component={AuthProtectedRoute}\n            protectedComponent={MyLibraryRoute}\n          />\n          <Route\n            path={ROUTES.PUBLIC_COLLECTIONS}\n            component={AuthProtectedRoute}\n            protectedComponent={PublicCollectionsRoute}\n          />\n          <Route\n            path={ROUTES.NEW_LIBRARY_ITEM}\n            component={AuthProtectedRoute}\n            protectedComponent={LibraryAssetEditor}\n          />\n          <Route\n            path={ROUTES.LIBRARY_ITEM}\n            component={PermProtectedRoute}\n            protectedComponent={AssetRoute}\n            requiredPermission={PERMISSIONS_CODENAMES.view_asset}\n          />\n          <Route\n            path={ROUTES.EDIT_LIBRARY_ITEM}\n            component={PermProtectedRoute}\n            protectedComponent={LibraryAssetEditor}\n            requiredPermission={PERMISSIONS_CODENAMES.change_asset}\n          />\n          <Route\n            path={ROUTES.NEW_LIBRARY_CHILD}\n            component={PermProtectedRoute}\n            protectedComponent={LibraryAssetEditor}\n            requiredPermission={PERMISSIONS_CODENAMES.change_asset}\n          />\n          <Route\n            path={ROUTES.LIBRARY_ITEM_JSON}\n            component={PermProtectedRoute}\n            protectedComponent={FormJson}\n            requiredPermission={PERMISSIONS_CODENAMES.view_asset}\n          />\n          <Route\n            path={ROUTES.LIBRARY_ITEM_XFORM}\n            component={PermProtectedRoute}\n            protectedComponent={FormXform}\n            requiredPermission={PERMISSIONS_CODENAMES.view_asset}\n          />\n        </Route>\n\n        {/* FORMS */}\n        <Route path={ROUTES.FORMS} >\n          <IndexRoute\n            component={AuthProtectedRoute}\n            protectedComponent={FormsSearchableList}\n          />\n\n          <Route path={ROUTES.FORM}>\n            <IndexRedirect to={ROUTES.FORM_LANDING} />\n\n            <Route\n              path={ROUTES.FORM_SUMMARY}\n              component={PermProtectedRoute}\n              protectedComponent={FormSummary}\n              requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n            />\n\n            <Route\n              path={ROUTES.FORM_LANDING}\n              component={PermProtectedRoute}\n              protectedComponent={FormLanding}\n              requiredPermission={PERMISSIONS_CODENAMES.view_asset}\n            />\n\n            <Route path={ROUTES.FORM_DATA}>\n              <IndexRedirect to={ROUTES.FORM_TABLE} />\n              <Route\n                path={ROUTES.FORM_REPORT}\n                component={PermProtectedRoute}\n                protectedComponent={Reports}\n                requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n              />\n              <Route\n                path={ROUTES.FORM_REPORT_OLD}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n              />\n              <Route\n                path={ROUTES.FORM_TABLE}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n              />\n              <Route\n                path={ROUTES.FORM_DOWNLOADS}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n              />\n              <Route\n                path={ROUTES.FORM_GALLERY}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n              />\n              <Route\n                path={ROUTES.FORM_MAP}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n              />\n              <Route\n                path={ROUTES.FORM_MAP_BY}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n              />\n            </Route>\n\n            <Route path={ROUTES.FORM_SETTINGS}>\n              <IndexRoute\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.manage_asset}\n              />\n              <Route\n                path={ROUTES.FORM_MEDIA}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.manage_asset}\n              />\n              <Route\n                path={ROUTES.FORM_SHARING}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.manage_asset}\n              />\n              <Route\n                path={ROUTES.FORM_RECORDS}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.manage_asset}\n              />\n              <Route\n                path={ROUTES.FORM_REST}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.manage_asset}\n              />\n              <Route\n                path={ROUTES.FORM_REST_HOOK}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.manage_asset}\n              />\n              <Route\n                path={ROUTES.FORM_KOBOCAT}\n                component={PermProtectedRoute}\n                protectedComponent={FormSubScreens}\n                requiredPermission={PERMISSIONS_CODENAMES.manage_asset}\n              />\n            </Route>\n\n            <Route\n              path={ROUTES.FORM_JSON}\n              component={PermProtectedRoute}\n              protectedComponent={FormJson}\n              requiredPermission={PERMISSIONS_CODENAMES.view_asset}\n            />\n            <Route\n              path={ROUTES.FORM_XFORM}\n              component={PermProtectedRoute}\n              protectedComponent={FormXform}\n              requiredPermission={PERMISSIONS_CODENAMES.view_asset}\n            />\n            <Route\n              path={ROUTES.FORM_EDIT}\n              component={PermProtectedRoute}\n              protectedComponent={FormPage}\n              requiredPermission={PERMISSIONS_CODENAMES.view_asset}\n            />\n\n            {/**\n              * TODO change this HACKFIX to a better solution\n              *\n              * Used to force refresh form sub routes. It's some kine of a weird\n              * way of introducing a loading screen during sub route refresh.\n              **/}\n            <Route\n              path={ROUTES.FORM_RESET}\n              component={PermProtectedRoute}\n              protectedComponent={FormSubScreens}\n              requiredPermission={PERMISSIONS_CODENAMES.view_submissions}\n            />\n          </Route>\n\n          <Route path='*' component={FormNotFound} />\n        </Route>\n\n        <Route path='*' component={SectionNotFound} />\n      </Route>\n    );\n  }\n\n  render() {\n    // This is the place that stops any app rendering until all necessary\n    // backend calls are done.\n    if (!this.state.isPermsConfigReady || !this.state.isSessionReady) {\n      return (<LoadingSpinner/>);\n    }\n\n    return (\n      <Router\n        history={hashHistory}\n        ref={(ref) => this.router = ref}\n        routes={this.getRoutes()}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport Fuse from 'fuse.js';\nimport bem, {makeBem} from 'js/bem';\nimport {actions} from 'js/actions';\nimport ToggleSwitch from 'js/components/common/toggleSwitch';\nimport TextBox from 'js/components/common/textBox';\nimport {getColumnLabel} from 'js/components/submissions/tableUtils';\nimport tableStore from 'js/components/submissions/tableStore';\nimport {FUSE_OPTIONS} from 'js/constants';\nimport koboDropdownActions from 'js/components/common/koboDropdownActions';\nimport './columnsHideDropdown.scss';\n\nbem.ColumnsHideForm = makeBem(null, 'columns-hide-form', 'section');\nbem.ColumnsHideForm__message = makeBem(bem.ColumnsHideForm, 'message', 'p');\nbem.ColumnsHideForm__list = makeBem(bem.ColumnsHideForm, 'list', 'ul');\nbem.ColumnsHideForm__listItem = makeBem(bem.ColumnsHideForm, 'list-item', 'li');\nbem.ColumnsHideForm__footer = makeBem(bem.ColumnsHideForm, 'footer', 'footer');\n\n/**\n * @prop {object} asset\n * @prop {object[]} submissions\n * @prop {boolean} showGroupName\n * @prop {number} translationIndex\n */\nclass ColumnsHideForm extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      isPending: false, // for saving\n      filterPhrase: '',\n      allColumns: [], // {object[]}\n      selectedColumns: [], // {string[]}\n    };\n    this.unlisteners = [];\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    this.unlisteners.push(\n      actions.table.updateSettings.completed.listen(this.onTableUpdateSettingsCompleted)\n    );\n    this.prepareColumns();\n  }\n\n  componentWillUnmount() {\n    this.unlisteners.forEach((clb) => {clb();});\n  }\n\n  prepareColumns() {\n    const allColumnsIds = [...tableStore.getAllColumns(this.props.submissions)];\n\n    const allColumns = [];\n    allColumnsIds.forEach((fieldId) => {\n      allColumns.push({\n        fieldId: fieldId,\n        label: getColumnLabel(\n          this.props.asset.content.survey,\n          fieldId,\n          this.props.showGroupName,\n          this.props.translationIndex,\n        ),\n      });\n    });\n\n    this.setState({\n      allColumns: allColumns,\n      selectedColumns: tableStore.getSelectedColumns() || allColumnsIds,\n    });\n  }\n\n  onTableUpdateSettingsCompleted() {\n    koboDropdownActions.hideAnyDropdown();\n  }\n\n  onReset() {\n    this.setState({isPending: true});\n    tableStore.showAllFields();\n  }\n\n  onApply() {\n    this.setState({isPending: true});\n    tableStore.setFieldsVisibility(\n      this.props.submissions,\n      this.state.selectedColumns\n    );\n  }\n\n  onFieldToggleChange(fieldId, isSelected) {\n    let newSelectedColumns = [...this.state.selectedColumns];\n    if (isSelected) {\n      newSelectedColumns.push(fieldId);\n    } else {\n      newSelectedColumns.splice(newSelectedColumns.indexOf(fieldId), 1);\n    }\n    this.setState({selectedColumns: newSelectedColumns});\n  }\n\n  onFilterPhraseChange(newPhrase) {\n    this.setState({filterPhrase: newPhrase});\n  }\n\n  getFilteredFieldsList() {\n    if (this.state.filterPhrase !== '') {\n      let fuse = new Fuse(this.state.allColumns, {...FUSE_OPTIONS, keys: ['fieldId', 'label']});\n      return fuse.search(this.state.filterPhrase);\n    }\n    return this.state.allColumns;\n  }\n\n  render() {\n    const filteredFieldsList = this.getFilteredFieldsList();\n    return (\n      <bem.ColumnsHideForm>\n        <bem.ColumnsHideForm__message>\n          {t('These settings affects the experience for all project users.')}\n        </bem.ColumnsHideForm__message>\n\n        <TextBox\n          value={this.state.filterPhrase}\n          onChange={this.onFilterPhraseChange}\n          customModifiers='on-white'\n          placeholder={t('Find a field')}\n        />\n\n        {filteredFieldsList.length !== 0 &&\n          <bem.ColumnsHideForm__list>\n            {filteredFieldsList.map((fieldObj) => {\n              // fieldObj can be either one of allColumns or a fuse result object\n              let fieldId = fieldObj.fieldId || fieldObj.item.fieldId;\n              let label = fieldObj.label || fieldObj.item.label;\n              return (\n                <bem.ColumnsHideForm__listItem key={fieldId}>\n                  <ToggleSwitch\n                    checked={this.state.selectedColumns.includes(fieldId)}\n                    onChange={this.onFieldToggleChange.bind(this, fieldId)}\n                    disabled={this.state.isPending}\n                    label={label}\n                  />\n                </bem.ColumnsHideForm__listItem>\n              );\n            })}\n          </bem.ColumnsHideForm__list>\n        }\n\n        {filteredFieldsList.length === 0 &&\n          <bem.ColumnsHideForm__message>\n            {t('No results')}\n          </bem.ColumnsHideForm__message>\n        }\n\n        <bem.ColumnsHideForm__footer>\n          <bem.KoboLightButton\n            m={['red', 'full-width']}\n            onClick={this.onReset}\n            disabled={this.state.isPending}\n          >\n            {t('Reset')}\n          </bem.KoboLightButton>\n\n          <bem.KoboLightButton\n            m={['blue', 'full-width']}\n            onClick={this.onApply}\n            disabled={this.state.isPending}\n          >\n            {t('Apply')}\n          </bem.KoboLightButton>\n        </bem.ColumnsHideForm__footer>\n      </bem.ColumnsHideForm>\n    );\n  }\n}\n\nexport default ColumnsHideForm;\n","import React from 'react';\nimport autoBind from 'react-autobind';\nimport KoboDropdown, {\n  KoboDropdownThemes,\n  KoboDropdownPlacements,\n} from 'js/components/common/koboDropdown';\nimport ColumnsHideForm from 'js/components/submissions/columnsHideForm';\nimport './columnsHideDropdown.scss';\n\n/**\n * A wrapper around KoboDropdown to be used atop table to bulk hide columns.\n *\n * @prop {object} asset\n * @prop {object[]} submissions\n * @prop {boolean} showGroupName\n * @prop {number} translationIndex\n */\nclass ColumnsHideDropdown extends React.Component {\n  constructor(props){\n    super(props);\n    autoBind(this);\n  }\n\n  render() {\n    return (\n      <KoboDropdown\n        theme={KoboDropdownThemes.light}\n        hideOnEsc\n        hideOnMenuOutsideClick\n        placement={KoboDropdownPlacements['down-left']}\n        name='columns-hide-dropdown'\n        triggerContent={\n          <span className='columns-hide-dropdown-trigger'>\n            <i className='k-icon k-icon-hide'/>\n            {t('hide fields')}\n          </span>\n        }\n        menuContent={\n          <ColumnsHideForm {...this.props}/>\n        }\n      />\n    );\n  }\n}\n\nexport default ColumnsHideDropdown;\n","/**\n * The Project Management app bundle file. All the required setup is done here\n * plus it is the file that is handling the root rendering.\n */\n\nrequire('jquery-ui/ui/widgets/sortable');\nimport moment from 'moment';\nimport AllRoutes from 'js/router/allRoutes';\nimport RegistrationPasswordApp from './registrationPasswordApp';\nimport {AppContainer} from 'react-hot-loader';\nimport '@babel/polyfill'; // required to support Array.prototypes.includes in IE11\nimport React from 'react';\nimport {hashHistory} from 'react-router';\nimport {Cookies} from 'react-cookie';\nimport {render} from 'react-dom';\nimport {\n  csrfSafeMethod,\n  currentLang,\n} from 'utils';\nrequire('../scss/main.scss');\n\n// Tell moment library what is the app language\nmoment.locale(currentLang());\n\n// Send a pageview to Google Analytics for every change in routes\nhashHistory.listen(() => {\n  if (typeof ga === 'function') {\n    ga('send', 'pageview', window.location.hash);\n  }\n});\n\n// Setup the authentication of AJAX calls\n$.ajaxSetup({\n  beforeSend: function (xhr, settings) {\n    let csrfToken = '';\n    try {\n      csrfToken = document.cookie.match(/csrftoken=(\\w{64})/)[1];\n    } catch (err) {\n      console.error('Cookie not matched');\n    }\n    if (!csrfSafeMethod(settings.type) && !this.crossDomain) {\n      const cookies = new Cookies();\n      xhr.setRequestHeader(\n        'X-CSRFToken',\n        csrfToken || cookies.get('csrftoken')\n      );\n    }\n  },\n});\n\n// Create the element for rendering the app into\nconst el = (() => {\n  const $d = $('<div>', {class: 'kpiapp'});\n  $('body').prepend($d);\n  return $d.get(0);\n})();\n\nif (document.head.querySelector('meta[name=kpi-root-path]')) {\n  render(<AllRoutes/>, el);\n\n  if (module.hot) {\n    module.hot.accept('js/app', () => {\n      let AllRoutes = require('js/app').default;\n      render(\n        <AppContainer>\n          <AllRoutes/>\n        </AppContainer>,\n        el\n      );\n    });\n  }\n} else {\n  console.error('no kpi-root-path meta tag set. skipping react-router init');\n}\n\n// Handles rendering a small app in the registration form\ndocument.addEventListener('DOMContentLoaded', () => {\n  const registrationPasswordAppEl = document.getElementById(\n    'registration-password-app'\n  );\n  if (registrationPasswordAppEl) {\n    render(\n      <AppContainer>\n        <RegistrationPasswordApp />\n      </AppContainer>,\n      registrationPasswordAppEl\n    );\n  }\n});\n","_ = require 'underscore'\n$surveyApp = require './view.surveyApp'\n$viewUtils = require './view.utils'\n$viewRowDetailSkipLogic = require './view.rowDetail.SkipLogic'\n\nmodule.exports = do ->\n  view = {}\n\n  _.extend(view,\n                $surveyApp\n                )\n\n  view.utils = $viewUtils\n  view.rowDetailSkipLogic = $viewRowDetailSkipLogic\n\n  view\n","_ = require 'underscore'\nBackbone = require 'backbone'\n$survey = require './model.survey'\n$modelUtils = require './model.utils'\n$viewTemplates = require './view.templates'\n$viewRowSelector = require './view.rowSelector'\n$rowView = require './view.row'\n$baseView = require './view.pluggedIn.backboneView'\n$viewUtils = require './view.utils'\nalertify = require 'alertifyjs'\nisAssetLockable = require('js/components/locking/lockingUtils').isAssetLockable\nhasAssetRestriction = require('js/components/locking/lockingUtils').hasAssetRestriction\nLOCKING_RESTRICTIONS = require('js/components/locking/lockingConstants').LOCKING_RESTRICTIONS\nLOCKING_UI_CLASSNAMES = require('js/components/locking/lockingConstants').LOCKING_UI_CLASSNAMES\n\nmodule.exports = do ->\n  surveyApp = {}\n\n  _notifyIfRowsOutOfOrder = do ->\n    # a temporary function to notify devs if rows are mysteriously falling out of order\n    fn = (surveyApp)->\n      if surveyApp.orderfail\n        # it's already been reported so no need to report it again\n        return\n      survey = surveyApp.survey\n      elIds = []\n      surveyApp.$('.survey__row').each -> elIds.push $(@).data('rowId')\n\n      rIds = []\n      gatherId = (r)->\n        rIds.push(r.cid)\n      survey.forEachRow(gatherId, includeGroups: true)\n\n      _s = (i)-> JSON.stringify(i)\n      if _s(rIds) isnt _s(elIds)\n        pathname = window.location.pathname\n        surveyApp.orderfail = true\n        err_message = \"\"\"\n          Row model does not match view: #{_s(rIds)} #{_s(elIds)} #{pathname}\n        \"\"\".trim()\n        console?.error(err_message)\n        Raven?.captureException new Error(err_message)\n\n        false\n      else\n        true\n    _.debounce(fn, 2500)\n\n\n  class SurveyFragmentApp extends $baseView\n    className: \"formbuilder-wrap container\"\n    features: {}\n    events:\n      \"click .js-delete-row\": \"clickRemoveRow\"\n      \"click .js-delete-group\": \"clickDeleteGroup\"\n      \"click .js-add-to-question-library\": \"clickAddRowToQuestionLibrary\"\n      \"click .js-clone-question\": \"clickCloneQuestion\"\n      \"update-sort\": \"updateSort\"\n      \"click .js-select-row\": \"selectRow\"\n      \"click .js-select-row--force\": \"forceSelectRow\"\n      \"click .js-toggle-card-settings\": \"toggleCardSettings\"\n      \"click .js-toggle-group-expansion\": \"toggleGroupExpansion\"\n      \"click .js-toggle-row-multioptions\": \"toggleRowMultioptions\"\n      \"click .js-close-warning\": \"closeWarningBox\"\n      \"click .js-expand-row-selector\": \"expandRowSelector\"\n      \"mouseenter .card__buttons__button\": \"buttonHoverIn\"\n      \"mouseleave .card__buttons__button\": \"buttonHoverOut\"\n      \"click .card__settings__tabs li\": \"switchTab\"\n\n    @create: (params = {}) ->\n      if _.isString params.el\n        params.el = $(params.el).get 0\n      return new @(params)\n\n    switchTab: (event) ->\n      $et = $(event.currentTarget)\n      if $et.hasClass(\"heading\")\n        event.preventDefault()\n        return\n\n      tabId = $et.data('cardSettingsTabId')\n\n      $et.parent('ul').find('.card__settings__tabs__tab--active').removeClass('card__settings__tabs__tab--active')\n      $et.addClass('card__settings__tabs__tab--active')\n\n      $et.parents('.card__settings').find(\".card__settings__fields--active\").removeClass('card__settings__fields--active')\n      $et.parents('.card__settings').find(\".js-card-settings-#{tabId}\").addClass('card__settings__fields--active')\n\n    surveyRowSortableStop: (evt)->\n      @survey.trigger('change')\n\n      $et = $(evt.target)\n      cid = $et.data('rowId')\n\n      survey_findRowByCid = (cid)=>\n        if cid\n          @survey.findRowByCid(cid, includeGroups: true)\n\n      row = survey_findRowByCid(cid)\n      [_prev, _par] = @_getRelatedElIds($et)\n      @survey._insertRowInPlace row,\n        previous: survey_findRowByCid _prev\n        parent: survey_findRowByCid _par\n        event: 'sort'\n      return\n\n    _getRelatedElIds: ($el)->\n      prev = $el.prev('.survey__row').eq(0).data('rowId')\n      parent = $el.parents('.survey__row').eq(0).data('rowId')\n      [prev, parent]\n\n    initialize: (options)->\n      @reset = (newlyAddedRow = false) =>\n        if @_timedReset\n          clearTimeout(@_timedReset)\n        promise = $.Deferred();\n        @_timedReset = setTimeout(\n          () =>\n            @_reset.call(@, newlyAddedRow)\n            promise.resolve()\n            return\n          , 0\n        )\n\n        return promise\n\n      if options.survey and (options.survey instanceof $survey.Survey)\n        @survey = options.survey\n      else\n        @survey = new $survey.Survey(options)\n\n      @warnings = options.warnings || []\n      @__rowViews = new Backbone.Model()\n      @ngScope = options.ngScope\n      @surveyStateStore = options.stateStore || {trigger:$.noop, setState:$.noop}\n\n      $(document).on 'click', @deselect_rows\n\n      @survey.settings.on 'change:form_id', (model, value) =>\n        $('.form-id').text(value)\n      @survey.on('rows-add', @reset, @)\n      @survey.on('rows-remove', @reset, @)\n      @survey.on \"row-detail-change\", (row, key, val, ctxt)=>\n        if key.match(/^\\$/)\n          return\n        evtCode = $viewUtils.normalizeEventName(\"row-detail-change-#{key}\")\n        @$(\".on-#{evtCode}\").trigger(evtCode, row, key, val, ctxt)\n      @$el.on \"choice-list-update\", (evt, clId) =>\n        $(\".on-choice-list-update[data-choice-list-cid='#{clId}']\").trigger(\"rebuild-choice-list\")\n        @survey.trigger 'choice-list-update', clId\n\n      @$el.on \"survey__row-sortablestop\", _.bind @surveyRowSortableStop, @\n\n      @onPublish = options.publish || $.noop\n      @onSave = options.save || $.noop\n      @onPreview = options.preview || $.noop\n\n      @expand_all_multioptions = () -> @$('.survey__row:not(.survey__row--deleted) .card--expandedchoices:visible').length > 0\n\n      # Keyboard Navigation\n      currentLabelIndex = 0\n      hoverOver = false\n      $(window).on \"keydown\", (evt)=>\n        focusedElement = $(':focus')\n        if evt.keyCode == 13\n          evt.preventDefault()\n          # preventDefault stops ENTER from pressing twice, need to trigger click when adding question label\n          $('div.row__questiontypes').find('button').eq(1).trigger('click')\n          focusedElement = $(':focus')\n          # ENTER should highlight add choice button first\n          if focusedElement.hasClass('editable-wrapper')\n            if hoverOver\n              focusedElement.trigger('click')\n              hoverOver = false\n            else\n              hoverOver = true\n          else if focusedElement.css('display') == 'none'\n            focusedElement.css('display', 'block')\n          else\n            focusedElement.trigger('click')\n\n        @onEscapeKeydown(evt)  if evt.keyCode is 27\n\n    getView: (cid)->\n      @__rowViews.get(cid)\n\n    updateSort: (evt, model, position)->\n      # inspired by this:\n      # http://stackoverflow.com/questions/10147969/saving-jquery-ui-sortables-order-to-backbone-js-collection\n      @survey.rows.remove(model)\n      @survey.rows.each (m, index)->\n        m.ordinal = if index >= position then (index + 1) else index\n      model.ordinal = position\n      @survey.rows.add(model, at: position)\n      return\n\n    forceSelectRow: (evt)->\n      # forceSelectRow is used to mock the multiple-select key\n      @selectRow($.extend({}, evt))\n\n    deselect_all_rows: () ->\n      @$('.survey__row').removeClass('survey__row--selected')\n      @activateGroupButton(false)\n      return\n\n    deselect_rows: (evt) =>\n      # clicking on survey__row is aleady handled, so we ignore it - we only want\n      # to deselet rows when clicking elsewhere\n      $etp = $(evt.target).parents('.survey__row')\n      if !!$etp.length\n        return\n      else\n        @deselect_all_rows()\n      return\n\n    selectRow: (evt)->\n      $et = $(evt.target)\n      if $et.hasClass('js-blur-on-select-row') || $et.hasClass('editable-wrapper')\n        return\n      $ect = $(evt.currentTarget)\n      if $et.closest('.card__settings, .card__buttons, .group__header__buttons, .js-cancel-select-row').length > 0\n        return\n      # a way to ensure the event is not run twice when in nested .js-select-row elements\n      _isIntendedTarget = $ect.closest('.survey__row').get(0) is $et.closest('.survey__row').get(0)\n      if _isIntendedTarget\n        $target = $et.closest('.survey__row')\n        if !(evt.ctrlKey || evt.metaKey)\n          selected_rows = $target.siblings('.survey__row--selected')\n          if !$target.hasClass('survey__row--selected') || selected_rows.length > 1\n            @deselect_all_rows()\n\n        $target.toggleClass(\"survey__row--selected\")\n        if $target.hasClass('survey__row--group')\n          $target.find('li.survey__row, li.survey__row--group').toggleClass(\"survey__row--selected\", $target.hasClass(\"survey__row--selected\"))\n\n        $group = $target.parent().closest('.survey__row')\n        if $group.length > 0\n          @select_group_if_all_items_selected($group)\n\n        @questionSelect()\n        @$('.js-blur-on-select-row').blur()\n      return\n\n    select_group_if_all_items_selected: ($group) ->\n      $rows = $group.find('.survey__row')\n      $group.toggleClass('survey__row--selected', $rows.length == $rows.filter('.survey__row--selected').length)\n      $group = $group.parent().closest('.survey__row')\n      if $group.length > 0\n        @select_group_if_all_items_selected($group)\n\n    questionSelect: () ->\n      @activateGroupButton(@$el.find('.survey__row--selected').length > 0)\n      return\n\n    activateGroupButton: (active) ->\n      @surveyStateStore.setState({groupButtonIsActive: active})\n      $('.form-builder-header__button--group').attr('disabled', !active)\n      return\n\n    getApp: -> @\n\n    _getViewForTarget: (evt)->\n      $et = $(evt.currentTarget)\n      modelId = $et.closest('.survey__row').data('row-id')\n      view = @__rowViews.get(modelId)\n      throw new Error(\"view is not found for target element\")  unless view\n      view\n\n    toggleCardSettings: (evt)->\n      @_getViewForTarget(evt).toggleSettings()\n\n    toggleGroupExpansion: (evt)->\n      view = @_getViewForTarget(evt)\n      groupsAreShrunk = view.$el.hasClass('group--shrunk')\n      @surveyStateStore.setState({\n          groupShrunk: groupsAreShrunk\n        })\n      $et = $(evt.currentTarget)\n      $et.toggleClass('k-icon-caret-down')\n      $et.toggleClass('k-icon-caret-right')\n\n      view.$el.toggleClass('group--shrunk', !groupsAreShrunk)\n\n\n    toggleRowMultioptions: (evt)->\n      $et = $(evt.currentTarget)\n      $et.find('.k-icon').toggleClass('k-icon-caret-right')\n      $et.find('.k-icon').toggleClass('k-icon-caret-down')\n\n      view = @_getViewForTarget(evt)\n      view.toggleMultioptions()\n      return\n\n    expandRowSelector: (evt)->\n      $ect = $(evt.currentTarget)\n      if $ect.parents('.survey-editor__null-top-row').length > 0\n        # This is the initial row in the survey\n        @null_top_row_view_selector.expand()\n      else\n        $row = $ect.parents('.survey__row').eq(0)\n        $spacer = $ect.parents('.survey__row__spacer')\n        rowId = $row.data('rowId')\n        view = @getViewForRow(cid: rowId)\n        if !view\n          # hopefully, this error is never triggered\n          throw new Error('View for row was not found: ' + rowId)\n\n        new $viewRowSelector.RowSelector(el: $spacer.get(0), ngScope: @ngScope, spawnedFromView: view, surveyView: @, reversible:true, survey: @survey).expand()\n\n    _render_html: ->\n      @$el.html $viewTemplates.$$render('surveyApp', @)\n      @formEditorEl = @$(\".-form-editor\")\n      return\n\n    _render_attachEvents: ->\n      @survey.settings.on 'validated:invalid', (model, validations) ->\n        for key, value of validations\n            break\n\n      $inps = {}\n      _settings = @survey.settings\n      return\n\n    hasRestriction: (restrictionName) ->\n      return hasAssetRestriction(@ngScope.rawSurvey, restrictionName)\n\n    isLockable: ->\n      return isAssetLockable(@ngScope.assetType?.id)\n\n    applyLocking: ->\n      # hide all ways of adding new questions\n      if (\n        @isLockable() and\n        @hasRestriction(LOCKING_RESTRICTIONS.question_add.name)\n      )\n        # \"+\" buttons\n        @$('.js-add-row-button').addClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n        # clone buttons\n        @$('.js-clone-question').addClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n\n      return\n\n    _render_addSubViews: ->\n      # in which cases is the null_top_row_view_selector viewed\n      @null_top_row_view_selector = new $viewRowSelector.RowSelector({\n        el: @$el.find(\".survey__row__spacer\").get(0),\n        survey: @survey,\n        ngScope: @ngScope,\n        surveyView: @,\n        reversible: true\n      })\n      return\n\n    _render_hideConditionallyDisplayedContent: ->\n      if !@features.multipleQuestions\n        @$el.addClass('survey-editor--singlequestion')\n        @$el.find(\".survey-editor__null-top-row\").addClass(\"survey-editor__null-top-row--hidden\")\n        @$el.find(\".js-expand-row-selector\").addClass(\"btn--hidden\")\n        if @survey.rows.length is 0\n          @null_top_row_view_selector.expand()\n\n      if !@features.copyToLibrary\n        @$el.find('.js-add-to-question-library').hide()\n\n    render: ()->\n      @$el.addClass(\"survey-editor--loading\")\n      @$el.removeClass(\"content--centered\").removeClass(\"content\")\n\n      try\n        @_render_html()\n        @_render_attachEvents()\n        @_render_addSubViews()\n        @_reset()\n\n        @_render_hideConditionallyDisplayedContent()\n\n        @applyLocking()\n\n      catch error\n        @$el.addClass(\"survey-editor--error\")\n        throw error\n\n      @$el.removeClass(\"survey-editor--loading\")\n      @\n\n    shrinkAllGroups: ->\n      @$('.survey__row--group:not(.group--shrunk)').each (i, el) ->\n        if !$(el).hasClass('group--shrunk')\n          $(el).find('.group__caret').click()\n\n    expandAllGroups: ->\n      depth = 0\n      while @$('.survey__row--group.group--shrunk').length > 0\n        @$('.survey__row--group.group--shrunk').each (i, el) ->\n          $(el).find('.group__caret').click()\n        if depth++ > 10\n          break\n\n    expandMultioptions: ->\n      if @expand_all_multioptions()\n        @shrinkAllGroups()\n        @$(\".card--expandedchoices\").each (i, el)=>\n          @_getViewForTarget(currentTarget: el).hideMultioptions()\n          ``\n        _expanded = false\n      else\n        @expandAllGroups()\n        @$(\".card--selectquestion\").each (i, el)=>\n          @_getViewForTarget(currentTarget: el).showMultioptions()\n          ``\n        _expanded = true\n\n      @surveyStateStore.trigger({\n          multioptionsExpanded: _expanded\n        })\n      return\n\n    closeWarningBox: (evt)->\n      @$('.survey-warnings').hide()\n\n    getItemPosition: (item) ->\n      i = 0\n      while item.length > 0\n        item = item.prev()\n        i++\n\n      return i\n\n    # responsible for groups and questions sortable\n    activateSortable: ->\n      $el = @formEditorEl\n      survey = @survey\n\n      sortable_activate_deactivate = (evt, ui)=>\n        isActivateEvt = evt.type is 'sortactivate'\n        ui.item.toggleClass 'sortable-active', isActivateEvt\n        $el.toggleClass 'insort', isActivateEvt\n\n        @survey.trigger evt.type\n\n      sortable_stop = (evt, ui)=>\n        $(ui.item).trigger('survey__row-sortablestop')\n        @survey.trigger 'sortablestop'\n\n      @formEditorEl.sortable({\n          # PM: commented out axis, because it's better if cards move horizontally and vertically\n          # axis: \"y\"\n          cancel: \"button, .btn--addrow, .well, ul.list-view, li.editor-message, .editableform, .row-extras, .js-cancel-sort\"\n          cursor: \"move\"\n          distance: 5\n          items: \"> li\"\n          placeholder: \"placeholder\"\n          connectWith: \".group__rows\"\n          opacity: 0.9\n          scroll: true\n          stop: sortable_stop\n          activate: sortable_activate_deactivate\n          deactivate: sortable_activate_deactivate\n          create: =>\n            @formEditorEl.addClass('js-sortable-enabled')\n            return\n          receive: (evt, ui) =>\n            itemUid = ui.item.data().uid\n            if @ngScope.handleItem and itemUid\n              prevItemPosition = @getItemPosition(ui.item.prev())\n              @ngScope.handleItem({\n                position: prevItemPosition - 1\n                itemUid: itemUid\n              })\n              # element has a custom handler, so we need to stop sortable\n              # instance from its default reaction\n              ui.sender.sortable('cancel')\n\n            # default action is handled by surveyRowSortableStop\n            return\n        })\n\n      # apply sortable to all groups\n      group_rows = @formEditorEl.find('.group__rows')\n      group_rows.each (index) =>\n        $(group_rows[index]).sortable({\n          cancel: 'button, .btn--addrow, .well, ul.list-view, li.editor-message, .editableform, .row-extras, .js-cancel-sort, .js-cancel-group-sort' + index\n          cursor: \"move\"\n          distance: 5\n          items: \"> li\"\n          placeholder: \"placeholder\"\n          connectWith: \".group__rows, .survey-editor__list\"\n          opacity: 0.9\n          scroll: true\n          stop: sortable_stop\n          activate: sortable_activate_deactivate\n          deactivate: sortable_activate_deactivate\n          create: =>\n            # HACK: We dispatch this event to make all instances know that\n            # sortable is created (so in fact rendered). This allows for the\n            # groups to check themselves if they should disable it due to\n            # locking restrictions.\n            @survey.trigger('group-sortable-created', group_rows[index])\n            $(group_rows[index]).addClass('js-sortable-enabled')\n            return\n          receive: (evt, ui) =>\n            itemUid = ui.item.data().uid\n            if @ngScope.handleItem and itemUid\n              uiItemParentWithId = $(ui.item).parents('[data-row-id]')[0]\n              if uiItemParentWithId\n                groupId = uiItemParentWithId.dataset.rowId\n              @ngScope.handleItem({\n                position: @getItemPosition(ui.item.prev()),\n                itemUid: itemUid,\n                groupId: groupId\n              })\n              # element has a custom handler, so we need to stop sortable\n              # instance from its default reaction\n              ui.sender.sortable('cancel')\n\n            # default action is handled by surveyRowSortableStop\n            return\n        })\n        $(@).attr('data-sortable-index', index)\n\n      group_rows.find('.survey__row').each @_preventSortableIfGroupTooSmall\n\n      return\n    _preventSortableIfGroupTooSmall: (index, element)->\n      $element = $(element)\n      class_name_matches = element.className.match(/js-cancel-group-sort\\d+/g)\n      if class_name_matches?\n        $element.removeClass class_name_matches.join(' ')\n      if $element.siblings('.survey__row').length is 0\n        $element.addClass('js-cancel-group-sort' + ($element.closest('.group__rows').attr('data-sortable-index')))\n\n    validateSurvey: ()->\n      if !@features.multipleQuestions\n        return @survey.rows.length == 1\n\n      return @survey._validate()\n\n    ensureElInView: (row, parentView, $parentEl)->\n      view = @getViewForRow(row)\n      $el = view.$el\n      index = row._parent.indexOf(row)\n\n      if index > 0\n        prevRow = row._parent.at(index - 1)\n      if prevRow\n        prevRowEl = $parentEl.find(\".survey__row[data-row-id=#{prevRow.cid}]\")\n\n      requiresInsertion = false\n      detachRowEl = (detach)->\n        $el.detach()\n        requiresInsertion = true\n\n      # trying to avoid unnecessary reordering of DOM (very slow)\n      if $el.parents($parentEl).length is 0\n        detachRowEl()\n      else if $el.parent().get(0) isnt $parentEl.get(0)\n        # element does not have the correct parent\n        detachRowEl()\n      else if !prevRow\n        if $el.prev('.survey__row').not('.survey__row--deleted').data('rowId')\n          detachRowEl()\n      else if $el.prev('.survey__row').not('.survey__row--deleted').data('rowId') isnt prevRow.cid\n        # element is in the wrong location\n        detachRowEl()\n\n      if requiresInsertion\n        if prevRow\n          $el.insertAfter(prevRowEl)\n        else\n          $el.appendTo($parentEl)\n      view\n\n    getViewForRow: (row)->\n      unless (xlfrv = @__rowViews.get(row.cid))\n        if row.getValue('type') is 'kobomatrix'\n          rv = new $rowView.KoboMatrixView(model: row, ngScope: @ngScope, surveyView: @)\n        else if row.constructor.kls is 'Group'\n          rv = new $rowView.GroupView(model: row, ngScope: @ngScope, surveyView: @)\n        else if row.get('type').getValue() is 'score'\n          rv = new $rowView.ScoreView(model: row, ngScope: @ngScope, surveyView: @)\n        else if row.get('type').getValue() is 'rank'\n          rv = new $rowView.RankView(model: row, ngScope: @ngScope, surveyView: @)\n        else\n          rv = new $rowView.RowView(model: row, ngScope: @ngScope, surveyView: @)\n        @__rowViews.set(row.cid, rv)\n        xlfrv = @__rowViews.get(row.cid)\n      xlfrv\n\n    _reset: (newlyAddedRow = false) ->\n      _notifyIfRowsOutOfOrder(@)\n\n      isEmpty = true\n\n      @survey.forEachRow((\n        (row) =>\n          if !@features.skipLogic\n            row.unset 'relevant'\n          isEmpty = false\n          @ensureElInView(row, @, @formEditorEl).render()\n        ), {\n          includeErrors: true,\n          includeGroups: true,\n          flat: true\n        })\n\n      newlyAddedEl = null\n      newlyAddedType = null\n      if newlyAddedRow\n        newlyAddedEl = $(\"*[data-row-id=\\\"#{newlyAddedRow.cid}\\\"]\")\n        newlyAddedType = newlyAddedRow.getValue('type')\n\n      if (\n        newlyAddedEl and\n        newlyAddedType and\n        (\n          newlyAddedType.includes('select_one') or\n          newlyAddedType.includes('select_multiple')\n        )\n      )\n        # If newest question has choices then hightlight the first choice\n        newlyAddedEl.find('input.option-view-input').eq(0).select()\n      else if newlyAddedEl\n        # focus on the next add row button\n        closestAddrow = newlyAddedEl.find('.btn--addrow').eq(0)\n        closestAddrow.addClass('btn--addrow-force-show')\n        closestAddrow.focus()\n        $(document).one('keydown click', (evt) =>\n          closestAddrow.removeClass('btn--addrow-force-show')\n          closestAddrow.blur()\n        )\n\n      null_top_row = @formEditorEl.find(\".survey-editor__null-top-row\").removeClass(\"expanded\")\n      null_top_row.toggleClass(\"survey-editor__null-top-row--hidden\", !isEmpty)\n\n      if (\n        @features.multipleQuestions and\n        not (\n          @isLockable() and\n          @hasRestriction(LOCKING_RESTRICTIONS.question_order_edit.name)\n        )\n      )\n        @activateSortable()\n\n      return\n\n    clickDeleteGroup: (evt)->\n      @_getViewForTarget(evt).deleteGroup(evt)\n\n    clickAddRowToQuestionLibrary: (evt)->\n      @_getViewForTarget(evt).add_row_to_question_library(evt)\n\n    clickCloneQuestion: (evt)->\n      @_getViewForTarget(evt).clone()\n\n    clickRemoveRow: (evt)->\n      evt.preventDefault()\n      if confirm(t(\"Are you sure you want to delete this question?\") + \" \" +\n          t(\"This action cannot be undone.\"))\n        @survey.trigger('change')\n\n        $et = $(evt.target)\n        rowEl = $et.parents(\".survey__row\").eq(0)\n        rowId = rowEl.data(\"rowId\")\n\n        matchingRow = false\n        findMatch = (r)->\n          if r.cid is rowId\n            matchingRow = r\n          return\n\n        @survey.forEachRow findMatch, {\n          includeGroups: false\n        }\n\n        if !matchingRow\n          throw new Error(\"Matching row was not found.\")\n\n        parent = matchingRow._parent._parent\n        matchingRow.detach()\n        # this slideUp is for add/remove row animation\n        rowEl.addClass('survey__row--deleted')\n        rowEl.slideUp 175, \"swing\", ()=>\n          rowEl.remove()\n          @survey.rows.remove matchingRow\n          # remove group if after deleting row the group is empty\n          if parent.constructor.kls == \"Group\" && parent.rows.length == 0\n            parent_view = @__rowViews.get(parent.cid)\n            if !parent_view\n              Raven?.captureException(\"parent view is not defined\", matchingRow.get('name').get('value'))\n            parent_view._deleteGroup()\n      return\n\n    groupSelectedRows: ->\n      rows = @selectedRows()\n      $q = @$('.survey__row--selected')\n      $q.detach()\n      $q.removeClass('survey__row--selected')\n      @activateGroupButton(false)\n      if rows.length > 0\n        @survey._addGroup(__rows: rows)\n        @reset()\n        return true\n      else\n        return false\n\n    selectedRows: ()->\n      rows = []\n      @$el.find('.survey__row--selected').each (i, el)=>\n        $el = $(el)\n        if $el.parents('li.survey__row--group.survey__row--selected').length > 0\n          return\n        rowId = $el.data(\"rowId\")\n        matchingRow = false\n        findMatch = (row)->\n          if row.cid is rowId\n            matchingRow = row\n        @survey.forEachRow findMatch, includeGroups: true\n        # matchingRow = @survey.rows.find (row)-> row.cid is rowId\n        rows.push matchingRow\n      return rows\n\n    onEscapeKeydown: -> #noop. to be overridden\n\n    buttonHoverIn: (evt)->\n      evt.stopPropagation()\n      $et = $(evt.currentTarget)\n      buttonName = $et.data('buttonName')\n      $et.closest('.card').addClass('card--shaded')\n      $header = $et.closest('.card__header')\n      card_hover_text = do ->\n        if buttonName is 'settings'\n          t(\"[button triggers] Settings\")\n        else if buttonName is 'delete'\n          t(\"[button triggers] Delete Question\")\n        else if buttonName is 'duplicate'\n          t(\"[button triggers] Duplicate Question\")\n        else if buttonName is 'add-to-library'\n          t(\"[button triggers] Add Question to Library\")\n\n      $header.find('.card__header--shade').eq(0).children('span').eq(0)\n        .attr('data-card-hover-text', card_hover_text)\n      $header.addClass(buttonName)\n      return\n    buttonHoverOut: (evt)->\n      evt.stopPropagation()\n      $et = $(evt.currentTarget)\n      buttonName = $et.data('buttonName')\n      $et.closest('.card__header').removeClass(buttonName)\n      $et.closest('.card').removeClass('card--shaded')\n      return\n\n  class surveyApp.SurveyApp extends SurveyFragmentApp\n    features:\n      multipleQuestions: true\n      skipLogic: true\n      copyToLibrary: true\n\n  surveyApp\n","module.exports = do ->\n\n  addOptionButton = () ->\n      \"\"\"<div class=\"card__addoptions js-card-add-options\">\n          <div class=\"card__addoptions__layer\"></div>\n            <ul><li class=\"multioptions__option  xlf-option-view xlf-option-view--depr\">\n              <div><div tabIndex=\"0\" class=\"editable-wrapper\"><span class=\"editable editable-click\">+ #{t(\"Click to add another response...\")}</span></div><code><label>#{t(\"XML value:\")}</label> <span>#{t(\"AUTOMATIC\")}</span></code></div>\n            </li></ul>\n        </div>\"\"\"\n\n  addOptionButton: addOptionButton\n","module.exports = do ->\n\n  acceptedFilesInput = (value, placeholder) ->\n    return \"\"\"\n    <div class='card__settings__fields__field'>\n      <label>#{t(\"Accepted files\")}</label>\n      <span class='settings__input'>\n        <input class='text' type='text' value='#{value}' placeholder='#{placeholder}'/>\n      </span>\n    </div>\n    \"\"\"\n\n  acceptedFilesInput: acceptedFilesInput\n","module.exports = do ->\n  numberParam = (label, currentValue, defaultValue) ->\n    if typeof defaultValue isnt 'undefined'\n      defaultValueAttr = \"placeholder='#{defaultValue}'\"\n\n    if currentValue isnt ''\n      valueAttr = \"value='#{currentValue}'\"\n    else if typeof defaultValue isnt 'undefined'\n      valueAttr = \"value='#{defaultValue}'\"\n\n    return \"\"\"\n    <label class='text-box text-box--on-white'>\n      <span class='text-box__label'>#{label}</span>\n      <input class='text-box__input' type='number' #{valueAttr} #{defaultValueAttr}/>\n    </label>\n    \"\"\"\n\n  booleanParam = (label, isChecked) ->\n    if isChecked is 'true'\n      checkedAttr = 'checked'\n\n    return \"\"\"\n    <div class='checkbox'>\n      <label class='checkbox__wrapper'>\n        <input class='checkbox__input' type='checkbox' #{checkedAttr}/>\n        <span class='checkbox__label'>#{label}</span>\n      </label>\n    </div>\n    \"\"\"\n\n  booleanParam: booleanParam\n  numberParam: numberParam\n","module.exports = do ->\n  replaceSupportEmail = require('utils').replaceSupportEmail\n\n  expandingSpacerHtml = \"\"\"\n      <div class=\"survey__row__spacer  row clearfix expanding-spacer-between-rows expanding-spacer-between-rows--depr\">\n        <div tabIndex=\"0\" class=\"js-expand-row-selector js-add-row-button btn btn--addrow btn--block  btn-xs  btn-default\"\n            ><i class=\"k-icon k-icon-plus\"></i></div>\n        <div class=\"line\">&nbsp;</div>\n      </div>\n  \"\"\"\n\n  iconTooltip = (title, message) ->\n    return \"\"\"\n      <div class=\"k-tooltip\"><strong>#{title}</strong><p>#{message}</p></div>\n    \"\"\"\n\n  lockedFeatures = (features) ->\n    cantsString = ''\n    cansString = ''\n\n    if features isnt null\n      features.cants.forEach((cant) ->\n        cantsString += \"<li><i class='k-icon k-icon-close'></i>#{cant.label}</li>\"\n      )\n      features.cans.forEach((can) ->\n        cansString += \"<li><i class='k-icon k-icon-check'></i>#{can.label}</li>\"\n      )\n\n    cansHtml = ''\n    if cansString isnt ''\n      cansHtml = \"\"\"\n        <ul class=\"locked-features__list locked-features__list--cans\">\n          <label>#{t('Unlocked functionalities')}</label>\n          #{cansString}\n        </ul>\n      \"\"\"\n\n    return \"\"\"\n      <section class=\"locked-features\">\n        <ul class=\"locked-features__list locked-features__list--cants\">\n          <label>#{t('Locked functionalities')}</label>\n          #{cantsString}\n        </ul>\n\n        #{cansHtml}\n      </section>\n    \"\"\"\n\n  groupSettingsView = ->\n    \"\"\"\n      <section class=\"card__settings  row-extras row-extras--depr\">\n        <i class=\"card__settings-close k-icon k-icon-close js-toggle-card-settings\"></i>\n        <ul class=\"card__settings__tabs\">\n          <li class=\"heading\"><i class=\"k-icon k-icon-settings\"></i> #{t(\"Settings\")}</li>\n          <li data-card-settings-tab-id=\"row-options\" class=\"card__settings__tabs__tab card__settings__tabs__tab--active\">\n            #{t(\"All group settings\")}\n          </li>\n          <li data-card-settings-tab-id=\"skip-logic\" class=\"card__settings__tabs__tab\">\n            #{t(\"Skip Logic\")}\n          </li>\n          <li data-card-settings-tab-id=\"locked-features\" class=\"card__settings__tabs__tab locking__ui-hidden\">\n            #{t(\"Locked Features\")}\n          </li>\n        </ul>\n        <div class=\"card__settings__content\">\n          <ul class=\"js-card-settings-row-options card__settings__fields card__settings__fields--active\"></ul>\n          <ul class=\"js-card-settings-skip-logic card__settings__fields\"></ul>\n          <ul class=\"js-card-settings-locked-features card__settings__fields locking__ui-hidden\"></ul>\n        </div>\n      </section>\n    \"\"\"\n  rowSettingsView = ()->\n    \"\"\"\n      <section class=\"card__settings  row-extras row-extras--depr\">\n        <i class=\"card__settings-close k-icon k-icon-close js-toggle-card-settings\"></i>\n        <ul class=\"card__settings__tabs\">\n          <li class=\"heading\"><i class=\"k-icon k-icon-settings\"></i> #{t(\"Settings\")}</li>\n          <li data-card-settings-tab-id=\"row-options\" class=\"card__settings__tabs__tab--active\">\n            #{t(\"Question Options\")}\n          </li>\n          <li data-card-settings-tab-id=\"skip-logic\" class=\"card__settings__tabs__tab\">\n            #{t(\"Skip Logic\")}\n          </li>\n          <li data-card-settings-tab-id=\"validation-criteria\" class=\"card__settings__tabs__tab\">\n            #{t(\"Validation Criteria\")}\n          </li>\n          <li data-card-settings-tab-id=\"locked-features\" class=\"card__settings__tabs__tab locking__ui-hidden\">\n            #{t(\"Locked Features\")}\n          </li>\n        </ul>\n        <div class=\"card__settings__content\">\n          <ul class=\"js-card-settings-row-options card__settings__fields card__settings__fields--active\"></ul>\n          <ul class=\"js-card-settings-skip-logic card__settings__fields\"></ul>\n          <ul class=\"js-card-settings-validation-criteria card__settings__fields\"></ul>\n          <ul class=\"js-card-settings-locked-features card__settings__fields locking__ui-hidden\"></ul>\n        </div>\n      </section>\n    \"\"\"\n\n  xlfRowView = (surveyView) ->\n      template = \"\"\"\n      <div class=\"survey__row__item survey__row__item--question card js-select-row\">\n        <div class=\"card__header\">\n          <div class=\"card__header--shade\"><span></span></div>\n          <div class=\"card__indicator\">\n            <div class=\"noop card__indicator__icon\"><i class=\"card__header-icon\"></i></div>\n          </div>\n          <div class=\"card__text\">\n            <input type=\"text\" placeholder=\"#{t(\"Question label is required\")}\" class=\"card__header-title js-card-label js-cancel-select-row js-cancel-sort\">\n            <input type=\"text\" placeholder=\"#{t(\"Question hint\")}\" class=\"card__header-hint js-card-hint js-cancel-select-row js-cancel-sort\">\n          </div>\n          <div class=\"card__buttons\">\n            <span class=\"card__buttons__button card__buttons__button--settings card__buttons__button--gray js-toggle-card-settings\" data-button-name=\"settings\"><i class=\"k-icon k-icon-settings\"></i></span>\n            <span class=\"card__buttons__button card__buttons__button--delete card__buttons__button--red js-delete-row\" data-button-name=\"delete\"><i class=\"k-icon k-icon-trash\"></i></span>\n      \"\"\"\n      if surveyView.features.multipleQuestions\n        template += \"\"\"<span class=\"card__buttons__button card__buttons__button--copy card__buttons__button--blue js-clone-question\" data-button-name=\"duplicate\"><i class=\"k-icon k-icon-clone\"></i></span>\n                  <span class=\"card__buttons__button card__buttons__button--add card__buttons__button--green js-add-to-question-library\" data-button-name=\"add-to-library\"><i class=\"k-icon k-icon-folder-plus\"></i></i></span>\"\"\"\n\n      return template + \"\"\"\n          </div>\n        </div>\n      </div>\n      #{expandingSpacerHtml}\n      \"\"\"\n\n  # Empty js-group-icon is only sometimes used, but we need to reserve space for it\n  groupView = ()->\n    \"\"\"\n    <div class=\"survey__row__item survey__row__item--group group card js-select-row\">\n      <header class=\"group__header\">\n        <div class=\"group__header__icon js-group-icon\">\n          <i class=\"k-icon\"></i>\n        </div>\n        <i class=\"group__caret js-toggle-group-expansion k-icon k-icon-caret-down\"></i>\n        <input type=\"text\" class=\"card__header-title js-card-label js-cancel-select-row js-cancel-sort\">\n        <div class=\"group__header__buttons\">\n          <span class=\"group__header__buttons__button group__header__buttons__button--settings js-toggle-card-settings\"><i class=\"k-icon k-icon-settings\"></i></span>\n          <span class=\"group__header__buttons__button group__header__buttons__button--delete js-delete-group\"><i class=\"k-icon k-icon-trash\"></i></span>\n        </div>\n      </header>\n      <ul class=\"group__rows\"></ul>\n    </div>\n    #{expandingSpacerHtml}\n    \"\"\"\n\n  koboMatrixView = () ->\n      template = \"\"\"\n      <div class=\"survey__row__item survey__row__item--question card js-select-row\">\n        <div class=\"card__header\">\n          <div class=\"card__header--shade\"><span></span></div>\n          <div class=\"card__indicator\">\n            <div class=\"noop card__indicator__icon\"><i class=\"card__header-icon k-icon k-icon-matrix\"></i></div>\n          </div>\n          <div class=\"card__text\">\n            <input type=\"text\" placeholder=\"#{t(\"Question label is required\")}\" class=\"card__header-title js-card-label js-cancel-select-row js-cancel-sort\">\n          </div>\n          <div class=\"card__buttons\">\n            <span class=\"card__buttons__button card__buttons__button--settings card__buttons__button--gray js-toggle-card-settings\" data-button-name=\"settings\"><i class=\"k-icon k-icon-settings\"></i></span>\n            <span class=\"card__buttons__button card__buttons__button--delete card__buttons__button--red js-delete-row\" data-button-name=\"delete\"><i class=\"k-icon k-icon-trash\"></i></span>\n          </div>\n        </div>\n        <p class=\"kobomatrix-warning\">#{t(\"Note: The Matrix question type only works in Enketo web forms using the 'grid' style.\")}</p>\n\n        <div class=\"card__kobomatrix\">\n      \"\"\"\n      return template + \"\"\"\n        </div>\n      </div>\n      #{expandingSpacerHtml}\n      \"\"\"\n\n  scoreView = (template_args={})->\n    fillers = []\n    cols = []\n    for col in template_args.score_choices\n      fillers.push \"\"\"<td class=\"scorecell__radio\"><input type=\"radio\" disabled=\"disabled\"></td>\"\"\"\n      autoname_class = \"\"\n      autoname_attr = \"\"\n      if col.autoname\n        autoname_class = \"scorecell__name--automatic\"\n        autoname_attr = \"\"\"data-automatic-name=\"#{col.autoname}\" \"\"\"\n      namecell = \"\"\"\n        <p class=\"scorecell__name #{autoname_class}\" #{autoname_attr} contenteditable=\"true\" title=\"Option value\">#{col.name or ''}</p>\n      \"\"\"\n      cols.push \"\"\"\n        <th class=\"scorecell__col\" data-cid=\"#{col.cid}\">\n          <span class=\"scorecell__label\" contenteditable=\"true\">#{col.label}</span><button class=\"scorecell__delete js-delete-scorecol\">&times;</button>\n          #{namecell}\n        </th>\n        \"\"\"\n    thead_html = cols.join('')\n    fillers = fillers.join('')\n    tbody_html = for row in template_args.score_rows\n      autoname_attr = \"\"\n      autoname_class = \"\"\n      if row.autoname\n        autoname_class = \"scorelabel__name--automatic\"\n        autoname_attr = \"\"\"data-automatic-name=\"#{row.autoname}\" \"\"\"\n\n      scorelabel__name = \"\"\"\n        <span class=\"scorelabel__name #{autoname_class}\" #{autoname_attr} contenteditable=\"true\" title=\"#{t(\"Row name\")}\">#{row.name or ''}</span>\n      \"\"\"\n\n      \"\"\"\n      <tr data-row-cid=\"#{row.cid}\">\n        <td class=\"scorelabel\">\n          <span class=\"scorelabel__edit\" contenteditable=\"true\">#{row.label}</span>\n          <button class=\"scorerow__delete js-delete-scorerow\">&times;</button>\n          <br>\n          #{scorelabel__name}\n        </td>\n        #{fillers}\n      </tr>\n      \"\"\"\n    table_html = \"\"\"\n    <table class=\"score_preview__table\">\n      <thead>\n        <th class=\"scorecell--empty\"></th>\n        #{thead_html}\n        <th class=\"scorecell--add\"><button class=\"kobo-button kobo-button--small\">+</button></th>\n      </thead>\n      <tbody>\n        #{tbody_html.join('')}\n      </tbody>\n      <tfoot>\n        <tr>\n        <td class=\"scorerow--add\"><button class=\"kobo-button kobo-button--small kobo-button--fullwidth\">+</button></td>\n        </tr>\n      </tfoot>\n    </table>\n    \"\"\"\n    \"\"\"\n    <div class=\"score_preview\">\n      #{table_html}\n    </div>\n    \"\"\"\n  rankView = (s, template_args={})->\n    rank_levels_lis = for item in template_args.rank_levels\n      autoclass = \"\"\n      autoattr = \"\"\n      autoattr = \"\"\"data-automatic-name=\"#{item.automatic}\" \"\"\"\n      if item.set_automatic\n        autoclass = \"rank_items__name--automatic\"\n      \"\"\"\n      <li class=\"rank_items__level\" data-cid=\"#{item.cid}\">\n        <span class=\"rank_items__level__label\">#{item.label}</span><button class=\"rankcell__delete js-delete-rankcell\">&times;</button>\n        <br>\n        <span class=\"rank_items__name #{autoclass}\" #{autoattr}>#{item.name or ''}</span>\n      </li>\n      \"\"\"\n    rank_rows_lis = for item in template_args.rank_rows\n      autoclass = \"\"\n      autoattr = \"\"\n      autoattr = \"\"\"data-automatic-name=\"#{item.automatic}\" \"\"\"\n      if item.set_automatic\n        autoclass = \"rank_items__name--automatic\"\n      \"\"\"\n      <li class=\"rank_items__item\" data-cid=\"#{item.cid}\">\n        <span class=\"rank_items__item__label\">#{item.label}</span><button class=\"rankcell__delete js-delete-rankcell\">&times;</button>\n        <br>\n        <span class=\"rank_items__name #{autoclass}\" #{autoattr}>#{item.name or ''}</span>\n      </li>\n      \"\"\"\n    rank_constraint_message_html = \"\"\"\n    <li class=\"rank_items__constraint_wrap\">\n      <p class=\"rank_items__constraint_explanation\">\n        #{t(\"A constraint message to be read in case of error:\")}\n      </p>\n      <p class=\"rank_items__constraint_message\">\n        #{template_args.rank_constraint_msg}\n      </p>\n    </li>\n    \"\"\"\n\n    rank_constraint_message_li = \"\"\"\n      #{rank_constraint_message_html}\n    \"\"\"\n    \"\"\"\n    <div class=\"rank_preview clearfix\">\n      <ol class=\"rank__rows\">\n        #{rank_rows_lis.join('')}\n        <li class=\"rank_items__add rank_items__add--item\"><button class=\"kobo-button kobo-button--small kobo-button--fullwidth\">+</button></li>\n      </ol>\n      <ul class=\"rank__levels\">\n        #{rank_levels_lis.join('')}\n        <li class=\"rank_items__add rank_items__add--level\"><button class=\"kobo-button kobo-button--small kobo-button--fullwidth\">+</button></li>\n        #{rank_constraint_message_li}\n      </ul>\n    </div>\n    \"\"\"\n\n  # NOTE: Textbox value is empty, as we set it in some other place to avoid\n  # problems with double quotes.\n  mandatorySettingSelector = (uniqueName, currentValue) ->\n    if currentValue is 'true' or currentValue is 'false'\n      modifier = currentValue\n    else\n      modifier = 'custom'\n\n    \"\"\"\n    <div class=\"card__settings__fields__field\">\n      <label>#{t('Mandatory response')}:</label>\n      <span class=\"settings__input\">\n        <div class=\"radio\">\n          <label class=\"radio__row mandatory-setting__row mandatory-setting__row--true\">\n            <input\n              class=\"radio__input js-mandatory-setting-radio\"\n              type=\"radio\"\n              name=\"#{uniqueName}\"\n              value=\"true\" #{if modifier is 'true' then 'checked' else ''}\n            >\n            <span class=\"radio__label\">#{t('Yes')}</span>\n          </label>\n          <label class=\"radio__row mandatory-setting__row mandatory-setting__row--false\">\n            <input\n              class=\"radio__input js-mandatory-setting-radio\"\n              type=\"radio\"\n              name=\"#{uniqueName}\"\n              value=\"false\" #{if modifier is 'false' then 'checked' else ''}\n            >\n            <span class=\"radio__label\">#{t('No')}</span>\n          </label>\n          <label class=\"radio__row mandatory-setting__row mandatory-setting__row--custom\">\n            <input\n              class=\"radio__input js-mandatory-setting-radio\"\n              type=\"radio\"\n              name=\"#{uniqueName}\"\n              value=\"custom\" #{if modifier is 'custom' then 'checked' else ''}\n            >\n            <span class=\"radio__label\">#{t('Custom logic')}</span>\n            <label class=\"text-box text-box--on-white\">\n              <input\n                type=\"text\"\n                class=\"text-box__input js-mandatory-setting-custom-text\"\n                value=\"\"\n                placeholder=\"#{t('Mandatory when this formula is true')}\"\n              >\n            </label>\n          </label>\n        </div>\n      </span>\n    </div>\n    \"\"\"\n\n  paramsSettingsField = ->\n    \"\"\"\n    <div class=\"js-params-view card__settings__fields__field params-view__settings-wrapper\">\n      <label>#{t('Parameters')}:</label>\n      <span class=\"settings__input\">\n        <div class=\"params-view\"></div>\n      </span>\n    </div>\n    \"\"\"\n\n  paramsSimple = ->\n    \"\"\"\n    <div class=\"js-params-view params-view__simple-wrapper\">\n      <div class=\"params-view\"></div>\n    </div>\n    \"\"\"\n\n  selectQuestionExpansion = ->\n    \"\"\"\n    <div class=\"card--selectquestion__expansion row__multioptions js-cancel-sort\">\n      <div class=\"list-view\">\n        <ul></ul>\n      </div>\n    </div>\n    \"\"\"\n\n  expandChoiceList = ()->\n    \"\"\"\n    <span class=\"card__buttons__multioptions js-toggle-row-multioptions js-cancel-select-row\"><i class='k-icon k-icon-caret-down' /></span>\n    \"\"\"\n\n  rowErrorView = (atts)->\n    \"\"\"\n    <div class=\"card card--error\">\n      #{t(\"Row could not be displayed:\")} <pre>#{atts}</pre>\n      <em>#{replaceSupportEmail(t(\"This question could not be imported. Please re-create it manually. Please contact us at help@kobotoolbox.org so we can fix this bug!\"))}</em>\n    </div>\n    #{expandingSpacerHtml}\n    \"\"\"\n\n  xlfRowView: xlfRowView\n  expandChoiceList: expandChoiceList\n  mandatorySettingSelector: mandatorySettingSelector\n  paramsSettingsField: paramsSettingsField\n  paramsSimple: paramsSimple\n  selectQuestionExpansion: selectQuestionExpansion\n  groupView: groupView\n  rowErrorView: rowErrorView\n  koboMatrixView: koboMatrixView\n  scoreView: scoreView\n  rankView: rankView\n  groupSettingsView: groupSettingsView\n  rowSettingsView: rowSettingsView\n  iconTooltip: iconTooltip\n  lockedFeatures: lockedFeatures\n","module.exports = do ->\n  (that) ->\n    \"\"\"\n    <code>#{that.model.key}:</code>\n    <code>#{that.model.get(\"value\")}</code>\n    \"\"\"\n","module.exports = do ->\n\n  xlfRowSelector = {}\n\n  closeRowSelectorButton = \"\"\"\n      <button type=\"button\" class=\"row__questiontypes__close js-close-row-selector shrink pull-right close close-button close-button--depr\" aria-hidden=\"true\">&times;</button>\n  \"\"\"\n\n  xlfRowSelector.line = (name) ->\n      \"\"\"\n          <div class=\"row__questiontypes row-fluid clearfix\">\n            #{closeRowSelectorButton}\n            <input type=\"text\" value=\"#{name}\" class=\"row__questiontypes__new-question-name js-cancel-sort\" />\n            <div class=\"row__questiontypes__list clearfix\"></div>\n          </div>\n      \"\"\"\n\n  xlfRowSelector.cell = (atts) ->\n      \"\"\"\n        <div class=\"questiontypelist__item\" data-menu-item=\"#{atts.id}\">\n          <i class=\"#{atts.iconClassName}\"></i>\n          #{atts.label}\n        </div>\n      \"\"\"\n\n  xlfRowSelector.namer = () ->\n    \"\"\"\n      <div class=\"row__questiontypes row__questiontypes--namer\">\n        #{closeRowSelectorButton}\n        <form class=\"row__questiontypes__form\" action=\"javascript:void(0);\" >\n          <input type=\"text\" class=\"js-cancel-sort mdl-textfield__input\" />\n          <button class=\"kobo-button kobo-button--green\">+ #{t(\"Add Question\")}</button>\n        </form>\n      </div>\n    \"\"\"\n\n  xlfRowSelector\n","module.exports = do ->\n\n  surveyApp = (surveyApp) ->\n      survey = surveyApp.survey\n\n      warnings_html = \"\"\n      if surveyApp.warnings and surveyApp.warnings.length > 0\n        warnings_html = \"\"\"<div class=\"survey-warnings\">\"\"\"\n        for warning in surveyApp.warnings\n          warnings_html += \"\"\"<p class=\"survey-warnings__warning\">#{warning}</p>\"\"\"\n        warnings_html += \"\"\"<button class=\"survey-warnings__close-button js-close-warning\">x</button></div>\"\"\"\n\n      \"\"\"\n        #{warnings_html}\n        <div class=\"survey-editor form-editor-wrap container\">\n          <ul class=\"-form-editor survey-editor__list\">\n            <li class=\"survey-editor__null-top-row empty\">\n              <p class=\"survey-editor__message well\">\n                <b>#{t(\"This form is currently empty.\")}</b><br>\n                #{t(\"You can add questions, notes, prompts, or other fields by clicking on the '+' sign below.\")}\n              </p>\n              <div class=\"survey__row__spacer  expanding-spacer-between-rows expanding-spacer-between-rows--depr\">\n                <div tabIndex=\"0\" class=\"btn btn--block btn--addrow js-expand-row-selector\">\n                  <i class=\"k-icon k-icon-plus\"></i>\n                </div>\n                <div class=\"line\">&nbsp;</div>\n              </div>\n            </li>\n          </ul>\n        </div>\n      \"\"\"\n\n  surveyApp: surveyApp\n","_ = require('underscore')\nBackbone = require('backbone')\n$configs = require('./model.configs')\n$rowSelector = require('./view.rowSelector')\n$row = require('./model.row')\n$modelUtils = require('./model.utils')\n$viewTemplates = require('./view.templates')\n$viewUtils = require('./view.utils')\n$viewChoices = require('./view.choices')\n$viewParams = require('./view.params')\n$viewMandatorySetting = require('./view.mandatorySetting')\n$acceptedFilesView = require('./view.acceptedFiles')\n$viewRowDetail = require('./view.rowDetail')\nrenderKobomatrix = require('js/formbuild/renderInBackbone').renderKobomatrix\nhasRowRestriction = require('js/components/locking/lockingUtils').hasRowRestriction\ngetRowLockingProfile = require('js/components/locking/lockingUtils').getRowLockingProfile\nisRowLocked = require('js/components/locking/lockingUtils').isRowLocked\nisAssetLockable = require('js/components/locking/lockingUtils').isAssetLockable\nisAssetAllLocked = require('js/components/locking/lockingUtils').isAssetAllLocked\ngetQuestionFeatures = require('js/components/locking/lockingUtils').getQuestionFeatures\ngetGroupFeatures = require('js/components/locking/lockingUtils').getGroupFeatures\nLOCKING_RESTRICTIONS = require('js/components/locking/lockingConstants').LOCKING_RESTRICTIONS\nLOCKING_UI_CLASSNAMES = require('js/components/locking/lockingConstants').LOCKING_UI_CLASSNAMES\n$icons = require('./view.icons')\nmultiConfirm = require('js/alertify').multiConfirm\nalertify = require('alertifyjs')\nconstants = require('js/constants')\n\nmodule.exports = do ->\n  class BaseRowView extends Backbone.View\n    tagName: 'li'\n    className: 'survey__row  xlf-row-view xlf-row-view--depr'\n    events: {\n      drop: 'drop'\n    }\n\n    initialize: (opts) ->\n      @options = opts\n      typeDetail = @model.get(\"type\")\n      @$el.attr(\"data-row-id\", @model.cid)\n      @ngScope = opts.ngScope\n      @surveyView = @options.surveyView\n      @model.on \"detail-change\", (key, value, ctxt)=>\n        customEventName = $viewUtils.normalizeEventName(\"row-detail-change-#{key}\")\n        @$(\".on-#{customEventName}\").trigger(customEventName, key, value, ctxt)\n      return\n\n    drop: (evt, index)->\n      @$el.trigger(\"update-sort\", [@model, index])\n\n    getApp: ->\n      @surveyView.getApp()\n\n    getRawType: ->\n      return @model.get('type').get('typeId')\n\n    ###\n    # This needs to be safeguarded so much, as there is possibility row doesn't\n    # have a `name` or doesn't have anything (e.g. newly created row)\n    ###\n    getRowName: ->\n      modelName = @model.get('name')\n      modelAutoname = @model.get('$autoname')\n      if modelName and modelName.get('value')\n        return modelName.get('value')\n      else if modelAutoname and modelAutoname.get('value')\n        return modelAutoname.get('value')\n      else\n        return null\n\n    hasRestriction: (restrictionName) ->\n      return hasRowRestriction(@ngScope.rawSurvey, @getRowName(), restrictionName)\n\n    isLockable: ->\n      return isAssetLockable(@ngScope.assetType?.id)\n\n    render: (opts={})->\n      fixScroll = opts.fixScroll\n\n      if @already_rendered\n        return\n\n      if fixScroll\n        @$el.height(@$el.height())\n\n      @already_rendered = true\n\n      if @model instanceof $row.RowError\n        @_renderError()\n      else\n        @_renderRow()\n      @is_expanded = @$card?.hasClass('card--expandedchoices')\n\n      if fixScroll\n        @$el.attr('style', '')\n\n      return @\n\n    _renderError: ->\n      @$el.addClass(\"xlf-row-view-error\")\n      atts = $viewUtils.cleanStringify(@model.toJSON())\n      @$el.html $viewTemplates.$$render('row.rowErrorView', atts)\n      return @\n\n    _renderRow: ->\n      @$el.html $viewTemplates.$$render('row.xlfRowView', @surveyView)\n\n      @$card = @$el.find('> .card').eq(0)\n      @$header = @$card.find('> .card__header').eq(0)\n      @$label = @$header.find('.js-card-label').eq(0)\n      @$hint = @$header.find('.js-card-hint').eq(0)\n\n      context = {warnings: []}\n\n      questionType = @getRawType()\n      if (\n        $configs.questionParams[questionType] and\n        'getParameters' of @model and\n        questionType is 'range'\n      )\n        @paramsView = new $viewParams.ParamsView({\n          rowView: @,\n          parameters: @model.getParameters(),\n          questionType: questionType\n        }).render().insertInDOMAfter(@$header)\n\n      if questionType is 'calculate' or\n         questionType is 'hidden' or\n         questionType is constants.QUESTION_TYPES['xml-external']\n        @$hint.hide()\n\n      if 'getList' of @model and (cl = @model.getList())\n        @$card.addClass('card--selectquestion card--expandedchoices')\n        @is_expanded = true\n        isSortableDisabled = (\n          @isLockable() and\n          @hasRestriction(LOCKING_RESTRICTIONS.choice_order_edit.name)\n        )\n        @listView = new $viewChoices.ListView(model: cl, rowView: @).render(isSortableDisabled)\n\n      @cardSettingsWrap = @$('.card__settings').eq(0)\n      @defaultRowDetailParent = @cardSettingsWrap.find('.js-card-settings-row-options').eq(0)\n      for [key, val] in @model.attributesArray() when key in ['label', 'hint', 'type']\n        view = new $viewRowDetail.DetailView(model: val, rowView: @)\n        if key is 'label' and\n           (@getRawType() is 'calculate' or\n            @getRawType() is constants.QUESTION_TYPES['xml-external'])\n          if @getRawType() is 'calculate'\n            view.model = @model.get('calculation')\n          else if @getRawType() is constants.QUESTION_TYPES['xml-external']\n            view.model = @model.get('name')\n          @model.finalize()\n          val.set('value', '')\n        view.render().insertInDOM(@)\n      if @model.getValue('required')\n        @$card.addClass('card--required')\n\n      return @\n\n    toggleSettings: (show)->\n      if show is undefined\n        show = !@_settingsExpanded\n\n      if show and !@_settingsExpanded\n        @_expandedRender()\n        @$card.addClass('card--expanded-settings')\n        @hideMultioptions?()\n        @_settingsExpanded = true\n        # rerender locking (if applies to class extending BaseRowView)\n        if @applyLocking\n          @applyLocking()\n      else if !show and @_settingsExpanded\n        @$card.removeClass('card--expanded-settings')\n        @_cleanupExpandedRender()\n        @_settingsExpanded = false\n      ``\n\n    _cleanupExpandedRender: ->\n      @$('.card__settings').detach()\n\n    clone: (event) =>\n      parent = @model._parent\n      model = @model\n      if @model.get('type').get('typeId') in ['select_one', 'select_multiple']\n        model = @model.clone()\n      else if @model.get('type').get('typeId') in ['rank', 'score']\n        model = @model.clone()\n\n      @model.getSurvey().insert_row.call parent._parent, model, parent.models.indexOf(@model) + 1\n\n    add_row_to_question_library: (evt) =>\n      evt.stopPropagation()\n      @ngScope?.add_row_to_question_library @model, @model.getSurvey()._initialParams\n\n  class GroupView extends BaseRowView\n    className: \"survey__row survey__row--group  xlf-row-view xlf-row-view--depr\"\n\n    initialize: (opts)->\n      @options = opts\n      @ngScope = opts.ngScope\n      @_shrunk = !!opts.shrunk\n      @$el.attr(\"data-row-id\", @model.cid)\n      @surveyView = @options.surveyView\n\n      # reapply locking after changes, so e.g. added option gets all locking\n      @model.getSurvey()?.on(\"change\", () => @applyLocking() )\n      # reapply locking after group sortable is initialized, as there is no\n      # simple way to prevent the sortable from being created, we go around it\n      # in a creative BAD CODE™ way\n      @model.getSurvey()?.on(\"group-sortable-created\", () => @applyLocking() )\n\n      return\n\n    deleteGroup: (evt) =>\n      evt.preventDefault()\n\n      # force delete is only used in test\n      skipConfirm = $(evt.currentTarget).hasClass('js-force-delete-group')\n      if skipConfirm\n        @_deleteGroup()\n        return\n\n      multiConfirm(\n        'deleteOrSplitGroup',\n        t('Delete group'),\n        t('Do you want to split the group apart (and leave questions intact) or delete everything entirely?'),\n        [\n          {\n            label: t('Ungroup questions'),\n            icon: 'k-icon k-icon-group-split'\n            color: 'blue',\n            isDisabled: @isLockable() and @hasRestriction(LOCKING_RESTRICTIONS.group_split.name)\n            callback: @_deleteGroup.bind(@),\n          },\n          {\n            label: t('Delete everything'),\n            icon: 'k-icon k-icon-trash',\n            color: 'red',\n            isDisabled: @isLockable() and @hasRestriction(LOCKING_RESTRICTIONS.group_delete.name)\n            callback: @_deleteGroupWithContent.bind(@),\n          },\n        ]\n      )\n      return\n\n    _deleteGroup: () =>\n      @model.splitApart()\n      @model._parent._parent.trigger('remove', @model)\n      @surveyView.survey.trigger('change')\n      @$el.detach()\n      return\n\n    _deleteGroupWithContent: () =>\n      # delete all group rows\n      @model.rows.reset()\n      # and the group itself\n      @_deleteGroup()\n\n      @surveyView.survey.trigger('change')\n      return\n\n    render: ->\n      if !@already_rendered\n        @$el.html $viewTemplates.row.groupView(@model)\n        @$card = @$el.find('> .card').eq(0)\n        @$rows = @$card.find('> .group__rows').eq(0)\n        @$header = @$card.find('> .card__header, > .group__header').eq(0)\n        @$label = @$header.find('.js-card-label').eq(0)\n\n      @model.rows.each (row)=>\n        @getApp().ensureElInView(row, @, @$rows).render()\n\n      if !@already_rendered\n        # only render the row details which are necessary for the initial view (ie 'label')\n        view = new $viewRowDetail.DetailView(model: @model.get('label'), rowView: @)\n        view.render().insertInDOM(@)\n\n      @already_rendered = true\n\n      @applyLocking()\n\n      return @\n\n    ###\n    # Locking function for groups.\n    #\n    # Makes sure the locking restrictions are applied propery, i.e. some should\n    # be applied only to this group and not to child groups, but others should\n    # go all levels deep\n    ###\n    applyLocking: ->\n      rowName = @getRowName()\n\n      # no point of checking locking for nameless row\n      if rowName is null\n        return\n\n      @$settings = @$card.find('> .card__settings').eq(0)\n      isLockable = @isLockable()\n\n      if (isRowLocked(@ngScope.rawSurvey, rowName))\n        @$settings.find('*[data-card-settings-tab-id=\"locked-features\"]').removeClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n        @$lockedFeaturesContent = @$settings.find('.js-card-settings-locked-features')\n        @$lockedFeaturesContent.removeClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n        lockedFeatures = $($viewTemplates.row.lockedFeatures(\n          getGroupFeatures(@ngScope.rawSurvey, rowName)\n        ))\n        @$lockedFeaturesContent.html(lockedFeatures)\n\n        # add icon with tooltip\n        $groupIcon = @$header.find('.js-group-icon')\n        $groupIcon.find('.k-icon').addClass('k-icon-lock-alt')\n\n        if not $groupIcon.hasClass('k-tooltip__parent')\n          $groupIcon.addClass('k-tooltip__parent')\n\n          isAllLocked = isAssetAllLocked(@ngScope.rawSurvey)\n\n          profileName = t('Locked')\n          if !isAllLocked\n            profileName = getRowLockingProfile(@ngScope.rawSurvey, rowName)?.name\n\n          tooltipMsg = t('fully locked group')\n          if !isAllLocked\n            tooltipMsg = t('partially locked group')\n\n          iconTooltip = $($viewTemplates.row.iconTooltip(profileName, tooltipMsg))\n          $groupIcon.append(iconTooltip)\n\n      # hide group delete button only if both splitting and deleteing is locked\n      if (\n        isLockable and\n        @hasRestriction(LOCKING_RESTRICTIONS.group_split.name) and\n        @hasRestriction(LOCKING_RESTRICTIONS.group_delete.name)\n      )\n        @$header.find('.js-delete-group').addClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n\n      # disable group name label\n      if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.group_label_edit.name))\n        @$label.addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n      # hide all add and clone buttons for questions inside the group\n      if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.group_question_add.name))\n        @$el.find('.js-add-row-button').addClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n        @$el.find('.js-clone-question').addClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n\n      # hide all child and sub-child question's delete button\n      if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.group_question_delete.name))\n        @$el.find('.js-delete-row').addClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n\n      # disable reordering all children in the group: questions and groups and\n      # their children, don't apply to question options though\n      if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.group_question_order_edit.name))\n        @$card.find('.group__rows.ui-sortable').sortable('disable')\n        @$card.find('.group__rows.ui-sortable').removeClass('js-sortable-enabled')\n\n      # disable all UI from \"Settings\" tab of group settings\n      if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.group_settings_edit.name))\n        @$settings.find('.js-card-settings-row-options').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n      # disable all UI from \"Skip Logic\" tab of group settings\n      if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.group_skip_logic_edit.name))\n        @$settings.find('.js-card-settings-skip-logic').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n      return\n\n    hasNestedGroups: ->\n      return _.filter(@model.rows.models, (row) -> row.constructor.key == 'group').length > 0\n\n    _expandedRender: ->\n      @$header.after($viewTemplates.row.groupSettingsView())\n      @cardSettingsWrap = @$('.card__settings').eq(0)\n      @defaultRowDetailParent = @cardSettingsWrap.find('.card__settings__fields--active').eq(0)\n      for [key, val] in @model.attributesArray()\n        if key in [\"name\", \"_isRepeat\", \"appearance\", \"relevant\"] or key.match(/^.+::.+/)\n          new $viewRowDetail.DetailView(model: val, rowView: @).render().insertInDOM(@)\n\n      @model.on 'add', (row) =>\n        if row.constructor.key == 'group'\n          $appearanceField = @$('.xlf-dv-appearance').eq(0)\n          $appearanceField.hide()\n          $appearanceField.find('input:checkbox').prop('checked', false)\n          appearanceModel = @model.get('appearance')\n          if appearanceModel.getValue()\n            alertify.warning(t(\"You can't display nested groups on the same screen - the setting has been removed from the parent group\"))\n          appearanceModel.set('value', '')\n\n      @model.on 'remove', (row) =>\n        if row.constructor.key == 'group' && !@hasNestedGroups()\n          @$('.xlf-dv-appearance').eq(0).show()\n\n      @applyLocking()\n\n      return @\n\n  class RowView extends BaseRowView\n    initialize: (opts) ->\n      super(opts)\n      # reapply locking after changes, so e.g. added option gets all locking\n      @model.getSurvey()?.on(\"change\", () => @applyLocking() )\n      return\n\n    _renderRow: ->\n      super()\n      @applyLocking()\n      return @\n\n    _expandedRender: ->\n      @$header.after($viewTemplates.row.rowSettingsView())\n      @cardSettingsWrap = @$('.card__settings').eq(0)\n      @defaultRowDetailParent = @cardSettingsWrap.find('.js-card-settings-row-options').eq(0)\n\n      # don't display columns that start with a $\n      hiddenFields = ['label', 'hint', 'type', 'select_from_list_name', 'kobo--matrix_list', 'parameters']\n      for [key, val] in @model.attributesArray() when !key.match(/^\\$/) and key not in hiddenFields\n        if key is 'required'\n          @mandatorySetting = new $viewMandatorySetting.MandatorySettingView({\n            model: @model.get('required')\n          }).render().insertInDOM(@)\n        else if key is '_isRepeat' and @model.getValue('type') is 'kobomatrix'\n          # don't display repeat checkbox for matrix groups\n          continue\n        else\n          new $viewRowDetail.DetailView(model: val, rowView: @).render().insertInDOM(@)\n\n      questionType = @model.get('type').get('typeId')\n      if (\n        $configs.questionParams[questionType] and\n        'getParameters' of @model and\n        questionType isnt 'range'\n      )\n        @paramsView = new $viewParams.ParamsView({\n          rowView: @,\n          parameters: @model.getParameters(),\n          questionType: questionType\n        }).render().insertInDOM(@)\n\n      if questionType is 'file'\n        @acceptedFilesView = new $acceptedFilesView.AcceptedFilesView({\n          rowView: @,\n          acceptedFiles: @model.getAcceptedFiles()\n        }).render().insertInDOM(@)\n\n      @applyLocking()\n\n      return @\n\n    ###\n    # Locking function for questions.\n    #\n    # This needs be run at the end of rendering, also re-run each time some new\n    # nodes are created.\n    ###\n    applyLocking: () ->\n      rowName = @getRowName()\n\n      # no point of checking locking for nameless row\n      if rowName is null\n        return\n\n      @$settings = @$card.find('> .card__settings')\n      isLockable = @isLockable()\n\n      if (isRowLocked(@ngScope.rawSurvey, rowName))\n        isAllLocked = isAssetAllLocked(@ngScope.rawSurvey)\n\n        # set visual styles for given locking profile\n        profileDef = getRowLockingProfile(@ngScope.rawSurvey, rowName)\n        if (isAllLocked)\n          @$el.addClass('locking__level-all')\n        else if (profileDef and profileDef.index is 0)\n          @$el.addClass('locking__level-1')\n        else if (profileDef and profileDef.index is 1)\n          @$el.addClass('locking__level-2')\n        else if (profileDef and profileDef.index >= 2)\n          @$el.addClass('locking__level-3-plus')\n\n        # build Locked Features settings tab\n        @$settings.find('*[data-card-settings-tab-id=\"locked-features\"]').removeClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n        @$lockedFeaturesContent = @$settings.find('.js-card-settings-locked-features');\n        @$lockedFeaturesContent.removeClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n        lockedFeatures = $($viewTemplates.row.lockedFeatures(\n          getQuestionFeatures(@ngScope.rawSurvey, rowName)\n        ))\n        @$lockedFeaturesContent.html(lockedFeatures)\n\n        # change row type icon to locked version\n        iconDef = $icons.get(@getRawType())\n        if (iconDef)\n          $indicatorIcon = @$header.find('.card__indicator__icon')\n          $indicatorIcon.find('.card__header-icon').removeClass(iconDef.get(\"iconClassName\"))\n          $indicatorIcon.find('.card__header-icon').addClass(iconDef.get(\"iconClassNameLocked\"))\n\n          # add tooltip\n          if not $indicatorIcon.hasClass('k-tooltip__parent')\n            profileName = t('Locked')\n            if !isAllLocked\n              profileName = getRowLockingProfile(@ngScope.rawSurvey, rowName)?.name\n\n            tooltipMsg = t('fully locked question')\n            if !isAllLocked\n              tooltipMsg = t('partially locked question')\n\n            $indicatorIcon.addClass('k-tooltip__parent')\n            iconTooltip = $($viewTemplates.row.iconTooltip(profileName, tooltipMsg))\n            $indicatorIcon.append(iconTooltip)\n\n        # disable adding new question options\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.choice_add.name))\n          @$el.find('.js-card-add-options').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n        # disable removing question options\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.choice_delete.name))\n          @$el.find('.js-remove-option').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n        # disable changing question options labels\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.choice_label_edit.name))\n          @$el.find('.js-option-label-input').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n        # disable changing question options names\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.choice_value_edit.name))\n          @$el.find('.js-option-name-input').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n        # hide delete question button\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.question_delete.name))\n          @$header.find('.js-delete-row').addClass(LOCKING_UI_CLASSNAMES.HIDDEN)\n\n        # disable editing question label and hint\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.question_label_edit.name))\n          if @$label\n            @$label.addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n          if @$hint\n            @$hint.addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n        # disable all UI from \"Settings\" tab of question settings and Params View (if applicable)\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.question_settings_edit.name))\n          @$settings.find('.js-card-settings-row-options').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n          @$settings.find('.js-params-view').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n        # disable all UI from \"Skip Logic\" tab of question settings\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.question_skip_logic_edit.name))\n          @$settings.find('.js-card-settings-skip-logic').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n        # disable all UI from \"Validation Criteria\" tab of question settings\n        if (isLockable and @hasRestriction(LOCKING_RESTRICTIONS.question_validation_edit.name))\n          @$settings.find('.js-card-settings-validation-criteria').addClass(LOCKING_UI_CLASSNAMES.DISABLED)\n\n      return\n\n    hideMultioptions: ->\n      @$card.removeClass('card--expandedchoices')\n      @is_expanded = false\n      return\n\n    showMultioptions: ->\n      @$card.addClass('card--expandedchoices')\n      @$card.removeClass('card--expanded-settings')\n      @toggleSettings(false)\n      return\n\n    toggleMultioptions: ->\n      if @is_expanded\n        @hideMultioptions()\n      else\n        @showMultioptions()\n        @is_expanded = true\n      return\n\n  class KoboMatrixView extends RowView\n    className: \"survey__row survey__row--kobo-matrix\"\n\n    _expandedRender: ->\n      super()\n      @$('.xlf-dv-required').hide()\n      @$(\"li[data-card-settings-tab-id='validation-criteria']\").hide()\n      @$(\"li[data-card-settings-tab-id='skip-logic']\").hide()\n\n    _renderRow: ->\n      @$el.html $viewTemplates.row.koboMatrixView()\n      @matrix = @$('.card__kobomatrix')\n      renderKobomatrix(@, @matrix)\n      @$label = @$('.js-card-label').eq(0)\n      @$card = @$('.card').eq(0)\n      @$header = @$('.card__header').eq(0)\n      context = {warnings: []}\n\n      for [key, val] in @model.attributesArray() when key is 'label' or key is 'type'\n        view = new $viewRowDetail.DetailView(model: val, rowView: @)\n        if key == 'label' and @model.get('type').get('value') == 'calculate'\n          view.model = @model.get('calculation')\n          @model.finalize()\n          val.set('value', '')\n        view.render().insertInDOM(@)\n      return @\n\n  class RankScoreView extends RowView\n    _expandedRender: ->\n      super()\n      @$('.xlf-dv-required').hide()\n      @$(\"li[data-card-settings-tab-id='validation-criteria']\").hide()\n\n  class ScoreView extends RankScoreView\n    className: \"survey__row survey__row--score\"\n    _renderRow: (args...)->\n      super(args)\n      while @model._scoreChoices.options.length < 2\n        @model._scoreChoices.options.add(label: 'Option')\n      score_choices = for sc in @model._scoreChoices.options.models\n        autoname = ''\n        if sc.get('name') in [undefined, '']\n          autoname = $modelUtils.sluggify(sc.get('label'))\n\n        label: sc.get('label')\n        name: sc.get('name')\n        autoname: autoname\n        cid: sc.cid\n\n      if @model._scoreRows.length < 1\n        @model._scoreRows.add\n          label: t(\"Enter your question\")\n          name: ''\n\n      score_rows = for sr in @model._scoreRows.models\n        if sr.get('name') in [undefined, '']\n          autoname = $modelUtils.sluggify(sr.get('label'), validXmlTag: true)\n        else\n          autoname = ''\n        label: sr.get('label')\n        name: sr.get('name')\n        autoname: autoname\n        cid: sr.cid\n\n      template_args = {\n        score_rows: score_rows\n        score_choices: score_choices\n      }\n\n      extra_score_contents = $viewTemplates.$$render('row.scoreView', template_args)\n      @$('.card--selectquestion__expansion').eq(0).append(extra_score_contents).addClass('js-cancel-select-row')\n      $rows = @$('.score__contents--rows').eq(0)\n      $choices = @$('.score__contents--choices').eq(0)\n\n      $el = @$el\n      offOn = (evtName, selector, callback)->\n        $el.off(evtName).on(evtName, selector, callback)\n\n      get_row = (cid)=> @model._scoreRows.get(cid)\n      get_choice = (cid)=> @model._scoreChoices.options.get(cid)\n      offOn 'click.deletescorerow', '.js-delete-scorerow', (evt)=>\n        $et = $(evt.target)\n        row_cid = $et.closest('tr').eq(0).data('row-cid')\n        @model._scoreRows.remove(get_row(row_cid))\n        @already_rendered = false\n        @render(fixScroll: true)\n      offOn 'click.deletescorecol', '.js-delete-scorecol', (evt)=>\n        $et = $(evt.target)\n        @model._scoreChoices.options.remove(get_choice($et.closest('th').data('cid')))\n        @already_rendered = false\n        @render(fixScroll: true)\n\n      offOn 'input.editscorelabel', '.scorelabel__edit', (evt)->\n        $et = $(evt.target)\n        row_cid = $et.closest('tr').eq(0).data('row-cid')\n        get_row(row_cid).set('label', $et.text())\n\n      offOn 'input.namechange', '.scorelabel__name', (evt)=>\n        $ect = $(evt.currentTarget)\n        row_cid = $ect.closest('tr').eq(0).data('row-cid')\n        _inpText = $ect.text()\n        _text = $modelUtils.sluggify(_inpText, validXmlTag: true)\n        get_row(row_cid).set('name', _text)\n\n        if _text is ''\n          $ect.addClass('scorelabel__name--automatic')\n        else\n          $ect.removeClass('scorelabel__name--automatic')\n\n        $ect.off 'blur'\n        $ect.on 'blur', ()->\n          if _inpText isnt _text\n            $ect.text(_text)\n          if _text is ''\n            $ect.addClass('scorelabel__name--automatic')\n            $ect.closest('td').find('.scorelabel__edit').trigger('keyup')\n          else\n            $ect.removeClass('scorelabel__name--automatic')\n\n      offOn 'keyup.namekey', '.scorelabel__edit', (evt)=>\n        $ect = $(evt.currentTarget)\n        $nameWrap = $ect.closest('.scorelabel').find('.scorelabel__name')\n        $nameWrap.attr('data-automatic-name', $modelUtils.sluggify($ect.text(), validXmlTag: true))\n\n      offOn 'input.choicechange', '.scorecell__label', (evt)=>\n        $et = $(evt.target)\n        get_choice($et.closest('th').data('cid')).set('label', $et.text())\n\n      offOn 'input.optvalchange', '.scorecell__name', (evt)=>\n        $et = $(evt.target)\n        _text = $et.text()\n        if _text is ''\n          $et.addClass('scorecell__name--automatic')\n        else\n          $et.removeClass('scorecell__name--automatic')\n        get_choice($et.closest('th').eq(0).data('cid')).set('name', _text)\n\n      offOn 'keyup.optlabelchange', '.scorecell__label', (evt)=>\n        $ect = $(evt.currentTarget)\n        $nameWrap = $ect.closest('.scorecell__col').find('.scorecell__name')\n        $nameWrap.attr('data-automatic-name', $modelUtils.sluggify($ect.text()))\n\n      offOn 'blur.choicechange', '.scorecell__label', (evt)=>\n        @render()\n\n      offOn 'click.addchoice', '.scorecell--add', (evt)=>\n        @already_rendered = false\n        @model._scoreChoices.options.add([label: 'Option'])\n        @render(fixScroll: true)\n\n      offOn 'click.addrow', '.scorerow--add', (evt)=>\n        @already_rendered = false\n        @model._scoreRows.add([label: 'Enter your question'])\n        @render(fixScroll: true)\n\n  class RankView extends RankScoreView\n    className: \"survey__row survey__row--rank\"\n    _renderRow: (args...)->\n      super(args)\n      template_args = {}\n      template_args.rank_constraint_msg = @model.get('kobo--rank-constraint-message')?.get('value')\n\n      min_rank_levels_count = 2\n      if @model._rankRows.length > min_rank_levels_count\n        min_rank_levels_count = @model._rankRows.length\n\n      while @model._rankLevels.options.length < min_rank_levels_count\n        @model._rankLevels.options.add\n          label: \"Item to be ranked\"\n          name: ''\n\n      rank_levels = for model in @model._rankLevels.options.models\n        _label = model.get('label')\n        _name = model.get('name')\n        _automatic = $modelUtils.sluggify(_label)\n\n        label: _label\n        name: _name\n        automatic: _automatic\n        set_automatic: _name is ''\n        cid: model.cid\n      template_args.rank_levels = rank_levels\n\n      while @model._rankRows.length < 1\n        @model._rankRows.add\n          label: '1st choice'\n          name: ''\n\n      rank_rows = for model in @model._rankRows.models\n        _label = model.get('label')\n        _name = model.get('name')\n        _automatic = $modelUtils.sluggify(_label, validXmlTag: true)\n\n        label: _label\n        name: _name\n        automatic: _automatic\n        set_automatic: _name is ''\n        cid: model.cid\n      template_args.rank_rows = rank_rows\n      extra_score_contents = $viewTemplates.$$render('row.rankView', @, template_args)\n      @$('.card--selectquestion__expansion').eq(0).append(extra_score_contents).addClass('js-cancel-select-row')\n      @editRanks()\n    editRanks: ->\n      @$([\n          '.rank_items__item__label',\n          '.rank_items__level__label',\n          '.rank_items__constraint_message',\n          '.rank_items__name',\n        ].join(',')).attr('contenteditable', 'true')\n      $el = @$el\n      offOn = (evtName, selector, callback)->\n        $el.off(evtName).on(evtName, selector, callback)\n\n      get_item = (evt)=>\n        parli = $(evt.target).parents('li').eq(0)\n        cid = parli.eq(0).data('cid')\n        if parli.hasClass('rank_items__level')\n          @model._rankLevels.options.get(cid)\n        else\n          @model._rankRows.get(cid)\n\n      offOn 'click.deleterankcell', '.js-delete-rankcell', (evt)=>\n        if $(evt.target).parents('.rank__rows').length is 0\n          collection = @model._rankLevels.options\n        else\n          collection = @model._rankRows\n        item = get_item(evt)\n        collection.remove(item)\n        @already_rendered = false\n        @render(fixScroll: true)\n\n      offOn 'input.ranklabelchange1', '.rank_items__item__label', (evt)->\n        $ect = $(evt.currentTarget)\n        _text = $ect.text()\n        _slugtext = $modelUtils.sluggify(_text, validXmlTag: true)\n        $riName = $ect.closest('.rank_items__item').find('.rank_items__name')\n        $riName.attr('data-automatic-name', _slugtext)\n        get_item(evt).set('label', _text)\n      offOn 'input.ranklabelchange2', '.rank_items__level__label', (evt)->\n        $ect = $(evt.currentTarget)\n        _text = $ect.text()\n        _slugtext = $modelUtils.sluggify(_text)\n        $riName = $ect.closest('.rank_items__level').find('.rank_items__name')\n        $riName.attr('data-automatic-name', _slugtext)\n        get_item(evt).set('label', _text)\n      offOn 'input.ranklabelchange3', '.rank_items__name', (evt)->\n        $ect = $(evt.currentTarget)\n        _inptext = $ect.text()\n        needs_valid_xml = $ect.parents('.rank_items__item').length > 0\n        _text = $modelUtils.sluggify(_inptext, validXmlTag: needs_valid_xml)\n        $ect.off 'blur'\n        $ect.one 'blur', ->\n          if _text is ''\n            $ect.addClass('rank_items__name--automatic')\n          else\n            if _inptext isnt _text\n              log 'changin'\n              $ect.text(_text)\n            $ect.removeClass('rank_items__name--automatic')\n\n        get_item(evt).set('name', _text)\n\n      offOn 'focus', '.rank_items__constraint_message--prelim', (evt)->\n        $(evt.target).removeClass('rank_items__constraint_message--prelim').empty()\n      offOn 'input.ranklabelchange4', '.rank_items__constraint_message', (evt)=>\n        rnkKey = 'kobo--rank-constraint-message'\n        @model.get(rnkKey).set('value', evt.target.textContent)\n      offOn 'click.addrow', '.rank_items__add', (evt)=>\n        if $(evt.target).parents('.rank__rows').length is 0\n          # add a level\n          @model._rankLevels.options.add({label: 'Item', name: ''})\n        else\n          chz = \"1st 2nd 3rd\".split(' ')\n          # Please don't go up to 21\n          ch = if (@model._rankRows.length + 1 > chz.length) then \"#{@model._rankRows.length + 1}th\" else chz[@model._rankRows.length]\n          @model._rankRows.add({label: \"#{ch} choice\", name: ''})\n        @already_rendered = false\n        @render(fixScroll: true)\n\n  RowView: RowView\n  ScoreView: ScoreView\n  KoboMatrixView: KoboMatrixView\n  GroupView: GroupView\n  RankView: RankView\n","_ = require 'underscore'\nBackbone = require 'backbone'\n$choices = require './model.choices'\n$modelUtils = require './model.utils'\n$baseView = require './view.pluggedIn.backboneView'\n$viewTemplates = require './view.templates'\n$viewUtils = require './view.utils'\n\nmodule.exports = do ->\n  class ListView extends $baseView\n    initialize: ({@rowView, @model})->\n      @list = @model\n      @row = @rowView.model\n      $($.parseHTML $viewTemplates.row.selectQuestionExpansion()).insertAfter @rowView.$('.card__header')\n      @$el = @rowView.$(\".list-view\")\n      @ulClasses = @$(\"ul\").prop(\"className\")\n\n    render: (isSortableDisabled) ->\n      cardText = @rowView.$el.find('.card__text')\n      if cardText.find('.card__buttons__multioptions.js-expand-multioptions').length is 0\n        cardText.prepend $.parseHTML($viewTemplates.row.expandChoiceList())\n      @$el.html (@ul = $(\"<ul>\", class: @ulClasses))\n      if @row.get(\"type\").get(\"rowType\").specifyChoice\n        for option, i in @model.options.models\n          new OptionView(model: option, cl: @model).render().$el.appendTo @ul\n        if i == 0\n          while i < 2\n            @addEmptyOption(\"Option #{++i}\")\n\n        @$el.removeClass(\"hidden\")\n      else\n        @$el.addClass(\"hidden\")\n\n      # sortable is usually enabled, but sometimes (e.g. locking restriction\n      # enabled) it is not\n      if not isSortableDisabled\n        @ul.sortable({\n            axis: \"y\"\n            cursor: \"move\"\n            distance: 5\n            items: \"> li\"\n            placeholder: \"option-placeholder\"\n            opacity: 0.9\n            scroll: false\n            create: =>\n              @ul.addClass('js-sortable-enabled')\n              return\n            deactivate: =>\n              if @hasReordered\n                @reordered()\n                @model.getSurvey()?.trigger('change')\n              true\n            change: => @hasReordered = true\n          })\n\n      btn = $($viewTemplates.$$render('xlfListView.addOptionButton'))\n      btn.click(() =>\n        i = @model.options.length\n        @addEmptyOption(\"Option #{i+1}\")\n        @model.getSurvey()?.trigger('change')\n        @$el.children().eq(0).children().eq(i).find('input.option-view-input').select()\n      )\n\n      @$el.append(btn)\n      return @\n\n    addEmptyOption: (label)->\n      emptyOpt = new $choices.Option(label: label)\n      @model.options.add(emptyOpt)\n      new OptionView(model: emptyOpt, cl: @model).render().$el.appendTo @ul\n      lis = @ul.find('li')\n      if lis.length == 2\n        lis.find('.js-remove-option').removeClass('hidden')\n\n    reordered: (evt, ui)->\n      ids = []\n      @ul.find(\"> li\").each (i,li)=>\n        lid = $(li).data(\"optionId\")\n        if lid\n          ids.push lid\n      for id, n in ids\n        @model.options.get(id).set(\"order\", n, silent: true)\n      @model.options.comparator = \"order\"\n      @model.options.sort()\n      @hasReordered = false\n\n  class OptionView extends $baseView\n    tagName: \"li\"\n    className: \"multioptions__option xlf-option-view xlf-option-view--depr\"\n    events:\n      \"keyup input\": \"keyupinput\"\n      \"keydown input\": \"keydowninput\"\n      \"click .js-remove-option\": \"remove\"\n    initialize: (@options)->\n    render: ->\n      @t = $(\"<i class=\\\"k-icon k-icon-trash js-remove-option\\\">\")\n      @pw = $(\"<div class=\\\"editable-wrapper js-option-label-input js-cancel-select-row\\\">\")\n      @p = $(\"<input placeholder=\\\"#{t(\"This option has no name\")}\\\" class=\\\"js-cancel-select-row option-view-input\\\">\")\n      @c = $(\"<code><label>#{t(\"XML value:\")}</label> <input type=\\\"text\\\" class=\\\"js-option-name-input js-cancel-select-row\\\"></input></code>\")\n      @d = $('<div>')\n      if @model\n        @p.val @model.get(\"label\") || 'Empty'\n        @$el.attr(\"data-option-id\", @model.cid)\n        $('input', @c).val @model.get(\"name\") || 'AUTOMATIC'\n        @model.set('setManually', true)\n      else\n        @model = new $choices.Option()\n        @options.cl.options.add(@model)\n        @p.val(\"Option #{1+@options.i}\").addClass(\"preliminary\")\n\n      @p.change ((input)->\n        nval = input.currentTarget.value\n        @saveValue(nval)\n      ).bind @\n\n      @n = $('input', @c)\n      @n.change ((input)->\n        val = input.currentTarget.value\n        other_names = @options.cl.getNames()\n        if @model.get('name')? && val.toLowerCase() == @model.get('name').toLowerCase()\n          other_names.splice _.indexOf(other_names, @model.get('name')), 1\n        if val is ''\n          @model.unset('name')\n          @model.set('setManually', false)\n          val = 'AUTOMATIC'\n          @$el.trigger(\"choice-list-update\", @options.cl.cid)\n        else\n          val = $modelUtils.sluggify(val, {\n                    preventDuplicates: other_names\n                    lowerCase: false\n                    lrstrip: true\n                    incrementorPadding: false\n                    characterLimit: 40\n                    validXmlTag: false\n                    nonWordCharsExceptions: '+-.'\n                  })\n          @model.set('name', val)\n          @model.set('setManually', true)\n          @$el.trigger(\"choice-list-update\", @options.cl.cid)\n        newValue: val\n      ).bind @\n      @pw.html(@p)\n\n      @pw.on 'click', (event) =>\n        if !@p.is(':hidden') && event.target != @p[0]\n          @p.click()\n\n      @d.append(@pw)\n      @d.append(@t)\n      @d.append(@c)\n      @$el.html(@d)\n      @\n    keyupinput: (evt)->\n      ifield = @$(\"input.inplace_field\")\n      if evt.keyCode is 8 and ifield.hasClass(\"empty\")\n        ifield.blur()\n\n      if ifield.val() is \"\"\n        ifield.addClass(\"empty\")\n      else\n        ifield.removeClass(\"empty\")\n\n    keydowninput: (evt) ->\n      if evt.keyCode is 13\n        evt.preventDefault()\n\n        localListViewIndex = $('ul.ui-sortable').index($(this.el).parent())\n        localOptionView = $('ul.ui-sortable').eq(localListViewIndex).children().find('input.option-view-input')\n        index = localOptionView.index(document.activeElement) + 1\n\n        if index >= localOptionView.length\n          $(this.el).parent().siblings().find('div.editable-wrapper').eq(0).focus()\n\n        localOptionView.eq(index).select()\n\n    remove: ()->\n      $parent = @$el.parent()\n\n      @model.getSurvey()?.trigger('change')\n\n      @$el.remove()\n      @model.destroy()\n\n      lis = $parent.find('li')\n      if lis.length == 1\n        lis.find('.js-remove-option').addClass('hidden')\n\n    saveValue: (nval)->\n      # if new value has no non-space characters, it is invalid\n      unless \"#{nval}\".match /\\S/\n        nval = false\n\n      if nval\n        nval = nval.replace /\\t/g, ' '\n        @model.set(\"label\", nval, silent: true)\n        other_names = @options.cl.getNames()\n        if !@model.get('setManually')\n          sluggifyOpts =\n            preventDuplicates: other_names\n            lowerCase: false\n            stripSpaces: true\n            lrstrip: true\n            incrementorPadding: 3\n            validXmlTag: true\n          @model.set(\"name\", $modelUtils.sluggify(nval, sluggifyOpts))\n        @$el.trigger(\"choice-list-update\", @options.cl.cid)\n        @model.getSurvey()?.trigger('change')\n        return\n      else\n        return newValue: @model.get \"label\"\n\n  ListView: ListView\n  OptionView: OptionView\n","_ = require 'underscore'\nBackbone = require 'backbone'\n$configs = require './model.configs'\n$baseView = require './view.pluggedIn.backboneView'\n$viewTemplates = require './view.templates'\n\nmodule.exports = do ->\n  class ParamsView extends $baseView\n    initialize: ({@rowView, @parameters={}, @questionType}) ->\n      @typeConfig = $configs.questionParams[@questionType]\n\n      if @questionType is 'range'\n        template = $viewTemplates.row.paramsSimple()\n      else\n        template = $viewTemplates.row.paramsSettingsField()\n\n      @$el = $($.parseHTML(template))\n      @$paramsViewEl = @$el.find('.params-view')\n      return\n\n    render: ->\n      for paramName, paramConfig of @typeConfig\n        new ParamOption(\n          paramName,\n          paramConfig.type,\n          paramConfig.defaultValue,\n          @parameters[paramName],\n          @onParamChange.bind(@)\n        ).render().$el.appendTo(@$paramsViewEl)\n      return @\n\n    onParamChange: (paramName, paramValue) ->\n      @parameters[paramName] = paramValue\n      @rowView.model.setParameters(@parameters)\n      @rowView.model.getSurvey().trigger('change')\n      return\n\n    insertInDOM: (rowView) ->\n      @$el.appendTo(rowView.defaultRowDetailParent)\n      return\n\n    insertInDOMAfter: ($el) ->\n      @$el.insertAfter($el)\n      return\n\n  class ParamOption extends $baseView\n    className: 'param-option js-cancel-sort js-cancel-select-row'\n    events: {\n      'input input': 'onChange'\n    }\n\n    initialize: (@paramName, @paramType, @paramDefault, @paramValue='', @onParamChange) ->\n      if @paramValue is '' and typeof @paramDefault isnt 'undefined'\n        # make sure that params without values use default one\n        @onParamChange(@paramName, @paramDefault)\n      return\n\n    render: ->\n      template = $($viewTemplates.$$render(\"ParamsView.#{@paramType}Param\", @paramName, @paramValue, @paramDefault))\n      @$el.html(template)\n      return @\n\n    onChange: (evt) ->\n      if @paramType is $configs.paramTypes.number\n        val = evt.currentTarget.value\n        # make sure that params without removed values keep using default one\n        if val is '' and typeof @paramDefault isnt 'undefined'\n          val = \"#{@paramDefault}\"\n      else if @paramType is $configs.paramTypes.boolean\n        val = evt.currentTarget.checked\n      @onParamChange(@paramName, val)\n      return\n\n  ParamsView: ParamsView\n","_ = require 'underscore'\nBackbone = require 'backbone'\n$configs = require './model.configs'\n$baseView = require './view.pluggedIn.backboneView'\n$viewTemplates = require './view.templates'\n\nmodule.exports = do ->\n  class MandatorySettingView extends $baseView\n    className: 'mandatory-setting'\n    events: {\n      'input .js-mandatory-setting-radio': 'onRadioChange'\n      'keyup .js-mandatory-setting-custom-text': 'onCustomTextKeyup'\n      'blur .js-mandatory-setting-custom-text': 'onCustomTextBlur'\n    }\n\n    initialize: ({@model}) ->\n      if @model\n        @model.on('change', @render, @)\n      return\n\n    render: ->\n      reqVal = @getChangedValue()\n      template = $($viewTemplates.$$render(\"row.mandatorySettingSelector\", \"required_#{@model.cid}\", reqVal))\n\n      # If the value is a custom value, we need to set it here just after the\n      # element is rendered.\n      customTextEl = template.find('.js-mandatory-setting-custom-text')\n      if reqVal isnt 'true' and reqVal isnt 'false' and customTextEl\n        customTextEl.val(reqVal)\n\n      @$el.html(template)\n      return @\n\n    insertInDOM: (rowView)->\n      @$el.appendTo(rowView.defaultRowDetailParent)\n      return\n\n    onRadioChange: (evt) ->\n      val = evt.currentTarget.value\n      if val is 'custom'\n        @setNewValue('')\n        @$el.find('.js-mandatory-setting-custom-text').focus()\n      else\n        @setNewValue(val)\n      return\n\n    onCustomTextKeyup: (evt) ->\n      if evt.key is 'Enter' or evt.keyCode is 13 or evt.which is 13\n        evt.target.blur()\n      return\n\n    onCustomTextBlur: (evt) ->\n      val = evt.currentTarget.value\n      @setNewValue(val)\n      return\n\n    getChangedValue: ->\n      val = @model.getValue()\n      changedVal = @model.changed?.required?.attributes?.value\n      if typeof changedVal isnt 'undefined'\n        return String(changedVal)\n      return String(val)\n\n    setNewValue: (val) ->\n      @model.set('value', val)\n      return\n\n  MandatorySettingView: MandatorySettingView\n","Backbone = require 'backbone'\n$baseView = require './view.pluggedIn.backboneView'\n$viewTemplates = require './view.templates'\n\nmodule.exports = do ->\n  class AcceptedFilesView extends $baseView\n    className: 'accepted-files card__settings__fields__field'\n    events: {\n      'input input': 'onChange'\n    }\n    placeholder: t(\"e.g. \\\".pdf,.doc,.odt\\\"\")\n\n    initialize: ({@rowView, @acceptedFiles=''}) -> return\n\n    render: ->\n      template = $($viewTemplates.$$render(\"AcceptedFilesView.input\", @acceptedFiles, @placeholder))\n      @$el.html(template)\n      return @\n\n    insertInDOM: (rowView)->\n      @$el.appendTo(rowView.defaultRowDetailParent)\n      return\n\n    onChange: (evt) ->\n      @acceptedFiles = evt.currentTarget.value\n      @rowView.model.setAcceptedFiles(@acceptedFiles)\n      @rowView.model.getSurvey().trigger('change')\n      return\n\n  AcceptedFilesView: AcceptedFilesView\n","_ = require 'underscore'\nBackbone = require 'backbone'\n$modelUtils = require './model.utils'\n$configs = require './model.configs'\n$viewUtils = require './view.utils'\n$icons = require './view.icons'\n$hxl = require './view.rowDetail.hxlDict'\n\n$viewRowDetailSkipLogic = require './view.rowDetail.SkipLogic'\n$viewTemplates = require './view.templates'\n\nmodule.exports = do ->\n  viewRowDetail = {}\n\n  class viewRowDetail.DetailView extends Backbone.View\n    ###\n    The DetailView class is a base class for details\n    of each row of the XLForm. When the view is initialized,\n    a mixin from \"DetailViewMixins\" is applied.\n    ###\n    className: \"card__settings__fields__field  dt-view dt-view--depr\"\n    initialize: ({@rowView})->\n      unless @model.key\n        throw new Error \"RowDetail does not have key\"\n      @extraClass = \"xlf-dv-#{@model.key}\"\n      _.extend(@, viewRowDetail.DetailViewMixins[@model.key] || viewRowDetail.DetailViewMixins.default)\n      @$el.addClass(@extraClass)\n\n      return\n\n    render: ()->\n      rendered = @html()\n      if rendered\n        @$el.html rendered\n\n      @afterRender && @afterRender()\n      return @\n\n    html: ()->\n      $viewTemplates.$$render('xlfDetailView', @)\n\n    listenForCheckboxChange: (opts={})->\n      el = opts.el || @$('input[type=checkbox]').get(0)\n      $el = $(el)\n      changing = false\n      _requiredBox = @model.key is \"required\"\n\n      reflectValueInEl = ()=>\n        if !changing\n          val = @model.get('value')\n          if val is true or val in $configs.truthyValues\n            $el.prop('checked', true)\n      @model.on 'change:value', reflectValueInEl\n      reflectValueInEl()\n      $el.on 'change', ()=>\n        changing = true\n        @model.set('value', $el.prop('checked'))\n        if _requiredBox\n          $el.parents('.card').eq(0).toggleClass('card--required', $el.prop('checked'))\n        changing = false\n      return\n\n    listenForInputChange: (opts={})->\n      # listens to checkboxes and input fields and ensures\n      # the model's value is reflected in the element and changes\n      # to the element are reflected in the model (with transformFn\n      # applied)\n      el = opts.el || @$('input').get(0)\n\n      $el = $(el)\n      transformFn = opts.transformFn || false\n      inputType = opts.inputType\n      inTransition = false\n\n      changeModelValue = ($elVal)=>\n        # preventing race condition\n        if !inTransition\n          inTransition = true\n          @model.set('value', $elVal)\n          reflectValueInEl(true)\n          inTransition = false\n\n      reflectValueInEl = (force=false)=>\n        # This should never change the model value\n        if force || !inTransition\n          modelVal = @model.get('value')\n          if inputType is 'checkbox'\n            if !_.isBoolean(modelVal)\n              modelVal = modelVal in $configs.truthyValues\n            # triggers element change event\n            $el.prop('checked', modelVal)\n          else\n            # triggers element change event\n            $el.val(modelVal)\n\n      reflectValueInEl()\n      @model.on 'change:value', reflectValueInEl\n\n      $el.on 'change', ()=>\n        $elVal = $el.val()\n        if transformFn\n          $elVal = transformFn($elVal)\n        changeModelValue($elVal)\n\n      $el.on('keyup', (evt) =>\n        if evt.key is 'Enter' or evt.keyCode is 13\n          $el.blur()\n      )\n      return\n\n    _insertInDOM: (where, how) ->\n      where[how || 'append'](@el)\n    insertInDOM: (rowView)->\n      @_insertInDOM rowView.defaultRowDetailParent\n\n  viewRowDetail.Templates = {\n    textbox: (cid, key, key_label = key, input_class = '') ->\n      @field \"\"\"<input type=\"text\" name=\"#{key}\" id=\"#{cid}\" class=\"#{input_class}\" />\"\"\", cid, key_label\n\n    checkbox: (cid, key, key_label = key, input_label = t(\"Yes\")) ->\n      input_label = input_label\n      @field \"\"\"<input type=\"checkbox\" name=\"#{key}\" id=\"#{cid}\"/> <label for=\"#{cid}\">#{input_label}</label>\"\"\", cid, key_label\n\n    dropdown: (cid, key, values, key_label = key) ->\n      select = \"\"\"<select id=\"#{cid}\">\"\"\"\n\n      for value in values\n        select += \"\"\"<option value=\"#{value}\">#{value}</option>\"\"\"\n\n      select += \"</select>\"\n\n      @field select, cid, key_label\n\n    hxlTags: (cid, key, key_label = key, value = '', hxlTag = '', hxlAttrs = '') ->\n      tags = \"\"\"<input type=\"text\" name=\"#{key}\" id=\"#{cid}\" class=\"hxlValue hidden\" value=\"#{value}\"  />\"\"\"\n      tags += \"\"\" <div class=\"settings__hxl\"><input id=\"#{cid}-tag\" class=\"hxlTag\" value=\"#{hxlTag}\" type=\"hidden\" />\"\"\"\n      tags += \"\"\" <input id=\"#{cid}-attrs\" class=\"hxlAttrs\" value=\"#{hxlAttrs}\" type=\"hidden\" /></div>\"\"\"\n\n      @field tags, cid, key_label\n\n    field: (input, cid, key_label) ->\n      \"\"\"\n      <div class=\"card__settings__fields__field\">\n        <label for=\"#{cid}\">#{key_label}:</label>\n        <span class=\"settings__input\">\n          #{input}\n        </span>\n      </div>\n      \"\"\"\n  }\n\n  viewRowDetail.DetailViewMixins = {}\n\n  viewRowDetail.DetailViewMixins.type =\n    html: -> false\n    insertInDOM: (rowView)->\n      typeStr = @model.get(\"typeId\")\n      if !(@model._parent.constructor.kls is \"Group\")\n        iconClassName = $icons.get(typeStr)?.get(\"iconClassName\")\n        if !iconClassName\n          console?.error(\"could not find icon for type: #{typeStr}\")\n          iconClassName = \"k-icon k-icon-alert\"\n        rowView.$el.find(\".card__header-icon\").addClass('k-icon').addClass(iconClassName)\n      return\n\n\n  viewRowDetail.DetailViewMixins.label =\n    html: -> false\n    insertInDOM: (rowView)->\n      cht = rowView.$label\n      cht.value = @model.get('value')\n      return @\n    afterRender: ->\n      @listenForInputChange({\n        el: this.rowView.$label,\n        transformFn: (value) ->\n          value = value.replace(new RegExp(String.fromCharCode(160), 'g'), '')\n          value = value.replace /\\t/g, ' '\n          return value\n      })\n      return\n\n  viewRowDetail.DetailViewMixins.hint =\n    html: -> false\n    insertInDOM: (rowView) ->\n      hintEl = rowView.$hint\n      hintEl.value = @model.get(\"value\")\n      return @\n    afterRender: ->\n      @listenForInputChange({\n        el: this.rowView.$hint\n      })\n      return\n\n  viewRowDetail.DetailViewMixins.guidance_hint =\n    html: ->\n      @$el.addClass(\"card__settings__fields--active\")\n      viewRowDetail.Templates.textbox @cid, @model.key, t(\"Guidance hint\"), 'text'\n    afterRender: ->\n      @listenForInputChange()\n\n  viewRowDetail.DetailViewMixins.constraint_message =\n    html: ->\n      @$el.addClass(\"card__settings__fields--active\")\n      viewRowDetail.Templates.textbox @cid, @model.key, t(\"Error Message\"), 'text'\n    insertInDOM: (rowView)->\n      @_insertInDOM rowView.cardSettingsWrap.find('.js-card-settings-validation-criteria').eq(0)\n    afterRender: ->\n      @listenForInputChange()\n\n  # parameters are handled per case\n  viewRowDetail.DetailViewMixins.parameters =\n    html: -> false\n    insertInDOM: (rowView)-> return\n\n  # body::accept is handled in custom view\n  viewRowDetail.DetailViewMixins['body::accept'] =\n    html: -> false\n    insertInDOM: (rowView)-> return\n\n  viewRowDetail.DetailViewMixins.relevant =\n    html: ->\n      @$el.addClass(\"card__settings__fields--active\")\n      \"\"\"\n      <div class=\"card__settings__fields__field relevant__editor\">\n      </div>\n      \"\"\"\n\n    afterRender: ->\n      @$el.find(\".relevant__editor\").html(\"\"\"\n        <div class=\"skiplogic__main\"></div>\n        <p class=\"skiplogic__extras\">\n        </p>\n      \"\"\")\n\n      @target_element = @$('.skiplogic__main')\n\n      @model.facade.render @target_element\n\n    insertInDOM: (rowView) ->\n      @_insertInDOM rowView.cardSettingsWrap.find('.js-card-settings-skip-logic').eq(0)\n\n  viewRowDetail.DetailViewMixins.constraint =\n    html: ->\n      @$el.addClass(\"card__settings__fields--active\")\n      \"\"\"\n      <div class=\"card__settings__fields__field constraint__editor\">\n      </div>\n      \"\"\"\n    afterRender: ->\n      @$el.find(\".constraint__editor\").html(\"\"\"\n        <div class=\"skiplogic__main\"></div>\n        <p class=\"skiplogic__extras\">\n        </p>\n      \"\"\")\n\n      @target_element = @$('.skiplogic__main')\n\n      @model.facade.render @target_element\n\n    insertInDOM: (rowView) ->\n      @_insertInDOM rowView.cardSettingsWrap.find('.js-card-settings-validation-criteria')\n\n  viewRowDetail.DetailViewMixins.name =\n    html: ->\n      @fieldTab = \"active\"\n      @$el.addClass(\"card__settings__fields--#{@fieldTab}\")\n      viewRowDetail.Templates.textbox @cid, @model.key, t(\"Data column name\"), 'text'\n    afterRender: ->\n      @listenForInputChange(transformFn: (value)=>\n        value_chars = value.split('')\n        if !/[\\w_]/.test(value_chars[0])\n          value_chars.unshift('_')\n\n        @model.set 'value', value\n        @model.deduplicate @model.getSurvey()\n      )\n      update_view = () => @$el.find('input').eq(0).val(@model.get(\"value\") || $modelUtils.sluggifyLabel @model._parent.getValue('label'))\n      update_view()\n\n      @model._parent.get('label').on 'change:value', update_view\n  # insertInDom: (rowView)->\n    #   # default behavior...\n    #   rowView.defaultRowDetailParent.append(@el)\n\n  viewRowDetail.DetailViewMixins.tags =\n    html: ->\n      @fieldTab = \"active\"\n      @$el.addClass(\"card__settings__fields--#{@fieldTab}\")\n      label = t(\"HXL\")\n      if (@model.get(\"value\"))\n        tags = @model.get(\"value\")\n        hxlTag = ''\n        hxlAttrs = []\n        hxlAttrsString = ''\n\n        if _.isArray(tags)\n          _.map(tags, (_t, i)->\n            if (_t.indexOf('hxl:') > -1)\n              _t = _t.replace('hxl:','')\n              if (_t.indexOf('#') > -1)\n                hxlTag = _t\n              if (_t.indexOf('+') > -1)\n                _t = _t.replace('+','')\n                hxlAttrs.push(_t)\n          )\n\n        if _.isArray(hxlAttrs)\n          hxlAttrsString = hxlAttrs.join(',')\n\n        viewRowDetail.Templates.hxlTags @cid, @model.key, label, @model.get(\"value\"), hxlTag, hxlAttrsString\n      else\n        viewRowDetail.Templates.hxlTags @cid, @model.key, label\n    afterRender: ->\n      @$el.find('input.hxlTag').select2({\n          tags:$hxl.dict,\n          maximumSelectionSize: 1,\n          placeholder: t(\"#tag\"),\n          tokenSeparators: ['+',',', ':'],\n          formatSelectionTooBig: t(\"Only one HXL tag allowed per question. \")\n          createSearchChoice: @_hxlTagCleanup\n        })\n      @$el.find('input.hxlAttrs').select2({\n          tags:[],\n          tokenSeparators: ['+',',', ':'],\n          formatNoMatches: t(\"Type attributes for this tag\"),\n          placeholder: t(\"Attributes\"),\n          createSearchChoice: @_hxlAttrCleanup\n          allowClear: 1\n        })\n\n      @$el.find('input.hxlTag').on 'change', () => @_hxlUpdate()\n      @$el.find('input.hxlAttrs').on 'change', () => @_hxlUpdate()\n\n      @$el.find('input.hxlTag').on 'select2-selecting', (e) => @_hxlTagSelecting(e)\n      @$el.find('.hxlTag input.select2-input').on 'keyup', (e) => @_hxlTagSanitize(e)\n\n      @listenForInputChange({el: @$el.find('input.hxlValue').eq(0)})\n\n    _hxlUpdate: (e)->\n      tag = @$el.find('input.hxlTag').val()\n\n      attrs = @$el.find('input.hxlAttrs').val()\n      attrs = attrs.replace(/,/g, '+')\n      hxlArray = [];\n\n      if (tag)\n        @$el.find('input.hxlAttrs').select2('enable', true)\n        hxlArray.push('hxl:' + tag)\n        if (attrs)\n          aA = attrs.split('+')\n          _.map(aA, (_a)->\n            hxlArray.push('hxl:+' + _a)\n          )\n      else\n        @$el.find('input.hxlAttrs').select2('enable', false)\n\n      @model.set('value', hxlArray)\n      @model.trigger('change')\n\n    _hxlTagCleanup: (term)->\n      if term.length >= 2\n        regex = /\\W+/g\n        term = \"#\" + term.replace(regex, '').toLowerCase()\n        return {id: term, text: term}\n\n    _hxlTagSanitize: (e)->\n      if e.target.value.length >= 2\n        regex = /\\W+/g\n        e.target.value = \"#\" + e.target.value.replace(regex, '')\n\n    _hxlTagSelecting: (e)->\n      if e.val.length < 2\n        e.preventDefault()\n\n    _hxlAttrCleanup: (term)->\n      regex = /\\W+/g\n      term = term.replace(regex, '').toLowerCase()\n      return {id: term, text: term}\n\n\n  viewRowDetail.DetailViewMixins.default =\n    html: ->\n      @fieldTab = \"active\"\n      @$el.addClass(\"card__settings__fields--#{@fieldTab}\")\n      label = if @model.key == 'default' then t(\"Default response\") else @model.key.replace(/_/g, ' ')\n      viewRowDetail.Templates.textbox @cid, @model.key, label, 'text'\n    afterRender: ->\n      @$el.find('input').eq(0).val(@model.get(\"value\"))\n      @listenForInputChange()\n\n  viewRowDetail.DetailViewMixins.calculation =\n    html: -> false\n    insertInDOM: (rowView)-> return\n\n  viewRowDetail.DetailViewMixins._isRepeat =\n    html: ->\n      @$el.addClass(\"card__settings__fields--active\")\n      viewRowDetail.Templates.checkbox @cid, @model.key, t(\"Repeat\"), t(\"Repeat this group if necessary\")\n    afterRender: ->\n      @listenForCheckboxChange()\n\n  # handled by mandatorySettingSelector\n  viewRowDetail.DetailViewMixins.required =\n    html: -> false\n    insertInDOM: -> return\n\n  viewRowDetail.DetailViewMixins.appearance =\n    getTypes: () ->\n      types =\n        text: ['multiline', 'numbers']\n        select_one: ['minimal', 'quick', 'horizontal-compact', 'horizontal', 'likert', 'compact', 'quickcompact', 'label', 'list-nolabel']\n        select_multiple: ['minimal', 'horizontal-compact', 'horizontal', 'compact', 'label', 'list-nolabel']\n        image: ['signature', 'draw', 'annotate']\n        date: ['month-year', 'year']\n        group: ['select', 'field-list', 'table-list', 'other']\n\n      types[@model._parent.getValue('type').split(' ')[0]]\n    html: ->\n\n      @$el.addClass(\"card__settings__fields--active\")\n      if @model_is_group(@model)\n        return viewRowDetail.Templates.checkbox @cid, @model.key, t(\"Appearance (advanced)\"), t(\"Show all questions in this group on the same screen\")\n      else\n        appearances = @getTypes()\n        if appearances?\n          appearances.push 'other'\n          appearances.unshift 'select'\n          return viewRowDetail.Templates.dropdown @cid, @model.key, appearances, t(\"Appearance (advanced)\")\n        else\n          return viewRowDetail.Templates.textbox @cid, @model.key, t(\"Appearance (advanced)\"), 'text'\n\n    model_is_group: (model) ->\n      model._parent.constructor.key == 'group'\n\n    afterRender: ->\n      $select = @$('select')\n      modelValue = @model.get 'value'\n      if $select.length > 0\n        $input = $('<input/>', {class:'text', type: 'text', width: 'auto'})\n        if modelValue != ''\n          if @getTypes()? && modelValue in @getTypes()\n            $select.val(modelValue)\n          else\n            $select.val('other')\n            @$('.settings__input').append $input\n            @listenForInputChange el: $input\n\n        $select.change () =>\n          if $select.val() == 'other'\n            @model.set 'value', ''\n            @$('.settings__input').append $input\n            @listenForInputChange el: $input\n          else if $select.val() == 'select'\n            @model.set 'value', ''\n          else\n            @model.set 'value', $select.val()\n            $input.remove()\n      else\n        $input = @$('input')\n        if $input.attr('type') == 'text'\n          @$('input[type=text]').val(modelValue)\n          @listenForInputChange()\n        else if $input.attr('type') == 'checkbox'\n          if @model.get('value') == 'field-list'\n            $input.prop('checked', true)\n          $input.on 'change', () =>\n            if $input.prop('checked')\n              @model.set 'value', 'field-list'\n            else\n              @model.set 'value', ''\n\n  viewRowDetail\n","# temporary HXL dictionary\nexports.dict = [\n    \"#activity\",\n    \"#adm1\",\n    \"#adm2\",\n    \"#adm3\",\n    \"#adm4\",\n    \"#adm5\",\n    \"#affected\",\n    \"#beneficiary\",\n    \"#capacity\",\n    \"#cause\",\n    \"#country\",\n    \"#crisis\",\n    \"#date\",\n    \"#description\",\n    \"#geo\",\n    \"#impact\",\n    \"#indicator\",\n    \"#inneed\",\n    \"#loc\",\n    \"#meta\",\n    \"#operations\",\n    \"#org\",\n    \"#output\",\n    \"#population\",\n    \"#reached\",\n    \"#region\",\n    \"#sector\",\n    \"#severity\",\n    \"#subsector\",\n    \"#targeted\"\n]\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./checkbox-and-radio.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".radio .radio__row,.radio .checkbox__wrapper,.checkbox .radio__row,.checkbox .checkbox__wrapper{padding:4px 0;cursor:pointer}.radio .radio__row:hover .radio__input:not([disabled]):checked::after,.radio .radio__row:hover .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:hover .radio__input:not([disabled]):checked::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after{opacity:.8}.radio .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after{opacity:.1}.radio .radio__row:active .radio__input:not([disabled]):checked::after,.radio .radio__row:active .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:active .radio__input:not([disabled]):checked::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after{opacity:.6}.radio .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after{opacity:.3}.radio.checkbox--disabled .checkbox__wrapper,.checkbox.checkbox--disabled .checkbox__wrapper{cursor:default}.radio .radio__row,.checkbox .radio__row{display:block}.radio .radio__input,.radio .checkbox__input,.radio .radio__label,.radio .checkbox__label,.checkbox .radio__input,.checkbox .checkbox__input,.checkbox .radio__label,.checkbox .checkbox__label{display:inline-block;vertical-align:top}.radio .radio__label,.radio .checkbox__label,.checkbox .radio__label,.checkbox .checkbox__label{max-width:calc(100% - 32px);color:#333847;font-size:14px}.radio .radio__input+.radio__label,.radio .checkbox__input+.checkbox__label,.checkbox .radio__input+.radio__label,.checkbox .checkbox__input+.checkbox__label{margin-left:8px}.radio .radio__input,.checkbox .radio__input{border-radius:50%}.radio .radio__input::after,.checkbox .radio__input::after{content:\\\"\\\";top:4px;left:4px;border-radius:50%;width:10px;height:10px;background-color:#259af4}.radio .checkbox__input,.checkbox .checkbox__input{border-radius:2px}.radio .checkbox__input::after,.checkbox .checkbox__input::after{content:\\\"\\\\2713\\\";top:50%;left:50%;transform:translate(-50%, -50%);width:18px;height:18px;color:#fff;background-color:#259af4;text-align:center;line-height:18px;font-size:18px}.radio .radio__input,.radio .checkbox__input,.checkbox .radio__input,.checkbox .checkbox__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;margin:0;border:1px solid #565e76;width:20px;height:20px;outline:0;background-color:#fff;color:#565e76;cursor:pointer}.radio .radio__input::after,.radio .checkbox__input::after,.checkbox .radio__input::after,.checkbox .checkbox__input::after{display:block;position:absolute;opacity:0}.radio .radio__input:checked,.radio .checkbox__input:checked,.checkbox .radio__input:checked,.checkbox .checkbox__input:checked{border-color:#259af4}.radio .radio__input:checked::after,.radio .checkbox__input:checked::after,.checkbox .radio__input:checked::after,.checkbox .checkbox__input:checked::after{opacity:1}.radio .radio__input[disabled],.radio .checkbox__input[disabled],.checkbox .radio__input[disabled],.checkbox .checkbox__input[disabled]{pointer-events:none;opacity:.5}.radio .radio__input[disabled]+.radio__label,.radio .radio__input[disabled]+.checkbox__label,.radio .checkbox__input[disabled]+.radio__label,.radio .checkbox__input[disabled]+.checkbox__label,.checkbox .radio__input[disabled]+.radio__label,.checkbox .radio__input[disabled]+.checkbox__label,.checkbox .checkbox__input[disabled]+.radio__label,.checkbox .checkbox__input[disabled]+.checkbox__label{opacity:.5}\", \"\"]);\n\n// exports\n","import alertify from 'alertifyjs';\nimport { KEY_CODES } from 'js/constants';\n\n/**\n * @namespace MultiButton\n * @param {string} label\n * @param {string} [color] \"blue\" or \"red\", if not given button will be gray\n * @param {string} [icon] one of k-icons\n * @param {boolean} [isDisabled]\n * @param {function} callback\n */\n\n/**\n * Use this custom alertify modal to display multiple buttons with different\n * callbacks.\n *\n * @param {string} confirmId needs to be unique\n * @param {string} [title] optional\n * @param {string} [message] optional\n * @param {MultiButton[]} buttons\n */\nexport function multiConfirm(confirmId, title, message, buttons) {\n  // `confirmId` needs to be unique, as alertify requires the custom dialog to be\n  // defined before it is being invoked.\n  // We check if it haven't been already defined to avoid errors and unnecessary\n  // calls.\n  if (!alertify[confirmId]) {\n    // define new alertify dialog\n    alertify.dialog(\n      confirmId,\n      function() {\n        return {\n          setup: function() {\n            const buttonsArray = [];\n            buttons.forEach((button, i) => {\n              let buttonLabel = button.label;\n              if (button.icon) {\n                buttonLabel = `\n                  <span>\n                    <i class=\"k-icon ${button.icon}\"></i>\n                    ${button.label}\n                  </span>\n                `;\n              }\n\n              let buttonClass = alertify.defaults.theme.input;\n              if (button.color === 'blue') {\n                buttonClass = alertify.defaults.theme.ok;\n              } else if (button.color === 'red') {\n                buttonClass = alertify.defaults.theme.cancel;\n              }\n\n              buttonsArray.push({\n                text: buttonLabel,\n                className: buttonClass,\n                // primary is needed to not change for disabling below to work\n                scope: 'primary',\n                element: undefined,\n                index: i,\n              });\n            });\n            return {\n              buttons: buttonsArray,\n              options: {\n                title: title,\n                basic: false,\n                movable: false,\n                resizable: false,\n                closable: true,\n                maximizable: false,\n                pinnable: false,\n              },\n            };\n          },\n          prepare: function() {\n            if (message) {\n              this.setContent(message);\n            }\n          },\n          settings: {\n            onclick: Function.prototype,\n          },\n          callback: function(closeEvent) {\n            this.settings.onclick(closeEvent);\n          },\n        };\n      },\n      false,\n      'confirm'\n    );\n  }\n\n  const dialog = alertify[confirmId]();\n\n  // set up closing modal on ESC key\n  const killMe = (evt) => {\n    if (evt.keyCode === KEY_CODES.ESC) {\n      dialog.destroy();\n    }\n  };\n\n  dialog.set({\n    onclick: function(closeEvent) {\n      // button click operates on the button array indexes to know which\n      // callback needs to be triggered\n      if (buttons[closeEvent.index] && buttons[closeEvent.index].callback) {\n        buttons[closeEvent.index].callback();\n      }\n    },\n    onshow: function() {\n      $(document).on('keyup', killMe);\n    },\n    onclose: function() {\n      $(document).off('keyup', killMe);\n    },\n  });\n\n  // This needs to be done here not during buttons creation as it would stay\n  // disabled for all further dialogs.\n  buttons.forEach((button, index) => {\n    if (button.isDisabled) {\n      const buttonEl = dialog.elements.buttons.primary.children[index];\n      if (buttonEl) {\n        buttonEl.classList.remove(alertify.defaults.theme.ok);\n        buttonEl.classList.remove(alertify.defaults.theme.cancel);\n        // disabled button is always gray\n        buttonEl.classList.add(alertify.defaults.theme.input);\n        buttonEl.classList.add('ajs-button-disabled');\n      }\n    }\n  });\n\n  dialog.show();\n}\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./helpBubbles.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.help-bubble{position:relative}@media screen and (max-height: 499px){.help-bubble--list-with-header .help-bubble__popup,.help-bubble--single-message .help-bubble__popup{height:200px}.help-bubble--list-with-header .help-bubble__popup.help-bubble__popup--has-more-content,.help-bubble--single-message .help-bubble__popup.help-bubble__popup--has-more-content{height:300px}}@media screen and (min-height: 500px){.help-bubble--list-with-header .help-bubble__popup,.help-bubble--single-message .help-bubble__popup{min-height:200px}.help-bubble--list-with-header .help-bubble__popup.help-bubble__popup--has-more-content,.help-bubble--single-message .help-bubble__popup.help-bubble__popup--has-more-content{min-height:300px}}.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link{padding-left:60px}.help-bubble--list-with-header .help-bubble__row.help-bubble__row--link .k-icon{position:absolute;top:16px;left:16px;font-size:28px;color:#565e76}.help-bubble--list-with-header .help-bubble__back,.help-bubble--list-with-header .help-bubble__close{background-color:rgba(86,94,118,.5);color:#fff}.help-bubble__trigger{cursor:pointer;text-align:center;background:transparent;border:0;padding:0;margin-bottom:5px;width:100%;display:block;font-weight:normal;color:#565e76;border-left:3px solid transparent}.help-bubble--open .help-bubble__trigger{color:#22b0c3}.help-bubble__trigger:hover{color:#22b0c3}.help-bubble__trigger:hover .help-bubble__trigger-counter{background-color:#22b0c3}.help-bubble__trigger .k-icon{font-size:24px;margin:3px;display:block}.help-bubble__trigger-counter{position:absolute;left:50%;color:#fff;border-style:solid;border-color:#f3f4f6;top:2px;border-width:0 0 2px 2px;background:#e84a5f;border-radius:50%;font-size:10px;line-height:1.3;width:1.6em;height:1.6em}.help-bubble--intercom .help-bubble__popup{bottom:134px;max-height:calc(90vh - 172px)}.help-bubble--support .help-bubble__popup{bottom:91px;max-height:calc(90vh - 129px)}.help-bubble__popup{box-shadow:0 0 8px 0 rgba(51,56,71,.06),0 8px 8px 0 rgba(51,56,71,.12);border-radius:2px;display:flex;flex-direction:row;position:fixed;z-index:801;left:57px;background:#fff;width:360px;max-width:calc(100vw - 58px);overflow:hidden}@media screen and (min-width: 1440px){.help-bubble__popup{left:calc(50% - 720px + 57px)}}.help-bubble__popup-content{width:100%;overflow-y:auto;overflow-x:hidden}.help-bubble__back,.help-bubble__close{cursor:pointer;position:absolute;z-index:1;top:4px;border:0;border-radius:50%;padding:5px;background-color:rgba(255,255,255,.5);color:#565e76;line-height:1;font-size:1.5rem}.help-bubble__back .k-icon,.help-bubble__close .k-icon{display:block}.help-bubble__back:hover,.help-bubble__close:hover{opacity:.8}.help-bubble__back:active,.help-bubble__close:active{opacity:.6}.help-bubble__back{left:5px}.help-bubble__close{right:5px}.help-bubble__row,.help-bubble__row-wrapper{position:relative;display:block}.help-bubble__row+.help-bubble__row,.help-bubble__row+.help-bubble__row-wrapper,.help-bubble__row-wrapper+.help-bubble__row,.help-bubble__row-wrapper+.help-bubble__row-wrapper{border-top:1px solid #e7e9ee}.help-bubble__row{padding:10px 20px}.help-bubble__row header{margin:0;font-weight:bold}.help-bubble__row p{margin:.5em 0 .25em;line-height:1.33}.help-bubble__row img{max-width:100%}.help-bubble__row.help-bubble__row--message-title{margin-top:40px;border-top:1px solid #e7e9ee}.help-bubble__row.help-bubble__row--header{background-color:#565e76;color:#fff;font-size:1.25rem}.help-bubble__row.help-bubble__row--link,.help-bubble__row.help-bubble__row--message-clickable{cursor:pointer;color:#565e76}.help-bubble__row.help-bubble__row--link:hover,.help-bubble__row.help-bubble__row--message-clickable:hover{color:#259af4}.help-bubble__row.help-bubble__row--link:hover .k-icon,.help-bubble__row.help-bubble__row--message-clickable:hover .k-icon{color:inherit}.help-bubble__row.help-bubble__row--link:active,.help-bubble__row.help-bubble__row--message-clickable:active{color:#22b0c3}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread{border-left:5px solid #e84a5f;padding-left:15px}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread:hover{border-left-color:#259af4}.help-bubble__row.help-bubble__row--message-clickable.help-bubble__row--message-unread:active{border-left-color:#22b0c3}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./loadingSpinner.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".loading{display:table;vertical-align:middle;height:100%;width:100%;font-size:18px;opacity:.8}.loading i:first-child{margin-right:10px;vertical-align:-7px;display:inline-block}.loading .loading__inner{display:table-cell;vertical-align:middle;text-align:center;padding-left:20px;padding-right:20px;overflow:hidden}.loading .loading__inner code{margin:20px;padding:15px;font-size:13px;display:block;background:#fff;width:80%;max-height:300px;overflow:auto;word-wrap:break-word;text-align:left}.loading .loading__inner .pro-tip{font-size:14px;margin-top:30px}.loading .loading__msg{padding-top:10px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./icon.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".k-icon--size-xs{font-size:14px}.k-icon--size-s{font-size:18px}.k-icon--size-m{font-size:20px}.k-icon--size-l{font-size:22px}.k-icon--size-xl{font-size:28px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./assetName.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".asset-name.asset-name--empty{font-style:italic}.asset-name.asset-name--has-long-words{-ms-word-break:break-all;word-break:break-all;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto}.asset-name small{color:#565e76;margin-left:5px;font-size:smaller;font-style:italic}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./modal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.modal__backdrop{position:fixed;height:100%;width:100%;z-index:1101;top:0px;left:0px;background-color:rgba(51,56,71,.4) !important}.modal{box-shadow:0 0 12px 0 rgba(51,56,71,.06),0 12px 12px 0 rgba(51,56,71,.12);border-radius:2px;align-items:stretch;display:flex;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);min-width:40%;max-width:90%;max-height:95%;overflow-x:auto;visibility:hidden}.modal.modal--open{visibility:visible}.modal.modal--large{height:80%;width:80%;max-width:1240px}.modal.modal--large.modal--large-shorter{max-width:960px}.modal.modal--large .modal__content{height:100%;width:100%;display:flex;flex-direction:column}.modal.modal--large .modal__body{flex-grow:1;display:flex;flex-direction:column}.modal.modal--large .modal__body .enketo-holder{flex-grow:1;display:flex;flex-direction:column}.modal.modal--large .modal__body iframe{flex-grow:1;border:1px solid #fff;width:100%}.modal.modal--large .modal__body .modal__footer{margin-bottom:30px}.modal__body{padding:30px 30px 0;margin-bottom:30px}.modal__body .modal__footer{padding:0}.modal__content{overflow:auto;background-color:#fff;width:100%}.modal__tabs{background:#259af4;color:#fff}.modal__header{min-height:70px;background:#259af4;color:#fff;display:flex;justify-content:space-between}.modal__title{margin:0px;padding:24px 30px;font-size:18px;line-height:22px}.modal__x,.modal__done{z-index:10;color:inherit;background-color:inherit;padding:8px;margin:11px 15px 11px 11px;border-radius:50%;font-size:20px;cursor:pointer}.modal__x i,.modal__done i{display:block;font-size:24px}.modal__x:hover,.modal__done:hover{opacity:.7}.modal__done{padding:24px;margin:0px;font-size:18px;font-weight:600;color:#259af4}.modal__subheader{background:#f3f4f6;padding:20px 30px;margin:-30px -30px 20px;color:#565e76}.modal__subheader i{margin:5px 10px 10px 3px;font-size:24px;float:left}.modal__footer{padding:0 30px 30px;margin-top:20px;text-align:right}.modal__footer::before,.modal__footer::after{content:\\\"\\\";display:table;clear:both}.modal__footer:first-child{margin-top:0;margin-bottom:20px}.modal__footer button:not(:first-of-type){margin-left:10px}.modal__hr{margin:20px -30px;border:0;background-color:#e7e9ee;height:1px}.modal.modal-submission .modal__header{background-color:#f3f4f6;color:#333847}.modal.modal-submission .form-modal{text-align:right;padding-bottom:20px}.modal.modal-submission .mdl-button--raised+.mdl-button--icon{margin-left:30px;overflow:visible}.modal.modal-submission .form-modal__group{display:flex;justify-content:space-between;margin-bottom:20px}.modal.modal-submission .form-modal__group .submission-modal-dropdowns:only-child{width:100%}.modal.modal-submission .form-modal__group .submission-modal-dropdowns{width:50%;display:flex;justify-content:space-between}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status{width:45%;text-align:left}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language label,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language .kobo-select,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status label,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status .kobo-select{display:inline-block;vertical-align:middle}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language label,.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status label{margin-right:12px}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status{width:100%;text-align:right}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--validation-status .kobo-select{text-align:left}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .switch--label-language+.switch--validation-status{width:50%}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .kobo-select input{min-width:100px}.modal.modal-submission .form-modal__group .submission-modal-dropdowns .kobo-select{min-width:120px}.modal.modal-submission .submission-pager a{display:inline-block;cursor:pointer}.modal.modal-submission .submission-pager a:first-child{padding-left:0}.modal.modal-submission .submission-pager a .k-icon{display:inline-block;vertical-align:middle}.modal.modal-submission .submission-actions .checkbox,.modal.modal-submission .submission-duplicate__actions .checkbox{display:inline-block;vertical-align:middle;margin-right:40px}.modal.modal-submission .submission-actions .checkbox__label,.modal.modal-submission .submission-duplicate__actions .checkbox__label{white-space:nowrap}.modal.modal-submission .submission-actions .mdl-button--icon,.modal.modal-submission .submission-duplicate__actions .mdl-button--icon{padding-left:6px;padding-right:6px}.modal.modal-submission .submission-actions .mdl-button--icon:not(:first-child),.modal.modal-submission .submission-duplicate__actions .mdl-button--icon:not(:first-child){margin-left:10px}.modal.modal-submission .submission-duplicate__actions{margin:auto}.modal.modal-submission .submission-duplicate__actions a{width:120px}.modal.modal-submission .submission-duplicate__button{margin-left:12px}.modal.modal-submission .submission-duplicate__text,.modal.modal-submission .submission-duplicate__header{max-width:60%;text-align:center;margin:auto;margin-bottom:24px}.modal.modal-submission .submission-duplicate__header{margin-bottom:12px;color:#259af4}.modal.modal-submission .submission--warning{margin-bottom:30px;padding:10px;background:#f3f4f6;text-align:center;line-height:1em}.modal.modal-submission .submission--warning i{color:#e6801a;font-size:28px;margin-right:13px;vertical-align:middle;display:inline-block}.modal.modal-submission .submission--warning span{line-height:1.4em;display:inline-block;vertical-align:middle;width:calc(100% - 60px)}.modal.modal-submission .submission--warning+.submission--warning{margin-top:-30px;border-top:1px solid #e7e9ee}.modal.modal-media-preview{border-radius:6px;min-width:25%}.modal.modal-media-preview .modal__content{background-color:#f9f9fb;overflow:hidden}.modal.modal-media-preview .modal__header{min-height:0;padding:16px;background-color:#fff;color:#333847}.modal.modal-media-preview .modal__header .modal__x,.modal.modal-media-preview .modal__header .modal__done{padding:0;margin:0}.modal.modal-media-preview .modal__header .table-media-preview-header{width:100%;display:flex;justify-content:space-between;font-size:14px;font-weight:600;margin-right:12px}.modal.modal-media-preview .modal__header .table-media-preview-header .table-media-preview-header__title{padding-top:3px;margin-right:6px}.modal.modal-media-preview .modal__header .table-media-preview-header .table-media-preview-header__title .table-media-preview-header__label{vertical-align:top}.modal.modal-media-preview .modal__header .table-media-preview-header .table-media-preview-header__title i.k-icon{color:#979fb4;margin-right:6px;font-size:20px}.modal.modal-media-preview .modal__header .table-media-preview-header .kobo-light-button{padding-right:0px}.modal.modal-media-preview .modal__header .table-media-preview-header .kobo-light-button i.k-icon-download{font-weight:800;margin-left:3px}.modal.modal-media-preview .modal__header .table-media-preview-header .kobo-light-button:not(:last-child){margin-right:12px}.modal.modal-media-preview .modal__body{padding:0;margin:0;max-height:600px;overflow:auto}.modal.modal-media-preview .modal__body .table-media-preview{padding:32px 0 12px 0;text-align:center;max-width:600px;min-width:400px;margin:auto}.modal.modal-media-preview .modal__body .table-media-preview .audio-player{margin-right:12px}.modal.modal-media-preview .modal__body .table-media-preview .table-media-preview__text{text-align:left;padding:0 32px 32px 32px}.modal.modal-media-preview .modal__body .table-media-preview img,.modal.modal-media-preview .modal__body .table-media-preview video{width:100%}.modal.modal-media-preview .modal__body .table-media-preview i.k-icon-file-audio{font-size:128px;color:#e7e9ee}.enketo-holder{margin:-30px -30px}.enketo-holder .enketo-loading-message p{text-align:center;font-weight:600}.enketo-holder .enketo-loading-message .k-icon{color:#3da5f5;font-size:24px}.touch .enketo-holder{width:94%;left:3%;margin-left:0px;-webkit-overflow-scrolling:touch;overflow-y:scroll}.enketo-iframe-icon{color:#fff;background-image:url(\\\"/jquery-ui/themes/humanity/images/ui-icons_ffffff_256x240.png\\\");background-color:#979fb4;background-position:-81px -129px;position:absolute;right:6px;top:6px;border-radius:3px;z-index:1100;width:15px;height:15px;cursor:pointer}.modal .project-settings{width:100%}@media screen and (min-width: 768px){.modal .project-settings{min-width:600px}}.form-view .project-settings{margin-bottom:30px}.project-settings .intro{margin-bottom:20px;text-align:left}.project-settings .form-modal__item[disabled]{pointer-events:none}.project-settings.project-settings--narrow .form-modal__item--sector,.project-settings.project-settings--narrow .form-modal__item--country{width:100%;float:none}.project-settings.project-settings--narrow .form-modal__item--sector .kobo-select,.project-settings.project-settings--narrow .form-modal__item--country .kobo-select{margin-right:0}.project-settings .form-modal__item--form-source-buttons{margin:0 auto;max-width:500px}.project-settings .form-modal__item--form-source-buttons button{display:inline-block;vertical-align:top;border:none;background:#f3f4f6;border-radius:6px;color:#565e76;cursor:pointer;margin:5px;padding:10px;width:calc(50% - 10px);min-height:120px;box-shadow:0 2px 4px 0 rgba(0,0,0,.25)}@media screen and (min-width: 768px){.project-settings .form-modal__item--form-source-buttons button{margin:10px;padding:20px;width:calc(50% - 20px)}}.project-settings .form-modal__item--form-source-buttons button i{display:block;margin:3px auto;font-size:34px;color:currentColor}.project-settings .form-modal__item--form-source-buttons button:hover{color:#333847;background-color:#e7e9ee}.project-settings .form-modal__item--form-source-buttons button:active{transform:translateY(1px);box-shadow:0 1px 3px 0 rgba(0,0,0,.25)}.project-settings .dropzone{background:#f3f4f6;padding:30px;border:2px dashed #e7e9ee;cursor:pointer;border-radius:6px;text-align:center}.project-settings .dropzone i{display:block;margin:5px auto;font-size:52px;opacity:.5}.project-settings .dropzone .loading{font-size:inherit}.project-settings .dropzone .loading i{font-size:36px;margin-top:20px;margin-bottom:16px}.project-settings .dropzone:hover{border-color:#259af4}.project-settings .dropzone.dropzone-active{border-color:#259af4}.project-settings .dropzone.dropzone-reject{border-color:#e84a5f}@media screen and (min-height: 600px){.project-settings.project-settings--choose-template .templates-list{max-height:380px;overflow-y:auto}}.form-modal__item--http-headers .form-modal__item--http-header-row{margin-top:10px}.form-modal__item--http-headers .form-modal__item--http-header-row input[type=text]{width:calc(50% - 20px);background-color:rgba(51,56,71,.05);padding-left:5px;padding-right:5px}.form-modal__item--http-headers .form-modal__item--http-header-row input[type=text]:not(:first-child){margin-left:10px}.form-modal__item--http-headers .http-header-row-remove{height:30px;min-height:30px;line-height:30px;width:30px;vertical-align:top;padding:0}.form-modal__item--http-headers .http-header-row-remove:hover{color:#e84a5f}.form-modal__item--http-headers .http-header-row-remove .k-icon{font-size:1.2em;vertical-align:middle}@media(min-width: 600px){.form-modal--translation-settings{min-width:500px}}.form-modal--translation-settings .form-view__cell--label{padding-bottom:10px}.form-modal--translation-settings .form-view__cell--translation-note{padding-bottom:20px}.form-modal--translation-settings .form-view__cell--translation-note p{margin:0}.form-modal--translation-settings .form-view__cell--translation{display:flex;justify-content:space-between;align-items:center;border-top:1px solid #e7e9ee;padding:6px 0px}.form-modal--translation-settings .form-view__cell--translation .form-view__cell--translation-name{display:flex;flex-direction:row;align-items:center}.form-modal--translation-settings .form-view__cell--translation .form-view__cell--translation-name .form-view__icon-button{opacity:0;visibility:hidden;transition:250ms}.form-modal--translation-settings .form-view__cell--translation:hover .form-view__cell--translation-name .form-view__icon-button{opacity:1;visibility:visible}.form-modal--translation-settings .form-view__cell--translation:hover .form-view__cell--translation-name .form-view__icon-button:disabled{display:none}.form-modal--translation-settings .form-view__cell--translation .form-view__icon-button.right-tooltip:disabled{color:#979fb4}.form-modal--translation-settings .form-view__cell--translation-actions{white-space:nowrap}.form-modal--translation-settings .form-view__label--default-language{display:inline;font-weight:700;margin-left:6px}.form-modal--translation-settings .form-view__cell--add-language{padding-top:20px;text-align:right;border-top:1px solid #e7e9ee}.form-modal--translation-settings .form-view__cell--add-language-form,.form-modal--translation-settings .form-view__cell--update-language-form{background:#f3f4f6;padding:15px;position:relative}.form-modal--translation-settings .form-view__cell--add-language-form .form-view__link--close,.form-modal--translation-settings .form-view__cell--update-language-form .form-view__link--close{position:absolute;right:0px;top:6px}.form-modal--translation-settings .form-view__cell--add-language-form .form-view__link--close i,.form-modal--translation-settings .form-view__cell--update-language-form .form-view__link--close i{font-size:18px;margin:3px}.form-modal--translation-settings .form-view__cell--add-language-form{margin-top:20px}.form-modal--translation-settings .form-view__form--add-language-fields{display:flex;justify-content:space-between}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell:not(:first-child){margin-left:10px}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-name{flex:3}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-code{flex:2}.form-modal--translation-settings .form-view__form--add-language-fields .form-view__cell.form-view__cell--submit-button{padding-top:10px}.form-modal--translation-table{flex:1;height:100%;display:flex;flex-direction:column;width:100%;margin:0}.form-modal--translation-table .translation-table-container{flex:1;overflow-y:auto;border:1px solid #e7e9ee}.form-modal--translation-table .form-view__cell--add-language-form,.form-modal--translation-table .form-view__cell--update-language-form{background:#f3f4f6;padding:15px;position:relative}.form-modal--translation-table .form-view__cell--add-language-form .form-view__link--close,.form-modal--translation-table .form-view__cell--update-language-form .form-view__link--close{position:absolute;right:0px;top:6px}.form-modal--translation-table .form-view__cell--add-language-form .form-view__link--close i,.form-modal--translation-table .form-view__cell--update-language-form .form-view__link--close i{font-size:18px;margin:3px}.form-modal--translation-table .form-view__cell--update-language-form{max-width:70%;margin-left:auto}.form-modal--translation-table .form-view__form--add-language-fields{display:flex;justify-content:space-between}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell:not(:first-child){margin-left:10px}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-name{flex:3}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--lang-code{flex:2}.form-modal--translation-table .form-view__form--add-language-fields .form-view__cell.form-view__cell--submit-button{padding-top:10px}.form-modal--translation-table .ReactTable{width:100%}.form-modal--translation-table .ReactTable .rt-thead.-header{box-shadow:none;border-bottom:2px solid #e7e9ee}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .rt-td,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .rt-td{white-space:normal}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .rt-td .rt-td--disabled,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .rt-td .rt-td--disabled{color:#979fb4}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-th:first-child,.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-td:first-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-th:first-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-td:first-child{min-width:30%;color:#565e76}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-th:last-child,.form-modal--translation-table .ReactTable .rt-thead>.rt-tr>.rt-td:last-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-th:last-child,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr>.rt-td:last-child{min-width:70%}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation{padding:0px;color:#565e76}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation textarea,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation textarea{background:#d5f6e5;display:block;padding:10px;border:none;width:100%;height:100% !important;color:#333847}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation textarea:focus,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation textarea:focus{background:#fff}.form-modal--translation-table .ReactTable .rt-thead>.rt-tr .translation textarea:disabled,.form-modal--translation-table .ReactTable .rt-tr-group>.rt-tr .translation textarea:disabled{color:#979fb4;background-color:#f3f4f6}.form-view__cell--encrypt-key{padding-bottom:12px}.encrypt-help{color:#565e76;background:transparent;border:0;font-size:28px;vertical-align:middle;cursor:pointer}.remove-encryption{float:right}@media screen and (max-width: 480px){.table-media-preview-header{margin-right:0 !important;display:block !important}.table-media-preview-header .table-media-preview-header__title{display:flex}.table-media-preview-header .kobo-light-button{display:block;width:90%;margin-left:auto;margin-right:auto;margin-top:12px}}@media screen and (max-width: 767px){.modal.modal--open{min-width:90%;max-width:90%}}@media screen and (max-width: 1175px){.form-media__upload-url{width:100%}}@media screen and (max-width: 597px){.form-media__upload-url{width:100%;padding-left:0px}.form-media__upload-url label.text-box{width:100%}.form-media__upload-url button{width:100%;margin-left:0px !important;margin-top:12px}.table-media-preview{min-width:0px !important}}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./textBox.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"label.text-box.text-box--error{color:#e84a5f}label.text-box.text-box--error input.text-box__input{color:#565e76;border-bottom-color:#e84a5f}label.text-box.text-box--on-white input.text-box__input,label.text-box.text-box--on-white textarea.text-box__input{border-color:#e7e9ee;padding-left:5px;padding-right:5px}label.text-box.text-box--on-white input.text-box__input:focus,label.text-box.text-box--on-white textarea.text-box__input:focus{border-color:#259af4}label.text-box.text-box--on-white.text-box--error input.text-box__input{border-color:#e84a5f}label.text-box .text-box__label .text-box__label-link{display:inline-block;vertical-align:bottom}label.text-box .text-box__label .text-box__label-link .k-icon{font-size:18px;display:block;margin:1px}label.text-box input.text-box__input{width:100%;padding:5px 0px;font-size:14px;color:inherit;background-color:transparent;border:1px solid transparent;border-bottom-color:#d3d6df;transition:border-color .3s}label.text-box input.text-box__input:focus{transition:border-color .3s;border-bottom-color:#259af4}label.text-box input.text-box__input:disabled{color:#979fb4;pointer-events:none}label.text-box input.text-box__input:disabled::-moz-placeholder{color:#979fb4}label.text-box input.text-box__input:disabled:-ms-input-placeholder{color:#979fb4}label.text-box input.text-box__input:disabled::placeholder{color:#979fb4}label.text-box input.text-box__input::-moz-placeholder{color:#565e76}label.text-box input.text-box__input:-ms-input-placeholder{color:#565e76}label.text-box input.text-box__input::placeholder{color:#565e76}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./bulkEditSubmissionsForm.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".simple-table.simple-table--bulk-edit-list .simple-table__header .text-box{display:inline-block;max-width:160px}.simple-table.simple-table--bulk-edit-list .simple-table__cell:nth-child(1){text-align:center}.simple-table.simple-table--bulk-edit-list .simple-table__body .simple-table__cell:nth-child(3){position:relative}.simple-table.simple-table--bulk-edit-list .simple-table__body .simple-table__cell:nth-child(3) .blue-response-dot{position:absolute;top:calc(50% - 3px);left:-3px}.simple-table.simple-table--bulk-edit-list .simple-table__row--bulk-edit-row-disabled{opacity:.5}.simple-table.simple-table--bulk-edit-list .simple-table__row--bulk-edit-row-disabled .simple-table__cell:nth-child(4){visibility:hidden}.simple-table.simple-table--bulk-edit-list .simple-table__cell:last-child,.simple-table.simple-table--bulk-edit-responses .simple-table__cell:last-child{text-align:right}.simple-table.simple-table--bulk-edit-responses{margin-top:20px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./templatesList.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".templates-list{font-size:14px;width:100%}.templates-list .templates-list__header{font-weight:600}.templates-list label.templates-list__row{display:flex}.templates-list .templates-list__row{display:flex;box-shadow:0 0 0 1px #e7e9ee;padding:10px;align-items:center}.templates-list .templates-list__row:not(:first-child){margin-top:1px}.templates-list .templates-list__column{padding:10px;box-sizing:border-box}.templates-list .templates-list__column.templates-list__column--name{flex:1}.templates-list .templates-list__column.templates-list__column--owner{width:20%}.templates-list .templates-list__column.templates-list__column--date{width:25%}.templates-list .templates-list__column.templates-list__column--questions{width:15%}.templates-list .templates-list__template{font-size:inherit;position:relative;color:#565e76;border:1px solid transparent}.templates-list .templates-list__template:hover,.templates-list .templates-list__template.selected{background:rgba(231,233,238,.3);color:#259af4}.templates-list .templates-list__template.selected{border:1px solid #259af4}.templates-list .templates-list__template-radio{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:absolute;top:0;left:0;width:100%;height:100%;margin:0;cursor:pointer;background:transparent}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./sharingForm.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.form-modal--sharing-form h2{margin:0;font-size:14px;color:#333847;font-weight:500}.form-modal--sharing-form .user-row+button{margin-top:15px}.form-modal--sharing-form .form-modal__item--share-settings h2{margin-bottom:12px}.copy-team-permissions{margin-bottom:30px}.copy-team-permissions.copy-team-permissions--opened .copy-team-permissions-opener .k-icon::before{transform:rotate(-90deg)}.copy-team-permissions .kobo-select{flex:1}.copy-team-permissions .copy-team-permissions-opener{cursor:pointer;color:#259af4;border:0;background:transparent;padding-left:0;padding-right:0;font-weight:500;height:20px;line-height:20px;min-height:20px;margin-bottom:10px}.copy-team-permissions .copy-team-permissions-opener:hover{color:#0b81da}.copy-team-permissions .copy-team-permissions-opener:active{transform:translateY(1px)}.copy-team-permissions .copy-team-permissions-opener .k-icon{font-size:14px;margin:0 3px;vertical-align:middle}.copy-team-permissions .copy-team-permissions-opener .k-icon::before{transform:rotate(90deg)}.user-row{border-bottom:1px solid #e7e9ee;padding-bottom:5px;padding-top:5px}.user-row.user-row--deleted{display:none}.user-row.user-row--pending{pointer-events:none;opacity:.5}.user-row .user-row__info{display:flex;flex-direction:row;align-items:center;min-height:50px}.user-row .user-row__info>.mdl-button{min-width:32px}.user-row .user-row__avatar{margin-right:12px}.user-row .user-row__name{flex:2;line-height:2.2em}.user-row .user-row__perms{min-width:160px;text-align:right;padding:0 10px 0 15px}.user-row .user-row__perms .user-row__perm{display:inline}.user-row .user-row__perms .user-row__perm:not(:last-of-type)::after{content:\\\" \\\\B7   \\\"}.user-row .user-row__editor{margin-top:5px}.form-modal__item--copy-team-permissions{position:relative}.form-modal__item--copy-team-permissions .user-permissions-editor-closer{position:absolute;top:5px;right:5px}.user-permissions-editor .react-tagsinput-input{background-color:#fff}.user-permissions-editor .user-permissions-editor__row:not(:last-child){margin-bottom:10px}.user-permissions-editor .user-permissions-editor__row.user-permissions-editor__row--username{width:calc(100% - 32px)}.user-permissions-editor .user-permissions-editor__sub-row{padding-left:30px;position:relative}.user-permissions-editor .user-permissions-editor__sub-row::before{content:\\\"\\\";position:absolute;top:0;left:10px;width:15px;height:15px;border-left:1px solid #e7e9ee;border-bottom:1px solid #e7e9ee;border-radius:2px}.user-row__editor,.form-modal__item--gray-row{background:#f3f4f6;padding:15px}.form-modal__item--flexed-row{display:flex;flex-direction:row;align-items:flex-start;position:relative}.form-modal__item--flexed-row>*:not(:first-child){margin-left:10px}.form-modal__item--flexed-row .kobo-select{min-width:200px}.form-modal__item--flexed-row .kobo-select .kobo-select__control{height:40px}.form-modal__item--flexed-row>input[type=text]{flex:1;padding:10px;height:40px}.form-modal__item--flexed-row button{min-width:100px}.form-modal__item--shareable-link{margin-top:10px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./multiCheckbox.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".multi-checkbox{list-style:none;height:auto;width:100%;overflow:hidden auto;border:1px solid #e7e9ee;border-radius:2px}.multi-checkbox .multi-checkbox__item{margin:12px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./submissionDataTable.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.submission-data-table{text-align:initial}.submission-data-table .checkbox+.submission-data-table__row{margin-top:12px}.submission-data-table__row{background-color:#f3f4f6}.submission-data-table__row.submission-data-table__row--type-group_root+.submission-data-table__row.submission-data-table__row--metadata{border-top:3px solid #e7e9ee}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--group,.submission-data-table__row.submission-data-table__row--group-label{border-bottom:1px solid #e7e9ee}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--group{border-left:1px solid #e7e9ee;border-right:1px solid #e7e9ee}.submission-data-table__row.submission-data-table__row--columns{display:flex;flex-direction:row}.submission-data-table__row.submission-data-table__row--column-names{font-weight:bold;background-color:#565e76;color:#fff}.submission-data-table__row.submission-data-table__row--group-label{padding:12px 0}.submission-data-table__row.submission-data-table__row--group{padding:0 12px 12px}.submission-data-table__row.submission-data-table__row--type-group_root{padding:0;border:none}.submission-data-table__row.submission-data-table__row--type-select_multiple .submission-data-table__column--data ul{list-style:disc;padding-left:1.25em}.submission-data-table__row.submission-data-table__row--response,.submission-data-table__row.submission-data-table__row--point{background-color:#fff}.submission-data-table__row.submission-data-table__row--point+.submission-data-table__row.submission-data-table__row--point{border-top:1px dotted #e7e9ee}.submission-data-table__row.submission-data-table__row--point:first-child .submission-data-table__column{padding-top:0}.submission-data-table__row.submission-data-table__row--point:last-child .submission-data-table__column{padding-bottom:0}.submission-data-table__row.submission-data-table__row--point .submission-data-table__column:first-child{padding-left:0}.submission-data-table__row.submission-data-table__row--point .submission-data-table__column:last-child{padding-right:0}.submission-data-table__column{padding:12px}.submission-data-table__column.submission-data-table__column--type{width:15%}.submission-data-table__column.submission-data-table__column--type .k-icon{font-size:20px}.submission-data-table__column.submission-data-table__column--label{width:35%}.submission-data-table__column.submission-data-table__column--data{flex:1;font-family:\\\"Roboto Mono\\\",monospace}.submission-data-table__xml-name{display:inline-block;margin-left:.5em;font-size:.8em;line-height:1;color:#565e76;font-family:\\\"Roboto Mono\\\",monospace}.submission-data-table__value{color:#333847;display:inline-block;font-family:\\\"Roboto Mono\\\",monospace}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./tableSettings.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tableColumn-modal .form-view__cell--label{padding-bottom:10px}.tableColumn-modal .form-modal__item{margin-bottom:20px}.tableColumn-modal .form-modal__item--advanced-table-options{border:1px solid #e7e9ee;padding:20px;background:#f3f4f6}.tableColumn-modal .form-modal__item--advanced-table-options .form-view__cell--note{padding-bottom:20px}.tableColumn-modal .form-modal__item--advanced-table-options .form-modal__item:last-child{margin-bottom:0px}.tableColumn-modal .form-modal__item--translation-radios .radio__row--title{font-size:inherit;color:inherit;font-weight:500}.tableColumn-modal ul{max-height:160px;overflow:auto;border:1px solid #e7e9ee;padding:10px;background:#fff}.tableColumn-modal ul li{margin-bottom:5px;max-width:100%}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./koboRange.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".kobo-range{padding-top:6px;flex:1}.kobo-range__values{display:flex;justify-content:space-between;width:100%;margin:auto;padding-bottom:3px;font-weight:600;font-size:18px}.kobo-range__values .kobo-range__current-value{color:#259af4}.kobo-range__values .kobo-range__max-value{color:#979fb4}.kobo-range__values .kobo-range__unit{margin-left:4px}input[type=range].kobo-range__input--default::-moz-range-progress{background-color:#259af4}input[type=range].kobo-range__input--default::-webkit-slider-thumb{background-color:#259af4;box-shadow:-10005px 0 0 10000px #259af4}input[type=range].kobo-range__input--warning::-moz-range-progress{background-color:#e84a5f}input[type=range].kobo-range__input--warning::-webkit-slider-thumb{background-color:#e84a5f;box-shadow:-10005px 0 0 10000px #e84a5f}input[type=range].kobo-range__input--teal::-moz-range-progress{background-color:#22b0c3}input[type=range].kobo-range__input--teal::-webkit-slider-thumb{background-color:#e84a5f;box-shadow:-10005px 0 0 10000px #22b0c3}input[type=range]{-webkit-appearance:none;width:100%;background:transparent;cursor:pointer;border-radius:10px}input[type=range]::-moz-range-thumb{background-color:transparent;height:8px;border-radius:0 10px 10px 0;border:none}input[type=range]::-moz-range-progress{height:8px;border-radius:10px}input[type=range]::-webkit-slider-runnable-track{-webkit-appearance:none;border-radius:10px;background:#e7e9ee;height:8px;overflow-x:hidden;margin-bottom:12px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;height:8px;width:8px;background:#259af4;border-radius:10px}input[type=range]::-moz-range-track{-webkit-appearance:none;border-radius:10px;background:#e7e9ee;height:8px}input[type=range]::-ms-track{-webkit-appearance:none;border-radius:10px;background:#e7e9ee;height:8px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./audioPlayer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".audio-player{display:flex;justify-content:center;padding:0 20px}.audio-player .audio-player__controls{margin-top:8px;margin-right:2.3%}.audio-player .audio-player__controls i.k-icon{font-size:36px;border-radius:4px;cursor:pointer}.audio-player .audio-player__controls i.k-icon:hover{background-color:#e7e9ee}.audio-player .audio-player__controls i.k-icon-caret-right,.audio-player .audio-player__controls i.k-icon-pause{color:#259af4}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./toggleSwitch.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".toggle-switch{position:relative;display:inline-block;line-height:20px}.toggle-switch .toggle-switch__wrapper{cursor:pointer}.toggle-switch input{visibility:hidden;position:absolute}.toggle-switch .toggle-switch__slider{display:inline-block;vertical-align:top;position:relative;width:30px;height:20px;background-color:#979fb4;transition:.3s cubic-bezier(1, 0, 0.5, 1);border-radius:34px}.toggle-switch .toggle-switch__slider[disabled]{opacity:.5}.toggle-switch .toggle-switch__slider::before{position:absolute;content:\\\"\\\";height:16px;width:16px;left:2px;top:2px;background-color:#fff;transition:inherit;border-radius:50%}.toggle-switch .toggle-switch__slider+.toggle-switch__label{margin-left:6px}.toggle-switch input:checked+.toggle-switch__slider{background-color:#22b0c3}.toggle-switch input:checked+.toggle-switch__slider::before{transform:translateX(10px)}.toggle-switch input:focus+.toggle-switch__slider{box-shadow:0 0 1px #22b0c3}.toggle-switch .toggle-switch__label{color:#333847;font-size:14px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./assetActionButtons.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".asset-action-buttons{display:flex;align-items:center;height:32px;margin:0;padding:0;text-align:right}.asset-action-buttons:not(:first-child){margin-left:15px}.asset-action-buttons .popover-menu__toggle .k-icon{display:block}.asset-action-buttons .k-icon,.asset-action-buttons__button .k-icon,.asset-action-buttons__icon-button .k-icon{font-size:24px;margin:0 3px;color:inherit}.asset-action-buttons__button,.asset-action-buttons__icon-button{display:block;cursor:pointer}.asset-action-buttons__button .k-icon,.asset-action-buttons__icon-button .k-icon{display:block}.asset-action-buttons__button{border-radius:3px;font-size:.9em;font-weight:500;text-transform:uppercase;overflow:hidden;position:relative;padding:5px 8px 5px 30px;color:#565e76;background-color:transparent;border:1px solid currentColor}.asset-action-buttons__button:hover{color:#fff;background-color:#565e76;border-color:#565e76}.asset-action-buttons__button:active{transform:translateY(1px)}.asset-action-buttons__button[disabled]{pointer-events:none}.asset-action-buttons__button[disabled].asset-action-buttons__button--on,.asset-action-buttons__button[disabled].asset-action-buttons__button--off{color:#979fb4}.asset-action-buttons__button.asset-action-buttons__button--pending.asset-action-buttons__button--on,.asset-action-buttons__button.asset-action-buttons__button--pending.asset-action-buttons__button--off{padding-left:8px}.asset-action-buttons__button .k-icon{position:absolute;top:50%;transform:translateY(-50%);left:0}.asset-action-buttons__button.asset-action-buttons__button--on{color:#22b0c3}.asset-action-buttons__button.asset-action-buttons__button--on:hover{color:#fff;background-color:#22b0c3;border-color:#22b0c3}.asset-action-buttons__button.asset-action-buttons__button--off{color:#e84a5f}.asset-action-buttons__button.asset-action-buttons__button--off:hover{color:#fff;background-color:#e84a5f;border-color:#e84a5f}.asset-action-buttons__icon-button{color:#565e76}.asset-action-buttons__icon-button:hover{color:#259af4}.asset-action-buttons__button+.asset-action-buttons__icon-button{margin-left:5px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./assetsTable.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.form-view__cell--assets-table-wrapper{min-width:822px}.assets-table{width:100%;background-color:#fff;overflow-x:auto}.assets-table.assets-table--fullscreen{position:fixed;z-index:101;border:15px solid #fff;top:0;left:0;bottom:0;right:0;width:100%;height:100%}.assets-table.assets-table--collection-content{overflow-x:initial;min-width:820px}.assets-table__header .assets-table-row .assets-table-row__column{color:#333847}.assets-table__header,.assets-table__body,.assets-table__footer{min-width:800px}.assets-table__body>.loading{margin:40px auto}.assets-table__scrollbar-padding{background-color:#f3f4f6;align-self:stretch}.assets-table__footer{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:10px;color:#565e76;background-color:#f3f4f6;height:40px}.assets-table__footer .mdl-button{margin-left:0;margin-right:0;padding-right:0;padding-left:12px;line-height:32px;height:32px;min-height:32px}.assets-table__footer .mdl-button .k-icon{font-size:24px;margin:0 3px;float:right}.assets-table--MY_LIBRARY,.assets-table--PUBLIC_COLLECTIONS{height:calc(100% - 70px);display:flex;flex-direction:column}.assets-table--MY_LIBRARY .assets-table__body,.assets-table--PUBLIC_COLLECTIONS .assets-table__body{flex:1;overflow-y:auto}.assets-table-pagination{display:inline-block;color:inherit}.assets-table-pagination__index{display:inline;margin:0 10px}.assets-table-pagination__button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;padding:0;margin:0;border:0;cursor:pointer;color:inherit;height:20px}.assets-table-pagination__button:hover{opacity:.8}.assets-table-pagination__button:active{opacity:.6}.assets-table-pagination__button[disabled]{opacity:.5;pointer-events:none}.assets-table-pagination__button .k-icon{font-size:14px;margin:0 3px;display:inline-block;vertical-align:middle}.assets-table-row{display:flex;flex-direction:row;position:relative;align-items:flex-start}.assets-table-row.assets-table-row--asset:hover{background-color:#e9f9fb}.assets-table-row.assets-table-row--asset:hover .assets-table-row__buttons{opacity:1;visibility:visible}.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status{padding:16px 0 0 0}.assets-table-row.assets-table-row--asset .assets-table-row__column--icon-status .k-icon{font-size:24px}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--name .asset-name{font-weight:700}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon{position:relative}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon::before{position:relative;z-index:1;color:#fff}.assets-table-row.assets-table-row--type-collection .assets-table-row__column--icon-status .k-icon::after{content:\\\"\\\";background-color:#22b0c3;position:absolute;z-index:0;top:-3px;left:-8px;right:-8px;height:calc(100% + 6px);border-radius:6px}.assets-table-row:first-of-type .assets-table-row__column{border-top-color:transparent}.assets-table-row:first-of-type:hover .assets-table-row__column{border-top-color:#e7e9ee}.assets-table-row .assets-table-row__header-label,.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu__toggle{font-size:.9rem}.assets-table-row.assets-table-row--header .assets-table-row__column{border-top:0;cursor:pointer;font-weight:700;white-space:nowrap;height:40px;line-height:20px;background-color:#f3f4f6;padding:10px}.assets-table-row.assets-table-row--header .assets-table-row__column:hover{background-color:#e7e9ee}.assets-table-row.assets-table-row--header .assets-table-row__column .k-icon{font-size:14px;min-width:14px;width:14px;margin-left:3px;display:inline-block}.assets-table-row.assets-table-row--header .assets-table-row__column .k-icon.k-icon-filter-arrows{font-size:9px;margin-left:0px !important}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu{display:block}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle{display:block;color:currentColor}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle:hover{color:currentColor}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__toggle .k-icon{margin:-2px}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content{top:28px;z-index:30;padding:10px;max-width:calc(100% + 20px);min-width:auto;left:-10px}.assets-table-row.assets-table-row--header .assets-table-row__column .popover-menu .popover-menu__content .k-icon{margin:1px}.assets-table-row.assets-table-row--empty-message{padding:40px;font-size:1.2rem;justify-content:center;text-align:center}.assets-table-row.assets-table-row--empty-message .pro-tip{font-size:1rem;margin-top:20px}.assets-table-row .assets-table-row__link{cursor:pointer;position:absolute;z-index:10;top:0;left:0;width:100%;height:100%}.assets-table-row .assets-table-row__column{border-top:1px solid #e7e9ee;padding:20px 10px;color:#565e76}.assets-table-row .assets-table-row__column[disabled]{pointer-events:none}.assets-table-row .assets-table-row__column.assets-table-row__column--icon-status{width:70px;text-align:center}.assets-table-row .assets-table-row__column.assets-table-row__column--name{flex:1;color:#333847}.assets-table-row .assets-table-row__column.assets-table-row__column--owner{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--subscribers-count{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--organization{width:10%}.assets-table-row .assets-table-row__column.assets-table-row__column--languages{width:12.5%}.assets-table-row .assets-table-row__column.assets-table-row__column--primary-sector{width:15%}.assets-table-row .assets-table-row__column.assets-table-row__column--country{width:7.5%}.assets-table-row .assets-table-row__column.assets-table-row__column--date-modified{width:17.5%;text-align:right}.assets-table-row .assets-table-row__column .k-icon{vertical-align:middle}.assets-table-row__tags{display:block;margin-top:5px}.assets-table-row__tag{display:inline-block;vertical-align:middle;padding:3px 5px;font-size:12px;line-height:1;color:currentColor;background:#e7e9ee;border-radius:2px}.assets-table-row__tag.assets-table-row__tag--gray-circle{min-width:18px;border-radius:1em;text-align:center}.assets-table-row__buttons{position:absolute;z-index:20;top:1px;right:0;bottom:0;opacity:0;visibility:hidden;background-color:#e9f9fb;padding:13px 10px 0 0}.assets-table-row__buttons::before{content:\\\"\\\";position:absolute;right:100%;top:0;height:100%;width:15px;background:linear-gradient(90deg, transparent, #e9f9fb)}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./assetInfoBox.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".asset-info-box{display:flex;flex-direction:row;border-bottom:1px solid #e7e9ee;padding-bottom:5px;line-height:24px}.asset-info-box .asset-info-box__column{display:flex;flex-direction:column}.asset-info-box .asset-info-box__column:not(.asset-info-box__column--toggle){flex:1;padding-right:10px}.asset-info-box .asset-info-box__cell{flex:1}.asset-info-box .asset-info-box__cell label{color:#565e76}.asset-info-box .asset-info-box__cell label::after{content:\\\": \\\"}.asset-info-box .asset-info-box__toggle{cursor:pointer;color:#259af4;background:transparent;border:0;width:100%;text-align:center}.asset-info-box .asset-info-box__toggle:hover{color:#0b81da}.asset-info-box .asset-info-box__toggle:active{transform:translateY(1px)}.asset-info-box .asset-info-box__toggle .k-icon{font-size:18px;margin-right:3px;vertical-align:-5px}.asset-info-box__cell+.asset-info-box__cell{margin-top:20px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./assetBreadcrumbs.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".breadcrumbs{font-size:24px;font-weight:600;line-height:40px;display:flex;flex-direction:row;flex-wrap:wrap;align-items:center}.breadcrumbs.breadcrumbs--gray-wrapper{background:#f3f4f6;padding:15px 20px;height:70px}.breadcrumbs .breadcrumbs__crumb,.breadcrumbs .breadcrumbs__divider{color:#565e76}.breadcrumbs .breadcrumbs__crumb:last-of-type{color:#333847}.breadcrumbs .k-icon.k-icon-next{font-size:24px;margin:0 3px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./reports.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var escape = require(\"../../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@media screen and (min-width: 961px){.report-view{padding:0px 40px}}.form-view__cell--reportLimit{padding-bottom:16px}.report-view__item{border:1px solid #e7e9ee;margin:15px 0px;background:#fff}.report-view__itemHeading{padding:10px 24px;border-left:5px solid #22b0c3;border-bottom:1px solid #e7e9ee;position:relative}.report-view__itemHeading h2{margin:0px;margin-right:60px;color:#22b0c3;font-size:16px;font-weight:normal;line-height:1.35em}.report-view__itemHeading .report-view__headingMeta{opacity:.6;font-size:11px;margin-right:60px}.report-view__itemHeading .report-view__headingMeta .type{text-transform:uppercase}.report-view__itemHeading .report-button__question-settings{overflow:visible;position:absolute;right:15px;top:6px}.report-view__itemContent{padding:10px 24px;position:relative}.report-view__itemContent table{width:100%;border:0px;margin:20px 0px;border-spacing:0px}.report-view__itemContent table thead th{margin:0px;padding:8px;background-color:#565e76;color:#fff;text-align:right;font-weight:normal;font-size:14px}.report-view__itemContent table thead th:first-child{text-align:left}.report-view__itemContent table tbody tr td{border-bottom:1px solid #979fb4;padding:8px;text-align:right}.report-view__itemContent table tbody tr td:first-child{text-align:left}@media screen and (min-width: 961px){.report-view__itemContent table{width:80%;margin-left:10%}}.report-view__chart{margin:0 auto;padding:20px 50px;max-width:100% !important;max-height:350px !important}.report-view__chart canvas{width:100% !important;height:auto !important;margin:0 auto}.form-view__reportButtons{padding:15px 0px}.form-view__reportButtons button:not(.mdl-button--icon){text-transform:uppercase;padding-left:0px}.form-view__reportButtons button.report-button__edit,.form-view__reportButtons button.report-button__settings{overflow:visible}.form-view__reportButtons button.report-button__expand,.form-view__reportButtons button.report-button__print{float:right;margin-right:0px;margin-left:8px;overflow:visible}.form-view__reportButtons+.form-view__cell--iframe{height:calc(100% - 60px)}@media screen and (max-width: 999px){.form-view__reportButtons{padding-left:12px;padding-right:12px}}@media screen and (max-width: 767px){.form-view__reportButtons button.mdl-button{font-size:13px}.form-view__reportButtons button.report-button__print{display:none}.form-view__reportButtons button.report-button__expand{margin-left:0px;padding-left:4px;padding-right:4px}}.graph-settings__charttype,.graph-settings__colors{padding:20px 10px}.graph-settings__charttype:after,.graph-settings__colors:after{content:\\\"\\\";clear:both;display:block}.graph-settings__charttype strong,.graph-settings__colors strong{margin-bottom:20px;display:block;font-weight:400;color:#565e76}.graph-settings__radio{text-align:center;background-size:auto 80%;background-position:top center;background-repeat:no-repeat}.graph-settings__radio input{display:none}.graph-settings__radio label{border:2px solid #fff;display:block;width:100%;cursor:pointer}.graph-settings__radio input:checked+label{border:2px solid #259af4}.graph-settings__radio--vertical{background-image:url(\" + escape(require(\"../../../img/chart-vertical.png\")) + \")}.graph-settings__radio--horizontal{background-image:url(\" + escape(require(\"../../../img/chart-horizontal.png\")) + \")}.graph-settings__radio--donut{background-image:url(\" + escape(require(\"../../../img/chart-donut.png\")) + \")}.graph-settings__radio--area{background-image:url(\" + escape(require(\"../../../img/chart-area.png\")) + \")}.graph-settings__radio--pie{background-image:url(\" + escape(require(\"../../../img/chart-pie.png\")) + \")}.graph-settings__radio--line{background-image:url(\" + escape(require(\"../../../img/chart-line.png\")) + \")}.graph-settings__charttype .graph-settings__radio{width:33%;height:100px;margin-bottom:20px;float:left}.graph-settings__charttype .graph-settings__radio label{padding-top:80px}.graph-settings__colors .graph-settings__radio{margin-bottom:10px}.graph-settings__colors .graph-settings__radio label{padding:4px;padding-top:8px;width:380px;margin:0 auto}.graph-settings__colors .graph-settings__radio label>div{display:inline-block;width:40px;height:40px}.graph-settings__colors+.slider-item{padding:10px;display:flex;width:240px;margin:0 auto}.graph-settings__colors+.slider-item>label{width:100px}.graph-settings__colors+.slider-item>div{flex-grow:1}.graph-tab__groupby,.graph-tab__translation{padding:20px 30px}.custom-report--title{padding-bottom:30px}.custom-report--title input{width:100%;font-size:20px;font-weight:300}.custom-report--questions{margin:10px 0;overflow:auto;width:100%}.custom-report--questions .graph-settings__question{width:100%;padding:5px 0}.custom-report--footer{margin:15px 0px;text-align:right}@media screen and (max-width: 767px){.form-view__reportButtons button.custom-reports{margin-left:8px}.form-view__reportButtons button.report-button__expand,.form-view__reportButtons button.report-button__print{margin-left:0px;padding:0px 4px}}\", \"\"]);\n\n// exports\n","module.exports = __webpack_public_path__ + \"chart-vertical.png\";","module.exports = __webpack_public_path__ + \"chart-horizontal.png\";","module.exports = __webpack_public_path__ + \"chart-donut.png\";","module.exports = __webpack_public_path__ + \"chart-area.png\";","module.exports = __webpack_public_path__ + \"chart-pie.png\";","module.exports = __webpack_public_path__ + \"chart-line.png\";","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./formSummary.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".form-view__group.form-view__group--description-cols{padding:20px;display:flex}.form-view__group.form-view__group--description-cols>.form-view__cell{width:50%}.form-view__group.form-view__group--description-cols>.form-view__cell .form-view__label{font-size:12px;opacity:.6}.form-view__row--summary-description .form-view__cell--description:not(:first-child){border-top:1px solid #e7e9ee}.form-view__group.form-view__group--summary-details-cols{display:flex;align-items:flex-start}.form-view__group.form-view__group--summary-details-cols>.form-view__cell{padding:15px 20px;flex-grow:1}.form-view__group.form-view__group--summary-details-cols>.form-view__cell:first-child{flex-grow:2}.form-view__group.form-view__group--summary-details-cols>.form-view__cell .form-view__label{font-size:12px;opacity:.6}.form-view__cell.form-view__cell--subs-graph{padding:30px;padding-bottom:0px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle{padding-bottom:20px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a+a{margin-left:15px}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a{display:inline-block;padding:8px;color:#22b0c3;cursor:pointer;font-size:16px;background:transparent}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a.active{color:#fff;background:#22b0c3;position:relative}.form-view__cell.form-view__cell--subs-graph .form-view__cell--subs-graph-toggle a.active::after{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #22b0c3;content:\\\"\\\";position:absolute;bottom:-9px;left:50%;margin-left:-10px}.form-view__group.form-view__group--submission-stats{padding:30px;display:flex}.form-view__group.form-view__group--submission-stats .form-view__cell{border:1px solid #e7e9ee;padding:20px;flex:2;margin-right:10px}.form-view__group.form-view__group--submission-stats .form-view__cell:last-child{flex:1;margin-right:0px}.form-view__group.form-view__group--submission-stats .subs-graph-number{font-size:32px;font-weight:600;color:#22b0c3}.form-view__cell.form-view__cell--data-tabs a,.form-view__cell.form-view__cell--data-tabs button{cursor:pointer;display:block;width:100%;border:0;background:transparent;padding:6px 10px;color:#565e76;border-bottom:1px solid #e7e9ee;position:relative;text-align:left}.form-view__cell.form-view__cell--data-tabs a:last-child,.form-view__cell.form-view__cell--data-tabs button:last-child{border-bottom:none}.form-view__cell.form-view__cell--data-tabs a:hover,.form-view__cell.form-view__cell--data-tabs button:hover{color:#333847}.form-view__cell.form-view__cell--data-tabs a .k-icon,.form-view__cell.form-view__cell--data-tabs button .k-icon{font-size:24px;width:24px;margin:4px 10px 4px 4px;display:inline-block;vertical-align:middle}.form-view__cell.form-view__cell--data-tabs a .k-icon.k-icon-next,.form-view__cell.form-view__cell--data-tabs button .k-icon.k-icon-next{position:absolute;right:4px;top:6px}.form-view__row.form-view__row--team{position:relative}.form-view__row.form-view__row--team .form-view__cell--box{display:flex;justify-content:flex-start;flex-wrap:wrap}.form-view__row.form-view__row--team .user-row{margin:0;border-bottom:0px;margin-right:0px}.form-view__row.form-view__row--team a.team-sharing-button{cursor:pointer;color:#565e76;position:absolute;right:0px;top:-2px}.form-view__row.form-view__row--team a.team-sharing-button .k-icon{font-size:24px}.form-view__row.form-view__row--team a.team-sharing-button:hover{color:#259af4}.form-view__cell.form-view__cell--summary-chart{position:relative;height:0px;overflow:hidden}.form-view__cell.form-view__cell--summary-chart+.form-view__cell--chart-no-data{height:100px;justify-content:center;align-items:center;display:flex;border:1px solid #e7e9ee}.form-view__cell.form-view__cell--summary-chart+.form-view__cell--chart-no-data span{font-size:16px;margin:10px}.form-view__cell.form-view__cell--summary-chart.active{height:275px;overflow:visible}.form-view__cell.form-view__cell--summary-chart.active canvas{height:250px}.form-view__cell.form-view__cell--summary-chart.active+.form-view__cell--chart-no-data{height:0px;overflow:hidden}@media screen and (min-width: 768px){.form-view--summary{display:flex}.form-view--summary .form-view__column--left{width:65%}.form-view--summary .form-view__column--left .form-view__row{margin-right:0px}.form-view--summary .form-view__column--right{width:35%}.form-view--summary .form-view__column--right .form-view__row{margin-left:30px;margin-right:40px}}@media screen and (min-width: 1024px){.form-view--summary .form-view__column--left{width:70%}.form-view--summary .form-view__column--right{width:30%}}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./connect-projects.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".connect-projects i.k-icon{font-size:32px;margin-right:5px}.connect-projects .form-view__cell--page-title{font-size:14px !important;display:flex;margin-top:20px !important}.connect-projects .form-view__cell--page-title i{margin-top:10px}.connect-projects .connect-projects__export{display:block;margin-top:20px}.connect-projects .connect-projects__export .connect-projects__export-options{display:flex;justify-content:space-between;padding-bottom:12px}.connect-projects .connect-projects__export .connect-projects__export-options .toggle-switch .toggle-switch__label{font-weight:bold}.connect-projects .connect-projects__export .connect-projects__export-options .checkbox{width:50%}.connect-projects .connect-projects__export .connect-projects__export-multicheckbox{display:flex;justify-content:space-between;position:relative;padding-top:12px;border-top:1px solid;border-color:#e7e9ee}.connect-projects .connect-projects__export .connect-projects__export-multicheckbox .connect-projects__export-hint{width:45%}.connect-projects .connect-projects__export .connect-projects__export-multicheckbox .multi-checkbox{height:200px;width:50%}.connect-projects .connect-projects__import .connect-projects__import-form{position:relative;display:flex;margin-top:10px}.connect-projects .connect-projects__import .connect-projects__import-form .kobo-select__wrapper{width:50%;margin-right:50px}.connect-projects .connect-projects__import .connect-projects__import-form .kobo-select__wrapper .kobo-select__placeholder{color:#333847}.connect-projects .connect-projects__import .connect-projects__import-form .text-box{width:35%;margin-top:0px;margin-right:24px}.connect-projects .connect-projects__import .connect-projects__import-form .text-box .text-box__input{padding:9px 10px;background-color:#fff;color:#333847}.connect-projects .connect-projects__import-list{margin-top:20px}.connect-projects .connect-projects__import-list label{margin-top:20px;font-size:14px;font-weight:bold;color:#565e76}.connect-projects .connect-projects__import-list .connect-projects__import-list-item,.connect-projects .connect-projects__import-list .connect-projects__import-list-item--no-imports{position:relative;display:flex;justify-content:space-between;margin-top:7px;margin-bottom:10px;border-bottom:1px solid;border-color:#e7e9ee}.connect-projects .connect-projects__import-list .connect-projects__import-list-item--no-imports{font-style:italic;color:#979fb4;padding:11px 0 11px 11px}.connect-projects .connect-projects__import-list .connect-projects__import-list-item{padding-bottom:10px}.connect-projects .connect-projects__import-list .connect-projects__import-list-item i.k-icon-check{color:#259af4}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-labels{position:absolute;top:6px;left:32px;font-weight:500}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-labels i.k-icon-check{color:#259af4;font-weight:bold}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-labels .connect-projects__import-labels-source{margin-left:24px;font-weight:400;color:#565e76}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-options{position:relative}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-options .kobo-light-button{position:absolute;right:0;padding-bottom:25px}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-options .kobo-light-button i.k-icon{font-size:24px}.connect-projects .connect-projects__import-list .connect-projects__import-list-item .connect-projects__import-options .kobo-light-button:not(:first-child){margin-right:45px}.connect-projects .connect-projects__import-list .loading__inner i{vertical-align:text-bottom}.form-modal__form.form-modal__form--data-attachment-columns{color:#7a839f}.form-modal__form.form-modal__form--data-attachment-columns .bulk-options{margin-top:14px;display:flex;justify-content:space-between}.form-modal__form.form-modal__form--data-attachment-columns .bulk-options .bulk-options__description{font-weight:bold}.form-modal__form.form-modal__form--data-attachment-columns .bulk-options .bulk-options__buttons span{margin:12px}.form-modal__form.form-modal__form--data-attachment-columns .bulk-options .bulk-options__buttons a{text-decoration:underline;cursor:pointer}.form-modal__form.form-modal__form--data-attachment-columns .multi-checkbox{margin-top:12px;height:200px}.form-modal__form.form-modal__form--data-attachment-columns .loading{margin-top:12px}.form-modal__form.form-modal__form--data-attachment-columns .modal__footer{text-align:center}.form-modal__form.form-modal__form--data-attachment-columns .modal__footer button{padding-left:64px;padding-right:64px}@media(min-width: 1000px)and (max-width: 1140px),(min-width: 770px)and (max-width: 860px),(max-width: 700px){.connect-projects__export-multicheckbox{display:block !important}.connect-projects__export-multicheckbox .multi-checkbox{margin-top:12px;width:100% !important;overflow-x:scroll}.connect-projects__import-form{display:block !important}.connect-projects__import-form .kobo-select__wrapper{width:100% !important;margin-bottom:12px}.connect-projects__import-form .text-box{width:100%}.connect-projects__import-form .kobo-button{display:block;margin-top:12px auto 0;width:70%}}@media screen and (max-width: 530px){.connect-projects__export-options{display:block !important}.connect-projects__export-options .checkbox{margin-top:20px;width:100% !important}}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./formMedia.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".form-view--form-media{background-color:#fff}.form-media{padding:30px 40px}.form-media .form-view__cell--warning{margin-bottom:24px}.form-media .form-media__title{display:inline-block;position:relative;margin-bottom:24px}.form-media .form-media__title label.form-media__label{float:left;padding-right:12px}.form-media .form-media__title a.title-help{position:absolute;top:-2px;font-size:24px;height:24px;color:#565e76;cursor:pointer}.form-media .form-media__upload .form-media-upload-url{color:#565e76;font-size:18px;font-weight:500;margin:auto;margin-top:36px;display:block;text-align:center}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__label{margin:12px 0}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form .text-box__error{padding-top:6px;font-size:14px}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form .form-builder-header__button{background:#fff;box-shadow:none;color:#259af4;border:1px solid}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form .form-builder-header__button:hover{color:#fff;background-color:#259af4;border-color:#259af4}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form label.text-box{padding-top:7px;min-width:77%;display:inline-table}.form-media .form-media__upload .form-media-upload-url .form-media-upload-url__form button{margin-left:3%;min-width:20%}.form-media .form-media__list{margin-top:64px}.form-media .form-media__list label.form-media__label{margin-bottom:11px;padding-bottom:16px;border-bottom:1px solid #e7e9ee}.form-media .form-media__list .form-media__list-item{font-size:16px;position:relative;padding-bottom:12px;border-bottom:1px solid #e7e9ee;margin-bottom:12px;display:flex;justify-content:space-between}.form-media .form-media__list .form-media__list-item button.kobo-light-button{padding-bottom:25px}.form-media .form-media__list .form-media__list-item button.kobo-light-button i.k-icon-trash{font-size:24px}.form-media .form-media__list .form-media__list-item i.form-media__file-type{position:absolute;left:-5px;top:2px;color:#979fb4;font-size:24px}.form-media .form-media__list .form-media__list-item a{font-weight:400;padding:5px;margin-left:25px;font-size:18px;display:inline-block;min-width:10px;vertical-align:top;height:auto;position:relative;min-height:18px;max-width:70%;overflow-x:hidden;cursor:pointer}.form-media .form-media__label{color:#333847;font-weight:500;font-size:22px;display:block}@media screen and (max-width: 767px){.media-settings--upload-file{width:auto}}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./validationStatusDropdown.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".kobo-select.kobo-select--validation .kobo-select__menu{left:-10px;width:calc(100% + 20px)}.kobo-select.kobo-select--validation .kobo-select__menu-list{text-align:left;line-height:20px}.kobo-select.kobo-select--validation .kobo-select__menu-list>*:first-child{margin-top:10px}.kobo-select.kobo-select--validation .kobo-select__menu-list>*:last-child{margin-bottom:10px}.kobo-select.kobo-select--validation .kobo-select__control{padding:0;color:#565e76;background:transparent;height:28px;min-height:28px;cursor:pointer}.kobo-select.kobo-select--validation .kobo-select__control .kobo-select__value-container{padding:0}.kobo-select.kobo-select--validation .kobo-select__control .kobo-select__value-container .kobo-select__option-badge{font-weight:400}.kobo-select.kobo-select--validation .kobo-select__option-wrapper{padding:4px 10px;position:relative}.kobo-select.kobo-select--validation .kobo-select__option-wrapper:hover{background-color:#f3f4f6}.kobo-select.kobo-select--validation .kobo-select__indicator{margin-left:3px}.kobo-select.kobo-select--validation .kobo-select__indicator,.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__option{padding:0}.kobo-select.kobo-select--validation .kobo-select__indicator::after,.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__option::after{content:\\\"\\\";position:absolute;top:0;left:0;right:0;bottom:0;background:transparent}.kobo-select.kobo-select--validation.kobo-select--for-nonwhite-background .kobo-select__control{background:#fff;border-radius:3px;padding-right:5px}.kobo-select.kobo-select--validation.kobo-select--for-nonwhite-background .kobo-select__control .kobo-select__option-badge{background:#fff !important}.kobo-select.kobo-select--validation .kobo-select__option-badge{font-weight:500;line-height:1;font-size:12px;height:24px;padding:4px 6px;border:2px solid transparent;border-radius:10px;display:inline-block;vertical-align:top;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.kobo-select.kobo-select--validation .kobo-select__option-badge+[class*=dummyInput-DummyInput]{position:absolute}.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__single-value{display:inline;position:static;margin:0;color:inherit;overflow:visible;text-overflow:initial;white-space:initial;transform:none;top:auto}.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__option.kobo-select__option--is-focused,.kobo-select.kobo-select--validation .kobo-select__option-badge .kobo-select__option.kobo-select__option--is-selected{background-color:transparent;color:inherit;font-weight:inherit}.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_not_approved.kobo-select__option-badge--selected,.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_approved.kobo-select__option-badge--selected,.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_on_hold.kobo-select__option-badge--selected{border-color:currentColor}.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_not_approved{color:#924f58;background-color:#ffd6dc}.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_approved{color:#237a85;background-color:#5cc8d6}.kobo-select.kobo-select--validation .kobo-select__option-badge.kobo-select__option-badge--validation_status_on_hold{color:#6b5947;background-color:#ffe3c7}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./tableBulkCheckbox.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".table-bulk-checkbox{position:relative;display:block;height:100%;line-height:20px}.table-bulk-checkbox>.checkbox{position:absolute;z-index:1;top:calc(50% - 10px);left:calc(50% - 15px)}.table-bulk-checkbox>.checkbox .checkbox__wrapper{padding:0;display:block}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./koboDropdown.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.kobo-dropdown{display:inline-block;position:relative}.kobo-dropdown.kobo-dropdown--disabled .kobo-dropdown__trigger{pointer-events:none;opacity:.5}.kobo-dropdown .kobo-dropdown__trigger{display:inline-block;vertical-align:top;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;margin:0;padding:0;color:inherit;background-color:transparent;cursor:pointer}.kobo-dropdown .kobo-dropdown__menu{display:block;position:absolute;z-index:100;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:4px;min-width:150px;list-style:none;margin:0;padding:9px 0;text-align:left;line-height:20px}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button{display:block;width:100%;padding:5px 10px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;margin:0;color:inherit;background-color:transparent;cursor:pointer;text-align:left;font-size:12px;line-height:inherit}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button[disabled]{pointer-events:none;opacity:.5}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button .k-icon{color:inherit;font-size:20px;vertical-align:top}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button .k-icon:first-child:not(:only-child){margin-right:5px}.kobo-dropdown .kobo-dropdown__menu .kobo-dropdown__menu-button .k-icon:last-child:not(:only-child){margin-left:5px}.kobo-dropdown.kobo-dropdown--light .kobo-dropdown__menu{color:#565e76;background-color:#fff}.kobo-dropdown.kobo-dropdown--light .kobo-dropdown__menu .kobo-dropdown__menu-button:hover{background-color:#f3f4f6}.kobo-dropdown.kobo-dropdown--dark .kobo-dropdown__menu{color:#fff;background-color:#565e76}.kobo-dropdown.kobo-dropdown--dark .kobo-dropdown__menu .kobo-dropdown__menu-button:hover{background-color:#333847}.kobo-dropdown.kobo-dropdown--up-left .kobo-dropdown__menu{bottom:100%;left:0}.kobo-dropdown.kobo-dropdown--up-center .kobo-dropdown__menu{bottom:100%;left:50%;transform:translateX(-50%)}.kobo-dropdown.kobo-dropdown--up-right .kobo-dropdown__menu{bottom:100%;right:0}.kobo-dropdown.kobo-dropdown--down-left .kobo-dropdown__menu{top:100%;left:0}.kobo-dropdown.kobo-dropdown--down-center .kobo-dropdown__menu{top:100%;left:50%;transform:translateX(-50%)}.kobo-dropdown.kobo-dropdown--down-right .kobo-dropdown__menu{top:100%;right:0}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./tableColumnSortDropdown.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".kobo-dropdown[data-name=table-column-sort]{display:block;width:100%}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__trigger{display:block;width:100%;padding:0}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__trigger:hover,.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__trigger:hover .k-icon{color:#259af4 !important}.kobo-dropdown[data-name=table-column-sort].kobo-dropdown--menu-visible .table-column-sort-dropdown-trigger .k-icon.k-icon-caret-down{display:none}.kobo-dropdown[data-name=table-column-sort].kobo-dropdown--menu-hidden .table-column-sort-dropdown-trigger .k-icon.k-icon-caret-up{display:none}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger{display:flex;flex-direction:row;flex-wrap:nowrap;text-align:left}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .column-header-title{flex:1}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .column-header-title:not(:last-child){margin-right:5px}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .column-header-title:not(:first-child){margin-left:5px}.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .k-icon.k-icon-sort-up,.kobo-dropdown[data-name=table-column-sort] .table-column-sort-dropdown-trigger .k-icon.k-icon-sort-down{color:#5cc8d6}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__menu .table-column-sort-dropdown-option .table-column-sort-dropdown-clear{color:#fff !important;float:right}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__menu .table-column-sort-dropdown-option .table-column-sort-dropdown-clear.k-icon{font-size:18px}.kobo-dropdown[data-name=table-column-sort] .kobo-dropdown__menu .table-column-sort-dropdown-option.table-column-sort-dropdown-option--active{color:#5cc8d6;background-color:#333847}\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".kobo-dropdown[data-name=columns-hide-dropdown]{display:flex;margin-right:10px}.columns-hide-dropdown-trigger{cursor:pointer;background:none;border:none;margin:0;padding:0;color:#7a839f;font-size:14px;font-weight:500;line-height:24px}.columns-hide-dropdown-trigger:hover{color:#259af4}.columns-hide-dropdown-trigger .k-icon{font-size:22px;vertical-align:top;margin-right:5px}.columns-hide-form{padding:6px 15px;width:360px}.columns-hide-form .columns-hide-form__message{margin:0;font-size:12px;line-height:18px;color:#565e76}.columns-hide-form .columns-hide-form__message:not(:first-child){margin-top:10px}.columns-hide-form .columns-hide-form__message:not(:last-child){margin-bottom:10px}.columns-hide-form .columns-hide-form__list{max-height:200px;margin:10px 0;overflow-y:auto}.columns-hide-form .columns-hide-form__list .columns-hide-form__list-item:not(:first-child){margin-top:10px}.columns-hide-form .columns-hide-form__footer{display:flex;flex-direction:row;justify-content:space-between}.columns-hide-form .columns-hide-form__footer>*:not(:first-child){margin-left:10px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./table.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".radio .radio__row,.radio .checkbox__wrapper,.checkbox .radio__row,.checkbox .checkbox__wrapper{padding:4px 0;cursor:pointer}.radio .radio__row:hover .radio__input:not([disabled]):checked::after,.radio .radio__row:hover .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:hover .radio__input:not([disabled]):checked::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):checked::after{opacity:.8}.radio .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:hover .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:hover .checkbox__input:not([disabled]):not(:checked)::after{opacity:.1}.radio .radio__row:active .radio__input:not([disabled]):checked::after,.radio .radio__row:active .checkbox__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after,.checkbox .radio__row:active .radio__input:not([disabled]):checked::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):checked::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):checked::after{opacity:.6}.radio .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.radio .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.radio .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .radio__row:active .checkbox__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .radio__input:not([disabled]):not(:checked)::after,.checkbox .checkbox__wrapper:active .checkbox__input:not([disabled]):not(:checked)::after{opacity:.3}.radio.checkbox--disabled .checkbox__wrapper,.checkbox.checkbox--disabled .checkbox__wrapper{cursor:default}.radio .radio__row,.checkbox .radio__row{display:block}.radio .radio__input,.radio .checkbox__input,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input,.radio .radio__label,.radio .checkbox__label,.checkbox .radio__input,.checkbox .checkbox__input,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input,.checkbox .radio__label,.checkbox .checkbox__label{display:inline-block;vertical-align:top}.radio .radio__label,.radio .checkbox__label,.checkbox .radio__label,.checkbox .checkbox__label{max-width:calc(100% - 32px);color:#333847;font-size:14px}.radio .radio__input+.radio__label,.radio .checkbox__input+.checkbox__label,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input+.checkbox__label,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input+.checkbox__label,.checkbox .radio__input+.radio__label,.checkbox .checkbox__input+.checkbox__label,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input+.checkbox__label,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input+.checkbox__label{margin-left:8px}.radio .radio__input,.checkbox .radio__input{border-radius:50%}.radio .radio__input::after,.checkbox .radio__input::after{content:\\\"\\\";top:4px;left:4px;border-radius:50%;width:10px;height:10px;background-color:#259af4}.radio .checkbox__input,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input,.checkbox .checkbox__input,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input{border-radius:2px}.radio .checkbox__input::after,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input::after,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input::after,.checkbox .checkbox__input::after,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input::after,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input::after{content:\\\"\\\\2713\\\";top:50%;left:50%;transform:translate(-50%, -50%);width:18px;height:18px;color:#fff;background-color:#259af4;text-align:center;line-height:18px;font-size:18px}.radio .radio__input,.radio .checkbox__input,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input,.checkbox .radio__input,.checkbox .checkbox__input,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;position:relative;margin:0;border:1px solid #565e76;width:20px;height:20px;outline:0;background-color:#fff;color:#565e76;cursor:pointer}.radio .radio__input::after,.radio .checkbox__input::after,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input::after,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input::after,.checkbox .radio__input::after,.checkbox .checkbox__input::after,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input::after,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input::after{display:block;position:absolute;opacity:0}.radio .radio__input:checked,.radio .checkbox__input:checked,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input:checked,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input:checked,.checkbox .radio__input:checked,.checkbox .checkbox__input:checked,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input:checked,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input:checked{border-color:#259af4}.radio .radio__input:checked::after,.radio .checkbox__input:checked::after,.radio .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input:checked::after,.form-view--table .ReactTable .rt-thead.-filters .radio input.checkbox__input:checked::after,.checkbox .radio__input:checked::after,.checkbox .checkbox__input:checked::after,.checkbox .form-view--table .ReactTable .rt-thead.-filters input.checkbox__input:checked::after,.form-view--table .ReactTable .rt-thead.-filters .checkbox input.checkbox__input:checked::after{opacity:1}.radio .radio__input[disabled],.radio .checkbox__input[disabled],.radio .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .radio input[disabled].checkbox__input,.checkbox .radio__input[disabled],.checkbox .checkbox__input[disabled],.checkbox .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .checkbox input[disabled].checkbox__input{pointer-events:none;opacity:.5}.radio .radio__input[disabled]+.radio__label,.radio .radio__input[disabled]+.checkbox__label,.radio .checkbox__input[disabled]+.radio__label,.radio .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input+.radio__label,.form-view--table .ReactTable .rt-thead.-filters .radio input[disabled].checkbox__input+.radio__label,.radio .checkbox__input[disabled]+.checkbox__label,.radio .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input+.checkbox__label,.form-view--table .ReactTable .rt-thead.-filters .radio input[disabled].checkbox__input+.checkbox__label,.checkbox .radio__input[disabled]+.radio__label,.checkbox .radio__input[disabled]+.checkbox__label,.checkbox .checkbox__input[disabled]+.radio__label,.checkbox .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input+.radio__label,.form-view--table .ReactTable .rt-thead.-filters .checkbox input[disabled].checkbox__input+.radio__label,.checkbox .checkbox__input[disabled]+.checkbox__label,.checkbox .form-view--table .ReactTable .rt-thead.-filters input[disabled].checkbox__input+.checkbox__label,.form-view--table .ReactTable .rt-thead.-filters .checkbox input[disabled].checkbox__input+.checkbox__label{opacity:.5}.form-view__sidetabs+.form-view.form-view--table{overflow-x:hidden;overflow-y:auto}.form-view.form-view--table{padding:0px 15px;position:relative;background:#fff}.form-view.form-view--table .form-view__group--table-header{padding:10px 0px 0px 0px;display:flex;justify-content:space-between;align-content:center;transition:.3s all;opacity:1}.form-view.form-view--table .form-view__group--table-header.form-view__group--table-loading{opacity:.25}.form-view.form-view--table .form-view__group--table-header .form-view__item--table-buttons{text-align:right}.form-view.form-view--table .form-view__group--table-header .form-view__item--table-buttons button{overflow:visible;margin-left:10px}.form-view--table .ReactTable{border:none;background:transparent;height:calc(100% - 50px);position:relative;z-index:0;font-size:13px}.form-view--table .ReactTable .rt-resizer{width:10px;right:-5px}.form-view--table .ReactTable .rt-table{border:1px solid #e7e9ee;background-color:#fff;color:#333847}.form-view--table .ReactTable .rt-tbody{min-height:72px}.form-view--table .ReactTable .rt-tbody,.form-view--table .ReactTable .rt-thead{overflow-x:hidden}.form-view--table .ReactTable .rt-thead{background:#f3f4f6}.form-view--table .ReactTable .rt-thead .column-header-wrapper{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-end;height:100%}.form-view--table .ReactTable .rt-thead .column-header-title{font-weight:600;line-height:20px}.form-view--table .ReactTable .rt-thead .column-header-title .k-icon{font-size:20px;color:#7a839f;vertical-align:top;margin-right:3px}.form-view--table .ReactTable .rt-thead.-header{box-shadow:none;overflow-x:visible}.form-view--table .ReactTable .rt-thead.-header .rt-sub-actions{overflow:visible;position:relative}.form-view--table .ReactTable .rt-thead.-header .rt-sub-actions .table-header-results{line-height:15px;padding-top:1px;text-align:left}.form-view--table .ReactTable .rt-thead.-filters{overflow-x:visible;border-bottom:1px solid #e7e9ee;border-bottom-width:2px}.form-view--table .ReactTable .rt-thead.-filters .rt-th,.form-view--table .ReactTable .rt-thead.-filters .rt-td{border-right:1px solid #e7e9ee;white-space:initial;text-overflow:initial;overflow:initial}.form-view--table .ReactTable .rt-thead.-filters .rt-sub-actions .table-bulk-checkbox{position:absolute;top:0;left:0;height:36px}.form-view--table .ReactTable .rt-thead.-filters .rt-sub-actions .table-bulk-checkbox .popover-menu{margin-top:10px}.form-view--table .ReactTable .rt-thead.-filters .rt-sub-actions .table-bulk-checkbox .popover-menu .popover-menu__toggle::after{content:\\\"\\\\25BC\\\";font-size:16px;display:inline-block;vertical-align:1px;padding:0 5px 0 35px}.form-view--table .ReactTable .rt-thead.-filters .rt-sub-actions .table-bulk-checkbox .popover-menu .popover-menu__content{left:5px}.form-view--table .ReactTable .rt-thead.-filters .table-filter-input{width:100%;border:0;background:#fff;border-radius:3px;height:28px;min-height:28px;vertical-align:top;display:inline-block;font-size:12px}.form-view--table .ReactTable .rt-thead.-filters .table-filter-input::-moz-placeholder{color:#7a839f}.form-view--table .ReactTable .rt-thead.-filters .table-filter-input:-ms-input-placeholder{color:#7a839f}.form-view--table .ReactTable .rt-thead.-filters .table-filter-input::placeholder{color:#7a839f}.form-view--table .ReactTable .rt-thead.-filters select{margin-top:2px;margin-right:2px}.form-view--table .ReactTable .rt-thead .rt-tr{align-items:center}.form-view--table .ReactTable .rt-thead .rt-th.-sort-desc,.form-view--table .ReactTable .rt-thead .rt-td.-sort-desc,.form-view--table .ReactTable .rt-thead .rt-th.-sort-asc,.form-view--table .ReactTable .rt-thead .rt-td.-sort-asc{box-shadow:inset 0 3px 0 0 #22b0c3}.form-view--table .ReactTable .rt-thead .rt-th.rt-resizable-header:last-child{overflow:visible}.form-view--table .ReactTable .rt-thead .rt-th.rt-resizable-header:last-child .rt-resizer{width:5px;right:0}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content{overflow:visible;text-overflow:inherit;height:26px}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-title,.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-hxl-tags{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.form-view--table .ReactTable .rt-thead .rt-resizable-header-content .column-header-hxl-tags{font-size:12px;color:#565e76}.form-view--table .ReactTable .rt-tbody .rt-tr-group:last-child{border-bottom:1px solid #e7e9ee}.form-view--table .ReactTable .rt-tr{align-items:stretch;justify-content:stretch}.form-view--table .ReactTable .rt-tr-group{max-height:36px;border-bottom:1px solid #e7e9ee;box-sizing:content-box}.form-view--table .ReactTable .rt-tbody .rt-th,.form-view--table .ReactTable .rt-tbody .rt-td,.form-view--table .ReactTable .rt-thead .rt-th,.form-view--table .ReactTable .rt-thead .rt-td{padding:5px 8px;border-right:1px solid #e7e9ee;line-height:26px;height:36px}.form-view--table .ReactTable .rt-td .trimmed-text,.form-view--table .ReactTable .rt-th .trimmed-text{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.form-view--table .ReactTable .rt-thead.-filters .rt-th.rt-status{line-height:inherit;overflow:visible}.form-view--table .ReactTable .rt-td.rt-status{overflow:visible}.form-view--table .ReactTable .table-submission-actions{display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.form-view--table .ReactTable .table-submission-actions .checkbox{margin-right:7px}.form-view--table .ReactTable .table-submission-actions .checkbox__input,.form-view--table .ReactTable .table-submission-actions .rt-thead.-filters input.checkbox__input,.form-view--table .ReactTable .rt-thead.-filters .table-submission-actions input.checkbox__input{display:block}.form-view--table .ReactTable .table-submission-actions .table-link{cursor:pointer;min-height:28px;background:transparent;border:0;padding:0;color:#7a839f}.form-view--table .ReactTable .table-submission-actions .table-link:hover{color:#259af4}.form-view--table .ReactTable .table-submission-actions .table-link .k-icon{font-size:22px;margin:0 3px;vertical-align:middle}.form-view--table .ReactTable .-pagination{box-shadow:none;border-top:none;padding:0}.form-view--table .ReactTable .-pagination .-center{flex:2}.form-view--table .ReactTable .-pagination .-btn{color:#259af4;font-size:12px;line-height:14px;font-weight:700;text-transform:uppercase;background:transparent}.form-view--table .ReactTable .-pagination .-btn[disabled]{pointer-events:none}.form-view--table .ReactTable .-pagination .-btn .k-icon{vertical-align:top}.form-view--table .ReactTable .-pagination .-btn:hover{color:#0b81da;background:transparent}.form-view--table .ReactTable .-pagination .-btn:active{transform:translateY(1px)}.form-view--table .ReactTable .-pagination .-pageJump{margin-left:10px;margin-right:10px}.form-view--table .ReactTable .-pagination .-pageJump input{-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-view--table .ReactTable .-pagination select{cursor:pointer}.form-view--table .ReactTable .-pagination input,.form-view--table .ReactTable .-pagination select{border:1px solid #e7e9ee;background:#fff;height:32px;padding:5px 7px;font-size:13px;border-radius:6px;font-weight:700}.form-view--table .ReactTable .pagination-bottom{margin-top:5px;margin-bottom:20px}.form-view--table .ReactTable .-loading{background:#f3f4f6}.form-view--table .ReactTable .-loading .-loading-inner{display:block;text-align:center;font-size:18px;opacity:.8;color:#565e76}.form-view--table .ReactTable .-loading .-loading-inner i{margin-right:12px;vertical-align:middle;font-size:24px}.form-view--table .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover{background:#f9f9fb}.form-view--table .ReactTable.-highlight .rt-tbody .rt-tr:not(.-padRow):hover .rt-td.is-frozen{background-color:inherit}.form-view--table .ReactTable .rt-th:hover.is-frozen,.form-view--table .ReactTable .rt-td:hover.is-frozen{z-index:20}.form-view--table .ReactTable .rt-th:focus-within.is-frozen,.form-view--table .ReactTable .rt-td:focus-within.is-frozen{z-index:21}.form-view--table .ReactTable .rt-th.is-frozen,.form-view--table .ReactTable .rt-td.is-frozen{z-index:10;position:relative;left:0;overflow:visible !important}.form-view--table .ReactTable .rt-th.is-frozen.is-last-frozen::after,.form-view--table .ReactTable .rt-td.is-frozen.is-last-frozen::after{content:\\\"\\\";position:absolute;left:calc(100% + 2px);top:0;width:8px;height:100%;pointer-events:none;background-image:linear-gradient(to right, rgba(0, 0, 0, 0.04), transparent);opacity:0;transition-property:opacity;transition-duration:.5s;transition-delay:.1s;transition-timing-function:ease-in}.form-view--table .ReactTable .rt-th.is-frozen.is-last-frozen.is-scrolled-horizontally::after,.form-view--table .ReactTable .rt-td.is-frozen.is-last-frozen.is-scrolled-horizontally::after{opacity:1;transition-timing-function:ease-out}.form-view--table .ReactTable .rt-th.is-frozen{background-color:#f3f4f6}.form-view--table .ReactTable .rt-td.is-frozen{background-color:#fff}.form-view--table .ReactTable .rt-th.is-frozen.is-last-frozen,.form-view--table .ReactTable .rt-td.is-frozen.is-last-frozen{order:-1;height:36px;border-right:1px solid #e7e9ee;border-right-width:2px !important}.form-view--table .ReactTable .rt-th.is-sorted{background-color:#e3eff2}.form-view--table .ReactTable .rt-td.is-sorted{background-color:#f7fcfd}.form-view--table .ReactTable .rt-th.rt-sub-actions,.form-view--table .ReactTable .rt-td.rt-sub-actions{order:-2}.form-view--table .ReactTable.has-hxl-tags-visible .rt-thead.-header .rt-th{height:72px}@media screen and (max-width: 767px){.form-view--table{padding:0px 20px}.form-view--table .ReactTable .pagination-bottom{margin-bottom:10px}}.table-meta{flex-grow:1;min-height:30px;display:flex;flex-direction:row;align-items:center}.table-meta .bulk-clear-badge-icon{margin-right:-5px;cursor:pointer;padding:0 5px;border-radius:50%;color:#333847}.table-meta .bulk-clear-badge-icon:hover{color:#fff;background-color:#e84a5f}.table-meta .table-meta__bulk-options>*:not(:first-child){margin-left:10px}.table-meta .table-meta__counter{display:inline;white-space:nowrap}@media screen and (max-width: 1100px){.table-meta .table-meta__additional-text{display:none}}.table-meta__bulk-options{display:flex;flex-direction:row;align-items:center}.table-meta__bulk-options .popover-menu .popover-menu__toggle{height:auto}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../../node_modules/sass-loader/dist/cjs.js!./mediaCell.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".media-cell{text-align:center}.media-cell .icon-wrapper .icon-wrapper__icon{font-size:24px;color:#9ed2fa;border-radius:4px;padding:2px;margin-right:4px;cursor:pointer}.media-cell .icon-wrapper .icon-wrapper__icon:hover{color:#259af4;background-color:#e7e9ee}.media-cell .media-cell__duration{vertical-align:top}.media-cell--text{display:flex;text-align:left;word-break:break-word}.media-cell--text .icon-wrapper .icon-wrapper__icon{font-size:12px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./map.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}#data-map{height:100%;width:100%}.form-view--map{position:relative}.form-view--map .loading{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;background:rgba(255,255,255,.8)}.form-view--map .form-view__map-button{position:absolute;right:12px;top:65px;padding:2px 4px 0 4px;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:6px;background:#fff;z-index:700;cursor:pointer;color:#565e76}.form-view--map .form-view__map-button--heatmap{top:118px;z-index:699}.form-view--map .form-view__map-button--layers{top:12px;right:65px;z-index:701}.form-view--map .form-view__map-button--expand{top:12px;z-index:701}.form-view--map .form-view__map-button--map-settings{top:12px;z-index:699;right:120px}.form-view--map .form-view__map-button.active,.form-view--map .form-view__map-button:hover{color:#333847}.form-view--map .form-view__map-button:active{transform:translateY(1px)}.form-view--map .form-view__map-button i{font-size:36px;line-height:1em}.leaflet-top.leaflet-right{margin-right:56px}.leaflet-control-layers-toggle{display:none}.leaflet-control-layers-toggle.leaflet-control-layers-expanded{display:block}.leaflet-popup-content pre{font-family:\\\"Roboto\\\",sans-serif;white-space:pre-line;max-height:200px;overflow-x:auto}.popover-menu.popover-menu--viewby-menu{position:absolute;bottom:15px;left:15px;z-index:700}.popover-menu.popover-menu--viewby-menu .popover-menu__toggle{min-width:180px;background:#fff;max-width:340px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:6px;padding:12px;text-align:left;color:#565e76}.popover-menu.popover-menu--viewby-menu .popover-menu__content{right:auto;left:0px;min-width:180px;max-width:240px;overflow:auto;max-height:300px;border-radius:5px;box-shadow:0 0 5px 5px rgba(51,56,71,.15);bottom:calc(100% + 10px)}.popover-menu.popover-menu--viewby-menu .popover-menu__content .popover-menu__link.see-all{background:#f3f4f6;border-top:1px solid #e7e9ee}.popover-menu.popover-menu--viewby-menu .popover-menu__content .popover-menu__heading{padding-left:10px;padding-right:10px}body .leaflet-control-layers,.leaflet-touch .leaflet-control-layers{border:none;border-radius:6px !important;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;margin-right:12px;margin-top:12px}@media screen and (max-width: 767px){.popover-menu--viewby-menu{max-width:90%}.popover-menu--viewby-menu .popover-menu__toggle{max-width:90%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.form-view__map-list{position:absolute;bottom:70px;left:15px;z-index:689;height:250px;min-width:180px;max-width:300px;padding:5px;background:#fff;overflow:none;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:6px}.form-view__map-list .maplist-legend{padding:2px 8px;cursor:pointer}.form-view__map-list .maplist-legend .k-icon{font-size:21px;margin-right:8px;margin-left:3px;vertical-align:bottom;color:#259af4}.form-view__map-list .maplist-contents{display:block;margin-bottom:5px;height:calc(100% - 30px);overflow:auto}.form-view__map-list.collapsed{height:auto}.form-view__map-list.collapsed .maplist-contents{display:none}.form-view__map-list .map-marker-item{padding:4px 6px;position:relative}.form-view__map-list .map-marker-item::after{position:absolute;display:inline-block;width:8px;height:8px;border-radius:8px;right:6px;top:12px}.form-view__map-list .map-marker-item.selected{background:#f3f4f6}.form-view__map-list .map-marker-item.selected::after{content:\\\"\\\";background:#259af4}.form-view__map-list .map-marker-item.unselected{opacity:.6}.form-view__map-list .map-marker-item.unselected::after{content:\\\"\\\";background:#979fb4}.form-view__map-list .map-marker-item.unselected:hover{opacity:.9}.form-view__map-list .map-marker-item.map-marker-reset{text-align:right;font-size:12px;color:#259af4;opacity:.8;cursor:pointer}.form-view__map-list .map-marker-item.map-marker-reset:hover{opacity:1}.form-view__map-list span{vertical-align:middle;display:inline-block;font-size:13px}.form-view__map-list span.map-marker{margin-right:8px;text-align:center;line-height:22px;min-width:24px;max-width:48px;width:auto;height:24px;padding:0 3px;position:relative;text-shadow:0 0 1px #fff;color:#333847}.form-view__map-list span.map-marker::after{position:absolute;width:10px;content:\\\"\\\";height:22px;right:1px;top:1px;border-bottom-right-radius:12px;border-top-right-radius:12px;z-index:-1}.form-view__map-list span.map-marker-label{width:calc(100% - 56px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.form-view__map .loading{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.5);z-index:701}.map-settings .form-modal__item--layer-upload label{display:block;padding:10px 0 20px;position:relative;font-size:14px}.map-settings .form-modal__item--list-files{border:1px solid #e7e9ee;padding:10px;max-width:600px;margin-bottom:20px}.map-settings .form-modal__item--list-files .list-file-row{border-top:1px solid #e7e9ee;padding:5px}.map-settings .form-modal__item--list-files .list-file-row>span{display:inline-block;vertical-align:middle}.map-settings .form-modal__item--list-files .list-file-row .file-type{width:15%;text-transform:uppercase}.map-settings .form-modal__item--list-files .list-file-row .file-layer-name{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:80%;font-weight:600}.map-settings .form-modal__item--list-files .list-file-row .file-delete{width:5%;text-align:right;cursor:pointer}.map-settings .form-modal__item--list-files .list-file-row .file-delete i{font-size:24px;color:#e84a5f}.map-settings .form-modal__item--layer-upload{position:relative}.map-settings .form-modal__item--layer-upload input{width:calc(100% - 140px)}.map-settings .form-modal__item--layer-upload .dropzone{position:absolute !important;right:0;width:120px;bottom:0;text-align:right;min-height:30px}.map-settings__colors{text-align:center}.map-settings__colors .map-marker{display:inline-block;width:20px;height:20px}.map-settings__colors .form-modal__item--map-color-item{margin-bottom:0}.map-settings__GeoQuestions label{display:block;margin-bottom:10px}.map-settings__GeoQuestions label input{margin-right:8px}.change-limit-warning{color:red}.change-limit-slider{width:75%;display:inline-block;vertical-align:middle}.change-limit-slider-value{width:10%;margin-left:10px;display:inline-block;vertical-align:middle}@media screen and (max-width: 1265px){.change-limit-slider{width:60%}.change-limit-slider-value{width:30%}}.map-no-geopoint{text-align:center;font-weight:bold;color:#fff}.map-no-geopoint-wrapper{position:absolute;top:50%;transform:translateY(-50%);width:100%}.map-transparent-background{height:100%;position:absolute;width:100%;z-index:1001;background:rgba(100,100,100,.7)}.marker-cluster-small{background-color:rgba(253,187,132,.4)}.marker-cluster-small div{background-color:rgba(253,187,132,.5)}.marker-cluster-medium{background-color:rgba(252,141,89,.4)}.marker-cluster-medium div{background-color:rgba(252,141,89,.5)}.marker-cluster-large{background-color:rgba(239,101,72,.4)}.marker-cluster-large div{background-color:rgba(239,101,72,.5)}.marker-cluster{background-clip:padding-box;border-radius:50%}.marker-cluster div{font-size:12px;font-family:\\\"Roboto\\\",sans-serif;width:20px;height:20px;border-radius:50%;margin-left:5px;margin-top:5px;text-align:center;color:#333847}.marker-cluster span{line-height:20px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./map.marker-colors.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".map-marker[class*=map-marker-]{background:rgba(100,100,100,.8);border-color:rgba(255,255,255,.75)}.map-marker{border:1px solid #fff;border-radius:50%}.map-marker.unselected{visibility:hidden}.map-marker.default-overlay-marker{background:rgba(51,56,71,.7);border:none;border-radius:0}.map-marker.map-marker-a1,.map-marker.map-marker-a41,.map-marker.map-marker-a81,.map-marker.map-marker-a121,.map-marker.map-marker-a161{background:rgba(255,50,0,.5)}.map-marker.map-marker-a81{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a41{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a121{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a161{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a2,.map-marker.map-marker-a42,.map-marker.map-marker-a82,.map-marker.map-marker-a122,.map-marker.map-marker-a162{background:rgba(125,245,46,.5)}.map-marker.map-marker-a82{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a42{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a122{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a162{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a3,.map-marker.map-marker-a43,.map-marker.map-marker-a83,.map-marker.map-marker-a123,.map-marker.map-marker-a163{background:rgba(86,0,178,.5)}.map-marker.map-marker-a83{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a43{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a123{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a163{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a4,.map-marker.map-marker-a44,.map-marker.map-marker-a84,.map-marker.map-marker-a124,.map-marker.map-marker-a164{background:rgba(0,236,118,.5)}.map-marker.map-marker-a84{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a44{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a124{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a164{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a5,.map-marker.map-marker-a45,.map-marker.map-marker-a85,.map-marker.map-marker-a125,.map-marker.map-marker-a165{background:rgba(202,0,188,.5)}.map-marker.map-marker-a85{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a45{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a125{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a165{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a6,.map-marker.map-marker-a46,.map-marker.map-marker-a86,.map-marker.map-marker-a126,.map-marker.map-marker-a166{background:rgba(104,155,0,.5)}.map-marker.map-marker-a86{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a46{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a126{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a166{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a7,.map-marker.map-marker-a47,.map-marker.map-marker-a87,.map-marker.map-marker-a127,.map-marker.map-marker-a167{background:rgba(161,107,255,.5)}.map-marker.map-marker-a87{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a47{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a127{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a167{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a8,.map-marker.map-marker-a48,.map-marker.map-marker-a88,.map-marker.map-marker-a128,.map-marker.map-marker-a168{background:rgba(191,184,0,.5)}.map-marker.map-marker-a88{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a48{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a128{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a168{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a9,.map-marker.map-marker-a49,.map-marker.map-marker-a89,.map-marker.map-marker-a129,.map-marker.map-marker-a169{background:rgba(0,66,187,.5)}.map-marker.map-marker-a89{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a49{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a129{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a169{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a10,.map-marker.map-marker-a50,.map-marker.map-marker-a90,.map-marker.map-marker-a130,.map-marker.map-marker-a170{background:rgba(197,231,113,.5)}.map-marker.map-marker-a90{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a50{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a130{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a170{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a11,.map-marker.map-marker-a51,.map-marker.map-marker-a91,.map-marker.map-marker-a131,.map-marker.map-marker-a171{background:rgba(239,0,161,.5)}.map-marker.map-marker-a91{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a51{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a131{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a171{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a12,.map-marker.map-marker-a52,.map-marker.map-marker-a92,.map-marker.map-marker-a132,.map-marker.map-marker-a172{background:rgba(2,231,203,.5)}.map-marker.map-marker-a92{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a52{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a132{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a172{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a13,.map-marker.map-marker-a53,.map-marker.map-marker-a93,.map-marker.map-marker-a133,.map-marker.map-marker-a173{background:rgba(239,0,69,.5)}.map-marker.map-marker-a93{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a53{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a133{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a173{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a14,.map-marker.map-marker-a54,.map-marker.map-marker-a94,.map-marker.map-marker-a134,.map-marker.map-marker-a174{background:rgba(2,153,148,.5)}.map-marker.map-marker-a94{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a54{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a134{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a174{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a15,.map-marker.map-marker-a55,.map-marker.map-marker-a95,.map-marker.map-marker-a135,.map-marker.map-marker-a175{background:rgba(43,130,255,.5)}.map-marker.map-marker-a95{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a55{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a135{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a175{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a16,.map-marker.map-marker-a56,.map-marker.map-marker-a96,.map-marker.map-marker-a136,.map-marker.map-marker-a176{background:rgba(183,142,0,.5)}.map-marker.map-marker-a96{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a56{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a136{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a176{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a17,.map-marker.map-marker-a57,.map-marker.map-marker-a97,.map-marker.map-marker-a137,.map-marker.map-marker-a177{background:rgba(60,46,126,.5)}.map-marker.map-marker-a97{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a57{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a137{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a177{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a18,.map-marker.map-marker-a58,.map-marker.map-marker-a98,.map-marker.map-marker-a138,.map-marker.map-marker-a178{background:rgba(35,106,0,.5)}.map-marker.map-marker-a98{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a58{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a138{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a178{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a19,.map-marker.map-marker-a59,.map-marker.map-marker-a99,.map-marker.map-marker-a139,.map-marker.map-marker-a179{background:rgba(175,158,255,.4)}.map-marker.map-marker-a99{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a59{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a139{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a179{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a20,.map-marker.map-marker-a60,.map-marker.map-marker-a100,.map-marker.map-marker-a140,.map-marker.map-marker-a180{background:rgba(198,116,0,.5)}.map-marker.map-marker-a100{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a60{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a140{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a180{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a21,.map-marker.map-marker-a61,.map-marker.map-marker-a101,.map-marker.map-marker-a141,.map-marker.map-marker-a181{background:rgba(0,140,218,.5)}.map-marker.map-marker-a101{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a61{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a141{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a181{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a22,.map-marker.map-marker-a62,.map-marker.map-marker-a102,.map-marker.map-marker-a142,.map-marker.map-marker-a182{background:rgba(255,109,60,.5)}.map-marker.map-marker-a102{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a62{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a142{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a182{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a23,.map-marker.map-marker-a63,.map-marker.map-marker-a103,.map-marker.map-marker-a143,.map-marker.map-marker-a183{background:rgba(1,76,140,.5)}.map-marker.map-marker-a103{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a63{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a143{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a183{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a24,.map-marker.map-marker-a64,.map-marker.map-marker-a104,.map-marker.map-marker-a144,.map-marker.map-marker-a184{background:rgba(184,69,0,.5)}.map-marker.map-marker-a104{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a64{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a144{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a184{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a25,.map-marker.map-marker-a65,.map-marker.map-marker-a105,.map-marker.map-marker-a145,.map-marker.map-marker-a185{background:rgba(165,228,255,.5)}.map-marker.map-marker-a105{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a65{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a145{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a185{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a26,.map-marker.map-marker-a66,.map-marker.map-marker-a106,.map-marker.map-marker-a146,.map-marker.map-marker-a186{background:rgba(112,31,9,.5)}.map-marker.map-marker-a106{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a66{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a146{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a186{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a27,.map-marker.map-marker-a67,.map-marker.map-marker-a107,.map-marker.map-marker-a147,.map-marker.map-marker-a187{background:rgba(163,231,229,.5)}.map-marker.map-marker-a107{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a67{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a147{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a187{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a28,.map-marker.map-marker-a68,.map-marker.map-marker-a108,.map-marker.map-marker-a148,.map-marker.map-marker-a188{background:rgba(133,0,75,.5)}.map-marker.map-marker-a108{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a68{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a148{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a188{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a29,.map-marker.map-marker-a69,.map-marker.map-marker-a109,.map-marker.map-marker-a149,.map-marker.map-marker-a189{background:rgba(167,234,188,.5)}.map-marker.map-marker-a109{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a69{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a149{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a189{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a30,.map-marker.map-marker-a70,.map-marker.map-marker-a110,.map-marker.map-marker-a150,.map-marker.map-marker-a190{background:rgba(96,33,97,.5)}.map-marker.map-marker-a110{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a70{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a150{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a190{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a31,.map-marker.map-marker-a71,.map-marker.map-marker-a111,.map-marker.map-marker-a151,.map-marker.map-marker-a191{background:rgba(21,70,0,.5)}.map-marker.map-marker-a111{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a71{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a151{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a191{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a32,.map-marker.map-marker-a72,.map-marker.map-marker-a112,.map-marker.map-marker-a152,.map-marker.map-marker-a192{background:rgba(255,110,148,.5)}.map-marker.map-marker-a112{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a72{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a152{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a192{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a33,.map-marker.map-marker-a73,.map-marker.map-marker-a113,.map-marker.map-marker-a153,.map-marker.map-marker-a193{background:rgba(0,87,84,.5)}.map-marker.map-marker-a113{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a73{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a153{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a193{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a34,.map-marker.map-marker-a74,.map-marker.map-marker-a114,.map-marker.map-marker-a154,.map-marker.map-marker-a194{background:rgba(255,157,210,.5)}.map-marker.map-marker-a114{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a74{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a154{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a194{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a35,.map-marker.map-marker-a75,.map-marker.map-marker-a115,.map-marker.map-marker-a155,.map-marker.map-marker-a195{background:rgba(51,64,37,.5)}.map-marker.map-marker-a115{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a75{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a155{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a195{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a36,.map-marker.map-marker-a76,.map-marker.map-marker-a116,.map-marker.map-marker-a156,.map-marker.map-marker-a196{background:rgba(255,153,153,.5)}.map-marker.map-marker-a116{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a76{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a156{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a196{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a37,.map-marker.map-marker-a77,.map-marker.map-marker-a117,.map-marker.map-marker-a157,.map-marker.map-marker-a197{background:rgba(12,64,93,.5)}.map-marker.map-marker-a117{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a77{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a157{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a197{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a38,.map-marker.map-marker-a78,.map-marker.map-marker-a118,.map-marker.map-marker-a158,.map-marker.map-marker-a198{background:rgba(255,194,186,.5)}.map-marker.map-marker-a118{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a78{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a158{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a198{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a39,.map-marker.map-marker-a79,.map-marker.map-marker-a119,.map-marker.map-marker-a159,.map-marker.map-marker-a199{background:rgba(96,42,58,.5)}.map-marker.map-marker-a119{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a79{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a159{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a199{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a40,.map-marker.map-marker-a80,.map-marker.map-marker-a120,.map-marker.map-marker-a160,.map-marker.map-marker-a200{background:rgba(134,0,40,.5)}.map-marker.map-marker-a120{background-image:linear-gradient(90deg, rgba(255, 255, 255, 0.4) 50%, transparent 50%),linear-gradient(rgba(255, 255, 255, 0.4) 50%, transparent 50%);background-size:6px 6px;background-position:center center}.map-marker.map-marker-a80{background-image:repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a160{background-image:repeating-linear-gradient(-45deg, transparent, transparent 3px, rgba(255, 255, 255, 0.3) 3px, rgba(255, 255, 255, 0.3) 6px)}.map-marker.map-marker-a200{background-image:linear-gradient(90deg, rgba(51, 56, 71, 0.1) 50%, transparent 50%),linear-gradient(rgba(51, 56, 71, 0.1) 50%, transparent 50%);background-size:6px 6px}.map-marker.map-marker-a{background:rgba(255,50,0,.5)}.map-marker.map-marker-b1{background:#7f0000}.map-marker.map-marker-b2{background:#b30000}.map-marker.map-marker-b3{background:#d7301f}.map-marker.map-marker-b4{background:#ef6548}.map-marker.map-marker-b5{background:#fc8d59}.map-marker.map-marker-b6{background:#fdbb84}.map-marker.map-marker-b7{background:#fdd49e}.map-marker.map-marker-b8{background:#fee8c8}.map-marker.map-marker-b9{background:#fff7ec}.map-marker.map-marker-b{background:#7f0000}.map-marker.map-marker-c1{background:#084081}.map-marker.map-marker-c2{background:#0868ac}.map-marker.map-marker-c3{background:#2b8cbe}.map-marker.map-marker-c4{background:#4eb3d3}.map-marker.map-marker-c5{background:#7bccc4}.map-marker.map-marker-c6{background:#a8ddb5}.map-marker.map-marker-c7{background:#ccebc5}.map-marker.map-marker-c8{background:#e0f3db}.map-marker.map-marker-c9{background:#f7fcf0}.map-marker.map-marker-c{background:#084081}.map-marker.map-marker-d1{background:#4d9221}.map-marker.map-marker-d2{background:#7fbc41}.map-marker.map-marker-d3{background:#b8e186}.map-marker.map-marker-d4{background:#e6f5d0}.map-marker.map-marker-d5{background:#f7f7f7}.map-marker.map-marker-d6{background:#fde0ef}.map-marker.map-marker-d7{background:#f1b6da}.map-marker.map-marker-d8{background:#de77ae}.map-marker.map-marker-d9{background:#c51b7d}.map-marker.map-marker-d{background:#4d9221}.map-marker.map-marker-e1{background:#2166ac}.map-marker.map-marker-e2{background:#4393c3}.map-marker.map-marker-e3{background:#92c5de}.map-marker.map-marker-e4{background:#d1e5f0}.map-marker.map-marker-e5{background:#f7f7f7}.map-marker.map-marker-e6{background:#fddbc7}.map-marker.map-marker-e7{background:#f4a582}.map-marker.map-marker-e8{background:#d6604d}.map-marker.map-marker-e9{background:#b2182b}.map-marker.map-marker-e{background:#2166ac}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./RESTServices.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button,.rest-services .rest-services-list__header-back-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip],.rest-services [data-tip].rest-services-list__header-back-button{overflow:visible}.mdl-button::-moz-focus-inner,.rest-services .rest-services-list__header-back-button::-moz-focus-inner{border:0}.mdl-button:hover,.rest-services .rest-services-list__header-back-button:hover{color:#333847}.mdl-button.mdl-button--colored,.rest-services .mdl-button--colored.rest-services-list__header-back-button{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover,.rest-services .mdl-button--colored.rest-services-list__header-back-button:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red,.rest-services .mdl-button--colored.mdl-button--red.rest-services-list__header-back-button{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover,.rest-services .mdl-button--colored.mdl-button--red.rest-services-list__header-back-button:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange,.rest-services .mdl-button--colored.mdl-button--orange.rest-services-list__header-back-button{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover,.rest-services .mdl-button--colored.mdl-button--orange.rest-services-list__header-back-button:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green,.rest-services .mdl-button--colored.mdl-button--green.rest-services-list__header-back-button{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover,.rest-services .mdl-button--colored.mdl-button--green.rest-services-list__header-back-button:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray,.rest-services .mdl-button--colored.mdl-button--gray.rest-services-list__header-back-button{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover,.rest-services .mdl-button--colored.mdl-button--gray.rest-services-list__header-back-button:hover{color:#404659}input.mdl-button[type=submit],.rest-services input[type=submit].rest-services-list__header-back-button{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon,.rest-services .rest-services-list__header-back-button{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i,.rest-services .rest-services-list__header-back-button i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.rest-services [disabled][disabled].rest-services-list__header-back-button,.mdl-button.mdl-button--disabled.mdl-button--disabled,.rest-services .mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.rest-services .mdl-button--raised[disabled][disabled].rest-services-list__header-back-button,.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled,.rest-services .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.rest-services .mdl-button--colored[disabled][disabled].rest-services-list__header-back-button,.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled,.rest-services .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.rest-services-list__header-back-button{color:#565e76}@media screen and (max-width: 767px){.mdl-button,.rest-services .rest-services-list__header-back-button{padding:0 12px}}.rest-services{display:flex;flex-direction:column}.rest-services.rest-services--empty{align-items:center;justify-items:center}.rest-services .form-view__cell--rest-services-list{flex:1}.rest-services>button{display:block;align-self:flex-end;margin-top:30px}.rest-services .rest-services-list__header::after{content:\\\"\\\";display:table;clear:both}.rest-services .rest-services-list__header-label{display:inline-block;font-size:inherit;font-weight:600}.rest-services .rest-services-list__header-label.rest-services-list__header-label--big{display:block;font-size:1.5em}.rest-services .rest-services-list__header-label,.rest-services .rest-services-list__header-help-link{margin:0;line-height:20px;padding:10px 0;min-height:36px}.rest-services .rest-services-list__header-label i,.rest-services .rest-services-list__header-help-link i{font-size:18px;vertical-align:top;display:inline-block;margin:0 3px}.rest-services .rest-services-list__header-right{float:right}.rest-services .rest-services-list__header-back-button i{vertical-align:middle}.form-modal__item.form-modal__item--rest-custom-wrapper textarea{font-family:\\\"Roboto Mono\\\",monospace}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./accountSettings.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing{padding:0}.mdl-cell{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid{padding:8px}.mdl-cell{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip]{overflow:visible}.mdl-button::-moz-focus-inner{border:0}.mdl-button:hover{color:#333847}.mdl-button.mdl-button--colored{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover{color:#404659}input.mdl-button[type=submit]{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover{background-color:#4b5268;color:#fff}.mdl-button--icon{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],.mdl-button.mdl-button--disabled.mdl-button--disabled{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled{color:#565e76}@media screen and (max-width: 767px){.mdl-button{padding:0 12px}}.account-settings{width:100%;height:100%;background:#fff;overflow-y:auto;position:relative}.account-settings .kobo-select{font-size:15px}.account-settings .form-modal__item--column{width:100%;height:100%;margin:0 auto;padding:30px 20px}.account-settings .form-modal__item--column .form-modal__item--fields{height:calc(100% - 20px);padding-right:40px;overflow:auto}.account-settings .form-modal__item--column .form-modal__item--fields>*:last-child{margin-bottom:20px}.account-settings .form-modal__item--column .form-modal__item--api-token input{font-family:\\\"Roboto Mono\\\",monospace;width:50%}.account-settings .form-modal__item--column .form-modal__item--username{min-height:32px}.account-settings .form-modal__item--column .form-modal__item--username .account-box__initials{display:inline-block;vertical-align:middle;margin-right:15px}.account-settings .form-modal__item--column .form-modal__item--username h4{display:inline-block;vertical-align:middle;font-size:16px}.account-settings .account-settings__actions{position:absolute;top:26px;right:0}.account-settings .account-settings__actions .account-settings-close{padding:0 12px}.account-settings .account-settings-link{font-size:.85em}.account-settings h4{margin:0;font-weight:400;color:#333847}.account-settings .account-settings__desc{color:#565e76}.account-settings .form-modal__item--primary-sector{width:46%;margin-right:2%;float:left}.account-settings .form-modal__item--gender{width:52%;float:left}.account-settings .form-modal__item--bio{clear:both}.account-settings .form-modal__item--city{width:46%;margin-right:2%;float:left}.account-settings .form-modal__item--city .text-box__input{margin-top:8px}.account-settings .form-modal__item--country{width:52%;float:left}.account-settings .form-modal__item--social{clear:both}.account-settings .form-modal__item--social label{position:relative}.account-settings .form-modal__item--social label i{position:absolute;font-size:24px;top:10px;left:4px}.account-settings .form-modal__item--social label input{margin-top:8px;padding-left:40px;max-width:400px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./passwordStrength.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".password-strength{width:100%;font-size:.9em}.password-strength__title,.password-strength__bar{margin-bottom:10px}.password-strength__bar{width:100%;height:5px;position:relative;box-shadow:inset 0 0 0 1px #979fb4}.password-strength__bar .password-strength__indicator{background:blue;position:absolute;top:0;left:0;height:100%;transition:.25s}.password-strength__bar.password-strength__bar--score-0 .password-strength__indicator{width:1%;background-color:#e84a5f}.password-strength__bar.password-strength__bar--score-1 .password-strength__indicator{width:25%;background-color:#e84a5f}.password-strength__bar.password-strength__bar--score-2 .password-strength__indicator{width:50%;background-color:#e6801a}.password-strength__bar.password-strength__bar--score-3 .password-strength__indicator{width:75%;background-color:#28bd70}.password-strength__bar.password-strength__bar--score-4 .password-strength__indicator{width:100%;background-color:#259af4}.password-strength__message.password-strength__message--warning{color:#e84a5f}\", \"\"]);\n\n// exports\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../../node_modules/sass-loader/dist/cjs.js!./accessDenied.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".access-denied{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.access-denied__body{max-width:600px}.access-denied__header{font-size:24px;text-align:center}.access-denied__header .k-icon{margin-right:5px;vertical-align:-5px;font-size:28px;display:inline-block}.access-denied__text{margin-top:20px}.access-denied__text code{margin-left:5px}\", \"\"]);\n\n// exports\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/dist/cjs.js??ref--9-2!../../node_modules/sass-loader/dist/cjs.js!./main.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var escape = require(\"../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../node_modules/css-loader/index.js!select2/select2.css\"), \"\");\nexports.i(require(\"-!../../node_modules/css-loader/index.js!react-table/react-table.css\"), \"\");\nexports.i(require(\"-!../../node_modules/css-loader/index.js!alertifyjs/build/css/alertify.css\"), \"\");\n\n// module\nexports.push([module.id, \".mdl-layout{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;position:relative;-webkit-overflow-scrolling:touch}.mdl-layout__container{position:absolute;width:100%;height:100%}.mdl-layout__title,.mdl-layout-title{display:block;position:relative;font-weight:400;box-sizing:border-box}.mdl-layout-spacer{flex-grow:1}.mdl-layout__header{display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:flex-start;box-sizing:border-box;flex-shrink:0;width:100%;margin:0;padding:0;border:none}.mdl-layout__header-row{display:flex;flex-direction:row;flex-wrap:nowrap;flex-shrink:0;box-sizing:border-box;align-self:stretch;align-items:center}.mdl-layout__header-row>*{flex-shrink:0}.mdl-layout__header--scroll .mdl-layout__header-row{width:100%}.mdl-layout__content{-ms-flex:0 1 auto;position:relative;display:inline-block;overflow-y:auto;overflow-x:hidden;flex-grow:1;-webkit-overflow-scrolling:touch}.mdl-grid,.ui-panel__body{display:flex;flex-flow:row wrap;margin:0 auto 0 auto;align-items:stretch}.mdl-grid.mdl-grid--no-spacing,.ui-panel__body{padding:0}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{box-sizing:border-box}.mdl-cell--top{align-self:flex-start}.mdl-cell--middle{align-self:center}.mdl-cell--bottom{align-self:flex-end}.mdl-cell--stretch{align-self:stretch}.mdl-grid.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{margin:0}.mdl-cell--order-1{order:1}.mdl-cell--order-2{order:2}.mdl-cell--order-3{order:3}.mdl-cell--order-4{order:4}.mdl-cell--order-5{order:5}.mdl-cell--order-6{order:6}.mdl-cell--order-7{order:7}.mdl-cell--order-8{order:8}.mdl-cell--order-9{order:9}.mdl-cell--order-10{order:10}.mdl-cell--order-11{order:11}.mdl-cell--order-12{order:12}@media(max-width: 479px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{margin:8px;width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{width:100%}.mdl-cell--hide-phone{display:none !important}.mdl-cell--order-1-phone.mdl-cell--order-1-phone{order:1}.mdl-cell--order-2-phone.mdl-cell--order-2-phone{order:2}.mdl-cell--order-3-phone.mdl-cell--order-3-phone{order:3}.mdl-cell--order-4-phone.mdl-cell--order-4-phone{order:4}.mdl-cell--order-5-phone.mdl-cell--order-5-phone{order:5}.mdl-cell--order-6-phone.mdl-cell--order-6-phone{order:6}.mdl-cell--order-7-phone.mdl-cell--order-7-phone{order:7}.mdl-cell--order-8-phone.mdl-cell--order-8-phone{order:8}.mdl-cell--order-9-phone.mdl-cell--order-9-phone{order:9}.mdl-cell--order-10-phone.mdl-cell--order-10-phone{order:10}.mdl-cell--order-11-phone.mdl-cell--order-11-phone{order:11}.mdl-cell--order-12-phone.mdl-cell--order-12-phone{order:12}.mdl-cell--1-col,.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-phone.mdl-cell--1-col-phone,.ui-panel__body>.mdl-cell--1-col-phone.mdl-cell--1-col-phone{width:25%}.mdl-cell--2-col,.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-phone.mdl-cell--2-col-phone,.ui-panel__body>.mdl-cell--2-col-phone.mdl-cell--2-col-phone{width:50%}.mdl-cell--3-col,.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-phone.mdl-cell--3-col-phone,.ui-panel__body>.mdl-cell--3-col-phone.mdl-cell--3-col-phone{width:75%}.mdl-cell--4-col,.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-phone.mdl-cell--4-col-phone,.ui-panel__body>.mdl-cell--4-col-phone.mdl-cell--4-col-phone{width:100%}.mdl-cell--5-col,.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-phone.mdl-cell--5-col-phone,.ui-panel__body>.mdl-cell--5-col-phone.mdl-cell--5-col-phone{width:100%}.mdl-cell--6-col,.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-phone.mdl-cell--6-col-phone,.ui-panel__body>.mdl-cell--6-col-phone.mdl-cell--6-col-phone{width:100%}.mdl-cell--7-col,.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-phone.mdl-cell--7-col-phone,.ui-panel__body>.mdl-cell--7-col-phone.mdl-cell--7-col-phone{width:100%}.mdl-cell--8-col,.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-phone.mdl-cell--8-col-phone,.ui-panel__body>.mdl-cell--8-col-phone.mdl-cell--8-col-phone{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-phone.mdl-cell--9-col-phone,.ui-panel__body>.mdl-cell--9-col-phone.mdl-cell--9-col-phone{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-phone.mdl-cell--10-col-phone,.ui-panel__body>.mdl-cell--10-col-phone.mdl-cell--10-col-phone{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-phone.mdl-cell--11-col-phone,.ui-panel__body>.mdl-cell--11-col-phone.mdl-cell--11-col-phone{width:100%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-grid--no-spacing>.mdl-cell--12-col-phone.mdl-cell--12-col-phone,.ui-panel__body>.mdl-cell--12-col-phone.mdl-cell--12-col-phone{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone,.ui-panel__body>.mdl-cell--1-offset-phone.mdl-cell--1-offset-phone{margin-left:25%}.mdl-cell--2-offset,.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone,.ui-panel__body>.mdl-cell--2-offset-phone.mdl-cell--2-offset-phone{margin-left:50%}.mdl-cell--3-offset,.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone,.ui-panel__body>.mdl-cell--3-offset-phone.mdl-cell--3-offset-phone{margin-left:75%}}@media(min-width: 480px)and (max-width: 839px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{margin:8px;width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{width:50%}.mdl-cell--hide-tablet{display:none !important}.mdl-cell--order-1-tablet.mdl-cell--order-1-tablet{order:1}.mdl-cell--order-2-tablet.mdl-cell--order-2-tablet{order:2}.mdl-cell--order-3-tablet.mdl-cell--order-3-tablet{order:3}.mdl-cell--order-4-tablet.mdl-cell--order-4-tablet{order:4}.mdl-cell--order-5-tablet.mdl-cell--order-5-tablet{order:5}.mdl-cell--order-6-tablet.mdl-cell--order-6-tablet{order:6}.mdl-cell--order-7-tablet.mdl-cell--order-7-tablet{order:7}.mdl-cell--order-8-tablet.mdl-cell--order-8-tablet{order:8}.mdl-cell--order-9-tablet.mdl-cell--order-9-tablet{order:9}.mdl-cell--order-10-tablet.mdl-cell--order-10-tablet{order:10}.mdl-cell--order-11-tablet.mdl-cell--order-11-tablet{order:11}.mdl-cell--order-12-tablet.mdl-cell--order-12-tablet{order:12}.mdl-cell--1-col,.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:calc(12.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet,.ui-panel__body>.mdl-cell--1-col-tablet.mdl-cell--1-col-tablet{width:12.5%}.mdl-cell--2-col,.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet,.ui-panel__body>.mdl-cell--2-col-tablet.mdl-cell--2-col-tablet{width:25%}.mdl-cell--3-col,.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:calc(37.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet,.ui-panel__body>.mdl-cell--3-col-tablet.mdl-cell--3-col-tablet{width:37.5%}.mdl-cell--4-col,.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet,.ui-panel__body>.mdl-cell--4-col-tablet.mdl-cell--4-col-tablet{width:50%}.mdl-cell--5-col,.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:calc(62.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet,.ui-panel__body>.mdl-cell--5-col-tablet.mdl-cell--5-col-tablet{width:62.5%}.mdl-cell--6-col,.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet,.ui-panel__body>.mdl-cell--6-col-tablet.mdl-cell--6-col-tablet{width:75%}.mdl-cell--7-col,.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:calc(87.5% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet,.ui-panel__body>.mdl-cell--7-col-tablet.mdl-cell--7-col-tablet{width:87.5%}.mdl-cell--8-col,.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet,.ui-panel__body>.mdl-cell--8-col-tablet.mdl-cell--8-col-tablet{width:100%}.mdl-cell--9-col,.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet,.ui-panel__body>.mdl-cell--9-col-tablet.mdl-cell--9-col-tablet{width:100%}.mdl-cell--10-col,.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet,.ui-panel__body>.mdl-cell--10-col-tablet.mdl-cell--10-col-tablet{width:100%}.mdl-cell--11-col,.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet,.ui-panel__body>.mdl-cell--11-col-tablet.mdl-cell--11-col-tablet{width:100%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-grid--no-spacing>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet,.ui-panel__body>.mdl-cell--12-col-tablet.mdl-cell--12-col-tablet{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:calc(12.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet,.ui-panel__body>.mdl-cell--1-offset-tablet.mdl-cell--1-offset-tablet{margin-left:12.5%}.mdl-cell--2-offset,.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet,.ui-panel__body>.mdl-cell--2-offset-tablet.mdl-cell--2-offset-tablet{margin-left:25%}.mdl-cell--3-offset,.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:calc(37.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet,.ui-panel__body>.mdl-cell--3-offset-tablet.mdl-cell--3-offset-tablet{margin-left:37.5%}.mdl-cell--4-offset,.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.ui-panel__body>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet,.ui-panel__body>.mdl-cell--4-offset-tablet.mdl-cell--4-offset-tablet{margin-left:50%}.mdl-cell--5-offset,.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:calc(62.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.ui-panel__body>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet,.ui-panel__body>.mdl-cell--5-offset-tablet.mdl-cell--5-offset-tablet{margin-left:62.5%}.mdl-cell--6-offset,.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.ui-panel__body>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet,.ui-panel__body>.mdl-cell--6-offset-tablet.mdl-cell--6-offset-tablet{margin-left:75%}.mdl-cell--7-offset,.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:calc(87.5% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.ui-panel__body>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet,.ui-panel__body>.mdl-cell--7-offset-tablet.mdl-cell--7-offset-tablet{margin-left:87.5%}}@media(min-width: 840px){.mdl-grid,.ui-panel__body{padding:8px}.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{margin:8px;width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell,.ui-panel__body>.mdl-cell,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{width:33.3333333333%}.mdl-cell--hide-desktop{display:none !important}.mdl-cell--order-1-desktop.mdl-cell--order-1-desktop{order:1}.mdl-cell--order-2-desktop.mdl-cell--order-2-desktop{order:2}.mdl-cell--order-3-desktop.mdl-cell--order-3-desktop{order:3}.mdl-cell--order-4-desktop.mdl-cell--order-4-desktop{order:4}.mdl-cell--order-5-desktop.mdl-cell--order-5-desktop{order:5}.mdl-cell--order-6-desktop.mdl-cell--order-6-desktop{order:6}.mdl-cell--order-7-desktop.mdl-cell--order-7-desktop{order:7}.mdl-cell--order-8-desktop.mdl-cell--order-8-desktop{order:8}.mdl-cell--order-9-desktop.mdl-cell--order-9-desktop{order:9}.mdl-cell--order-10-desktop.mdl-cell--order-10-desktop{order:10}.mdl-cell--order-11-desktop.mdl-cell--order-11-desktop{order:11}.mdl-cell--order-12-desktop.mdl-cell--order-12-desktop{order:12}.mdl-cell--1-col,.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:calc(8.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--1-col,.ui-panel__body>.mdl-cell--1-col,.mdl-grid--no-spacing>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop,.ui-panel__body>.mdl-cell--1-col-desktop.mdl-cell--1-col-desktop{width:8.3333333333%}.mdl-cell--2-col,.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:calc(16.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--2-col,.ui-panel__body>.mdl-cell--2-col,.mdl-grid--no-spacing>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop,.ui-panel__body>.mdl-cell--2-col-desktop.mdl-cell--2-col-desktop{width:16.6666666667%}.mdl-cell--3-col,.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:calc(25% - 16px)}.mdl-grid--no-spacing>.mdl-cell--3-col,.ui-panel__body>.mdl-cell--3-col,.mdl-grid--no-spacing>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop,.ui-panel__body>.mdl-cell--3-col-desktop.mdl-cell--3-col-desktop{width:25%}.mdl-cell--4-col,.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:calc(33.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--4-col,.ui-panel__body>.mdl-cell--4-col,.mdl-grid--no-spacing>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop,.ui-panel__body>.mdl-cell--4-col-desktop.mdl-cell--4-col-desktop{width:33.3333333333%}.mdl-cell--5-col,.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:calc(41.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--5-col,.ui-panel__body>.mdl-cell--5-col,.mdl-grid--no-spacing>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop,.ui-panel__body>.mdl-cell--5-col-desktop.mdl-cell--5-col-desktop{width:41.6666666667%}.mdl-cell--6-col,.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:calc(50% - 16px)}.mdl-grid--no-spacing>.mdl-cell--6-col,.ui-panel__body>.mdl-cell--6-col,.mdl-grid--no-spacing>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop,.ui-panel__body>.mdl-cell--6-col-desktop.mdl-cell--6-col-desktop{width:50%}.mdl-cell--7-col,.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:calc(58.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--7-col,.ui-panel__body>.mdl-cell--7-col,.mdl-grid--no-spacing>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop,.ui-panel__body>.mdl-cell--7-col-desktop.mdl-cell--7-col-desktop{width:58.3333333333%}.mdl-cell--8-col,.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:calc(66.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--8-col,.ui-panel__body>.mdl-cell--8-col,.mdl-grid--no-spacing>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop,.ui-panel__body>.mdl-cell--8-col-desktop.mdl-cell--8-col-desktop{width:66.6666666667%}.mdl-cell--9-col,.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:calc(75% - 16px)}.mdl-grid--no-spacing>.mdl-cell--9-col,.ui-panel__body>.mdl-cell--9-col,.mdl-grid--no-spacing>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop,.ui-panel__body>.mdl-cell--9-col-desktop.mdl-cell--9-col-desktop{width:75%}.mdl-cell--10-col,.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:calc(83.3333333333% - 16px)}.mdl-grid--no-spacing>.mdl-cell--10-col,.ui-panel__body>.mdl-cell--10-col,.mdl-grid--no-spacing>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop,.ui-panel__body>.mdl-cell--10-col-desktop.mdl-cell--10-col-desktop{width:83.3333333333%}.mdl-cell--11-col,.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:calc(91.6666666667% - 16px)}.mdl-grid--no-spacing>.mdl-cell--11-col,.ui-panel__body>.mdl-cell--11-col,.mdl-grid--no-spacing>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop,.ui-panel__body>.mdl-cell--11-col-desktop.mdl-cell--11-col-desktop{width:91.6666666667%}.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:calc(100% - 16px)}.mdl-grid--no-spacing>.mdl-cell--12-col,.ui-panel__body>.mdl-cell--12-col,.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder,.mdl-grid--no-spacing>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop,.ui-panel__body>.mdl-cell--12-col-desktop.mdl-cell--12-col-desktop{width:100%}.mdl-cell--1-offset,.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:calc(8.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset,.ui-panel__body>.mdl-cell--1-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop,.ui-panel__body>.mdl-cell--1-offset-desktop.mdl-cell--1-offset-desktop{margin-left:8.3333333333%}.mdl-cell--2-offset,.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:calc(16.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset,.ui-panel__body>.mdl-cell--2-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop,.ui-panel__body>.mdl-cell--2-offset-desktop.mdl-cell--2-offset-desktop{margin-left:16.6666666667%}.mdl-cell--3-offset,.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:calc(25% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset,.ui-panel__body>.mdl-cell--3-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop,.ui-panel__body>.mdl-cell--3-offset-desktop.mdl-cell--3-offset-desktop{margin-left:25%}.mdl-cell--4-offset,.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:calc(33.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset,.ui-panel__body>.mdl-cell--4-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop,.ui-panel__body>.mdl-cell--4-offset-desktop.mdl-cell--4-offset-desktop{margin-left:33.3333333333%}.mdl-cell--5-offset,.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:calc(41.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset,.ui-panel__body>.mdl-cell--5-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop,.ui-panel__body>.mdl-cell--5-offset-desktop.mdl-cell--5-offset-desktop{margin-left:41.6666666667%}.mdl-cell--6-offset,.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:calc(50% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset,.ui-panel__body>.mdl-cell--6-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop,.ui-panel__body>.mdl-cell--6-offset-desktop.mdl-cell--6-offset-desktop{margin-left:50%}.mdl-cell--7-offset,.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:calc(58.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset,.ui-panel__body>.mdl-cell--7-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop,.ui-panel__body>.mdl-cell--7-offset-desktop.mdl-cell--7-offset-desktop{margin-left:58.3333333333%}.mdl-cell--8-offset,.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:calc(66.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset,.ui-panel__body>.mdl-cell--8-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop,.ui-panel__body>.mdl-cell--8-offset-desktop.mdl-cell--8-offset-desktop{margin-left:66.6666666667%}.mdl-cell--9-offset,.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:calc(75% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset,.ui-panel__body>.mdl-cell--9-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop,.ui-panel__body>.mdl-cell--9-offset-desktop.mdl-cell--9-offset-desktop{margin-left:75%}.mdl-cell--10-offset,.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:calc(83.3333333333% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset,.ui-panel__body>.mdl-cell--10-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop,.ui-panel__body>.mdl-cell--10-offset-desktop.mdl-cell--10-offset-desktop{margin-left:83.3333333333%}.mdl-cell--11-offset,.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:calc(91.6666666667% + 8px)}.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset,.ui-panel__body>.mdl-cell--11-offset,.mdl-grid.mdl-grid--no-spacing>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop,.ui-panel__body>.mdl-cell--11-offset-desktop.mdl-cell--11-offset-desktop{margin-left:91.6666666667%}}.mdl-button,.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button,.form-builder-header__button,.form-builder-header__close,.form-wrap .error-message__link,.popover-menu--custom-reports .popover-menu__toggle,.popover-menu--new-menu .popover-menu__toggle{text-decoration:none;text-align:center;font-weight:normal;font-size:14px;letter-spacing:0;height:40px;min-height:40px;line-height:40px;padding:0 24px;margin:0;border:none;border-radius:6px;vertical-align:middle;background:transparent;position:relative;display:inline-block;overflow:hidden;outline:none;cursor:pointer;color:#565e76}.mdl-button[data-tip],[data-tip].form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button[data-tip],[data-tip].form-builder-header__button,[data-tip].form-builder-header__close,.form-wrap [data-tip].error-message__link,.popover-menu--custom-reports [data-tip].popover-menu__toggle,.popover-menu--new-menu [data-tip].popover-menu__toggle{overflow:visible}.mdl-button::-moz-focus-inner,.form-view__icon-button::-moz-focus-inner,.cascade-popup .cascade-popup__buttonWrapper button::-moz-focus-inner,.form-builder-header__button::-moz-focus-inner,.form-builder-header__close::-moz-focus-inner,.form-wrap .error-message__link::-moz-focus-inner,.popover-menu--custom-reports .popover-menu__toggle::-moz-focus-inner,.popover-menu--new-menu .popover-menu__toggle::-moz-focus-inner{border:0}.mdl-button:hover,.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.form-builder-header__button:hover,.form-builder-header__close:hover,.form-wrap .error-message__link:hover,.popover-menu--custom-reports .popover-menu__toggle:hover,.popover-menu--new-menu .popover-menu__toggle:hover{color:#333847}.mdl-button.mdl-button--colored,.mdl-button--colored.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button,.mdl-button--colored.form-builder-header__button,.form-builder-header__button.form-builder-header__button--create,.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.form-builder-header__close,.form-wrap .mdl-button.error-message__link--raised,.form-wrap .error-message__link--raised.form-view__icon-button,.form-wrap .error-message__link--raised.form-builder-header__button,.form-wrap .error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.error-message__link,.form-wrap .error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .popover-menu__toggle{color:#259af4;text-transform:uppercase}.mdl-button.mdl-button--colored:hover,.mdl-button--colored.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.mdl-button--colored.form-builder-header__button:hover,.form-builder-header__button.form-builder-header__button--create:hover,.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.form-builder-header__close:hover,.form-wrap .mdl-button.error-message__link--raised:hover,.form-wrap .error-message__link--raised.form-view__icon-button:hover,.form-wrap .error-message__link--raised.form-builder-header__button:hover,.form-wrap .error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.error-message__link:hover,.form-wrap .error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .popover-menu__toggle:hover{color:#0b81da}.mdl-button.mdl-button--colored.mdl-button--red,.mdl-button--colored.mdl-button--red.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red,.mdl-button--colored.mdl-button--red.form-builder-header__button,.mdl-button--red.form-builder-header__button.form-builder-header__button--create,.mdl-button--red.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--red.form-builder-header__close,.form-wrap .mdl-button.mdl-button--red.error-message__link--raised,.form-wrap .mdl-button--red.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--red.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--red.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--red.error-message__link,.form-wrap .mdl-button--red.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--red.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--red.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--red.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle{color:#e84a5f}.mdl-button.mdl-button--colored.mdl-button--red:hover,.mdl-button--colored.mdl-button--red.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red:hover,.mdl-button--colored.mdl-button--red.form-builder-header__button:hover,.mdl-button--red.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--red.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.mdl-button--red.form-builder-header__close:hover,.form-wrap .mdl-button.mdl-button--red.error-message__link--raised:hover,.form-wrap .mdl-button--red.error-message__link--raised.form-view__icon-button:hover,.form-wrap .mdl-button--red.error-message__link--raised.form-builder-header__button:hover,.form-wrap .mdl-button--red.error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.mdl-button--red.error-message__link:hover,.form-wrap .mdl-button--red.error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--red.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--red.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--red.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle:hover{color:#e21d38}.mdl-button.mdl-button--colored.mdl-button--orange,.mdl-button--colored.mdl-button--orange.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange,.mdl-button--colored.mdl-button--orange.form-builder-header__button,.mdl-button--orange.form-builder-header__button.form-builder-header__button--create,.mdl-button--orange.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--orange.form-builder-header__close,.form-wrap .mdl-button.mdl-button--orange.error-message__link--raised,.form-wrap .mdl-button--orange.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--orange.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--orange.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--orange.error-message__link,.form-wrap .mdl-button--orange.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--orange.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--orange.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--orange.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle{color:#e6801a}.mdl-button.mdl-button--colored.mdl-button--orange:hover,.mdl-button--colored.mdl-button--orange.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange:hover,.mdl-button--colored.mdl-button--orange.form-builder-header__button:hover,.mdl-button--orange.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--orange.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.mdl-button--orange.form-builder-header__close:hover,.form-wrap .mdl-button.mdl-button--orange.error-message__link--raised:hover,.form-wrap .mdl-button--orange.error-message__link--raised.form-view__icon-button:hover,.form-wrap .mdl-button--orange.error-message__link--raised.form-builder-header__button:hover,.form-wrap .mdl-button--orange.error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.mdl-button--orange.error-message__link:hover,.form-wrap .mdl-button--orange.error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--orange.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--orange.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--orange.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle:hover{color:#b86614}.mdl-button.mdl-button--colored.mdl-button--green,.mdl-button--colored.mdl-button--green.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green,.mdl-button--colored.mdl-button--green.form-builder-header__button,.mdl-button--green.form-builder-header__button.form-builder-header__button--create,.mdl-button--green.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--green.form-builder-header__close,.form-wrap .mdl-button.mdl-button--green.error-message__link--raised,.form-wrap .mdl-button--green.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--green.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--green.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--green.error-message__link,.form-wrap .mdl-button--green.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--green.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--green.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--green.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle{color:#28bd70}.mdl-button.mdl-button--colored.mdl-button--green:hover,.mdl-button--colored.mdl-button--green.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green:hover,.mdl-button--colored.mdl-button--green.form-builder-header__button:hover,.mdl-button--green.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--green.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.mdl-button--green.form-builder-header__close:hover,.form-wrap .mdl-button.mdl-button--green.error-message__link--raised:hover,.form-wrap .mdl-button--green.error-message__link--raised.form-view__icon-button:hover,.form-wrap .mdl-button--green.error-message__link--raised.form-builder-header__button:hover,.form-wrap .mdl-button--green.error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.mdl-button--green.error-message__link:hover,.form-wrap .mdl-button--green.error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--green.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--green.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--green.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle:hover{color:#1f9357}.mdl-button.mdl-button--colored.mdl-button--gray,.mdl-button--colored.mdl-button--gray.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray,.mdl-button--colored.mdl-button--gray.form-builder-header__button,.mdl-button--gray.form-builder-header__button.form-builder-header__button--create,.mdl-button--gray.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--gray.form-builder-header__close,.form-wrap .mdl-button.mdl-button--gray.error-message__link--raised,.form-wrap .mdl-button--gray.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--gray.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--gray.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--gray.error-message__link,.form-wrap .mdl-button--gray.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--gray.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--gray.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--gray.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle{color:#565e76}.mdl-button.mdl-button--colored.mdl-button--gray:hover,.mdl-button--colored.mdl-button--gray.form-view__icon-button:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray:hover,.mdl-button--colored.mdl-button--gray.form-builder-header__button:hover,.mdl-button--gray.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--gray.form-builder-header__button.form-builder-header__button--save:hover,.mdl-button--colored.mdl-button--gray.form-builder-header__close:hover,.form-wrap .mdl-button.mdl-button--gray.error-message__link--raised:hover,.form-wrap .mdl-button--gray.error-message__link--raised.form-view__icon-button:hover,.form-wrap .mdl-button--gray.error-message__link--raised.form-builder-header__button:hover,.form-wrap .mdl-button--gray.error-message__link--raised.form-builder-header__close:hover,.form-wrap .mdl-button--colored.mdl-button--gray.error-message__link:hover,.form-wrap .mdl-button--gray.error-message__link.error-message__link--raised:hover,.popover-menu--custom-reports .mdl-button--colored.mdl-button--gray.popover-menu__toggle:hover,.popover-menu--custom-reports .form-wrap .mdl-button--gray.popover-menu__toggle.error-message__link--raised:hover,.form-wrap .popover-menu--custom-reports .mdl-button--gray.popover-menu__toggle.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle:hover{color:#404659}input.mdl-button[type=submit],input[type=submit].form-view__icon-button,input[type=submit].form-builder-header__button,input[type=submit].form-builder-header__close,.form-wrap input[type=submit].error-message__link,.popover-menu--custom-reports input[type=submit].popover-menu__toggle,.popover-menu--new-menu input[type=submit].popover-menu__toggle{-webkit-appearance:none}.mdl-button--small{height:30px;min-height:30px;line-height:30px;padding:0 12px}.mdl-button--fullwidth{width:100%}.mdl-button--raised,.cascade-popup .cascade-popup__buttonWrapper button,.form-builder-header__button.form-builder-header__button--create,.form-builder-header__button.form-builder-header__button--save,.form-wrap .error-message__link--raised,.popover-menu--new-menu .popover-menu__toggle{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;background:#259af4;border-radius:6px;text-transform:uppercase;font-weight:600}.mdl-button--raised:active,.cascade-popup .cascade-popup__buttonWrapper button:active,.form-builder-header__button.form-builder-header__button--create:active,.form-builder-header__button.form-builder-header__button--save:active,.form-wrap .error-message__link--raised:active,.popover-menu--new-menu .popover-menu__toggle:active{transform:translateY(1px)}.mdl-button--raised.mdl-button--colored,.cascade-popup .cascade-popup__buttonWrapper button,.form-builder-header__button.form-builder-header__button--create,.form-builder-header__button.form-builder-header__button--save,.form-wrap .error-message__link--raised,.popover-menu--new-menu .popover-menu__toggle{background-color:#259af4;color:#fff}.mdl-button--raised.mdl-button--colored:hover,.cascade-popup .cascade-popup__buttonWrapper button:hover,.form-builder-header__button.form-builder-header__button--create:hover,.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .error-message__link--raised:hover,.popover-menu--new-menu .popover-menu__toggle:hover{background-color:#0d8ff2;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red,.mdl-button--red.form-builder-header__button.form-builder-header__button--create,.mdl-button--red.form-builder-header__button.form-builder-header__button--save,.form-wrap .mdl-button--red.error-message__link--raised,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle{background-color:#e84a5f;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--red:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--red:hover,.mdl-button--red.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--red.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .mdl-button--red.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--red.popover-menu__toggle:hover{background-color:#e5344b;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange,.mdl-button--orange.form-builder-header__button.form-builder-header__button--create,.mdl-button--orange.form-builder-header__button.form-builder-header__button--save,.form-wrap .mdl-button--orange.error-message__link--raised,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle{background-color:#e6801a;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--orange:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--orange:hover,.mdl-button--orange.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--orange.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .mdl-button--orange.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--orange.popover-menu__toggle:hover{background-color:#cf7317;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green,.mdl-button--green.form-builder-header__button.form-builder-header__button--create,.mdl-button--green.form-builder-header__button.form-builder-header__button--save,.form-wrap .mdl-button--green.error-message__link--raised,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle{background-color:#28bd70;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--green:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--green:hover,.mdl-button--green.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--green.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .mdl-button--green.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--green.popover-menu__toggle:hover{background-color:#24a864;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray,.mdl-button--gray.form-builder-header__button.form-builder-header__button--create,.mdl-button--gray.form-builder-header__button.form-builder-header__button--save,.form-wrap .mdl-button--gray.error-message__link--raised,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle{background-color:#565e76;color:#fff}.mdl-button--raised.mdl-button--colored.mdl-button--gray:hover,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--gray:hover,.mdl-button--gray.form-builder-header__button.form-builder-header__button--create:hover,.mdl-button--gray.form-builder-header__button.form-builder-header__button--save:hover,.form-wrap .mdl-button--gray.error-message__link--raised:hover,.popover-menu--new-menu .mdl-button--gray.popover-menu__toggle:hover{background-color:#4b5268;color:#fff}.mdl-button--icon,.form-view__icon-button,.form-builder-header__close{margin-left:0;margin-right:0;padding:0;overflow:hidden}.mdl-button--icon i,.form-view__icon-button i,.form-builder-header__close i{font-size:24px}.mdl-button--tab{color:#fff;opacity:.7;border-radius:0;border-bottom:2px solid transparent;text-transform:uppercase;height:50px;line-height:50px;padding:0 32px}.mdl-button--tab:hover{opacity:1;color:#fff}.mdl-button--tab.active{opacity:1;border-bottom:2px solid #fff}.mdl-button[disabled][disabled],[disabled][disabled].form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],[disabled][disabled].form-builder-header__button,[disabled][disabled].form-builder-header__close,.form-wrap [disabled][disabled].error-message__link,.popover-menu--custom-reports [disabled][disabled].popover-menu__toggle,.popover-menu--new-menu [disabled][disabled].popover-menu__toggle,.mdl-button.mdl-button--disabled.mdl-button--disabled,.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button,.mdl-button--disabled.mdl-button--disabled.form-builder-header__close,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link,.popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle{color:#565e76;cursor:default;background-color:transparent;pointer-events:none}.mdl-button.mdl-button--raised[disabled][disabled],.mdl-button--raised[disabled][disabled].form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],.mdl-button--raised[disabled][disabled].form-builder-header__button,[disabled][disabled].form-builder-header__button.form-builder-header__button--create,[disabled][disabled].form-builder-header__button.form-builder-header__button--save,.mdl-button--raised[disabled][disabled].form-builder-header__close,.form-wrap .mdl-button[disabled][disabled].error-message__link--raised,.form-wrap [disabled][disabled].error-message__link--raised.form-view__icon-button,.form-wrap [disabled][disabled].error-message__link--raised.form-builder-header__button,.form-wrap [disabled][disabled].error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--raised[disabled][disabled].error-message__link,.form-wrap [disabled][disabled].error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--raised[disabled][disabled].popover-menu__toggle,.popover-menu--custom-reports .form-wrap [disabled][disabled].popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports [disabled][disabled].popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu [disabled][disabled].popover-menu__toggle,.mdl-button.mdl-button--raised.mdl-button--disabled.mdl-button--disabled,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.form-builder-header__button,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button.form-builder-header__button--create,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button.form-builder-header__button--save,.mdl-button--raised.mdl-button--disabled.mdl-button--disabled.form-builder-header__close,.form-wrap .mdl-button.mdl-button--disabled.mdl-button--disabled.error-message__link--raised,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.error-message__link,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--raised.mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle{background-color:#e7e9ee;color:#565e76;box-shadow:none}.mdl-button.mdl-button--colored[disabled][disabled],.mdl-button--colored[disabled][disabled].form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button[disabled][disabled],.mdl-button--colored[disabled][disabled].form-builder-header__button,[disabled][disabled].form-builder-header__button.form-builder-header__button--create,[disabled][disabled].form-builder-header__button.form-builder-header__button--save,.mdl-button--colored[disabled][disabled].form-builder-header__close,.form-wrap .mdl-button[disabled][disabled].error-message__link--raised,.form-wrap [disabled][disabled].error-message__link--raised.form-view__icon-button,.form-wrap [disabled][disabled].error-message__link--raised.form-builder-header__button,.form-wrap [disabled][disabled].error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored[disabled][disabled].error-message__link,.form-wrap [disabled][disabled].error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored[disabled][disabled].popover-menu__toggle,.popover-menu--custom-reports .form-wrap [disabled][disabled].popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports [disabled][disabled].popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu [disabled][disabled].popover-menu__toggle,.mdl-button.mdl-button--colored.mdl-button--disabled.mdl-button--disabled,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button.mdl-button--disabled.mdl-button--disabled,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.form-builder-header__button,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button.form-builder-header__button--create,.mdl-button--disabled.mdl-button--disabled.form-builder-header__button.form-builder-header__button--save,.mdl-button--colored.mdl-button--disabled.mdl-button--disabled.form-builder-header__close,.form-wrap .mdl-button.mdl-button--disabled.mdl-button--disabled.error-message__link--raised,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-view__icon-button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-builder-header__button,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link--raised.form-builder-header__close,.form-wrap .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.error-message__link,.form-wrap .mdl-button--disabled.mdl-button--disabled.error-message__link.error-message__link--raised,.popover-menu--custom-reports .mdl-button--colored.mdl-button--disabled.mdl-button--disabled.popover-menu__toggle,.popover-menu--custom-reports .form-wrap .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.form-wrap .popover-menu--custom-reports .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle.error-message__link--raised,.popover-menu--new-menu .mdl-button--disabled.mdl-button--disabled.popover-menu__toggle{color:#565e76}@media screen and (max-width: 767px){.mdl-button,.form-view__icon-button,.cascade-popup .cascade-popup__buttonWrapper button,.form-builder-header__button,.form-builder-header__close,.form-wrap .error-message__link,.popover-menu--custom-reports .popover-menu__toggle,.popover-menu--new-menu .popover-menu__toggle{padding:0 12px}}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto Thin\\\"),local(\\\"Roboto-Thin\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-100-normal.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-100-normal.woff\")) + \") format(\\\"woff\\\");font-weight:100;font-style:normal}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto Light\\\"),local(\\\"Roboto-Light\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-300-normal.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-300-normal.woff\")) + \") format(\\\"woff\\\");font-weight:300;font-style:normal}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto LightItalic\\\"),local(\\\"Roboto-LightItalic\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-300-italic.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-300-italic.woff\")) + \") format(\\\"woff\\\");font-weight:300;font-style:italic}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto Regular\\\"),local(\\\"Roboto-Regular\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-400-normal.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-400-normal.woff\")) + \") format(\\\"woff\\\");font-weight:400;font-style:normal}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto RegularItalic\\\"),local(\\\"Roboto-RegularItalic\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-400-italic.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-400-italic.woff\")) + \") format(\\\"woff\\\");font-weight:400;font-style:italic}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto Medium\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-500-normal.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-500-normal.woff\")) + \") format(\\\"woff\\\");font-weight:500;font-style:normal}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto MediumItalic\\\"),local(\\\"Roboto-MediumItalic\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-500-italic.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-500-italic.woff\")) + \") format(\\\"woff\\\");font-weight:500;font-style:italic}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto Bold\\\"),local(\\\"Roboto-Bold\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-700-normal.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-700-normal.woff\")) + \") format(\\\"woff\\\");font-weight:700;font-style:normal}@font-face{font-family:\\\"Roboto\\\";src:local(\\\"Roboto BoldItalic\\\"),local(\\\"Roboto-BoldItalic\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-700-italic.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-latin-ext-700-italic.woff\")) + \") format(\\\"woff\\\");font-weight:700;font-style:italic}@font-face{font-family:\\\"Roboto Mono\\\";src:local(\\\"Roboto Mono\\\"),local(\\\"Roboto-Mono\\\"),url(\" + escape(require(\"../fonts/roboto-mono-latin-ext-400-normal.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-mono-latin-ext-400-normal.woff\")) + \") format(\\\"woff\\\");font-weight:400;font-style:normal}@font-face{font-family:\\\"Roboto Mono Bold\\\";src:local(\\\"Roboto Mono Bold\\\"),local(\\\"Roboto-Mono-Bold\\\"),url(\" + escape(require(\"../fonts/roboto-mono-latin-ext-700-normal.woff2\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/roboto-mono-latin-ext-700-normal.woff\")) + \") format(\\\"woff\\\");font-weight:700;font-style:normal}@font-face{font-family:\\\"k-icons\\\";src:url(\" + escape(require(\"../fonts/k-icons.1637612034176.woff2?5589f9e4dbbdf5205157cdf1f5fcdb70\")) + \") format(\\\"woff2\\\"),url(\" + escape(require(\"../fonts/k-icons.1637612034176.woff?5589f9e4dbbdf5205157cdf1f5fcdb70\")) + \") format(\\\"woff\\\"),url(\" + escape(require(\"../fonts/k-icons.1637612034176.ttf?5589f9e4dbbdf5205157cdf1f5fcdb70\")) + \") format(\\\"truetype\\\"),url(\" + escape(require(\"../fonts/k-icons.1637612034176.eot?5589f9e4dbbdf5205157cdf1f5fcdb70\")) + \"?#iefix) format(\\\"embedded-opentype\\\"),url(\" + escape(require(\"../fonts/k-icons.1637612034176.svg?5589f9e4dbbdf5205157cdf1f5fcdb70\")) + \"#k-icons) format(\\\"svg\\\");font-weight:normal;font-style:normal}.k-icon,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--create-pending>i,.react-tagsinput-remove,.alertify-notifier .ajs-message .ajs-close,[class^=k-icon-]{font-family:\\\"k-icons\\\";font-style:normal;font-weight:normal}.k-icon::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.form-builder-header__button.form-builder-header__button--savepending>i::before,.form-builder-header__button.form-builder-header__button--create-pending>i::before,.react-tagsinput-remove::before,.alertify-notifier .ajs-message .ajs-close::before,[class^=k-icon-]::before,[class*=\\\" k-icon-\\\"]::before{font-family:\\\"k-icons\\\" !important;font-style:normal;font-weight:normal;speak:none;display:inline-block;text-decoration:inherit;width:1em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.k-icon-alert::before{content:\\\"\\\\F101\\\"}.k-icon-archived::before{content:\\\"\\\\F102\\\"}.k-icon-arrow-down-left::before{content:\\\"\\\\F103\\\"}.k-icon-arrow-down-right::before{content:\\\"\\\\F104\\\"}.k-icon-arrow-down::before{content:\\\"\\\\F105\\\"}.k-icon-arrow-left::before{content:\\\"\\\\F106\\\"}.k-icon-arrow-right::before{content:\\\"\\\\F107\\\"}.k-icon-arrow-up-left::before{content:\\\"\\\\F108\\\"}.k-icon-arrow-up-right::before{content:\\\"\\\\F109\\\"}.k-icon-arrow-up::before{content:\\\"\\\\F10A\\\"}.k-icon-attach::before{content:\\\"\\\\F10B\\\"}.k-icon-background-rec::before{content:\\\"\\\\F10C\\\"}.k-icon-block::before{content:\\\"\\\\F10D\\\"}.k-icon-caret-down::before{content:\\\"\\\\F10E\\\"}.k-icon-caret-left::before{content:\\\"\\\\F10F\\\"}.k-icon-caret-right::before{content:\\\"\\\\F110\\\"}.k-icon-caret-up::before{content:\\\"\\\\F111\\\"}.k-icon-cascading::before{content:\\\"\\\\F112\\\"}.k-icon-check-circle::before{content:\\\"\\\\F113\\\"}.k-icon-check::before{content:\\\"\\\\F114\\\"}.k-icon-clone::before{content:\\\"\\\\F115\\\"}.k-icon-close::before,.react-tagsinput-remove::before,.alertify-notifier .ajs-message .ajs-close::before{content:\\\"\\\\F116\\\"}.k-icon-data-sync::before{content:\\\"\\\\F117\\\"}.k-icon-deploy::before{content:\\\"\\\\F118\\\"}.k-icon-down::before{content:\\\"\\\\F119\\\"}.k-icon-download::before{content:\\\"\\\\F11A\\\"}.k-icon-drafts::before{content:\\\"\\\\F11B\\\"}.k-icon-edit::before{content:\\\"\\\\F11C\\\"}.k-icon-email::before{content:\\\"\\\\F11D\\\"}.k-icon-expand-arrow::before{content:\\\"\\\\F11E\\\"}.k-icon-expand::before{content:\\\"\\\\F11F\\\"}.k-icon-file-audio::before{content:\\\"\\\\F120\\\"}.k-icon-file-image::before{content:\\\"\\\\F121\\\"}.k-icon-file-video::before{content:\\\"\\\\F122\\\"}.k-icon-file::before{content:\\\"\\\\F123\\\"}.k-icon-filter-arrows::before{content:\\\"\\\\F124\\\"}.k-icon-filter::before{content:\\\"\\\\F125\\\"}.k-icon-folder-in::before{content:\\\"\\\\F126\\\"}.k-icon-folder-out::before{content:\\\"\\\\F127\\\"}.k-icon-folder-plus::before{content:\\\"\\\\F128\\\"}.k-icon-folder-public::before{content:\\\"\\\\F129\\\"}.k-icon-folder-shared::before{content:\\\"\\\\F12A\\\"}.k-icon-folder-subscribed::before{content:\\\"\\\\F12B\\\"}.k-icon-folder::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before{content:\\\"\\\\F12C\\\"}.k-icon-form-archived::before{content:\\\"\\\\F12D\\\"}.k-icon-form-deployed::before{content:\\\"\\\\F12E\\\"}.k-icon-form-draft::before{content:\\\"\\\\F12F\\\"}.k-icon-form-locked::before{content:\\\"\\\\F130\\\"}.k-icon-form-overview::before{content:\\\"\\\\F131\\\"}.k-icon-form::before{content:\\\"\\\\F132\\\"}.k-icon-forum::before{content:\\\"\\\\F133\\\"}.k-icon-freeze::before{content:\\\"\\\\F134\\\"}.k-icon-globe-alt::before{content:\\\"\\\\F135\\\"}.k-icon-globe::before{content:\\\"\\\\F136\\\"}.k-icon-group-split::before{content:\\\"\\\\F137\\\"}.k-icon-group::before{content:\\\"\\\\F138\\\"}.k-icon-heatmap::before{content:\\\"\\\\F139\\\"}.k-icon-help-articles::before{content:\\\"\\\\F13A\\\"}.k-icon-help::before,.form-wrap .error-message__link--help i::before{content:\\\"\\\\F13B\\\"}.k-icon-hide::before{content:\\\"\\\\F13C\\\"}.k-icon-information::before{content:\\\"\\\\F13D\\\"}.k-icon-intercom::before{content:\\\"\\\\F13E\\\"}.k-icon-kobo::before{content:\\\"\\\\F13F\\\"}.k-icon-language-default::before{content:\\\"\\\\F140\\\"}.k-icon-language-settings::before{content:\\\"\\\\F141\\\"}.k-icon-language::before{content:\\\"\\\\F142\\\"}.k-icon-layer::before{content:\\\"\\\\F143\\\"}.k-icon-library-public::before{content:\\\"\\\\F144\\\"}.k-icon-library::before{content:\\\"\\\\F145\\\"}.k-icon-link::before{content:\\\"\\\\F146\\\"}.k-icon-lock-alt::before{content:\\\"\\\\F147\\\"}.k-icon-lock::before{content:\\\"\\\\F148\\\"}.k-icon-logo-github::before{content:\\\"\\\\F149\\\"}.k-icon-logo-instagram::before{content:\\\"\\\\F14A\\\"}.k-icon-logo-linkedin::before{content:\\\"\\\\F14B\\\"}.k-icon-logo-twitter::before{content:\\\"\\\\F14C\\\"}.k-icon-logout::before{content:\\\"\\\\F14D\\\"}.k-icon-map-view::before{content:\\\"\\\\F14E\\\"}.k-icon-media-files::before{content:\\\"\\\\F14F\\\"}.k-icon-menu::before{content:\\\"\\\\F150\\\"}.k-icon-minus::before{content:\\\"\\\\F151\\\"}.k-icon-more-vertical::before{content:\\\"\\\\F152\\\"}.k-icon-more::before{content:\\\"\\\\F153\\\"}.k-icon-next::before{content:\\\"\\\\F154\\\"}.k-icon-notification::before{content:\\\"\\\\F155\\\"}.k-icon-pause::before{content:\\\"\\\\F156\\\"}.k-icon-pdf::before{content:\\\"\\\\F157\\\"}.k-icon-photo-gallery::before{content:\\\"\\\\F158\\\"}.k-icon-pins::before{content:\\\"\\\\F159\\\"}.k-icon-plus::before{content:\\\"\\\\F15A\\\"}.k-icon-prev::before{content:\\\"\\\\F15B\\\"}.k-icon-print::before{content:\\\"\\\\F15C\\\"}.k-icon-projects::before{content:\\\"\\\\F15D\\\"}.k-icon-qt-acknowledge-lock::before{content:\\\"\\\\F15E\\\"}.k-icon-qt-acknowledge::before{content:\\\"\\\\F15F\\\"}.k-icon-qt-area-lock::before{content:\\\"\\\\F160\\\"}.k-icon-qt-area::before{content:\\\"\\\\F161\\\"}.k-icon-qt-audio-lock::before{content:\\\"\\\\F162\\\"}.k-icon-qt-audio::before{content:\\\"\\\\F163\\\"}.k-icon-qt-barcode-lock::before{content:\\\"\\\\F164\\\"}.k-icon-qt-barcode::before{content:\\\"\\\\F165\\\"}.k-icon-qt-calculate-lock::before{content:\\\"\\\\F166\\\"}.k-icon-qt-calculate::before{content:\\\"\\\\F167\\\"}.k-icon-qt-date-lock::before{content:\\\"\\\\F168\\\"}.k-icon-qt-date-time-lock::before{content:\\\"\\\\F169\\\"}.k-icon-qt-date-time::before{content:\\\"\\\\F16A\\\"}.k-icon-qt-date::before{content:\\\"\\\\F16B\\\"}.k-icon-qt-decimal-lock::before{content:\\\"\\\\F16C\\\"}.k-icon-qt-decimal::before{content:\\\"\\\\F16D\\\"}.k-icon-qt-external-xml-lock::before{content:\\\"\\\\F16E\\\"}.k-icon-qt-external-xml::before{content:\\\"\\\\F16F\\\"}.k-icon-qt-file-lock::before{content:\\\"\\\\F170\\\"}.k-icon-qt-file::before{content:\\\"\\\\F171\\\"}.k-icon-qt-hidden-lock::before{content:\\\"\\\\F172\\\"}.k-icon-qt-hidden::before{content:\\\"\\\\F173\\\"}.k-icon-qt-line-lock::before{content:\\\"\\\\F174\\\"}.k-icon-qt-line::before{content:\\\"\\\\F175\\\"}.k-icon-qt-meta-default::before{content:\\\"\\\\F176\\\"}.k-icon-qt-note-lock::before{content:\\\"\\\\F177\\\"}.k-icon-qt-note::before{content:\\\"\\\\F178\\\"}.k-icon-qt-number-lock::before{content:\\\"\\\\F179\\\"}.k-icon-qt-number::before{content:\\\"\\\\F17A\\\"}.k-icon-qt-photo-lock::before{content:\\\"\\\\F17B\\\"}.k-icon-qt-photo::before{content:\\\"\\\\F17C\\\"}.k-icon-qt-point-lock::before{content:\\\"\\\\F17D\\\"}.k-icon-qt-point::before{content:\\\"\\\\F17E\\\"}.k-icon-qt-question-matrix-lock::before{content:\\\"\\\\F17F\\\"}.k-icon-qt-question-matrix::before{content:\\\"\\\\F180\\\"}.k-icon-qt-range-lock::before{content:\\\"\\\\F181\\\"}.k-icon-qt-range::before{content:\\\"\\\\F182\\\"}.k-icon-qt-ranking-lock::before{content:\\\"\\\\F183\\\"}.k-icon-qt-ranking::before{content:\\\"\\\\F184\\\"}.k-icon-qt-rating-lock::before{content:\\\"\\\\F185\\\"}.k-icon-qt-rating::before{content:\\\"\\\\F186\\\"}.k-icon-qt-select-many-lock::before{content:\\\"\\\\F187\\\"}.k-icon-qt-select-many::before{content:\\\"\\\\F188\\\"}.k-icon-qt-select-one-lock::before{content:\\\"\\\\F189\\\"}.k-icon-qt-select-one::before{content:\\\"\\\\F18A\\\"}.k-icon-qt-text-lock::before{content:\\\"\\\\F18B\\\"}.k-icon-qt-text::before{content:\\\"\\\\F18C\\\"}.k-icon-qt-time-lock::before{content:\\\"\\\\F18D\\\"}.k-icon-qt-time::before{content:\\\"\\\\F18E\\\"}.k-icon-qt-video-lock::before{content:\\\"\\\\F18F\\\"}.k-icon-qt-video::before{content:\\\"\\\\F190\\\"}.k-icon-question::before{content:\\\"\\\\F191\\\"}.k-icon-replace::before{content:\\\"\\\\F192\\\"}.k-icon-report::before{content:\\\"\\\\F193\\\"}.k-icon-search::before{content:\\\"\\\\F194\\\"}.k-icon-settings::before{content:\\\"\\\\F195\\\"}.k-icon-sort-down::before{content:\\\"\\\\F196\\\"}.k-icon-sort-up::before{content:\\\"\\\\F197\\\"}.k-icon-spinner::before,.form-builder-header__button.form-builder-header__button--savepending>i::before,.form-builder-header__button.form-builder-header__button--create-pending>i::before{content:\\\"\\\\F198\\\"}.k-icon-subscribe::before{content:\\\"\\\\F199\\\"}.k-icon-table::before{content:\\\"\\\\F19A\\\"}.k-icon-tag::before{content:\\\"\\\\F19B\\\"}.k-icon-template-locked::before{content:\\\"\\\\F19C\\\"}.k-icon-template::before{content:\\\"\\\\F19D\\\"}.k-icon-trash::before{content:\\\"\\\\F19E\\\"}.k-icon-unfreeze::before{content:\\\"\\\\F19F\\\"}.k-icon-unsubscribe::before{content:\\\"\\\\F1A0\\\"}.k-icon-up::before{content:\\\"\\\\F1A1\\\"}.k-icon-upload::before{content:\\\"\\\\F1A2\\\"}.k-icon-user-share::before{content:\\\"\\\\F1A3\\\"}.k-icon-view-all::before{content:\\\"\\\\F1A4\\\"}.k-icon-view::before{content:\\\"\\\\F1A5\\\"}.k-icon-xls-file::before{content:\\\"\\\\F1A6\\\"}.k-icon-xml-file::before{content:\\\"\\\\F1A7\\\"}.alertify .ajs-dimmer{background-color:#fff;opacity:.55}.alertify .ajs-dialog{box-shadow:2px 2px 15px 2px rgba(51,56,71,.15)}.alertify .ajs-header{margin:0px;padding:0px;padding-bottom:18px;font-size:18px;font-weight:bold}.alertify.ajs-closable .ajs-commands button{width:32px;height:32px;padding:0px}.alertify.ajs-closable .ajs-commands button.ajs-close{background:transparent;font-size:24px;color:#565e76}.alertify.ajs-closable .ajs-commands button.ajs-close:hover{color:#333847}.alertify.ajs-closable .ajs-commands button.ajs-close:before{content:\\\"\\\\D7\\\"}.alertify.ajs-closable .ajs-commands{margin:0px;top:20px;right:20px;padding:0px}.alertify .ajs-body{min-height:20px}.alertify .ajs-body .ajs-content{padding:0px}.alertify .ajs-body .ajs-content pre{max-height:250px;overflow:auto;word-wrap:break-word;max-width:100%;padding-right:20px;white-space:initial;font-size:12px}.alertify .ajs-dialog{max-width:550px;padding:30px 30px 0 30px}.alertify .ajs-footer{margin:-4px;padding:17px 0px}.alertify .ajs-footer .ajs-buttons.ajs-primary{text-align:right}.alertify .ajs-footer button>span{pointer-events:none}.alertify .ajs-footer button.ajs-button-disabled{pointer-events:none;opacity:.5}@media screen and (max-height: 600px){.alertify .ajs-dialog{margin-top:4%;margin-bottom:4%}.alertify .ajs-body .ajs-content pre{max-height:150px;font-size:11px}}@media screen and (max-height: 475px){.alertify .ajs-dialog{margin-top:2%;margin-bottom:2%}.alertify .ajs-body .ajs-content pre{max-height:100px;font-size:10px}}.alertify-notifier .ajs-message,.alertify-notifier .ajs-message.ajs-error,.alertify-notifier .ajs-message.ajs-success,.alertify-notifier .ajs-message.ajs-warning{background:#333847;color:#fff;padding:17px 24px;padding-right:44px;width:auto;min-width:320px;max-width:460px;line-height:1.3em}.alertify-notifier .ajs-message.ajs-error{box-shadow:0 2px 0 0 #e84a5f inset}.alertify-notifier .ajs-message.ajs-success{box-shadow:0 2px 0 0 #28bd70 inset}.alertify-notifier .ajs-message.ajs-warning{box-shadow:0 2px 0 0 #e6801a inset}.alertify-notifier .ajs-message .ajs-close{background:transparent;background-image:none;right:15px;top:50%;margin-top:-10px;opacity:.5;color:#fff}.alertify-toggle{display:block;padding-bottom:5px;padding-top:5px}.alertify-toggle input{margin-right:5px}.alertify-toggle:first-child{padding-top:15px}.alertify-toggle.alertify-toggle-important{margin-top:20px;padding-top:20px;padding-bottom:20px;border-top:1px solid #e7e9ee;font-weight:bold}.kobo-select__wrapper.kobo-select__wrapper--error>label,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select-label,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select-error,.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select .kobo-select__placeholder{color:#e84a5f}.kobo-select__wrapper.kobo-select__wrapper--error .kobo-select .kobo-select__control{border-bottom-color:#e84a5f}.kobo-select-label{display:block;color:inherit;font-size:12px;line-height:16px;font-weight:400;opacity:.38}.kobo-select-label+.kobo-select{margin-top:10px}.kobo-select-error{font-size:12px}.kobo-select.kobo-select--is-disabled{pointer-events:none;opacity:.5}.kobo-select .kobo-select__control{box-shadow:none;border:none;border-radius:3px;color:#565e76;background-color:#fff;min-height:24px;font-size:12px;padding:0 8px;box-sizing:border-box;cursor:pointer}.kobo-select .kobo-select__control:hover{border-color:#e7e9ee}.kobo-select .kobo-select__control.kobo-select__control--is-focused{border-color:#259af4}.kobo-select .kobo-select__input input{transition:none !important}.kobo-select .kobo-select__placeholder{color:#565e76}.kobo-select .kobo-select__indicator-separator{display:none}.kobo-select .kobo-select__menu{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;border-radius:4px;z-index:2;margin-top:0;margin-bottom:0}.kobo-select .kobo-select__menu-list{padding-top:0;padding-bottom:0}.kobo-select .kobo-select__option{cursor:pointer}.kobo-select .kobo-select__option.kobo-select__option--is-selected{background-color:#fff;color:#259af4;font-weight:700}.kobo-select .kobo-select__option.kobo-select__option--is-focused{background-color:#f3f4f6}.react-tagsinput.react-tagsinput-invalid .react-tagsinput-input{color:#e84a5f;border-bottom-color:#e84a5f}.react-tagsinput.react-tagsinput-validating .react-tagsinput-input{color:#22b0c3;border-bottom-color:#22b0c3}.react-tagsinput-tag,.lib-list__tag{background-color:#565e76;color:#fff;font-weight:400;margin-bottom:4px;margin-right:4px;padding:4px 8px;padding-right:6px;display:inline-block;font-size:13px;border-radius:2px}.react-tagsinput-remove{cursor:pointer;color:#fff !important;opacity:.6;margin-left:3px;vertical-align:middle}.react-tagsinput-remove:hover{opacity:.9}.react-tagsinput-input{background:transparent;border:0 none;color:#565e76;font-family:sans-serif;font-size:13px;font-weight:400;margin-bottom:2px;margin-top:1px;outline:none;padding:5px;min-width:90px}.react-tags-save-button{float:left}.select2-search input{font-family:\\\"Roboto\\\",sans-serif;border-radius:0px}.select2-container-multi .select2-choices .select2-search-field input{font-family:\\\"Roboto\\\",sans-serif}.select2-container-multi .select2-choices .select2-search-choice{background-color:#3da5f5;background-image:none;border:none;border-radius:2px;box-shadow:none;color:#fff;cursor:default;line-height:13px;font-size:12px;padding:3px 5px 3px 18px}.select2-container-multi .select2-choices .select2-search-choice-focus{background:#3da5f5}.select2-search-choice-close{background:none !important;display:block;font-size:12px;height:12px;color:#fff;width:12px}.select2-search-choice-close:before{content:\\\"x\\\";opacity:.6}.question__tags{margin-top:-10px !important;padding-top:6px}.question__tags div.tagsinput{border:none;max-width:695px}div.tagsinput span.tag{background:#3da5f5;border:none;color:#fff;font-family:\\\"Roboto\\\",sans-serif;font-size:12px;margin:0px 4px;padding:0px 6px;padding-left:20px;text-decoration:none;border-radius:2px;font-weight:normal;position:relative}div.tagsinput input{border:none;color:#333847;font-family:\\\"Roboto\\\",sans-serif;font-size:12px;margin:0 5px;padding:5px;min-width:80px}div.tagsinput span.tag a{color:#3da5f5;font-size:1px;font-weight:normal;text-decoration:none;position:absolute;left:5px}div.tagsinput span.tag a:before{content:\\\"x\\\";opacity:.6;font-size:12px;color:#fff}ul.ui-autocomplete.ui-widget-content.ui-widget{max-width:680px !important;border:1px solid #e7e9ee}ul.ui-autocomplete.ui-widget-content.ui-widget li{padding:5px;background:#fff;font-size:12px}ul.ui-autocomplete.ui-widget-content.ui-widget li:hover{background:#259af4}ul.ui-autocomplete.ui-widget-content.ui-widget li:hover a{color:#fff !important;border:none !important;background:none !important;font-weight:normal !important}ul.ui-autocomplete.ui-widget-content.ui-widget li a{font-weight:normal;color:#333847}*{box-sizing:border-box}html{height:100%;color:#333847}body{height:100%;background:#fff;padding:0;margin:0}html,body,input,textarea,select,button{font-family:\\\"Roboto\\\",sans-serif;font-size:14px;font-weight:400;line-height:20px}a{color:#259af4;text-decoration:none}p{margin-bottom:16px}h3,h4,h5,h6{font-weight:400}ul{margin-top:0;margin-bottom:0;padding-left:0;list-style:none}hr{display:block;height:1px;border:0;border-top:1px solid #979fb4;margin:1em 0;padding:0}audio,canvas,img,video{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}:focus{outline:none}i{outline:none !important}.btn{box-shadow:none;margin-bottom:0;display:inline-block;font-weight:normal;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;border-radius:4px;color:#fff;background-color:#259af4;height:30px;line-height:30px;padding:0 20px;font-weight:400;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;position:relative}.btn:hover{background-color:#3da5f5;text-decoration:none}.btn:active,.btn .is-active{outline:0;background-image:none;box-shadow:none}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{pointer-events:none;cursor:not-allowed;opacity:.65}.btn--small{height:20px;padding-right:5px;padding-left:5px;font-size:12px;line-height:20px;border-radius:3px}.btn--block{display:block;width:100%}.btn--block+.btn--block{margin-top:5px}input[type=submit].btn--block,input[type=reset].btn--block,input[type=button].btn--block{width:100%}.btn--disabled{cursor:default;color:#e7e9ee;font-weight:normal}.or{width:30px;height:30px;margin:-36px auto 0;border-bottom:1px solid;border-radius:5em;position:relative;top:65px;display:block;font-weight:bold;font-size:14px;line-height:30px;text-align:center;text-transform:uppercase;color:#fff;background-color:#565e76}.or+hr{margin-top:50px;margin-bottom:40px}.editable{cursor:pointer}.select2-container .select2-choice{background-color:transparent;background-image:none;border:none;border-radius:0px;box-shadow:none;border-bottom:2px dotted #565e76;color:#333847;display:block;height:30px;line-height:30px;padding:0px 6px;font-size:13px;position:relative;text-decoration:none;white-space:nowrap;cursor:pointer}.select2-container .select2-choice:hover{color:#3da5f5}.select2-container .select2-choice>.select2-chosen{margin-right:0px}.select2-container .select2-choice .select2-arrow{display:none}.select2-dropdown-open.select2-drop-above .select2-choice,.select2-dropdown-open.select2-drop-above .select2-choices{background:none;border:none}.select2-drop-active{border:1px solid #e7e9ee;background:#fff;font-size:13px;box-shadow:none;border-radius:0px;margin-top:6px;min-width:140px !important}.select2-drop-active:before{content:\\\"\\\";position:absolute;left:25px;top:-6px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #e7e9ee}.select2-drop-active.select2-drop-above:before{display:none}.select2-drop-active .select2-results .select2-no-results{background:#fff}.select2-drop.select2-drop-above.select2-drop-active{border-top-color:#e7e9ee}.select2-results .select2-result-label{min-height:1.2em;padding:3px 7px 6px;line-height:1.1em}.content__message-loading{text-align:center;padding:10px 0px}.content__message-loading i{color:#259af4}.main{transition:padding-left 150ms;height:100%}.main>section.content{height:100%;padding-top:40px}.container,.survey-warnings{margin-right:auto;margin-left:auto;position:relative}.container.empty,.empty.survey-warnings{text-align:center;background:#fff;padding:20px}.container__wide{max-width:1024px;margin:0 auto;position:absolute;top:0;left:0;width:100%}.container__fixed{position:absolute;top:0;left:0;width:100%;z-index:4;height:10px;top:80px;width:100%}.content--centered{text-align:center}.registration__bg{background:url(\" + escape(require(\"../img/signup_photo.jpg\")) + \");background-size:cover;background-repeat:none;width:100%;min-height:100%;position:relative;color:#fff;padding:20px;padding-bottom:5px}.registration__bg form.language-switcher{margin:0 auto;position:relative;max-width:400px;text-align:right;margin-bottom:10px;margin-top:-5px}.registration__bg form.registration{margin:0 auto;position:relative;max-width:400px;background:rgba(51,56,71,.75);padding:20px 30px}.registration__bg form.registration a{color:#86c7f9}.registration__bg form.registration a:hover{color:#259af4}.registration__bg form.registration a.registration__forgot{float:right;margin-top:-12px;margin-bottom:12px}.registration__bg .registration--logo{margin-left:10%;margin-right:10%;text-align:center;margin-bottom:15px;max-width:100%}.registration__bg .registration--logo img{max-width:170px;height:auto}.registration__bg h1{font-weight:400;font-size:1.8em;line-height:1.2em;margin:.8em 0}.registration__bg input[type=text],.registration__bg input[type=password],.registration__bg input[type=email],.registration__bg select{color:#333847}.registration__bg p.help{clear:both;opacity:.7;font-size:12px;line-height:1.2em;margin-bottom:0px}.registration__row{margin-top:0;margin-bottom:16px}.registration input[type=text],.registration input[type=password],.registration input[type=submit],.registration input[type=email],.registration select{width:100%;display:block;padding:5px 8px;border:none;border-radius:0px;font-size:14px;border-bottom:3px solid transparent;padding-bottom:3px;margin-top:1px;opacity:.9}.registration input[type=text]:focus,.registration input[type=password]:focus,.registration input[type=submit]:focus,.registration input[type=email]:focus,.registration select:focus{border-bottom-color:#259af4;opacity:1}.registration input[type=text].registration__action,.registration input[type=password].registration__action,.registration input[type=submit].registration__action,.registration input[type=email].registration__action,.registration select.registration__action{font-size:16px;padding:10px;color:#fff;text-align:center;font-weight:600;background-color:#28bd70;border-bottom:2px solid #1f9357;text-shadow:-1px -1px #1f9357;clear:both}.registration input[type=text].registration__action:hover,.registration input[type=password].registration__action:hover,.registration input[type=submit].registration__action:hover,.registration input[type=email].registration__action:hover,.registration select.registration__action:hover{background-color:#3da5f5;border-bottom-color:#0b81da;text-shadow:-1px -1px #0b81da}.registration select{margin-top:4px;border-bottom:none}.registration label{opacity:.85}.registration span.required{color:#e84a5f;margin-left:3px}.registration .sector,.registration .name{width:48%;float:left;margin-top:0px}.registration .country,.registration .organization{width:52%;float:left;padding-left:4%;margin-top:0px}.registration .password1{margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,.1)}.registration .passwordreset__cancel{color:#fff;width:45%;float:left;display:block;text-align:center;height:40px;line-height:40px;font-weight:600;font-size:12px}.registration .gender{clear:both;margin-bottom:5px}.registration .gender>ul{margin:0;padding:0;margin-bottom:5px;padding-top:4px}.registration .gender>ul li{display:inline-block;margin-right:16px}.registration .gender>ul li input{margin-right:4px}.registration ul.errorlist{padding:0px;color:#e84a5f;margin:8px 0px}.registration--register .registration--logo{text-align:left;margin:0;margin-left:-5px}.registration--register h1{margin-top:0em}.registration--register div.field{margin-bottom:12px}.registration--register input[type=submit]{margin-top:20px}.registration .registration__kc-domain+input{display:inline-block}.registration .registration__kc-domain{font-size:13px;letter-spacing:-0.04em;display:inline-block}.registration__orlogin{padding-top:10px;text-align:center}.registration__footer{clear:both;text-align:center;margin:20px 10px 10px 10px}.registration__footer a{color:#fff}.registration__footer .registration__legal a{margin:0px 8px}.error-message{font-size:14px;color:#e84a5f;background-color:rgba(232,74,95,.075)}.registration__credit{position:absolute;bottom:5px;right:5px;font-size:11px}.registration__credit a{opacity:.8;color:#fff}.registration__message{font-size:16px;text-align:center}@media screen and (min-width: 768px){.registration__bg form.registration{padding:30px 40px;margin-top:10px}.registration__bg form.registration--login{margin-top:40px}.registration__bg form.registration--register,.registration__bg form.registration--complete,.registration__bg form.language-switcher{width:80%;max-width:860px}.registration__bg form.registration--register{padding:30px}.registration__bg form.registration--register .registration--logo{width:48%;float:right}.registration__bg form.registration--register .registration--logo>*{padding-left:60px}.registration__bg .registration__first-half{width:52%;float:left}.registration__bg .registration__second-half{width:48%;float:right}.registration__bg .registration__second-half>*{padding-left:60px}.registration__bg .registration__second-half p{font-size:15px;line-height:1.3em}.registration__bg .registration--logo img{max-height:100px}.registration .registration__kc-domain{font-size:14px;letter-spacing:0em}}@media screen and (max-width: 767px){.registration__bg form.registration--register{display:flex;flex-direction:column}.registration__bg form.registration--register h1{text-align:center;margin-top:.5em}.registration__bg form.registration--register .registration--logo{display:block;text-align:center;order:1}.registration__bg form.registration--register .registration__first-half{order:3}.registration__bg form.registration--register .registration__second-half{order:2}}.params-view__simple-wrapper{border:1px solid #979fb4;border-top-width:1px;background:#fff;margin-top:-2px;position:relative}.card--selectquestion__expansion,.card__settings,.question__tags{border:1px solid #979fb4;border-top-width:1px;background:#fff;margin-top:-2px;position:relative}.card--selectquestion__expansion:after,.card__settings:after,.question__tags:after,.card--selectquestion__expansion:before,.card__settings:before,.question__tags:before{bottom:100%;left:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none}.card--selectquestion__expansion:after,.card__settings:after,.question__tags:after{border-color:rgba(255,255,255,0);border-bottom-color:#fff;border-width:8px;margin-left:-8px}.card--selectquestion__expansion:before,.card__settings:before,.question__tags:before{border-color:rgba(151,159,180,0);border-bottom-color:#979fb4;border-width:9px;margin-left:-9px}.survey__row.survey__row--selected>.survey__row__item>.card__header{border:1px solid #3da5f5}.survey__row.survey__row--selected>.survey__row__item.group{border:1px solid #3da5f5}.survey__row .btn--addrow{display:none}.survey__row:hover>.survey__row__spacer>.btn--addrow,.survey__row:focus-within>.survey__row__spacer>.btn--addrow{display:block}.survey__row .btn--addrow-force-show:not(.locking__ui-hidden){display:block !important}.survey-editor--singlequestion .survey__row:hover>.survey__row__spacer>.btn--addrow{display:none}.survey__row--score .card__buttons__button--add,.survey__row--rank .card__buttons__button--add{display:none}.score_preview,.rank_preview{background-color:#fff;margin-left:-16px}.score_preview__table{width:100%;border-collapse:separate}.rankcell__delete,.scorecell__delete,.scorerow__delete{border:0 none;background-color:transparent;float:right;color:#e84a5f;cursor:pointer}.rankcell__delete:hover,.scorecell__delete:hover,.scorerow__delete:hover{color:#ad1f32}.scorecell__col{border:1px solid #979fb4;border-width:1px 0 .5px 1px;text-align:center;padding:0}.scorecell__col:nth-child(2){border-top-left-radius:6px}.scorecell__col:nth-last-child(2){border-top-right-radius:6px;border-right-width:1px}tr:first-child .scorelabel{border-top-width:1px;border-top-style:solid;border-top-color:#979fb4}.scorelabel{border-left-width:1px;border-left-style:solid;border-left-color:#979fb4;border-right-width:1px;border-right-style:solid;border-right-color:#e7e9ee}.scorelabel,.scorecell__radio{border-bottom:1px dotted #e7e9ee;padding:4px 6px}.scorecell__radio:last-child{border-right-width:1px;border-right-style:solid;border-right-color:#979fb4}tr:last-child .scorelabel,tr:last-child .scorecell__radio{border-bottom-width:1px;border-bottom-style:solid;border-bottom-color:#979fb4}.score__options{background-color:#fff;padding:12px 0}.score__contents{padding-left:85px}.scorecell__radio{text-align:center}.scorecell__radio input{opacity:.4}tr:hover .scorecell__radio{background-color:#f3f4f6}tr .scorecell__radio:hover{background-color:#f3f4f6}.rank__rows{width:40%}.rank__levels{width:60%}.rank__levels,.rank__rows{float:left;background-color:rgba(255,255,255,.5);padding:4px 20px 18px 2px;margin:0}.rank_items__constraint_wrap,.rank_items__item,.rank_items__level{padding:5px 8px;margin:0 0 4px 0;line-height:12px}.rank_items__constraint_message,.rank_items__constraint_explanation{margin:0}.rank_items__constraint_explanation{font-size:10px;color:#565e76;text-decoration:underline}.rank_items__level__label div,.rank_items__item__label div{display:inline}.rank_items__level__label br,.rank_items__item__label br{display:none}.rank_items__item,.rank_items__level{border:1px solid;border-color:#979fb4;border-radius:4px}.rank_items__constraint_message{font-size:92%;color:#333847;font-style:italic}.rank_items__constraint_message:before{content:\\\"\\\\2713\\\"}.rank_items__constraint_message.rank_items__constraint_message--prelim{color:#565e76}.rank_items__constraint_message.rank_items__constraint_message--prelim:before{content:\\\"\\\"}.rank_items__constraint_message div{display:inline}.rank_items__constraint_message br{display:none}.rank_items__add{list-style-type:none}.rank_items__add .btn{display:block;width:100%;line-height:10px}.scorecell__name{margin:0 0 -1px 0;background-color:#f3f4f6;color:#565e76;line-height:15px;font-size:9px}.scorecell__name,.scorelabel__name{display:block;border-bottom:1px dotted #e7e9ee}.scorecell__name br,.scorelabel__name br{display:none}.scorelabel__name:before,.scorelabel__name:after,.rank__rows .rank_items__name:before,.rank__rows .rank_items__name:after{line-height:20px;margin:0 3px}.scorelabel__name--automatic:before,.scorecell__name--automatic:before{content:\\\"AUTOMATIC\\\";font-size:10px}.rank_items__name{display:block}.rank_items__name br{display:none}.rank_items__name div{display:inline}.rank_items__name--automatic:focus:before{content:\\\"\\\"}.rank_items__name--automatic:before{content:\\\"AUTOMATIC\\\"}.kobomatrix-warning{color:#b86614;position:absolute;top:0;right:55px;text-align:right;margin:0;padding:2px;font-size:12px}.scorecell__name,.scorelabel__name,.rank_items__name{font-size:90%;color:#565e76}.scorecell__name.prelim,.scorelabel__name.prelim,.rank_items__name.prelim{font-style:italic;color:#e7e9ee}.insort .btn--addrow{opacity:0}.btn--addrow{background-color:transparent;width:52px;height:84px;position:absolute;left:-50px;top:-20px}.btn--addrow .k-icon,.btn--addrow .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .btn--addrow i,.btn--addrow .form-builder-header__button.form-builder-header__button--savepending>i,.btn--addrow .form-builder-header__button.form-builder-header__button--create-pending>i,.btn--addrow .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .btn--addrow .ajs-close,.btn--addrow .react-tagsinput-remove{background-color:#979fb4;display:block;width:24px;font-size:21px;height:24px;line-height:24px;border-radius:5px}.btn--addrow:hover,.btn--addrow:focus{background-color:transparent}.btn--addrow:hover .k-icon,.btn--addrow:hover .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .btn--addrow:hover i,.btn--addrow:hover .form-builder-header__button.form-builder-header__button--savepending>i,.btn--addrow:hover .form-builder-header__button.form-builder-header__button--create-pending>i,.btn--addrow:hover .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .btn--addrow:hover .ajs-close,.btn--addrow:hover .react-tagsinput-remove,.btn--addrow:focus .k-icon,.btn--addrow:focus .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .btn--addrow:focus i,.btn--addrow:focus .form-builder-header__button.form-builder-header__button--savepending>i,.btn--addrow:focus .form-builder-header__button.form-builder-header__button--create-pending>i,.btn--addrow:focus .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .btn--addrow:focus .ajs-close,.btn--addrow:focus .react-tagsinput-remove{background-color:#3da5f5}.no-touch .btn--addrow{padding:30px 0 0 11px}.touch .btn--addrow{height:36px;margin-top:5px;padding-left:10px}.group__rows .btn--addrow{left:-30px;width:40px;height:54px;top:-30px;padding:15px 0 0 3px;z-index:101}.group__rows .btn--addrow .k-icon,.group__rows .btn--addrow .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .group__rows .btn--addrow i,.group__rows .btn--addrow .form-builder-header__button.form-builder-header__button--savepending>i,.group__rows .btn--addrow .form-builder-header__button.form-builder-header__button--create-pending>i,.group__rows .btn--addrow .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .group__rows .btn--addrow .ajs-close,.group__rows .btn--addrow .react-tagsinput-remove{width:22px;height:22px;line-height:22px}.group__rows .group__rows .btn--addrow{left:-24px;z-index:102;width:30px}.survey-editor--singlequestion .btn--addrow{display:none}.touch .survey-editor__null-top-row--hidden{display:none}.survey-editor__list>.survey__row:not(.survey__row--group):last-child .btn--addrow{display:block}.survey-editor__list>.survey__row:last-child{margin-bottom:30px}.btn--hidden{display:none !important}.survey__row__spacer{position:relative}.survey__row__spacer .line{height:0px}.row__questiontypes{border:1px solid #259af4;padding:0px;padding-top:20px;background:#fff;margin:4px 0px}.row__questiontypes__list{margin-top:20px;border-top:1px solid #259af4;padding:3px;position:relative;line-height:20px}.row__questiontypes__list:after,.row__questiontypes__list:before{bottom:100%;left:50%;border:solid transparent;content:\\\" \\\";height:0;width:0;position:absolute;pointer-events:none}.row__questiontypes__list:after{border-color:rgba(255,255,255,0);border-bottom-color:#fff;border-width:8px;margin-left:-8px}.row__questiontypes__list:before{border-color:rgba(217,221,225,0);border-bottom-color:#3da5f5;border-width:11px;margin-left:-11px}.row__questiontypes__close{position:absolute;top:-3px;right:1px;color:#565e76;background:transparent;border:0 none;font-family:\\\"Roboto\\\",sans-serif;font-weight:600;padding:4px;line-height:1em;font-size:24px;cursor:pointer}.row__questiontypes__close:hover{color:#333847}.survey-editor--singlequestion .row__questiontypes__close{display:none}input.row__questiontypes__new-question-name{border:0;border-radius:0px;font-weight:600;padding:0px 40px;min-width:99%}.row__questiontypes--namer{height:68px;padding:15px 10px;margin-bottom:20px}.row__questiontypes--namer form input{width:72%;padding:9px;border:1px solid #259af4;font-size:15px}.row__questiontypes--namer form button{width:25%;margin-left:2%}.row__questiontypes--namer form input,.row__questiontypes--namer form button{float:left}.questiontypelist__row{width:25%;padding-right:1px;float:left}.questiontypelist__item{margin-bottom:1px;padding:10px 5px;font-size:11px;font-family:\\\"Roboto\\\",sans-serif;font-weight:600;cursor:pointer;color:#333847}.questiontypelist__item .k-icon,.questiontypelist__item .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .questiontypelist__item i,.questiontypelist__item .form-builder-header__button.form-builder-header__button--savepending>i,.questiontypelist__item .form-builder-header__button.form-builder-header__button--create-pending>i,.questiontypelist__item .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .questiontypelist__item .ajs-close,.questiontypelist__item .react-tagsinput-remove{margin-right:6px;font-size:20px;vertical-align:top}.questiontypelist__item:hover{border-color:#3da5f5;color:#3da5f5}.questiontypelist__item-force-hover{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px;color:#3da5f5}.card{border-radius:0px;font-family:\\\"Roboto\\\",sans-serif;font-weight:600;font-size:13px;line-height:18px;margin-bottom:4px;position:relative}.card.card--error{padding:12px 20px;background-color:rgba(232,74,95,.5)}.card .card__header{border:1px solid #979fb4;padding:20px 65px 20px 75px;min-height:82px;display:block;background:#fff;position:relative}.ui-sortable.js-sortable-enabled .card .card__header{cursor:move}.ui-sortable.ui-sortable-disabled .card .card__header{cursor:initial !important}.card .card__text{margin:auto;display:inline-block;vertical-align:middle;width:99%;position:relative}.card .card__text.activated{color:#565e76}.card .card__text .card__buttons__multioptions{cursor:pointer;vertical-align:middle;text-align:right;position:absolute;left:-34px;top:50%;width:32px;margin-top:-30px;padding-top:22px;padding-bottom:22px}.card .card__text .card__buttons__multioptions .k-icon,.card .card__text .card__buttons__multioptions .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .card .card__text .card__buttons__multioptions i,.card .card__text .card__buttons__multioptions .form-builder-header__button.form-builder-header__button--savepending>i,.card .card__text .card__buttons__multioptions .form-builder-header__button.form-builder-header__button--create-pending>i,.card .card__text .card__buttons__multioptions .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .card .card__text .card__buttons__multioptions .ajs-close,.card .card__text .card__buttons__multioptions .react-tagsinput-remove{font-size:15px}.card .card__header-title:focus,.card .card__header-hint:focus{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.card .card__header-title{color:#565e76}.card .card__header-title:focus{color:#333847}.card .card__header-title::-moz-placeholder{color:#e84a5f;background-color:rgba(232,74,95,.075)}.card .card__header-title:-ms-input-placeholder{color:#e84a5f;background-color:rgba(232,74,95,.075)}.card .card__header-title::placeholder{color:#e84a5f;background-color:rgba(232,74,95,.075)}.card .card__header-hint{color:inherit;font-weight:400}.card .card__header-hint::-moz-placeholder{color:#565e76;font-style:italic}.card .card__header-hint:-ms-input-placeholder{color:#565e76;font-style:italic}.card .card__header-hint::placeholder{color:#565e76;font-style:italic}.card .card__option-translation--empty{opacity:.6}.card.card--shaded .card__header-title{opacity:.3}.card--required .card__text:after{content:\\\"*\\\";position:absolute;top:-0.15em;left:-9px;color:#565e76;font-size:11px}.card--required.card--selectquestion .card__text{padding-left:10px}.card--required.card--selectquestion .card__text:after{left:1px}.no-touch .card:before{content:\\\" \\\";height:100%;left:-60px;position:absolute;width:80px}.sortable-active .card__header{border:1px solid #3da5f5}.sortable-active .card__header .card__header-title{color:#3da5f5}.card--error{background-color:rgba(232,74,95,.5)}.card__indicator{position:absolute;left:0;top:0;width:42px;height:100%;border-right:1px solid #979fb4}.card--insort .card__indicator{border-right:1px solid #3da5f5}.card__indicator__icon{position:absolute;top:50%;margin-top:-10.5px;left:8px;width:21px;height:21px;font-size:20px;line-height:20px;text-align:center;color:#565e76}.card__buttons{border:1px solid #979fb4;border-width:0 0 0 1px;position:absolute;top:0;right:0;width:25px;height:100%;z-index:3;display:flex;flex-direction:column;align-items:flex-start}.card--shaded .card__buttons{border-color:transparent}.card__header--shade{position:absolute;width:100%;height:100%;left:0px;top:0px;z-index:2;text-align:center;vertical-align:middle;display:none}.card__header--shade span{position:relative;top:35%;font-weight:600;font-size:23px}.card--shaded .card__header--shade{display:block}.card--shaded .card__header--shade>span:after{content:attr(data-card-hover-text)}.card__header.settings .card__header--shade{background:rgba(86,94,118,.5)}.card__header.delete .card__header--shade{background:rgba(232,74,95,.5)}.card__header.duplicate .card__header--shade{background:rgba(37,154,244,.5)}.card__header.add-to-library .card__header--shade{background:rgba(40,189,112,.5)}.card--insort .card__buttons{border-left:1px solid #3da5f5}.card__buttons__button{height:20px;line-height:20px;width:25px;text-align:center;position:relative;cursor:pointer}.card__buttons__button.card__buttons__button--gray{color:#565e76}.card__buttons__button.card__buttons__button--red{color:#e84a5f}.card__buttons__button.card__buttons__button--blue{color:#259af4}.card__buttons__button.card__buttons__button--green{color:#28bd70}.card__buttons__button.card__buttons__button--activated{color:#565e76;background-color:#e7e9ee;opacity:1}.card__buttons__button:hover,.card__buttons__button.card__buttons__button--activated:hover{opacity:.5}.card__buttons__button .k-icon,.card__buttons__button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .card__buttons__button i,.card__buttons__button .form-builder-header__button.form-builder-header__button--savepending>i,.card__buttons__button .form-builder-header__button.form-builder-header__button--create-pending>i,.card__buttons__button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .card__buttons__button .ajs-close,.card__buttons__button .react-tagsinput-remove{font-size:18px}.card--shaded .card__buttons{z-index:4}.card--shaded .card__header .card__text .bg{display:block}.survey-editor--singlequestion .card__buttons__button--delete{display:none}.survey-editor--singlequestion .survey-editor__action--multiquestion{display:none}.card--selectquestion__expansion{padding:23px 10px 23px 60px}.card__settings__tabs{float:left;width:20%}.card__settings__tabs .heading,.card__settings__tabs li{padding:6px 10px;font-size:11px;font-weight:normal;cursor:pointer}.card__settings__tabs li.card__settings__tabs__tab--active{background:#e7e9ee;font-weight:600}.card__settings__tabs .heading{border-bottom:1px solid #979fb4;font-size:13px;padding:8px 10px;font-weight:600;margin-bottom:3px}.card__settings__tabs .heading .k-icon,.card__settings__tabs .heading .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .card__settings__tabs .heading i,.card__settings__tabs .heading .form-builder-header__button.form-builder-header__button--savepending>i,.card__settings__tabs .heading .form-builder-header__button.form-builder-header__button--create-pending>i,.card__settings__tabs .heading .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .card__settings__tabs .heading .ajs-close,.card__settings__tabs .heading .react-tagsinput-remove{color:#565e76;margin-right:5px;font-size:21px;display:inline-block;vertical-align:-6px}.card__settings__content{padding:20px 30px;margin-left:20%;border-left:1px solid #979fb4;min-height:152px}.card__settings__fields{display:none;transition:height .3s}.card__settings__fields.card__settings__fields--active,.card__settings__fields.active{display:block;transition:height .3s}.card__settings__fields__field{padding:5px 0}.card__settings__fields__field>label{text-align:right;width:32%;margin-right:2%;display:inline-block;font-weight:600;vertical-align:middle;text-transform:capitalize;font-size:12px;line-height:1.2em}.card__settings__fields__field>label.align-top{vertical-align:top;margin-top:5px}.card__settings__fields__field input[type=text]{width:85%;background:inherit;border-width:1px;border-color:#e7e9ee;border-style:solid;padding:4px 10px;font-size:15px;color:inherit}.card__settings__fields__field input[type=text]:focus{border-color:#259af4}.card__settings__fields__field .settings__input{width:65%;display:inline-block;vertical-align:middle}.card__settings__fields__field .settings__input input.text{display:inline-block}.card__settings-close{background:#979fb4;position:absolute;right:6px;top:6px;color:#fff;padding:3px;border-radius:3px;font-size:18px;line-height:18px;cursor:pointer}.card__settings-close:hover{background:#3da5f5}.card__settings-close:active{transform:translateY(1px)}.card .card__settings{display:none}.card.card--expanded-settings .card__settings{display:block}.card.card--expanded-settings .card__buttons__button--settings{color:#565e76;background-color:#e7e9ee}.settings__hxl{background:#f3f4f6;display:table-row}.settings__hxl .hxlTag{width:120px}.settings__hxl .hxlAttrs{min-width:200px;width:calc(100% - 124px)}.settings__hxl .select2-container-multi{vertical-align:top;display:table-cell;border:1px solid #979fb4;padding:2px}.settings__hxl .select2-container-multi .select2-choices{background-image:none !important;background-color:transparent !important;border:none !important;box-shadow:none !important}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice{border-radius:5px;font-weight:normal;background:#e7e9ee;color:#333847;padding-left:5px;padding-right:18px}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice .select2-search-choice-close{left:auto;right:3px;color:#565e76}.settings__hxl .select2-container-multi .select2-choices .select2-search-choice .select2-search-choice-close:before{content:\\\"\\\\D7\\\"}.settings__hxl .select2-container-multi .select2-choices .select2-search-field input{padding-bottom:2px;padding-top:2px}.settings__hxl .select2-container-multi .select2-choices .select2-search-field input.select2-input{min-width:100px}.settings__hxl .select2-container-multi.select2-container-disabled .select2-choices .select2-search-choice{opacity:.5}.settings__hxl .hxlAttrs.select2-container-multi{background:inherit;border-left:0px}.survey__row--selected .card--selectquestion__expansion,.survey__row--selected .card__settings{border-left-color:#3da5f5;border-right-color:#3da5f5;border-bottom-color:#3da5f5}.card--selectquestion .row__multioptions{display:none}.card--selectquestion.card--expandedchoices .row__multioptions{display:block}.option-placeholder{height:32px;margin-bottom:10px;border:2px solid #979fb4;border-radius:4px;margin-right:25px;margin-left:5px}.multioptions__option{margin-bottom:4px;margin-left:4px;position:relative}.multioptions__option div.editable-wrapper{font-weight:600;border-radius:5px;border:1px solid #979fb4;padding:5px;font-size:13px;display:inline-block;width:72%;vertical-align:top;height:auto;position:relative;min-height:18px}.list-view .ui-sortable.js-sortable-enabled .multioptions__option div.editable-wrapper{cursor:move}.multioptions__option div.editable-wrapper:focus{border-color:#55b0f6;color:#55b0f6}.multioptions__option div.editable-wrapper span{cursor:text}.multioptions__option div.editable-wrapper .editable-input input{line-height:1em;vertical-align:middle;margin-top:-3px}.multioptions__option code{font-weight:600;font-size:11px;font-family:\\\"Roboto\\\",sans-serif;background-color:#e7e9ee;padding:2px;margin:2px;width:25%;text-align:left;display:inline-block;margin-left:2%;overflow:hidden}.multioptions__option code label{display:inline-block;width:40%;padding-left:4px;color:#565e76}.multioptions__option code span{text-align:right;display:inline-block;float:right;width:60%;padding-right:4px;color:#565e76;overflow-wrap:break-word;cursor:text}.multioptions__option code .editable-unsaved{color:#3da5f5}.multioptions__option code input{text-align:right;display:inline-block;float:right;width:60% !important;color:#3da5f5;line-height:inherit;font-size:11px}.multioptions__option .k-icon.k-icon-trash,.multioptions__option .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-trash,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .multioptions__option i.k-icon-trash,.multioptions__option .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-trash,.multioptions__option .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-trash,.multioptions__option .alertify-notifier .ajs-message .k-icon-trash.ajs-close,.alertify-notifier .ajs-message .multioptions__option .k-icon-trash.ajs-close,.multioptions__option .k-icon-trash.react-tagsinput-remove{position:absolute;left:-20px;top:8px;color:#e84a5f;font-size:18px;cursor:pointer}.card__addoptions{position:relative}.card__addoptions__layer{cursor:pointer !important;background:rgba(255,255,255,.5);position:absolute;width:100%;height:100%;top:0px;z-index:1}.group{padding:4px 10px;margin-bottom:15px;background-color:#f3f4f6;border:1px solid #979fb4;font-size:13px}.group .card,.group .row__questiontypes{margin-left:0px}.group__name{font-weight:600}.group__header{border-bottom:1px solid #979fb4;position:relative;margin:-4px -10px 0;padding:12px;min-height:50px}.group__header input{width:94%;font-weight:normal;display:inline;border:none;border-radius:none;background:none;font-size:16px;font-weight:600;padding:0px;height:auto;vertical-align:middle}.group__rows{margin-top:6px}.group__header__buttons{border:1px solid #979fb4;border-width:0 0 0 1px;position:absolute;top:0px;right:0;width:25px;height:100%}.group__header__buttons__button{display:block;font-size:13px;height:22px;line-height:22px;width:26px;text-align:center;cursor:pointer}.group__header__buttons__button.group__header__buttons__button--gray{color:#565e76}.group__header__buttons__button.group__header__buttons__button--red{color:#e84a5f}.group__header__buttons__button.group__header__buttons__button--activated{color:#565e76;background-color:#e7e9ee}.group__header__buttons__button .k-icon,.group__header__buttons__button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .group__header__buttons__button i,.group__header__buttons__button .form-builder-header__button.form-builder-header__button--savepending>i,.group__header__buttons__button .form-builder-header__button.form-builder-header__button--create-pending>i,.group__header__buttons__button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .group__header__buttons__button .ajs-close,.group__header__buttons__button .react-tagsinput-remove{font-size:18px}.group{line-height:1.4}.group>.card__settings{display:none}.group.card--expanded-settings{padding:4px 0px;padding-bottom:0px}.group.card--expanded-settings>.card__settings{display:block;background-color:#fff;border:none;margin-top:1px}.group.card--expanded-settings>.card__settings:after{content:\\\"\\\";border:none}.group.card--expanded-settings>.card__settings:before{content:\\\"\\\";border:none}.group.card--expanded-settings .group__rows{display:none}.group.card--expanded-settings .group__header{margin:-4px 0px 0px}.group.card--expanded-settings .group__header__buttons__button--settings{background:#e7e9ee}.group__header__icon,.group__header__icon .k-icon,.group__header__icon .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .group__header__icon i,.group__header__icon .form-builder-header__button.form-builder-header__button--savepending>i,.group__header__icon .form-builder-header__button.form-builder-header__button--create-pending>i,.group__header__icon .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .group__header__icon .ajs-close,.group__header__icon .react-tagsinput-remove,.group__caret{color:#565e76;display:inline-block;vertical-align:middle}.group__header__icon .k-icon,.group__header__icon .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .group__header__icon i,.group__header__icon .form-builder-header__button.form-builder-header__button--savepending>i,.group__header__icon .form-builder-header__button.form-builder-header__button--create-pending>i,.group__header__icon .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .group__header__icon .ajs-close,.group__header__icon .react-tagsinput-remove{font-size:16px}.group__caret{font-size:12px;padding:2px;margin-left:-4px;cursor:pointer}.group__caret:hover{color:#333847}.group--shrunk{border-bottom:none;padding-bottom:0px}.group--shrunk .group__rows{display:none}.group--shrunk .survey__row{display:none}.group__rows .group{background:#eaecf0;margin-bottom:12px}.group__rows .group .group__rows .group{background:#e1e3ea}.group__rows .group .group__rows .group .group__rows .group{background:#d9dbe3}.group__rows .group .group__rows .group .group__rows .group .group__rows .group{background:#d0d3dd}.skiplogic__criterion{margin-bottom:12px;position:relative}.skiplogic__criterion.skiplogic__criterion--unspecified-question .skiplogic__expressionselect{display:none}.skiplogic__rowselect{width:60%;margin-right:2%;font-weight:normal}.skiplogic__expressionselect{width:10%;margin-right:2%;font-weight:600;color:#333847}.skiplogic__expressionselect--no-response-value{width:37%;margin-right:0%}.skiplogic__expressionselect--no-response-value+.skiplogic__responseval{display:none}.skiplogic__responseval-wrapper{display:inline}input[type=text].skiplogic__responseval,select.skiplogic__responseval{width:25%;font-weight:normal;display:inline-block;border-bottom:1px solid #979fb4}input[type=text].skiplogic__responseval{border-radius:0;border:none;border-bottom:1px solid #979fb4;padding:1px;height:30px;vertical-align:bottom}div.skiplogic__responseval{display:inline-block;width:25% !important}.skiplogic__deletecriterion{height:auto;margin:0;border:0;padding:0;position:absolute;top:3px;right:-16px;color:#e84a5f;background-color:transparent;opacity:.8;cursor:pointer;font-size:18px}.skiplogic__deletecriterion:hover{opacity:1}.skiplogic__handcode-edit{width:100%;min-height:70px;padding:6px;margin-top:20px}.skiplogic-handcode__cancel{background:none;border:medium none;color:#e84a5f;font-size:21px;position:absolute;right:-21px;text-align:center;top:18px;width:18px;padding:0;cursor:pointer}.skiplogic__main{position:relative}.skiplogic__main .kobo-button,.skiplogic__main .alertify .ajs-footer button,.alertify .ajs-footer .skiplogic__main button{width:100%}.skiplogic__main .kobo-button:not(:first-child),.skiplogic__main .alertify .ajs-footer button:not(:first-child),.alertify .ajs-footer .skiplogic__main button:not(:first-child){margin-top:10px}.skiplogic__addnew{margin:0;margin-top:10px;height:36px;min-width:180px;display:inline-block}select.skiplogic__delimselect{max-width:350px;margin-top:10px;background:transparent;border-radius:0px !important;border:none;border-bottom:1px solid #979fb4;padding:4px 2px;font-size:13px;font-weight:400}.constraint__editor{padding-top:14px;position:relative}.skiplogic__criterialist .select2-container .select2-choice{border-bottom:1px solid #979fb4}.skiplogic__criterialist .select2-dropdown-open.select2-drop-above .select2-choice,.skiplogic__criterialist .select2-dropdown-open.select2-drop-above .select2-choices{border-bottom:1px solid #979fb4;border-radius:0px}.params-view__simple-wrapper .params-view{padding:10px}.params-view__simple-wrapper .params-view .param-option{padding:5px 10px;display:inline-block}.params-view__settings-wrapper.card__settings__fields__field>label{vertical-align:top;margin-top:2px}.survey__row--selected .params-view__simple-wrapper{border-left-color:#3da5f5;border-right-color:#3da5f5;border-bottom-color:#3da5f5}.card__settings__fields__field .params-view .param-option{display:block}.card__settings__fields__field .params-view .param-option:not(:last-child){margin-bottom:10px}.mandatory-setting .card__settings__fields__field>label{vertical-align:top;margin-top:6px}.mandatory-setting .mandatory-setting__row.mandatory-setting__row--custom .text-box{margin-top:5px;display:block}.mandatory-setting .mandatory-setting__row.mandatory-setting__row--custom .radio__input:not(:checked)~.text-box{visibility:hidden;height:0;overflow:hidden;margin-top:0}.survey-editor__message{border:1px solid #979fb4;padding:20px;background:#fff;color:#565e76;font-weight:600;font-style:italic;font-size:13px}.survey-editor__message a{font-style:normal;font-weight:normal;text-decoration:underline}.card__text input,.editable-wrapper input{font-family:\\\"Roboto\\\",sans-serif;border:none;padding:0px;margin:0px;font-weight:600;display:inline;height:auto !important;font-size:13px;width:100%;background:transparent}code input[type=text]{border:none;padding:0px;padding-right:4px;margin:0px;font-weight:600;display:inline;background:none;font-size:11px;color:#3da5f5;float:right;width:64%;height:auto !important;text-align:right}.survey-warnings{background-color:#fcf2e8;color:#b86614;padding:15px;margin-bottom:20px;border-radius:4px;border:1px solid #e6801a}.survey-warnings__warning{margin:12px 0 0}.survey-warnings__close-button{color:#b86614;position:absolute;top:24px;margin-top:-12px;height:24px;right:12px;background-color:transparent;border:0 none}.survey-editor{transition:all .3s}.survey-editor__null-top-row{position:relative}.survey-editor__null-top-row.expanded .survey-editor__message{display:none}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey-editor__message{display:none}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey__row__spacer{opacity:0}.survey-editor__null-top-row.survey-editor__null-top-row--hidden .survey__row__spacer:hover{opacity:1}.survey-editor__message{text-align:center;color:#565e76}.pull-left{float:left}.pull-right{float:right}.ir{background-color:transparent;border:0;overflow:hidden;*text-indent:-9999px}.ir:before{content:\\\"\\\";display:block;width:0;height:150%}.hidden{display:none !important;visibility:hidden}.visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.visuallyhidden.focusable:active,.visuallyhidden.focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.invisible{visibility:hidden}.clearfix:before,.lib-list__tags:before,.clearfix:after,.lib-list__tags:after{content:\\\" \\\";display:table}.clearfix:after,.lib-list__tags:after{clear:both}.clearfix,.lib-list__tags{*zoom:1}.row-extras__cog-faded{cursor:pointer}.kpiapp,.mdl-wrapper,.mdl-layout{height:100%}.mdl-layout{max-width:1440px;margin:0 auto;overflow:hidden}.mdl-layout__content{height:calc(100% - 64px);position:relative;flex-grow:0;overflow:hidden}.mdl-layout__content>.dropzone,.mdl-layout__content .public-collections-wrapper{height:100%;overflow:hidden}.ui-panel{height:100%;margin:0px 8px}.ui-panel.ui-panel--fixed{position:fixed;top:0;left:0;bottom:0;right:0}.ui-panel__body{padding:0;height:100%;flex-direction:column}.ui-panel__body>.asset-view__content,.ui-panel__body>.form-builder{flex-flow:column;margin:0px !important}.ui-panel__body>.asset-view__content{height:100%}.ui-panel__body>.form-builder{height:100%}.ui-panel--transparent .ui-panel__body{background:transparent;box-shadow:none;margin:0px}.mdl-layout.page-wrapper--in-formbuilder .mdl-layout__content{margin:0px;width:100%;height:100%}.mdl-layout.page-wrapper--in-formbuilder .ui-panel{margin:0px}.text-small{font-size:.85em;opacity:.75}.popover-menu{position:relative;display:inline-block;vertical-align:middle}.popover-menu__toggle{background:transparent;border:none;margin:0;padding:0;cursor:pointer;color:#565e76;display:inline-block;vertical-align:middle}.popover-menu__toggle:hover{color:#259af4}.popover-menu__toggle i{margin:3px;font-size:26px}.popover-menu__content{box-shadow:0 0 8px 0 rgba(51,56,71,.06),0 8px 8px 0 rgba(51,56,71,.12);border-radius:2px;overflow:hidden;position:absolute;min-width:160px;max-width:300px;text-align:left;background:#fff;z-index:10;right:-10px;transition:opacity .35s;opacity:1}.popover-menu__content--hiding{opacity:0;transition:opacity .35s}.popover-menu__content--hidden{display:none}.popover-menu__content--visible{display:block}.popover-menu--below .popover-menu__content{top:100%}.popover-menu--right .popover-menu__content{right:auto;left:-10px}.popover-menu--above .popover-menu__content,.popover-menu--viewby-menu .popover-menu__content{bottom:100%;top:auto}.popover-menu__link,.popover-menu__item{background-color:#fff;display:block;padding:6px 12px 6px 6px;position:relative;color:#565e76;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.popover-menu__link>i:first-child,.popover-menu__item>i:first-child{margin-right:5px;font-size:28px;width:28px;vertical-align:middle}.popover-menu__link span,.popover-menu__item span{vertical-align:middle}.popover-menu__link:hover,.popover-menu__item:hover{background-color:#f3f4f6;color:#333847}.popover-menu__link.active,.popover-menu__item.active{color:#259af4}.popover-menu__link.divider,.popover-menu__item.divider{border-top:1px solid #e7e9ee}@media screen and (max-height: 475px){.popover-menu__link i.k-icon:first-child,.popover-menu__link .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i:first-child,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .popover-menu__link i:first-child,.popover-menu__link .form-builder-header__button.form-builder-header__button--savepending>i:first-child,.popover-menu__link .form-builder-header__button.form-builder-header__button--create-pending>i:first-child,.popover-menu__link .alertify-notifier .ajs-message i.ajs-close:first-child,.alertify-notifier .ajs-message .popover-menu__link i.ajs-close:first-child,.popover-menu__link i.react-tagsinput-remove:first-child,.popover-menu__item i.k-icon:first-child,.popover-menu__item .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i:first-child,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .popover-menu__item i:first-child,.popover-menu__item .form-builder-header__button.form-builder-header__button--savepending>i:first-child,.popover-menu__item .form-builder-header__button.form-builder-header__button--create-pending>i:first-child,.popover-menu__item .alertify-notifier .ajs-message i.ajs-close:first-child,.alertify-notifier .ajs-message .popover-menu__item i.ajs-close:first-child,.popover-menu__item i.react-tagsinput-remove:first-child{font-size:22px}}.popover-menu__moveTo{max-height:120px;overflow:auto;overflow-x:hidden;background-color:#f3f4f6;border-bottom:1px solid #e7e9ee}.popover-menu__item--move-coll-item{background-color:#f3f4f6;position:relative;text-align:left;padding:3px 8px 3px 5px}.popover-menu__item--move-coll-item span{display:inline-block;max-width:150px;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word}.popover-menu__item--move-coll-item.popover-menu__item--move-coll-item-parent{pointer-events:none;font-weight:700;color:#333847}.popover-menu__heading{padding:8px 15px;color:#565e76;border-top:1px solid #e7e9ee;background-color:#f3f4f6;margin:0px}.popover-menu--assetrow-menu .popover-menu__content{right:0px}.popover-menu--formLanding-menu{margin-left:4px}.popover-menu--formLanding-menu .popover-menu__content{right:10px}.popover-menu--new-menu{width:100%;margin-bottom:10px}.popover-menu--new-menu .popover-menu__content{right:0px;width:100%}.popover-menu--new-menu .popover-menu__toggle{border-radius:6px;width:100%}.popover-menu--assets-table .popover-menu__content{max-height:195px;overflow:auto}.popover-menu--bulkUpdate-menu .popover-menu__toggle{color:#259af4}.popover-menu--bulkUpdate-menu .popover-menu__toggle:hover{color:#55b0f6}.popover-menu--bulkUpdate-menu .popover-menu__toggle::after{content:\\\"\\\\25BC\\\";font-size:8px;margin-left:3px;display:inline-block;vertical-align:1px}.popover-menu--bulkUpdate-menu .popover-menu__content{line-height:20px}.popover-menu--custom-reports .popover-menu__toggle{text-transform:uppercase;padding-left:0px}.popover-menu--custom-reports .popover-menu__toggle::after{content:\\\"\\\\25BC\\\";font-size:10px;margin-left:5px;display:inline-block;vertical-align:1px}.popover-menu--custom-reports .popover-menu__content{max-height:500px;min-width:300px;overflow:scroll;right:auto;left:20px}.popover-menu--custom-reports .popover-menu__link{white-space:normal}.popover-menu--collectData-menu .popover-menu__toggle{padding:8px 12px;padding-right:90px;color:#565e76;background:#f3f4f6;position:relative;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px}.popover-menu--collectData-menu .popover-menu__toggle:hover{color:#333847}.popover-menu--collectData-menu .popover-menu__toggle::after{position:absolute;right:10px;top:9px;content:\\\"\\\\25BC\\\";font-size:10px}.popover-menu--collectData-menu .popover-menu__content{min-width:550px;max-width:780px;top:auto;bottom:-150px;right:auto;left:30px;max-height:400px;overflow:auto}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link{max-width:100%;white-space:normal;padding:12px;border-bottom:1px solid #e7e9ee;border-left:2px solid transparent}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link:last-child{border-bottom:none}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link .collect-data-label{font-weight:600;color:#333847}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link .collect-data-desc{font-size:12px;line-height:16px}.popover-menu--collectData-menu .popover-menu__content .popover-menu__link:hover{border-left:2px solid #22b0c3}@media screen and (max-width: 767px){.popover-menu--collectData-menu .popover-menu__toggle{padding-right:40px}.popover-menu--collectData-menu .popover-menu__content{min-width:320px;max-width:360px;left:0px}.popover-menu--collectData-menu .popover-menu__content .collect-data-desc{font-size:inherit}}iframe{border:none}.form-modal__item:not(:last-child){margin-bottom:15px}.form-modal__item.form-modal__item--inline{display:inline-block}.form-modal__item.form-modal__item--inline:not(:last-child){margin-bottom:0;margin-right:20px}.form-modal__item--sector,.form-modal__item--country{width:50%;float:left}.form-modal__item--sector .kobo-select{margin-right:30px}.form-modal__item--metadata-share{padding-top:15px;clear:both}.form-modal__item label{font-weight:normal;font-size:12px;color:#565e76}.form-modal__item label.long{padding-top:5px;margin-bottom:10px;font-size:14px}.form-modal__item label:not(.inline){display:block}.form-modal__item label.next-to-checkbox{display:inline-block !important;margin-left:10px;max-width:90%;vertical-align:top}.form-modal__item input[type=text],.form-modal__item input[type=email],.form-modal__item input[type=password],.form-modal__item input[type=url],.form-modal__item select,.form-modal__item textarea{width:100%;padding:4px 10px;font-size:15px;border:1px solid transparent;border-bottom-color:#e7e9ee;transition:border-color .3s}.form-modal__item input[type=text]:focus,.form-modal__item input[type=email]:focus,.form-modal__item input[type=password]:focus,.form-modal__item input[type=url]:focus,.form-modal__item select:focus,.form-modal__item textarea:focus{transition:border-color .3s;border-bottom-color:#259af4}.form-modal__item textarea{overflow:hidden;resize:none;height:auto}.form-modal__item textarea.questions{height:60px;overflow:auto;font-size:13px}@media screen and (max-width: 767px){.form-modal__item select{max-width:90%;background:#979fb4}}.ajs-content input[type=text],.ajs-content textarea{width:100%;padding:6px 0px;font-size:15px;border:1px solid transparent;border-bottom-color:#e7e9ee;transition:border-color .3s}.ajs-content input[type=text]:focus,.ajs-content textarea:focus{transition:border-color .3s;border-bottom-color:#259af4}span.svg-icon svg{max-width:100%;max-height:100%}@-webkit-keyframes spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.k-spin,.form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--create-pending>i{transform-origin:center;-webkit-animation:spinner 1.2s infinite ease-in-out;animation:spinner 1.2s infinite ease-in-out}::-webkit-scrollbar{width:.8em}::-webkit-scrollbar:horizontal{height:.8em}::-webkit-scrollbar-track{background-color:#979fb4;background-color:transparent;border-radius:6px}::-webkit-scrollbar-thumb{background-color:#979fb4;outline:none;border-radius:6px}.dropzone-active-overlay{display:none;position:absolute;width:100%;height:120px;top:50%;margin-top:-60px;left:0;z-index:2;text-align:center;font-size:18px}.dropzone-active-overlay i{font-size:46px;display:block;margin:0 auto;margin-bottom:10px;color:#259af4}.dropzone{position:relative;min-height:calc(100% - 4px)}.dropzone::after{position:absolute;top:0;right:0;bottom:0;left:0;content:\\\"\\\";background:rgba(255,255,255,.7);border:2px solid #259af4;z-index:1;opacity:0;visibility:hidden;transition:.2s}.dropzone.dropzone--active::after{opacity:1;visibility:visible;transition:.2s}.dropzone.dropzone--active .dropzone-active-overlay{display:block}.kobo-button,.alertify .ajs-footer button{display:inline-block;vertical-align:middle;position:relative;cursor:pointer;font-size:14px;font-weight:600;text-transform:uppercase;text-decoration:none;text-align:center;border-radius:6px;color:#fff;background-color:#565e76;box-shadow:0 2px 4px 0 rgba(0,0,0,.25);height:auto;min-height:40px;line-height:30px;padding:5px 30px;margin:0;border:none}.kobo-button[disabled],.alertify .ajs-footer button[disabled]{pointer-events:none;color:rgba(255,255,255,.75);background-image:url(\\\"data:image/png;base64,  iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkkAQAAB8AG7jymN8AAAAASUVORK5CYII=\\\")}.kobo-button:hover,.alertify .ajs-footer button:hover{background-image:url(\\\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk4AcAABUAET9MVpIAAAAASUVORK5CYII=\\\")}.kobo-button:active,.alertify .ajs-footer button:active{transform:translateY(1px);box-shadow:0 1px 3px 0 rgba(0,0,0,.25)}.kobo-button i,.alertify .ajs-footer button i,.kobo-button .k-icon,.kobo-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button i,.kobo-button .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-button .form-builder-header__button.form-builder-header__button--create-pending>i,.alertify .ajs-footer button .k-icon,.alertify .ajs-footer button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button i,.kobo-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-button .ajs-close,.alertify .ajs-footer button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button .ajs-close,.kobo-button .react-tagsinput-remove,.alertify .ajs-footer button .react-tagsinput-remove{vertical-align:top;font-size:21px}.kobo-button.kobo-button--small,.alertify .ajs-footer button.kobo-button--small{font-size:13px;line-height:20px;min-height:30px;padding:5px 15px}.kobo-button.kobo-button--small i,.alertify .ajs-footer button.kobo-button--small i,.kobo-button.kobo-button--small .k-icon,.kobo-button.kobo-button--small .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--small i,.alertify .ajs-footer button.kobo-button--small .k-icon,.kobo-button.kobo-button--small .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--small .ajs-close,.alertify .ajs-footer button.kobo-button--small .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--small .ajs-close,.kobo-button.kobo-button--small .react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--small .react-tagsinput-remove{font-size:14px}.kobo-button.kobo-button--small.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-button.kobo-button--small.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--small.kobo-button--pending i.k-icon-spinner.k-spin,.kobo-button.kobo-button--small.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-button.kobo-button--small.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button.kobo-button--small.kobo-button--pending i.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--small.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--small.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--small.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--small.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{top:calc(50% - 11px);left:calc(50% - 6px)}.kobo-button.kobo-button--fullwidth,.alertify .ajs-footer button.kobo-button--fullwidth{display:block;width:100%}.kobo-button.kobo-button--blue,.alertify .ajs-footer button.kobo-button--blue,.alertify .ajs-footer button.ajs-ok{background-color:#259af4}.kobo-button.kobo-button--teal,.alertify .ajs-footer button.kobo-button--teal{background-color:#22b0c3}.kobo-button.kobo-button--green,.alertify .ajs-footer button.kobo-button--green{background-color:#28bd70}.kobo-button.kobo-button--orange,.alertify .ajs-footer button.kobo-button--orange{background-color:#e6801a}.kobo-button.kobo-button--red,.alertify .ajs-footer button.kobo-button--red,.alertify .ajs-footer button.ajs-cancel{background-color:#e84a5f}.kobo-button.kobo-button--whitegray,.alertify .ajs-footer button.kobo-button--whitegray{color:#333847;background-color:#f3f4f6}.kobo-button.kobo-button--whitegray[disabled],.alertify .ajs-footer button.kobo-button--whitegray[disabled]{color:rgba(51,56,71,.75)}.kobo-button.kobo-button--whitegray.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-button.kobo-button--whitegray.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--whitegray.kobo-button--pending i.k-icon-spinner.k-spin,.kobo-button.kobo-button--whitegray.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-button.kobo-button--whitegray.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending i.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--whitegray.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--whitegray.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--whitegray.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#333847}.kobo-button.kobo-button--pending,.alertify .ajs-footer button.kobo-button--pending{color:transparent;position:relative}.kobo-button.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-button.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-button.kobo-button--pending i.k-icon-spinner.k-spin,.kobo-button.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-button.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.alertify .ajs-footer button.kobo-button--pending .k-icon.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .alertify .ajs-footer button.kobo-button--pending i.k-icon-spinner.k-spin,.alertify .ajs-footer button.kobo-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.alertify .ajs-footer button.kobo-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-button.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-button.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-button.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.alertify .ajs-footer button.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.alertify .ajs-footer button.kobo-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .alertify .ajs-footer button.kobo-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-button.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove,.alertify .ajs-footer button.kobo-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff;display:block;position:absolute;top:calc(50% - 15px);left:calc(50% - 8px)}.kobo-light-button,.kobo-light-badge{display:inline-block;vertical-align:middle;position:relative;font-size:14px;font-weight:400;text-decoration:none;text-align:center;border-radius:4px;height:24px;line-height:14px;padding:4px 12px;margin:0;border-width:1px;border-style:solid;white-space:nowrap}.kobo-light-button i,.kobo-light-button .k-icon,.kobo-light-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button i,.kobo-light-button .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-button .ajs-close,.kobo-light-button .react-tagsinput-remove,.kobo-light-badge i,.kobo-light-badge .k-icon,.kobo-light-badge .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-badge i,.kobo-light-badge .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-badge .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-badge .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-badge .ajs-close,.kobo-light-badge .react-tagsinput-remove{vertical-align:top;font-size:18px;position:relative;top:-2px;margin-right:3px}.kobo-light-button.kobo-light-button--icon-only,.kobo-light-button.kobo-light-badge--icon-only,.kobo-light-badge.kobo-light-button--icon-only,.kobo-light-badge.kobo-light-badge--icon-only{padding-left:4px;padding-right:4px}.kobo-light-button.kobo-light-button--icon-only i,.kobo-light-button.kobo-light-button--icon-only .k-icon,.kobo-light-button.kobo-light-button--icon-only .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--icon-only i,.kobo-light-button.kobo-light-button--icon-only .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--icon-only .ajs-close,.kobo-light-button.kobo-light-button--icon-only .react-tagsinput-remove,.kobo-light-button.kobo-light-badge--icon-only i,.kobo-light-button.kobo-light-badge--icon-only .k-icon,.kobo-light-button.kobo-light-badge--icon-only .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-badge--icon-only i,.kobo-light-button.kobo-light-badge--icon-only .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-badge--icon-only .ajs-close,.kobo-light-button.kobo-light-badge--icon-only .react-tagsinput-remove,.kobo-light-badge.kobo-light-button--icon-only i,.kobo-light-badge.kobo-light-button--icon-only .k-icon,.kobo-light-badge.kobo-light-button--icon-only .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-badge.kobo-light-button--icon-only i,.kobo-light-badge.kobo-light-button--icon-only .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-badge.kobo-light-button--icon-only .ajs-close,.kobo-light-badge.kobo-light-button--icon-only .react-tagsinput-remove,.kobo-light-badge.kobo-light-badge--icon-only i,.kobo-light-badge.kobo-light-badge--icon-only .k-icon,.kobo-light-badge.kobo-light-badge--icon-only .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-badge.kobo-light-badge--icon-only i,.kobo-light-badge.kobo-light-badge--icon-only .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .kobo-light-badge.kobo-light-badge--icon-only .ajs-close,.kobo-light-badge.kobo-light-badge--icon-only .react-tagsinput-remove{margin-right:0}.kobo-light-button.kobo-light-button--full-width,.kobo-light-badge.kobo-light-button--full-width{width:100%;text-align:center}.kobo-light-badge{color:#333847;background-color:#e7e9ee;border-color:#e7e9ee;white-space:nowrap;padding-left:8px;padding-right:8px}.kobo-light-button{cursor:pointer;color:#565e76;background-color:transparent;border-color:currentColor}.kobo-light-button[disabled]{pointer-events:none;opacity:.5}.kobo-light-button:hover,.kobo-light-button.kobo-light-button--pending{color:#fff;background-color:#565e76;border-color:#565e76}.kobo-light-button:active{transform:translateY(1px)}.kobo-light-button.kobo-light-button--blue{color:#259af4;border-color:#259af4}.kobo-light-button.kobo-light-button--blue:hover,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending{color:#fff;background-color:#259af4;border-color:#259af4}.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--blue.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--blue.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--teal{color:#22b0c3;border-color:#22b0c3}.kobo-light-button.kobo-light-button--teal:hover,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending{color:#fff;background-color:#22b0c3;border-color:#22b0c3}.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--teal.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--teal.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--green{color:#28bd70;border-color:#28bd70}.kobo-light-button.kobo-light-button--green:hover,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending{color:#fff;background-color:#28bd70;border-color:#28bd70}.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--green.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--green.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--green.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--orange{color:#e6801a;border-color:#e6801a}.kobo-light-button.kobo-light-button--orange:hover,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending{color:#fff;background-color:#e6801a;border-color:#e6801a}.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--orange.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--orange.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--red{color:#e84a5f;border-color:#e84a5f}.kobo-light-button.kobo-light-button--red:hover,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending{color:#fff;background-color:#e84a5f;border-color:#e84a5f}.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--red.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--red.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--red.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--gray{color:#979fb4;border-color:#979fb4}.kobo-light-button.kobo-light-button--gray:hover,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending{color:#fff;background-color:#979fb4;border-color:#979fb4}.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--gray.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--gray.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff}.kobo-light-button.kobo-light-button--pending{color:transparent !important;position:relative;pointer-events:none}.kobo-light-button.kobo-light-button--pending .k-icon.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--pending .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-spinner.k-spin,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .kobo-light-button.kobo-light-button--pending i.k-icon-spinner.k-spin,.kobo-light-button.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--savepending>i,.kobo-light-button.kobo-light-button--pending .form-builder-header__button.form-builder-header__button--create-pending>i,.kobo-light-button.kobo-light-button--pending .alertify-notifier .ajs-message .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--savepending>i.ajs-close,.kobo-light-button.kobo-light-button--pending .alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--create-pending>i.ajs-close,.alertify-notifier .ajs-message .kobo-light-button.kobo-light-button--pending .k-icon-spinner.k-spin.ajs-close,.kobo-light-button.kobo-light-button--pending .k-icon-spinner.k-spin.react-tagsinput-remove{color:#fff;display:block;position:absolute;top:calc(50% - 9px);left:calc(50% - 9px)}.kobo-text-button{display:inline-block;vertical-align:middle;position:relative;font-size:14px;font-weight:400;text-decoration:none;border:0;padding:0;margin:0;cursor:pointer;color:#565e76;background:transparent;text-transform:uppercase}.kobo-text-button[disabled]{pointer-events:none;opacity:.75}.kobo-text-button:hover{opacity:.9}.kobo-text-button:active{transform:translateY(1px)}.kobo-text-button.kobo-text-button--blue{color:#259af4}.kobo-text-button.kobo-text-button--teal{color:#22b0c3}.kobo-text-button.kobo-text-button--green{color:#28bd70}.kobo-text-button.kobo-text-button--orange{color:#e6801a}.kobo-text-button.kobo-text-button--red{color:#e84a5f}@media screen and (min-width: 768px){[data-tip]{position:relative}[data-tip]::before,[data-tip]::after{pointer-events:none;position:absolute;opacity:0;visibility:hidden;transition-duration:.2s;transition-property:visibility,opacity;z-index:2}[data-tip]::after{content:attr(data-tip);font-size:13px;line-height:1.35em;color:#fff;background-color:#565e76;padding:6px 12px;top:96%;left:50%;transform:translate(-50%, 0);white-space:nowrap;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px}[data-tip]::before{content:\\\"\\\";border-bottom:5px solid #565e76;border-left:5px solid transparent;border-right:5px solid transparent;top:calc(96% - 5px);width:0;height:0;left:50%;transform:translate(-50%, 0)}[data-tip]:hover::after,[data-tip]:hover::before{opacity:1;visibility:visible}.k-drawer [data-tip]::after{left:95%;top:50%;transform:translate(0, -50%)}.k-drawer [data-tip]::before{left:calc(95% - 5px);top:50%;transform:translate(0, -50%);border-right:5px solid #565e76;border-bottom:5px solid transparent;border-top:5px solid transparent;border-left:none}.right-tooltip [data-tip]::after,.right-tooltip[data-tip]::after{left:auto;right:calc(50% - 10px);transform:translate(0)}.left-tooltip [data-tip]::after,.left-tooltip[data-tip]::after{left:calc(50% - 10px);right:auto;transform:translate(0)}.asset-row .popover-menu [data-tip]::after{left:-60%}.mdl-layout__header [data-tip]::after{left:50px}.mdl-layout__header [data-tip]::before{left:50px}}@media screen and (max-width: 767px){.k-tooltip{display:none}}@media screen and (min-width: 768px){.k-tooltip__parent{position:relative}.k-tooltip__parent .k-tooltip{pointer-events:none;position:absolute;font-size:13px;font-weight:normal;line-height:1.35em;color:#fff;background-color:#565e76;padding:6px 12px;top:calc(100% + 6px);left:50%;transform:translate(-50%, 0);z-index:2;opacity:0;visibility:hidden;transition:opacity .3s;white-space:nowrap;text-align:center;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px}.k-tooltip__parent .k-tooltip strong{margin-bottom:5px;font-weight:bold}.k-tooltip__parent .k-tooltip p{margin:0}.k-tooltip__parent .k-tooltip::before{border-bottom:5px solid #565e76;border-left:5px solid transparent;border-right:5px solid transparent;position:absolute;top:-5px;content:\\\"\\\";width:0;height:0;left:50%;transform:translate(-50%, 0);z-index:2}.k-tooltip__parent:hover>.k-tooltip{opacity:1;visibility:visible}}.header-stretch-bg{position:absolute;width:100%;background-color:#333847;min-height:64px;z-index:0}.mdl-layout__header{background-color:#333847;min-height:64px;margin-left:0px;width:100%;z-index:auto}.mdl-layout__header .mdl-layout__header-row{height:64px;padding:0px 20px}.mdl-layout__header .mdl-placeholder{margin-left:auto}.mdl-layout__header .mdl-layout-title{width:244px}.mdl-layout__header .header__logo{width:175px;height:40px;background:url(\" + escape(require(\"../img/kobologo.svg\")) + \") no-repeat left bottom;background-size:contain;display:block}.mdl-layout__header .login-box{text-align:right}.mdl-layout__header .mdl-layout-title+.login-box{flex:1}.mdl-layout__header .account-box{margin-left:auto;position:relative;max-width:115px}.mdl-layout__header .account-box__name{display:inline-block;vertical-align:middle;color:#fff;cursor:pointer;background-color:transparent;border:none;max-width:100%}.mdl-layout__header .mdl-layout__header-searchers{flex-grow:1}.mdl-layout__header .header__link{color:#fff;cursor:pointer}.mdl-layout__header .header__link:hover{opacity:.8}.mdl-layout__header .search{vertical-align:middle;margin:0px 6px;display:inline-block;width:60%;position:relative}.mdl-layout__header .search ::-webkit-input-placeholder{color:#fff}.mdl-layout__header .search :-ms-input-placeholder{color:#fff}.mdl-layout__header .search .search-input{color:#fff;border:none;border-radius:0px;padding:10px 12px;padding-left:42px;background-color:rgba(255,255,255,.1);font-size:16px;position:relative;width:99%}.mdl-layout__header .search .search__icon,.mdl-layout__header .search .search__cancel{position:absolute;top:9px;color:#fff;font-size:24px}.mdl-layout__header .search .search__icon{left:12px}.mdl-layout__header .search .search__cancel{cursor:pointer;right:12px}.popover-menu--account-menu .popover-menu__content{min-width:240px;z-index:1101}.account-box__menu{min-width:270px;max-height:80vh;overflow-y:auto}.account-box__menu .account-box__menu-item--avatar{display:inline-block;margin-right:15px;vertical-align:top}.account-box__menu .account-box__menu-item--mini-profile{color:#565e76;display:inline-block;width:calc(100% - 70px);line-height:20px;margin-top:5px;margin-bottom:12px}.account-box__menu .account-box__menu-item--mini-profile span{display:inline-block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%}.account-box__menu .account-box__menu-item--mini-profile .account-username{font-size:18px}.account-box__menu .account-box__menu-item--settings{text-align:right}.account-box__menu .account-box__menu-li{padding:15px;padding-bottom:15px}.account-box__menu .account-box__menu-li a{color:#565e76;cursor:pointer;font-weight:normal;display:block}.account-box__menu .account-box__menu-li a i{font-size:24px;margin:3px;vertical-align:-6px}.account-box__menu .account-box__menu-li a span{vertical-align:middle}.account-box__menu .account-box__menu-li a:hover{color:#259af4}.account-box__menu .account-box__menu-li.environment-links{text-align:right}.account-box__menu .account-box__menu-li.environment-links a{display:inline-block;margin-left:15px;font-size:12px}.account-box__menu .account-box__menu-li--lang{position:relative;border-top:1px solid #e7e9ee;padding-bottom:5px}.account-box__menu .account-box__menu-li--lang ul{background-color:#fff;color:#565e76;min-width:140px;padding:0;border:1px solid #e7e9ee}.account-box__menu .account-box__menu-li--lang ul li{text-transform:capitalize;padding:0}.account-box__menu .account-box__menu-li--lang ul li:not(:last-child){border-bottom:1px solid #e7e9ee}.account-box__menu .account-box__menu-li--lang ul li a{padding:10px 15px}.account-box__menu .account-box__menu-li--logout{padding-top:5px}.mdl-layout__header .mdl-button--icon,.mdl-layout__header .form-view__icon-button,.mdl-layout__header .form-builder-header__close{display:none}@media screen and (max-width: 999px){.mdl-layout__header .mdl-button--icon,.mdl-layout__header .form-view__icon-button,.mdl-layout__header .form-builder-header__close{display:block;margin-right:8px;padding:0px;color:#fff}.mdl-layout__header .mdl-button--icon .k-icon.k-icon-menu,.mdl-layout__header .form-view__icon-button .k-icon.k-icon-menu,.mdl-layout__header .mdl-button--icon .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-menu,.mdl-layout__header .form-view__icon-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-menu,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .mdl-layout__header .mdl-button--icon i.k-icon-menu,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .mdl-layout__header .form-view__icon-button i.k-icon-menu,.mdl-layout__header .mdl-button--icon .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-menu,.mdl-layout__header .form-view__icon-button .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-menu,.mdl-layout__header .mdl-button--icon .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-menu,.mdl-layout__header .form-view__icon-button .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-menu,.mdl-layout__header .form-builder-header__close .k-icon.k-icon-menu,.mdl-layout__header .form-builder-header__close .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-menu,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .mdl-layout__header .form-builder-header__close i.k-icon-menu,.mdl-layout__header .form-builder-header__close .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-menu,.mdl-layout__header .form-builder-header__close .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-menu,.mdl-layout__header .mdl-button--icon .alertify-notifier .ajs-message .k-icon-menu.ajs-close,.mdl-layout__header .form-view__icon-button .alertify-notifier .ajs-message .k-icon-menu.ajs-close,.mdl-layout__header .form-builder-header__close .alertify-notifier .ajs-message .k-icon-menu.ajs-close,.alertify-notifier .ajs-message .mdl-layout__header .mdl-button--icon .k-icon-menu.ajs-close,.alertify-notifier .ajs-message .mdl-layout__header .form-view__icon-button .k-icon-menu.ajs-close,.alertify-notifier .ajs-message .mdl-layout__header .form-builder-header__close .k-icon-menu.ajs-close,.mdl-layout__header .mdl-button--icon .k-icon-menu.react-tagsinput-remove,.mdl-layout__header .form-view__icon-button .k-icon-menu.react-tagsinput-remove,.mdl-layout__header .form-builder-header__close .k-icon-menu.react-tagsinput-remove{font-size:32px;line-height:32px;display:block;margin:3px}.mdl-layout__header .account-box__logo{max-width:85%}.mdl-layout__header .mdl-layout-title{width:160px}.mdl-layout__header .mdl-layout__header-row{padding:0px 12px}.mdl-layout__header .form-title{width:calc(100% - 240px);overflow:hidden;margin-right:10px}}@media screen and (max-width: 767px){.mdl-layout__header .search{display:none}}.main-header .main-header__icon{font-size:38px;color:#979fb4;vertical-align:middle;width:38px}.main-header .main-header__title{vertical-align:middle;margin-right:20px;flex:1;align-items:center;color:#fff;font-size:18px}.main-header .main-header__title.main-header__title--long input{font-size:14px}.main-header .main-header__title input{background:transparent;border-left:none;border-right:none;border-bottom:1px solid transparent;border-top:1px solid transparent;color:#fff;font-size:18px;margin:0;overflow:hidden;padding:3px 6px;text-overflow:ellipsis;white-space:nowrap;width:100%}.main-header .main-header__title input::-webkit-input-placeholder{color:#565e76}.main-header .main-header__title input:-ms-input-placeholder{color:#565e76}.main-header .main-header__title input:hover{border-bottom:1px solid #259af4}.main-header .main-header__title input:focus{background:rgba(255,255,255,.05);border-bottom:1px solid #259af4}.main-header .main-header__counter{font-size:14px;margin-right:20px;color:#979fb4}@media screen and (max-width: 767px){.main-header .main-header__icon,.main-header .main-header__counter{display:none}.mdl-layout__header .mdl-layout-title{width:40px}.mdl-layout__header .main-header__title input{border-radius:0}.mdl-layout__header .header__logo{background:url(\" + escape(require(\"../img/kobologoS.svg\")) + \") no-repeat left center;background-size:125%;width:40px}}.account-box__initials{width:32px;text-align:center;text-transform:uppercase;padding:6px;border-radius:32px;display:inline-block;vertical-align:middle;line-height:20px;font-size:16px;color:#fff}.account-box__menu-item--avatar .account-box__initials{width:48px;padding:10px;border-radius:48px;line-height:28px;font-size:24px}.git-rev{display:none}@media screen and (min-width: 768px){.git-rev{display:block;position:fixed;bottom:0px;left:80px;z-index:100}.git-rev .git-rev__item{color:#fff;opacity:.85;background:#1b8998;margin-top:5px;padding:6px 12px;display:block;font-size:12px}}@media screen and (pointer: coarse){.account-box__menu .account-box__menu-li--lang ul{opacity:1;position:static;border:1px solid #e7e9ee;margin-left:12px;padding:0px;max-height:1000px;box-shadow:none}.account-box__menu .account-box__menu-li--lang ul li{padding:6px 18px}}.k-drawer{height:calc(100% - 64px);top:64px;width:270px;position:absolute;left:0;display:flex;flex-direction:row;border-right:2px solid #e7e9ee}.k-drawer+.mdl-layout__content{margin-left:270px}.k-drawer__primary-icons{display:flex;flex-direction:column;width:58px;height:100%;background-color:#f3f4f6}.k-drawer__link{font-size:26px;margin:6px 0;text-align:center;color:#565e76;padding:0;border-left:3px solid transparent}.k-drawer__link:first-child{margin-top:26px}.k-drawer__link:hover{color:#22b0c3}.k-drawer__link.active{color:#22b0c3;border-left:3px solid #22b0c3}.k-drawer__secondary-icons{left:0;bottom:0;position:absolute;width:58px}.k-drawer__secondary-icons .k-drawer__link{padding:0;margin-bottom:5px;display:block;text-align:center;font-weight:normal;position:relative;color:#565e76}.k-drawer__secondary-icons .k-drawer__link:hover{color:#22b0c3}.k-drawer__secondary-icons .k-drawer__link i{font-size:24px;margin:12px;display:block}.k-drawer__sidebar{width:calc(100% - 58px);height:100%;padding:20px 14px;display:flex;flex-direction:column}.k-drawer__sidebar button.mdl-button,.k-drawer__sidebar button.form-view__icon-button,.k-drawer__sidebar .cascade-popup .cascade-popup__buttonWrapper button,.cascade-popup .cascade-popup__buttonWrapper .k-drawer__sidebar button,.k-drawer__sidebar button.form-builder-header__button,.k-drawer__sidebar button.form-builder-header__close,.k-drawer__sidebar .form-wrap button.error-message__link,.form-wrap .k-drawer__sidebar button.error-message__link,.k-drawer__sidebar .popover-menu--new-menu button.popover-menu__toggle,.popover-menu--new-menu .k-drawer__sidebar button.popover-menu__toggle,.k-drawer__sidebar .popover-menu--custom-reports button.popover-menu__toggle,.popover-menu--custom-reports .k-drawer__sidebar button.popover-menu__toggle{width:100%}@media screen and (max-width: 999px){.k-drawer{position:fixed;z-index:1050;left:-274px;transition:left .5s;background-color:#fff;box-shadow:0 0 8px 0 rgba(51,56,71,.06),0 8px 8px 0 rgba(51,56,71,.12);border-radius:2px}.page-wrapper--fixed-drawer .k-drawer{left:0;width:340px}.k-drawer+.mdl-layout__content{margin-left:0}}.form-sidebar{margin-top:10px;overflow-y:auto;overflow-x:hidden;flex:1;color:#565e76}.form-sidebar.form-sidebar--loading{pointer-events:none;opacity:.5}.form-sidebar.form-sidebar--loading .form-sidebar__label-count{color:transparent}.form-sidebar.form-sidebar--loading .form-sidebar__label.form-sidebar__label--selected{color:inherit}.form-sidebar .form-sidebar__label,.form-sidebar .form-sidebar__item{cursor:pointer}.form-sidebar .form-sidebar__label{display:flex;flex-direction:row;align-items:center;padding:3px 0;position:relative;color:inherit}.form-sidebar .form-sidebar__label:hover{color:#333847}.form-sidebar .form-sidebar__label.form-sidebar__label--selected{color:#333847}.form-sidebar .form-sidebar__label i{font-size:26px;margin:5px 4px 5px 1px;display:inline-block}.form-sidebar .form-sidebar__label .form-sidebar__label-text{flex:1}.form-sidebar .form-sidebar__label .form-sidebar__label-count{padding:0 6px;font-size:12px;line-height:20px;min-width:20px;border-radius:20px;background-color:#e7e9ee;text-align:center;margin-right:4px}.form-sidebar .form-sidebar__grouping{margin-bottom:10px}.form-sidebar .form-sidebar__grouping.form-sidebar__grouping--collapsed{margin:0;height:0;overflow:hidden}.form-sidebar .form-sidebar__item{display:flex;flex-direction:row;align-items:flex-start;line-height:15px;color:#565e76;font-weight:normal;font-size:12px;padding:5px}.form-sidebar .form-sidebar__item:hover{color:#333847}.form-sidebar .form-sidebar__item.form-sidebar__item--active{background:#ededee}.form-builder{background-color:#fff}.form-builder__contents{height:calc(100% - 125px);overflow-x:auto;overflow-y:scroll;margin-right:0;transition:margin 200ms;padding:20px 40px;width:auto}.form-builder__contents .form-builder-message-box{max-width:1024px;margin-left:auto;margin-right:auto}@media screen and (min-width: 1100px){.form-builder-aside--visible+.form-builder .form-builder__contents,.lib-nav--visible+.form-builder .form-builder__contents{margin-right:400px}}.form-wrap{width:100%;max-width:1024px;margin:0 auto}.form-wrap input,.form-wrap textarea{box-shadow:none}.form-wrap input:focus,.form-wrap textarea:focus{box-shadow:none}.form-wrap .loading{min-height:200px}.form-wrap .error-message{width:540px;margin:24px auto;padding:12px 20px}.form-wrap .error-message p{font-family:\\\"Roboto Mono\\\",monospace;white-space:pre}.form-wrap .error-message__strong{border:1px solid #000;padding-right:12px}.form-wrap .error-message__link{margin-right:5px}.form-wrap .error-message__link--help{float:right}.form-builder-header{height:125px;position:relative;z-index:20}.form-builder-header .form-builder-header__row{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center}.form-builder-header .form-builder-header__row.form-builder-header__row--primary{background-color:#fff;height:75px;position:relative;z-index:2;box-shadow:0 0 3px 0 rgba(51,56,71,.2),0 0 10px 0 rgba(51,56,71,.1)}.form-builder-header .form-builder-header__row.form-builder-header__row--secondary{background:#f3f4f6;height:50px;position:relative;z-index:1;box-shadow:0 0 3px 0 rgba(51,56,71,.2),0 0 10px 0 rgba(51,56,71,.1)}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo{background-color:#22b0c3;width:75px;text-align:center;vertical-align:middle;height:75px;cursor:pointer;transition:.2s}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:hover{background-color:#1b8998}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus{background-color:#1b8998}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .k-icon,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .form-builder-header__button.form-builder-header__button--create-pending>i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .ajs-close,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo:focus .react-tagsinput-remove{font-size:40px;top:calc(50% - 19px);left:calc(50% - 19px)}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .k-icon,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .form-builder-header__button.form-builder-header__button--create-pending>i,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .ajs-close,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .react-tagsinput-remove{color:#fff;font-size:36px;position:absolute;top:calc(50% - 17px);left:calc(50% - 17px)}.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .k-icon::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i::before,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo i::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .form-builder-header__button.form-builder-header__button--savepending>i::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .form-builder-header__button.form-builder-header__button--create-pending>i::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .alertify-notifier .ajs-message .ajs-close::before,.alertify-notifier .ajs-message .form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .ajs-close::before,.form-builder-header .form-builder-header__cell.form-builder-header__cell--logo .react-tagsinput-remove::before{margin-right:0}.form-builder-header .form-builder-header__cell.form-builder-header__cell--name{flex:1;margin-left:20px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--name label::first-letter{text-transform:uppercase}.form-builder-header .form-builder-header__cell.form-builder-header__cell--name input{border-radius:0;padding-left:0;font-size:16px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--translations p{margin:0 0 0 10px;line-height:15px;padding-top:10px;font-size:11px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--translations p small{display:block;color:#565e76}.form-builder-header .form-builder-header__cell.form-builder-header__cell--translations p small::before{content:\\\"+ \\\"}.form-builder-header .form-builder-header__cell.form-builder-header__cell--buttonsTopRight{text-align:right;margin:0 10px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--buttonsTopRight button{margin-left:10px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--close{width:45px;text-align:right;padding:5px;margin-left:5px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons{margin:0 10px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button{color:#565e76;overflow:visible;padding:0}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button[data-tip]::after{margin-left:30px}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button:hover,.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button:focus,.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button:focus:not(:active){background-color:transparent}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button:hover{color:#333847}.form-builder-header .form-builder-header__cell.form-builder-header__cell--toolsButtons button i{font-size:24px;margin:3px;vertical-align:middle}.form-builder-header .form-builder-header__cell.form-builder-header__cell--spacer{flex-grow:1;height:100%}.form-builder-header .form-builder-header__cell.form-builder-header__cell--verticalRule{width:1px;background:#e7e9ee;height:100%}.form-builder-header__close{border:none;color:#565e76;cursor:pointer}.form-builder-header__close:hover{color:#333847}.form-builder-header__close:focus i{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.form-builder-header__button:focus i{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.form-builder-header__button.form-builder-header__button--create,.form-builder-header__button.form-builder-header__button--save{margin-left:10px;text-transform:uppercase;min-width:85px}.form-builder-header__button.form-builder-header__button--create>i,.form-builder-header__button.form-builder-header__button--save>i{display:none}.form-builder-header__button.form-builder-header__button--create:focus,.form-builder-header__button.form-builder-header__button--save:focus{background-color:#0b81da;font-weight:bold}.form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--create-pending>i{font-size:24px;display:inline-block;vertical-align:middle;margin-right:3px;margin-left:-2px}.form-builder-header__button.form-builder-header__button--savepending>i+span,.form-builder-header__button.form-builder-header__button--create-pending>i+span{display:none}.form-builder-header__button.form-builder-header__button--savefailed::after,.form-builder-header__button.form-builder-header__button--saveneeded::after{content:\\\"*\\\";color:#fff}.form-builder-header__button.form-builder-header__button--panel-toggle{padding:0 10px}.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active i.k-icon,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active i,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active .alertify-notifier .ajs-message i.ajs-close,.alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active i.ajs-close,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active i.react-tagsinput-remove,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--panel-toggle.form-builder-header__button--active .form-builder-header__button.form-builder-header__button--create-pending>i{color:#259af4}.form-builder-header__button.form-builder-header__button--panel-toggle .panel-toggle-name{margin-right:10px}.form-builder-header__button.form-builder-header__button--panel-toggle i.k-icon,.form-builder-header__button.form-builder-header__button--panel-toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-header__button.form-builder-header__button--panel-toggle i,.form-builder-header__button.form-builder-header__button--panel-toggle .alertify-notifier .ajs-message i.ajs-close,.alertify-notifier .ajs-message .form-builder-header__button.form-builder-header__button--panel-toggle i.ajs-close,.form-builder-header__button.form-builder-header__button--panel-toggle i.react-tagsinput-remove,.form-builder-header__button.form-builder-header__button--panel-toggle .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-header__button.form-builder-header__button--panel-toggle .form-builder-header__button.form-builder-header__button--create-pending>i{font-size:24px;margin-right:3px;vertical-align:middle}.form-builder-header__button.form-builder-header__button--panel-toggle:focus{outline-color:#259af4;outline-offset:-2px;outline-style:auto;outline-width:5px}.form-builder-header__button.form-builder-header__button--panel-toggle:focus i{outline:none}.form-builder-header__button[disabled]{opacity:.5;pointer-events:none}.form-builder-aside{position:absolute;right:0;bottom:0;top:125px;width:400px;background-color:#f3f4f6;transition:right 200ms;box-shadow:0 0 3px 0 rgba(51,56,71,.2),0 0 10px 0 rgba(51,56,71,.1);z-index:10}.form-builder-aside:not(.form-builder-aside--visible){right:-410px}.form-builder-aside .form-builder-aside__content{padding:30px;overflow-y:auto;height:100%}.form-builder-aside .form-builder-aside__content .form-builder-aside__row:last-child{margin-bottom:30px}.form-builder-aside .form-builder-aside__header{margin:0;font-size:20px;line-height:28px;font-weight:700}.form-builder-aside .form-builder-aside__header .k-icon,.form-builder-aside .form-builder-aside__header .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-aside .form-builder-aside__header i,.form-builder-aside .form-builder-aside__header .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-aside .form-builder-aside__header .ajs-close,.form-builder-aside .form-builder-aside__header .react-tagsinput-remove,.form-builder-aside .form-builder-aside__header .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-aside .form-builder-aside__header .form-builder-header__button.form-builder-header__button--create-pending>i{font-size:20px;margin-left:3px;vertical-align:top}.form-builder-aside .form-builder-aside__header:not(:last-child){margin-bottom:10px}.form-builder-aside .form-builder-aside__row:not(:first-child){margin-top:20px}.form-builder-meta .form-builder-meta__columns{display:flex;flex-direction:row}.form-builder-meta .form-builder-meta__row{margin-top:10px}.form-builder-meta .form-builder-meta__row--background-audio{margin-top:20px}.form-builder-meta .form-builder-meta__row--background-audio .form-builder-aside__header{margin-bottom:0}.form-builder-meta .form-builder-meta__row--background-audio .toggle-switch{margin-top:10px}.form-builder-meta .form-builder-meta__row--background-audio label{font-weight:500}.form-builder-meta .form-builder-meta__column{flex:1;margin-right:10px}.form-builder-meta .form-builder-meta__column .checkbox:not(:last-of-type){margin-bottom:10px}.cascade-popup textarea{margin:15px 0;width:100%;height:220px;border:2px solid #e7e9ee}.cascade-popup .cascade-popup__buttonWrapper{padding-top:10px;text-align:right}.cascade-popup .cascade-popup__buttonWrapper button{min-width:100px}.cascade-popup .cascade-popup__message--warning{color:#e84a5f}.cascade-popup .cascade-popup__message--ready{color:#22b0c3}.cascade-popup .cascade-help{text-align:right}.cascade-popup .cascade-help i{font-size:18px;color:#565e76}.survey-editor .ui-sortable-placeholder{border:2px dashed #259af4;visibility:visible !important;min-height:80px;padding:0}.survey-editor .placeholder{margin:5px 0}.survey-editor .lib-list__item{background:transparent}@media screen and (max-width: 767px){.form-builder-header__cell--logo{display:none}.form-builder-header__cell--buttonsTopRight .form-builder-header__button--save{max-width:120px;text-overflow:ellipsis}.form-builder-header__button--panel-toggle .panel-toggle-name{display:none}}@media screen and (max-width: 767px){.form-builder-header__cell--library-toggle{display:none}}@media screen and (pointer: coarse){.form-builder-header__cell--library-toggle{display:none}}@media screen and (max-width: 480px){.form-builder-header__cell--toolsButtons button{padding:0;border-radius:0}.card--selectquestion__expansion{padding-right:5px;padding-left:25px}.multioptions__option div.editable-wrapper{width:65%}.multioptions__option code{width:33%;margin-left:1%;margin-right:0}.multioptions__option code label{font-size:10px;padding-left:2px;width:24%}.multioptions__option code span{padding-right:2px;width:64%;overflow:hidden}.btn--addrow{left:-40px}.card__settings__content{padding:20px;padding-right:10px}.card__settings__fields__field>label{text-align:left;margin-right:1%}.card__settings__fields__field .settings__input input[type=text]{border:1px solid #e7e9ee}.questiontypelist__item{text-align:center;background:#f3f4f6}.questiontypelist__item i{display:block;margin:0 auto;margin-bottom:5px}}.form-builder-message-box{width:100%;margin:0 auto 20px;background-color:#565e76;color:#fff;padding:10px;display:flex;flex-direction:row;align-items:center;flex-wrap:wrap}.form-builder-message-box i{color:#fff;font-size:28px;margin-right:5px;vertical-align:-11px;display:inline-block}.form-builder-message-box p{margin:0;flex:1;padding:0 5px}.form-builder-message-box span{cursor:default}.form-builder-message-box .form-builder-message-box__toggle{margin:0;padding:0;border:0;background:none;color:#9ed2fa;cursor:pointer}.form-builder-message-box .form-builder-message-box__toggle:active{transform:translateY(1px)}.form-builder-message-box .form-builder-message-box__toggle .k-icon,.form-builder-message-box .form-builder-message-box__toggle .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-builder-message-box .form-builder-message-box__toggle i,.form-builder-message-box .form-builder-message-box__toggle .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-builder-message-box .form-builder-message-box__toggle .ajs-close,.form-builder-message-box .form-builder-message-box__toggle .react-tagsinput-remove,.form-builder-message-box .form-builder-message-box__toggle .form-builder-header__button.form-builder-header__button--savepending>i,.form-builder-message-box .form-builder-message-box__toggle .form-builder-header__button.form-builder-header__button--create-pending>i{color:inherit;font-size:18px;vertical-align:middle}.form-builder-message-box .form-builder-message-box__details{padding:10px;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-around}.form-builder-message-box--warning{background-color:#fcf2e8;color:#b86614}.form-builder-message-box--warning a{width:28px;cursor:pointer}.form-builder-message-box--warning i{color:#b86614}.form-builder-message-box--warning p{margin-left:12px;margin-right:12px;font-weight:500}.locking__ui-disabled{pointer-events:none !important;opacity:.5 !important}.locking__ui-hidden{display:none !important}.locking__level-all .card__header,.locking__level-all .question__tags,.locking__level-all .card__settings,.locking__level-all .card--selectquestion__expansion,.locking__level-all .params-view__simple-wrapper{background-color:#f3f4f6}.locking__level-all .question__tags::after,.locking__level-all .card__settings::after,.locking__level-all .card--selectquestion__expansion::after{border-bottom-color:#f3f4f6}.locking__level-all .card__addoptions__layer{background-color:rgba(243,244,246,.5)}.locking__level-1 .card__header-icon{color:#085ea0}.locking__level-2 .card__header-icon{color:#259af4}.locking__level-3-plus .card__header-icon{color:#5cc8d6}.locked-asset-type-label{line-height:20px}.locked-asset-type-label>.k-icon,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-asset-type-label>i,.alertify-notifier .ajs-message .locked-asset-type-label>.ajs-close,.locked-asset-type-label>.react-tagsinput-remove,.form-builder-header__button.form-builder-header__button--savepending.locked-asset-type-label>i,.form-builder-header__button.form-builder-header__button--create-pending.locked-asset-type-label>i{display:inline-block;vertical-align:-3px;font-size:16px}.locked-asset-type-label a{margin-left:4px;display:inline-block;vertical-align:-5px}.locked-asset-type-label a .k-icon,.locked-asset-type-label a .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-asset-type-label a i,.locked-asset-type-label a .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .locked-asset-type-label a .ajs-close,.locked-asset-type-label a .react-tagsinput-remove,.locked-asset-type-label a .form-builder-header__button.form-builder-header__button--savepending>i,.locked-asset-type-label a .form-builder-header__button.form-builder-header__button--create-pending>i{display:block;font-size:20px}.locked-features{display:flex;flex-direction:row;align-content:flex-start;justify-content:space-around;font-weight:normal;padding:15px 15%;width:100%}.locked-features .locked-features__list label{display:block;font-weight:600;margin-bottom:20px}.locked-features .locked-features__list li{margin-top:5px}.locked-features .locked-features__list .k-icon,.locked-features .locked-features__list .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-features .locked-features__list i,.locked-features .locked-features__list .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .locked-features .locked-features__list .ajs-close,.locked-features .locked-features__list .react-tagsinput-remove,.locked-features .locked-features__list .form-builder-header__button.form-builder-header__button--savepending>i,.locked-features .locked-features__list .form-builder-header__button.form-builder-header__button--create-pending>i{display:inline-block;vertical-align:middle;margin-right:5px}.locked-features .locked-features__list.locked-features__list--cans .k-icon,.locked-features .locked-features__list.locked-features__list--cans .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-features .locked-features__list.locked-features__list--cans i,.locked-features .locked-features__list.locked-features__list--cans .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .locked-features .locked-features__list.locked-features__list--cans .ajs-close,.locked-features .locked-features__list.locked-features__list--cans .react-tagsinput-remove,.locked-features .locked-features__list.locked-features__list--cans .form-builder-header__button.form-builder-header__button--savepending>i,.locked-features .locked-features__list.locked-features__list--cans .form-builder-header__button.form-builder-header__button--create-pending>i{color:#28bd70}.locked-features .locked-features__list.locked-features__list--cants .k-icon,.locked-features .locked-features__list.locked-features__list--cants .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .locked-features .locked-features__list.locked-features__list--cants i,.locked-features .locked-features__list.locked-features__list--cants .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .locked-features .locked-features__list.locked-features__list--cants .ajs-close,.locked-features .locked-features__list.locked-features__list--cants .react-tagsinput-remove,.locked-features .locked-features__list.locked-features__list--cants .form-builder-header__button.form-builder-header__button--savepending>i,.locked-features .locked-features__list.locked-features__list--cants .form-builder-header__button.form-builder-header__button--create-pending>i{color:#e84a5f}.asset-list-sorts{padding:0px 12px;white-space:nowrap;border-bottom:1px solid #e7e9ee;overflow:hidden}.asset-list-sorts>.asset-list-sorts__item{opacity:.8;font-weight:500;position:relative;padding:10px 0px;padding-top:19px;margin-top:0px;margin-bottom:0px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.asset-list-sorts .asset-list-sorts__item--submissions{text-align:right;letter-spacing:-0.03em}.search__summary{background-color:#e7e9ee;height:50px;width:100%;flex-grow:0;text-align:left;padding:15px}.search__summary>div{display:inline}.search__summary div+div{margin-left:5px}.list__heading{display:block;font-size:18px;font-weight:500;padding:9px;line-height:1}.list__heading span,.list__heading i{vertical-align:middle}.list__heading span.parent{font-weight:normal;color:#565e76}.list__heading i{font-size:18px}.list__subheading{margin-top:20px;margin-bottom:10px;font-weight:600}.library{height:100%;overflow:hidden}.library>.dropzone{height:calc(100% - 50px);min-height:calc(100% - 50px)}.library .library__type-filter{position:absolute;top:0;right:0;z-index:1}.library .library__type-filter .kobo-select{display:inline-block;vertical-align:middle;min-width:120px;margin-left:5px}.list--regular{flex-flow:column;margin:0px !important;position:relative;height:100%;width:100%}.list--regular .asset-list{height:calc(100% - 92px);overflow-y:auto;width:100%;padding-bottom:50px}.list--regular .asset-list,.list--regular .asset-list-sorts{background-color:#fff}.list--regular .asset-list-sorts{margin-top:5px}.list--regular .asset-row__cell--date-modified,.list--regular .asset-list-sorts__item--modified{text-align:right}.list--grouped{height:100%;overflow-y:auto;padding:20px}.list--grouped .asset-list{min-height:100%}.list--grouped .asset-items{position:relative;overflow:visible}.list--grouped .asset-items--collapsed{max-height:0px;overflow:hidden}.list--grouped .asset-items+.asset-list__heading{margin-top:20px}.list--grouped .asset-row__cell--submission-count{text-align:right}.asset-list--fixed-headings{padding-top:50px}.asset-list--fixed-headings>.asset-items--1 .asset-list-sorts{display:flex;position:fixed;top:64px;background:#fff;z-index:99;overflow:hidden;box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px}@media screen and (max-width: 767px){.asset-list--fixed-headings>.asset-items--1 .asset-list-sorts{width:calc(100% - 22px)}.list--grouped,.list--regular{padding-left:0px;padding-right:0px;width:100%}.list__heading,.list__subheading{padding-left:10px;padding-right:10px}.library .library__type-filter{right:12px}}@media screen and (min-width: 840px){.asset-list-sorts .asset-list-sorts__item--submissions{margin:0px -4px;width:calc(8.33333% + 8px)}}@media screen and (max-width: 839px)and (min-width: 480px){.asset-list-sorts .asset-list-sorts__item--submissions{margin:0px -4px;width:calc(12.5% + 8px)}}.asset-row{list-style-type:none;border-top:1px solid #e7e9ee;padding:6px 12px;transition:max-height .5s ease,opacity .5s ease;min-height:49px;opacity:1;position:relative;align-items:flex-start;color:#565e76}.asset-row:hover{color:#333847;background:#f3f4f6;z-index:1}.asset-row .asset-row__link-overlay{cursor:pointer;position:absolute;top:-6px;left:-12px;width:calc(100% + 24px);height:calc(100% + 12px)}.asset-row>.asset-row__cell{width:100%;display:flex;align-items:flex-start}.asset-row>.asset-row__cell>.asset-row__cell{min-width:0;vertical-align:top}.asset-row>.asset-row__cell>.asset-row__cell.asset-row__cell--type{text-transform:capitalize}.asset-row:last-child{border-top:1px solid #e7e9ee}.asset-row.asset-row--deleting{opacity:.5}.asset-row.asset-row--deleted{transition:max-height .5s ease,opacity .5s ease;opacity:0;max-height:0px;min-height:0px;padding:0px;border:none;overflow:hidden}.asset-row .asset-row__cell--asset-details{position:relative}.asset-row .asset-row__cell--name{font-size:14px}.asset-row .asset-row__description,.asset-row .asset-row__cell--date-created .date,.asset-row .asset-row__cell--date-modified .date{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.asset-row .row-icon{vertical-align:middle;border:1px solid #22b0c3;font-size:13px;color:#22b0c3;width:36px;border-radius:6px;display:inline-block;margin-right:10px;text-align:center;font-style:normal}.asset-row .row-icon.row-icon--block{color:#fff;background:#22b0c3}.asset-row .row-icon.row-icon--template{border-style:dashed}.asset-row .asset-row__cell--title .row-icon{float:left;margin-top:-1px;margin-bottom:-1px}.asset-row .asset-row__description{margin-top:6px;display:block;color:#565e76;font-size:13px}.asset-row .asset-row__cell--tags{white-space:normal;margin-top:0}.asset-row .asset-row__cell--date-created,.asset-row .asset-row__cell--date-modified{font-size:13px}.asset-row .asset-row__cell--submission-count,.asset-row .asset-row__cell--row-count{text-align:right}.asset-row>.asset-row__buttons{position:absolute;top:0;right:0;padding:6px 6px 4px;width:auto;text-align:right;opacity:0;visibility:hidden;transition:.3s opacity;background:#f3f4f6;box-shadow:-5px 0px 15px 0px #f3f4f6;z-index:1}.asset-row .asset-row__action-icon,.asset-row .popover-menu{height:36px;display:inline-block;vertical-align:top}.asset-row .asset-row__action-icon{margin-left:0px;font-weight:400;color:#565e76;cursor:pointer}.asset-row .asset-row__action-icon:hover{background-color:transparent;color:#259af4}.asset-row .asset-row__action-icon i::before{margin:3px;font-size:26px}.asset-row.asset-row--display-tags .asset-row__action-icon--tagsToggle{background-color:transparent;color:#259af4}.asset-row:hover>.asset-row__buttons{opacity:1;visibility:visible;transition:.3s opacity;transition-delay:.1s}@media screen and (max-width: 767px){.asset-row:hover>.asset-row__buttons{width:55%}}.library-asset-list{list-style-type:none;padding:0;margin:0 -10px;margin:0}.library-asset-list__item{border-bottom:1px solid #e7e9ee;padding-left:20px;position:relative}.l-a__item__draggable{position:absolute;top:50%;left:3px;width:12px;height:12px;margin-top:-8px;background-color:#e7e9ee;border-radius:6px}.lib-nav__header{display:flex;flex-wrap:wrap}.lib-nav__header .kobo-select{width:100%}.lib-nav__search{margin:0 0 10px;flex-grow:1}.lib-nav__search .search{margin:0}.lib-nav__search .search .search__icon,.lib-nav__search .search .search__cancel{display:none}.lib-nav__search .search input{font-size:inherit;padding:5px 8px;width:100%;color:inherit;border:1px solid #e7e9ee;border-radius:3px;background:#fff}.lib-nav__search .search input::-moz-placeholder{color:inherit;opacity:.75}.lib-nav__search .search input:-ms-input-placeholder{color:inherit;opacity:.75}.lib-nav__search .search input::placeholder{color:inherit;opacity:.75}.lib-nav__expanded,.lib-nav__header .tag-select,.lib-nav__header .collection-filter{display:flex;justify-content:space-around;align-items:center;width:100%;margin-bottom:10px}.lib-nav__expanded{padding-bottom:10px;margin-bottom:20px;border-bottom:1px solid #e7e9ee}.lib-nav__expanded .lib-nav__expandedToggle{flex:1;text-align:right}.lib-nav__header .tag-select{z-index:100}.lib-nav__header .tag-select,.lib-nav__header .collection-filter{position:relative}.lib-nav__header .tag-select .kobo-select__menu,.lib-nav__header .collection-filter .kobo-select__menu{max-width:390px}.lib-nav__header .collection-filter{z-index:99}.lib-list{list-style-type:none;padding:0}.lib-list--empty .lib-list__item{cursor:default}.lib-list--done .lib-list__item{cursor:grab;cursor:-webkit-grab}.lib-list__item{border:1px solid #e7e9ee;padding-left:20px;position:relative;margin:5px 0;background-color:#fff}.lib-list__item.sortable-active:after{content:\\\"importing...\\\"}.lib-list__item.ui-sortable-helper{cursor:grabbing;cursor:-webkit-grabbing}.lib-list__item.ui-sortable-helper{background-color:#fff}.lib-list__item ol{font-size:smaller;opacity:.7;margin-bottom:6px;line-height:1.3em}.lib-list__tags{line-height:14px;font-size:11px;padding-left:5px}.lib-list__tag{max-width:90%;overflow:hidden}.lib-list__dragbox{position:absolute;top:50%;left:5px;width:12px;height:12px;margin-top:-8px;background-color:#e7e9ee;border-radius:6px}.lib-list__label{padding:5px;line-height:1.4em}.lib-list__label .asset-name{font-weight:600}.lib-list__qtype{padding:0 5px;font-weight:600;opacity:.7;font-size:smaller}.page-wrapper__content--form-landing .form-view{height:calc(100% - 48px)}.form-view{width:100%;height:100%;overflow-y:auto;background:#f3f4f6}.form-view.form-view--fullscreen{position:fixed;z-index:101;top:0;left:0;bottom:0;right:0;width:100%;height:100%;min-width:100%;max-width:100%;min-height:100%;max-height:100%}.form-view__sidetabs{width:170px;height:100%;max-height:calc(100% - 48px);overflow-x:hidden;overflow-y:auto;float:left;background:#fff;border-right:1px solid #e7e9ee}.form-view__sidetabs+.form-view,.form-view__sidetabs+.report-view,.form-view__sidetabs+.loading,.form-view__sidetabs+.access-denied{width:calc(100% - 170px);height:calc(100% - 48px);overflow:auto;overflow-x:hidden}.form-view__sidetabs+.loading{display:flex;justify-content:center;align-items:center;align-content:center}.form-view__sidetabs+.loading .loading__inner code{margin:20px auto}.form-view__sidetabs a.form-view__tab{background:transparent;border:none;padding:6px;border-left:2px solid transparent;font-size:14px;cursor:pointer;position:relative;color:#565e76;font-weight:normal;letter-spacing:-0.01em;display:flex;align-items:center;margin-left:10px}.form-view__sidetabs a.form-view__tab:hover,.form-view__sidetabs a.form-view__tab.active{color:#333847}.form-view__sidetabs a.form-view__tab.active{font-weight:700}.form-view__sidetabs a.form-view__tab.active::before{content:\\\"\\\";position:absolute;width:4px;height:100%;top:0;left:-10px;background-color:#22b0c3}.form-view__sidetabs a.form-view__tab.form-view__tab--disabled{pointer-events:none;opacity:.5}.form-view__sidetabs a.form-view__tab .k-icon,.form-view__sidetabs a.form-view__tab .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__sidetabs a.form-view__tab .ajs-close,.form-view__sidetabs a.form-view__tab .react-tagsinput-remove,.form-view__sidetabs a.form-view__tab .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__sidetabs a.form-view__tab .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__sidetabs a.form-view__tab .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__sidetabs a.form-view__tab i{font-size:26px;vertical-align:-7px;line-height:36px;margin:0 9px 0 5px}.form-view__sidetabs a.form-view__tab span{vertical-align:middle}.form-view__toptabs{background:#fff;border-bottom:1px solid #e7e9ee;text-align:center;height:48px;position:relative;display:flex;flex-direction:row;justify-content:center;align-items:stretch}.form-view__toptabs a.form-view__tab{background:transparent;border:none;border-bottom:2px solid transparent;text-transform:uppercase;line-height:48px;margin:0 30px;font-size:15px;cursor:pointer;position:relative;color:#565e76;font-weight:normal}.form-view__toptabs a.form-view__tab:hover,.form-view__toptabs a.form-view__tab.active{color:#333847}.form-view__toptabs a.form-view__tab.active{font-weight:700;border-bottom:4px solid #22b0c3}.form-view__toptabs a.form-view__tab.form-view__tab--disabled{pointer-events:none;opacity:.5}.form-view__toptabs a.form-view__link--close{position:absolute;right:10px;top:10px;padding:5px;font-size:18px}.form-view__row{margin:40px}.form-view__row+.form-view__row{margin-top:0}.form-view__row.historyHidden{margin:0}.form-view__row.historyHidden .form-view__cell--history-label,.form-view__row.historyHidden .form-view__cell--history-table{max-height:0;overflow:hidden;transition:.2s max-height;padding-bottom:0}.form-view__row.historyExpanded .form-view__cell--history-label,.form-view__row.historyExpanded .form-view__cell--history-table{transition:.2s max-height;max-height:99999px}.form-view__row.historyExpanded .form-view__cell--history-table+.form-view__cell{padding-top:20px}.form-view__row--history .form-view__cell--history-table{margin-bottom:20px}.form-view__cell-label{font-size:12px;opacity:.6}.form-view__cell.form-view__cell--box{background-color:#fff}.form-view__cell.form-view__cell--bordered{border:1px solid #e7e9ee}.form-view__cell.form-view__cell--page-title{font-size:24px;font-weight:700;margin:30px 0 15px}.form-view__cell.form-view__cell--page-subtitle{font-size:18px;font-weight:500;margin:30px 0 15px}.form-view__cell.form-view__cell--columns{display:flex;justify-content:space-between;align-items:center}.form-view__cell.form-view__cell--columns.form-view__cell--columns-right{justify-content:flex-end}.form-view__cell.form-view__cell--columns.form-view__cell--columns-top{align-items:flex-start}.form-view__cell.form-view__cell--columns .form-view__cell--stretch{flex:1}.form-view__cell.form-view__cell--column-1{flex:1}.form-view__cell.form-view__cell--column-2{flex:2}.form-view__cell.form-view__cell--column-icon{width:30px;margin-right:10px;text-align:center;color:#565e76}.form-view__cell.form-view__cell--column-icon .k-icon,.form-view__cell.form-view__cell--column-icon .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--column-icon .ajs-close,.form-view__cell.form-view__cell--column-icon .react-tagsinput-remove,.form-view__cell.form-view__cell--column-icon .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell.form-view__cell--column-icon .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell.form-view__cell--column-icon .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--column-icon i{font-size:24px;display:block}.form-view__cell.form-view__cell--toggle-details button{cursor:pointer;color:#259af4;background:transparent;border:0;padding:5px;text-align:center}.form-view__cell.form-view__cell--toggle-details button:hover{color:#0b81da}.form-view__cell.form-view__cell--toggle-details button:active{transform:translateY(1px)}.form-view__cell.form-view__cell--toggle-details button .k-icon,.form-view__cell.form-view__cell--toggle-details button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--toggle-details button .ajs-close,.form-view__cell.form-view__cell--toggle-details button .react-tagsinput-remove,.form-view__cell.form-view__cell--toggle-details button .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell.form-view__cell--toggle-details button .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell.form-view__cell--toggle-details button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--toggle-details button i{font-size:18px;vertical-align:-5px}.form-view__cell.form-view__cell--asset-content-summary-name{line-height:1}.form-view__cell.form-view__cell--bordertop{border-top:1px solid #e7e9ee}.form-view__cell.form-view__cell--padding{padding:20px}.form-view__cell.form-view__cell--padding-small{padding:10px 20px}.form-view__cell.form-view__cell--label{font-size:14px;color:#333847;font-weight:500}.form-view__cell.form-view__cell--label span{display:block;color:#565e76;font-size:12px}.form-view__cell.form-view__cell--label::first-letter{text-transform:uppercase}.form-view__cell.form-view__cell--first{padding-bottom:20px;position:relative}.form-view__cell.form-view__cell--first .form-view__group{position:absolute;right:0;top:-12px;min-width:200px;text-align:right}.form-view__cell.form-view__cell--buttons{text-align:right}.form-view__cell.form-view__cell--buttons a.mdl-button,.form-view__cell.form-view__cell--buttons a.form-view__icon-button,.form-view__cell.form-view__cell--buttons .popover-menu--new-menu a.popover-menu__toggle,.popover-menu--new-menu .form-view__cell.form-view__cell--buttons a.popover-menu__toggle,.form-view__cell.form-view__cell--buttons .popover-menu--custom-reports a.popover-menu__toggle,.popover-menu--custom-reports .form-view__cell.form-view__cell--buttons a.popover-menu__toggle,.form-view__cell.form-view__cell--buttons .form-wrap a.error-message__link,.form-wrap .form-view__cell.form-view__cell--buttons a.error-message__link,.form-view__cell.form-view__cell--buttons a.form-builder-header__close,.form-view__cell.form-view__cell--buttons a.form-builder-header__button{text-transform:uppercase;padding-left:30px;padding-right:30px}.form-view__cell.form-view__cell--version{font-weight:600;display:inline-block}.form-view__cell.form-view__cell--undeployed{display:inline-block}.form-view__cell.form-view__cell--back-button{margin-right:20px}.form-view__cell.form-view__cell--back-button:first-child .k-icon,.form-view__cell.form-view__cell--back-button:first-child .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--back-button:first-child .ajs-close,.form-view__cell.form-view__cell--back-button:first-child .react-tagsinput-remove,.form-view__cell.form-view__cell--back-button:first-child .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell.form-view__cell--back-button:first-child .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell.form-view__cell--back-button:first-child .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--back-button:first-child i{margin-left:-7px}.form-view__cell.form-view__cell--subscribed-badge{margin-left:20px;margin-right:20px;line-height:32px}.form-view__cell.form-view__cell--subscribed-badge .k-icon,.form-view__cell.form-view__cell--subscribed-badge .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell.form-view__cell--subscribed-badge .ajs-close,.form-view__cell.form-view__cell--subscribed-badge .react-tagsinput-remove,.form-view__cell.form-view__cell--subscribed-badge .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell.form-view__cell--subscribed-badge .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell.form-view__cell--subscribed-badge .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell.form-view__cell--subscribed-badge i{font-size:24px;margin:0 3px;vertical-align:top;color:#22b0c3}.form-view__cell.form-view__cell--label+.form-view__cell.form-view__cell--action-buttons{margin:-8px 0}.form-view__cell.form-view__cell--date{font-weight:normal;opacity:.8;display:inline-block}.form-view__cell.form-view__cell--date:not(:first-child){margin-left:6px}.form-view__cell.form-view__cell--translation-list ul{list-style:none;display:inline}.form-view__cell.form-view__cell--translation-list ul li{display:inline}.form-view__cell.form-view__cell--translation-list ul li:not(:last-child)::after{content:\\\", \\\"}.form-view__cell.form-view__cell--thin-label{color:#565e76;opacity:.6;font-size:12px;line-height:18px;margin-bottom:10px}.form-view__cell.form-view__cell--centered{text-align:center}.form-view__cell.form-view__cell--centered button{text-transform:uppercase}.form-view__cell.form-view__cell--deployed{margin-left:10px;display:inline-block;padding:6px;color:#fff;background-color:#28bd70;border-radius:2px}.form-view__cell.form-view__cell--warning{background-color:#fcf2e8;color:#b86614;border:1px solid #e6801a;padding:10px;display:flex;flex-direction:row;align-items:center}.form-view__cell.form-view__cell--warning i{color:#e6801a;font-size:28px;margin-right:5px;vertical-align:-11px;display:inline-block}.form-view__cell.form-view__cell--warning p{margin:0}.form-view__cell.form-view__cell--warning a{color:inherit;font-weight:bold;text-decoration:underline}.form-view__cell.form-view__cell--warning a:hover{text-decoration:none}.form-view__cell.form-view__cell--error{background-color:#f7d4d8;color:#ad1f32;border:1px solid #e84a5f;display:flex;flex-direction:row;align-items:center}.form-view__cell.form-view__cell--error i{color:#e84a5f;font-size:28px;margin-right:5px;margin-left:0px}.form-view__cell.form-view__cell--translation-modal-warning{margin-bottom:20px}.form-view__icon-button{overflow:visible;padding:0;height:32px;line-height:32px;min-height:32px}.form-view__icon-button>i{vertical-align:-0.34375em}.form-view__link{font-size:26px;line-height:18px;padding:0 5px;color:#565e76;cursor:pointer;vertical-align:middle;display:inline-block}.form-view__link:hover{color:#259af4}.form-view__link--disabled,.form-view__link--disabled:hover{color:#979fb4}@-webkit-keyframes recent{0%{background-color:#fff}10%{background-color:#86c7f9}100%{background-color:#e7f4fe}}@keyframes recent{0%{background-color:#fff}10%{background-color:#86c7f9}100%{background-color:#e7f4fe}}.form-view__group .dropzone{display:inline}.form-view__group.form-view__group--items{padding:0;border-top:1px solid #e7e9ee;display:flex;align-items:center}.form-view__group.form-view__group--items:first-child{border-top:none}.form-view__group.form-view__group--items>.form-view__label{text-align:right;width:30%;padding:10px;vertical-align:middle}.form-view__group.form-view__group--items>.form-view__label--version{width:39%;text-align:left}.form-view__group.form-view__group--items .form-view__link{opacity:.8}.form-view__group.form-view__group--items .form-view__link--export-download{opacity:.9;font-size:42px}.form-view__group.form-view__group--items .form-view__link--export-delete{opacity:.9;vertical-align:middle;color:#ed7887;font-size:24px}.form-view__group.form-view__group--items .form-view__link--export-delete:hover{color:#e84a5f;opacity:1}.form-view__group.form-view__group--items.recent{background-color:#e7f4fe;-webkit-animation:recent 5s 1;animation:recent 5s 1}.form-view__group .form-view__group--deployments .form-view__group--items:hover{background:#f3f4f6}.form-view__group .form-view__group--headings{font-weight:600;border-top:none}.form-view__group .form-view__group--headings:hover{background:transparent}.form-view--form-settings,.form-view--settings-sharing{background:#fff;padding:40px}.form-modal__form.form-modal__form--pending{pointer-events:none;opacity:.8}.form-view.form-view--form-settings-sharing .form-modal{background:#fff;padding:40px;height:100%;overflow:auto}.form-view.form-view--form-data-downloads .form-modal__item:last-child{margin-bottom:0}.form-view.form-view--form-data-downloads .form-modal__item--export-type,.form-view.form-view--form-data-downloads .form-modal__item--export-format{width:48%;float:left}.form-view.form-view--form-data-downloads .form-modal__item--export-format{margin-left:2%}.form-view.form-view--form-data-downloads .form-modal__item--export-fields-from-all-versions,.form-view.form-view--form-data-downloads .form-modal__item--export-group-headers,.form-view.form-view--form-data-downloads .form-modal__item--export-submit{clear:both}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label{text-align:left;padding:4px 10px}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--type{width:10%;text-transform:uppercase}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--action{flex-grow:1;text-align:right;line-height:40px}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--lang{flex-shrink:1}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__group--headings{padding:8px 0}.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__group--headings .form-view__label--type{text-transform:none}@media screen and (max-width: 980px){.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--date,.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--include-groups,.form-view.form-view--form-data-downloads .form-view__cell--exports-table .form-view__label--multi-versioned{display:none}}.form-view__cell--iframe{width:100%;height:100%;overflow:hidden}.form-view__cell--iframe iframe{width:100%;height:100%;overflow:auto;padding-right:5px}.form-modal__item--downloads iframe{min-width:100%;min-height:400px}.form-view__cell--collect-header .collect-link-missing{color:#b86614;display:block;line-height:24px}.form-view__cell--collect-header .collect-link-missing .k-icon,.form-view__cell--collect-header .collect-link-missing .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .form-view__cell--collect-header .collect-link-missing .ajs-close,.form-view__cell--collect-header .collect-link-missing .react-tagsinput-remove,.form-view__cell--collect-header .collect-link-missing .form-builder-header__button.form-builder-header__button--savepending>i,.form-view__cell--collect-header .collect-link-missing .form-builder-header__button.form-builder-header__button--create-pending>i,.form-view__cell--collect-header .collect-link-missing .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell--collect-header .collect-link-missing i{vertical-align:top;font-size:24px}.form-view__cell--collect-meta pre{display:block;margin:10px 0;padding:10px;border:1px solid #e7e9ee;background:#f3f4f6;font-size:13px;white-space:normal}.form-view__cell--collect-meta ol{margin:0;padding:0;margin-left:15px;margin-bottom:25px}.form-view__cell--collect-meta ol li{margin-bottom:5px;padding:5px}.form-view__cell--collect-meta ol .k-icon.k-icon-more-vertical,.form-view__cell--collect-meta ol .alertify-notifier .ajs-message .k-icon-more-vertical.ajs-close,.alertify-notifier .ajs-message .form-view__cell--collect-meta ol .k-icon-more-vertical.ajs-close,.form-view__cell--collect-meta ol .k-icon-more-vertical.react-tagsinput-remove,.form-view__cell--collect-meta ol .form-builder-header__button.form-builder-header__button--savepending>i.k-icon-more-vertical,.form-view__cell--collect-meta ol .form-builder-header__button.form-builder-header__button--create-pending>i.k-icon-more-vertical,.form-view__cell--collect-meta ol .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i.k-icon-more-vertical,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .form-view__cell--collect-meta ol i.k-icon-more-vertical{font-size:20px;display:inline-block;vertical-align:top}.form-view__cell--collect-meta code{padding:4px;border:1px solid #e7e9ee;background:#f3f4f6;margin-left:5px;margin-right:5px}.form-view__cell--collect-meta .form-view__cell{margin-top:25px}@media screen and (max-height: 420px){.form-view__sidetabs{padding-top:0}.form-view__sidetabs a.form-view__tab{padding-top:0;padding-bottom:0}}@media screen and (max-width: 767px){.form-view__sidetabs{width:50px}.form-view__sidetabs a.form-view__tab{padding-right:3px;padding-left:1px;font-size:10px;line-height:1.5em;text-align:center;display:block;letter-spacing:-0.05em}.form-view__sidetabs a.form-view__tab span{display:none}.form-view__toptabs{height:39px}.form-view__toptabs a.form-view__tab{font-size:12px}.form-view__sidetabs+.form-view{width:calc(100% - 50px);overflow-x:hidden}.form-view__toptabs+.form-view{height:calc(100% - 39px)}.form-view__row{margin:16px;margin-bottom:24px}.form-view__cell--question-list{margin-left:20px}.form-view--form-settings,.form-view--settings-sharing{padding:20px}.form-view__cell--warning i{display:none}.form-view__cell--date{display:block;margin-left:0}}.form-modal__form.form-modal__form--bulk-edit-submissions .form-modal__item--wrapper>a:hover{text-decoration:underline}.form-modal__form.form-modal__form--bulk-edit-submissions h2{font-size:inherit;font-weight:600;margin:0 auto 10px}.form-modal__form.form-modal__form--bulk-edit-submissions i.blue-response-dot{width:6px;height:6px;display:inline-block;vertical-align:middle;background:#259af4;border-radius:100%;margin-right:6px}.form-modal__form.form-modal__form--bulk-edit-submissions .text-box.text-box--bulk-edit-response .text-box__input{min-height:90px}.form-modal__form.form-modal__form--bulk-edit-submissions .modal__footer .footer-back-button{float:left}@media(min-width: 770px)and (max-width: 1020px),(max-width: 560px){.bulk-options{display:block !important}.bulk-options .bulk-options__buttons{margin-top:6px;text-align:center}.multi-checkbox{overflow-x:scroll !important}}.form-view--library-asset{background:#fff}@-webkit-keyframes processing{0%{opacity:1}25%{opacity:.6}50%{opacity:1}100%{opacity:1}}@keyframes processing{0%{opacity:1}25%{opacity:.6}50%{opacity:1}100%{opacity:1}}.project-downloads hr{display:block;width:100%;height:1px;background-color:#e7e9ee;margin:0;border:0}.project-downloads>.form-view__cell.form-view__cell--box:last-child{margin-bottom:40px}.project-downloads .project-downloads__selector-row{display:flex;align-items:center;margin-bottom:20px}.project-downloads .project-downloads__selector-row>*{width:33%}.project-downloads .project-downloads__selector-row>*:not(:last-child){margin-right:20px}.project-downloads .kobo-select .kobo-select__control{border:1px solid #e7e9ee}.project-downloads .text-box .text-box__input{padding:8px 16px}.project-downloads .text-box.text-box--group-separator{display:flex;flex-direction:row;align-items:center}.project-downloads .text-box.text-box--group-separator .text-box__input{flex:1;margin-left:10px}.project-downloads .text-box.text-box--group-separator.text-box--group-separator-disabled .text-box__label{opacity:.5}.project-downloads .text-box.text-box--group-separator,.project-downloads .text-box.text-box--custom-export{margin-left:28px;margin-top:4px}.project-downloads .text-box.text-box--custom-export{display:block}.project-downloads .project-downloads__text-button{border:0;margin:0;padding:0;background:none;display:inline-block;color:#259af4;cursor:pointer;font-weight:700}.project-downloads .project-downloads__text-button:hover{color:#0b81da}.project-downloads .project-downloads__text-button:active{transform:translateY(1px)}.project-downloads .project-downloads__text-button[disabled]{pointer-events:none;opacity:.5}.project-downloads .project-downloads__text-button .k-icon,.project-downloads .project-downloads__text-button .alertify-notifier .ajs-message .ajs-close,.alertify-notifier .ajs-message .project-downloads .project-downloads__text-button .ajs-close,.project-downloads .project-downloads__text-button .react-tagsinput-remove,.project-downloads .project-downloads__text-button .form-builder-header__button.form-builder-header__button--savepending>i,.project-downloads .project-downloads__text-button .form-builder-header__button.form-builder-header__button--create-pending>i,.project-downloads .project-downloads__text-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .project-downloads .project-downloads__text-button i{vertical-align:middle;margin-left:3px}.project-downloads .project-downloads__advanced-view{display:flex;align-items:stretch;flex-wrap:wrap;padding-top:12px}.project-downloads .project-downloads__title{margin-bottom:6px;display:inline-block}.project-downloads .project-downloads__column{margin-bottom:20px}.project-downloads .project-downloads__column.project-downloads__column--left{margin-right:20px;width:33%}.project-downloads .project-downloads__column.project-downloads__column--right{flex:1;position:relative}.project-downloads .project-downloads__column .project-downloads__column-row{display:block}.project-downloads .project-downloads__column .project-downloads__column-row:not(:last-child){margin-bottom:20px}.project-downloads .project-downloads__column .project-downloads__column-row.project-downloads__column-row--rows-selector-header{display:flex;flex-direction:row;align-items:center}.project-downloads .project-downloads__column .project-downloads__column-row.project-downloads__column-row--rows-selector-header .toggle-switch{flex:1}.project-downloads .project-downloads__column .project-downloads__column-row.project-downloads__column-row--rows-selector-header .project-downloads__vr{width:1px;height:1em;display:block;vertical-align:middle;margin:0 10px;background-color:#e7e9ee}.project-downloads .multi-checkbox{position:absolute;top:20px;left:0;right:0;bottom:0;margin-top:6px}.project-downloads .project-downloads__submit-row{display:flex;justify-content:space-between;align-items:flex-end;align-content:flex-end;margin-top:20px}.project-downloads .project-downloads__submit-row .project-downloads__exports-selector{width:33%;position:relative}.project-downloads .project-downloads__submit-row .project-downloads__delete-settings-button{border:0;padding:0;cursor:pointer;color:#e84a5f;display:inline-block;vertical-align:middle;background:transparent;font-size:24px;position:absolute;left:100%;margin-left:8px;bottom:0;height:38px;line-height:38px}.project-downloads .project-downloads__submit-row .project-downloads__delete-settings-button:hover{color:#ad1f32}.project-downloads .project-downloads__submit-row .project-downloads__delete-settings-button:active{transform:translateY(1px)}.project-downloads .project-downloads__anonymous-row{display:flex;align-items:flex-end;align-content:flex-end}.project-downloads .project-downloads__anonymous-row .project-downloads__exports-selector{width:33%;margin-right:20px}.project-downloads .form-view__cell.form-view__cell--warning{margin-bottom:20px}.project-downloads .project-downloads__legacy-iframe-wrapper iframe{width:100%;height:250px;border:1px solid #e7e9ee;border-radius:4px}.project-downloads .project-downloads__exports-creator.project-downloads__exports-creator--loading{opacity:.5;pointer-events:none}.project-downloads .simple-table.simple-table--project-exports .simple-table__row .simple-table__cell:last-child(){text-align:right}.project-downloads .simple-table.simple-table--project-exports .simple-table__row .simple-table__cell .kobo-light-button:not(:first-child){margin-left:5px}.project-downloads .animate-processing{-webkit-animation:processing 1.5s infinite;animation:processing 1.5s infinite}.service-row{display:flex;flex-direction:row;align-items:center;min-height:36px;box-sizing:content-box;line-height:18px;position:relative}.service-row:not(:last-of-type){border-bottom:1px solid #e7e9ee}.service-row:hover .service-row__action-button{position:relative;z-index:11}.service-row:not(.service-row--header):hover{background-color:#f3f4f6;color:#333847}.service-row.service-row--clickable{cursor:pointer}.service-row.service-row--header{font-weight:600;border-bottom-width:2px}.service-row.service-row--active{color:#565e76}.service-row.service-row--inactive{color:#979fb4}.service-row__link-overlay{position:absolute;z-index:10;top:0;left:0;right:0;bottom:0}.service-row__column{padding:9px}.service-row__column.service-row__column--name{flex:6}.service-row__column.service-row__column--count{flex:1;line-height:18px}.service-row__column.service-row__column--actions{min-width:72px;text-align:right;padding:0 9px;box-sizing:content-box;white-space:nowrap}.service-row__column.service-row__column--submission,.service-row__column.service-row__column--status{flex:1;padding:0 9px;line-height:36px;white-space:nowrap}.service-row__column.service-row__column--date{flex:1}.service-row__column.service-row__column--success{color:#565e76}.service-row__column.service-row__column--pending{color:#22b0c3}.service-row__column.service-row__column--failed{color:#e84a5f}.service-row__action-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;padding:0;width:36px;height:36px;font-size:24px;color:inherit;cursor:pointer;background:transparent;display:inline-block;vertical-align:top}.service-row__action-button i.k-icon,.service-row__action-button .alertify-notifier .ajs-message i.ajs-close,.alertify-notifier .ajs-message .service-row__action-button i.ajs-close,.service-row__action-button i.react-tagsinput-remove,.service-row__action-button .form-builder-header__button.form-builder-header__button--savepending>i,.service-row__action-button .form-builder-header__button.form-builder-header__button--create-pending>i,.service-row__action-button .asset-row .asset-row__action-icon.asset-row__action-icon--view-collection i,.asset-row .asset-row__action-icon.asset-row__action-icon--view-collection .service-row__action-button i{font-size:26px}.service-row__action-button[disabled]{opacity:.5;pointer-events:none}.service-row__action-button:hover{color:#259af4}.service-row-button{box-shadow:0 0 2px 0 rgba(51,56,71,.06),0 2px 2px 0 rgba(51,56,71,.12);border-radius:2px;margin-top:9px;width:100%;min-height:36px;box-sizing:content-box;line-height:18px;border:0;padding:0;text-transform:uppercase;cursor:pointer;color:#565e76}.service-row-button:hover{color:#333847}.service-row-button:active{transform:translateY(1px)}.service-row-button.service-row-button--loading{pointer-events:none;color:#565e76}.empty-content{text-align:center;padding:0 30px 30px}.empty-content__icon{display:block;font-size:180px;opacity:.25}.empty-content__title{font-weight:400;font-size:20px;margin:0}.empty-content__message{margin:1em 0 0}.empty-content__message+button{display:block;margin:2em auto 0}.simple-table{width:100%;border-spacing:0;border-collapse:collapse}.simple-table .simple-table__header .simple-table__row:nth-child(1) .simple-table__cell{background-color:#f3f4f6;border-bottom:2px solid #e7e9ee;font-weight:600}.simple-table .simple-table__body .simple-table__cell{border-bottom:1px solid #f3f4f6}.simple-table .simple-table__cell{padding:10px;background-color:#fff}.simple-table .simple-table__message-row .simple-table__cell{padding:20px;text-align:center}.background-audio-player{text-align:left}.background-audio-player .background-audio-player__label{display:block;margin-bottom:6px;font-weight:500;color:#333847}.background-audio-player .background-audio-player__audio{display:block}.kobo-dropzone{background:#f3f4f6;padding:30px;border:2px dashed #e7e9ee;cursor:pointer;border-radius:6px;text-align:center}.kobo-dropzone .dropzone-description{padding-top:6px;font-size:14px}.kobo-dropzone .dropzone-description a{text-decoration:underline}.kobo-dropzone i{display:block;margin:0 auto;font-size:32px;opacity:.5}.kobo-dropzone .loading{font-size:inherit}.kobo-dropzone .loading i{font-size:36px;margin-top:20px;margin-bottom:16px}.kobo-dropzone:hover{border-color:#259af4}.kobo-dropzone.dropzone-active{border-color:#259af4}.kobo-dropzone.dropzone-reject{border-color:#e84a5f}.kobo-dropzone--form-media{background:#fff;padding:40px;border:6px dashed #e7e9ee;font-size:18px;font-weight:500;color:#565e76}.card__kobomatrix{border:1px solid #979fb4;border-top:none}.survey__row--selected>.survey__row__item>.card__kobomatrix{border-color:#3da5f5;border-top:none}.kobomatrix{width:100%;padding:23px 50px 23px 20px;position:relative;background:#fff}.kobomatrix .matrix-items-new{margin:23px 0px;overflow:hidden;position:absolute;right:0px;top:0px;bottom:0px;width:50px;text-align:center;padding-top:10px}.kobomatrix .matrix-items-new i{font-size:18px;cursor:pointer}.kobomatrix .matrix-items-new i:hover{color:#259af4}.matrix-cols--header{display:flex;flex-wrap:nowrap;border-top:1px solid #e7e9ee;border-left:1px solid #e7e9ee}.matrix-cols--header .matrix-cols__col{flex-grow:1;flex-basis:0;padding:10px 20px;text-align:center;border-right:1px solid #e7e9ee;position:relative;padding-right:30px;vertical-align:middle;border-top:1px solid transparent;margin-bottom:-1px}.matrix-cols--header .matrix-cols__col.active{background:#f3f4f6;border-bottom:1px solid #f3f4f6}.matrix-cols--header .matrix-cols__col .matrix-cols__colattr--type{opacity:.3;display:none}.matrix-cols--header .matrix-cols__col i{font-size:20px;opacity:.75;position:absolute;right:8px;top:9px;vertical-align:middle;cursor:pointer}.matrix-cols--header .matrix-cols__col i:hover{color:#259af4}.matrix-cols__settings{width:100%;background:#f3f4f6;border:1px solid #e7e9ee;border-bottom:none;padding:15px;display:none}.matrix-cols__settings.expanded{display:block}.matrix-cols__settings_inner{text-align:left;width:500px;margin:0 auto;padding:0px 20px}.matrix-cols__settings_inner .checkbox{display:inline-block}.matrix-cols__settings_inner label{display:block;margin-bottom:10px}.matrix-cols__settings_inner label>span{display:inline-block;width:150px;vertical-align:middle}.matrix-cols__settings_inner label>.kobo-select,.matrix-cols__settings_inner label>input{width:310px;display:inline-block;vertical-align:middle}.matrix-cols__settings_inner label>input[type=text]{padding:4px 8px;border:1px solid #979fb4;border-radius:4px}.matrix-cols__settings_inner label>label{display:inline-block}.matrix-cols__settings_inner .matrix-cols__delete{width:100%;text-align:right;padding:10px 0px 10px}.matrix-cols__settings_inner .matrix-cols__delete span{color:#e84a5f;cursor:pointer}.matrix-cols__settings_inner .matrix-cols__delete i{font-size:20px;color:#e84a5f;cursor:pointer;vertical-align:-5px}.matrix-cols__options{background:#f3f4f6;border:1px solid #e7e9ee;padding:10px;margin:20px 0px;clear:both}.matrix-cols__options--row-head span,.matrix-cols__options--row span{width:44%;display:inline-block;margin:5px}.matrix-cols__options--row-head span input,.matrix-cols__options--row span input{padding:4px 8px;border-radius:4px;border:1px solid #e7e9ee}.matrix-cols__options--row-head span.matrix-options__value,.matrix-cols__options--row span.matrix-options__value{opacity:.75}.matrix-cols__options--row-head span.matrix-options__delete,.matrix-cols__options--row span.matrix-options__delete{width:5%;text-align:right;margin-right:0px}.matrix-cols__options--row-head span.matrix-options__delete i,.matrix-cols__options--row span.matrix-options__delete i{font-size:24px;color:#e84a5f;cursor:pointer}.matrix-cols__options--row-foot i{font-size:18px;cursor:pointer}.matrix-cols__options--row-foot i:hover{color:#259af4}.matrix-items__item .matrix-items__itemrow{display:flex;flex-wrap:nowrap}.matrix-items__item .matrix-items__itemattr,.matrix-items__item .matrix-cols__col{flex-grow:1;flex-basis:0;padding:5px;border-top:1px solid #e7e9ee;vertical-align:middle;position:relative}.matrix-items__item .matrix-cols__col{border-right:1px solid #e7e9ee;text-align:center}.matrix-items__item .matrix-items__itemattr{border-right:1px solid #e7e9ee;border-left:1px solid #e7e9ee;position:relative;line-height:28px}.matrix-items__item .matrix-items__itemattr label{margin-left:5px;width:calc(100% - 40px);display:inline-block}.matrix-items__item .matrix-items__itemattr i{font-size:20px;opacity:.75;position:absolute;right:4px;top:6px;vertical-align:middle;cursor:pointer}.matrix-items__item .matrix-items__itemattr i:hover{color:#259af4}.matrix-items__item--new{border-top:1px solid #e7e9ee}.matrix-items__item--new i{font-size:20px;margin:4px;opacity:.75;display:inline-block;cursor:pointer;color:#565e76}.matrix-items__item--new i:hover{color:#259af4}.matrix-items__item .matrix-items__itemsettings{width:100%;background:#f3f4f6;border:1px solid #e7e9ee;border-bottom:none;padding:15px;display:none}.matrix-items__item .matrix-items__itemsettings.expanded{display:block}.k-invisible{visibility:hidden}@media print{body{background:transparent !important;overflow:visible !important}body .kpiapp,body .mdl-wrapper,body .mdl-layout,body .ui-panel,body .ui-panel__body,body .mdl-layout__content,body .mdl-layout__content>div{height:auto !important;overflow:visible}body .mdl-layout{display:block;overflow:visible;max-width:auto}body .mdl-layout__content{display:block;margin-left:0px}.k-drawer,.mdl-layout__header{display:none}.form-view__reportButtons{display:none}.report-view__chart{padding-left:0px;padding-right:0px}a[href]:after,abbr[title]:after{content:\\\"\\\"}.form-view__row{display:block}.form-view__cell{width:auto}.report-view__chart{page-break-inside:avoid}.report-view__itemContent table{margin-left:0%;width:100%;page-break-inside:avoid}.report-view__item{-moz-column-break-inside:avoid;break-inside:avoid}thead{display:table-row-group}.form-view__sidetabs,.form-view__toptabs{display:none}.form-view__sidetabs+.report-view{width:100%}.modal__backdrop{position:static}.modal__backdrop .modal{width:100%;height:100%;max-width:none;box-shadow:none;border-radius:initial;position:static;top:auto;left:auto;transform:none;max-height:none}.page-wrapper.page-wrapper--is-modal-visible.page-wrapper--is-modal-submission .form-view.form-view--table{display:none}}@media only screen{.print-only{display:none}}\", \"\"]);\n\n// exports\n","module.exports = __webpack_public_path__ + \"roboto-latin-ext-100-normal.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-100-normal.woff\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-300-normal.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-300-normal.woff\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-300-italic.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-300-italic.woff\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-400-normal.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-400-normal.woff\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-400-italic.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-400-italic.woff\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-500-normal.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-500-normal.woff\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-500-italic.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-500-italic.woff\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-700-normal.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-700-normal.woff\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-700-italic.woff2\";","module.exports = __webpack_public_path__ + \"roboto-latin-ext-700-italic.woff\";","module.exports = __webpack_public_path__ + \"roboto-mono-latin-ext-400-normal.woff2\";","module.exports = __webpack_public_path__ + \"roboto-mono-latin-ext-400-normal.woff\";","module.exports = __webpack_public_path__ + \"roboto-mono-latin-ext-700-normal.woff2\";","module.exports = __webpack_public_path__ + \"roboto-mono-latin-ext-700-normal.woff\";","module.exports = __webpack_public_path__ + \"k-icons.1637612034176.woff2\";","module.exports = __webpack_public_path__ + \"k-icons.1637612034176.woff\";","module.exports = __webpack_public_path__ + \"k-icons.1637612034176.ttf\";","module.exports = __webpack_public_path__ + \"k-icons.1637612034176.eot\";","module.exports = __webpack_public_path__ + \"k-icons.1637612034176.svg\";","module.exports = __webpack_public_path__ + \"signup_photo.jpg\";","module.exports = __webpack_public_path__ + \"kobologo.svg\";","module.exports = __webpack_public_path__ + \"kobologoS.svg\";","/*\n a simple method to define a hierarchy of bem elements\n\n A simple way to create a react div using BEM classes:\n  <ul className=\"block\">\n    <li className=\"block__element block__element--modifier\"></li>\n  </ul>\n\n new way:\n  // define the react components in js:\n  const bem = bemComponents({\n    Buttons: 'buttons',             // <div> is implied\n    Block: ['block', 'ul'],         // Other tags (e.g. <ul>) can be specified\n    Block__el: ['block__el', 'li'],\n  })\n\n  // use them in jsx:\n  <bem.Block>\n    <bem.Block__element>\n      hello\n    </bem.Block__element>\n    <bem.Block__element m='modifier'>\n      world\n    </bem.Block__element>\n    <bem.Block__element className='arbitrary-classname'>\n      !\n    </bem.Block__element>\n  </bem.Block>\n\n  // equates to this jsx:\n\n  <ul className=\"block\">\n    <li className=\"block__element\">hello</li>\n    <li className=\"block__element block__element--modifier\">world</li>\n    <li className=\"block__element arbitrary-classname\">!</li>\n  </ul>\n\n*/\nimport React from 'react';\nimport classNames from 'classnames';\nimport assign from 'object-assign';\nimport PropTypes from 'prop-types';\n\nconst reactCreateBemElement = function(base, el='div'){\n  let elUnwrap;\n  if (el.match) {\n    elUnwrap = el.match(/\\<(\\w+)\\s?\\/?\\>/);\n    if (elUnwrap) {\n      el = elUnwrap[1];\n    }\n  }\n\n  let reduceModify = function (s, modifier){\n    if (Object.prototype.toString.call(modifier) === '[object Object]') {\n      Object.keys(modifier).forEach(function(key){\n        if (modifier[key]) {\n          s[`${base}--${key}`] = true;\n        }\n      });\n    } else if (modifier) {\n      s[`${base}--${modifier}`] = true;\n    }\n    return s;\n  };\n\n  class c extends React.Component {\n    render () {\n      let props = assign({}, this.props);\n\n      // allows modifiers to be a string, an array, or undefined (ignored)\n      let modifier = [].concat(props.m)\n                      .reduce(reduceModify, {});\n      delete props.m;\n\n      // builds the bem classNames, and allows additional classNames\n      // to be specified in an object (props.classNames) or normal string\n      props.className = classNames(base,\n                                    modifier,\n                                    props.classNames,\n                                    props.className);\n      delete props.classNames;\n\n      return React.createElement(el, props);\n    }\n  };\n  c.propTypes = {\n    m: PropTypes.any,\n    className: PropTypes.string,\n    classNames: PropTypes.any,\n  };\n  c.displayName = `BEM.${base}`;\n  return c;\n};\n\nexport function bemComponents (obj) {\n  let keys = Object.keys(obj);\n  return Object.freeze(keys.reduce(function(hsh, key){\n    let val = obj[key];\n    if (val instanceof Array) {\n      hsh[key] = reactCreateBemElement.apply(null, val);\n    } else {\n      hsh[key] = reactCreateBemElement(val);\n    }\n    return hsh;\n  }, {}));\n}\n","import _ from 'underscore';\nimport React from 'react';\nimport autoBind from 'react-autobind';\nimport { bemComponents } from 'js/libs/reactBemComponents';\nimport { sluggify, txtid } from '../../../xlform/src/model.utils';\nimport { Map } from 'immutable';\nimport Select from 'react-select';\nimport alertify from 'alertifyjs';\nimport Checkbox from 'js/components/common/checkbox';\n\nconst bem = bemComponents({\n  Matrix: 'kobomatrix',\n  MatrixCols: 'matrix-cols',\n  MatrixCols__col: 'matrix-cols__col',\n  MatrixCols__settings: 'matrix-cols__settings',\n  MatrixCols__settings_inner: 'matrix-cols__settings_inner',\n  MatrixCols__colattr: ['matrix-cols__colattr', '<span>'],\n  MatrixItems: ['matrix-items', '<ul>'],\n  MatrixItemsNewCol: ['matrix-items-new'],\n  MatrixItems__item: ['matrix-items__item', '<li>'],\n  MatrixItems__itemrow: ['matrix-items__itemrow'],\n  MatrixItems__itemattr: ['matrix-items__itemattr', '<span>'],\n  MatrixItems__itemsettings: ['matrix-items__itemsettings'],\n  MatrixButton: ['kobomatrix-button', '<button>'],\n});\n\nclass KoboMatrix extends React.Component {\n  constructor(props) {\n    super(props);\n    this._listDetails = {};\n\n    this.state = {\n      data: props.model.data,\n      kuid: props.model.kuid,\n      kobomatrix_list: props.model.kobomatrix_list,\n      expandedColKuid: false,\n      expandedRowKuid: false,\n      typeChoices: [\n        {\n          value: 'select_one',\n          label: t('Select One'),\n        },\n        {\n          value: 'select_many',\n          label: t('Select Many'),\n        },\n        {\n          value: 'text',\n          label: t('Text'),\n        },\n        {\n          value: 'integer',\n          label: t('Number'),\n        },\n      ],\n    };\n    autoBind(this);\n  }\n\n  componentDidMount() {\n    const data = this.state.data;\n    const kuid = this.state.kuid;\n    localStorage.setItem(`koboMatrix.${kuid}`, JSON.stringify(data.toJS()));\n\n    // generate cols/rows for a new matrix\n    if (data.get('cols').size < 1 && data.get('choices').size < 1) {\n      this.generateDefault();\n    }\n  }\n\n  generateDefault() {\n    // TODO: find a better way to do this\n    this.newColumn();\n      window.setTimeout(() => {\n        this.newColumn();\n        window.setTimeout(() => {\n          this.newChoiceOption(false);\n        }, 500);\n      }, 500);\n  }\n\n  expandColumn(colKuid) {\n    if (this.state.expandedColKuid === colKuid) {\n      this.setState({expandedColKuid: false});\n    } else {\n      this.setState({expandedColKuid: colKuid, expandedRowKuid: false});\n    }\n  }\n\n  expandRow(rowKuid) {\n    if (this.state.expandedRowKuid === rowKuid) {\n      this.setState({expandedRowKuid: false});\n    } else {\n      this.setState({expandedRowKuid: rowKuid, expandedColKuid: false});\n    }\n  }\n\n  /**\n   * @param {string} val\n   * @param {string} type\n   * @param {string} [ln]\n   */\n  autoName(val, type, ln) {\n    var names = [];\n    var data = this.state.data;\n\n    if (type === 'column') {\n      data.get('cols').forEach((ch) => {\n        names.push(data.getIn([ch, '$autoname']));\n      });\n    } else {\n      data.get('choices').forEach((ch) => {\n        if (ch.get('list_name') === ln) {\n          names.push(ch.get('$autovalue'));\n        }\n      });\n    }\n\n    return sluggify(val, {\n      preventDuplicates: names,\n      lowerCase: true,\n      lrstrip: true,\n      preventDuplicateUnderscores: true,\n      characterLimit: 40,\n      incrementorPadding: false,\n      validXmlTag: false,\n      replaceNonWordCharacters: true,\n    });\n  }\n\n  /**\n   * Here we save the input raw value, and it will be fixed either after some\n   * short time not typing, or when blur happens.\n   * @param {string} type\n   * @param {Event} evt\n   */\n  onRowChange(type, evt) {\n    const rowKuid = this.state.expandedRowKuid;\n    const val = evt.target.value;\n\n    this.setRow(this.state.expandedRowKuid, type, val);\n    clearTimeout(this.typingTimer);\n    this.typingTimer = setTimeout(\n      this.setRow.bind(\n        this,\n        rowKuid,\n        type,\n        val,\n        true\n      ),\n      1500\n    );\n  }\n\n  /**\n   * Here we save a cleaned up value.\n   * @param {string} type\n   * @param {Event} evt\n   */\n  onRowBlur(type, evt) {\n    this.setRow(this.state.expandedRowKuid, type, evt.target.value, true);\n    clearTimeout(this.typingTimer);\n  }\n\n  /**\n   * @param {string} rowKuid\n   * @param {string} type\n   * @param {string} value\n   * @param {boolean} [applyAutoName=false]\n   */\n  setRow(rowKuid, type, value, applyAutoName = false) {\n    var data = this.state.data;\n    let newValue = value;\n\n    if (type === 'label') {\n      data = data.setIn(['choices', rowKuid, type], value);\n    }\n\n    if (type === 'name') {\n      if (applyAutoName) {\n        newValue = this.autoName(newValue, false, this.state.kobomatrix_list);\n      }\n      data = data.setIn(['choices', rowKuid, 'name'], newValue);\n      data = data.setIn(['choices', rowKuid, '$autovalue'], newValue);\n    }\n\n    this.setState({data: data});\n    this.toLocalStorage(data);\n  }\n\n  /**\n   * Here we save the input raw value, and it will be fixed either after some\n   * short time not typing, or when blur happens.\n   * @param {string} type\n   * @param {Event} evt\n   */\n  onColumnChange(type, evt) {\n    const colKuid = this.state.expandedColKuid;\n    const val = evt.target.value;\n\n    this.setColumn(colKuid, type, val);\n    clearTimeout(this.typingTimer);\n    this.typingTimer = setTimeout(\n      this.setColumn.bind(\n        this,\n        colKuid,\n        type,\n        val,\n        true\n      ),\n      1500\n    );\n  }\n\n  /**\n   * Here we save a cleaned up value.\n   * @param {string} type\n   * @param {Event} evt\n   */\n  onColumnBlur(type, evt) {\n    this.setColumn(this.state.expandedColKuid, type, evt.target.value, true);\n    clearTimeout(this.typingTimer);\n  }\n\n  /**\n   * @param {string} colKuid\n   * @param {string} type\n   * @param {string} value\n   * @param {boolean} [applyAutoName=false]\n   */\n  setColumn(colKuid, type, value, applyAutoName = false) {\n    let data = this.state.data;\n    let newValue = value;\n\n    if (applyAutoName && type === 'name') {\n      newValue = this.autoName(newValue, 'column');\n    }\n\n    data = data.setIn([colKuid, type], newValue);\n\n    this.setState({data: data});\n    this.toLocalStorage(data);\n  }\n\n  requiredChange(isChecked) {\n    const colKuid = this.state.expandedColKuid;\n    var data = this.state.data;\n    data = data.setIn([colKuid, 'required'], isChecked);\n    this.setState({data: data});\n    this.toLocalStorage(data);\n  }\n\n  colChangeType(e) {\n    const colKuid = this.state.expandedColKuid;\n    var data = this.state.data;\n    const newType = e.value;\n    const prevType = data.getIn([colKuid, 'type']);\n    var _this = this;\n\n    // warn only if existing column type is one of (Select One, Select Many)\n    // and new type is NOT one of (Select One, Select Many)\n    if (['select_one', 'select_many'].includes(prevType) && !['select_one', 'select_many'].includes(newType)) {\n      let dialog = alertify.dialog('confirm');\n      let opts = {\n        title: t('Change column type?'),\n        message: t('Are you sure you want to change the type? This action is irreversible, your existing option choices will be erased.'),\n        labels: {ok: t('Change type'), cancel: t('Cancel')},\n        onok: () => {\n          data = data.setIn([colKuid, 'type'], newType);\n          data = data.deleteIn([colKuid, 'select_from_list_name']);\n          _this.setState({data: data});\n          _this.toLocalStorage(data);\n        },\n        oncancel: dialog.destroy,\n      };\n      dialog.set(opts).show();\n    } else {\n      data = data.setIn([colKuid, 'type'], newType);\n      const prevListName = data.getIn([colKuid, 'select_from_list_name']);\n      if (['select_one', 'select_many'].includes(newType) && prevListName === undefined) {\n        const newListId = txtid();\n        data = _this._addDefaultList(data, newListId);\n        data = data.setIn([colKuid, 'select_from_list_name'], newListId);\n      }\n      _this.setState({data: data});\n      _this.toLocalStorage(data);\n    }\n  }\n\n  _addDefaultList(data, newListId) {\n    const choice1kuid = txtid();\n    const val1 = this.autoName(t('Option 1'), false, newListId);\n\n    const choice1 = Map({\n        label: t('Option 1'),\n        $autovalue: val1,\n        name: val1,\n        $kuid: choice1kuid,\n        list_name: newListId,\n      });\n    data = data.setIn(['choices', choice1kuid], choice1);\n\n    const val2 = this.autoName(t('Option 2'), false, newListId);\n    const choice2kuid = txtid();\n    const choice2 = Map({\n        label: t('Option 2'),\n        $autovalue: val2,\n        name: val2,\n        $kuid: choice2kuid,\n        list_name: newListId,\n      });\n    data = data.setIn(['choices', choice2kuid], choice2);\n    return data;\n  }\n\n  choiceChange(e) {\n    const kuid = e.target.getAttribute('data-kuid');\n    const type = e.target.getAttribute('data-type');\n    var data = this.state.data;\n    var val = e.target.value;\n\n    if (type === 'label') {\n      data = data.setIn(['choices', kuid, type], val);\n    }\n\n    if (type === 'name') {\n      val = this.autoName(val, false, kuid);\n      data = data.setIn(['choices', kuid, 'name'], val);\n      data = data.setIn(['choices', kuid, '$autovalue'], val);\n    }\n\n    this.setState({data: data});\n    this.toLocalStorage(data);\n  }\n\n  getCol(colKuid, field) {\n    return this.state.data.getIn([colKuid, field]);\n  }\n\n  getSelectTypeVal(expandedCol) {\n    const typeVal = this.getCol(expandedCol, 'type');\n    return _.find(this.state.typeChoices, (option) => option.value === typeVal);\n  }\n\n  getChoiceField(kuid, field) {\n    return this.state.data.getIn(['choices', kuid, field]);\n  }\n\n  getRequiredStatus(colKuid) {\n    const val = this.state.data.getIn([colKuid, 'required']);\n    return val === true || val === 'true' ? true : false;\n  }\n\n  newChoiceOption(e) {\n    let data = this.state.data;\n    let listName = null;\n    if (e && e.target) {\n      listName = e.target.getAttribute('data-list-name');\n    } else {\n      listName = this.state.kobomatrix_list;\n    }\n\n    const val = this.autoName(t('Row'), false, listName);\n    const newRowKuid = txtid();\n    const newRow = Map({\n      label: t('Row'),\n      $autovalue: val,\n      name: val,\n      $kuid: newRowKuid,\n      list_name: listName,\n    });\n\n    data = data.setIn(['choices', newRowKuid], newRow);\n    this.setState({data: data});\n    this.toLocalStorage(data);\n  }\n\n  newColumn() {\n    var data = this.state.data;\n    const newColKuid = txtid();\n    const cname = this.autoName(t('Column'), 'column');\n    const newCol = Map({\n      $autoname: cname,\n      $kuid: newColKuid,\n      appearance: 'w1',\n      constraint: '',\n      constraint_message: '',\n      default: '',\n      hint: '',\n      label: t('Column'),\n      name: cname,\n      relevant: '',\n      required: 'false',\n      type: 'text',\n    });\n\n    data = data.set(newColKuid, newCol);\n    data = data.update('cols', (list) => list.push(newColKuid));\n\n    this.setState({data: data});\n    this.toLocalStorage(data);\n  }\n\n  deleteRow(e) {\n    const rowKuid = e.target.getAttribute('data-kuid');\n    var _this = this;\n    let dialog = alertify.dialog('confirm');\n    let opts = {\n      title: t('Delete row?'),\n      message: t('Are you sure you want to delete this row? This action cannot be undone.'),\n      labels: {ok: t('Delete'), cancel: t('Cancel')},\n      onok: () => {\n        const data = _this.state.data.deleteIn(['choices', rowKuid]);\n        _this.setState({data: data});\n        _this.toLocalStorage(data);\n      },\n      oncancel: dialog.destroy,\n    };\n    dialog.set(opts).show();\n  }\n\n  deleteColumn() {\n    const colKuid = this.state.expandedColKuid;\n    var data = this.state.data;\n    var _this = this;\n    let dialog = alertify.dialog('confirm');\n    let opts = {\n      title: t('Delete column?'),\n      message: t('Are you sure you want to delete this column? This action cannot be undone.'),\n      labels: {ok: t('Delete'), cancel: t('Cancel')},\n      onok: () => {\n        data = data.update('cols', (cols) => cols.filterNot((col) => col === colKuid));\n        _this.setState({data: data, expandedColKuid: false});\n        _this.toLocalStorage(data);\n      },\n      oncancel: dialog.destroy,\n    };\n    dialog.set(opts).show();\n  }\n\n  toLocalStorage(data) {\n    const dataJS = data.toJS();\n    localStorage.setItem(`koboMatrix.${this.state.kuid}`, JSON.stringify(dataJS));\n  }\n\n  getListDetails(listName) {\n    const list = this.state.data.get('choices');\n    var _list = [];\n\n    list.forEach((item) => {\n      if (item.get('list_name') === listName) {\n        _list.push(item.toJS());\n      }\n    });\n\n    return _list;\n  }\n\n  render() {\n    const data = this.state.data;\n    const cols = data.get('cols');\n    const choices = data.get('choices').toArray();\n    const expandedCol = this.state.expandedColKuid;\n    const expandedRow = this.state.expandedRowKuid;\n    var _this = this;\n\n    var items = this.getListDetails(this.state.kobomatrix_list);\n\n    return (\n      <bem.Matrix>\n        <bem.MatrixCols m={'header'}>\n          <bem.MatrixCols__col m={'label'} key={'label'}/>\n          {\n            cols.map((colKuid, n) => {\n              let col = data.get(colKuid);\n              return (\n                  <bem.MatrixCols__col key={n} m={'header'}\n                    className={expandedCol === colKuid ? 'active' : ''}>\n                    <bem.MatrixCols__colattr m={'label'}>\n                      {col.get('label')}\n                    </bem.MatrixCols__colattr>\n                    <bem.MatrixCols__colattr m={'type'}>\n                      {col.get('type')}\n                    </bem.MatrixCols__colattr>\n                    <i className='k-icon k-icon-settings' onClick={_this.expandColumn.bind(this, colKuid)} />\n                  </bem.MatrixCols__col>\n                );\n            })\n          }\n        </bem.MatrixCols>\n        <bem.MatrixCols__settings className={expandedCol ? 'expanded' : ''}>\n          { expandedCol &&\n            <bem.MatrixCols__settings_inner>\n              <label>\n                <span>{t('Response Type')}</span>\n                <Select\n                  value={this.getSelectTypeVal(expandedCol)}\n                  isClearable={false}\n                  options={this.state.typeChoices}\n                  onChange={this.colChangeType}\n                  className='kobo-select'\n                  classNamePrefix='kobo-select'\n                  menuPlacement='auto'\n                  isSearchable={false}\n                />\n              </label>\n              <label>\n                <span>{t('Label')}</span>\n                <input\n                  type='text'\n                  value={this.getCol(expandedCol, 'label')}\n                  onChange={this.onColumnChange.bind(this, 'label')}\n                  onBlur={this.onColumnBlur.bind(this, 'label')}\n                  className='js-cancel-sort'\n                />\n              </label>\n              <label>\n                <span>{t('Data Column Suffix')}</span>\n                <input\n                  type='text'\n                  value={this.getCol(expandedCol, 'name')}\n                  onChange={this.onColumnChange.bind(this, 'name')}\n                  onBlur={this.onColumnBlur.bind(this, 'name')}\n                  className='js-cancel-sort'\n                />\n              </label>\n              <label>\n                <span>{t('Required')}</span>\n                <Checkbox\n                  checked={this.getRequiredStatus(expandedCol)}\n                  onChange={this.requiredChange}\n                  className='js-cancel-sort'\n                />\n              </label>\n              {this.getCol(expandedCol, 'select_from_list_name') &&\n                <div className='matrix-cols__options'>\n                  <div className='matrix-cols__options--row-head'>\n                    <span>{t('Label')}</span>\n                    <span>{t('Data Column Name')}</span>\n                  </div>\n                  {\n                    choices.map((choice) => {\n                      if (choice.get('list_name') === this.getCol(expandedCol, 'select_from_list_name')) {\n                        let ch = choice.get('$kuid');\n                        return (\n                          <div className='matrix-cols__options--row' key={ch}>\n                            <span>\n                              <input type='text' value={_this.getChoiceField(ch, 'label')}\n                                onChange={_this.choiceChange} className='js-cancel-sort'\n                                data-type='label' data-kuid={ch} />\n                            </span>\n                            <span className='matrix-options__value'>\n                              <input type='text' value={_this.getChoiceField(ch, 'name')}\n                                onChange={_this.choiceChange} className='js-cancel-sort'\n                                data-type='name' data-kuid={ch} />\n                            </span>\n                            <span className='matrix-options__delete'>\n                              <i className='k-icon k-icon-trash' onClick={_this.deleteRow} data-kuid={ch} />\n                            </span>\n                          </div>\n                        );\n                      }\n                    })\n                  }\n                  <div className='matrix-cols__options--row-foot'>\n                    <i className='k-icon k-icon-plus' onClick={this.newChoiceOption} data-list-name={this.getCol(expandedCol, 'select_from_list_name')}/>\n                  </div>\n\n                </div>\n              }\n              <div className='matrix-cols__delete'>\n                <span className='matrix-cols__delete-action' onClick={_this.deleteColumn}>{t('Delete column')} <i className='k-icon k-icon-trash' /></span>\n              </div>\n            </bem.MatrixCols__settings_inner>\n          }\n        </bem.MatrixCols__settings>\n        <bem.MatrixItems>\n          {items.map((item, n) => (\n            <bem.MatrixItems__item key={n}>\n              <bem.MatrixItems__itemrow>\n                <bem.MatrixItems__itemattr m={'label'}>\n                  <label>{item.label}</label>\n                  <i className='k-icon k-icon-settings' onClick={_this.expandRow.bind(this, item.$kuid)} />\n                </bem.MatrixItems__itemattr>\n                {\n                  cols.map((colKuid) => {\n                    const col = data.get(colKuid);\n                    const _listName = col.get('select_from_list_name');\n                    let _isUnderscores = false;\n                    let contents = [];\n\n                    if (_listName) {\n                      let list = _this.getListDetails(_listName);\n                      let listStyleChar = '🔘';\n                      list.forEach((item) => {\n                        contents.push(`${listStyleChar} ${item.label}`);\n                      });\n                    } else {\n                      _isUnderscores = true;\n                      contents = ['_________'];\n                    }\n                    return (\n                      <bem.MatrixCols__col key={colKuid} m={{\n                        list: !!_listName,\n                        underscores: _isUnderscores,\n                      }}>\n                        {contents.join(' ')}\n                      </bem.MatrixCols__col>\n                    );\n                  })\n                }\n              </bem.MatrixItems__itemrow>\n              <bem.MatrixItems__itemsettings className={expandedRow === item.$kuid ? 'expanded' : ''}>\n                { expandedRow &&\n                  <bem.MatrixCols__settings_inner>\n                    <label>\n                      <span>{t('Label')}</span>\n                      <input\n                        type='text'\n                        value={item.label}\n                        onChange={_this.onRowChange.bind(this, 'label')}\n                        className='js-cancel-sort'\n                      />\n                    </label>\n                    <label>\n                      <span>{t('Data Column Prefix')}</span>\n                      <input\n                        type='text'\n                        value={item.name}\n                        onChange={_this.onRowChange.bind(this, 'name')}\n                        className='js-cancel-sort'\n                      />\n                    </label>\n                    <div className='matrix-cols__delete'>\n                      <span className='matrix-cols__delete-action' onClick={_this.deleteRow} data-kuid={item.$kuid}>\n                        {t('Delete row')} <i className='k-icon k-icon-trash' />\n                      </span>\n                    </div>\n                  </bem.MatrixCols__settings_inner>\n                }\n              </bem.MatrixItems__itemsettings>\n            </bem.MatrixItems__item>\n          ))}\n          <bem.MatrixItems__item key={'new'} m={'new'}>\n            <i className='k-icon k-icon-plus' onClick={this.newChoiceOption} data-list-name={this.state.kobomatrix_list}/>\n          </bem.MatrixItems__item>\n        </bem.MatrixItems>\n        <bem.MatrixItemsNewCol>\n          <i className='k-icon k-icon-plus' onClick={this.newColumn} />\n        </bem.MatrixItemsNewCol>\n      </bem.Matrix>\n    );\n  }\n}\n\nexport default KoboMatrix;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport KoboMatrix from './containers/KoboMatrix';\nimport { fromJS } from 'immutable';\n\n/*\nInitially, this KoboMatrixRow class will be an intermediary between\nthe react interface and the backbone `model.row` code.\n*/\nclass KoboMatrixRow {\n  constructor (model) {\n    let obj2 = {};\n    const _o = model;\n    obj2.label = _o.getValue('label');\n    var choices = {};\n\n    Object.keys(_o.items).forEach(function(key) {\n      if (_o.items[key] && _o.items[key].options) {\n        _o.items[key].options.map(( item ) => {\n          const { $kuid } = item.attributes;\n          item.attributes.list_name = key;\n          choices[$kuid] = item.attributes;\n        });\n      }\n    });\n\n    obj2.cols = _o._kobomatrix_cols().map(( item ) => {\n      const _type = item.get('type').get('typeId');\n      const attrs = Object.assign(item.toJSON(), {\n        type: _type,\n      });\n      const { $kuid } = attrs;\n      obj2[$kuid] = attrs;\n      return $kuid;\n    });\n\n    const _b = _o.toJSON();\n    this.kobomatrix_list = _b['kobo--matrix_list'];\n    this.data = fromJS(obj2);\n    var _c = fromJS(choices);\n    this.data = this.data.set('choices', _c.toOrderedMap());\n    this.kuid = _b.$kuid;\n  }\n}\n\nexport function renderKobomatrix (view, el) {\n  let model = new KoboMatrixRow(view.model);\n  ReactDOM.render(<KoboMatrix model={model} />, el.get(0));\n}\n"],"sourceRoot":""}